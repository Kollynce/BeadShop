(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ln(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const Ke={},Ro=[],or=()=>{},Ma=()=>!1,Xi=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Rp=t=>t.startsWith("onUpdate:"),Qe=Object.assign,Np=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},oI=Object.prototype.hasOwnProperty,ct=(t,e)=>oI.call(t,e),we=Array.isArray,No=t=>aa(t)==="[object Map]",Zi=t=>aa(t)==="[object Set]",C0=t=>aa(t)==="[object Date]",aI=t=>aa(t)==="[object RegExp]",De=t=>typeof t=="function",qe=t=>typeof t=="string",Qr=t=>typeof t=="symbol",yt=t=>t!==null&&typeof t=="object",$p=t=>(yt(t)||De(t))&&De(t.then)&&De(t.catch),t1=Object.prototype.toString,aa=t=>t1.call(t),lI=t=>aa(t).slice(8,-1),id=t=>aa(t)==="[object Object]",Op=t=>qe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Gs=ln(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cI=ln("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),od=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},uI=/-(\w)/g,It=od(t=>t.replace(uI,(e,r)=>r?r.toUpperCase():"")),dI=/\B([A-Z])/g,zr=od(t=>t.replace(dI,"-$1").toLowerCase()),eo=od(t=>t.charAt(0).toUpperCase()+t.slice(1)),$o=od(t=>t?`on${eo(t)}`:""),Vr=(t,e)=>!Object.is(t,e),Oo=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},r1=(t,e,r,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:r})},mu=t=>{const e=parseFloat(t);return isNaN(e)?t:e},gu=t=>{const e=qe(t)?Number(t):NaN;return isNaN(e)?t:e};let P0;const ad=()=>P0||(P0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function hI(t,e){return t+JSON.stringify(e,(r,n)=>typeof n=="function"?n.toString():n)}const fI="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",pI=ln(fI);function Ct(t){if(we(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],s=qe(n)?n1(n):Ct(n);if(s)for(const i in s)e[i]=s[i]}return e}else if(qe(t)||yt(t))return t}const mI=/;(?![^(]*\))/g,gI=/:([^]+)/,yI=/\/\*[^]*?\*\//g;function n1(t){const e={};return t.replace(yI,"").split(mI).forEach(r=>{if(r){const n=r.split(gI);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Ie(t){let e="";if(qe(t))e=t;else if(we(t))for(let r=0;r<t.length;r++){const n=Ie(t[r]);n&&(e+=n+" ")}else if(yt(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}function vI(t){if(!t)return null;let{class:e,style:r}=t;return e&&!qe(e)&&(t.class=Ie(e)),r&&(t.style=Ct(r)),t}const bI="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",xI="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",_I="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",kI="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",wI=ln(bI),EI=ln(xI),II=ln(_I),TI=ln(kI),AI="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",SI=ln(AI);function s1(t){return!!t||t===""}function CI(t,e){if(t.length!==e.length)return!1;let r=!0;for(let n=0;r&&n<t.length;n++)r=ri(t[n],e[n]);return r}function ri(t,e){if(t===e)return!0;let r=C0(t),n=C0(e);if(r||n)return r&&n?t.getTime()===e.getTime():!1;if(r=Qr(t),n=Qr(e),r||n)return t===e;if(r=we(t),n=we(e),r||n)return r&&n?CI(t,e):!1;if(r=yt(t),n=yt(e),r||n){if(!r||!n)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),c=e.hasOwnProperty(o);if(a&&!c||!a&&c||!ri(t[o],e[o]))return!1}}return String(t)===String(e)}function ld(t,e){return t.findIndex(r=>ri(r,e))}const i1=t=>!!(t&&t.__v_isRef===!0),H=t=>qe(t)?t:t==null?"":we(t)||yt(t)&&(t.toString===t1||!De(t.toString))?i1(t)?H(t.value):JSON.stringify(t,o1,2):String(t),o1=(t,e)=>i1(e)?o1(t,e.value):No(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,s],i)=>(r[Ch(n,i)+" =>"]=s,r),{})}:Zi(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>Ch(r))}:Qr(e)?Ch(e):yt(e)&&!we(e)&&!id(e)?String(e):e,Ch=(t,e="")=>{var r;return Qr(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Mr;class Dp{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Mr,!e&&Mr&&(this.index=(Mr.scopes||(Mr.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=Mr;try{return Mr=this,e()}finally{Mr=r}}}on(){Mr=this}off(){Mr=this.parent}stop(e){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Mp(t){return new Dp(t)}function Vp(){return Mr}function a1(t,e=!1){Mr&&Mr.cleanups.push(t)}let kt;const Ph=new WeakSet;class cl{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Mr&&Mr.active&&Mr.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ph.has(this)&&(Ph.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||c1(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,R0(this),u1(this);const e=kt,r=An;kt=this,An=!0;try{return this.fn()}finally{d1(this),kt=e,An=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Up(e);this.deps=this.depsTail=void 0,R0(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ph.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){yf(this)&&this.run()}get dirty(){return yf(this)}}let l1=0,Ka,Ga;function c1(t,e=!1){if(t.flags|=8,e){t.next=Ga,Ga=t;return}t.next=Ka,Ka=t}function Lp(){l1++}function Fp(){if(--l1>0)return;if(Ga){let e=Ga;for(Ga=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;Ka;){let e=Ka;for(Ka=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=r}}if(t)throw t}function u1(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function d1(t){let e,r=t.depsTail,n=r;for(;n;){const s=n.prevDep;n.version===-1?(n===r&&(r=s),Up(n),PI(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=s}t.deps=e,t.depsTail=r}function yf(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(h1(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function h1(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===ul))return;t.globalVersion=ul;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!yf(t)){t.flags&=-3;return}const r=kt,n=An;kt=t,An=!0;try{u1(t);const s=t.fn(t._value);(e.version===0||Vr(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{kt=r,An=n,d1(t),t.flags&=-3}}function Up(t,e=!1){const{dep:r,prevSub:n,nextSub:s}=t;if(n&&(n.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=n,t.nextSub=void 0),r.subs===t&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let i=r.computed.deps;i;i=i.nextDep)Up(i,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function PI(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}function RI(t,e){t.effect instanceof cl&&(t=t.effect.fn);const r=new cl(t);e&&Qe(r,e);try{r.run()}catch(s){throw r.stop(),s}const n=r.run.bind(r);return n.effect=r,n}function NI(t){t.effect.stop()}let An=!0;const f1=[];function li(){f1.push(An),An=!1}function ci(){const t=f1.pop();An=t===void 0?!0:t}function R0(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=kt;kt=void 0;try{e()}finally{kt=r}}}let ul=0;class $I{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class cd{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!kt||!An||kt===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==kt)r=this.activeLink=new $I(kt,this),kt.deps?(r.prevDep=kt.depsTail,kt.depsTail.nextDep=r,kt.depsTail=r):kt.deps=kt.depsTail=r,p1(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=kt.depsTail,r.nextDep=void 0,kt.depsTail.nextDep=r,kt.depsTail=r,kt.deps===r&&(kt.deps=n)}return r}trigger(e){this.version++,ul++,this.notify(e)}notify(e){Lp();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{Fp()}}}function p1(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)p1(n)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const yu=new WeakMap,Ni=Symbol(""),vf=Symbol(""),dl=Symbol("");function wr(t,e,r){if(An&&kt){let n=yu.get(t);n||yu.set(t,n=new Map);let s=n.get(r);s||(n.set(r,s=new cd),s.map=n,s.key=r),s.track()}}function es(t,e,r,n,s,i){const o=yu.get(t);if(!o){ul++;return}const a=c=>{c&&c.trigger()};if(Lp(),e==="clear")o.forEach(a);else{const c=we(t),d=c&&Op(r);if(c&&r==="length"){const h=Number(n);o.forEach((f,p)=>{(p==="length"||p===dl||!Qr(p)&&p>=h)&&a(f)})}else switch((r!==void 0||o.has(void 0))&&a(o.get(r)),d&&a(o.get(dl)),e){case"add":c?d&&a(o.get("length")):(a(o.get(Ni)),No(t)&&a(o.get(vf)));break;case"delete":c||(a(o.get(Ni)),No(t)&&a(o.get(vf)));break;case"set":No(t)&&a(o.get(Ni));break}}Fp()}function OI(t,e){const r=yu.get(t);return r&&r.get(e)}function mo(t){const e=We(t);return e===t?e:(wr(e,"iterate",dl),sn(t)?e:e.map(Er))}function ud(t){return wr(t=We(t),"iterate",dl),t}const DI={__proto__:null,[Symbol.iterator](){return Rh(this,Symbol.iterator,Er)},concat(...t){return mo(this).concat(...t.map(e=>we(e)?mo(e):e))},entries(){return Rh(this,"entries",t=>(t[1]=Er(t[1]),t))},every(t,e){return Gn(this,"every",t,e,void 0,arguments)},filter(t,e){return Gn(this,"filter",t,e,r=>r.map(Er),arguments)},find(t,e){return Gn(this,"find",t,e,Er,arguments)},findIndex(t,e){return Gn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Gn(this,"findLast",t,e,Er,arguments)},findLastIndex(t,e){return Gn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Gn(this,"forEach",t,e,void 0,arguments)},includes(...t){return Nh(this,"includes",t)},indexOf(...t){return Nh(this,"indexOf",t)},join(t){return mo(this).join(t)},lastIndexOf(...t){return Nh(this,"lastIndexOf",t)},map(t,e){return Gn(this,"map",t,e,void 0,arguments)},pop(){return Aa(this,"pop")},push(...t){return Aa(this,"push",t)},reduce(t,...e){return N0(this,"reduce",t,e)},reduceRight(t,...e){return N0(this,"reduceRight",t,e)},shift(){return Aa(this,"shift")},some(t,e){return Gn(this,"some",t,e,void 0,arguments)},splice(...t){return Aa(this,"splice",t)},toReversed(){return mo(this).toReversed()},toSorted(t){return mo(this).toSorted(t)},toSpliced(...t){return mo(this).toSpliced(...t)},unshift(...t){return Aa(this,"unshift",t)},values(){return Rh(this,"values",Er)}};function Rh(t,e,r){const n=ud(t),s=n[e]();return n!==t&&!sn(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=r(i.value)),i}),s}const MI=Array.prototype;function Gn(t,e,r,n,s,i){const o=ud(t),a=o!==t&&!sn(t),c=o[e];if(c!==MI[e]){const f=c.apply(t,i);return a?Er(f):f}let d=r;o!==t&&(a?d=function(f,p){return r.call(this,Er(f),p,t)}:r.length>2&&(d=function(f,p){return r.call(this,f,p,t)}));const h=c.call(o,d,n);return a&&s?s(h):h}function N0(t,e,r,n){const s=ud(t);let i=r;return s!==t&&(sn(t)?r.length>3&&(i=function(o,a,c){return r.call(this,o,a,c,t)}):i=function(o,a,c){return r.call(this,o,Er(a),c,t)}),s[e](i,...n)}function Nh(t,e,r){const n=We(t);wr(n,"iterate",dl);const s=n[e](...r);return(s===-1||s===!1)&&fd(r[0])?(r[0]=We(r[0]),n[e](...r)):s}function Aa(t,e,r=[]){li(),Lp();const n=We(t)[e].apply(t,r);return Fp(),ci(),n}const VI=ln("__proto__,__v_isRef,__isVue"),m1=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Qr));function LI(t){Qr(t)||(t=String(t));const e=We(this);return wr(e,"has",t),e.hasOwnProperty(t)}class g1{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,n){if(r==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(r==="__v_isReactive")return!s;if(r==="__v_isReadonly")return s;if(r==="__v_isShallow")return i;if(r==="__v_raw")return n===(s?i?k1:_1:i?x1:b1).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=we(e);if(!s){let c;if(o&&(c=DI[r]))return c;if(r==="hasOwnProperty")return LI}const a=Reflect.get(e,r,Pt(e)?e:n);return(Qr(r)?m1.has(r):VI(r))||(s||wr(e,"get",r),i)?a:Pt(a)?o&&Op(r)?a:a.value:yt(a)?s?Bp(a):Yr(a):a}}class y1 extends g1{constructor(e=!1){super(!1,e)}set(e,r,n,s){let i=e[r];if(!this._isShallow){const c=ni(i);if(!sn(n)&&!ni(n)&&(i=We(i),n=We(n)),!we(e)&&Pt(i)&&!Pt(n))return c?!1:(i.value=n,!0)}const o=we(e)&&Op(r)?Number(r)<e.length:ct(e,r),a=Reflect.set(e,r,n,Pt(e)?e:s);return e===We(s)&&(o?Vr(n,i)&&es(e,"set",r,n):es(e,"add",r,n)),a}deleteProperty(e,r){const n=ct(e,r);e[r];const s=Reflect.deleteProperty(e,r);return s&&n&&es(e,"delete",r,void 0),s}has(e,r){const n=Reflect.has(e,r);return(!Qr(r)||!m1.has(r))&&wr(e,"has",r),n}ownKeys(e){return wr(e,"iterate",we(e)?"length":Ni),Reflect.ownKeys(e)}}class v1 extends g1{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const FI=new y1,UI=new v1,jI=new y1(!0),BI=new v1(!0),bf=t=>t,Ac=t=>Reflect.getPrototypeOf(t);function qI(t,e,r){return function(...n){const s=this.__v_raw,i=We(s),o=No(i),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,d=s[t](...n),h=r?bf:e?xf:Er;return!e&&wr(i,"iterate",c?vf:Ni),{next(){const{value:f,done:p}=d.next();return p?{value:f,done:p}:{value:a?[h(f[0]),h(f[1])]:h(f),done:p}},[Symbol.iterator](){return this}}}}function Sc(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function HI(t,e){const r={get(s){const i=this.__v_raw,o=We(i),a=We(s);t||(Vr(s,a)&&wr(o,"get",s),wr(o,"get",a));const{has:c}=Ac(o),d=e?bf:t?xf:Er;if(c.call(o,s))return d(i.get(s));if(c.call(o,a))return d(i.get(a));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&wr(We(s),"iterate",Ni),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,o=We(i),a=We(s);return t||(Vr(s,a)&&wr(o,"has",s),wr(o,"has",a)),s===a?i.has(s):i.has(s)||i.has(a)},forEach(s,i){const o=this,a=o.__v_raw,c=We(a),d=e?bf:t?xf:Er;return!t&&wr(c,"iterate",Ni),a.forEach((h,f)=>s.call(i,d(h),d(f),o))}};return Qe(r,t?{add:Sc("add"),set:Sc("set"),delete:Sc("delete"),clear:Sc("clear")}:{add(s){!e&&!sn(s)&&!ni(s)&&(s=We(s));const i=We(this);return Ac(i).has.call(i,s)||(i.add(s),es(i,"add",s,s)),this},set(s,i){!e&&!sn(i)&&!ni(i)&&(i=We(i));const o=We(this),{has:a,get:c}=Ac(o);let d=a.call(o,s);d||(s=We(s),d=a.call(o,s));const h=c.call(o,s);return o.set(s,i),d?Vr(i,h)&&es(o,"set",s,i):es(o,"add",s,i),this},delete(s){const i=We(this),{has:o,get:a}=Ac(i);let c=o.call(i,s);c||(s=We(s),c=o.call(i,s)),a&&a.call(i,s);const d=i.delete(s);return c&&es(i,"delete",s,void 0),d},clear(){const s=We(this),i=s.size!==0,o=s.clear();return i&&es(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{r[s]=qI(s,t,e)}),r}function dd(t,e){const r=HI(t,e);return(n,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?n:Reflect.get(ct(r,s)&&s in n?r:n,s,i)}const zI={get:dd(!1,!1)},WI={get:dd(!1,!0)},KI={get:dd(!0,!1)},GI={get:dd(!0,!0)},b1=new WeakMap,x1=new WeakMap,_1=new WeakMap,k1=new WeakMap;function QI(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function YI(t){return t.__v_skip||!Object.isExtensible(t)?0:QI(lI(t))}function Yr(t){return ni(t)?t:hd(t,!1,FI,zI,b1)}function jp(t){return hd(t,!1,jI,WI,x1)}function Bp(t){return hd(t,!0,UI,KI,_1)}function JI(t){return hd(t,!0,BI,GI,k1)}function hd(t,e,r,n,s){if(!yt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=YI(t);if(o===0)return t;const a=new Proxy(t,o===2?n:r);return s.set(t,a),a}function Sn(t){return ni(t)?Sn(t.__v_raw):!!(t&&t.__v_isReactive)}function ni(t){return!!(t&&t.__v_isReadonly)}function sn(t){return!!(t&&t.__v_isShallow)}function fd(t){return t?!!t.__v_raw:!1}function We(t){const e=t&&t.__v_raw;return e?We(e):t}function pd(t){return!ct(t,"__v_skip")&&Object.isExtensible(t)&&r1(t,"__v_skip",!0),t}const Er=t=>yt(t)?Yr(t):t,xf=t=>yt(t)?Bp(t):t;function Pt(t){return t?t.__v_isRef===!0:!1}function B(t){return w1(t,!1)}function md(t){return w1(t,!0)}function w1(t,e){return Pt(t)?t:new XI(t,e)}class XI{constructor(e,r){this.dep=new cd,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:We(e),this._value=r?e:Er(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,n=this.__v_isShallow||sn(e)||ni(e);e=n?e:We(e),Vr(e,r)&&(this._rawValue=e,this._value=n?e:Er(e),this.dep.trigger())}}function ZI(t){t.dep&&t.dep.trigger()}function q(t){return Pt(t)?t.value:t}function eT(t){return De(t)?t():q(t)}const tT={get:(t,e,r)=>e==="__v_raw"?t:q(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const s=t[e];return Pt(s)&&!Pt(r)?(s.value=r,!0):Reflect.set(t,e,r,n)}};function qp(t){return Sn(t)?t:new Proxy(t,tT)}class rT{constructor(e){this.__v_isRef=!0,this._value=void 0;const r=this.dep=new cd,{get:n,set:s}=e(r.track.bind(r),r.trigger.bind(r));this._get=n,this._set=s}get value(){return this._value=this._get()}set value(e){this._set(e)}}function E1(t){return new rT(t)}function I1(t){const e=we(t)?new Array(t.length):{};for(const r in t)e[r]=A1(t,r);return e}class nT{constructor(e,r,n){this._object=e,this._key=r,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return OI(We(this._object),this._key)}}class sT{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function T1(t,e,r){return Pt(t)?t:De(t)?new sT(t):yt(t)&&arguments.length>1?A1(t,e,r):B(t)}function A1(t,e,r){const n=t[e];return Pt(n)?n:new nT(t,e,r)}class iT{constructor(e,r,n){this.fn=e,this.setter=r,this._value=void 0,this.dep=new cd(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ul-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&kt!==this)return c1(this,!0),!0}get value(){const e=this.dep.track();return h1(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function oT(t,e,r=!1){let n,s;return De(t)?n=t:(n=t.get,s=t.set),new iT(n,s,r)}const aT={GET:"get",HAS:"has",ITERATE:"iterate"},lT={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},Cc={},vu=new WeakMap;let Ds;function cT(){return Ds}function S1(t,e=!1,r=Ds){if(r){let n=vu.get(r);n||vu.set(r,n=[]),n.push(t)}}function uT(t,e,r=Ke){const{immediate:n,deep:s,once:i,scheduler:o,augmentJob:a,call:c}=r,d=R=>s?R:sn(R)||s===!1||s===0?ts(R,1):ts(R);let h,f,p,y,k=!1,_=!1;if(Pt(t)?(f=()=>t.value,k=sn(t)):Sn(t)?(f=()=>d(t),k=!0):we(t)?(_=!0,k=t.some(R=>Sn(R)||sn(R)),f=()=>t.map(R=>{if(Pt(R))return R.value;if(Sn(R))return d(R);if(De(R))return c?c(R,2):R()})):De(t)?e?f=c?()=>c(t,2):t:f=()=>{if(p){li();try{p()}finally{ci()}}const R=Ds;Ds=h;try{return c?c(t,3,[y]):t(y)}finally{Ds=R}}:f=or,e&&s){const R=f,S=s===!0?1/0:s;f=()=>ts(R(),S)}const b=Vp(),I=()=>{h.stop(),b&&b.active&&Np(b.effects,h)};if(i&&e){const R=e;e=(...S)=>{R(...S),I()}}let A=_?new Array(t.length).fill(Cc):Cc;const E=R=>{if(!(!(h.flags&1)||!h.dirty&&!R))if(e){const S=h.run();if(s||k||(_?S.some((L,T)=>Vr(L,A[T])):Vr(S,A))){p&&p();const L=Ds;Ds=h;try{const T=[S,A===Cc?void 0:_&&A[0]===Cc?[]:A,y];c?c(e,3,T):e(...T),A=S}finally{Ds=L}}}else h.run()};return a&&a(E),h=new cl(f),h.scheduler=o?()=>o(E,!1):E,y=R=>S1(R,!1,h),p=h.onStop=()=>{const R=vu.get(h);if(R){if(c)c(R,4);else for(const S of R)S();vu.delete(h)}},e?n?E(!0):A=h.run():o?o(E.bind(null,!0),!0):h.run(),I.pause=h.pause.bind(h),I.resume=h.resume.bind(h),I.stop=I,I}function ts(t,e=1/0,r){if(e<=0||!yt(t)||t.__v_skip||(r=r||new Set,r.has(t)))return t;if(r.add(t),e--,Pt(t))ts(t.value,e,r);else if(we(t))for(let n=0;n<t.length;n++)ts(t[n],e,r);else if(Zi(t)||No(t))t.forEach(n=>{ts(n,e,r)});else if(id(t)){for(const n in t)ts(t[n],e,r);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&ts(t[n],e,r)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const C1=[];function dT(t){C1.push(t)}function hT(){C1.pop()}function fT(t,e){}const pT={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},mT={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function la(t,e,r,n){try{return n?t(...n):t()}catch(s){to(s,e,r)}}function bn(t,e,r,n){if(De(t)){const s=la(t,e,r,n);return s&&$p(s)&&s.catch(i=>{to(i,e,r)}),s}if(we(t)){const s=[];for(let i=0;i<t.length;i++)s.push(bn(t[i],e,r,n));return s}}function to(t,e,r,n=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Ke;if(e){let a=e.parent;const c=e.proxy,d=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const h=a.ec;if(h){for(let f=0;f<h.length;f++)if(h[f](t,c,d)===!1)return}a=a.parent}if(i){li(),la(i,null,10,[t,c,d]),ci();return}}gT(t,r,s,n,o)}function gT(t,e,r,n=!0,s=!1){if(s)throw t;console.error(t)}const Lr=[];let Dn=-1;const Do=[];let Ms=null,bo=0;const P1=Promise.resolve();let bu=null;function ar(t){const e=bu||P1;return t?e.then(this?t.bind(this):t):e}function yT(t){let e=Dn+1,r=Lr.length;for(;e<r;){const n=e+r>>>1,s=Lr[n],i=fl(s);i<t||i===t&&s.flags&2?e=n+1:r=n}return e}function Hp(t){if(!(t.flags&1)){const e=fl(t),r=Lr[Lr.length-1];!r||!(t.flags&2)&&e>=fl(r)?Lr.push(t):Lr.splice(yT(e),0,t),t.flags|=1,R1()}}function R1(){bu||(bu=P1.then(N1))}function hl(t){we(t)?Do.push(...t):Ms&&t.id===-1?Ms.splice(bo+1,0,t):t.flags&1||(Do.push(t),t.flags|=1),R1()}function $0(t,e,r=Dn+1){for(;r<Lr.length;r++){const n=Lr[r];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;Lr.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function xu(t){if(Do.length){const e=[...new Set(Do)].sort((r,n)=>fl(r)-fl(n));if(Do.length=0,Ms){Ms.push(...e);return}for(Ms=e,bo=0;bo<Ms.length;bo++){const r=Ms[bo];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Ms=null,bo=0}}const fl=t=>t.id==null?t.flags&2?-1:1/0:t.id;function N1(t){try{for(Dn=0;Dn<Lr.length;Dn++){const e=Lr[Dn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),la(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Dn<Lr.length;Dn++){const e=Lr[Dn];e&&(e.flags&=-2)}Dn=-1,Lr.length=0,xu(),bu=null,(Lr.length||Do.length)&&N1()}}let xo,Pc=[];function $1(t,e){var r,n;xo=t,xo?(xo.enabled=!0,Pc.forEach(({event:s,args:i})=>xo.emit(s,...i)),Pc=[]):typeof window<"u"&&window.HTMLElement&&!((n=(r=window.navigator)==null?void 0:r.userAgent)!=null&&n.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(i=>{$1(i,e)}),setTimeout(()=>{xo||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Pc=[])},3e3)):Pc=[]}let Xt=null,gd=null;function pl(t){const e=Xt;return Xt=t,gd=t&&t.type.__scopeId||null,e}function vT(t){gd=t}function bT(){gd=null}const xT=t=>Z;function Z(t,e=Xt,r){if(!e||t._n)return t;const n=(...s)=>{n._d&&Sf(-1);const i=pl(e);let o;try{o=t(...s)}finally{pl(i),n._d&&Sf(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function xe(t,e){if(Xt===null)return t;const r=Bl(Xt),n=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,c=Ke]=e[s];i&&(De(i)&&(i={mounted:i,updated:i}),i.deep&&ts(o),n.push({dir:i,instance:r,value:o,oldValue:void 0,arg:a,modifiers:c}))}return t}function Mn(t,e,r,n){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let c=a.dir[n];c&&(li(),bn(c,r,8,[t.el,a,t,e]),ci())}}const O1=Symbol("_vte"),D1=t=>t.__isTeleport,Qa=t=>t&&(t.disabled||t.disabled===""),O0=t=>t&&(t.defer||t.defer===""),D0=t=>typeof SVGElement<"u"&&t instanceof SVGElement,M0=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,_f=(t,e)=>{const r=t&&t.to;return qe(r)?e?e(r):null:r},M1={name:"Teleport",__isTeleport:!0,process(t,e,r,n,s,i,o,a,c,d){const{mc:h,pc:f,pbc:p,o:{insert:y,querySelector:k,createText:_,createComment:b}}=d,I=Qa(e.props);let{shapeFlag:A,children:E,dynamicChildren:R}=e;if(t==null){const S=e.el=_(""),L=e.anchor=_("");y(S,r,n),y(L,r,n);const T=(m,w)=>{A&16&&(s&&s.isCE&&(s.ce._teleportTarget=m),h(E,m,w,s,i,o,a,c))},v=()=>{const m=e.target=_f(e.props,k),w=V1(m,e,_,y);m&&(o!=="svg"&&D0(m)?o="svg":o!=="mathml"&&M0(m)&&(o="mathml"),I||(T(m,w),Jc(e,!1)))};I&&(T(r,L),Jc(e,!0)),O0(e.props)?Qt(()=>{v(),e.el.__isMounted=!0},i):v()}else{if(O0(e.props)&&!t.el.__isMounted){Qt(()=>{M1.process(t,e,r,n,s,i,o,a,c,d),delete t.el.__isMounted},i);return}e.el=t.el,e.targetStart=t.targetStart;const S=e.anchor=t.anchor,L=e.target=t.target,T=e.targetAnchor=t.targetAnchor,v=Qa(t.props),m=v?r:L,w=v?S:T;if(o==="svg"||D0(L)?o="svg":(o==="mathml"||M0(L))&&(o="mathml"),R?(p(t.dynamicChildren,R,m,s,i,o,a),tm(t,e,!0)):c||f(t,e,m,w,s,i,o,a,!1),I)v?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Rc(e,r,S,d,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const N=e.target=_f(e.props,k);N&&Rc(e,N,null,d,0)}else v&&Rc(e,L,T,d,1);Jc(e,I)}},remove(t,e,r,{um:n,o:{remove:s}},i){const{shapeFlag:o,children:a,anchor:c,targetStart:d,targetAnchor:h,target:f,props:p}=t;if(f&&(s(d),s(h)),i&&s(c),o&16){const y=i||!Qa(p);for(let k=0;k<a.length;k++){const _=a[k];n(_,e,r,y,!!_.dynamicChildren)}}},move:Rc,hydrate:_T};function Rc(t,e,r,{o:{insert:n},m:s},i=2){i===0&&n(t.targetAnchor,e,r);const{el:o,anchor:a,shapeFlag:c,children:d,props:h}=t,f=i===2;if(f&&n(o,e,r),(!f||Qa(h))&&c&16)for(let p=0;p<d.length;p++)s(d[p],e,r,2);f&&n(a,e,r)}function _T(t,e,r,n,s,i,{o:{nextSibling:o,parentNode:a,querySelector:c,insert:d,createText:h}},f){const p=e.target=_f(e.props,c);if(p){const y=Qa(e.props),k=p._lpa||p.firstChild;if(e.shapeFlag&16)if(y)e.anchor=f(o(t),e,a(t),r,n,s,i),e.targetStart=k,e.targetAnchor=k&&o(k);else{e.anchor=o(t);let _=k;for(;_;){if(_&&_.nodeType===8){if(_.data==="teleport start anchor")e.targetStart=_;else if(_.data==="teleport anchor"){e.targetAnchor=_,p._lpa=e.targetAnchor&&o(e.targetAnchor);break}}_=o(_)}e.targetAnchor||V1(p,e,h,d),f(k&&o(k),e,p,r,n,s,i)}Jc(e,y)}return e.anchor&&o(e.anchor)}const zp=M1;function Jc(t,e){const r=t.ctx;if(r&&r.ut){let n,s;for(e?(n=t.el,s=t.anchor):(n=t.targetStart,s=t.targetAnchor);n&&n!==s;)n.nodeType===1&&n.setAttribute("data-v-owner",r.uid),n=n.nextSibling;r.ut()}}function V1(t,e,r,n){const s=e.targetStart=r(""),i=e.targetAnchor=r("");return s[O1]=i,t&&(n(s,t),n(i,t)),i}const Vs=Symbol("_leaveCb"),Nc=Symbol("_enterCb");function Wp(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return je(()=>{t.isMounted=!0}),ui(()=>{t.isUnmounting=!0}),t}const hn=[Function,Array],Kp={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:hn,onEnter:hn,onAfterEnter:hn,onEnterCancelled:hn,onBeforeLeave:hn,onLeave:hn,onAfterLeave:hn,onLeaveCancelled:hn,onBeforeAppear:hn,onAppear:hn,onAfterAppear:hn,onAppearCancelled:hn},L1=t=>{const e=t.subTree;return e.component?L1(e.component):e},kT={name:"BaseTransition",props:Kp,setup(t,{slots:e}){const r=cn(),n=Wp();return()=>{const s=e.default&&yd(e.default(),!0);if(!s||!s.length)return;const i=F1(s),o=We(t),{mode:a}=o;if(n.isLeaving)return $h(i);const c=V0(i);if(!c)return $h(i);let d=jo(c,o,n,r,f=>d=f);c.type!==qt&&us(c,d);let h=r.subTree&&V0(r.subTree);if(h&&h.type!==qt&&!Tn(c,h)&&L1(r).type!==qt){let f=jo(h,o,n,r);if(us(h,f),a==="out-in"&&c.type!==qt)return n.isLeaving=!0,f.afterLeave=()=>{n.isLeaving=!1,r.job.flags&8||r.update(),delete f.afterLeave,h=void 0},$h(i);a==="in-out"&&c.type!==qt?f.delayLeave=(p,y,k)=>{const _=j1(n,h);_[String(h.key)]=h,p[Vs]=()=>{y(),p[Vs]=void 0,delete d.delayedLeave,h=void 0},d.delayedLeave=()=>{k(),delete d.delayedLeave,h=void 0}}:h=void 0}else h&&(h=void 0);return i}}};function F1(t){let e=t[0];if(t.length>1){for(const r of t)if(r.type!==qt){e=r;break}}return e}const U1=kT;function j1(t,e){const{leavingVNodes:r}=t;let n=r.get(e.type);return n||(n=Object.create(null),r.set(e.type,n)),n}function jo(t,e,r,n,s){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:c,onEnter:d,onAfterEnter:h,onEnterCancelled:f,onBeforeLeave:p,onLeave:y,onAfterLeave:k,onLeaveCancelled:_,onBeforeAppear:b,onAppear:I,onAfterAppear:A,onAppearCancelled:E}=e,R=String(t.key),S=j1(r,t),L=(m,w)=>{m&&bn(m,n,9,w)},T=(m,w)=>{const N=w[1];L(m,w),we(m)?m.every(C=>C.length<=1)&&N():m.length<=1&&N()},v={mode:o,persisted:a,beforeEnter(m){let w=c;if(!r.isMounted)if(i)w=b||c;else return;m[Vs]&&m[Vs](!0);const N=S[R];N&&Tn(t,N)&&N.el[Vs]&&N.el[Vs](),L(w,[m])},enter(m){let w=d,N=h,C=f;if(!r.isMounted)if(i)w=I||d,N=A||h,C=E||f;else return;let P=!1;const ce=m[Nc]=he=>{P||(P=!0,he?L(C,[m]):L(N,[m]),v.delayedLeave&&v.delayedLeave(),m[Nc]=void 0)};w?T(w,[m,ce]):ce()},leave(m,w){const N=String(t.key);if(m[Nc]&&m[Nc](!0),r.isUnmounting)return w();L(p,[m]);let C=!1;const P=m[Vs]=ce=>{C||(C=!0,w(),ce?L(_,[m]):L(k,[m]),m[Vs]=void 0,S[N]===t&&delete S[N])};S[N]=t,y?T(y,[m,P]):P()},clone(m){const w=jo(m,e,r,n,s);return s&&s(w),w}};return v}function $h(t){if(Ul(t))return t=Pn(t),t.children=null,t}function V0(t){if(!Ul(t))return D1(t.type)&&t.children?F1(t.children):t;const{shapeFlag:e,children:r}=t;if(r){if(e&16)return r[0];if(e&32&&De(r.default))return r.default()}}function us(t,e){t.shapeFlag&6&&t.component?(t.transition=e,us(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function yd(t,e=!1,r){let n=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const a=r==null?o.key:String(r)+String(o.key!=null?o.key:i);o.type===_e?(o.patchFlag&128&&s++,n=n.concat(yd(o.children,e,a))):(e||o.type!==qt)&&n.push(a!=null?Pn(o,{key:a}):o)}if(s>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function Ze(t,e){return De(t)?Qe({name:t.name},e,{setup:t}):t}function B1(){const t=cn();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function Gp(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function wT(t){const e=cn(),r=md(null);if(e){const s=e.refs===Ke?e.refs={}:e.refs;Object.defineProperty(s,t,{enumerable:!0,get:()=>r.value,set:i=>r.value=i})}return r}function ml(t,e,r,n,s=!1){if(we(t)){t.forEach((k,_)=>ml(k,e&&(we(e)?e[_]:e),r,n,s));return}if(Qs(n)&&!s){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&ml(t,e,r,n.component.subTree);return}const i=n.shapeFlag&4?Bl(n.component):n.el,o=s?null:i,{i:a,r:c}=t,d=e&&e.r,h=a.refs===Ke?a.refs={}:a.refs,f=a.setupState,p=We(f),y=f===Ke?()=>!1:k=>ct(p,k);if(d!=null&&d!==c&&(qe(d)?(h[d]=null,y(d)&&(f[d]=null)):Pt(d)&&(d.value=null)),De(c))la(c,a,12,[o,h]);else{const k=qe(c),_=Pt(c);if(k||_){const b=()=>{if(t.f){const I=k?y(c)?f[c]:h[c]:c.value;s?we(I)&&Np(I,i):we(I)?I.includes(i)||I.push(i):k?(h[c]=[i],y(c)&&(f[c]=h[c])):(c.value=[i],t.k&&(h[t.k]=c.value))}else k?(h[c]=o,y(c)&&(f[c]=o)):_&&(c.value=o,t.k&&(h[t.k]=o))};o?(b.id=-1,Qt(b,r)):b()}}}let L0=!1;const go=()=>{L0||(console.error("Hydration completed but contains mismatches."),L0=!0)},ET=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",IT=t=>t.namespaceURI.includes("MathML"),$c=t=>{if(t.nodeType===1){if(ET(t))return"svg";if(IT(t))return"mathml"}},Ao=t=>t.nodeType===8;function TT(t){const{mt:e,p:r,o:{patchProp:n,createText:s,nextSibling:i,parentNode:o,remove:a,insert:c,createComment:d}}=t,h=(E,R)=>{if(!R.hasChildNodes()){r(null,E,R),xu(),R._vnode=E;return}f(R.firstChild,E,null,null,null),xu(),R._vnode=E},f=(E,R,S,L,T,v=!1)=>{v=v||!!R.dynamicChildren;const m=Ao(E)&&E.data==="[",w=()=>_(E,R,S,L,T,m),{type:N,ref:C,shapeFlag:P,patchFlag:ce}=R;let he=E.nodeType;R.el=E,ce===-2&&(v=!1,R.dynamicChildren=null);let G=null;switch(N){case Ys:he!==3?R.children===""?(c(R.el=s(""),o(E),E),G=E):G=w():(E.data!==R.children&&(go(),E.data=R.children),G=i(E));break;case qt:A(E)?(G=i(E),I(R.el=E.content.firstChild,E,S)):he!==8||m?G=w():G=i(E);break;case Oi:if(m&&(E=i(E),he=E.nodeType),he===1||he===3){G=E;const U=!R.children.length;for(let re=0;re<R.staticCount;re++)U&&(R.children+=G.nodeType===1?G.outerHTML:G.data),re===R.staticCount-1&&(R.anchor=G),G=i(G);return m?i(G):G}else w();break;case _e:m?G=k(E,R,S,L,T,v):G=w();break;default:if(P&1)(he!==1||R.type.toLowerCase()!==E.tagName.toLowerCase())&&!A(E)?G=w():G=p(E,R,S,L,T,v);else if(P&6){R.slotScopeIds=T;const U=o(E);if(m?G=b(E):Ao(E)&&E.data==="teleport start"?G=b(E,E.data,"teleport end"):G=i(E),e(R,U,null,S,L,$c(U),v),Qs(R)&&!R.type.__asyncResolved){let re;m?(re=z(_e),re.anchor=G?G.previousSibling:U.lastChild):re=E.nodeType===3?ue(""):z("div"),re.el=E,R.component.subTree=re}}else P&64?he!==8?G=w():G=R.type.hydrate(E,R,S,L,T,v,t,y):P&128&&(G=R.type.hydrate(E,R,S,L,$c(o(E)),T,v,t,f))}return C!=null&&ml(C,null,L,R),G},p=(E,R,S,L,T,v)=>{v=v||!!R.dynamicChildren;const{type:m,props:w,patchFlag:N,shapeFlag:C,dirs:P,transition:ce}=R,he=m==="input"||m==="option";if(he||N!==-1){P&&Mn(R,null,S,"created");let G=!1;if(A(E)){G=px(null,ce)&&S&&S.vnode.props&&S.vnode.props.appear;const re=E.content.firstChild;G&&ce.beforeEnter(re),I(re,E,S),R.el=E=re}if(C&16&&!(w&&(w.innerHTML||w.textContent))){let re=y(E.firstChild,R,E,S,L,T,v);for(;re;){Oc(E,1)||go();const ae=re;re=re.nextSibling,a(ae)}}else if(C&8){let re=R.children;re[0]===`
`&&(E.tagName==="PRE"||E.tagName==="TEXTAREA")&&(re=re.slice(1)),E.textContent!==re&&(Oc(E,0)||go(),E.textContent=R.children)}if(w){if(he||!v||N&48){const re=E.tagName.includes("-");for(const ae in w)(he&&(ae.endsWith("value")||ae==="indeterminate")||Xi(ae)&&!Gs(ae)||ae[0]==="."||re)&&n(E,ae,null,w[ae],void 0,S)}else if(w.onClick)n(E,"onClick",null,w.onClick,void 0,S);else if(N&4&&Sn(w.style))for(const re in w.style)w.style[re]}let U;(U=w&&w.onVnodeBeforeMount)&&qr(U,S,R),P&&Mn(R,null,S,"beforeMount"),((U=w&&w.onVnodeMounted)||P||G)&&wx(()=>{U&&qr(U,S,R),G&&ce.enter(E),P&&Mn(R,null,S,"mounted")},L)}return E.nextSibling},y=(E,R,S,L,T,v,m)=>{m=m||!!R.dynamicChildren;const w=R.children,N=w.length;for(let C=0;C<N;C++){const P=m?w[C]:w[C]=Hr(w[C]),ce=P.type===Ys;E?(ce&&!m&&C+1<N&&Hr(w[C+1]).type===Ys&&(c(s(E.data.slice(P.children.length)),S,i(E)),E.data=P.children),E=f(E,P,L,T,v,m)):ce&&!P.children?c(P.el=s(""),S):(Oc(S,1)||go(),r(null,P,S,null,L,T,$c(S),v))}return E},k=(E,R,S,L,T,v)=>{const{slotScopeIds:m}=R;m&&(T=T?T.concat(m):m);const w=o(E),N=y(i(E),R,w,S,L,T,v);return N&&Ao(N)&&N.data==="]"?i(R.anchor=N):(go(),c(R.anchor=d("]"),w,N),N)},_=(E,R,S,L,T,v)=>{if(Oc(E.parentElement,1)||go(),R.el=null,v){const N=b(E);for(;;){const C=i(E);if(C&&C!==N)a(C);else break}}const m=i(E),w=o(E);return a(E),r(null,R,w,m,S,L,$c(w),T),S&&(S.vnode.el=R.el,kd(S,R.el)),m},b=(E,R="[",S="]")=>{let L=0;for(;E;)if(E=i(E),E&&Ao(E)&&(E.data===R&&L++,E.data===S)){if(L===0)return i(E);L--}return E},I=(E,R,S)=>{const L=R.parentNode;L&&L.replaceChild(E,R);let T=S;for(;T;)T.vnode.el===R&&(T.vnode.el=T.subTree.el=E),T=T.parent},A=E=>E.nodeType===1&&E.tagName==="TEMPLATE";return[h,f]}const F0="data-allow-mismatch",AT={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Oc(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(F0);)t=t.parentElement;const r=t&&t.getAttribute(F0);if(r==null)return!1;if(r==="")return!0;{const n=r.split(",");return e===0&&n.includes("children")?!0:r.split(",").includes(AT[e])}}const ST=ad().requestIdleCallback||(t=>setTimeout(t,1)),CT=ad().cancelIdleCallback||(t=>clearTimeout(t)),PT=(t=1e4)=>e=>{const r=ST(e,{timeout:t});return()=>CT(r)};function RT(t){const{top:e,left:r,bottom:n,right:s}=t.getBoundingClientRect(),{innerHeight:i,innerWidth:o}=window;return(e>0&&e<i||n>0&&n<i)&&(r>0&&r<o||s>0&&s<o)}const NT=t=>(e,r)=>{const n=new IntersectionObserver(s=>{for(const i of s)if(i.isIntersecting){n.disconnect(),e();break}},t);return r(s=>{if(s instanceof Element){if(RT(s))return e(),n.disconnect(),!1;n.observe(s)}}),()=>n.disconnect()},$T=t=>e=>{if(t){const r=matchMedia(t);if(r.matches)e();else return r.addEventListener("change",e,{once:!0}),()=>r.removeEventListener("change",e)}},OT=(t=[])=>(e,r)=>{qe(t)&&(t=[t]);let n=!1;const s=o=>{n||(n=!0,i(),e(),o.target.dispatchEvent(new o.constructor(o.type,o)))},i=()=>{r(o=>{for(const a of t)o.removeEventListener(a,s)})};return r(o=>{for(const a of t)o.addEventListener(a,s,{once:!0})}),i};function DT(t,e){if(Ao(t)&&t.data==="["){let r=1,n=t.nextSibling;for(;n;){if(n.nodeType===1){if(e(n)===!1)break}else if(Ao(n))if(n.data==="]"){if(--r===0)break}else n.data==="["&&r++;n=n.nextSibling}}else e(t)}const Qs=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function MT(t){De(t)&&(t={loader:t});const{loader:e,loadingComponent:r,errorComponent:n,delay:s=200,hydrate:i,timeout:o,suspensible:a=!0,onError:c}=t;let d=null,h,f=0;const p=()=>(f++,d=null,y()),y=()=>{let k;return d||(k=d=e().catch(_=>{if(_=_ instanceof Error?_:new Error(String(_)),c)return new Promise((b,I)=>{c(_,()=>b(p()),()=>I(_),f+1)});throw _}).then(_=>k!==d&&d?d:(_&&(_.__esModule||_[Symbol.toStringTag]==="Module")&&(_=_.default),h=_,_)))};return Ze({name:"AsyncComponentWrapper",__asyncLoader:y,__asyncHydrate(k,_,b){const I=i?()=>{const A=i(b,E=>DT(k,E));A&&(_.bum||(_.bum=[])).push(A)}:b;h?I():y().then(()=>!_.isUnmounted&&I())},get __asyncResolved(){return h},setup(){const k=Jt;if(Gp(k),h)return()=>Oh(h,k);const _=E=>{d=null,to(E,k,13,!n)};if(a&&k.suspense||Bo)return y().then(E=>()=>Oh(E,k)).catch(E=>(_(E),()=>n?z(n,{error:E}):null));const b=B(!1),I=B(),A=B(!!s);return s&&setTimeout(()=>{A.value=!1},s),o!=null&&setTimeout(()=>{if(!b.value&&!I.value){const E=new Error(`Async component timed out after ${o}ms.`);_(E),I.value=E}},o),y().then(()=>{b.value=!0,k.parent&&Ul(k.parent.vnode)&&k.parent.update()}).catch(E=>{_(E),I.value=E}),()=>{if(b.value&&h)return Oh(h,k);if(I.value&&n)return z(n,{error:I.value});if(r&&!A.value)return z(r)}}})}function Oh(t,e){const{ref:r,props:n,children:s,ce:i}=e.vnode,o=z(t,n,s);return o.ref=r,o.ce=i,delete e.vnode.ce,o}const Ul=t=>t.type.__isKeepAlive,VT={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const r=cn(),n=r.ctx;if(!n.renderer)return()=>{const A=e.default&&e.default();return A&&A.length===1?A[0]:A};const s=new Map,i=new Set;let o=null;const a=r.suspense,{renderer:{p:c,m:d,um:h,o:{createElement:f}}}=n,p=f("div");n.activate=(A,E,R,S,L)=>{const T=A.component;d(A,E,R,0,a),c(T.vnode,A,E,R,T,a,S,A.slotScopeIds,L),Qt(()=>{T.isDeactivated=!1,T.a&&Oo(T.a);const v=A.props&&A.props.onVnodeMounted;v&&qr(v,T.parent,A)},a)},n.deactivate=A=>{const E=A.component;wu(E.m),wu(E.a),d(A,p,null,1,a),Qt(()=>{E.da&&Oo(E.da);const R=A.props&&A.props.onVnodeUnmounted;R&&qr(R,E.parent,A),E.isDeactivated=!0},a)};function y(A){Dh(A),h(A,r,a,!0)}function k(A){s.forEach((E,R)=>{const S=$f(E.type);S&&!A(S)&&_(R)})}function _(A){const E=s.get(A);E&&(!o||!Tn(E,o))?y(E):o&&Dh(o),s.delete(A),i.delete(A)}Rt(()=>[t.include,t.exclude],([A,E])=>{A&&k(R=>Va(A,R)),E&&k(R=>!Va(E,R))},{flush:"post",deep:!0});let b=null;const I=()=>{b!=null&&(Eu(r.subTree.type)?Qt(()=>{s.set(b,Dc(r.subTree))},r.subTree.suspense):s.set(b,Dc(r.subTree)))};return je(I),bd(I),ui(()=>{s.forEach(A=>{const{subTree:E,suspense:R}=r,S=Dc(E);if(A.type===S.type&&A.key===S.key){Dh(S);const L=S.component.da;L&&Qt(L,R);return}y(A)})}),()=>{if(b=null,!e.default)return o=null;const A=e.default(),E=A[0];if(A.length>1)return o=null,A;if(!ds(E)||!(E.shapeFlag&4)&&!(E.shapeFlag&128))return o=null,E;let R=Dc(E);if(R.type===qt)return o=null,R;const S=R.type,L=$f(Qs(R)?R.type.__asyncResolved||{}:S),{include:T,exclude:v,max:m}=t;if(T&&(!L||!Va(T,L))||v&&L&&Va(v,L))return R.shapeFlag&=-257,o=R,E;const w=R.key==null?S:R.key,N=s.get(w);return R.el&&(R=Pn(R),E.shapeFlag&128&&(E.ssContent=R)),b=w,N?(R.el=N.el,R.component=N.component,R.transition&&us(R,R.transition),R.shapeFlag|=512,i.delete(w),i.add(w)):(i.add(w),m&&i.size>parseInt(m,10)&&_(i.values().next().value)),R.shapeFlag|=256,o=R,Eu(E.type)?E:R}}},LT=VT;function Va(t,e){return we(t)?t.some(r=>Va(r,e)):qe(t)?t.split(",").includes(e):aI(t)?(t.lastIndex=0,t.test(e)):!1}function q1(t,e){z1(t,"a",e)}function H1(t,e){z1(t,"da",e)}function z1(t,e,r=Jt){const n=t.__wdc||(t.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(vd(e,n,r),r){let s=r.parent;for(;s&&s.parent;)Ul(s.parent.vnode)&&FT(n,e,r,s),s=s.parent}}function FT(t,e,r,n){const s=vd(e,t,n,!0);Kt(()=>{Np(n[e],s)},r)}function Dh(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Dc(t){return t.shapeFlag&128?t.ssContent:t}function vd(t,e,r=Jt,n=!1){if(r){const s=r[t]||(r[t]=[]),i=e.__weh||(e.__weh=(...o)=>{li();const a=Ui(r),c=bn(e,r,t,o);return a(),ci(),c});return n?s.unshift(i):s.push(i),i}}const ys=t=>(e,r=Jt)=>{(!Bo||t==="sp")&&vd(t,(...n)=>e(...n),r)},W1=ys("bm"),je=ys("m"),Qp=ys("bu"),bd=ys("u"),ui=ys("bum"),Kt=ys("um"),K1=ys("sp"),G1=ys("rtg"),Q1=ys("rtc");function Y1(t,e=Jt){vd("ec",t,e)}const Yp="components",UT="directives";function Rr(t,e){return Jp(Yp,t,!0,e)||t}const J1=Symbol.for("v-ndc");function xd(t){return qe(t)?Jp(Yp,t,!1)||t:t||J1}function jT(t){return Jp(UT,t)}function Jp(t,e,r=!0,n=!1){const s=Xt||Jt;if(s){const i=s.type;if(t===Yp){const a=$f(i,!1);if(a&&(a===e||a===It(e)||a===eo(It(e))))return i}const o=U0(s[t]||i[t],e)||U0(s.appContext[t],e);return!o&&n?i:o}}function U0(t,e){return t&&(t[e]||t[It(e)]||t[eo(It(e))])}function Ve(t,e,r,n){let s;const i=r&&r[n],o=we(t);if(o||qe(t)){const a=o&&Sn(t);let c=!1;a&&(c=!sn(t),t=ud(t)),s=new Array(t.length);for(let d=0,h=t.length;d<h;d++)s[d]=e(c?Er(t[d]):t[d],d,void 0,i&&i[d])}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,i&&i[a])}else if(yt(t))if(t[Symbol.iterator])s=Array.from(t,(a,c)=>e(a,c,void 0,i&&i[c]));else{const a=Object.keys(t);s=new Array(a.length);for(let c=0,d=a.length;c<d;c++){const h=a[c];s[c]=e(t[h],h,c,i&&i[c])}}else s=[];return r&&(r[n]=s),s}function BT(t,e){for(let r=0;r<e.length;r++){const n=e[r];if(we(n))for(let s=0;s<n.length;s++)t[n[s].name]=n[s].fn;else n&&(t[n.name]=n.key?(...s)=>{const i=n.fn(...s);return i&&(i.key=n.key),i}:n.fn)}return t}function _u(t,e,r={},n,s){if(Xt.ce||Xt.parent&&Qs(Xt.parent)&&Xt.parent.ce)return e!=="default"&&(r.name=e),D(),mt(_e,null,[z("slot",r,n&&n())],64);let i=t[e];i&&i._c&&(i._d=!1),D();const o=i&&Xp(i(r)),a=r.key||o&&o.key,c=mt(_e,{key:(a&&!Qr(a)?a:`_${e}`)+(!o&&n?"_fb":"")},o||(n?n():[]),o&&t._===1?64:-2);return!s&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),i&&i._c&&(i._d=!0),c}function Xp(t){return t.some(e=>ds(e)?!(e.type===qt||e.type===_e&&!Xp(e.children)):!0)?t:null}function qT(t,e){const r={};for(const n in t)r[e&&/[A-Z]/.test(n)?`on:${n}`:$o(n)]=t[n];return r}const kf=t=>t?Px(t)?Bl(t):kf(t.parent):null,Ya=Qe(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>kf(t.parent),$root:t=>kf(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Zp(t),$forceUpdate:t=>t.f||(t.f=()=>{Hp(t.update)}),$nextTick:t=>t.n||(t.n=ar.bind(t.proxy)),$watch:t=>b4.bind(t)}),Mh=(t,e)=>t!==Ke&&!t.__isScriptSetup&&ct(t,e),wf={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:n,data:s,props:i,accessCache:o,type:a,appContext:c}=t;let d;if(e[0]!=="$"){const y=o[e];if(y!==void 0)switch(y){case 1:return n[e];case 2:return s[e];case 4:return r[e];case 3:return i[e]}else{if(Mh(n,e))return o[e]=1,n[e];if(s!==Ke&&ct(s,e))return o[e]=2,s[e];if((d=t.propsOptions[0])&&ct(d,e))return o[e]=3,i[e];if(r!==Ke&&ct(r,e))return o[e]=4,r[e];Ef&&(o[e]=0)}}const h=Ya[e];let f,p;if(h)return e==="$attrs"&&wr(t.attrs,"get",""),h(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(r!==Ke&&ct(r,e))return o[e]=4,r[e];if(p=c.config.globalProperties,ct(p,e))return p[e]},set({_:t},e,r){const{data:n,setupState:s,ctx:i}=t;return Mh(s,e)?(s[e]=r,!0):n!==Ke&&ct(n,e)?(n[e]=r,!0):ct(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:s,propsOptions:i}},o){let a;return!!r[o]||t!==Ke&&ct(t,o)||Mh(e,o)||(a=i[0])&&ct(a,o)||ct(n,o)||ct(Ya,o)||ct(s.config.globalProperties,o)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:ct(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}},HT=Qe({},wf,{get(t,e){if(e!==Symbol.unscopables)return wf.get(t,e,t)},has(t,e){return e[0]!=="_"&&!pI(e)}});function zT(){return null}function WT(){return null}function KT(t){}function GT(t){}function QT(){return null}function YT(){}function JT(t,e){return null}function XT(){return X1().slots}function ZT(){return X1().attrs}function X1(){const t=cn();return t.setupContext||(t.setupContext=Ox(t))}function gl(t){return we(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}function e4(t,e){const r=gl(t);for(const n in e){if(n.startsWith("__skip"))continue;let s=r[n];s?we(s)||De(s)?s=r[n]={type:s,default:e[n]}:s.default=e[n]:s===null&&(s=r[n]={default:e[n]}),s&&e[`__skip_${n}`]&&(s.skipFactory=!0)}return r}function t4(t,e){return!t||!e?t||e:we(t)&&we(e)?t.concat(e):Qe({},gl(t),gl(e))}function r4(t,e){const r={};for(const n in t)e.includes(n)||Object.defineProperty(r,n,{enumerable:!0,get:()=>t[n]});return r}function n4(t){const e=cn();let r=t();return Pf(),$p(r)&&(r=r.catch(n=>{throw Ui(e),n})),[r,()=>Ui(e)]}let Ef=!0;function s4(t){const e=Zp(t),r=t.proxy,n=t.ctx;Ef=!1,e.beforeCreate&&j0(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:c,inject:d,created:h,beforeMount:f,mounted:p,beforeUpdate:y,updated:k,activated:_,deactivated:b,beforeDestroy:I,beforeUnmount:A,destroyed:E,unmounted:R,render:S,renderTracked:L,renderTriggered:T,errorCaptured:v,serverPrefetch:m,expose:w,inheritAttrs:N,components:C,directives:P,filters:ce}=e;if(d&&i4(d,n,null),o)for(const U in o){const re=o[U];De(re)&&(n[U]=re.bind(r))}if(s){const U=s.call(r,r);yt(U)&&(t.data=Yr(U))}if(Ef=!0,i)for(const U in i){const re=i[U],ae=De(re)?re.bind(r,r):De(re.get)?re.get.bind(r,r):or,Ee=!De(re)&&De(re.set)?re.set.bind(r):or,ve=te({get:ae,set:Ee});Object.defineProperty(n,U,{enumerable:!0,configurable:!0,get:()=>ve.value,set:Ce=>ve.value=Ce})}if(a)for(const U in a)Z1(a[U],n,r,U);if(c){const U=De(c)?c.call(r):c;Reflect.ownKeys(U).forEach(re=>{zt(re,U[re])})}h&&j0(h,t,"c");function G(U,re){we(re)?re.forEach(ae=>U(ae.bind(r))):re&&U(re.bind(r))}if(G(W1,f),G(je,p),G(Qp,y),G(bd,k),G(q1,_),G(H1,b),G(Y1,v),G(Q1,L),G(G1,T),G(ui,A),G(Kt,R),G(K1,m),we(w))if(w.length){const U=t.exposed||(t.exposed={});w.forEach(re=>{Object.defineProperty(U,re,{get:()=>r[re],set:ae=>r[re]=ae})})}else t.exposed||(t.exposed={});S&&t.render===or&&(t.render=S),N!=null&&(t.inheritAttrs=N),C&&(t.components=C),P&&(t.directives=P),m&&Gp(t)}function i4(t,e,r=or){we(t)&&(t=If(t));for(const n in t){const s=t[n];let i;yt(s)?"default"in s?i=ot(s.from||n,s.default,!0):i=ot(s.from||n):i=ot(s),Pt(i)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[n]=i}}function j0(t,e,r){bn(we(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function Z1(t,e,r,n){let s=n.includes(".")?bx(r,n):()=>r[n];if(qe(t)){const i=e[t];De(i)&&Rt(s,i)}else if(De(t))Rt(s,t.bind(r));else if(yt(t))if(we(t))t.forEach(i=>Z1(i,e,r,n));else{const i=De(t.handler)?t.handler.bind(r):e[t.handler];De(i)&&Rt(s,i,t)}}function Zp(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let c;return a?c=a:!s.length&&!r&&!n?c=e:(c={},s.length&&s.forEach(d=>ku(c,d,o,!0)),ku(c,e,o)),yt(e)&&i.set(e,c),c}function ku(t,e,r,n=!1){const{mixins:s,extends:i}=e;i&&ku(t,i,r,!0),s&&s.forEach(o=>ku(t,o,r,!0));for(const o in e)if(!(n&&o==="expose")){const a=o4[o]||r&&r[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const o4={data:B0,props:q0,emits:q0,methods:La,computed:La,beforeCreate:Dr,created:Dr,beforeMount:Dr,mounted:Dr,beforeUpdate:Dr,updated:Dr,beforeDestroy:Dr,beforeUnmount:Dr,destroyed:Dr,unmounted:Dr,activated:Dr,deactivated:Dr,errorCaptured:Dr,serverPrefetch:Dr,components:La,directives:La,watch:l4,provide:B0,inject:a4};function B0(t,e){return e?t?function(){return Qe(De(t)?t.call(this,this):t,De(e)?e.call(this,this):e)}:e:t}function a4(t,e){return La(If(t),If(e))}function If(t){if(we(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Dr(t,e){return t?[...new Set([].concat(t,e))]:e}function La(t,e){return t?Qe(Object.create(null),t,e):e}function q0(t,e){return t?we(t)&&we(e)?[...new Set([...t,...e])]:Qe(Object.create(null),gl(t),gl(e??{})):e}function l4(t,e){if(!t)return e;if(!e)return t;const r=Qe(Object.create(null),t);for(const n in e)r[n]=Dr(t[n],e[n]);return r}function ex(){return{app:null,config:{isNativeTag:Ma,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let c4=0;function u4(t,e){return function(n,s=null){De(n)||(n=Qe({},n)),s!=null&&!yt(s)&&(s=null);const i=ex(),o=new WeakSet,a=[];let c=!1;const d=i.app={_uid:c4++,_component:n,_props:s,_container:null,_context:i,_instance:null,version:Mx,get config(){return i.config},set config(h){},use(h,...f){return o.has(h)||(h&&De(h.install)?(o.add(h),h.install(d,...f)):De(h)&&(o.add(h),h(d,...f))),d},mixin(h){return i.mixins.includes(h)||i.mixins.push(h),d},component(h,f){return f?(i.components[h]=f,d):i.components[h]},directive(h,f){return f?(i.directives[h]=f,d):i.directives[h]},mount(h,f,p){if(!c){const y=d._ceVNode||z(n,s);return y.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),f&&e?e(y,h):t(y,h,p),c=!0,d._container=h,h.__vue_app__=d,Bl(y.component)}},onUnmount(h){a.push(h)},unmount(){c&&(bn(a,d._instance,16),t(null,d._container),delete d._container.__vue_app__)},provide(h,f){return i.provides[h]=f,d},runWithContext(h){const f=$i;$i=d;try{return h()}finally{$i=f}}};return d}}let $i=null;function zt(t,e){if(Jt){let r=Jt.provides;const n=Jt.parent&&Jt.parent.provides;n===r&&(r=Jt.provides=Object.create(n)),r[t]=e}}function ot(t,e,r=!1){const n=Jt||Xt;if(n||$i){const s=$i?$i._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return r&&De(e)?e.call(n&&n.proxy):e}}function tx(){return!!(Jt||Xt||$i)}const rx={},nx=()=>Object.create(rx),sx=t=>Object.getPrototypeOf(t)===rx;function d4(t,e,r,n=!1){const s={},i=nx();t.propsDefaults=Object.create(null),ix(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);r?t.props=n?s:jp(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function h4(t,e,r,n){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=We(s),[c]=t.propsOptions;let d=!1;if((n||o>0)&&!(o&16)){if(o&8){const h=t.vnode.dynamicProps;for(let f=0;f<h.length;f++){let p=h[f];if(_d(t.emitsOptions,p))continue;const y=e[p];if(c)if(ct(i,p))y!==i[p]&&(i[p]=y,d=!0);else{const k=It(p);s[k]=Tf(c,a,k,y,t,!1)}else y!==i[p]&&(i[p]=y,d=!0)}}}else{ix(t,e,s,i)&&(d=!0);let h;for(const f in a)(!e||!ct(e,f)&&((h=zr(f))===f||!ct(e,h)))&&(c?r&&(r[f]!==void 0||r[h]!==void 0)&&(s[f]=Tf(c,a,f,void 0,t,!0)):delete s[f]);if(i!==a)for(const f in i)(!e||!ct(e,f))&&(delete i[f],d=!0)}d&&es(t.attrs,"set","")}function ix(t,e,r,n){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(Gs(c))continue;const d=e[c];let h;s&&ct(s,h=It(c))?!i||!i.includes(h)?r[h]=d:(a||(a={}))[h]=d:_d(t.emitsOptions,c)||(!(c in n)||d!==n[c])&&(n[c]=d,o=!0)}if(i){const c=We(r),d=a||Ke;for(let h=0;h<i.length;h++){const f=i[h];r[f]=Tf(s,c,f,d[f],t,!ct(d,f))}}return o}function Tf(t,e,r,n,s,i){const o=t[r];if(o!=null){const a=ct(o,"default");if(a&&n===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&De(c)){const{propsDefaults:d}=s;if(r in d)n=d[r];else{const h=Ui(s);n=d[r]=c.call(null,e),h()}}else n=c;s.ce&&s.ce._setProp(r,n)}o[0]&&(i&&!a?n=!1:o[1]&&(n===""||n===zr(r))&&(n=!0))}return n}const f4=new WeakMap;function ox(t,e,r=!1){const n=r?f4:e.propsCache,s=n.get(t);if(s)return s;const i=t.props,o={},a=[];let c=!1;if(!De(t)){const h=f=>{c=!0;const[p,y]=ox(f,e,!0);Qe(o,p),y&&a.push(...y)};!r&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!i&&!c)return yt(t)&&n.set(t,Ro),Ro;if(we(i))for(let h=0;h<i.length;h++){const f=It(i[h]);H0(f)&&(o[f]=Ke)}else if(i)for(const h in i){const f=It(h);if(H0(f)){const p=i[h],y=o[f]=we(p)||De(p)?{type:p}:Qe({},p),k=y.type;let _=!1,b=!0;if(we(k))for(let I=0;I<k.length;++I){const A=k[I],E=De(A)&&A.name;if(E==="Boolean"){_=!0;break}else E==="String"&&(b=!1)}else _=De(k)&&k.name==="Boolean";y[0]=_,y[1]=b,(_||ct(y,"default"))&&a.push(f)}}const d=[o,a];return yt(t)&&n.set(t,d),d}function H0(t){return t[0]!=="$"&&!Gs(t)}const ax=t=>t[0]==="_"||t==="$stable",em=t=>we(t)?t.map(Hr):[Hr(t)],p4=(t,e,r)=>{if(e._n)return e;const n=Z((...s)=>em(e(...s)),r);return n._c=!1,n},lx=(t,e,r)=>{const n=t._ctx;for(const s in t){if(ax(s))continue;const i=t[s];if(De(i))e[s]=p4(s,i,n);else if(i!=null){const o=em(i);e[s]=()=>o}}},cx=(t,e)=>{const r=em(e);t.slots.default=()=>r},ux=(t,e,r)=>{for(const n in e)(r||n!=="_")&&(t[n]=e[n])},m4=(t,e,r)=>{const n=t.slots=nx();if(t.vnode.shapeFlag&32){const s=e._;s?(ux(n,e,r),r&&r1(n,"_",s,!0)):lx(e,n)}else e&&cx(t,e)},g4=(t,e,r)=>{const{vnode:n,slots:s}=t;let i=!0,o=Ke;if(n.shapeFlag&32){const a=e._;a?r&&a===1?i=!1:ux(s,e,r):(i=!e.$stable,lx(e,s)),o=e}else e&&(cx(t,e),o={default:1});if(i)for(const a in s)!ax(a)&&o[a]==null&&delete s[a]},Qt=wx;function dx(t){return fx(t)}function hx(t){return fx(t,TT)}function fx(t,e){const r=ad();r.__VUE__=!0;const{insert:n,remove:s,patchProp:i,createElement:o,createText:a,createComment:c,setText:d,setElementText:h,parentNode:f,nextSibling:p,setScopeId:y=or,insertStaticContent:k}=t,_=(M,O,Y,oe=null,J=null,ne=null,pe=void 0,me=null,ge=!!O.dynamicChildren)=>{if(M===O)return;M&&!Tn(M,O)&&(oe=K(M),Ce(M,J,ne,!0),M=null),O.patchFlag===-2&&(ge=!1,O.dynamicChildren=null);const{type:fe,ref:$e,shapeFlag:be}=O;switch(fe){case Ys:b(M,O,Y,oe);break;case qt:I(M,O,Y,oe);break;case Oi:M==null&&A(O,Y,oe,pe);break;case _e:C(M,O,Y,oe,J,ne,pe,me,ge);break;default:be&1?S(M,O,Y,oe,J,ne,pe,me,ge):be&6?P(M,O,Y,oe,J,ne,pe,me,ge):(be&64||be&128)&&fe.process(M,O,Y,oe,J,ne,pe,me,ge,ee)}$e!=null&&J&&ml($e,M&&M.ref,ne,O||M,!O)},b=(M,O,Y,oe)=>{if(M==null)n(O.el=a(O.children),Y,oe);else{const J=O.el=M.el;O.children!==M.children&&d(J,O.children)}},I=(M,O,Y,oe)=>{M==null?n(O.el=c(O.children||""),Y,oe):O.el=M.el},A=(M,O,Y,oe)=>{[M.el,M.anchor]=k(M.children,O,Y,oe,M.el,M.anchor)},E=({el:M,anchor:O},Y,oe)=>{let J;for(;M&&M!==O;)J=p(M),n(M,Y,oe),M=J;n(O,Y,oe)},R=({el:M,anchor:O})=>{let Y;for(;M&&M!==O;)Y=p(M),s(M),M=Y;s(O)},S=(M,O,Y,oe,J,ne,pe,me,ge)=>{O.type==="svg"?pe="svg":O.type==="math"&&(pe="mathml"),M==null?L(O,Y,oe,J,ne,pe,me,ge):m(M,O,J,ne,pe,me,ge)},L=(M,O,Y,oe,J,ne,pe,me)=>{let ge,fe;const{props:$e,shapeFlag:be,transition:Re,dirs:Te}=M;if(ge=M.el=o(M.type,ne,$e&&$e.is,$e),be&8?h(ge,M.children):be&16&&v(M.children,ge,null,oe,J,Vh(M,ne),pe,me),Te&&Mn(M,null,oe,"created"),T(ge,M,M.scopeId,pe,oe),$e){for(const lt in $e)lt!=="value"&&!Gs(lt)&&i(ge,lt,null,$e[lt],ne,oe);"value"in $e&&i(ge,"value",null,$e.value,ne),(fe=$e.onVnodeBeforeMount)&&qr(fe,oe,M)}Te&&Mn(M,null,oe,"beforeMount");const Oe=px(J,Re);Oe&&Re.beforeEnter(ge),n(ge,O,Y),((fe=$e&&$e.onVnodeMounted)||Oe||Te)&&Qt(()=>{fe&&qr(fe,oe,M),Oe&&Re.enter(ge),Te&&Mn(M,null,oe,"mounted")},J)},T=(M,O,Y,oe,J)=>{if(Y&&y(M,Y),oe)for(let ne=0;ne<oe.length;ne++)y(M,oe[ne]);if(J){let ne=J.subTree;if(O===ne||Eu(ne.type)&&(ne.ssContent===O||ne.ssFallback===O)){const pe=J.vnode;T(M,pe,pe.scopeId,pe.slotScopeIds,J.parent)}}},v=(M,O,Y,oe,J,ne,pe,me,ge=0)=>{for(let fe=ge;fe<M.length;fe++){const $e=M[fe]=me?Ls(M[fe]):Hr(M[fe]);_(null,$e,O,Y,oe,J,ne,pe,me)}},m=(M,O,Y,oe,J,ne,pe)=>{const me=O.el=M.el;let{patchFlag:ge,dynamicChildren:fe,dirs:$e}=O;ge|=M.patchFlag&16;const be=M.props||Ke,Re=O.props||Ke;let Te;if(Y&&yi(Y,!1),(Te=Re.onVnodeBeforeUpdate)&&qr(Te,Y,O,M),$e&&Mn(O,M,Y,"beforeUpdate"),Y&&yi(Y,!0),(be.innerHTML&&Re.innerHTML==null||be.textContent&&Re.textContent==null)&&h(me,""),fe?w(M.dynamicChildren,fe,me,Y,oe,Vh(O,J),ne):pe||re(M,O,me,null,Y,oe,Vh(O,J),ne,!1),ge>0){if(ge&16)N(me,be,Re,Y,J);else if(ge&2&&be.class!==Re.class&&i(me,"class",null,Re.class,J),ge&4&&i(me,"style",be.style,Re.style,J),ge&8){const Oe=O.dynamicProps;for(let lt=0;lt<Oe.length;lt++){const nt=Oe[lt],pr=be[nt],Zt=Re[nt];(Zt!==pr||nt==="value")&&i(me,nt,pr,Zt,J,Y)}}ge&1&&M.children!==O.children&&h(me,O.children)}else!pe&&fe==null&&N(me,be,Re,Y,J);((Te=Re.onVnodeUpdated)||$e)&&Qt(()=>{Te&&qr(Te,Y,O,M),$e&&Mn(O,M,Y,"updated")},oe)},w=(M,O,Y,oe,J,ne,pe)=>{for(let me=0;me<O.length;me++){const ge=M[me],fe=O[me],$e=ge.el&&(ge.type===_e||!Tn(ge,fe)||ge.shapeFlag&70)?f(ge.el):Y;_(ge,fe,$e,null,oe,J,ne,pe,!0)}},N=(M,O,Y,oe,J)=>{if(O!==Y){if(O!==Ke)for(const ne in O)!Gs(ne)&&!(ne in Y)&&i(M,ne,O[ne],null,J,oe);for(const ne in Y){if(Gs(ne))continue;const pe=Y[ne],me=O[ne];pe!==me&&ne!=="value"&&i(M,ne,me,pe,J,oe)}"value"in Y&&i(M,"value",O.value,Y.value,J)}},C=(M,O,Y,oe,J,ne,pe,me,ge)=>{const fe=O.el=M?M.el:a(""),$e=O.anchor=M?M.anchor:a("");let{patchFlag:be,dynamicChildren:Re,slotScopeIds:Te}=O;Te&&(me=me?me.concat(Te):Te),M==null?(n(fe,Y,oe),n($e,Y,oe),v(O.children||[],Y,$e,J,ne,pe,me,ge)):be>0&&be&64&&Re&&M.dynamicChildren?(w(M.dynamicChildren,Re,Y,J,ne,pe,me),(O.key!=null||J&&O===J.subTree)&&tm(M,O,!0)):re(M,O,Y,$e,J,ne,pe,me,ge)},P=(M,O,Y,oe,J,ne,pe,me,ge)=>{O.slotScopeIds=me,M==null?O.shapeFlag&512?J.ctx.activate(O,Y,oe,pe,ge):ce(O,Y,oe,J,ne,pe,ge):he(M,O,ge)},ce=(M,O,Y,oe,J,ne,pe)=>{const me=M.component=Cx(M,oe,J);if(Ul(M)&&(me.ctx.renderer=ee),Rx(me,!1,pe),me.asyncDep){if(J&&J.registerDep(me,G,pe),!M.el){const ge=me.subTree=z(qt);I(null,ge,O,Y)}}else G(me,M,O,Y,J,ne,pe)},he=(M,O,Y)=>{const oe=O.component=M.component;if(I4(M,O,Y))if(oe.asyncDep&&!oe.asyncResolved){U(oe,O,Y);return}else oe.next=O,oe.update();else O.el=M.el,oe.vnode=O},G=(M,O,Y,oe,J,ne,pe)=>{const me=()=>{if(M.isMounted){let{next:be,bu:Re,u:Te,parent:Oe,vnode:lt}=M;{const mr=mx(M);if(mr){be&&(be.el=lt.el,U(M,be,pe)),mr.asyncDep.then(()=>{M.isUnmounted||me()});return}}let nt=be,pr;yi(M,!1),be?(be.el=lt.el,U(M,be,pe)):be=lt,Re&&Oo(Re),(pr=be.props&&be.props.onVnodeBeforeUpdate)&&qr(pr,Oe,be,lt),yi(M,!0);const Zt=Xc(M),tr=M.subTree;M.subTree=Zt,_(tr,Zt,f(tr.el),K(tr),M,J,ne),be.el=Zt.el,nt===null&&kd(M,Zt.el),Te&&Qt(Te,J),(pr=be.props&&be.props.onVnodeUpdated)&&Qt(()=>qr(pr,Oe,be,lt),J)}else{let be;const{el:Re,props:Te}=O,{bm:Oe,m:lt,parent:nt,root:pr,type:Zt}=M,tr=Qs(O);if(yi(M,!1),Oe&&Oo(Oe),!tr&&(be=Te&&Te.onVnodeBeforeMount)&&qr(be,nt,O),yi(M,!0),Re&&W){const mr=()=>{M.subTree=Xc(M),W(Re,M.subTree,M,J,null)};tr&&Zt.__asyncHydrate?Zt.__asyncHydrate(Re,M,mr):mr()}else{pr.ce&&pr.ce._injectChildStyle(Zt);const mr=M.subTree=Xc(M);_(null,mr,Y,oe,M,J,ne),O.el=mr.el}if(lt&&Qt(lt,J),!tr&&(be=Te&&Te.onVnodeMounted)){const mr=O;Qt(()=>qr(be,nt,mr),J)}(O.shapeFlag&256||nt&&Qs(nt.vnode)&&nt.vnode.shapeFlag&256)&&M.a&&Qt(M.a,J),M.isMounted=!0,O=Y=oe=null}};M.scope.on();const ge=M.effect=new cl(me);M.scope.off();const fe=M.update=ge.run.bind(ge),$e=M.job=ge.runIfDirty.bind(ge);$e.i=M,$e.id=M.uid,ge.scheduler=()=>Hp($e),yi(M,!0),fe()},U=(M,O,Y)=>{O.component=M;const oe=M.vnode.props;M.vnode=O,M.next=null,h4(M,O.props,oe,Y),g4(M,O.children,Y),li(),$0(M),ci()},re=(M,O,Y,oe,J,ne,pe,me,ge=!1)=>{const fe=M&&M.children,$e=M?M.shapeFlag:0,be=O.children,{patchFlag:Re,shapeFlag:Te}=O;if(Re>0){if(Re&128){Ee(fe,be,Y,oe,J,ne,pe,me,ge);return}else if(Re&256){ae(fe,be,Y,oe,J,ne,pe,me,ge);return}}Te&8?($e&16&&bt(fe,J,ne),be!==fe&&h(Y,be)):$e&16?Te&16?Ee(fe,be,Y,oe,J,ne,pe,me,ge):bt(fe,J,ne,!0):($e&8&&h(Y,""),Te&16&&v(be,Y,oe,J,ne,pe,me,ge))},ae=(M,O,Y,oe,J,ne,pe,me,ge)=>{M=M||Ro,O=O||Ro;const fe=M.length,$e=O.length,be=Math.min(fe,$e);let Re;for(Re=0;Re<be;Re++){const Te=O[Re]=ge?Ls(O[Re]):Hr(O[Re]);_(M[Re],Te,Y,null,J,ne,pe,me,ge)}fe>$e?bt(M,J,ne,!0,!1,be):v(O,Y,oe,J,ne,pe,me,ge,be)},Ee=(M,O,Y,oe,J,ne,pe,me,ge)=>{let fe=0;const $e=O.length;let be=M.length-1,Re=$e-1;for(;fe<=be&&fe<=Re;){const Te=M[fe],Oe=O[fe]=ge?Ls(O[fe]):Hr(O[fe]);if(Tn(Te,Oe))_(Te,Oe,Y,null,J,ne,pe,me,ge);else break;fe++}for(;fe<=be&&fe<=Re;){const Te=M[be],Oe=O[Re]=ge?Ls(O[Re]):Hr(O[Re]);if(Tn(Te,Oe))_(Te,Oe,Y,null,J,ne,pe,me,ge);else break;be--,Re--}if(fe>be){if(fe<=Re){const Te=Re+1,Oe=Te<$e?O[Te].el:oe;for(;fe<=Re;)_(null,O[fe]=ge?Ls(O[fe]):Hr(O[fe]),Y,Oe,J,ne,pe,me,ge),fe++}}else if(fe>Re)for(;fe<=be;)Ce(M[fe],J,ne,!0),fe++;else{const Te=fe,Oe=fe,lt=new Map;for(fe=Oe;fe<=Re;fe++){const $r=O[fe]=ge?Ls(O[fe]):Hr(O[fe]);$r.key!=null&&lt.set($r.key,fe)}let nt,pr=0;const Zt=Re-Oe+1;let tr=!1,mr=0;const ws=new Array(Zt);for(fe=0;fe<Zt;fe++)ws[fe]=0;for(fe=Te;fe<=be;fe++){const $r=M[fe];if(pr>=Zt){Ce($r,J,ne,!0);continue}let dn;if($r.key!=null)dn=lt.get($r.key);else for(nt=Oe;nt<=Re;nt++)if(ws[nt-Oe]===0&&Tn($r,O[nt])){dn=nt;break}dn===void 0?Ce($r,J,ne,!0):(ws[dn-Oe]=fe+1,dn>=mr?mr=dn:tr=!0,_($r,O[dn],Y,null,J,ne,pe,me,ge),pr++)}const lo=tr?y4(ws):Ro;for(nt=lo.length-1,fe=Zt-1;fe>=0;fe--){const $r=Oe+fe,dn=O[$r],co=$r+1<$e?O[$r+1].el:oe;ws[fe]===0?_(null,dn,Y,co,J,ne,pe,me,ge):tr&&(nt<0||fe!==lo[nt]?ve(dn,Y,co,2):nt--)}}},ve=(M,O,Y,oe,J=null)=>{const{el:ne,type:pe,transition:me,children:ge,shapeFlag:fe}=M;if(fe&6){ve(M.component.subTree,O,Y,oe);return}if(fe&128){M.suspense.move(O,Y,oe);return}if(fe&64){pe.move(M,O,Y,ee);return}if(pe===_e){n(ne,O,Y);for(let be=0;be<ge.length;be++)ve(ge[be],O,Y,oe);n(M.anchor,O,Y);return}if(pe===Oi){E(M,O,Y);return}if(oe!==2&&fe&1&&me)if(oe===0)me.beforeEnter(ne),n(ne,O,Y),Qt(()=>me.enter(ne),J);else{const{leave:be,delayLeave:Re,afterLeave:Te}=me,Oe=()=>n(ne,O,Y),lt=()=>{be(ne,()=>{Oe(),Te&&Te()})};Re?Re(ne,Oe,lt):lt()}else n(ne,O,Y)},Ce=(M,O,Y,oe=!1,J=!1)=>{const{type:ne,props:pe,ref:me,children:ge,dynamicChildren:fe,shapeFlag:$e,patchFlag:be,dirs:Re,cacheIndex:Te}=M;if(be===-2&&(J=!1),me!=null&&ml(me,null,Y,M,!0),Te!=null&&(O.renderCache[Te]=void 0),$e&256){O.ctx.deactivate(M);return}const Oe=$e&1&&Re,lt=!Qs(M);let nt;if(lt&&(nt=pe&&pe.onVnodeBeforeUnmount)&&qr(nt,O,M),$e&6)Tt(M.component,Y,oe);else{if($e&128){M.suspense.unmount(Y,oe);return}Oe&&Mn(M,null,O,"beforeUnmount"),$e&64?M.type.remove(M,O,Y,ee,oe):fe&&!fe.hasOnce&&(ne!==_e||be>0&&be&64)?bt(fe,O,Y,!1,!0):(ne===_e&&be&384||!J&&$e&16)&&bt(ge,O,Y),oe&&Fe(M)}(lt&&(nt=pe&&pe.onVnodeUnmounted)||Oe)&&Qt(()=>{nt&&qr(nt,O,M),Oe&&Mn(M,null,O,"unmounted")},Y)},Fe=M=>{const{type:O,el:Y,anchor:oe,transition:J}=M;if(O===_e){at(Y,oe);return}if(O===Oi){R(M);return}const ne=()=>{s(Y),J&&!J.persisted&&J.afterLeave&&J.afterLeave()};if(M.shapeFlag&1&&J&&!J.persisted){const{leave:pe,delayLeave:me}=J,ge=()=>pe(Y,ne);me?me(M.el,ne,ge):ge()}else ne()},at=(M,O)=>{let Y;for(;M!==O;)Y=p(M),s(M),M=Y;s(O)},Tt=(M,O,Y)=>{const{bum:oe,scope:J,job:ne,subTree:pe,um:me,m:ge,a:fe}=M;wu(ge),wu(fe),oe&&Oo(oe),J.stop(),ne&&(ne.flags|=8,Ce(pe,M,O,Y)),me&&Qt(me,O),Qt(()=>{M.isUnmounted=!0},O),O&&O.pendingBranch&&!O.isUnmounted&&M.asyncDep&&!M.asyncResolved&&M.suspenseId===O.pendingId&&(O.deps--,O.deps===0&&O.resolve())},bt=(M,O,Y,oe=!1,J=!1,ne=0)=>{for(let pe=ne;pe<M.length;pe++)Ce(M[pe],O,Y,oe,J)},K=M=>{if(M.shapeFlag&6)return K(M.component.subTree);if(M.shapeFlag&128)return M.suspense.next();const O=p(M.anchor||M.el),Y=O&&O[O1];return Y?p(Y):O};let F=!1;const j=(M,O,Y)=>{M==null?O._vnode&&Ce(O._vnode,null,null,!0):_(O._vnode||null,M,O,null,null,null,Y),O._vnode=M,F||(F=!0,$0(),xu(),F=!1)},ee={p:_,um:Ce,m:ve,r:Fe,mt:ce,mc:v,pc:re,pbc:w,n:K,o:t};let ie,W;return e&&([ie,W]=e(ee)),{render:j,hydrate:ie,createApp:u4(j,ie)}}function Vh({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function yi({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function px(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function tm(t,e,r=!1){const n=t.children,s=e.children;if(we(n)&&we(s))for(let i=0;i<n.length;i++){const o=n[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=Ls(s[i]),a.el=o.el),!r&&a.patchFlag!==-2&&tm(o,a)),a.type===Ys&&(a.el=o.el)}}function y4(t){const e=t.slice(),r=[0];let n,s,i,o,a;const c=t.length;for(n=0;n<c;n++){const d=t[n];if(d!==0){if(s=r[r.length-1],t[s]<d){e[n]=s,r.push(n);continue}for(i=0,o=r.length-1;i<o;)a=i+o>>1,t[r[a]]<d?i=a+1:o=a;d<t[r[i]]&&(i>0&&(e[n]=r[i-1]),r[i]=n)}}for(i=r.length,o=r[i-1];i-- >0;)r[i]=o,o=e[o];return r}function mx(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:mx(e)}function wu(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const gx=Symbol.for("v-scx"),yx=()=>ot(gx);function ur(t,e){return jl(t,null,e)}function v4(t,e){return jl(t,null,{flush:"post"})}function vx(t,e){return jl(t,null,{flush:"sync"})}function Rt(t,e,r){return jl(t,e,r)}function jl(t,e,r=Ke){const{immediate:n,deep:s,flush:i,once:o}=r,a=Qe({},r),c=e&&n||!e&&i!=="post";let d;if(Bo){if(i==="sync"){const y=yx();d=y.__watcherHandles||(y.__watcherHandles=[])}else if(!c){const y=()=>{};return y.stop=or,y.resume=or,y.pause=or,y}}const h=Jt;a.call=(y,k,_)=>bn(y,h,k,_);let f=!1;i==="post"?a.scheduler=y=>{Qt(y,h&&h.suspense)}:i!=="sync"&&(f=!0,a.scheduler=(y,k)=>{k?y():Hp(y)}),a.augmentJob=y=>{e&&(y.flags|=4),f&&(y.flags|=2,h&&(y.id=h.uid,y.i=h))};const p=uT(t,e,a);return Bo&&(d?d.push(p):c&&p()),p}function b4(t,e,r){const n=this.proxy,s=qe(t)?t.includes(".")?bx(n,t):()=>n[t]:t.bind(n,n);let i;De(e)?i=e:(i=e.handler,r=e);const o=Ui(this),a=jl(s,i.bind(n),r);return o(),a}function bx(t,e){const r=e.split(".");return()=>{let n=t;for(let s=0;s<r.length&&n;s++)n=n[r[s]];return n}}function x4(t,e,r=Ke){const n=cn(),s=It(e),i=zr(e),o=xx(t,s),a=E1((c,d)=>{let h,f=Ke,p;return vx(()=>{const y=t[s];Vr(h,y)&&(h=y,d())}),{get(){return c(),r.get?r.get(h):h},set(y){const k=r.set?r.set(y):y;if(!Vr(k,h)&&!(f!==Ke&&Vr(y,f)))return;const _=n.vnode.props;_&&(e in _||s in _||i in _)&&(`onUpdate:${e}`in _||`onUpdate:${s}`in _||`onUpdate:${i}`in _)||(h=y,d()),n.emit(`update:${e}`,k),Vr(y,k)&&Vr(y,f)&&!Vr(k,p)&&d(),f=y,p=k}}});return a[Symbol.iterator]=()=>{let c=0;return{next(){return c<2?{value:c++?o||Ke:a,done:!1}:{done:!0}}}},a}const xx=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${It(e)}Modifiers`]||t[`${zr(e)}Modifiers`];function _4(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||Ke;let s=r;const i=e.startsWith("update:"),o=i&&xx(n,e.slice(7));o&&(o.trim&&(s=r.map(h=>qe(h)?h.trim():h)),o.number&&(s=r.map(mu)));let a,c=n[a=$o(e)]||n[a=$o(It(e))];!c&&i&&(c=n[a=$o(zr(e))]),c&&bn(c,t,6,s);const d=n[a+"Once"];if(d){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,bn(d,t,6,s)}}function _x(t,e,r=!1){const n=e.emitsCache,s=n.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!De(t)){const c=d=>{const h=_x(d,e,!0);h&&(a=!0,Qe(o,h))};!r&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!a?(yt(t)&&n.set(t,null),null):(we(i)?i.forEach(c=>o[c]=null):Qe(o,i),yt(t)&&n.set(t,o),o)}function _d(t,e){return!t||!Xi(e)?!1:(e=e.slice(2).replace(/Once$/,""),ct(t,e[0].toLowerCase()+e.slice(1))||ct(t,zr(e))||ct(t,e))}function Xc(t){const{type:e,vnode:r,proxy:n,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:c,render:d,renderCache:h,props:f,data:p,setupState:y,ctx:k,inheritAttrs:_}=t,b=pl(t);let I,A;try{if(r.shapeFlag&4){const R=s||n,S=R;I=Hr(d.call(S,R,h,f,y,p,k)),A=a}else{const R=e;I=Hr(R.length>1?R(f,{attrs:a,slots:o,emit:c}):R(f,null)),A=e.props?a:w4(a)}}catch(R){Ja.length=0,to(R,t,1),I=z(qt)}let E=I;if(A&&_!==!1){const R=Object.keys(A),{shapeFlag:S}=E;R.length&&S&7&&(i&&R.some(Rp)&&(A=E4(A,i)),E=Pn(E,A,!1,!0))}return r.dirs&&(E=Pn(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(r.dirs):r.dirs),r.transition&&us(E,r.transition),I=E,pl(b),I}function k4(t,e=!0){let r;for(let n=0;n<t.length;n++){const s=t[n];if(ds(s)){if(s.type!==qt||s.children==="v-if"){if(r)return;r=s}}else return}return r}const w4=t=>{let e;for(const r in t)(r==="class"||r==="style"||Xi(r))&&((e||(e={}))[r]=t[r]);return e},E4=(t,e)=>{const r={};for(const n in t)(!Rp(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function I4(t,e,r){const{props:n,children:s,component:i}=t,{props:o,children:a,patchFlag:c}=e,d=i.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&c>=0){if(c&1024)return!0;if(c&16)return n?z0(n,o,d):!!o;if(c&8){const h=e.dynamicProps;for(let f=0;f<h.length;f++){const p=h[f];if(o[p]!==n[p]&&!_d(d,p))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?z0(n,o,d):!0:!!o;return!1}function z0(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let s=0;s<n.length;s++){const i=n[s];if(e[i]!==t[i]&&!_d(r,i))return!0}return!1}function kd({vnode:t,parent:e},r){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=r,e=e.parent;else break}}const Eu=t=>t.__isSuspense;let Af=0;const T4={name:"Suspense",__isSuspense:!0,process(t,e,r,n,s,i,o,a,c,d){if(t==null)S4(e,r,n,s,i,o,a,c,d);else{if(i&&i.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}C4(t,e,r,n,s,o,a,c,d)}},hydrate:P4,normalize:R4},A4=T4;function yl(t,e){const r=t.props&&t.props[e];De(r)&&r()}function S4(t,e,r,n,s,i,o,a,c){const{p:d,o:{createElement:h}}=c,f=h("div"),p=t.suspense=kx(t,s,n,e,f,r,i,o,a,c);d(null,p.pendingBranch=t.ssContent,f,null,n,p,i,o),p.deps>0?(yl(t,"onPending"),yl(t,"onFallback"),d(null,t.ssFallback,e,r,n,null,i,o),Mo(p,t.ssFallback)):p.resolve(!1,!0)}function C4(t,e,r,n,s,i,o,a,{p:c,um:d,o:{createElement:h}}){const f=e.suspense=t.suspense;f.vnode=e,e.el=t.el;const p=e.ssContent,y=e.ssFallback,{activeBranch:k,pendingBranch:_,isInFallback:b,isHydrating:I}=f;if(_)f.pendingBranch=p,Tn(p,_)?(c(_,p,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0?f.resolve():b&&(I||(c(k,y,r,n,s,null,i,o,a),Mo(f,y)))):(f.pendingId=Af++,I?(f.isHydrating=!1,f.activeBranch=_):d(_,s,f),f.deps=0,f.effects.length=0,f.hiddenContainer=h("div"),b?(c(null,p,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0?f.resolve():(c(k,y,r,n,s,null,i,o,a),Mo(f,y))):k&&Tn(p,k)?(c(k,p,r,n,s,f,i,o,a),f.resolve(!0)):(c(null,p,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0&&f.resolve()));else if(k&&Tn(p,k))c(k,p,r,n,s,f,i,o,a),Mo(f,p);else if(yl(e,"onPending"),f.pendingBranch=p,p.shapeFlag&512?f.pendingId=p.component.suspenseId:f.pendingId=Af++,c(null,p,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0)f.resolve();else{const{timeout:A,pendingId:E}=f;A>0?setTimeout(()=>{f.pendingId===E&&f.fallback(y)},A):A===0&&f.fallback(y)}}function kx(t,e,r,n,s,i,o,a,c,d,h=!1){const{p:f,m:p,um:y,n:k,o:{parentNode:_,remove:b}}=d;let I;const A=N4(t);A&&e&&e.pendingBranch&&(I=e.pendingId,e.deps++);const E=t.props?gu(t.props.timeout):void 0,R=i,S={vnode:t,parent:e,parentComponent:r,namespace:o,container:n,hiddenContainer:s,deps:0,pendingId:Af++,timeout:typeof E=="number"?E:-1,activeBranch:null,pendingBranch:null,isInFallback:!h,isHydrating:h,isUnmounted:!1,effects:[],resolve(L=!1,T=!1){const{vnode:v,activeBranch:m,pendingBranch:w,pendingId:N,effects:C,parentComponent:P,container:ce}=S;let he=!1;S.isHydrating?S.isHydrating=!1:L||(he=m&&w.transition&&w.transition.mode==="out-in",he&&(m.transition.afterLeave=()=>{N===S.pendingId&&(p(w,ce,i===R?k(m):i,0),hl(C))}),m&&(_(m.el)===ce&&(i=k(m)),y(m,P,S,!0)),he||p(w,ce,i,0)),Mo(S,w),S.pendingBranch=null,S.isInFallback=!1;let G=S.parent,U=!1;for(;G;){if(G.pendingBranch){G.effects.push(...C),U=!0;break}G=G.parent}!U&&!he&&hl(C),S.effects=[],A&&e&&e.pendingBranch&&I===e.pendingId&&(e.deps--,e.deps===0&&!T&&e.resolve()),yl(v,"onResolve")},fallback(L){if(!S.pendingBranch)return;const{vnode:T,activeBranch:v,parentComponent:m,container:w,namespace:N}=S;yl(T,"onFallback");const C=k(v),P=()=>{S.isInFallback&&(f(null,L,w,C,m,null,N,a,c),Mo(S,L))},ce=L.transition&&L.transition.mode==="out-in";ce&&(v.transition.afterLeave=P),S.isInFallback=!0,y(v,m,null,!0),ce||P()},move(L,T,v){S.activeBranch&&p(S.activeBranch,L,T,v),S.container=L},next(){return S.activeBranch&&k(S.activeBranch)},registerDep(L,T,v){const m=!!S.pendingBranch;m&&S.deps++;const w=L.vnode.el;L.asyncDep.catch(N=>{to(N,L,0)}).then(N=>{if(L.isUnmounted||S.isUnmounted||S.pendingId!==L.suspenseId)return;L.asyncResolved=!0;const{vnode:C}=L;Rf(L,N,!1),w&&(C.el=w);const P=!w&&L.subTree.el;T(L,C,_(w||L.subTree.el),w?null:k(L.subTree),S,o,v),P&&b(P),kd(L,C.el),m&&--S.deps===0&&S.resolve()})},unmount(L,T){S.isUnmounted=!0,S.activeBranch&&y(S.activeBranch,r,L,T),S.pendingBranch&&y(S.pendingBranch,r,L,T)}};return S}function P4(t,e,r,n,s,i,o,a,c){const d=e.suspense=kx(e,n,r,t.parentNode,document.createElement("div"),null,s,i,o,a,!0),h=c(t,d.pendingBranch=e.ssContent,r,d,i,o);return d.deps===0&&d.resolve(!1,!0),h}function R4(t){const{shapeFlag:e,children:r}=t,n=e&32;t.ssContent=W0(n?r.default:r),t.ssFallback=n?W0(r.fallback):z(qt)}function W0(t){let e;if(De(t)){const r=Fi&&t._c;r&&(t._d=!1,D()),t=t(),r&&(t._d=!0,e=Tr,Ex())}return we(t)&&(t=k4(t)),t=Hr(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(r=>r!==t)),t}function wx(t,e){e&&e.pendingBranch?we(t)?e.effects.push(...t):e.effects.push(t):hl(t)}function Mo(t,e){t.activeBranch=e;const{vnode:r,parentComponent:n}=t;let s=e.el;for(;!s&&e.component;)e=e.component.subTree,s=e.el;r.el=s,n&&n.subTree===r&&(n.vnode.el=s,kd(n,s))}function N4(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const _e=Symbol.for("v-fgt"),Ys=Symbol.for("v-txt"),qt=Symbol.for("v-cmt"),Oi=Symbol.for("v-stc"),Ja=[];let Tr=null;function D(t=!1){Ja.push(Tr=t?null:[])}function Ex(){Ja.pop(),Tr=Ja[Ja.length-1]||null}let Fi=1;function Sf(t,e=!1){Fi+=t,t<0&&Tr&&e&&(Tr.hasOnce=!0)}function Ix(t){return t.dynamicChildren=Fi>0?Tr||Ro:null,Ex(),Fi>0&&Tr&&Tr.push(t),t}function V(t,e,r,n,s,i){return Ix(l(t,e,r,n,s,i,!0))}function mt(t,e,r,n,s){return Ix(z(t,e,r,n,s,!0))}function ds(t){return t?t.__v_isVNode===!0:!1}function Tn(t,e){return t.type===e.type&&t.key===e.key}function $4(t){}const Tx=({key:t})=>t??null,Zc=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?qe(t)||Pt(t)||De(t)?{i:Xt,r:t,k:e,f:!!r}:t:null);function l(t,e=null,r=null,n=0,s=null,i=t===_e?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Tx(e),ref:e&&Zc(e),scopeId:gd,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Xt};return a?(rm(c,r),i&128&&t.normalize(c)):r&&(c.shapeFlag|=qe(r)?8:16),Fi>0&&!o&&Tr&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&Tr.push(c),c}const z=O4;function O4(t,e=null,r=null,n=0,s=null,i=!1){if((!t||t===J1)&&(t=qt),ds(t)){const a=Pn(t,e,!0);return r&&rm(a,r),Fi>0&&!i&&Tr&&(a.shapeFlag&6?Tr[Tr.indexOf(t)]=a:Tr.push(a)),a.patchFlag=-2,a}if(U4(t)&&(t=t.__vccOpts),e){e=Ax(e);let{class:a,style:c}=e;a&&!qe(a)&&(e.class=Ie(a)),yt(c)&&(fd(c)&&!we(c)&&(c=Qe({},c)),e.style=Ct(c))}const o=qe(t)?1:Eu(t)?128:D1(t)?64:yt(t)?4:De(t)?2:0;return l(t,e,r,n,s,o,i,!0)}function Ax(t){return t?fd(t)||sx(t)?Qe({},t):t:null}function Pn(t,e,r=!1,n=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:c}=t,d=e?Sx(s||{},e):s,h={__v_isVNode:!0,__v_skip:!0,type:t.type,props:d,key:d&&Tx(d),ref:e&&e.ref?r&&i?we(i)?i.concat(Zc(e)):[i,Zc(e)]:Zc(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==_e?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Pn(t.ssContent),ssFallback:t.ssFallback&&Pn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&n&&us(h,c.clone(h)),h}function ue(t=" ",e=0){return z(Ys,null,t,e)}function dt(t,e){const r=z(Oi,null,t);return r.staticCount=e,r}function de(t="",e=!1){return e?(D(),mt(qt,null,t)):z(qt,null,t)}function Hr(t){return t==null||typeof t=="boolean"?z(qt):we(t)?z(_e,null,t.slice()):ds(t)?Ls(t):z(Ys,null,String(t))}function Ls(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Pn(t)}function rm(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(we(e))r=16;else if(typeof e=="object")if(n&65){const s=e.default;s&&(s._c&&(s._d=!1),rm(t,s()),s._c&&(s._d=!0));return}else{r=32;const s=e._;!s&&!sx(e)?e._ctx=Xt:s===3&&Xt&&(Xt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else De(e)?(e={default:e,_ctx:Xt},r=32):(e=String(e),n&64?(r=16,e=[ue(e)]):r=8);t.children=e,t.shapeFlag|=r}function Sx(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const s in n)if(s==="class")e.class!==n.class&&(e.class=Ie([e.class,n.class]));else if(s==="style")e.style=Ct([e.style,n.style]);else if(Xi(s)){const i=e[s],o=n[s];o&&i!==o&&!(we(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=n[s])}return e}function qr(t,e,r,n=null){bn(t,e,7,[r,n])}const D4=ex();let M4=0;function Cx(t,e,r){const n=t.type,s=(e?e.appContext:t.appContext)||D4,i={uid:M4++,vnode:t,type:n,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Dp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ox(n,s),emitsOptions:_x(n,s),emit:null,emitted:null,propsDefaults:Ke,inheritAttrs:n.inheritAttrs,ctx:Ke,data:Ke,props:Ke,attrs:Ke,slots:Ke,refs:Ke,setupState:Ke,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=_4.bind(null,i),t.ce&&t.ce(i),i}let Jt=null;const cn=()=>Jt||Xt;let Iu,Cf;{const t=ad(),e=(r,n)=>{let s;return(s=t[r])||(s=t[r]=[]),s.push(n),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};Iu=e("__VUE_INSTANCE_SETTERS__",r=>Jt=r),Cf=e("__VUE_SSR_SETTERS__",r=>Bo=r)}const Ui=t=>{const e=Jt;return Iu(t),t.scope.on(),()=>{t.scope.off(),Iu(e)}},Pf=()=>{Jt&&Jt.scope.off(),Iu(null)};function Px(t){return t.vnode.shapeFlag&4}let Bo=!1;function Rx(t,e=!1,r=!1){e&&Cf(e);const{props:n,children:s}=t.vnode,i=Px(t);d4(t,n,i,e),m4(t,s,r);const o=i?V4(t,e):void 0;return e&&Cf(!1),o}function V4(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,wf);const{setup:n}=r;if(n){li();const s=t.setupContext=n.length>1?Ox(t):null,i=Ui(t),o=la(n,t,0,[t.props,s]),a=$p(o);if(ci(),i(),(a||t.sp)&&!Qs(t)&&Gp(t),a){if(o.then(Pf,Pf),e)return o.then(c=>{Rf(t,c,e)}).catch(c=>{to(c,t,0)});t.asyncDep=o}else Rf(t,o,e)}else $x(t,e)}function Rf(t,e,r){De(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:yt(e)&&(t.setupState=qp(e)),$x(t,r)}let Tu,Nf;function Nx(t){Tu=t,Nf=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,HT))}}const L4=()=>!Tu;function $x(t,e,r){const n=t.type;if(!t.render){if(!e&&Tu&&!n.render){const s=n.template||Zp(t).template;if(s){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:c}=n,d=Qe(Qe({isCustomElement:i,delimiters:a},o),c);n.render=Tu(s,d)}}t.render=n.render||or,Nf&&Nf(t)}{const s=Ui(t);li();try{s4(t)}finally{ci(),s()}}}const F4={get(t,e){return wr(t,"get",""),t[e]}};function Ox(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,F4),slots:t.slots,emit:t.emit,expose:e}}function Bl(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(qp(pd(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Ya)return Ya[r](t)},has(e,r){return r in e||r in Ya}})):t.proxy}function $f(t,e=!0){return De(t)?t.displayName||t.name:t.name||e&&t.__name}function U4(t){return De(t)&&"__vccOpts"in t}const te=(t,e)=>oT(t,e,Bo);function _t(t,e,r){const n=arguments.length;return n===2?yt(e)&&!we(e)?ds(e)?z(t,null,[e]):z(t,e):z(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&ds(r)&&(r=[r]),z(t,e,r))}function j4(){}function B4(t,e,r,n){const s=r[n];if(s&&Dx(s,t))return s;const i=e();return i.memo=t.slice(),i.cacheIndex=n,r[n]=i}function Dx(t,e){const r=t.memo;if(r.length!=e.length)return!1;for(let n=0;n<r.length;n++)if(Vr(r[n],e[n]))return!1;return Fi>0&&Tr&&Tr.push(t),!0}const Mx="3.5.13",q4=or,H4=mT,z4=xo,W4=$1,K4={createComponentInstance:Cx,setupComponent:Rx,renderComponentRoot:Xc,setCurrentRenderingInstance:pl,isVNode:ds,normalizeVNode:Hr,getComponentPublicInstance:Bl,ensureValidVNode:Xp,pushWarningContext:dT,popWarningContext:hT},G4=K4,Q4=null,Y4=null,J4=null;/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Of;const K0=typeof window<"u"&&window.trustedTypes;if(K0)try{Of=K0.createPolicy("vue",{createHTML:t=>t})}catch{}const Vx=Of?t=>Of.createHTML(t):t=>t,X4="http://www.w3.org/2000/svg",Z4="http://www.w3.org/1998/Math/MathML",Zn=typeof document<"u"?document:null,G0=Zn&&Zn.createElement("template"),eA={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const s=e==="svg"?Zn.createElementNS(X4,t):e==="mathml"?Zn.createElementNS(Z4,t):r?Zn.createElement(t,{is:r}):Zn.createElement(t);return t==="select"&&n&&n.multiple!=null&&s.setAttribute("multiple",n.multiple),s},createText:t=>Zn.createTextNode(t),createComment:t=>Zn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Zn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,s,i){const o=r?r.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),r),!(s===i||!(s=s.nextSibling)););else{G0.innerHTML=Vx(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const a=G0.content;if(n==="svg"||n==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},As="transition",Sa="animation",qo=Symbol("_vtc"),Lx={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Fx=Qe({},Kp,Lx),tA=t=>(t.displayName="Transition",t.props=Fx,t),zs=tA((t,{slots:e})=>_t(U1,Ux(t),e)),vi=(t,e=[])=>{we(t)?t.forEach(r=>r(...e)):t&&t(...e)},Q0=t=>t?we(t)?t.some(e=>e.length>1):t.length>1:!1;function Ux(t){const e={};for(const C in t)C in Lx||(e[C]=t[C]);if(t.css===!1)return e;const{name:r="v",type:n,duration:s,enterFromClass:i=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:c=i,appearActiveClass:d=o,appearToClass:h=a,leaveFromClass:f=`${r}-leave-from`,leaveActiveClass:p=`${r}-leave-active`,leaveToClass:y=`${r}-leave-to`}=t,k=rA(s),_=k&&k[0],b=k&&k[1],{onBeforeEnter:I,onEnter:A,onEnterCancelled:E,onLeave:R,onLeaveCancelled:S,onBeforeAppear:L=I,onAppear:T=A,onAppearCancelled:v=E}=e,m=(C,P,ce,he)=>{C._enterCancelled=he,Ns(C,P?h:a),Ns(C,P?d:o),ce&&ce()},w=(C,P)=>{C._isLeaving=!1,Ns(C,f),Ns(C,y),Ns(C,p),P&&P()},N=C=>(P,ce)=>{const he=C?T:A,G=()=>m(P,C,ce);vi(he,[P,G]),Y0(()=>{Ns(P,C?c:i),On(P,C?h:a),Q0(he)||J0(P,n,_,G)})};return Qe(e,{onBeforeEnter(C){vi(I,[C]),On(C,i),On(C,o)},onBeforeAppear(C){vi(L,[C]),On(C,c),On(C,d)},onEnter:N(!1),onAppear:N(!0),onLeave(C,P){C._isLeaving=!0;const ce=()=>w(C,P);On(C,f),C._enterCancelled?(On(C,p),Df()):(Df(),On(C,p)),Y0(()=>{C._isLeaving&&(Ns(C,f),On(C,y),Q0(R)||J0(C,n,b,ce))}),vi(R,[C,ce])},onEnterCancelled(C){m(C,!1,void 0,!0),vi(E,[C])},onAppearCancelled(C){m(C,!0,void 0,!0),vi(v,[C])},onLeaveCancelled(C){w(C),vi(S,[C])}})}function rA(t){if(t==null)return null;if(yt(t))return[Lh(t.enter),Lh(t.leave)];{const e=Lh(t);return[e,e]}}function Lh(t){return gu(t)}function On(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[qo]||(t[qo]=new Set)).add(e)}function Ns(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const r=t[qo];r&&(r.delete(e),r.size||(t[qo]=void 0))}function Y0(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let nA=0;function J0(t,e,r,n){const s=t._endId=++nA,i=()=>{s===t._endId&&n()};if(r!=null)return setTimeout(i,r);const{type:o,timeout:a,propCount:c}=jx(t,e);if(!o)return n();const d=o+"end";let h=0;const f=()=>{t.removeEventListener(d,p),i()},p=y=>{y.target===t&&++h>=c&&f()};setTimeout(()=>{h<c&&f()},a+1),t.addEventListener(d,p)}function jx(t,e){const r=window.getComputedStyle(t),n=k=>(r[k]||"").split(", "),s=n(`${As}Delay`),i=n(`${As}Duration`),o=X0(s,i),a=n(`${Sa}Delay`),c=n(`${Sa}Duration`),d=X0(a,c);let h=null,f=0,p=0;e===As?o>0&&(h=As,f=o,p=i.length):e===Sa?d>0&&(h=Sa,f=d,p=c.length):(f=Math.max(o,d),h=f>0?o>d?As:Sa:null,p=h?h===As?i.length:c.length:0);const y=h===As&&/\b(transform|all)(,|$)/.test(n(`${As}Property`).toString());return{type:h,timeout:f,propCount:p,hasTransform:y}}function X0(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,n)=>Z0(r)+Z0(t[n])))}function Z0(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Df(){return document.body.offsetHeight}function sA(t,e,r){const n=t[qo];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const Au=Symbol("_vod"),Bx=Symbol("_vsh"),wd={beforeMount(t,{value:e},{transition:r}){t[Au]=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):Ca(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:n}){!e!=!r&&(n?e?(n.beforeEnter(t),Ca(t,!0),n.enter(t)):n.leave(t,()=>{Ca(t,!1)}):Ca(t,e))},beforeUnmount(t,{value:e}){Ca(t,e)}};function Ca(t,e){t.style.display=e?t[Au]:"none",t[Bx]=!e}function iA(){wd.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const qx=Symbol("");function oA(t){const e=cn();if(!e)return;const r=e.ut=(s=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(i=>Su(i,s))},n=()=>{const s=t(e.proxy);e.ce?Su(e.ce,s):Mf(e.subTree,s),r(s)};Qp(()=>{hl(n)}),je(()=>{Rt(n,or,{flush:"post"});const s=new MutationObserver(n);s.observe(e.subTree.el.parentNode,{childList:!0}),Kt(()=>s.disconnect())})}function Mf(t,e){if(t.shapeFlag&128){const r=t.suspense;t=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{Mf(r.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Su(t.el,e);else if(t.type===_e)t.children.forEach(r=>Mf(r,e));else if(t.type===Oi){let{el:r,anchor:n}=t;for(;r&&(Su(r,e),r!==n);)r=r.nextSibling}}function Su(t,e){if(t.nodeType===1){const r=t.style;let n="";for(const s in e)r.setProperty(`--${s}`,e[s]),n+=`--${s}: ${e[s]};`;r[qx]=n}}const aA=/(^|;)\s*display\s*:/;function lA(t,e,r){const n=t.style,s=qe(r);let i=!1;if(r&&!s){if(e)if(qe(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&eu(n,a,"")}else for(const o in e)r[o]==null&&eu(n,o,"");for(const o in r)o==="display"&&(i=!0),eu(n,o,r[o])}else if(s){if(e!==r){const o=n[qx];o&&(r+=";"+o),n.cssText=r,i=aA.test(r)}}else e&&t.removeAttribute("style");Au in t&&(t[Au]=i?n.display:"",t[Bx]&&(n.display="none"))}const ey=/\s*!important$/;function eu(t,e,r){if(we(r))r.forEach(n=>eu(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=cA(t,e);ey.test(r)?t.setProperty(zr(n),r.replace(ey,""),"important"):t[n]=r}}const ty=["Webkit","Moz","ms"],Fh={};function cA(t,e){const r=Fh[e];if(r)return r;let n=It(e);if(n!=="filter"&&n in t)return Fh[e]=n;n=eo(n);for(let s=0;s<ty.length;s++){const i=ty[s]+n;if(i in t)return Fh[e]=i}return e}const ry="http://www.w3.org/1999/xlink";function ny(t,e,r,n,s,i=SI(e)){n&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(ry,e.slice(6,e.length)):t.setAttributeNS(ry,e,r):r==null||i&&!s1(r)?t.removeAttribute(e):t.setAttribute(e,i?"":Qr(r)?String(r):r)}function sy(t,e,r,n,s){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?Vx(r):r);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,c=r==null?t.type==="checkbox"?"on":"":String(r);(a!==c||!("_value"in t))&&(t.value=c),r==null&&t.removeAttribute(e),t._value=r;return}let o=!1;if(r===""||r==null){const a=typeof t[e];a==="boolean"?r=s1(r):r==null&&a==="string"?(r="",o=!0):a==="number"&&(r=0,o=!0)}try{t[e]=r}catch{}o&&t.removeAttribute(s||e)}function rs(t,e,r,n){t.addEventListener(e,r,n)}function uA(t,e,r,n){t.removeEventListener(e,r,n)}const iy=Symbol("_vei");function dA(t,e,r,n,s=null){const i=t[iy]||(t[iy]={}),o=i[e];if(n&&o)o.value=n;else{const[a,c]=hA(e);if(n){const d=i[e]=mA(n,s);rs(t,a,d,c)}else o&&(uA(t,a,o,c),i[e]=void 0)}}const oy=/(?:Once|Passive|Capture)$/;function hA(t){let e;if(oy.test(t)){e={};let n;for(;n=t.match(oy);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):zr(t.slice(2)),e]}let Uh=0;const fA=Promise.resolve(),pA=()=>Uh||(fA.then(()=>Uh=0),Uh=Date.now());function mA(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;bn(gA(n,r.value),e,5,[n])};return r.value=t,r.attached=pA(),r}function gA(t,e){if(we(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>s=>!s._stopped&&n&&n(s))}else return e}const ay=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,yA=(t,e,r,n,s,i)=>{const o=s==="svg";e==="class"?sA(t,n,o):e==="style"?lA(t,r,n):Xi(e)?Rp(e)||dA(t,e,r,n,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):vA(t,e,n,o))?(sy(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&ny(t,e,n,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!qe(n))?sy(t,It(e),n,i,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),ny(t,e,n,o))};function vA(t,e,r,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&ay(e)&&De(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return ay(e)&&qe(r)?!1:e in t}const ly={};/*! #__NO_SIDE_EFFECTS__ */function Hx(t,e,r){const n=Ze(t,e);id(n)&&Qe(n,e);class s extends Ed{constructor(o){super(n,o,r)}}return s.def=n,s}/*! #__NO_SIDE_EFFECTS__ */const bA=(t,e)=>Hx(t,e,r_),xA=typeof HTMLElement<"u"?HTMLElement:class{};class Ed extends xA{constructor(e,r={},n=Pu){super(),this._def=e,this._props=r,this._createApp=n,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&n!==Pu?this._root=this.shadowRoot:e.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof Ed){this._parent=e;break}this._instance||(this._resolved?(this._setParent(),this._update()):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._instance.provides=e._instance.provides)}disconnectedCallback(){this._connected=!1,ar(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let n=0;n<this.attributes.length;n++)this._setAttr(this.attributes[n].name);this._ob=new MutationObserver(n=>{for(const s of n)this._setAttr(s.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(n,s=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:i,styles:o}=n;let a;if(i&&!we(i))for(const c in i){const d=i[c];(d===Number||d&&d.type===Number)&&(c in this._props&&(this._props[c]=gu(this._props[c])),(a||(a=Object.create(null)))[It(c)]=!0)}this._numberProps=a,s&&this._resolveProps(n),this.shadowRoot&&this._applyStyles(o),this._mount(n)},r=this._def.__asyncLoader;r?this._pendingResolve=r().then(n=>e(this._def=n,!0)):e(this._def)}_mount(e){this._app=this._createApp(e),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const r=this._instance&&this._instance.exposed;if(r)for(const n in r)ct(this,n)||Object.defineProperty(this,n,{get:()=>q(r[n])})}_resolveProps(e){const{props:r}=e,n=we(r)?r:Object.keys(r||{});for(const s of Object.keys(this))s[0]!=="_"&&n.includes(s)&&this._setProp(s,this[s]);for(const s of n.map(It))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(i){this._setProp(s,i,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const r=this.hasAttribute(e);let n=r?this.getAttribute(e):ly;const s=It(e);r&&this._numberProps&&this._numberProps[s]&&(n=gu(n)),this._setProp(s,n,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,r,n=!0,s=!1){if(r!==this._props[e]&&(r===ly?delete this._props[e]:(this._props[e]=r,e==="key"&&this._app&&(this._app._ceVNode.key=r)),s&&this._instance&&this._update(),n)){const i=this._ob;i&&i.disconnect(),r===!0?this.setAttribute(zr(e),""):typeof r=="string"||typeof r=="number"?this.setAttribute(zr(e),r+""):r||this.removeAttribute(zr(e)),i&&i.observe(this,{attributes:!0})}}_update(){t_(this._createVNode(),this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const r=z(this._def,Qe(e,this._props));return this._instance||(r.ce=n=>{this._instance=n,n.ce=this,n.isCE=!0;const s=(i,o)=>{this.dispatchEvent(new CustomEvent(i,id(o[0])?Qe({detail:o},o[0]):{detail:o}))};n.emit=(i,...o)=>{s(i,o),zr(i)!==i&&s(zr(i),o)},this._setParent()}),r}_applyStyles(e,r){if(!e)return;if(r){if(r===this._def||this._styleChildren.has(r))return;this._styleChildren.add(r)}const n=this._nonce;for(let s=e.length-1;s>=0;s--){const i=document.createElement("style");n&&i.setAttribute("nonce",n),i.textContent=e[s],this.shadowRoot.prepend(i)}}_parseSlots(){const e=this._slots={};let r;for(;r=this.firstChild;){const n=r.nodeType===1&&r.getAttribute("slot")||"default";(e[n]||(e[n]=[])).push(r),this.removeChild(r)}}_renderSlots(){const e=(this._teleportTarget||this).querySelectorAll("slot"),r=this._instance.type.__scopeId;for(let n=0;n<e.length;n++){const s=e[n],i=s.getAttribute("name")||"default",o=this._slots[i],a=s.parentNode;if(o)for(const c of o){if(r&&c.nodeType===1){const d=r+"-s",h=document.createTreeWalker(c,1);c.setAttribute(d,"");let f;for(;f=h.nextNode();)f.setAttribute(d,"")}a.insertBefore(c,s)}else for(;s.firstChild;)a.insertBefore(s.firstChild,s);a.removeChild(s)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){}}function zx(t){const e=cn(),r=e&&e.ce;return r||null}function _A(){const t=zx();return t&&t.shadowRoot}function kA(t="$style"){{const e=cn();if(!e)return Ke;const r=e.type.__cssModules;if(!r)return Ke;const n=r[t];return n||Ke}}const Wx=new WeakMap,Kx=new WeakMap,Cu=Symbol("_moveCb"),cy=Symbol("_enterCb"),wA=t=>(delete t.props.mode,t),EA=wA({name:"TransitionGroup",props:Qe({},Fx,{tag:String,moveClass:String}),setup(t,{slots:e}){const r=cn(),n=Wp();let s,i;return bd(()=>{if(!s.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!SA(s[0].el,r.vnode.el,o))return;s.forEach(IA),s.forEach(TA);const a=s.filter(AA);Df(),a.forEach(c=>{const d=c.el,h=d.style;On(d,o),h.transform=h.webkitTransform=h.transitionDuration="";const f=d[Cu]=p=>{p&&p.target!==d||(!p||/transform$/.test(p.propertyName))&&(d.removeEventListener("transitionend",f),d[Cu]=null,Ns(d,o))};d.addEventListener("transitionend",f)})}),()=>{const o=We(t),a=Ux(o);let c=o.tag||_e;if(s=[],i)for(let d=0;d<i.length;d++){const h=i[d];h.el&&h.el instanceof Element&&(s.push(h),us(h,jo(h,a,n,r)),Wx.set(h,h.el.getBoundingClientRect()))}i=e.default?yd(e.default()):[];for(let d=0;d<i.length;d++){const h=i[d];h.key!=null&&us(h,jo(h,a,n,r))}return z(c,null,i)}}}),Gx=EA;function IA(t){const e=t.el;e[Cu]&&e[Cu](),e[cy]&&e[cy]()}function TA(t){Kx.set(t,t.el.getBoundingClientRect())}function AA(t){const e=Wx.get(t),r=Kx.get(t),n=e.left-r.left,s=e.top-r.top;if(n||s){const i=t.el.style;return i.transform=i.webkitTransform=`translate(${n}px,${s}px)`,i.transitionDuration="0s",t}}function SA(t,e,r){const n=t.cloneNode(),s=t[qo];s&&s.forEach(a=>{a.split(/\s+/).forEach(c=>c&&n.classList.remove(c))}),r.split(/\s+/).forEach(a=>a&&n.classList.add(a)),n.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(n);const{hasTransform:o}=jx(n);return i.removeChild(n),o}const si=t=>{const e=t.props["onUpdate:modelValue"]||!1;return we(e)?r=>Oo(e,r):e};function CA(t){t.target.composing=!0}function uy(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const vn=Symbol("_assign"),Pe={created(t,{modifiers:{lazy:e,trim:r,number:n}},s){t[vn]=si(s);const i=n||s.props&&s.props.type==="number";rs(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;r&&(a=a.trim()),i&&(a=mu(a)),t[vn](a)}),r&&rs(t,"change",()=>{t.value=t.value.trim()}),e||(rs(t,"compositionstart",CA),rs(t,"compositionend",uy),rs(t,"change",uy))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:r,modifiers:{lazy:n,trim:s,number:i}},o){if(t[vn]=si(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?mu(t.value):t.value,c=e??"";a!==c&&(document.activeElement===t&&t.type!=="range"&&(n&&e===r||s&&t.value.trim()===c)||(t.value=c))}},os={deep:!0,created(t,e,r){t[vn]=si(r),rs(t,"change",()=>{const n=t._modelValue,s=Ho(t),i=t.checked,o=t[vn];if(we(n)){const a=ld(n,s),c=a!==-1;if(i&&!c)o(n.concat(s));else if(!i&&c){const d=[...n];d.splice(a,1),o(d)}}else if(Zi(n)){const a=new Set(n);i?a.add(s):a.delete(s),o(a)}else o(Qx(t,i))})},mounted:dy,beforeUpdate(t,e,r){t[vn]=si(r),dy(t,e,r)}};function dy(t,{value:e,oldValue:r},n){t._modelValue=e;let s;if(we(e))s=ld(e,n.props.value)>-1;else if(Zi(e))s=e.has(n.props.value);else{if(e===r)return;s=ri(e,Qx(t,!0))}t.checked!==s&&(t.checked=s)}const Id={created(t,{value:e},r){t.checked=ri(e,r.props.value),t[vn]=si(r),rs(t,"change",()=>{t[vn](Ho(t))})},beforeUpdate(t,{value:e,oldValue:r},n){t[vn]=si(n),e!==r&&(t.checked=ri(e,n.props.value))}},Ln={deep:!0,created(t,{value:e,modifiers:{number:r}},n){const s=Zi(e);rs(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>r?mu(Ho(o)):Ho(o));t[vn](t.multiple?s?new Set(i):i:i[0]),t._assigning=!0,ar(()=>{t._assigning=!1})}),t[vn]=si(n)},mounted(t,{value:e}){hy(t,e)},beforeUpdate(t,e,r){t[vn]=si(r)},updated(t,{value:e}){t._assigning||hy(t,e)}};function hy(t,e){const r=t.multiple,n=we(e);if(!(r&&!n&&!Zi(e))){for(let s=0,i=t.options.length;s<i;s++){const o=t.options[s],a=Ho(o);if(r)if(n){const c=typeof a;c==="string"||c==="number"?o.selected=e.some(d=>String(d)===String(a)):o.selected=ld(e,a)>-1}else o.selected=e.has(a);else if(ri(Ho(o),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Ho(t){return"_value"in t?t._value:t.value}function Qx(t,e){const r=e?"_trueValue":"_falseValue";return r in t?t[r]:e}const Yx={created(t,e,r){Mc(t,e,r,null,"created")},mounted(t,e,r){Mc(t,e,r,null,"mounted")},beforeUpdate(t,e,r,n){Mc(t,e,r,n,"beforeUpdate")},updated(t,e,r,n){Mc(t,e,r,n,"updated")}};function Jx(t,e){switch(t){case"SELECT":return Ln;case"TEXTAREA":return Pe;default:switch(e){case"checkbox":return os;case"radio":return Id;default:return Pe}}}function Mc(t,e,r,n,s){const o=Jx(t.tagName,r.props&&r.props.type)[s];o&&o(t,e,r,n)}function PA(){Pe.getSSRProps=({value:t})=>({value:t}),Id.getSSRProps=({value:t},e)=>{if(e.props&&ri(e.props.value,t))return{checked:!0}},os.getSSRProps=({value:t},e)=>{if(we(t)){if(e.props&&ld(t,e.props.value)>-1)return{checked:!0}}else if(Zi(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},Yx.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const r=Jx(e.type.toUpperCase(),e.props&&e.props.type);if(r.getSSRProps)return r.getSSRProps(t,e)}}const RA=["ctrl","shift","alt","meta"],NA={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>RA.some(r=>t[`${r}Key`]&&!e.includes(r))},Ar=(t,e)=>{const r=t._withMods||(t._withMods={}),n=e.join(".");return r[n]||(r[n]=(s,...i)=>{for(let o=0;o<e.length;o++){const a=NA[e[o]];if(a&&a(s,e))return}return t(s,...i)})},$A={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},OA=(t,e)=>{const r=t._withKeys||(t._withKeys={}),n=e.join(".");return r[n]||(r[n]=s=>{if(!("key"in s))return;const i=zr(s.key);if(e.some(o=>o===i||$A[o]===i))return t(s)})},Xx=Qe({patchProp:yA},eA);let Xa,fy=!1;function Zx(){return Xa||(Xa=dx(Xx))}function e_(){return Xa=fy?Xa:hx(Xx),fy=!0,Xa}const t_=(...t)=>{Zx().render(...t)},DA=(...t)=>{e_().hydrate(...t)},Pu=(...t)=>{const e=Zx().createApp(...t),{mount:r}=e;return e.mount=n=>{const s=s_(n);if(!s)return;const i=e._component;!De(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=r(s,!1,n_(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e},r_=(...t)=>{const e=e_().createApp(...t),{mount:r}=e;return e.mount=n=>{const s=s_(n);if(s)return r(s,!0,n_(s))},e};function n_(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function s_(t){return qe(t)?document.querySelector(t):t}let py=!1;const MA=()=>{py||(py=!0,PA(),iA())},VA=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:U1,BaseTransitionPropsValidators:Kp,Comment:qt,DeprecationTypes:J4,EffectScope:Dp,ErrorCodes:pT,ErrorTypeStrings:H4,Fragment:_e,KeepAlive:LT,ReactiveEffect:cl,Static:Oi,Suspense:A4,Teleport:zp,Text:Ys,TrackOpTypes:aT,Transition:zs,TransitionGroup:Gx,TriggerOpTypes:lT,VueElement:Ed,assertNumber:fT,callWithAsyncErrorHandling:bn,callWithErrorHandling:la,camelize:It,capitalize:eo,cloneVNode:Pn,compatUtils:Y4,computed:te,createApp:Pu,createBlock:mt,createCommentVNode:de,createElementBlock:V,createElementVNode:l,createHydrationRenderer:hx,createPropsRestProxy:r4,createRenderer:dx,createSSRApp:r_,createSlots:BT,createStaticVNode:dt,createTextVNode:ue,createVNode:z,customRef:E1,defineAsyncComponent:MT,defineComponent:Ze,defineCustomElement:Hx,defineEmits:WT,defineExpose:KT,defineModel:YT,defineOptions:GT,defineProps:zT,defineSSRCustomElement:bA,defineSlots:QT,devtools:z4,effect:RI,effectScope:Mp,getCurrentInstance:cn,getCurrentScope:Vp,getCurrentWatcher:cT,getTransitionRawChildren:yd,guardReactiveProps:Ax,h:_t,handleError:to,hasInjectionContext:tx,hydrate:DA,hydrateOnIdle:PT,hydrateOnInteraction:OT,hydrateOnMediaQuery:$T,hydrateOnVisible:NT,initCustomFormatter:j4,initDirectivesForSSR:MA,inject:ot,isMemoSame:Dx,isProxy:fd,isReactive:Sn,isReadonly:ni,isRef:Pt,isRuntimeOnly:L4,isShallow:sn,isVNode:ds,markRaw:pd,mergeDefaults:e4,mergeModels:t4,mergeProps:Sx,nextTick:ar,normalizeClass:Ie,normalizeProps:vI,normalizeStyle:Ct,onActivated:q1,onBeforeMount:W1,onBeforeUnmount:ui,onBeforeUpdate:Qp,onDeactivated:H1,onErrorCaptured:Y1,onMounted:je,onRenderTracked:Q1,onRenderTriggered:G1,onScopeDispose:a1,onServerPrefetch:K1,onUnmounted:Kt,onUpdated:bd,onWatcherCleanup:S1,openBlock:D,popScopeId:bT,provide:zt,proxyRefs:qp,pushScopeId:vT,queuePostFlushCb:hl,reactive:Yr,readonly:Bp,ref:B,registerRuntimeCompiler:Nx,render:t_,renderList:Ve,renderSlot:_u,resolveComponent:Rr,resolveDirective:jT,resolveDynamicComponent:xd,resolveFilter:Q4,resolveTransitionHooks:jo,setBlockTracking:Sf,setDevtoolsHook:W4,setTransitionHooks:us,shallowReactive:jp,shallowReadonly:JI,shallowRef:md,ssrContextKey:gx,ssrUtils:G4,stop:NI,toDisplayString:H,toHandlerKey:$o,toHandlers:qT,toRaw:We,toRef:T1,toRefs:I1,toValue:eT,transformVNodeArgs:$4,triggerRef:ZI,unref:q,useAttrs:ZT,useCssModule:kA,useCssVars:oA,useHost:zx,useId:B1,useModel:x4,useSSRContext:yx,useShadowRoot:_A,useSlots:XT,useTemplateRef:wT,useTransitionState:Wp,vModelCheckbox:os,vModelDynamic:Yx,vModelRadio:Id,vModelSelect:Ln,vModelText:Pe,vShow:wd,version:Mx,warn:q4,watch:Rt,watchEffect:ur,watchPostEffect:v4,watchSyncEffect:vx,withAsyncContext:n4,withCtx:Z,withDefaults:JT,withDirectives:xe,withKeys:OA,withMemo:B4,withModifiers:Ar,withScopeId:xT},Symbol.toStringTag,{value:"Module"}));/**
* @vue/compiler-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const vl=Symbol(""),Za=Symbol(""),nm=Symbol(""),Ru=Symbol(""),i_=Symbol(""),ji=Symbol(""),o_=Symbol(""),a_=Symbol(""),sm=Symbol(""),im=Symbol(""),ql=Symbol(""),om=Symbol(""),l_=Symbol(""),am=Symbol(""),lm=Symbol(""),cm=Symbol(""),um=Symbol(""),dm=Symbol(""),hm=Symbol(""),c_=Symbol(""),u_=Symbol(""),Td=Symbol(""),Nu=Symbol(""),fm=Symbol(""),pm=Symbol(""),bl=Symbol(""),Hl=Symbol(""),mm=Symbol(""),Vf=Symbol(""),LA=Symbol(""),Lf=Symbol(""),$u=Symbol(""),FA=Symbol(""),UA=Symbol(""),gm=Symbol(""),jA=Symbol(""),BA=Symbol(""),ym=Symbol(""),d_=Symbol(""),zo={[vl]:"Fragment",[Za]:"Teleport",[nm]:"Suspense",[Ru]:"KeepAlive",[i_]:"BaseTransition",[ji]:"openBlock",[o_]:"createBlock",[a_]:"createElementBlock",[sm]:"createVNode",[im]:"createElementVNode",[ql]:"createCommentVNode",[om]:"createTextVNode",[l_]:"createStaticVNode",[am]:"resolveComponent",[lm]:"resolveDynamicComponent",[cm]:"resolveDirective",[um]:"resolveFilter",[dm]:"withDirectives",[hm]:"renderList",[c_]:"renderSlot",[u_]:"createSlots",[Td]:"toDisplayString",[Nu]:"mergeProps",[fm]:"normalizeClass",[pm]:"normalizeStyle",[bl]:"normalizeProps",[Hl]:"guardReactiveProps",[mm]:"toHandlers",[Vf]:"camelize",[LA]:"capitalize",[Lf]:"toHandlerKey",[$u]:"setBlockTracking",[FA]:"pushScopeId",[UA]:"popScopeId",[gm]:"withCtx",[jA]:"unref",[BA]:"isRef",[ym]:"withMemo",[d_]:"isMemoSame"};function qA(t){Object.getOwnPropertySymbols(t).forEach(e=>{zo[e]=t[e]})}const un={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function HA(t,e=""){return{type:0,source:e,children:t,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:un}}function xl(t,e,r,n,s,i,o,a=!1,c=!1,d=!1,h=un){return t&&(a?(t.helper(ji),t.helper(Go(t.inSSR,d))):t.helper(Ko(t.inSSR,d)),o&&t.helper(dm)),{type:13,tag:e,props:r,children:n,patchFlag:s,dynamicProps:i,directives:o,isBlock:a,disableTracking:c,isComponent:d,loc:h}}function Di(t,e=un){return{type:17,loc:e,elements:t}}function gn(t,e=un){return{type:15,loc:e,properties:t}}function Ft(t,e){return{type:16,loc:un,key:qe(t)?ze(t,!0):t,value:e}}function ze(t,e=!1,r=un,n=0){return{type:4,loc:r,content:t,isStatic:e,constType:e?3:n}}function Cn(t,e=un){return{type:8,loc:e,children:t}}function Yt(t,e=[],r=un){return{type:14,loc:r,callee:t,arguments:e}}function Wo(t,e=void 0,r=!1,n=!1,s=un){return{type:18,params:t,returns:e,newline:r,isSlot:n,loc:s}}function Ff(t,e,r,n=!0){return{type:19,test:t,consequent:e,alternate:r,newline:n,loc:un}}function zA(t,e,r=!1,n=!1){return{type:20,index:t,value:e,needPauseTracking:r,inVOnce:n,needArraySpread:!1,loc:un}}function WA(t){return{type:21,body:t,loc:un}}function Ko(t,e){return t||e?sm:im}function Go(t,e){return t||e?o_:a_}function vm(t,{helper:e,removeHelper:r,inSSR:n}){t.isBlock||(t.isBlock=!0,r(Ko(n,t.isComponent)),e(ji),e(Go(n,t.isComponent)))}const my=new Uint8Array([123,123]),gy=new Uint8Array([125,125]);function yy(t){return t>=97&&t<=122||t>=65&&t<=90}function Zr(t){return t===32||t===10||t===9||t===12||t===13}function Ss(t){return t===47||t===62||Zr(t)}function Ou(t){const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}const vr={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class KA{constructor(e,r){this.stack=e,this.cbs=r,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=my,this.delimiterClose=gy,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=my,this.delimiterClose=gy}getPos(e){let r=1,n=e+1;for(let s=this.newlines.length-1;s>=0;s--){const i=this.newlines[s];if(e>i){r=s+2,n=e-i;break}}return{column:n,line:r,offset:e}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(e){e===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&e===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e))}stateInterpolationOpen(e){if(e===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const r=this.index+1-this.delimiterOpen.length;r>this.sectionStart&&this.cbs.ontext(this.sectionStart,r),this.state=3,this.sectionStart=r}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(e)):(this.state=1,this.stateText(e))}stateInterpolation(e){e===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(e))}stateInterpolationClose(e){e===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(e))}stateSpecialStartSequence(e){const r=this.sequenceIndex===this.currentSequence.length;if(!(r?Ss(e):(e|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!r){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(e)}stateInRCDATA(e){if(this.sequenceIndex===this.currentSequence.length){if(e===62||Zr(e)){const r=this.index-this.currentSequence.length;if(this.sectionStart<r){const n=this.index;this.index=r,this.cbs.ontext(this.sectionStart,r),this.index=n}this.sectionStart=r+2,this.stateInClosingTagName(e),this.inRCDATA=!1;return}this.sequenceIndex=0}(e|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===vr.TitleEnd||this.currentSequence===vr.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&e===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(e===60)}stateCDATASequence(e){e===vr.Cdata[this.sequenceIndex]?++this.sequenceIndex===vr.Cdata.length&&(this.state=28,this.currentSequence=vr.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(e))}fastForwardTo(e){for(;++this.index<this.buffer.length;){const r=this.buffer.charCodeAt(this.index);if(r===10&&this.newlines.push(this.index),r===e)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===vr.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(e,r){this.enterRCDATA(e,r),this.state=31}enterRCDATA(e,r){this.inRCDATA=!0,this.currentSequence=e,this.sequenceIndex=r}stateBeforeTagName(e){e===33?(this.state=22,this.sectionStart=this.index+1):e===63?(this.state=24,this.sectionStart=this.index+1):yy(e)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:e===116?this.state=30:this.state=e===115?29:6):e===47?this.state=8:(this.state=1,this.stateText(e))}stateInTagName(e){Ss(e)&&this.handleTagName(e)}stateInSFCRootTagName(e){if(Ss(e)){const r=this.buffer.slice(this.sectionStart,this.index);r!=="template"&&this.enterRCDATA(Ou("</"+r),0),this.handleTagName(e)}}handleTagName(e){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)}stateBeforeClosingTagName(e){Zr(e)||(e===62?(this.state=1,this.sectionStart=this.index+1):(this.state=yy(e)?9:27,this.sectionStart=this.index))}stateInClosingTagName(e){(e===62||Zr(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(e))}stateAfterClosingTagName(e){e===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(e){e===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):e===47?this.state=7:e===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):Zr(e)||this.handleAttrStart(e)}handleAttrStart(e){e===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):e===46||e===58||e===64||e===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(e){e===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):Zr(e)||(this.state=11,this.stateBeforeAttrName(e))}stateInAttrName(e){(e===61||Ss(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(e))}stateInDirName(e){e===61||Ss(e)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):e===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(e){e===61||Ss(e)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===91?this.state=15:e===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(e){e===93?this.state=14:(e===61||Ss(e))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(e))}stateInDirModifier(e){e===61||Ss(e)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(e){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(e)}stateAfterAttrName(e){e===61?this.state=18:e===47||e===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)):Zr(e)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(e))}stateBeforeAttrValue(e){e===34?(this.state=19,this.sectionStart=this.index+1):e===39?(this.state=20,this.sectionStart=this.index+1):Zr(e)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(e))}handleInAttrValue(e,r){(e===r||this.fastForwardTo(r))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(r===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(e){this.handleInAttrValue(e,34)}stateInAttrValueSingleQuotes(e){this.handleInAttrValue(e,39)}stateInAttrValueNoQuotes(e){Zr(e)||e===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(e)):(e===39||e===60||e===61||e===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(e){e===91?(this.state=26,this.sequenceIndex=0):this.state=e===45?25:23}stateInDeclaration(e){(e===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(e){(e===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(e){e===45?(this.state=28,this.currentSequence=vr.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(e){(e===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(e){e===vr.ScriptEnd[3]?this.startSpecial(vr.ScriptEnd,4):e===vr.StyleEnd[3]?this.startSpecial(vr.StyleEnd,4):(this.state=6,this.stateInTagName(e))}stateBeforeSpecialT(e){e===vr.TitleEnd[3]?this.startSpecial(vr.TitleEnd,4):e===vr.TextareaEnd[3]?this.startSpecial(vr.TextareaEnd,4):(this.state=6,this.stateInTagName(e))}startEntity(){}stateInEntity(){}parse(e){for(this.buffer=e;this.index<this.buffer.length;){const r=this.buffer.charCodeAt(this.index);switch(r===10&&this.newlines.push(this.index),this.state){case 1:{this.stateText(r);break}case 2:{this.stateInterpolationOpen(r);break}case 3:{this.stateInterpolation(r);break}case 4:{this.stateInterpolationClose(r);break}case 31:{this.stateSpecialStartSequence(r);break}case 32:{this.stateInRCDATA(r);break}case 26:{this.stateCDATASequence(r);break}case 19:{this.stateInAttrValueDoubleQuotes(r);break}case 12:{this.stateInAttrName(r);break}case 13:{this.stateInDirName(r);break}case 14:{this.stateInDirArg(r);break}case 15:{this.stateInDynamicDirArg(r);break}case 16:{this.stateInDirModifier(r);break}case 28:{this.stateInCommentLike(r);break}case 27:{this.stateInSpecialComment(r);break}case 11:{this.stateBeforeAttrName(r);break}case 6:{this.stateInTagName(r);break}case 34:{this.stateInSFCRootTagName(r);break}case 9:{this.stateInClosingTagName(r);break}case 5:{this.stateBeforeTagName(r);break}case 17:{this.stateAfterAttrName(r);break}case 20:{this.stateInAttrValueSingleQuotes(r);break}case 18:{this.stateBeforeAttrValue(r);break}case 8:{this.stateBeforeClosingTagName(r);break}case 10:{this.stateAfterClosingTagName(r);break}case 29:{this.stateBeforeSpecialS(r);break}case 30:{this.stateBeforeSpecialT(r);break}case 21:{this.stateInAttrValueNoQuotes(r);break}case 7:{this.stateInSelfClosingTag(r);break}case 23:{this.stateInDeclaration(r);break}case 22:{this.stateBeforeDeclaration(r);break}case 25:{this.stateBeforeComment(r);break}case 24:{this.stateInProcessingInstruction(r);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const e=this.buffer.length;this.sectionStart>=e||(this.state===28?this.currentSequence===vr.CdataEnd?this.cbs.oncdata(this.sectionStart,e):this.cbs.oncomment(this.sectionStart,e):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,e))}emitCodePoint(e,r){}}function vy(t,{compatConfig:e}){const r=e&&e[t];return t==="MODE"?r||3:r}function Mi(t,e){const r=vy("MODE",e),n=vy(t,e);return r===3?n===!0:n!==!1}function _l(t,e,r,...n){return Mi(t,e)}function bm(t){throw t}function h_(t){}function St(t,e,r,n){const s=`https://vuejs.org/error-reference/#compiler-${t}`,i=new SyntaxError(String(s));return i.code=t,i.loc=e,i}const Kr=t=>t.type===4&&t.isStatic;function f_(t){switch(t){case"Teleport":case"teleport":return Za;case"Suspense":case"suspense":return nm;case"KeepAlive":case"keep-alive":return Ru;case"BaseTransition":case"base-transition":return i_}}const GA=/^\d|[^\$\w\xA0-\uFFFF]/,xm=t=>!GA.test(t),QA=/[A-Za-z_$\xA0-\uFFFF]/,YA=/[\.\?\w$\xA0-\uFFFF]/,JA=/\s+[.[]\s*|\s*[.[]\s+/g,p_=t=>t.type===4?t.content:t.loc.source,XA=t=>{const e=p_(t).trim().replace(JA,a=>a.trim());let r=0,n=[],s=0,i=0,o=null;for(let a=0;a<e.length;a++){const c=e.charAt(a);switch(r){case 0:if(c==="[")n.push(r),r=1,s++;else if(c==="(")n.push(r),r=2,i++;else if(!(a===0?QA:YA).test(c))return!1;break;case 1:c==="'"||c==='"'||c==="`"?(n.push(r),r=3,o=c):c==="["?s++:c==="]"&&(--s||(r=n.pop()));break;case 2:if(c==="'"||c==='"'||c==="`")n.push(r),r=3,o=c;else if(c==="(")i++;else if(c===")"){if(a===e.length-1)return!1;--i||(r=n.pop())}break;case 3:c===o&&(r=n.pop(),o=null);break}}return!s&&!i},m_=XA,ZA=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,eS=t=>ZA.test(p_(t)),tS=eS;function pn(t,e,r=!1){for(let n=0;n<t.props.length;n++){const s=t.props[n];if(s.type===7&&(r||s.exp)&&(qe(e)?s.name===e:e.test(s.name)))return s}}function Ad(t,e,r=!1,n=!1){for(let s=0;s<t.props.length;s++){const i=t.props[s];if(i.type===6){if(r)continue;if(i.name===e&&(i.value||n))return i}else if(i.name==="bind"&&(i.exp||n)&&Ai(i.arg,e))return i}}function Ai(t,e){return!!(t&&Kr(t)&&t.content===e)}function rS(t){return t.props.some(e=>e.type===7&&e.name==="bind"&&(!e.arg||e.arg.type!==4||!e.arg.isStatic))}function jh(t){return t.type===5||t.type===2}function nS(t){return t.type===7&&t.name==="slot"}function Du(t){return t.type===1&&t.tagType===3}function Mu(t){return t.type===1&&t.tagType===2}const sS=new Set([bl,Hl]);function g_(t,e=[]){if(t&&!qe(t)&&t.type===14){const r=t.callee;if(!qe(r)&&sS.has(r))return g_(t.arguments[0],e.concat(t))}return[t,e]}function Vu(t,e,r){let n,s=t.type===13?t.props:t.arguments[2],i=[],o;if(s&&!qe(s)&&s.type===14){const a=g_(s);s=a[0],i=a[1],o=i[i.length-1]}if(s==null||qe(s))n=gn([e]);else if(s.type===14){const a=s.arguments[0];!qe(a)&&a.type===15?by(e,a)||a.properties.unshift(e):s.callee===mm?n=Yt(r.helper(Nu),[gn([e]),s]):s.arguments.unshift(gn([e])),!n&&(n=s)}else s.type===15?(by(e,s)||s.properties.unshift(e),n=s):(n=Yt(r.helper(Nu),[gn([e]),s]),o&&o.callee===Hl&&(o=i[i.length-2]));t.type===13?o?o.arguments[0]=n:t.props=n:o?o.arguments[0]=n:t.arguments[2]=n}function by(t,e){let r=!1;if(t.key.type===4){const n=t.key.content;r=e.properties.some(s=>s.key.type===4&&s.key.content===n)}return r}function kl(t,e){return`_${e}_${t.replace(/[^\w]/g,(r,n)=>r==="-"?"_":t.charCodeAt(n).toString())}`}function iS(t){return t.type===14&&t.callee===ym?t.arguments[1].returns:t}const oS=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,y_={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:Ma,isPreTag:Ma,isIgnoreNewlineTag:Ma,isCustomElement:Ma,onError:bm,onWarn:h_,comments:!1,prefixIdentifiers:!1};let ut=y_,wl=null,as="",_r=null,rt=null,Br="",Jn=-1,ki=-1,_m=0,Fs=!1,Uf=null;const At=[],Dt=new KA(At,{onerr:Qn,ontext(t,e){Vc(nr(t,e),t,e)},ontextentity(t,e,r){Vc(t,e,r)},oninterpolation(t,e){if(Fs)return Vc(nr(t,e),t,e);let r=t+Dt.delimiterOpen.length,n=e-Dt.delimiterClose.length;for(;Zr(as.charCodeAt(r));)r++;for(;Zr(as.charCodeAt(n-1));)n--;let s=nr(r,n);s.includes("&")&&(s=ut.decodeEntities(s,!1)),jf({type:5,content:ru(s,!1,Mt(r,n)),loc:Mt(t,e)})},onopentagname(t,e){const r=nr(t,e);_r={type:1,tag:r,ns:ut.getNamespace(r,At[0],ut.ns),tagType:0,props:[],children:[],loc:Mt(t-1,e),codegenNode:void 0}},onopentagend(t){_y(t)},onclosetag(t,e){const r=nr(t,e);if(!ut.isVoidTag(r)){let n=!1;for(let s=0;s<At.length;s++)if(At[s].tag.toLowerCase()===r.toLowerCase()){n=!0,s>0&&Qn(24,At[0].loc.start.offset);for(let o=0;o<=s;o++){const a=At.shift();tu(a,e,o<s)}break}n||Qn(23,v_(t,60))}},onselfclosingtag(t){const e=_r.tag;_r.isSelfClosing=!0,_y(t),At[0]&&At[0].tag===e&&tu(At.shift(),t)},onattribname(t,e){rt={type:6,name:nr(t,e),nameLoc:Mt(t,e),value:void 0,loc:Mt(t)}},ondirname(t,e){const r=nr(t,e),n=r==="."||r===":"?"bind":r==="@"?"on":r==="#"?"slot":r.slice(2);if(!Fs&&n===""&&Qn(26,t),Fs||n==="")rt={type:6,name:r,nameLoc:Mt(t,e),value:void 0,loc:Mt(t)};else if(rt={type:7,name:n,rawName:r,exp:void 0,arg:void 0,modifiers:r==="."?[ze("prop")]:[],loc:Mt(t)},n==="pre"){Fs=Dt.inVPre=!0,Uf=_r;const s=_r.props;for(let i=0;i<s.length;i++)s[i].type===7&&(s[i]=yS(s[i]))}},ondirarg(t,e){if(t===e)return;const r=nr(t,e);if(Fs)rt.name+=r,Si(rt.nameLoc,e);else{const n=r[0]!=="[";rt.arg=ru(n?r:r.slice(1,-1),n,Mt(t,e),n?3:0)}},ondirmodifier(t,e){const r=nr(t,e);if(Fs)rt.name+="."+r,Si(rt.nameLoc,e);else if(rt.name==="slot"){const n=rt.arg;n&&(n.content+="."+r,Si(n.loc,e))}else{const n=ze(r,!0,Mt(t,e));rt.modifiers.push(n)}},onattribdata(t,e){Br+=nr(t,e),Jn<0&&(Jn=t),ki=e},onattribentity(t,e,r){Br+=t,Jn<0&&(Jn=e),ki=r},onattribnameend(t){const e=rt.loc.start.offset,r=nr(e,t);rt.type===7&&(rt.rawName=r),_r.props.some(n=>(n.type===7?n.rawName:n.name)===r)&&Qn(2,e)},onattribend(t,e){if(_r&&rt){if(Si(rt.loc,e),t!==0)if(Br.includes("&")&&(Br=ut.decodeEntities(Br,!0)),rt.type===6)rt.name==="class"&&(Br=x_(Br).trim()),t===1&&!Br&&Qn(13,e),rt.value={type:2,content:Br,loc:t===1?Mt(Jn,ki):Mt(Jn-1,ki+1)},Dt.inSFCRoot&&_r.tag==="template"&&rt.name==="lang"&&Br&&Br!=="html"&&Dt.enterRCDATA(Ou("</template"),0);else{let r=0;rt.exp=ru(Br,!1,Mt(Jn,ki),0,r),rt.name==="for"&&(rt.forParseResult=lS(rt.exp));let n=-1;rt.name==="bind"&&(n=rt.modifiers.findIndex(s=>s.content==="sync"))>-1&&_l("COMPILER_V_BIND_SYNC",ut,rt.loc,rt.rawName)&&(rt.name="model",rt.modifiers.splice(n,1))}(rt.type!==7||rt.name!=="pre")&&_r.props.push(rt)}Br="",Jn=ki=-1},oncomment(t,e){ut.comments&&jf({type:3,content:nr(t,e),loc:Mt(t-4,e+3)})},onend(){const t=as.length;for(let e=0;e<At.length;e++)tu(At[e],t-1),Qn(24,At[e].loc.start.offset)},oncdata(t,e){At[0].ns!==0?Vc(nr(t,e),t,e):Qn(1,t-9)},onprocessinginstruction(t){(At[0]?At[0].ns:ut.ns)===0&&Qn(21,t-1)}}),xy=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,aS=/^\(|\)$/g;function lS(t){const e=t.loc,r=t.content,n=r.match(oS);if(!n)return;const[,s,i]=n,o=(f,p,y=!1)=>{const k=e.start.offset+p,_=k+f.length;return ru(f,!1,Mt(k,_),0,y?1:0)},a={source:o(i.trim(),r.indexOf(i,s.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let c=s.trim().replace(aS,"").trim();const d=s.indexOf(c),h=c.match(xy);if(h){c=c.replace(xy,"").trim();const f=h[1].trim();let p;if(f&&(p=r.indexOf(f,d+c.length),a.key=o(f,p,!0)),h[2]){const y=h[2].trim();y&&(a.index=o(y,r.indexOf(y,a.key?p+f.length:d+c.length),!0))}}return c&&(a.value=o(c,d,!0)),a}function nr(t,e){return as.slice(t,e)}function _y(t){Dt.inSFCRoot&&(_r.innerLoc=Mt(t+1,t+1)),jf(_r);const{tag:e,ns:r}=_r;r===0&&ut.isPreTag(e)&&_m++,ut.isVoidTag(e)?tu(_r,t):(At.unshift(_r),(r===1||r===2)&&(Dt.inXML=!0)),_r=null}function Vc(t,e,r){{const i=At[0]&&At[0].tag;i!=="script"&&i!=="style"&&t.includes("&")&&(t=ut.decodeEntities(t,!1))}const n=At[0]||wl,s=n.children[n.children.length-1];s&&s.type===2?(s.content+=t,Si(s.loc,r)):n.children.push({type:2,content:t,loc:Mt(e,r)})}function tu(t,e,r=!1){r?Si(t.loc,v_(e,60)):Si(t.loc,cS(e,62)+1),Dt.inSFCRoot&&(t.children.length?t.innerLoc.end=Qe({},t.children[t.children.length-1].loc.end):t.innerLoc.end=Qe({},t.innerLoc.start),t.innerLoc.source=nr(t.innerLoc.start.offset,t.innerLoc.end.offset));const{tag:n,ns:s,children:i}=t;if(Fs||(n==="slot"?t.tagType=2:ky(t)?t.tagType=3:dS(t)&&(t.tagType=1)),Dt.inRCDATA||(t.children=b_(i)),s===0&&ut.isIgnoreNewlineTag(n)){const o=i[0];o&&o.type===2&&(o.content=o.content.replace(/^\r?\n/,""))}s===0&&ut.isPreTag(n)&&_m--,Uf===t&&(Fs=Dt.inVPre=!1,Uf=null),Dt.inXML&&(At[0]?At[0].ns:ut.ns)===0&&(Dt.inXML=!1);{const o=t.props;if(!Dt.inSFCRoot&&Mi("COMPILER_NATIVE_TEMPLATE",ut)&&t.tag==="template"&&!ky(t)){const c=At[0]||wl,d=c.children.indexOf(t);c.children.splice(d,1,...t.children)}const a=o.find(c=>c.type===6&&c.name==="inline-template");a&&_l("COMPILER_INLINE_TEMPLATE",ut,a.loc)&&t.children.length&&(a.value={type:2,content:nr(t.children[0].loc.start.offset,t.children[t.children.length-1].loc.end.offset),loc:a.loc})}}function cS(t,e){let r=t;for(;as.charCodeAt(r)!==e&&r<as.length-1;)r++;return r}function v_(t,e){let r=t;for(;as.charCodeAt(r)!==e&&r>=0;)r--;return r}const uS=new Set(["if","else","else-if","for","slot"]);function ky({tag:t,props:e}){if(t==="template"){for(let r=0;r<e.length;r++)if(e[r].type===7&&uS.has(e[r].name))return!0}return!1}function dS({tag:t,props:e}){if(ut.isCustomElement(t))return!1;if(t==="component"||hS(t.charCodeAt(0))||f_(t)||ut.isBuiltInComponent&&ut.isBuiltInComponent(t)||ut.isNativeTag&&!ut.isNativeTag(t))return!0;for(let r=0;r<e.length;r++){const n=e[r];if(n.type===6){if(n.name==="is"&&n.value){if(n.value.content.startsWith("vue:"))return!0;if(_l("COMPILER_IS_ON_ELEMENT",ut,n.loc))return!0}}else if(n.name==="bind"&&Ai(n.arg,"is")&&_l("COMPILER_IS_ON_ELEMENT",ut,n.loc))return!0}return!1}function hS(t){return t>64&&t<91}const fS=/\r\n/g;function b_(t,e){const r=ut.whitespace!=="preserve";let n=!1;for(let s=0;s<t.length;s++){const i=t[s];if(i.type===2)if(_m)i.content=i.content.replace(fS,`
`);else if(pS(i.content)){const o=t[s-1]&&t[s-1].type,a=t[s+1]&&t[s+1].type;!o||!a||r&&(o===3&&(a===3||a===1)||o===1&&(a===3||a===1&&mS(i.content)))?(n=!0,t[s]=null):i.content=" "}else r&&(i.content=x_(i.content))}return n?t.filter(Boolean):t}function pS(t){for(let e=0;e<t.length;e++)if(!Zr(t.charCodeAt(e)))return!1;return!0}function mS(t){for(let e=0;e<t.length;e++){const r=t.charCodeAt(e);if(r===10||r===13)return!0}return!1}function x_(t){let e="",r=!1;for(let n=0;n<t.length;n++)Zr(t.charCodeAt(n))?r||(e+=" ",r=!0):(e+=t[n],r=!1);return e}function jf(t){(At[0]||wl).children.push(t)}function Mt(t,e){return{start:Dt.getPos(t),end:e==null?e:Dt.getPos(e),source:e==null?e:nr(t,e)}}function gS(t){return Mt(t.start.offset,t.end.offset)}function Si(t,e){t.end=Dt.getPos(e),t.source=nr(t.start.offset,e)}function yS(t){const e={type:6,name:t.rawName,nameLoc:Mt(t.loc.start.offset,t.loc.start.offset+t.rawName.length),value:void 0,loc:t.loc};if(t.exp){const r=t.exp.loc;r.end.offset<t.loc.end.offset&&(r.start.offset--,r.start.column--,r.end.offset++,r.end.column++),e.value={type:2,content:t.exp.content,loc:r}}return e}function ru(t,e=!1,r,n=0,s=0){return ze(t,e,r,n)}function Qn(t,e,r){ut.onError(St(t,Mt(e,e)))}function vS(){Dt.reset(),_r=null,rt=null,Br="",Jn=-1,ki=-1,At.length=0}function bS(t,e){if(vS(),as=t,ut=Qe({},y_),e){let s;for(s in e)e[s]!=null&&(ut[s]=e[s])}Dt.mode=ut.parseMode==="html"?1:ut.parseMode==="sfc"?2:0,Dt.inXML=ut.ns===1||ut.ns===2;const r=e&&e.delimiters;r&&(Dt.delimiterOpen=Ou(r[0]),Dt.delimiterClose=Ou(r[1]));const n=wl=HA([],t);return Dt.parse(as),n.loc=Mt(0,t.length),n.children=b_(n.children),wl=null,n}function xS(t,e){nu(t,void 0,e,__(t,t.children[0]))}function __(t,e){const{children:r}=t;return r.length===1&&e.type===1&&!Mu(e)}function nu(t,e,r,n=!1,s=!1){const{children:i}=t,o=[];for(let h=0;h<i.length;h++){const f=i[h];if(f.type===1&&f.tagType===0){const p=n?0:tn(f,r);if(p>0){if(p>=2){f.codegenNode.patchFlag=-1,o.push(f);continue}}else{const y=f.codegenNode;if(y.type===13){const k=y.patchFlag;if((k===void 0||k===512||k===1)&&w_(f,r)>=2){const _=E_(f);_&&(y.props=r.hoist(_))}y.dynamicProps&&(y.dynamicProps=r.hoist(y.dynamicProps))}}}else if(f.type===12&&(n?0:tn(f,r))>=2){o.push(f);continue}if(f.type===1){const p=f.tagType===1;p&&r.scopes.vSlot++,nu(f,t,r,!1,s),p&&r.scopes.vSlot--}else if(f.type===11)nu(f,t,r,f.children.length===1,!0);else if(f.type===9)for(let p=0;p<f.branches.length;p++)nu(f.branches[p],t,r,f.branches[p].children.length===1,s)}let a=!1;if(o.length===i.length&&t.type===1){if(t.tagType===0&&t.codegenNode&&t.codegenNode.type===13&&we(t.codegenNode.children))t.codegenNode.children=c(Di(t.codegenNode.children)),a=!0;else if(t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!we(t.codegenNode.children)&&t.codegenNode.children.type===15){const h=d(t.codegenNode,"default");h&&(h.returns=c(Di(h.returns)),a=!0)}else if(t.tagType===3&&e&&e.type===1&&e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!we(e.codegenNode.children)&&e.codegenNode.children.type===15){const h=pn(t,"slot",!0),f=h&&h.arg&&d(e.codegenNode,h.arg);f&&(f.returns=c(Di(f.returns)),a=!0)}}if(!a)for(const h of o)h.codegenNode=r.cache(h.codegenNode);function c(h){const f=r.cache(h);return s&&r.hmr&&(f.needArraySpread=!0),f}function d(h,f){if(h.children&&!we(h.children)&&h.children.type===15){const p=h.children.properties.find(y=>y.key===f||y.key.content===f);return p&&p.value}}o.length&&r.transformHoist&&r.transformHoist(i,r,t)}function tn(t,e){const{constantCache:r}=e;switch(t.type){case 1:if(t.tagType!==0)return 0;const n=r.get(t);if(n!==void 0)return n;const s=t.codegenNode;if(s.type!==13||s.isBlock&&t.tag!=="svg"&&t.tag!=="foreignObject"&&t.tag!=="math")return 0;if(s.patchFlag===void 0){let o=3;const a=w_(t,e);if(a===0)return r.set(t,0),0;a<o&&(o=a);for(let c=0;c<t.children.length;c++){const d=tn(t.children[c],e);if(d===0)return r.set(t,0),0;d<o&&(o=d)}if(o>1)for(let c=0;c<t.props.length;c++){const d=t.props[c];if(d.type===7&&d.name==="bind"&&d.exp){const h=tn(d.exp,e);if(h===0)return r.set(t,0),0;h<o&&(o=h)}}if(s.isBlock){for(let c=0;c<t.props.length;c++)if(t.props[c].type===7)return r.set(t,0),0;e.removeHelper(ji),e.removeHelper(Go(e.inSSR,s.isComponent)),s.isBlock=!1,e.helper(Ko(e.inSSR,s.isComponent))}return r.set(t,o),o}else return r.set(t,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return tn(t.content,e);case 4:return t.constType;case 8:let i=3;for(let o=0;o<t.children.length;o++){const a=t.children[o];if(qe(a)||Qr(a))continue;const c=tn(a,e);if(c===0)return 0;c<i&&(i=c)}return i;case 20:return 2;default:return 0}}const _S=new Set([fm,pm,bl,Hl]);function k_(t,e){if(t.type===14&&!qe(t.callee)&&_S.has(t.callee)){const r=t.arguments[0];if(r.type===4)return tn(r,e);if(r.type===14)return k_(r,e)}return 0}function w_(t,e){let r=3;const n=E_(t);if(n&&n.type===15){const{properties:s}=n;for(let i=0;i<s.length;i++){const{key:o,value:a}=s[i],c=tn(o,e);if(c===0)return c;c<r&&(r=c);let d;if(a.type===4?d=tn(a,e):a.type===14?d=k_(a,e):d=0,d===0)return d;d<r&&(r=d)}}return r}function E_(t){const e=t.codegenNode;if(e.type===13)return e.props}function kS(t,{filename:e="",prefixIdentifiers:r=!1,hoistStatic:n=!1,hmr:s=!1,cacheHandlers:i=!1,nodeTransforms:o=[],directiveTransforms:a={},transformHoist:c=null,isBuiltInComponent:d=or,isCustomElement:h=or,expressionPlugins:f=[],scopeId:p=null,slotted:y=!0,ssr:k=!1,inSSR:_=!1,ssrCssVars:b="",bindingMetadata:I=Ke,inline:A=!1,isTS:E=!1,onError:R=bm,onWarn:S=h_,compatConfig:L}){const T=e.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),v={filename:e,selfName:T&&eo(It(T[1])),prefixIdentifiers:r,hoistStatic:n,hmr:s,cacheHandlers:i,nodeTransforms:o,directiveTransforms:a,transformHoist:c,isBuiltInComponent:d,isCustomElement:h,expressionPlugins:f,scopeId:p,slotted:y,ssr:k,inSSR:_,ssrCssVars:b,bindingMetadata:I,inline:A,isTS:E,onError:R,onWarn:S,compatConfig:L,root:t,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:t,childIndex:0,inVOnce:!1,helper(m){const w=v.helpers.get(m)||0;return v.helpers.set(m,w+1),m},removeHelper(m){const w=v.helpers.get(m);if(w){const N=w-1;N?v.helpers.set(m,N):v.helpers.delete(m)}},helperString(m){return`_${zo[v.helper(m)]}`},replaceNode(m){v.parent.children[v.childIndex]=v.currentNode=m},removeNode(m){const w=v.parent.children,N=m?w.indexOf(m):v.currentNode?v.childIndex:-1;!m||m===v.currentNode?(v.currentNode=null,v.onNodeRemoved()):v.childIndex>N&&(v.childIndex--,v.onNodeRemoved()),v.parent.children.splice(N,1)},onNodeRemoved:or,addIdentifiers(m){},removeIdentifiers(m){},hoist(m){qe(m)&&(m=ze(m)),v.hoists.push(m);const w=ze(`_hoisted_${v.hoists.length}`,!1,m.loc,2);return w.hoisted=m,w},cache(m,w=!1,N=!1){const C=zA(v.cached.length,m,w,N);return v.cached.push(C),C}};return v.filters=new Set,v}function wS(t,e){const r=kS(t,e);Sd(t,r),e.hoistStatic&&xS(t,r),e.ssr||ES(t,r),t.helpers=new Set([...r.helpers.keys()]),t.components=[...r.components],t.directives=[...r.directives],t.imports=r.imports,t.hoists=r.hoists,t.temps=r.temps,t.cached=r.cached,t.transformed=!0,t.filters=[...r.filters]}function ES(t,e){const{helper:r}=e,{children:n}=t;if(n.length===1){const s=n[0];if(__(t,s)&&s.codegenNode){const i=s.codegenNode;i.type===13&&vm(i,e),t.codegenNode=i}else t.codegenNode=s}else if(n.length>1){let s=64;t.codegenNode=xl(e,r(vl),void 0,t.children,s,void 0,void 0,!0,void 0,!1)}}function IS(t,e){let r=0;const n=()=>{r--};for(;r<t.children.length;r++){const s=t.children[r];qe(s)||(e.grandParent=e.parent,e.parent=t,e.childIndex=r,e.onNodeRemoved=n,Sd(s,e))}}function Sd(t,e){e.currentNode=t;const{nodeTransforms:r}=e,n=[];for(let i=0;i<r.length;i++){const o=r[i](t,e);if(o&&(we(o)?n.push(...o):n.push(o)),e.currentNode)t=e.currentNode;else return}switch(t.type){case 3:e.ssr||e.helper(ql);break;case 5:e.ssr||e.helper(Td);break;case 9:for(let i=0;i<t.branches.length;i++)Sd(t.branches[i],e);break;case 10:case 11:case 1:case 0:IS(t,e);break}e.currentNode=t;let s=n.length;for(;s--;)n[s]()}function I_(t,e){const r=qe(t)?n=>n===t:n=>t.test(n);return(n,s)=>{if(n.type===1){const{props:i}=n;if(n.tagType===3&&i.some(nS))return;const o=[];for(let a=0;a<i.length;a++){const c=i[a];if(c.type===7&&r(c.name)){i.splice(a,1),a--;const d=e(n,c,s);d&&o.push(d)}}return o}}}const Cd="/*@__PURE__*/",T_=t=>`${zo[t]}: _${zo[t]}`;function TS(t,{mode:e="function",prefixIdentifiers:r=e==="module",sourceMap:n=!1,filename:s="template.vue.html",scopeId:i=null,optimizeImports:o=!1,runtimeGlobalName:a="Vue",runtimeModuleName:c="vue",ssrRuntimeModuleName:d="vue/server-renderer",ssr:h=!1,isTS:f=!1,inSSR:p=!1}){const y={mode:e,prefixIdentifiers:r,sourceMap:n,filename:s,scopeId:i,optimizeImports:o,runtimeGlobalName:a,runtimeModuleName:c,ssrRuntimeModuleName:d,ssr:h,isTS:f,inSSR:p,source:t.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(_){return`_${zo[_]}`},push(_,b=-2,I){y.code+=_},indent(){k(++y.indentLevel)},deindent(_=!1){_?--y.indentLevel:k(--y.indentLevel)},newline(){k(y.indentLevel)}};function k(_){y.push(`
`+"  ".repeat(_),0)}return y}function AS(t,e={}){const r=TS(t,e);e.onContextCreated&&e.onContextCreated(r);const{mode:n,push:s,prefixIdentifiers:i,indent:o,deindent:a,newline:c,scopeId:d,ssr:h}=r,f=Array.from(t.helpers),p=f.length>0,y=!i&&n!=="module";SS(t,r);const _=h?"ssrRender":"render",I=(h?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(s(`function ${_}(${I}) {`),o(),y&&(s("with (_ctx) {"),o(),p&&(s(`const { ${f.map(T_).join(", ")} } = _Vue
`,-1),c())),t.components.length&&(Bh(t.components,"component",r),(t.directives.length||t.temps>0)&&c()),t.directives.length&&(Bh(t.directives,"directive",r),t.temps>0&&c()),t.filters&&t.filters.length&&(c(),Bh(t.filters,"filter",r),c()),t.temps>0){s("let ");for(let A=0;A<t.temps;A++)s(`${A>0?", ":""}_temp${A}`)}return(t.components.length||t.directives.length||t.temps)&&(s(`
`,0),c()),h||s("return "),t.codegenNode?Sr(t.codegenNode,r):s("null"),y&&(a(),s("}")),a(),s("}"),{ast:t,code:r.code,preamble:"",map:r.map?r.map.toJSON():void 0}}function SS(t,e){const{ssr:r,prefixIdentifiers:n,push:s,newline:i,runtimeModuleName:o,runtimeGlobalName:a,ssrRuntimeModuleName:c}=e,d=a,h=Array.from(t.helpers);if(h.length>0&&(s(`const _Vue = ${d}
`,-1),t.hoists.length)){const f=[sm,im,ql,om,l_].filter(p=>h.includes(p)).map(T_).join(", ");s(`const { ${f} } = _Vue
`,-1)}CS(t.hoists,e),i(),s("return ")}function Bh(t,e,{helper:r,push:n,newline:s,isTS:i}){const o=r(e==="filter"?um:e==="component"?am:cm);for(let a=0;a<t.length;a++){let c=t[a];const d=c.endsWith("__self");d&&(c=c.slice(0,-6)),n(`const ${kl(c,e)} = ${o}(${JSON.stringify(c)}${d?", true":""})${i?"!":""}`),a<t.length-1&&s()}}function CS(t,e){if(!t.length)return;e.pure=!0;const{push:r,newline:n}=e;n();for(let s=0;s<t.length;s++){const i=t[s];i&&(r(`const _hoisted_${s+1} = `),Sr(i,e),n())}e.pure=!1}function km(t,e){const r=t.length>3||!1;e.push("["),r&&e.indent(),zl(t,e,r),r&&e.deindent(),e.push("]")}function zl(t,e,r=!1,n=!0){const{push:s,newline:i}=e;for(let o=0;o<t.length;o++){const a=t[o];qe(a)?s(a,-3):we(a)?km(a,e):Sr(a,e),o<t.length-1&&(r?(n&&s(","),i()):n&&s(", "))}}function Sr(t,e){if(qe(t)){e.push(t,-3);return}if(Qr(t)){e.push(e.helper(t));return}switch(t.type){case 1:case 9:case 11:Sr(t.codegenNode,e);break;case 2:PS(t,e);break;case 4:A_(t,e);break;case 5:RS(t,e);break;case 12:Sr(t.codegenNode,e);break;case 8:S_(t,e);break;case 3:$S(t,e);break;case 13:OS(t,e);break;case 14:MS(t,e);break;case 15:VS(t,e);break;case 17:LS(t,e);break;case 18:FS(t,e);break;case 19:US(t,e);break;case 20:jS(t,e);break;case 21:zl(t.body,e,!0,!1);break}}function PS(t,e){e.push(JSON.stringify(t.content),-3,t)}function A_(t,e){const{content:r,isStatic:n}=t;e.push(n?JSON.stringify(r):r,-3,t)}function RS(t,e){const{push:r,helper:n,pure:s}=e;s&&r(Cd),r(`${n(Td)}(`),Sr(t.content,e),r(")")}function S_(t,e){for(let r=0;r<t.children.length;r++){const n=t.children[r];qe(n)?e.push(n,-3):Sr(n,e)}}function NS(t,e){const{push:r}=e;if(t.type===8)r("["),S_(t,e),r("]");else if(t.isStatic){const n=xm(t.content)?t.content:JSON.stringify(t.content);r(n,-2,t)}else r(`[${t.content}]`,-3,t)}function $S(t,e){const{push:r,helper:n,pure:s}=e;s&&r(Cd),r(`${n(ql)}(${JSON.stringify(t.content)})`,-3,t)}function OS(t,e){const{push:r,helper:n,pure:s}=e,{tag:i,props:o,children:a,patchFlag:c,dynamicProps:d,directives:h,isBlock:f,disableTracking:p,isComponent:y}=t;let k;c&&(k=String(c)),h&&r(n(dm)+"("),f&&r(`(${n(ji)}(${p?"true":""}), `),s&&r(Cd);const _=f?Go(e.inSSR,y):Ko(e.inSSR,y);r(n(_)+"(",-2,t),zl(DS([i,o,a,k,d]),e),r(")"),f&&r(")"),h&&(r(", "),Sr(h,e),r(")"))}function DS(t){let e=t.length;for(;e--&&t[e]==null;);return t.slice(0,e+1).map(r=>r||"null")}function MS(t,e){const{push:r,helper:n,pure:s}=e,i=qe(t.callee)?t.callee:n(t.callee);s&&r(Cd),r(i+"(",-2,t),zl(t.arguments,e),r(")")}function VS(t,e){const{push:r,indent:n,deindent:s,newline:i}=e,{properties:o}=t;if(!o.length){r("{}",-2,t);return}const a=o.length>1||!1;r(a?"{":"{ "),a&&n();for(let c=0;c<o.length;c++){const{key:d,value:h}=o[c];NS(d,e),r(": "),Sr(h,e),c<o.length-1&&(r(","),i())}a&&s(),r(a?"}":" }")}function LS(t,e){km(t.elements,e)}function FS(t,e){const{push:r,indent:n,deindent:s}=e,{params:i,returns:o,body:a,newline:c,isSlot:d}=t;d&&r(`_${zo[gm]}(`),r("(",-2,t),we(i)?zl(i,e):i&&Sr(i,e),r(") => "),(c||a)&&(r("{"),n()),o?(c&&r("return "),we(o)?km(o,e):Sr(o,e)):a&&Sr(a,e),(c||a)&&(s(),r("}")),d&&(t.isNonScopedSlot&&r(", undefined, true"),r(")"))}function US(t,e){const{test:r,consequent:n,alternate:s,newline:i}=t,{push:o,indent:a,deindent:c,newline:d}=e;if(r.type===4){const f=!xm(r.content);f&&o("("),A_(r,e),f&&o(")")}else o("("),Sr(r,e),o(")");i&&a(),e.indentLevel++,i||o(" "),o("? "),Sr(n,e),e.indentLevel--,i&&d(),i||o(" "),o(": ");const h=s.type===19;h||e.indentLevel++,Sr(s,e),h||e.indentLevel--,i&&c(!0)}function jS(t,e){const{push:r,helper:n,indent:s,deindent:i,newline:o}=e,{needPauseTracking:a,needArraySpread:c}=t;c&&r("[...("),r(`_cache[${t.index}] || (`),a&&(s(),r(`${n($u)}(-1`),t.inVOnce&&r(", true"),r("),"),o(),r("(")),r(`_cache[${t.index}] = `),Sr(t.value,e),a&&(r(`).cacheIndex = ${t.index},`),o(),r(`${n($u)}(1),`),o(),r(`_cache[${t.index}]`),i()),r(")"),c&&r(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const BS=I_(/^(if|else|else-if)$/,(t,e,r)=>qS(t,e,r,(n,s,i)=>{const o=r.parent.children;let a=o.indexOf(n),c=0;for(;a-->=0;){const d=o[a];d&&d.type===9&&(c+=d.branches.length)}return()=>{if(i)n.codegenNode=Ey(s,c,r);else{const d=HS(n.codegenNode);d.alternate=Ey(s,c+n.branches.length-1,r)}}}));function qS(t,e,r,n){if(e.name!=="else"&&(!e.exp||!e.exp.content.trim())){const s=e.exp?e.exp.loc:t.loc;r.onError(St(28,e.loc)),e.exp=ze("true",!1,s)}if(e.name==="if"){const s=wy(t,e),i={type:9,loc:gS(t.loc),branches:[s]};if(r.replaceNode(i),n)return n(i,s,!0)}else{const s=r.parent.children;let i=s.indexOf(t);for(;i-->=-1;){const o=s[i];if(o&&o.type===3){r.removeNode(o);continue}if(o&&o.type===2&&!o.content.trim().length){r.removeNode(o);continue}if(o&&o.type===9){e.name==="else-if"&&o.branches[o.branches.length-1].condition===void 0&&r.onError(St(30,t.loc)),r.removeNode();const a=wy(t,e);o.branches.push(a);const c=n&&n(o,a,!1);Sd(a,r),c&&c(),r.currentNode=null}else r.onError(St(30,t.loc));break}}}function wy(t,e){const r=t.tagType===3;return{type:10,loc:t.loc,condition:e.name==="else"?void 0:e.exp,children:r&&!pn(t,"for")?t.children:[t],userKey:Ad(t,"key"),isTemplateIf:r}}function Ey(t,e,r){return t.condition?Ff(t.condition,Iy(t,e,r),Yt(r.helper(ql),['""',"true"])):Iy(t,e,r)}function Iy(t,e,r){const{helper:n}=r,s=Ft("key",ze(`${e}`,!1,un,2)),{children:i}=t,o=i[0];if(i.length!==1||o.type!==1)if(i.length===1&&o.type===11){const c=o.codegenNode;return Vu(c,s,r),c}else return xl(r,n(vl),gn([s]),i,64,void 0,void 0,!0,!1,!1,t.loc);else{const c=o.codegenNode,d=iS(c);return d.type===13&&vm(d,r),Vu(d,s,r),c}}function HS(t){for(;;)if(t.type===19)if(t.alternate.type===19)t=t.alternate;else return t;else t.type===20&&(t=t.value)}const zS=(t,e,r)=>{const{modifiers:n,loc:s}=t,i=t.arg;let{exp:o}=t;if(o&&o.type===4&&!o.content.trim()&&(o=void 0),!o){if(i.type!==4||!i.isStatic)return r.onError(St(52,i.loc)),{props:[Ft(i,ze("",!0,s))]};C_(t),o=t.exp}return i.type!==4?(i.children.unshift("("),i.children.push(') || ""')):i.isStatic||(i.content=`${i.content} || ""`),n.some(a=>a.content==="camel")&&(i.type===4?i.isStatic?i.content=It(i.content):i.content=`${r.helperString(Vf)}(${i.content})`:(i.children.unshift(`${r.helperString(Vf)}(`),i.children.push(")"))),r.inSSR||(n.some(a=>a.content==="prop")&&Ty(i,"."),n.some(a=>a.content==="attr")&&Ty(i,"^")),{props:[Ft(i,o)]}},C_=(t,e)=>{const r=t.arg,n=It(r.content);t.exp=ze(n,!1,r.loc)},Ty=(t,e)=>{t.type===4?t.isStatic?t.content=e+t.content:t.content=`\`${e}\${${t.content}}\``:(t.children.unshift(`'${e}' + (`),t.children.push(")"))},WS=I_("for",(t,e,r)=>{const{helper:n,removeHelper:s}=r;return KS(t,e,r,i=>{const o=Yt(n(hm),[i.source]),a=Du(t),c=pn(t,"memo"),d=Ad(t,"key",!1,!0);d&&d.type===7&&!d.exp&&C_(d);let f=d&&(d.type===6?d.value?ze(d.value.content,!0):void 0:d.exp);const p=d&&f?Ft("key",f):null,y=i.source.type===4&&i.source.constType>0,k=y?64:d?128:256;return i.codegenNode=xl(r,n(vl),void 0,o,k,void 0,void 0,!0,!y,!1,t.loc),()=>{let _;const{children:b}=i,I=b.length!==1||b[0].type!==1,A=Mu(t)?t:a&&t.children.length===1&&Mu(t.children[0])?t.children[0]:null;if(A?(_=A.codegenNode,a&&p&&Vu(_,p,r)):I?_=xl(r,n(vl),p?gn([p]):void 0,t.children,64,void 0,void 0,!0,void 0,!1):(_=b[0].codegenNode,a&&p&&Vu(_,p,r),_.isBlock!==!y&&(_.isBlock?(s(ji),s(Go(r.inSSR,_.isComponent))):s(Ko(r.inSSR,_.isComponent))),_.isBlock=!y,_.isBlock?(n(ji),n(Go(r.inSSR,_.isComponent))):n(Ko(r.inSSR,_.isComponent))),c){const E=Wo(Bf(i.parseResult,[ze("_cached")]));E.body=WA([Cn(["const _memo = (",c.exp,")"]),Cn(["if (_cached",...f?[" && _cached.key === ",f]:[],` && ${r.helperString(d_)}(_cached, _memo)) return _cached`]),Cn(["const _item = ",_]),ze("_item.memo = _memo"),ze("return _item")]),o.arguments.push(E,ze("_cache"),ze(String(r.cached.length))),r.cached.push(null)}else o.arguments.push(Wo(Bf(i.parseResult),_,!0))}})});function KS(t,e,r,n){if(!e.exp){r.onError(St(31,e.loc));return}const s=e.forParseResult;if(!s){r.onError(St(32,e.loc));return}P_(s);const{addIdentifiers:i,removeIdentifiers:o,scopes:a}=r,{source:c,value:d,key:h,index:f}=s,p={type:11,loc:e.loc,source:c,valueAlias:d,keyAlias:h,objectIndexAlias:f,parseResult:s,children:Du(t)?t.children:[t]};r.replaceNode(p),a.vFor++;const y=n&&n(p);return()=>{a.vFor--,y&&y()}}function P_(t,e){t.finalized||(t.finalized=!0)}function Bf({value:t,key:e,index:r},n=[]){return GS([t,e,r,...n])}function GS(t){let e=t.length;for(;e--&&!t[e];);return t.slice(0,e+1).map((r,n)=>r||ze("_".repeat(n+1),!1))}const Ay=ze("undefined",!1),QS=(t,e)=>{if(t.type===1&&(t.tagType===1||t.tagType===3)){const r=pn(t,"slot");if(r)return r.exp,e.scopes.vSlot++,()=>{e.scopes.vSlot--}}},YS=(t,e,r,n)=>Wo(t,r,!1,!0,r.length?r[0].loc:n);function JS(t,e,r=YS){e.helper(gm);const{children:n,loc:s}=t,i=[],o=[];let a=e.scopes.vSlot>0||e.scopes.vFor>0;const c=pn(t,"slot",!0);if(c){const{arg:b,exp:I}=c;b&&!Kr(b)&&(a=!0),i.push(Ft(b||ze("default",!0),r(I,void 0,n,s)))}let d=!1,h=!1;const f=[],p=new Set;let y=0;for(let b=0;b<n.length;b++){const I=n[b];let A;if(!Du(I)||!(A=pn(I,"slot",!0))){I.type!==3&&f.push(I);continue}if(c){e.onError(St(37,A.loc));break}d=!0;const{children:E,loc:R}=I,{arg:S=ze("default",!0),exp:L,loc:T}=A;let v;Kr(S)?v=S?S.content:"default":a=!0;const m=pn(I,"for"),w=r(L,m,E,R);let N,C;if(N=pn(I,"if"))a=!0,o.push(Ff(N.exp,Lc(S,w,y++),Ay));else if(C=pn(I,/^else(-if)?$/,!0)){let P=b,ce;for(;P--&&(ce=n[P],ce.type===3););if(ce&&Du(ce)&&pn(ce,/^(else-)?if$/)){let he=o[o.length-1];for(;he.alternate.type===19;)he=he.alternate;he.alternate=C.exp?Ff(C.exp,Lc(S,w,y++),Ay):Lc(S,w,y++)}else e.onError(St(30,C.loc))}else if(m){a=!0;const P=m.forParseResult;P?(P_(P),o.push(Yt(e.helper(hm),[P.source,Wo(Bf(P),Lc(S,w),!0)]))):e.onError(St(32,m.loc))}else{if(v){if(p.has(v)){e.onError(St(38,T));continue}p.add(v),v==="default"&&(h=!0)}i.push(Ft(S,w))}}if(!c){const b=(I,A)=>{const E=r(I,void 0,A,s);return e.compatConfig&&(E.isNonScopedSlot=!0),Ft("default",E)};d?f.length&&f.some(I=>R_(I))&&(h?e.onError(St(39,f[0].loc)):i.push(b(void 0,f))):i.push(b(void 0,n))}const k=a?2:su(t.children)?3:1;let _=gn(i.concat(Ft("_",ze(k+"",!1))),s);return o.length&&(_=Yt(e.helper(u_),[_,Di(o)])),{slots:_,hasDynamicSlots:a}}function Lc(t,e,r){const n=[Ft("name",t),Ft("fn",e)];return r!=null&&n.push(Ft("key",ze(String(r),!0))),gn(n)}function su(t){for(let e=0;e<t.length;e++){const r=t[e];switch(r.type){case 1:if(r.tagType===2||su(r.children))return!0;break;case 9:if(su(r.branches))return!0;break;case 10:case 11:if(su(r.children))return!0;break}}return!1}function R_(t){return t.type!==2&&t.type!==12?!0:t.type===2?!!t.content.trim():R_(t.content)}const N_=new WeakMap,XS=(t,e)=>function(){if(t=e.currentNode,!(t.type===1&&(t.tagType===0||t.tagType===1)))return;const{tag:n,props:s}=t,i=t.tagType===1;let o=i?ZS(t,e):`"${n}"`;const a=yt(o)&&o.callee===lm;let c,d,h=0,f,p,y,k=a||o===Za||o===nm||!i&&(n==="svg"||n==="foreignObject"||n==="math");if(s.length>0){const _=$_(t,e,void 0,i,a);c=_.props,h=_.patchFlag,p=_.dynamicPropNames;const b=_.directives;y=b&&b.length?Di(b.map(I=>t5(I,e))):void 0,_.shouldUseBlock&&(k=!0)}if(t.children.length>0)if(o===Ru&&(k=!0,h|=1024),i&&o!==Za&&o!==Ru){const{slots:b,hasDynamicSlots:I}=JS(t,e);d=b,I&&(h|=1024)}else if(t.children.length===1&&o!==Za){const b=t.children[0],I=b.type,A=I===5||I===8;A&&tn(b,e)===0&&(h|=1),A||I===2?d=b:d=t.children}else d=t.children;p&&p.length&&(f=r5(p)),t.codegenNode=xl(e,o,c,d,h===0?void 0:h,f,y,!!k,!1,i,t.loc)};function ZS(t,e,r=!1){let{tag:n}=t;const s=qf(n),i=Ad(t,"is",!1,!0);if(i)if(s||Mi("COMPILER_IS_ON_ELEMENT",e)){let a;if(i.type===6?a=i.value&&ze(i.value.content,!0):(a=i.exp,a||(a=ze("is",!1,i.arg.loc))),a)return Yt(e.helper(lm),[a])}else i.type===6&&i.value.content.startsWith("vue:")&&(n=i.value.content.slice(4));const o=f_(n)||e.isBuiltInComponent(n);return o?(r||e.helper(o),o):(e.helper(am),e.components.add(n),kl(n,"component"))}function $_(t,e,r=t.props,n,s,i=!1){const{tag:o,loc:a,children:c}=t;let d=[];const h=[],f=[],p=c.length>0;let y=!1,k=0,_=!1,b=!1,I=!1,A=!1,E=!1,R=!1;const S=[],L=w=>{d.length&&(h.push(gn(Sy(d),a)),d=[]),w&&h.push(w)},T=()=>{e.scopes.vFor>0&&d.push(Ft(ze("ref_for",!0),ze("true")))},v=({key:w,value:N})=>{if(Kr(w)){const C=w.content,P=Xi(C);if(P&&(!n||s)&&C.toLowerCase()!=="onclick"&&C!=="onUpdate:modelValue"&&!Gs(C)&&(A=!0),P&&Gs(C)&&(R=!0),P&&N.type===14&&(N=N.arguments[0]),N.type===20||(N.type===4||N.type===8)&&tn(N,e)>0)return;C==="ref"?_=!0:C==="class"?b=!0:C==="style"?I=!0:C!=="key"&&!S.includes(C)&&S.push(C),n&&(C==="class"||C==="style")&&!S.includes(C)&&S.push(C)}else E=!0};for(let w=0;w<r.length;w++){const N=r[w];if(N.type===6){const{loc:C,name:P,nameLoc:ce,value:he}=N;let G=!0;if(P==="ref"&&(_=!0,T()),P==="is"&&(qf(o)||he&&he.content.startsWith("vue:")||Mi("COMPILER_IS_ON_ELEMENT",e)))continue;d.push(Ft(ze(P,!0,ce),ze(he?he.content:"",G,he?he.loc:C)))}else{const{name:C,arg:P,exp:ce,loc:he,modifiers:G}=N,U=C==="bind",re=C==="on";if(C==="slot"){n||e.onError(St(40,he));continue}if(C==="once"||C==="memo"||C==="is"||U&&Ai(P,"is")&&(qf(o)||Mi("COMPILER_IS_ON_ELEMENT",e))||re&&i)continue;if((U&&Ai(P,"key")||re&&p&&Ai(P,"vue:before-update"))&&(y=!0),U&&Ai(P,"ref")&&T(),!P&&(U||re)){if(E=!0,ce)if(U){if(T(),L(),Mi("COMPILER_V_BIND_OBJECT_ORDER",e)){h.unshift(ce);continue}h.push(ce)}else L({type:14,loc:he,callee:e.helper(mm),arguments:n?[ce]:[ce,"true"]});else e.onError(St(U?34:35,he));continue}U&&G.some(Ee=>Ee.content==="prop")&&(k|=32);const ae=e.directiveTransforms[C];if(ae){const{props:Ee,needRuntime:ve}=ae(N,t,e);!i&&Ee.forEach(v),re&&P&&!Kr(P)?L(gn(Ee,a)):d.push(...Ee),ve&&(f.push(N),Qr(ve)&&N_.set(N,ve))}else cI(C)||(f.push(N),p&&(y=!0))}}let m;if(h.length?(L(),h.length>1?m=Yt(e.helper(Nu),h,a):m=h[0]):d.length&&(m=gn(Sy(d),a)),E?k|=16:(b&&!n&&(k|=2),I&&!n&&(k|=4),S.length&&(k|=8),A&&(k|=32)),!y&&(k===0||k===32)&&(_||R||f.length>0)&&(k|=512),!e.inSSR&&m)switch(m.type){case 15:let w=-1,N=-1,C=!1;for(let he=0;he<m.properties.length;he++){const G=m.properties[he].key;Kr(G)?G.content==="class"?w=he:G.content==="style"&&(N=he):G.isHandlerKey||(C=!0)}const P=m.properties[w],ce=m.properties[N];C?m=Yt(e.helper(bl),[m]):(P&&!Kr(P.value)&&(P.value=Yt(e.helper(fm),[P.value])),ce&&(I||ce.value.type===4&&ce.value.content.trim()[0]==="["||ce.value.type===17)&&(ce.value=Yt(e.helper(pm),[ce.value])));break;case 14:break;default:m=Yt(e.helper(bl),[Yt(e.helper(Hl),[m])]);break}return{props:m,directives:f,patchFlag:k,dynamicPropNames:S,shouldUseBlock:y}}function Sy(t){const e=new Map,r=[];for(let n=0;n<t.length;n++){const s=t[n];if(s.key.type===8||!s.key.isStatic){r.push(s);continue}const i=s.key.content,o=e.get(i);o?(i==="style"||i==="class"||Xi(i))&&e5(o,s):(e.set(i,s),r.push(s))}return r}function e5(t,e){t.value.type===17?t.value.elements.push(e.value):t.value=Di([t.value,e.value],t.loc)}function t5(t,e){const r=[],n=N_.get(t);n?r.push(e.helperString(n)):(e.helper(cm),e.directives.add(t.name),r.push(kl(t.name,"directive")));const{loc:s}=t;if(t.exp&&r.push(t.exp),t.arg&&(t.exp||r.push("void 0"),r.push(t.arg)),Object.keys(t.modifiers).length){t.arg||(t.exp||r.push("void 0"),r.push("void 0"));const i=ze("true",!1,s);r.push(gn(t.modifiers.map(o=>Ft(o,i)),s))}return Di(r,t.loc)}function r5(t){let e="[";for(let r=0,n=t.length;r<n;r++)e+=JSON.stringify(t[r]),r<n-1&&(e+=", ");return e+"]"}function qf(t){return t==="component"||t==="Component"}const n5=(t,e)=>{if(Mu(t)){const{children:r,loc:n}=t,{slotName:s,slotProps:i}=s5(t,e),o=[e.prefixIdentifiers?"_ctx.$slots":"$slots",s,"{}","undefined","true"];let a=2;i&&(o[2]=i,a=3),r.length&&(o[3]=Wo([],r,!1,!1,n),a=4),e.scopeId&&!e.slotted&&(a=5),o.splice(a),t.codegenNode=Yt(e.helper(c_),o,n)}};function s5(t,e){let r='"default"',n;const s=[];for(let i=0;i<t.props.length;i++){const o=t.props[i];if(o.type===6)o.value&&(o.name==="name"?r=JSON.stringify(o.value.content):(o.name=It(o.name),s.push(o)));else if(o.name==="bind"&&Ai(o.arg,"name")){if(o.exp)r=o.exp;else if(o.arg&&o.arg.type===4){const a=It(o.arg.content);r=o.exp=ze(a,!1,o.arg.loc)}}else o.name==="bind"&&o.arg&&Kr(o.arg)&&(o.arg.content=It(o.arg.content)),s.push(o)}if(s.length>0){const{props:i,directives:o}=$_(t,e,s,!1,!1);n=i,o.length&&e.onError(St(36,o[0].loc))}return{slotName:r,slotProps:n}}const O_=(t,e,r,n)=>{const{loc:s,modifiers:i,arg:o}=t;!t.exp&&!i.length&&r.onError(St(35,s));let a;if(o.type===4)if(o.isStatic){let f=o.content;f.startsWith("vue:")&&(f=`vnode-${f.slice(4)}`);const p=e.tagType!==0||f.startsWith("vnode")||!/[A-Z]/.test(f)?$o(It(f)):`on:${f}`;a=ze(p,!0,o.loc)}else a=Cn([`${r.helperString(Lf)}(`,o,")"]);else a=o,a.children.unshift(`${r.helperString(Lf)}(`),a.children.push(")");let c=t.exp;c&&!c.content.trim()&&(c=void 0);let d=r.cacheHandlers&&!c&&!r.inVOnce;if(c){const f=m_(c),p=!(f||tS(c)),y=c.content.includes(";");(p||d&&f)&&(c=Cn([`${p?"$event":"(...args)"} => ${y?"{":"("}`,c,y?"}":")"]))}let h={props:[Ft(a,c||ze("() => {}",!1,s))]};return n&&(h=n(h)),d&&(h.props[0].value=r.cache(h.props[0].value)),h.props.forEach(f=>f.key.isHandlerKey=!0),h},i5=(t,e)=>{if(t.type===0||t.type===1||t.type===11||t.type===10)return()=>{const r=t.children;let n,s=!1;for(let i=0;i<r.length;i++){const o=r[i];if(jh(o)){s=!0;for(let a=i+1;a<r.length;a++){const c=r[a];if(jh(c))n||(n=r[i]=Cn([o],o.loc)),n.children.push(" + ",c),r.splice(a,1),a--;else{n=void 0;break}}}}if(!(!s||r.length===1&&(t.type===0||t.type===1&&t.tagType===0&&!t.props.find(i=>i.type===7&&!e.directiveTransforms[i.name])&&t.tag!=="template")))for(let i=0;i<r.length;i++){const o=r[i];if(jh(o)||o.type===8){const a=[];(o.type!==2||o.content!==" ")&&a.push(o),!e.ssr&&tn(o,e)===0&&a.push("1"),r[i]={type:12,content:o,loc:o.loc,codegenNode:Yt(e.helper(om),a)}}}}},Cy=new WeakSet,o5=(t,e)=>{if(t.type===1&&pn(t,"once",!0))return Cy.has(t)||e.inVOnce||e.inSSR?void 0:(Cy.add(t),e.inVOnce=!0,e.helper($u),()=>{e.inVOnce=!1;const r=e.currentNode;r.codegenNode&&(r.codegenNode=e.cache(r.codegenNode,!0,!0))})},D_=(t,e,r)=>{const{exp:n,arg:s}=t;if(!n)return r.onError(St(41,t.loc)),Fc();const i=n.loc.source.trim(),o=n.type===4?n.content:i,a=r.bindingMetadata[i];if(a==="props"||a==="props-aliased")return r.onError(St(44,n.loc)),Fc();if(!o.trim()||!m_(n))return r.onError(St(42,n.loc)),Fc();const c=s||ze("modelValue",!0),d=s?Kr(s)?`onUpdate:${It(s.content)}`:Cn(['"onUpdate:" + ',s]):"onUpdate:modelValue";let h;const f=r.isTS?"($event: any)":"$event";h=Cn([`${f} => ((`,n,") = $event)"]);const p=[Ft(c,t.exp),Ft(d,h)];if(t.modifiers.length&&e.tagType===1){const y=t.modifiers.map(_=>_.content).map(_=>(xm(_)?_:JSON.stringify(_))+": true").join(", "),k=s?Kr(s)?`${s.content}Modifiers`:Cn([s,' + "Modifiers"']):"modelModifiers";p.push(Ft(k,ze(`{ ${y} }`,!1,t.loc,2)))}return Fc(p)};function Fc(t=[]){return{props:t}}const a5=/[\w).+\-_$\]]/,l5=(t,e)=>{Mi("COMPILER_FILTERS",e)&&(t.type===5?Lu(t.content,e):t.type===1&&t.props.forEach(r=>{r.type===7&&r.name!=="for"&&r.exp&&Lu(r.exp,e)}))};function Lu(t,e){if(t.type===4)Py(t,e);else for(let r=0;r<t.children.length;r++){const n=t.children[r];typeof n=="object"&&(n.type===4?Py(n,e):n.type===8?Lu(t,e):n.type===5&&Lu(n.content,e))}}function Py(t,e){const r=t.content;let n=!1,s=!1,i=!1,o=!1,a=0,c=0,d=0,h=0,f,p,y,k,_=[];for(y=0;y<r.length;y++)if(p=f,f=r.charCodeAt(y),n)f===39&&p!==92&&(n=!1);else if(s)f===34&&p!==92&&(s=!1);else if(i)f===96&&p!==92&&(i=!1);else if(o)f===47&&p!==92&&(o=!1);else if(f===124&&r.charCodeAt(y+1)!==124&&r.charCodeAt(y-1)!==124&&!a&&!c&&!d)k===void 0?(h=y+1,k=r.slice(0,y).trim()):b();else{switch(f){case 34:s=!0;break;case 39:n=!0;break;case 96:i=!0;break;case 40:d++;break;case 41:d--;break;case 91:c++;break;case 93:c--;break;case 123:a++;break;case 125:a--;break}if(f===47){let I=y-1,A;for(;I>=0&&(A=r.charAt(I),A===" ");I--);(!A||!a5.test(A))&&(o=!0)}}k===void 0?k=r.slice(0,y).trim():h!==0&&b();function b(){_.push(r.slice(h,y).trim()),h=y+1}if(_.length){for(y=0;y<_.length;y++)k=c5(k,_[y],e);t.content=k,t.ast=void 0}}function c5(t,e,r){r.helper(um);const n=e.indexOf("(");if(n<0)return r.filters.add(e),`${kl(e,"filter")}(${t})`;{const s=e.slice(0,n),i=e.slice(n+1);return r.filters.add(s),`${kl(s,"filter")}(${t}${i!==")"?","+i:i}`}}const Ry=new WeakSet,u5=(t,e)=>{if(t.type===1){const r=pn(t,"memo");return!r||Ry.has(t)?void 0:(Ry.add(t),()=>{const n=t.codegenNode||e.currentNode.codegenNode;n&&n.type===13&&(t.tagType!==1&&vm(n,e),t.codegenNode=Yt(e.helper(ym),[r.exp,Wo(void 0,n),"_cache",String(e.cached.length)]),e.cached.push(null))})}};function d5(t){return[[o5,BS,u5,WS,l5,n5,XS,QS,i5],{on:O_,bind:zS,model:D_}]}function h5(t,e={}){const r=e.onError||bm,n=e.mode==="module";e.prefixIdentifiers===!0?r(St(47)):n&&r(St(48));const s=!1;e.cacheHandlers&&r(St(49)),e.scopeId&&!n&&r(St(50));const i=Qe({},e,{prefixIdentifiers:s}),o=qe(t)?bS(t,i):t,[a,c]=d5();return wS(o,Qe({},i,{nodeTransforms:[...a,...e.nodeTransforms||[]],directiveTransforms:Qe({},c,e.directiveTransforms||{})})),AS(o,i)}const f5=()=>({props:[]});/**
* @vue/compiler-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const M_=Symbol(""),V_=Symbol(""),L_=Symbol(""),F_=Symbol(""),Hf=Symbol(""),U_=Symbol(""),j_=Symbol(""),B_=Symbol(""),q_=Symbol(""),H_=Symbol("");qA({[M_]:"vModelRadio",[V_]:"vModelCheckbox",[L_]:"vModelText",[F_]:"vModelSelect",[Hf]:"vModelDynamic",[U_]:"withModifiers",[j_]:"withKeys",[B_]:"vShow",[q_]:"Transition",[H_]:"TransitionGroup"});let yo;function p5(t,e=!1){return yo||(yo=document.createElement("div")),e?(yo.innerHTML=`<div foo="${t.replace(/"/g,"&quot;")}">`,yo.children[0].getAttribute("foo")):(yo.innerHTML=t,yo.textContent)}const m5={parseMode:"html",isVoidTag:TI,isNativeTag:t=>wI(t)||EI(t)||II(t),isPreTag:t=>t==="pre",isIgnoreNewlineTag:t=>t==="pre"||t==="textarea",decodeEntities:p5,isBuiltInComponent:t=>{if(t==="Transition"||t==="transition")return q_;if(t==="TransitionGroup"||t==="transition-group")return H_},getNamespace(t,e,r){let n=e?e.ns:r;if(e&&n===2)if(e.tag==="annotation-xml"){if(t==="svg")return 1;e.props.some(s=>s.type===6&&s.name==="encoding"&&s.value!=null&&(s.value.content==="text/html"||s.value.content==="application/xhtml+xml"))&&(n=0)}else/^m(?:[ions]|text)$/.test(e.tag)&&t!=="mglyph"&&t!=="malignmark"&&(n=0);else e&&n===1&&(e.tag==="foreignObject"||e.tag==="desc"||e.tag==="title")&&(n=0);if(n===0){if(t==="svg")return 1;if(t==="math")return 2}return n}},g5=t=>{t.type===1&&t.props.forEach((e,r)=>{e.type===6&&e.name==="style"&&e.value&&(t.props[r]={type:7,name:"bind",arg:ze("style",!0,e.loc),exp:y5(e.value.content,e.loc),modifiers:[],loc:e.loc})})},y5=(t,e)=>{const r=n1(t);return ze(JSON.stringify(r),!1,e,3)};function Js(t,e){return St(t,e)}const v5=(t,e,r)=>{const{exp:n,loc:s}=t;return n||r.onError(Js(53,s)),e.children.length&&(r.onError(Js(54,s)),e.children.length=0),{props:[Ft(ze("innerHTML",!0,s),n||ze("",!0))]}},b5=(t,e,r)=>{const{exp:n,loc:s}=t;return n||r.onError(Js(55,s)),e.children.length&&(r.onError(Js(56,s)),e.children.length=0),{props:[Ft(ze("textContent",!0),n?tn(n,r)>0?n:Yt(r.helperString(Td),[n],s):ze("",!0))]}},x5=(t,e,r)=>{const n=D_(t,e,r);if(!n.props.length||e.tagType===1)return n;t.arg&&r.onError(Js(58,t.arg.loc));const{tag:s}=e,i=r.isCustomElement(s);if(s==="input"||s==="textarea"||s==="select"||i){let o=L_,a=!1;if(s==="input"||i){const c=Ad(e,"type");if(c){if(c.type===7)o=Hf;else if(c.value)switch(c.value.content){case"radio":o=M_;break;case"checkbox":o=V_;break;case"file":a=!0,r.onError(Js(59,t.loc));break}}else rS(e)&&(o=Hf)}else s==="select"&&(o=F_);a||(n.needRuntime=r.helper(o))}else r.onError(Js(57,t.loc));return n.props=n.props.filter(o=>!(o.key.type===4&&o.key.content==="modelValue")),n},_5=ln("passive,once,capture"),k5=ln("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),w5=ln("left,right"),z_=ln("onkeyup,onkeydown,onkeypress"),E5=(t,e,r,n)=>{const s=[],i=[],o=[];for(let a=0;a<e.length;a++){const c=e[a].content;c==="native"&&_l("COMPILER_V_ON_NATIVE",r)||_5(c)?o.push(c):w5(c)?Kr(t)?z_(t.content.toLowerCase())?s.push(c):i.push(c):(s.push(c),i.push(c)):k5(c)?i.push(c):s.push(c)}return{keyModifiers:s,nonKeyModifiers:i,eventOptionModifiers:o}},Ny=(t,e)=>Kr(t)&&t.content.toLowerCase()==="onclick"?ze(e,!0):t.type!==4?Cn(["(",t,`) === "onClick" ? "${e}" : (`,t,")"]):t,I5=(t,e,r)=>O_(t,e,r,n=>{const{modifiers:s}=t;if(!s.length)return n;let{key:i,value:o}=n.props[0];const{keyModifiers:a,nonKeyModifiers:c,eventOptionModifiers:d}=E5(i,s,r,t.loc);if(c.includes("right")&&(i=Ny(i,"onContextmenu")),c.includes("middle")&&(i=Ny(i,"onMouseup")),c.length&&(o=Yt(r.helper(U_),[o,JSON.stringify(c)])),a.length&&(!Kr(i)||z_(i.content.toLowerCase()))&&(o=Yt(r.helper(j_),[o,JSON.stringify(a)])),d.length){const h=d.map(eo).join("");i=Kr(i)?ze(`${i.content}${h}`,!0):Cn(["(",i,`) + "${h}"`])}return{props:[Ft(i,o)]}}),T5=(t,e,r)=>{const{exp:n,loc:s}=t;return n||r.onError(Js(61,s)),{props:[],needRuntime:r.helper(B_)}},A5=(t,e)=>{t.type===1&&t.tagType===0&&(t.tag==="script"||t.tag==="style")&&e.removeNode()},S5=[g5],C5={cloak:f5,html:v5,text:b5,model:x5,on:I5,show:T5};function P5(t,e={}){return h5(t,Qe({},m5,e,{nodeTransforms:[A5,...S5,...e.nodeTransforms||[]],directiveTransforms:Qe({},C5,e.directiveTransforms||{}),transformHoist:null}))}/**
* vue v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const $y=Object.create(null);function R5(t,e){if(!qe(t))if(t.nodeType)t=t.innerHTML;else return or;const r=hI(t,e),n=$y[r];if(n)return n;if(t[0]==="#"){const a=document.querySelector(t);t=a?a.innerHTML:""}const s=Qe({hoistStatic:!0,onError:void 0,onWarn:or},e);!s.isCustomElement&&typeof customElements<"u"&&(s.isCustomElement=a=>!!customElements.get(a));const{code:i}=P5(t,s),o=new Function("Vue",i)(VA);return o._rc=!0,$y[r]=o}Nx(R5);/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let W_;const Pd=t=>W_=t,K_=Symbol();function zf(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var el;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(el||(el={}));function N5(){const t=Mp(!0),e=t.run(()=>B({}));let r=[],n=[];const s=pd({install(i){Pd(s),s._a=i,i.provide(K_,s),i.config.globalProperties.$pinia=s,n.forEach(o=>r.push(o)),n=[]},use(i){return this._a?r.push(i):n.push(i),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return s}const G_=()=>{};function Oy(t,e,r,n=G_){t.push(e);const s=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),n())};return!r&&Vp()&&a1(s),s}function vo(t,...e){t.slice().forEach(r=>{r(...e)})}const $5=t=>t(),Dy=Symbol(),qh=Symbol();function Wf(t,e){t instanceof Map&&e instanceof Map?e.forEach((r,n)=>t.set(n,r)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r],s=t[r];zf(s)&&zf(n)&&t.hasOwnProperty(r)&&!Pt(n)&&!Sn(n)?t[r]=Wf(s,n):t[r]=n}return t}const O5=Symbol();function D5(t){return!zf(t)||!t.hasOwnProperty(O5)}const{assign:$s}=Object;function M5(t){return!!(Pt(t)&&t.effect)}function V5(t,e,r,n){const{state:s,actions:i,getters:o}=e,a=r.state.value[t];let c;function d(){a||(r.state.value[t]=s?s():{});const h=I1(r.state.value[t]);return $s(h,i,Object.keys(o||{}).reduce((f,p)=>(f[p]=pd(te(()=>{Pd(r);const y=r._s.get(t);return o[p].call(y,y)})),f),{}))}return c=Q_(t,d,e,r,n,!0),c}function Q_(t,e,r={},n,s,i){let o;const a=$s({actions:{}},r),c={deep:!0};let d,h,f=[],p=[],y;const k=n.state.value[t];!i&&!k&&(n.state.value[t]={}),B({});let _;function b(v){let m;d=h=!1,typeof v=="function"?(v(n.state.value[t]),m={type:el.patchFunction,storeId:t,events:y}):(Wf(n.state.value[t],v),m={type:el.patchObject,payload:v,storeId:t,events:y});const w=_=Symbol();ar().then(()=>{_===w&&(d=!0)}),h=!0,vo(f,m,n.state.value[t])}const I=i?function(){const{state:m}=r,w=m?m():{};this.$patch(N=>{$s(N,w)})}:G_;function A(){o.stop(),f=[],p=[],n._s.delete(t)}const E=(v,m="")=>{if(Dy in v)return v[qh]=m,v;const w=function(){Pd(n);const N=Array.from(arguments),C=[],P=[];function ce(U){C.push(U)}function he(U){P.push(U)}vo(p,{args:N,name:w[qh],store:S,after:ce,onError:he});let G;try{G=v.apply(this&&this.$id===t?this:S,N)}catch(U){throw vo(P,U),U}return G instanceof Promise?G.then(U=>(vo(C,U),U)).catch(U=>(vo(P,U),Promise.reject(U))):(vo(C,G),G)};return w[Dy]=!0,w[qh]=m,w},R={_p:n,$id:t,$onAction:Oy.bind(null,p),$patch:b,$reset:I,$subscribe(v,m={}){const w=Oy(f,v,m.detached,()=>N()),N=o.run(()=>Rt(()=>n.state.value[t],C=>{(m.flush==="sync"?h:d)&&v({storeId:t,type:el.direct,events:y},C)},$s({},c,m)));return w},$dispose:A},S=Yr(R);n._s.set(t,S);const T=(n._a&&n._a.runWithContext||$5)(()=>n._e.run(()=>(o=Mp()).run(()=>e({action:E}))));for(const v in T){const m=T[v];if(Pt(m)&&!M5(m)||Sn(m))i||(k&&D5(m)&&(Pt(m)?m.value=k[v]:Wf(m,k[v])),n.state.value[t][v]=m);else if(typeof m=="function"){const w=E(m,v);T[v]=w,a.actions[v]=m}}return $s(S,T),$s(We(S),T),Object.defineProperty(S,"$state",{get:()=>n.state.value[t],set:v=>{b(m=>{$s(m,v)})}}),n._p.forEach(v=>{$s(S,o.run(()=>v({store:S,app:n._a,pinia:n,options:a})))}),k&&i&&r.hydrate&&r.hydrate(S.$state,k),d=!0,h=!0,S}/*! #__NO_SIDE_EFFECTS__ */function Rd(t,e,r){let n,s;const i=typeof e=="function";typeof t=="string"?(n=t,s=i?r:e):(s=t,n=t.id);function o(a,c){const d=tx();return a=a||(d?ot(K_,null):null),a&&Pd(a),a=W_,a._s.has(n)||(i?Q_(n,e,s,a):V5(n,s,a)),a._s.get(n)}return o.$id=n,o}function L5(t){{const e=We(t),r={};for(const n in e){const s=e[n];s.effect?r[n]=te({get:()=>t[n],set(i){t[n]=i}}):(Pt(s)||Sn(s))&&(r[n]=T1(t,n))}return r}}const wm=Rd("theme",()=>{const t=()=>{const o=localStorage.getItem("theme");return o||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")},e=B("light");typeof window<"u"&&(e.value=t(),r(e.value),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",o=>{localStorage.getItem("theme")||(e.value=o.matches?"dark":"light")})),Rt(e,o=>{localStorage.setItem("theme",o),r(o)});function r(o){o==="dark"?(document.documentElement.classList.add("theme-transition"),document.documentElement.classList.add("dark"),setTimeout(()=>{document.documentElement.classList.remove("theme-transition")},300)):(document.documentElement.classList.add("theme-transition"),document.documentElement.classList.remove("dark"),setTimeout(()=>{document.documentElement.classList.remove("theme-transition")},300));const a=document.querySelector('meta[name="theme-color"]');a&&a.setAttribute("content",o==="dark"?"#2A1B3D":"#FFF5E1")}function n(){e.value=e.value==="light"?"dark":"light"}function s(o){(o==="light"||o==="dark")&&(e.value=o)}function i(){localStorage.removeItem("theme"),e.value=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}return{theme:e,toggleTheme:n,setTheme:s,resetToSystemPreference:i}});/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const _o=typeof document<"u";function Y_(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function F5(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Y_(t.default)}const ht=Object.assign;function Hh(t,e){const r={};for(const n in e){const s=e[n];r[n]=Rn(s)?s.map(t):t(s)}return r}const tl=()=>{},Rn=Array.isArray,J_=/#/g,U5=/&/g,j5=/\//g,B5=/=/g,q5=/\?/g,X_=/\+/g,H5=/%5B/g,z5=/%5D/g,Z_=/%5E/g,W5=/%60/g,ek=/%7B/g,K5=/%7C/g,tk=/%7D/g,G5=/%20/g;function Em(t){return encodeURI(""+t).replace(K5,"|").replace(H5,"[").replace(z5,"]")}function Q5(t){return Em(t).replace(ek,"{").replace(tk,"}").replace(Z_,"^")}function Kf(t){return Em(t).replace(X_,"%2B").replace(G5,"+").replace(J_,"%23").replace(U5,"%26").replace(W5,"`").replace(ek,"{").replace(tk,"}").replace(Z_,"^")}function Y5(t){return Kf(t).replace(B5,"%3D")}function J5(t){return Em(t).replace(J_,"%23").replace(q5,"%3F")}function X5(t){return t==null?"":J5(t).replace(j5,"%2F")}function El(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const Z5=/\/$/,eC=t=>t.replace(Z5,"");function zh(t,e,r="/"){let n,s={},i="",o="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(n=e.slice(0,c),i=e.slice(c+1,a>-1?a:e.length),s=t(i)),a>-1&&(n=n||e.slice(0,a),o=e.slice(a,e.length)),n=sC(n??e,r),{fullPath:n+(i&&"?")+i+o,path:n,query:s,hash:El(o)}}function tC(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function My(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function rC(t,e,r){const n=e.matched.length-1,s=r.matched.length-1;return n>-1&&n===s&&Qo(e.matched[n],r.matched[s])&&rk(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function Qo(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function rk(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!nC(t[r],e[r]))return!1;return!0}function nC(t,e){return Rn(t)?Vy(t,e):Rn(e)?Vy(e,t):t===e}function Vy(t,e){return Rn(e)?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function sC(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),n=t.split("/"),s=n[n.length-1];(s===".."||s===".")&&n.push("");let i=r.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")i>1&&i--;else break;return r.slice(0,i).join("/")+"/"+n.slice(o).join("/")}const Cs={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Il;(function(t){t.pop="pop",t.push="push"})(Il||(Il={}));var rl;(function(t){t.back="back",t.forward="forward",t.unknown=""})(rl||(rl={}));function iC(t){if(!t)if(_o){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),eC(t)}const oC=/^[^#]+#/;function aC(t,e){return t.replace(oC,"#")+e}function lC(t,e){const r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-r.left-(e.left||0),top:n.top-r.top-(e.top||0)}}const Nd=()=>({left:window.scrollX,top:window.scrollY});function cC(t){let e;if("el"in t){const r=t.el,n=typeof r=="string"&&r.startsWith("#"),s=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!s)return;e=lC(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Ly(t,e){return(history.state?history.state.position-e:-1)+t}const Gf=new Map;function uC(t,e){Gf.set(t,e)}function dC(t){const e=Gf.get(t);return Gf.delete(t),e}let hC=()=>location.protocol+"//"+location.host;function nk(t,e){const{pathname:r,search:n,hash:s}=e,i=t.indexOf("#");if(i>-1){let a=s.includes(t.slice(i))?t.slice(i).length:1,c=s.slice(a);return c[0]!=="/"&&(c="/"+c),My(c,"")}return My(r,t)+n+s}function fC(t,e,r,n){let s=[],i=[],o=null;const a=({state:p})=>{const y=nk(t,location),k=r.value,_=e.value;let b=0;if(p){if(r.value=y,e.value=p,o&&o===k){o=null;return}b=_?p.position-_.position:0}else n(y);s.forEach(I=>{I(r.value,k,{delta:b,type:Il.pop,direction:b?b>0?rl.forward:rl.back:rl.unknown})})};function c(){o=r.value}function d(p){s.push(p);const y=()=>{const k=s.indexOf(p);k>-1&&s.splice(k,1)};return i.push(y),y}function h(){const{history:p}=window;p.state&&p.replaceState(ht({},p.state,{scroll:Nd()}),"")}function f(){for(const p of i)p();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:c,listen:d,destroy:f}}function Fy(t,e,r,n=!1,s=!1){return{back:t,current:e,forward:r,replaced:n,position:window.history.length,scroll:s?Nd():null}}function pC(t){const{history:e,location:r}=window,n={value:nk(t,r)},s={value:e.state};s.value||i(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(c,d,h){const f=t.indexOf("#"),p=f>-1?(r.host&&document.querySelector("base")?t:t.slice(f))+c:hC()+t+c;try{e[h?"replaceState":"pushState"](d,"",p),s.value=d}catch(y){console.error(y),r[h?"replace":"assign"](p)}}function o(c,d){const h=ht({},e.state,Fy(s.value.back,c,s.value.forward,!0),d,{position:s.value.position});i(c,h,!0),n.value=c}function a(c,d){const h=ht({},s.value,e.state,{forward:c,scroll:Nd()});i(h.current,h,!0);const f=ht({},Fy(n.value,c,null),{position:h.position+1},d);i(c,f,!1),n.value=c}return{location:n,state:s,push:a,replace:o}}function mC(t){t=iC(t);const e=pC(t),r=fC(t,e.state,e.location,e.replace);function n(i,o=!0){o||r.pauseListeners(),history.go(i)}const s=ht({location:"",base:t,go:n,createHref:aC.bind(null,t)},e,r);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function gC(t){return typeof t=="string"||t&&typeof t=="object"}function sk(t){return typeof t=="string"||typeof t=="symbol"}const ik=Symbol("");var Uy;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Uy||(Uy={}));function Yo(t,e){return ht(new Error,{type:t,[ik]:!0},e)}function Yn(t,e){return t instanceof Error&&ik in t&&(e==null||!!(t.type&e))}const jy="[^/]+?",yC={sensitive:!1,strict:!1,start:!0,end:!0},vC=/[.+*?^${}()[\]/\\]/g;function bC(t,e){const r=ht({},yC,e),n=[];let s=r.start?"^":"";const i=[];for(const d of t){const h=d.length?[]:[90];r.strict&&!d.length&&(s+="/");for(let f=0;f<d.length;f++){const p=d[f];let y=40+(r.sensitive?.25:0);if(p.type===0)f||(s+="/"),s+=p.value.replace(vC,"\\$&"),y+=40;else if(p.type===1){const{value:k,repeatable:_,optional:b,regexp:I}=p;i.push({name:k,repeatable:_,optional:b});const A=I||jy;if(A!==jy){y+=10;try{new RegExp(`(${A})`)}catch(R){throw new Error(`Invalid custom RegExp for param "${k}" (${A}): `+R.message)}}let E=_?`((?:${A})(?:/(?:${A}))*)`:`(${A})`;f||(E=b&&d.length<2?`(?:/${E})`:"/"+E),b&&(E+="?"),s+=E,y+=20,b&&(y+=-8),_&&(y+=-20),A===".*"&&(y+=-50)}h.push(y)}n.push(h)}if(r.strict&&r.end){const d=n.length-1;n[d][n[d].length-1]+=.7000000000000001}r.strict||(s+="/?"),r.end?s+="$":r.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,r.sensitive?"":"i");function a(d){const h=d.match(o),f={};if(!h)return null;for(let p=1;p<h.length;p++){const y=h[p]||"",k=i[p-1];f[k.name]=y&&k.repeatable?y.split("/"):y}return f}function c(d){let h="",f=!1;for(const p of t){(!f||!h.endsWith("/"))&&(h+="/"),f=!1;for(const y of p)if(y.type===0)h+=y.value;else if(y.type===1){const{value:k,repeatable:_,optional:b}=y,I=k in d?d[k]:"";if(Rn(I)&&!_)throw new Error(`Provided param "${k}" is an array but it is not repeatable (* or + modifiers)`);const A=Rn(I)?I.join("/"):I;if(!A)if(b)p.length<2&&(h.endsWith("/")?h=h.slice(0,-1):f=!0);else throw new Error(`Missing required param "${k}"`);h+=A}}return h||"/"}return{re:o,score:n,keys:i,parse:a,stringify:c}}function xC(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=e[r]-t[r];if(n)return n;r++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function ok(t,e){let r=0;const n=t.score,s=e.score;for(;r<n.length&&r<s.length;){const i=xC(n[r],s[r]);if(i)return i;r++}if(Math.abs(s.length-n.length)===1){if(By(n))return 1;if(By(s))return-1}return s.length-n.length}function By(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const _C={type:0,value:""},kC=/[a-zA-Z0-9_]/;function wC(t){if(!t)return[[]];if(t==="/")return[[_C]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(y){throw new Error(`ERR (${r})/"${d}": ${y}`)}let r=0,n=r;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,c,d="",h="";function f(){d&&(r===0?i.push({type:0,value:d}):r===1||r===2||r===3?(i.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:d,regexp:h,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),d="")}function p(){d+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:c==="/"?(d&&f(),o()):c===":"?(f(),r=1):p();break;case 4:p(),r=n;break;case 1:c==="("?r=2:kC.test(c)?p():(f(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+c:r=3:h+=c;break;case 3:f(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,h="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${d}"`),f(),o(),s}function EC(t,e,r){const n=bC(wC(t.path),r),s=ht(n,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function IC(t,e){const r=[],n=new Map;e=Wy({strict:!1,end:!0,sensitive:!1},e);function s(f){return n.get(f)}function i(f,p,y){const k=!y,_=Hy(f);_.aliasOf=y&&y.record;const b=Wy(e,f),I=[_];if("alias"in f){const R=typeof f.alias=="string"?[f.alias]:f.alias;for(const S of R)I.push(Hy(ht({},_,{components:y?y.record.components:_.components,path:S,aliasOf:y?y.record:_})))}let A,E;for(const R of I){const{path:S}=R;if(p&&S[0]!=="/"){const L=p.record.path,T=L[L.length-1]==="/"?"":"/";R.path=p.record.path+(S&&T+S)}if(A=EC(R,p,b),y?y.alias.push(A):(E=E||A,E!==A&&E.alias.push(A),k&&f.name&&!zy(A)&&o(f.name)),ak(A)&&c(A),_.children){const L=_.children;for(let T=0;T<L.length;T++)i(L[T],A,y&&y.children[T])}y=y||A}return E?()=>{o(E)}:tl}function o(f){if(sk(f)){const p=n.get(f);p&&(n.delete(f),r.splice(r.indexOf(p),1),p.children.forEach(o),p.alias.forEach(o))}else{const p=r.indexOf(f);p>-1&&(r.splice(p,1),f.record.name&&n.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return r}function c(f){const p=SC(f,r);r.splice(p,0,f),f.record.name&&!zy(f)&&n.set(f.record.name,f)}function d(f,p){let y,k={},_,b;if("name"in f&&f.name){if(y=n.get(f.name),!y)throw Yo(1,{location:f});b=y.record.name,k=ht(qy(p.params,y.keys.filter(E=>!E.optional).concat(y.parent?y.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),f.params&&qy(f.params,y.keys.map(E=>E.name))),_=y.stringify(k)}else if(f.path!=null)_=f.path,y=r.find(E=>E.re.test(_)),y&&(k=y.parse(_),b=y.record.name);else{if(y=p.name?n.get(p.name):r.find(E=>E.re.test(p.path)),!y)throw Yo(1,{location:f,currentLocation:p});b=y.record.name,k=ht({},p.params,f.params),_=y.stringify(k)}const I=[];let A=y;for(;A;)I.unshift(A.record),A=A.parent;return{name:b,path:_,params:k,matched:I,meta:AC(I)}}t.forEach(f=>i(f));function h(){r.length=0,n.clear()}return{addRoute:i,resolve:d,removeRoute:o,clearRoutes:h,getRoutes:a,getRecordMatcher:s}}function qy(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function Hy(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:TC(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function TC(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const n in t.components)e[n]=typeof r=="object"?r[n]:r;return e}function zy(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function AC(t){return t.reduce((e,r)=>ht(e,r.meta),{})}function Wy(t,e){const r={};for(const n in t)r[n]=n in e?e[n]:t[n];return r}function SC(t,e){let r=0,n=e.length;for(;r!==n;){const i=r+n>>1;ok(t,e[i])<0?n=i:r=i+1}const s=CC(t);return s&&(n=e.lastIndexOf(s,n-1)),n}function CC(t){let e=t;for(;e=e.parent;)if(ak(e)&&ok(t,e)===0)return e}function ak({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function PC(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<n.length;++s){const i=n[s].replace(X_," "),o=i.indexOf("="),a=El(o<0?i:i.slice(0,o)),c=o<0?null:El(i.slice(o+1));if(a in e){let d=e[a];Rn(d)||(d=e[a]=[d]),d.push(c)}else e[a]=c}return e}function Ky(t){let e="";for(let r in t){const n=t[r];if(r=Y5(r),n==null){n!==void 0&&(e+=(e.length?"&":"")+r);continue}(Rn(n)?n.map(i=>i&&Kf(i)):[n&&Kf(n)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+r,i!=null&&(e+="="+i))})}return e}function RC(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=Rn(n)?n.map(s=>s==null?null:""+s):n==null?n:""+n)}return e}const NC=Symbol(""),Gy=Symbol(""),$d=Symbol(""),Im=Symbol(""),Qf=Symbol("");function Pa(){let t=[];function e(n){return t.push(n),()=>{const s=t.indexOf(n);s>-1&&t.splice(s,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function Us(t,e,r,n,s,i=o=>o()){const o=n&&(n.enterCallbacks[s]=n.enterCallbacks[s]||[]);return()=>new Promise((a,c)=>{const d=p=>{p===!1?c(Yo(4,{from:r,to:e})):p instanceof Error?c(p):gC(p)?c(Yo(2,{from:e,to:p})):(o&&n.enterCallbacks[s]===o&&typeof p=="function"&&o.push(p),a())},h=i(()=>t.call(n&&n.instances[s],e,r,d));let f=Promise.resolve(h);t.length<3&&(f=f.then(d)),f.catch(p=>c(p))})}function Wh(t,e,r,n,s=i=>i()){const i=[];for(const o of t)for(const a in o.components){let c=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Y_(c)){const h=(c.__vccOpts||c)[e];h&&i.push(Us(h,r,n,o,a,s))}else{let d=c();i.push(()=>d.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=F5(h)?h.default:h;o.mods[a]=h,o.components[a]=f;const y=(f.__vccOpts||f)[e];return y&&Us(y,r,n,o,a,s)()}))}}return i}function Qy(t){const e=ot($d),r=ot(Im),n=te(()=>{const c=q(t.to);return e.resolve(c)}),s=te(()=>{const{matched:c}=n.value,{length:d}=c,h=c[d-1],f=r.matched;if(!h||!f.length)return-1;const p=f.findIndex(Qo.bind(null,h));if(p>-1)return p;const y=Yy(c[d-2]);return d>1&&Yy(h)===y&&f[f.length-1].path!==y?f.findIndex(Qo.bind(null,c[d-2])):p}),i=te(()=>s.value>-1&&MC(r.params,n.value.params)),o=te(()=>s.value>-1&&s.value===r.matched.length-1&&rk(r.params,n.value.params));function a(c={}){if(DC(c)){const d=e[q(t.replace)?"replace":"push"](q(t.to)).catch(tl);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>d),d}return Promise.resolve()}return{route:n,href:te(()=>n.value.href),isActive:i,isExactActive:o,navigate:a}}function $C(t){return t.length===1?t[0]:t}const OC=Ze({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Qy,setup(t,{slots:e}){const r=Yr(Qy(t)),{options:n}=ot($d),s=te(()=>({[Jy(t.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[Jy(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const i=e.default&&$C(e.default(r));return t.custom?i:_t("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:s.value},i)}}}),ft=OC;function DC(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function MC(t,e){for(const r in e){const n=e[r],s=t[r];if(typeof n=="string"){if(n!==s)return!1}else if(!Rn(s)||s.length!==n.length||n.some((i,o)=>i!==s[o]))return!1}return!0}function Yy(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Jy=(t,e,r)=>t??e??r,VC=Ze({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const n=ot(Qf),s=te(()=>t.route||n.value),i=ot(Gy,0),o=te(()=>{let d=q(i);const{matched:h}=s.value;let f;for(;(f=h[d])&&!f.components;)d++;return d}),a=te(()=>s.value.matched[o.value]);zt(Gy,te(()=>o.value+1)),zt(NC,a),zt(Qf,s);const c=B();return Rt(()=>[c.value,a.value,t.name],([d,h,f],[p,y,k])=>{h&&(h.instances[f]=d,y&&y!==h&&d&&d===p&&(h.leaveGuards.size||(h.leaveGuards=y.leaveGuards),h.updateGuards.size||(h.updateGuards=y.updateGuards))),d&&h&&(!y||!Qo(h,y)||!p)&&(h.enterCallbacks[f]||[]).forEach(_=>_(d))},{flush:"post"}),()=>{const d=s.value,h=t.name,f=a.value,p=f&&f.components[h];if(!p)return Xy(r.default,{Component:p,route:d});const y=f.props[h],k=y?y===!0?d.params:typeof y=="function"?y(d):y:null,b=_t(p,ht({},k,e,{onVnodeUnmounted:I=>{I.component.isUnmounted&&(f.instances[h]=null)},ref:c}));return Xy(r.default,{Component:b,route:d})||b}}});function Xy(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const LC=VC;function FC(t){const e=IC(t.routes,t),r=t.parseQuery||PC,n=t.stringifyQuery||Ky,s=t.history,i=Pa(),o=Pa(),a=Pa(),c=md(Cs);let d=Cs;_o&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Hh.bind(null,K=>""+K),f=Hh.bind(null,X5),p=Hh.bind(null,El);function y(K,F){let j,ee;return sk(K)?(j=e.getRecordMatcher(K),ee=F):ee=K,e.addRoute(ee,j)}function k(K){const F=e.getRecordMatcher(K);F&&e.removeRoute(F)}function _(){return e.getRoutes().map(K=>K.record)}function b(K){return!!e.getRecordMatcher(K)}function I(K,F){if(F=ht({},F||c.value),typeof K=="string"){const O=zh(r,K,F.path),Y=e.resolve({path:O.path},F),oe=s.createHref(O.fullPath);return ht(O,Y,{params:p(Y.params),hash:El(O.hash),redirectedFrom:void 0,href:oe})}let j;if(K.path!=null)j=ht({},K,{path:zh(r,K.path,F.path).path});else{const O=ht({},K.params);for(const Y in O)O[Y]==null&&delete O[Y];j=ht({},K,{params:f(O)}),F.params=f(F.params)}const ee=e.resolve(j,F),ie=K.hash||"";ee.params=h(p(ee.params));const W=tC(n,ht({},K,{hash:Q5(ie),path:ee.path})),M=s.createHref(W);return ht({fullPath:W,hash:ie,query:n===Ky?RC(K.query):K.query||{}},ee,{redirectedFrom:void 0,href:M})}function A(K){return typeof K=="string"?zh(r,K,c.value.path):ht({},K)}function E(K,F){if(d!==K)return Yo(8,{from:F,to:K})}function R(K){return T(K)}function S(K){return R(ht(A(K),{replace:!0}))}function L(K){const F=K.matched[K.matched.length-1];if(F&&F.redirect){const{redirect:j}=F;let ee=typeof j=="function"?j(K):j;return typeof ee=="string"&&(ee=ee.includes("?")||ee.includes("#")?ee=A(ee):{path:ee},ee.params={}),ht({query:K.query,hash:K.hash,params:ee.path!=null?{}:K.params},ee)}}function T(K,F){const j=d=I(K),ee=c.value,ie=K.state,W=K.force,M=K.replace===!0,O=L(j);if(O)return T(ht(A(O),{state:typeof O=="object"?ht({},ie,O.state):ie,force:W,replace:M}),F||j);const Y=j;Y.redirectedFrom=F;let oe;return!W&&rC(n,ee,j)&&(oe=Yo(16,{to:Y,from:ee}),ve(ee,ee,!0,!1)),(oe?Promise.resolve(oe):w(Y,ee)).catch(J=>Yn(J)?Yn(J,2)?J:Ee(J):re(J,Y,ee)).then(J=>{if(J){if(Yn(J,2))return T(ht({replace:M},A(J.to),{state:typeof J.to=="object"?ht({},ie,J.to.state):ie,force:W}),F||Y)}else J=C(Y,ee,!0,M,ie);return N(Y,ee,J),J})}function v(K,F){const j=E(K,F);return j?Promise.reject(j):Promise.resolve()}function m(K){const F=at.values().next().value;return F&&typeof F.runWithContext=="function"?F.runWithContext(K):K()}function w(K,F){let j;const[ee,ie,W]=UC(K,F);j=Wh(ee.reverse(),"beforeRouteLeave",K,F);for(const O of ee)O.leaveGuards.forEach(Y=>{j.push(Us(Y,K,F))});const M=v.bind(null,K,F);return j.push(M),bt(j).then(()=>{j=[];for(const O of i.list())j.push(Us(O,K,F));return j.push(M),bt(j)}).then(()=>{j=Wh(ie,"beforeRouteUpdate",K,F);for(const O of ie)O.updateGuards.forEach(Y=>{j.push(Us(Y,K,F))});return j.push(M),bt(j)}).then(()=>{j=[];for(const O of W)if(O.beforeEnter)if(Rn(O.beforeEnter))for(const Y of O.beforeEnter)j.push(Us(Y,K,F));else j.push(Us(O.beforeEnter,K,F));return j.push(M),bt(j)}).then(()=>(K.matched.forEach(O=>O.enterCallbacks={}),j=Wh(W,"beforeRouteEnter",K,F,m),j.push(M),bt(j))).then(()=>{j=[];for(const O of o.list())j.push(Us(O,K,F));return j.push(M),bt(j)}).catch(O=>Yn(O,8)?O:Promise.reject(O))}function N(K,F,j){a.list().forEach(ee=>m(()=>ee(K,F,j)))}function C(K,F,j,ee,ie){const W=E(K,F);if(W)return W;const M=F===Cs,O=_o?history.state:{};j&&(ee||M?s.replace(K.fullPath,ht({scroll:M&&O&&O.scroll},ie)):s.push(K.fullPath,ie)),c.value=K,ve(K,F,j,M),Ee()}let P;function ce(){P||(P=s.listen((K,F,j)=>{if(!Tt.listening)return;const ee=I(K),ie=L(ee);if(ie){T(ht(ie,{replace:!0,force:!0}),ee).catch(tl);return}d=ee;const W=c.value;_o&&uC(Ly(W.fullPath,j.delta),Nd()),w(ee,W).catch(M=>Yn(M,12)?M:Yn(M,2)?(T(ht(A(M.to),{force:!0}),ee).then(O=>{Yn(O,20)&&!j.delta&&j.type===Il.pop&&s.go(-1,!1)}).catch(tl),Promise.reject()):(j.delta&&s.go(-j.delta,!1),re(M,ee,W))).then(M=>{M=M||C(ee,W,!1),M&&(j.delta&&!Yn(M,8)?s.go(-j.delta,!1):j.type===Il.pop&&Yn(M,20)&&s.go(-1,!1)),N(ee,W,M)}).catch(tl)}))}let he=Pa(),G=Pa(),U;function re(K,F,j){Ee(K);const ee=G.list();return ee.length?ee.forEach(ie=>ie(K,F,j)):console.error(K),Promise.reject(K)}function ae(){return U&&c.value!==Cs?Promise.resolve():new Promise((K,F)=>{he.add([K,F])})}function Ee(K){return U||(U=!K,ce(),he.list().forEach(([F,j])=>K?j(K):F()),he.reset()),K}function ve(K,F,j,ee){const{scrollBehavior:ie}=t;if(!_o||!ie)return Promise.resolve();const W=!j&&dC(Ly(K.fullPath,0))||(ee||!j)&&history.state&&history.state.scroll||null;return ar().then(()=>ie(K,F,W)).then(M=>M&&cC(M)).catch(M=>re(M,K,F))}const Ce=K=>s.go(K);let Fe;const at=new Set,Tt={currentRoute:c,listening:!0,addRoute:y,removeRoute:k,clearRoutes:e.clearRoutes,hasRoute:b,getRoutes:_,resolve:I,options:t,push:R,replace:S,go:Ce,back:()=>Ce(-1),forward:()=>Ce(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:G.add,isReady:ae,install(K){const F=this;K.component("RouterLink",ft),K.component("RouterView",LC),K.config.globalProperties.$router=F,Object.defineProperty(K.config.globalProperties,"$route",{enumerable:!0,get:()=>q(c)}),_o&&!Fe&&c.value===Cs&&(Fe=!0,R(s.location).catch(ie=>{}));const j={};for(const ie in Cs)Object.defineProperty(j,ie,{get:()=>c.value[ie],enumerable:!0});K.provide($d,F),K.provide(Im,jp(j)),K.provide(Qf,c);const ee=K.unmount;at.add(K),K.unmount=function(){at.delete(K),at.size<1&&(d=Cs,P&&P(),P=null,c.value=Cs,Fe=!1,U=!1),ee()}}};function bt(K){return K.reduce((F,j)=>F.then(()=>m(j)),Promise.resolve())}return Tt}function UC(t,e){const r=[],n=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(d=>Qo(d,a))?n.push(a):r.push(a));const c=t.matched[o];c&&(e.matched.find(d=>Qo(d,c))||s.push(c))}return[r,n,s]}function di(){return ot($d)}function Od(t){return ot(Im)}var Zy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);s<128?e[r++]=s:s<2048?(e[r++]=s>>6|192,e[r++]=s&63|128):(s&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=s>>18|240,e[r++]=s>>12&63|128,e[r++]=s>>6&63|128,e[r++]=s&63|128):(e[r++]=s>>12|224,e[r++]=s>>6&63|128,e[r++]=s&63|128)}return e},jC=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const s=t[r++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[r++];e[n++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[r++],o=t[r++],a=t[r++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const i=t[r++],o=t[r++];e[n++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},ck={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|d>>6,y=d&63;c||(y=64,o||(p=64)),n.push(r[h],r[f],r[p],r[y])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lk(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):jC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<t.length;){const i=r[t.charAt(s++)],a=s<t.length?r[t.charAt(s)]:0;++s;const d=s<t.length?r[t.charAt(s)]:64;++s;const f=s<t.length?r[t.charAt(s)]:64;if(++s,i==null||a==null||d==null||f==null)throw new BC;const p=i<<2|a>>4;if(n.push(p),d!==64){const y=a<<4&240|d>>2;if(n.push(y),f!==64){const k=d<<6&192|f;n.push(k)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class BC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qC=function(t){const e=lk(t);return ck.encodeByteArray(e,!0)},Fu=function(t){return qC(t).replace(/\./g,"")},uk=function(t){try{return ck.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=()=>HC().__FIREBASE_DEFAULTS__,WC=()=>{if(typeof process>"u"||typeof Zy>"u")return;const t=Zy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uk(t[1]);return e&&JSON.parse(e)},Dd=()=>{try{return zC()||WC()||KC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dk=t=>{var e,r;return(r=(e=Dd())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},Tm=t=>{const e=dk(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},hk=()=>{var t;return(t=Dd())===null||t===void 0?void 0:t.config},fk=t=>{var e;return(e=Dd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Fu(JSON.stringify(r)),Fu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function QC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nr())}function YC(){var t;const e=(t=Dd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mk(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function XC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZC(){const t=Nr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function e3(){return!YC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gk(){try{return typeof indexedDB=="object"}catch{return!1}}function yk(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){e(r)}})}function t3(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3="FirebaseError";class kn extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=r3,Object.setPrototypeOf(this,kn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ro.prototype.create)}}class ro{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?n3(i,n):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new kn(s,a,n)}}function n3(t,e){return t.replace(s3,(r,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const s3=/\{\$([^}]+)}/g;function i3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Tl(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const s of r){if(!n.includes(s))return!1;const i=t[s],o=e[s];if(ev(i)&&ev(o)){if(!Tl(i,o))return!1}else if(i!==o)return!1}for(const s of n)if(!r.includes(s))return!1;return!0}function ev(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(s=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Fa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[s,i]=n.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Ua(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function o3(t,e){const r=new a3(t,e);return r.subscribe.bind(r)}class a3{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let s;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");l3(e,["next","error","complete"])?s=e:s={next:e,error:r,complete:n},s.next===void 0&&(s.next=Kh),s.error===void 0&&(s.error=Kh),s.complete===void 0&&(s.complete=Kh);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function l3(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Kh(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3=1e3,u3=2,d3=4*60*60*1e3,h3=.5;function tv(t,e=c3,r=u3){const n=e*Math.pow(r,t),s=Math.round(h3*n*(Math.random()-.5)*2);return Math.min(d3,n+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(t){return t&&t._delegate?t._delegate:t}class an{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new GC;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(m3(e))try{this.getOrInitializeService({instanceIdentifier:wi})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:s});n.resolve(i)}catch{}}}}clearInstance(e=wi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=wi){return this.instances.has(e)}getOptions(e=wi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);n===a&&o.resolve(s)}return s}onInit(e,r){var n;const s=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const s of n)try{s(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:p3(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=wi){return this.component?this.component.multipleInstances?e:wi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function p3(t){return t===wi?void 0:t}function m3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new f3(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Je||(Je={}));const y3={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},v3=Je.INFO,b3={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},x3=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),s=b3[e];if(s)console[s](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Md{constructor(e){this.name=e,this._logLevel=v3,this._logHandler=x3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?y3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}const _3=(t,e)=>e.some(r=>t instanceof r);let rv,nv;function k3(){return rv||(rv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function w3(){return nv||(nv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vk=new WeakMap,Yf=new WeakMap,bk=new WeakMap,Gh=new WeakMap,Am=new WeakMap;function E3(t){const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{r(Xs(t.result)),s()},o=()=>{n(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&vk.set(r,t)}).catch(()=>{}),Am.set(e,t),e}function I3(t){if(Yf.has(t))return;const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{r(),s()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Yf.set(t,e)}let Jf={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Yf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bk.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Xs(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function T3(t){Jf=t(Jf)}function A3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Qh(this),e,...r);return bk.set(n,e.sort?e.sort():[e]),Xs(n)}:w3().includes(t)?function(...e){return t.apply(Qh(this),e),Xs(vk.get(this))}:function(...e){return Xs(t.apply(Qh(this),e))}}function S3(t){return typeof t=="function"?A3(t):(t instanceof IDBTransaction&&I3(t),_3(t,k3())?new Proxy(t,Jf):t)}function Xs(t){if(t instanceof IDBRequest)return E3(t);if(Gh.has(t))return Gh.get(t);const e=S3(t);return e!==t&&(Gh.set(t,e),Am.set(e,t)),e}const Qh=t=>Am.get(t);function xk(t,e,{blocked:r,upgrade:n,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Xs(o);return n&&o.addEventListener("upgradeneeded",c=>{n(Xs(o.result),c.oldVersion,c.newVersion,Xs(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const C3=["get","getKey","getAll","getAllKeys","count"],P3=["put","add","delete","clear"],Yh=new Map;function sv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yh.get(e))return Yh.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,s=P3.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||C3.includes(r)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let d=c.store;return n&&(d=d.index(a.shift())),(await Promise.all([d[r](...a),s&&c.done]))[0]};return Yh.set(e,i),i}T3(t=>({...t,get:(e,r,n)=>sv(e,r)||t.get(e,r,n),has:(e,r)=>!!sv(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(N3(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function N3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Xf="@firebase/app",iv="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new Md("@firebase/app"),$3="@firebase/app-compat",O3="@firebase/analytics-compat",D3="@firebase/analytics",M3="@firebase/app-check-compat",V3="@firebase/app-check",L3="@firebase/auth",F3="@firebase/auth-compat",U3="@firebase/database",j3="@firebase/data-connect",B3="@firebase/database-compat",q3="@firebase/functions",H3="@firebase/functions-compat",z3="@firebase/installations",W3="@firebase/installations-compat",K3="@firebase/messaging",G3="@firebase/messaging-compat",Q3="@firebase/performance",Y3="@firebase/performance-compat",J3="@firebase/remote-config",X3="@firebase/remote-config-compat",Z3="@firebase/storage",eP="@firebase/storage-compat",tP="@firebase/firestore",rP="@firebase/vertexai-preview",nP="@firebase/firestore-compat",sP="firebase",iP="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zf="[DEFAULT]",oP={[Xf]:"fire-core",[$3]:"fire-core-compat",[D3]:"fire-analytics",[O3]:"fire-analytics-compat",[V3]:"fire-app-check",[M3]:"fire-app-check-compat",[L3]:"fire-auth",[F3]:"fire-auth-compat",[U3]:"fire-rtdb",[j3]:"fire-data-connect",[B3]:"fire-rtdb-compat",[q3]:"fire-fn",[H3]:"fire-fn-compat",[z3]:"fire-iid",[W3]:"fire-iid-compat",[K3]:"fire-fcm",[G3]:"fire-fcm-compat",[Q3]:"fire-perf",[Y3]:"fire-perf-compat",[J3]:"fire-rc",[X3]:"fire-rc-compat",[Z3]:"fire-gcs",[eP]:"fire-gcs-compat",[tP]:"fire-fst",[nP]:"fire-fst-compat",[rP]:"fire-vertex","fire-js":"fire-js",[sP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al=new Map,aP=new Map,ep=new Map;function ov(t,e){try{t.container.addComponent(e)}catch(r){hs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function xn(t){const e=t.name;if(ep.has(e))return hs.debug(`There were multiple attempts to register component ${e}.`),!1;ep.set(e,t);for(const r of Al.values())ov(r,t);for(const r of aP.values())ov(r,t);return!0}function vs(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Vn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zs=new ro("app","Firebase",lP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cP{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new an("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=iP;function Sm(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Zf,automaticDataCollectionEnabled:!1},e),s=n.name;if(typeof s!="string"||!s)throw Zs.create("bad-app-name",{appName:String(s)});if(r||(r=hk()),!r)throw Zs.create("no-options");const i=Al.get(s);if(i){if(Tl(r,i.options)&&Tl(n,i.config))return i;throw Zs.create("duplicate-app",{appName:s})}const o=new g3(s);for(const c of ep.values())o.addComponent(c);const a=new cP(r,n,o);return Al.set(s,a),a}function ca(t=Zf){const e=Al.get(t);if(!e&&t===Zf&&hk())return Sm();if(!e)throw Zs.create("no-app",{appName:t});return e}function uP(){return Array.from(Al.values())}function Cr(t,e,r){var n;let s=(n=oP[t])!==null&&n!==void 0?n:t;r&&(s+=`-${r}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hs.warn(a.join(" "));return}xn(new an(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP="firebase-heartbeat-database",hP=1,Sl="firebase-heartbeat-store";let Jh=null;function _k(){return Jh||(Jh=xk(dP,hP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Sl)}catch(r){console.warn(r)}}}}).catch(t=>{throw Zs.create("idb-open",{originalErrorMessage:t.message})})),Jh}async function fP(t){try{const r=(await _k()).transaction(Sl),n=await r.objectStore(Sl).get(kk(t));return await r.done,n}catch(e){if(e instanceof kn)hs.warn(e.message);else{const r=Zs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hs.warn(r.message)}}}async function av(t,e){try{const n=(await _k()).transaction(Sl,"readwrite");await n.objectStore(Sl).put(e,kk(t)),await n.done}catch(r){if(r instanceof kn)hs.warn(r.message);else{const n=Zs.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});hs.warn(n.message)}}}function kk(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=1024,mP=30*24*60*60*1e3;class gP{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new vP(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=lv();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=mP}),this._storage.overwrite(this._heartbeatsCache))}catch(n){hs.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=lv(),{heartbeatsToSend:n,unsentEntries:s}=yP(this._heartbeatsCache.heartbeats),i=Fu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return hs.warn(r),""}}}function lv(){return new Date().toISOString().substring(0,10)}function yP(t,e=pP){const r=[];let n=t.slice();for(const s of t){const i=r.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),cv(r)>e){i.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),cv(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class vP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gk()?yk().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await fP(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return av(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return av(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function cv(t){return Fu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(t){xn(new an("platform-logger",e=>new R3(e),"PRIVATE")),xn(new an("heartbeat",e=>new gP(e),"PRIVATE")),Cr(Xf,iv,t),Cr(Xf,iv,"esm2017"),Cr("fire-js","")}bP("");function Cm(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function wk(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const xP=wk,Ek=new ro("auth","Firebase",wk());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=new Md("@firebase/auth");function _P(t,...e){Uu.logLevel<=Je.WARN&&Uu.warn(`Auth (${no}): ${t}`,...e)}function iu(t,...e){Uu.logLevel<=Je.ERROR&&Uu.error(`Auth (${no}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(t,...e){throw Pm(t,...e)}function Fn(t,...e){return Pm(t,...e)}function Ik(t,e,r){const n=Object.assign(Object.assign({},xP()),{[e]:r});return new ro("auth","Firebase",n).create(e,{appName:t.name})}function ls(t){return Ik(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pm(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return Ek.create(t,...e)}function Me(t,e,...r){if(!t)throw Pm(e,...r)}function ns(t){const e="INTERNAL ASSERTION FAILED: "+t;throw iu(e),new Error(e)}function fs(t,e){t||ns(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function kP(){return uv()==="http:"||uv()==="https:"}function uv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kP()||mk()||"connection"in navigator)?navigator.onLine:!0}function EP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,r){this.shortDelay=e,this.longDelay=r,fs(r>e,"Short delay should be less than long delay!"),this.isMobile=QC()||XC()}get(){return wP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(t,e){fs(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TP=new Kl(3e4,6e4);function bs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function xs(t,e,r,n,s={}){return Ak(t,s,async()=>{let i={},o={};n&&(e==="GET"?o=n:i={body:JSON.stringify(n)});const a=Wl(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:c},i);return JC()||(d.referrerPolicy="no-referrer"),Tk.fetch()(Sk(t,t.config.apiHost,r,a),d)})}async function Ak(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},IP),e);try{const s=new SP(t),i=await Promise.race([r(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Uc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,d]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Uc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Uc(t,"user-disabled",o);const h=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Ik(t,h,d);Nn(t,h)}}catch(s){if(s instanceof kn)throw s;Nn(t,"network-request-failed",{message:String(s)})}}async function Gl(t,e,r,n,s={}){const i=await xs(t,e,r,n,s);return"mfaPendingCredential"in i&&Nn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function Sk(t,e,r,n){const s=`${e}${r}?${n}`;return t.config.emulator?Rm(t.config,s):`${t.config.apiScheme}://${s}`}function AP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class SP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Fn(this.auth,"network-request-failed")),TP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Uc(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const s=Fn(t,e,n);return s.customData._tokenResponse=r,s}function dv(t){return t!==void 0&&t.enterprise!==void 0}class CP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return AP(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function PP(t,e){return xs(t,"GET","/v2/recaptchaConfig",bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RP(t,e){return xs(t,"POST","/v1/accounts:delete",e)}async function Ck(t,e){return xs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function NP(t,e=!1){const r=vt(t),n=await r.getIdToken(e),s=Nm(n);Me(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:n,authTime:nl(Xh(s.auth_time)),issuedAtTime:nl(Xh(s.iat)),expirationTime:nl(Xh(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Xh(t){return Number(t)*1e3}function Nm(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return iu("JWT malformed, contained fewer than 3 sections"),null;try{const s=uk(r);return s?JSON.parse(s):(iu("Failed to decode base64 JWT payload"),null)}catch(s){return iu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function hv(t){const e=Nm(t);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof kn&&$P(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function $P({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=nl(this.lastLoginAt),this.creationTime=nl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ju(t){var e;const r=t.auth,n=await t.getIdToken(),s=await Cl(t,Ck(r,{idToken:n}));Me(s==null?void 0:s.users.length,r,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Pk(i.providerUserInfo):[],a=MP(t.providerData,o),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=c?d:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new rp(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function DP(t){const e=vt(t);await ju(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function MP(t,e){return[...t.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function Pk(t){return t.map(e=>{var{providerId:r}=e,n=Cm(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VP(t,e){const r=await Ak(t,{},async()=>{const n=Wl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=Sk(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Tk.fetch()(o,{method:"POST",headers:a,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function LP(t,e){return xs(t,"POST","/v2/accounts:revokeToken",bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const r=hv(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:s,expiresIn:i}=await VP(e,r);this.updateTokensAndExpiration(n,s,Number(i))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:s,expirationTime:i}=r,o=new Vo;return n&&(Me(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),s&&(Me(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Me(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vo,this.toJSON())}_performRefresh(){return ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(t,e){Me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ss{constructor(e){var{uid:r,auth:n,stsTokenManager:s}=e,i=Cm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new OP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new rp(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await Cl(this,this.stsTokenManager.getToken(this.auth,e));return Me(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return NP(this,e)}reload(){return DP(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ss(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await ju(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(ls(this.auth));const e=await this.getIdToken();return await Cl(this,RP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,s,i,o,a,c,d,h;const f=(n=r.displayName)!==null&&n!==void 0?n:void 0,p=(s=r.email)!==null&&s!==void 0?s:void 0,y=(i=r.phoneNumber)!==null&&i!==void 0?i:void 0,k=(o=r.photoURL)!==null&&o!==void 0?o:void 0,_=(a=r.tenantId)!==null&&a!==void 0?a:void 0,b=(c=r._redirectEventId)!==null&&c!==void 0?c:void 0,I=(d=r.createdAt)!==null&&d!==void 0?d:void 0,A=(h=r.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:E,emailVerified:R,isAnonymous:S,providerData:L,stsTokenManager:T}=r;Me(E&&T,e,"internal-error");const v=Vo.fromJSON(this.name,T);Me(typeof E=="string",e,"internal-error"),Ps(f,e.name),Ps(p,e.name),Me(typeof R=="boolean",e,"internal-error"),Me(typeof S=="boolean",e,"internal-error"),Ps(y,e.name),Ps(k,e.name),Ps(_,e.name),Ps(b,e.name),Ps(I,e.name),Ps(A,e.name);const m=new ss({uid:E,auth:e,email:p,emailVerified:R,displayName:f,isAnonymous:S,photoURL:k,phoneNumber:y,tenantId:_,stsTokenManager:v,createdAt:I,lastLoginAt:A});return L&&Array.isArray(L)&&(m.providerData=L.map(w=>Object.assign({},w))),b&&(m._redirectEventId=b),m}static async _fromIdTokenResponse(e,r,n=!1){const s=new Vo;s.updateFromServerResponse(r);const i=new ss({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await ju(i),i}static async _fromGetAccountInfoResponse(e,r,n){const s=r.users[0];Me(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Pk(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Vo;a.updateFromIdToken(n);const c=new ss({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new rp(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=new Map;function is(t){fs(t instanceof Function,"Expected a class definition");let e=fv.get(t);return e?(fs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,fv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}Rk.type="NONE";const pv=Rk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(t,e,r){return`firebase:${t}:${e}:${r}`}class Lo{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:s,name:i}=this.auth;this.fullUserKey=ou(this.userKey,s.apiKey,i),this.fullPersistenceKey=ou("persistence",s.apiKey,i),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ss._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Lo(is(pv),e,n);const s=(await Promise.all(r.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||is(pv);const o=ou(n,e.config.apiKey,e.name);let a=null;for(const d of r)try{const h=await d._get(o);if(h){const f=ss._fromJSON(e,h);d!==i&&(a=f),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Lo(i,e,n):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(r.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new Lo(i,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Dk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Nk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Vk(e))return"Blackberry";if(Lk(e))return"Webos";if($k(e))return"Safari";if((e.includes("chrome/")||Ok(e))&&!e.includes("edge/"))return"Chrome";if(Mk(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function Nk(t=Nr()){return/firefox\//i.test(t)}function $k(t=Nr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ok(t=Nr()){return/crios\//i.test(t)}function Dk(t=Nr()){return/iemobile/i.test(t)}function Mk(t=Nr()){return/android/i.test(t)}function Vk(t=Nr()){return/blackberry/i.test(t)}function Lk(t=Nr()){return/webos/i.test(t)}function $m(t=Nr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function FP(t=Nr()){var e;return $m(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function UP(){return ZC()&&document.documentMode===10}function Fk(t=Nr()){return $m(t)||Mk(t)||Lk(t)||Vk(t)||/windows phone/i.test(t)||Dk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(t,e=[]){let r;switch(t){case"Browser":r=mv(Nr());break;case"Worker":r=`${mv(Nr())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${no}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});n.onAbort=r,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BP(t,e={}){return xs(t,"GET","/v2/passwordPolicy",bs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP=6;class HP{constructor(e){var r,n,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:qP,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,s,i,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(r=c.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(n=c.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),s&&(r.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,r,n,s){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gv(this),this.idTokenSubscription=new gv(this),this.beforeStateQueue=new jP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ek,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=is(r)),this._initializationPromise=this.queue(async()=>{var n,s;if(!this._deleted&&(this.persistenceManager=await Lo.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Ck(this,{idToken:e}),n=await ss._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Vn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,a=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await ju(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=EP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject(ls(this));const r=e?vt(e):null;return r&&Me(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(ls(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject(ls(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await BP(this),r=new HP(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ro("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await LP(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&is(e)||this._popupRedirectResolver;Me(r,this,"argument-error"),this.redirectPersistenceManager=await Lo.create(this,[is(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,s){if(this._deleted)return()=>{};const i=typeof r=="function"?r:r.next.bind(r);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,s);return()=>{o=!0,c()}}else{const c=e.addObserver(r);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Uk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&_P(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function so(t){return vt(t)}class gv{constructor(e){this.auth=e,this.observer=null,this.addObserver=o3(r=>this.observer=r)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function WP(t){Vd=t}function jk(t){return Vd.loadJS(t)}function KP(){return Vd.recaptchaEnterpriseScript}function GP(){return Vd.gapiScript}function QP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const YP="recaptcha-enterprise",JP="NO_RECAPTCHA";class XP{constructor(e){this.type=YP,this.auth=so(e)}async verify(e="verify",r=!1){async function n(i){if(!r){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{PP(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const d=new CP(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(c=>{a(c)})})}function s(i,o,a){const c=window.grecaptcha;dv(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(JP)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{n(this.auth).then(a=>{if(!r&&dv(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=KP();c.length!==0&&(c+=a),jk(c).then(()=>{s(a,i,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})}}async function yv(t,e,r,n=!1){const s=new XP(t);let i;try{i=await s.verify(r)}catch{i=await s.verify(r,!0)}const o=Object.assign({},e);return n?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function np(t,e,r,n){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await yv(t,e,r,r==="getOobCode");return n(t,i)}else return n(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await yv(t,e,r,r==="getOobCode");return n(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZP(t,e){const r=vs(t,"auth");if(r.isInitialized()){const s=r.getImmediate(),i=r.getOptions();if(Tl(i,e??{}))return s;Nn(s,"already-initialized")}return r.initialize({options:e})}function eR(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(is);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function tR(t,e,r){const n=so(t);Me(n._canInitEmulator,n,"emulator-config-failed"),Me(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const s=!1,i=Bk(e),{host:o,port:a}=rR(e),c=a===null?"":`:${a}`;n.config.emulator={url:`${i}//${o}${c}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),nR()}function Bk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function rR(t){const e=Bk(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const i=s[1];return{host:i,port:vv(n.substr(i.length+1))}}else{const[i,o]=n.split(":");return{host:i,port:vv(o)}}}function vv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function nR(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return ns("not implemented")}_getIdTokenResponse(e){return ns("not implemented")}_linkToIdToken(e,r){return ns("not implemented")}_getReauthenticationResolver(e){return ns("not implemented")}}async function sR(t,e){return xs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iR(t,e){return Gl(t,"POST","/v1/accounts:signInWithPassword",bs(t,e))}async function oR(t,e){return xs(t,"POST","/v1/accounts:sendOobCode",bs(t,e))}async function aR(t,e){return oR(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lR(t,e){return Gl(t,"POST","/v1/accounts:signInWithEmailLink",bs(t,e))}async function cR(t,e){return Gl(t,"POST","/v1/accounts:signInWithEmailLink",bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl extends Om{constructor(e,r,n,s=null){super("password",n),this._email=e,this._password=r,this._tenantId=s}static _fromEmailAndPassword(e,r){return new Pl(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Pl(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return np(e,r,"signInWithPassword",iR);case"emailLink":return lR(e,{email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return np(e,n,"signUpPassword",sR);case"emailLink":return cR(e,{idToken:r,email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fo(t,e){return Gl(t,"POST","/v1/accounts:signInWithIdp",bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR="http://localhost";class Bi extends Om{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Bi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Nn("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:s}=r,i=Cm(r,["providerId","signInMethod"]);if(!n||!s)return null;const o=new Bi(n,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return Fo(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Fo(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Fo(e,r)}buildRequest(){const e={requestUri:uR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Wl(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hR(t){const e=Fa(Ua(t)).link,r=e?Fa(Ua(e)).deep_link_id:null,n=Fa(Ua(t)).deep_link_id;return(n?Fa(Ua(n)).link:null)||n||r||e||t}class Dm{constructor(e){var r,n,s,i,o,a;const c=Fa(Ua(e)),d=(r=c.apiKey)!==null&&r!==void 0?r:null,h=(n=c.oobCode)!==null&&n!==void 0?n:null,f=dR((s=c.mode)!==null&&s!==void 0?s:null);Me(d&&h&&f,"argument-error"),this.apiKey=d,this.operation=f,this.code=h,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const r=hR(e);try{return new Dm(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(){this.providerId=ua.PROVIDER_ID}static credential(e,r){return Pl._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=Dm.parseLink(r);return Me(n,"argument-error"),Pl._fromEmailAndCode(e,n.code,n.tenantId)}}ua.PROVIDER_ID="password";ua.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ua.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql extends qk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends Ql{constructor(){super("facebook.com")}static credential(e){return Bi._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return js.credential(e.oauthAccessToken)}catch{return null}}}js.FACEBOOK_SIGN_IN_METHOD="facebook.com";js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Ql{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Bi._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Bs.credential(r,n)}catch{return null}}}Bs.GOOGLE_SIGN_IN_METHOD="google.com";Bs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends Ql{constructor(){super("github.com")}static credential(e){return Bi._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qs.credential(e.oauthAccessToken)}catch{return null}}}qs.GITHUB_SIGN_IN_METHOD="github.com";qs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends Ql{constructor(){super("twitter.com")}static credential(e,r){return Bi._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Hs.credential(r,n)}catch{return null}}}Hs.TWITTER_SIGN_IN_METHOD="twitter.com";Hs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fR(t,e){return Gl(t,"POST","/v1/accounts:signUp",bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,s=!1){const i=await ss._fromIdTokenResponse(e,n,s),o=bv(n);return new qi({user:i,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const s=bv(n);return new qi({user:e,providerId:s,_tokenResponse:n,operationType:r})}}function bv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu extends kn{constructor(e,r,n,s){var i;super(r.code,r.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,Bu.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,s){return new Bu(e,r,n,s)}}function Hk(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Bu._fromErrorAndOperation(t,i,e,n):i})}async function pR(t,e,r=!1){const n=await Cl(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return qi._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mR(t,e,r=!1){const{auth:n}=t;if(Vn(n.app))return Promise.reject(ls(n));const s="reauthenticate";try{const i=await Cl(t,Hk(n,s,e,t),r);Me(i.idToken,n,"internal-error");const o=Nm(i.idToken);Me(o,n,"internal-error");const{sub:a}=o;return Me(t.uid===a,n,"user-mismatch"),qi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Nn(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zk(t,e,r=!1){if(Vn(t.app))return Promise.reject(ls(t));const n="signIn",s=await Hk(t,n,e),i=await qi._fromIdTokenResponse(t,n,s);return r||await t._updateCurrentUser(i.user),i}async function gR(t,e){return zk(so(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wk(t){const e=so(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Kk(t,e,r){if(Vn(t.app))return Promise.reject(ls(t));const n=so(t),o=await np(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",fR).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Wk(t),c}),a=await qi._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(a.user),a}function Gk(t,e,r){return Vn(t.app)?Promise.reject(ls(t)):gR(vt(t),ua.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&Wk(t),n})}async function xv(t,e){const r=vt(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:i}=await aR(r.auth,s);i!==t.email&&await t.reload()}function yR(t,e,r,n){return vt(t).onIdTokenChanged(e,r,n)}function vR(t,e,r){return vt(t).beforeAuthStateChanged(e,r)}function Qk(t,e,r,n){return vt(t).onAuthStateChanged(e,r,n)}function bR(t){return vt(t).signOut()}const qu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(qu,"1"),this.storage.removeItem(qu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=1e3,_R=10;class Jk extends Yk{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Fk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),s=this.localCache[r];n!==s&&e(r,s,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},i=this.storage.getItem(n);UP()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,_R):s()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},xR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}Jk.type="LOCAL";const kR=Jk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk extends Yk{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}Xk.type="SESSION";const Zk=Xk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(s=>s.isListeningto(e));if(r)return r;const n=new Ld(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:s,data:i}=r.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const a=Array.from(o).map(async d=>d(r.origin,i)),c=await wR(a);r.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ld.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const d=Mm("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},n);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:r},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return window}function IR(t){Un().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(){return typeof Un().WorkerGlobalScope<"u"&&typeof Un().importScripts=="function"}async function TR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AR(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function SR(){return ew()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw="firebaseLocalStorageDb",CR=1,Hu="firebaseLocalStorage",rw="fbase_key";class Yl{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Fd(t,e){return t.transaction([Hu],e?"readwrite":"readonly").objectStore(Hu)}function PR(){const t=indexedDB.deleteDatabase(tw);return new Yl(t).toPromise()}function sp(){const t=indexedDB.open(tw,CR);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Hu,{keyPath:rw})}catch(s){r(s)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Hu)?e(n):(n.close(),await PR(),e(await sp()))})})}async function _v(t,e,r){const n=Fd(t,!0).put({[rw]:e,value:r});return new Yl(n).toPromise()}async function RR(t,e){const r=Fd(t,!1).get(e),n=await new Yl(r).toPromise();return n===void 0?null:n.value}function kv(t,e){const r=Fd(t,!0).delete(e);return new Yl(r).toPromise()}const NR=800,$R=3;class nw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await sp(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>$R)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ew()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ld._getInstance(SR()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await TR(),!this.activeServiceWorker)return;this.sender=new ER(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||AR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await sp();return await _v(e,qu,"1"),await kv(e,qu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>_v(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>RR(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>kv(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Fd(s,!1).getAll();return new Yl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),r.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),NR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nw.type="LOCAL";const OR=nw;new Kl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(t,e){return e?is(e):(Me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm extends Om{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fo(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Fo(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function MR(t){return zk(t.auth,new Vm(t),t.bypassAuthState)}function VR(t){const{auth:e,user:r}=t;return Me(r,e,"internal-error"),mR(r,new Vm(t),t.bypassAuthState)}async function LR(t){const{auth:e,user:r}=t;return Me(r,e,"internal-error"),pR(r,new Vm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,r,n,s,i=!1){this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MR;case"linkViaPopup":case"linkViaRedirect":return LR;case"reauthViaPopup":case"reauthViaRedirect":return VR;default:Nn(this.auth,"internal-error")}}resolve(e){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=new Kl(2e3,1e4);class So extends sw{constructor(e,r,n,s,i){super(e,r,s,i),this.provider=n,this.authWindow=null,this.pollId=null,So.currentPopupAction&&So.currentPopupAction.cancel(),So.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){fs(this.filter.length===1,"Popup operations only handle one event");const e=Mm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Fn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Fn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,So.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,FR.get())};e()}}So.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="pendingRedirect",au=new Map;class jR extends sw{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=au.get(this.auth._key());if(!e){try{const n=await BR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}au.set(this.auth._key(),e)}return this.bypassAuthState||au.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function BR(t,e){const r=zR(e),n=HR(t);if(!await n._isAvailable())return!1;const s=await n._get(r)==="true";return await n._remove(r),s}function qR(t,e){au.set(t._key(),e)}function HR(t){return is(t._redirectPersistence)}function zR(t){return ou(UR,t.config.apiKey,t.name)}async function WR(t,e,r=!1){if(Vn(t.app))return Promise.reject(ls(t));const n=so(t),s=DR(n,e),o=await new jR(n,s,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=10*60*1e3;class GR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QR(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!iw(e)){const s=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Fn(this.auth,s))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=KR&&this.cachedEventUids.clear(),this.cachedEventUids.has(wv(e))}saveEventToCache(e){this.cachedEventUids.add(wv(e)),this.lastProcessedEventTime=Date.now()}}function wv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function iw({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function QR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iw(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YR(t,e={}){return xs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,XR=/^https?/;async function ZR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await YR(t);for(const r of e)try{if(e6(r))return}catch{}Nn(t,"unauthorized-domain")}function e6(t){const e=tp(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!XR.test(r))return!1;if(JR.test(t))return n===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6=new Kl(3e4,6e4);function Ev(){const t=Un().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function r6(t){return new Promise((e,r)=>{var n,s,i;function o(){Ev(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ev(),r(Fn(t,"network-request-failed"))},timeout:t6.get()})}if(!((s=(n=Un().gapi)===null||n===void 0?void 0:n.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Un().gapi)===null||i===void 0)&&i.load)o();else{const a=QP("iframefcb");return Un()[a]=()=>{gapi.load?o():r(Fn(t,"network-request-failed"))},jk(`${GP()}?onload=${a}`).catch(c=>r(c))}}).catch(e=>{throw lu=null,e})}let lu=null;function n6(t){return lu=lu||r6(t),lu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s6=new Kl(5e3,15e3),i6="__/auth/iframe",o6="emulator/auth/iframe",a6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},l6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function c6(t){const e=t.config;Me(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?Rm(e,o6):`https://${t.config.authDomain}/${i6}`,n={apiKey:e.apiKey,appName:t.name,v:no},s=l6.get(t.config.apiHost);s&&(n.eid=s);const i=t._getFrameworks();return i.length&&(n.fw=i.join(",")),`${r}?${Wl(n).slice(1)}`}async function u6(t){const e=await n6(t),r=Un().gapi;return Me(r,t,"internal-error"),e.open({where:document.body,url:c6(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:a6,dontclear:!0},n=>new Promise(async(s,i)=>{await n.restyle({setHideOnLeave:!1});const o=Fn(t,"network-request-failed"),a=Un().setTimeout(()=>{i(o)},s6.get());function c(){Un().clearTimeout(a),s(n)}n.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},h6=500,f6=600,p6="_blank",m6="http://localhost";class Iv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function g6(t,e,r,n=h6,s=f6){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let a="";const c=Object.assign(Object.assign({},d6),{width:n.toString(),height:s.toString(),top:i,left:o}),d=Nr().toLowerCase();r&&(a=Ok(d)?p6:r),Nk(d)&&(e=e||m6,c.scrollbars="yes");const h=Object.entries(c).reduce((p,[y,k])=>`${p}${y}=${k},`,"");if(FP(d)&&a!=="_self")return y6(e||"",a),new Iv(null);const f=window.open(e||"",a,h);Me(f,t,"popup-blocked");try{f.focus()}catch{}return new Iv(f)}function y6(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6="__/auth/handler",b6="emulator/auth/handler",x6=encodeURIComponent("fac");async function Tv(t,e,r,n,s,i){Me(t.config.authDomain,t,"auth-domain-config-required"),Me(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:no,eventId:s};if(e instanceof qk){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",i3(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Ql){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const c=await t._getAppCheckToken(),d=c?`#${x6}=${encodeURIComponent(c)}`:"";return`${_6(t)}?${Wl(a).slice(1)}${d}`}function _6({config:t}){return t.emulator?Rm(t,b6):`https://${t.authDomain}/${v6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh="webStorageSupport";class k6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zk,this._completeRedirectFn=WR,this._overrideRedirectResult=qR}async _openPopup(e,r,n,s){var i;fs((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Tv(e,r,n,tp(),s);return g6(e,o,Mm())}async _openRedirect(e,r,n,s){await this._originValidation(e);const i=await Tv(e,r,n,tp(),s);return IR(i),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:s,promise:i}=this.eventManagers[r];return s?Promise.resolve(s):(fs(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await u6(e),n=new GR(e);return r.register("authEvent",s=>(Me(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Zh,{type:Zh},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Zh];o!==void 0&&r(!!o),Nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=ZR(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return Fk()||$k()||$m()}}const w6=k6;var Av="@firebase/auth",Sv="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function T6(t){xn(new an("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=n.options;Me(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Uk(t)},d=new zP(n,s,i,c);return eR(d,r),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),xn(new an("auth-internal",e=>{const r=so(e.getProvider("auth").getImmediate());return(n=>new E6(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cr(Av,Sv,I6(t)),Cr(Av,Sv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A6=5*60,S6=fk("authIdTokenMaxAge")||A6;let Cv=null;const C6=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>S6)return;const s=r==null?void 0:r.token;Cv!==s&&(Cv=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Hi(t=ca()){const e=vs(t,"auth");if(e.isInitialized())return e.getImmediate();const r=ZP(t,{popupRedirectResolver:w6,persistence:[OR,kR,Zk]}),n=fk("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const o=C6(i.toString());vR(r,o,()=>o(r.currentUser)),yR(r,a=>o(a))}}const s=dk("auth");return s&&tR(r,`http://${s}`),r}function P6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}WP({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=s=>{const i=Fn("internal-error");i.customData=s,r(i)},n.type="text/javascript",n.charset="UTF-8",P6().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});T6("Browser");var R6="firebase",N6="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cr(R6,N6,"app");var Pv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vi,ow;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,v){function m(){}m.prototype=v.prototype,T.D=v.prototype,T.prototype=new m,T.prototype.constructor=T,T.C=function(w,N,C){for(var P=Array(arguments.length-2),ce=2;ce<arguments.length;ce++)P[ce-2]=arguments[ce];return v.prototype[N].apply(w,P)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,v,m){m||(m=0);var w=Array(16);if(typeof v=="string")for(var N=0;16>N;++N)w[N]=v.charCodeAt(m++)|v.charCodeAt(m++)<<8|v.charCodeAt(m++)<<16|v.charCodeAt(m++)<<24;else for(N=0;16>N;++N)w[N]=v[m++]|v[m++]<<8|v[m++]<<16|v[m++]<<24;v=T.g[0],m=T.g[1],N=T.g[2];var C=T.g[3],P=v+(C^m&(N^C))+w[0]+3614090360&4294967295;v=m+(P<<7&4294967295|P>>>25),P=C+(N^v&(m^N))+w[1]+3905402710&4294967295,C=v+(P<<12&4294967295|P>>>20),P=N+(m^C&(v^m))+w[2]+606105819&4294967295,N=C+(P<<17&4294967295|P>>>15),P=m+(v^N&(C^v))+w[3]+3250441966&4294967295,m=N+(P<<22&4294967295|P>>>10),P=v+(C^m&(N^C))+w[4]+4118548399&4294967295,v=m+(P<<7&4294967295|P>>>25),P=C+(N^v&(m^N))+w[5]+1200080426&4294967295,C=v+(P<<12&4294967295|P>>>20),P=N+(m^C&(v^m))+w[6]+2821735955&4294967295,N=C+(P<<17&4294967295|P>>>15),P=m+(v^N&(C^v))+w[7]+4249261313&4294967295,m=N+(P<<22&4294967295|P>>>10),P=v+(C^m&(N^C))+w[8]+1770035416&4294967295,v=m+(P<<7&4294967295|P>>>25),P=C+(N^v&(m^N))+w[9]+2336552879&4294967295,C=v+(P<<12&4294967295|P>>>20),P=N+(m^C&(v^m))+w[10]+4294925233&4294967295,N=C+(P<<17&4294967295|P>>>15),P=m+(v^N&(C^v))+w[11]+2304563134&4294967295,m=N+(P<<22&4294967295|P>>>10),P=v+(C^m&(N^C))+w[12]+1804603682&4294967295,v=m+(P<<7&4294967295|P>>>25),P=C+(N^v&(m^N))+w[13]+4254626195&4294967295,C=v+(P<<12&4294967295|P>>>20),P=N+(m^C&(v^m))+w[14]+2792965006&4294967295,N=C+(P<<17&4294967295|P>>>15),P=m+(v^N&(C^v))+w[15]+1236535329&4294967295,m=N+(P<<22&4294967295|P>>>10),P=v+(N^C&(m^N))+w[1]+4129170786&4294967295,v=m+(P<<5&4294967295|P>>>27),P=C+(m^N&(v^m))+w[6]+3225465664&4294967295,C=v+(P<<9&4294967295|P>>>23),P=N+(v^m&(C^v))+w[11]+643717713&4294967295,N=C+(P<<14&4294967295|P>>>18),P=m+(C^v&(N^C))+w[0]+3921069994&4294967295,m=N+(P<<20&4294967295|P>>>12),P=v+(N^C&(m^N))+w[5]+3593408605&4294967295,v=m+(P<<5&4294967295|P>>>27),P=C+(m^N&(v^m))+w[10]+38016083&4294967295,C=v+(P<<9&4294967295|P>>>23),P=N+(v^m&(C^v))+w[15]+3634488961&4294967295,N=C+(P<<14&4294967295|P>>>18),P=m+(C^v&(N^C))+w[4]+3889429448&4294967295,m=N+(P<<20&4294967295|P>>>12),P=v+(N^C&(m^N))+w[9]+568446438&4294967295,v=m+(P<<5&4294967295|P>>>27),P=C+(m^N&(v^m))+w[14]+3275163606&4294967295,C=v+(P<<9&4294967295|P>>>23),P=N+(v^m&(C^v))+w[3]+4107603335&4294967295,N=C+(P<<14&4294967295|P>>>18),P=m+(C^v&(N^C))+w[8]+1163531501&4294967295,m=N+(P<<20&4294967295|P>>>12),P=v+(N^C&(m^N))+w[13]+2850285829&4294967295,v=m+(P<<5&4294967295|P>>>27),P=C+(m^N&(v^m))+w[2]+4243563512&4294967295,C=v+(P<<9&4294967295|P>>>23),P=N+(v^m&(C^v))+w[7]+1735328473&4294967295,N=C+(P<<14&4294967295|P>>>18),P=m+(C^v&(N^C))+w[12]+2368359562&4294967295,m=N+(P<<20&4294967295|P>>>12),P=v+(m^N^C)+w[5]+4294588738&4294967295,v=m+(P<<4&4294967295|P>>>28),P=C+(v^m^N)+w[8]+2272392833&4294967295,C=v+(P<<11&4294967295|P>>>21),P=N+(C^v^m)+w[11]+1839030562&4294967295,N=C+(P<<16&4294967295|P>>>16),P=m+(N^C^v)+w[14]+4259657740&4294967295,m=N+(P<<23&4294967295|P>>>9),P=v+(m^N^C)+w[1]+2763975236&4294967295,v=m+(P<<4&4294967295|P>>>28),P=C+(v^m^N)+w[4]+1272893353&4294967295,C=v+(P<<11&4294967295|P>>>21),P=N+(C^v^m)+w[7]+4139469664&4294967295,N=C+(P<<16&4294967295|P>>>16),P=m+(N^C^v)+w[10]+3200236656&4294967295,m=N+(P<<23&4294967295|P>>>9),P=v+(m^N^C)+w[13]+681279174&4294967295,v=m+(P<<4&4294967295|P>>>28),P=C+(v^m^N)+w[0]+3936430074&4294967295,C=v+(P<<11&4294967295|P>>>21),P=N+(C^v^m)+w[3]+3572445317&4294967295,N=C+(P<<16&4294967295|P>>>16),P=m+(N^C^v)+w[6]+76029189&4294967295,m=N+(P<<23&4294967295|P>>>9),P=v+(m^N^C)+w[9]+3654602809&4294967295,v=m+(P<<4&4294967295|P>>>28),P=C+(v^m^N)+w[12]+3873151461&4294967295,C=v+(P<<11&4294967295|P>>>21),P=N+(C^v^m)+w[15]+530742520&4294967295,N=C+(P<<16&4294967295|P>>>16),P=m+(N^C^v)+w[2]+3299628645&4294967295,m=N+(P<<23&4294967295|P>>>9),P=v+(N^(m|~C))+w[0]+4096336452&4294967295,v=m+(P<<6&4294967295|P>>>26),P=C+(m^(v|~N))+w[7]+1126891415&4294967295,C=v+(P<<10&4294967295|P>>>22),P=N+(v^(C|~m))+w[14]+2878612391&4294967295,N=C+(P<<15&4294967295|P>>>17),P=m+(C^(N|~v))+w[5]+4237533241&4294967295,m=N+(P<<21&4294967295|P>>>11),P=v+(N^(m|~C))+w[12]+1700485571&4294967295,v=m+(P<<6&4294967295|P>>>26),P=C+(m^(v|~N))+w[3]+2399980690&4294967295,C=v+(P<<10&4294967295|P>>>22),P=N+(v^(C|~m))+w[10]+4293915773&4294967295,N=C+(P<<15&4294967295|P>>>17),P=m+(C^(N|~v))+w[1]+2240044497&4294967295,m=N+(P<<21&4294967295|P>>>11),P=v+(N^(m|~C))+w[8]+1873313359&4294967295,v=m+(P<<6&4294967295|P>>>26),P=C+(m^(v|~N))+w[15]+4264355552&4294967295,C=v+(P<<10&4294967295|P>>>22),P=N+(v^(C|~m))+w[6]+2734768916&4294967295,N=C+(P<<15&4294967295|P>>>17),P=m+(C^(N|~v))+w[13]+1309151649&4294967295,m=N+(P<<21&4294967295|P>>>11),P=v+(N^(m|~C))+w[4]+4149444226&4294967295,v=m+(P<<6&4294967295|P>>>26),P=C+(m^(v|~N))+w[11]+3174756917&4294967295,C=v+(P<<10&4294967295|P>>>22),P=N+(v^(C|~m))+w[2]+718787259&4294967295,N=C+(P<<15&4294967295|P>>>17),P=m+(C^(N|~v))+w[9]+3951481745&4294967295,T.g[0]=T.g[0]+v&4294967295,T.g[1]=T.g[1]+(N+(P<<21&4294967295|P>>>11))&4294967295,T.g[2]=T.g[2]+N&4294967295,T.g[3]=T.g[3]+C&4294967295}n.prototype.u=function(T,v){v===void 0&&(v=T.length);for(var m=v-this.blockSize,w=this.B,N=this.h,C=0;C<v;){if(N==0)for(;C<=m;)s(this,T,C),C+=this.blockSize;if(typeof T=="string"){for(;C<v;)if(w[N++]=T.charCodeAt(C++),N==this.blockSize){s(this,w),N=0;break}}else for(;C<v;)if(w[N++]=T[C++],N==this.blockSize){s(this,w),N=0;break}}this.h=N,this.o+=v},n.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var v=1;v<T.length-8;++v)T[v]=0;var m=8*this.o;for(v=T.length-8;v<T.length;++v)T[v]=m&255,m/=256;for(this.u(T),T=Array(16),v=m=0;4>v;++v)for(var w=0;32>w;w+=8)T[m++]=this.g[v]>>>w&255;return T};function i(T,v){var m=a;return Object.prototype.hasOwnProperty.call(m,T)?m[T]:m[T]=v(T)}function o(T,v){this.h=v;for(var m=[],w=!0,N=T.length-1;0<=N;N--){var C=T[N]|0;w&&C==v||(m[N]=C,w=!1)}this.g=m}var a={};function c(T){return-128<=T&&128>T?i(T,function(v){return new o([v|0],0>v?-1:0)}):new o([T|0],0>T?-1:0)}function d(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return b(d(-T));for(var v=[],m=1,w=0;T>=m;w++)v[w]=T/m|0,m*=4294967296;return new o(v,0)}function h(T,v){if(T.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(T.charAt(0)=="-")return b(h(T.substring(1),v));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var m=d(Math.pow(v,8)),w=f,N=0;N<T.length;N+=8){var C=Math.min(8,T.length-N),P=parseInt(T.substring(N,N+C),v);8>C?(C=d(Math.pow(v,C)),w=w.j(C).add(d(P))):(w=w.j(m),w=w.add(d(P)))}return w}var f=c(0),p=c(1),y=c(16777216);t=o.prototype,t.m=function(){if(_(this))return-b(this).m();for(var T=0,v=1,m=0;m<this.g.length;m++){var w=this.i(m);T+=(0<=w?w:4294967296+w)*v,v*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(k(this))return"0";if(_(this))return"-"+b(this).toString(T);for(var v=d(Math.pow(T,6)),m=this,w="";;){var N=R(m,v).g;m=I(m,N.j(v));var C=((0<m.g.length?m.g[0]:m.h)>>>0).toString(T);if(m=N,k(m))return C+w;for(;6>C.length;)C="0"+C;w=C+w}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function k(T){if(T.h!=0)return!1;for(var v=0;v<T.g.length;v++)if(T.g[v]!=0)return!1;return!0}function _(T){return T.h==-1}t.l=function(T){return T=I(this,T),_(T)?-1:k(T)?0:1};function b(T){for(var v=T.g.length,m=[],w=0;w<v;w++)m[w]=~T.g[w];return new o(m,~T.h).add(p)}t.abs=function(){return _(this)?b(this):this},t.add=function(T){for(var v=Math.max(this.g.length,T.g.length),m=[],w=0,N=0;N<=v;N++){var C=w+(this.i(N)&65535)+(T.i(N)&65535),P=(C>>>16)+(this.i(N)>>>16)+(T.i(N)>>>16);w=P>>>16,C&=65535,P&=65535,m[N]=P<<16|C}return new o(m,m[m.length-1]&-2147483648?-1:0)};function I(T,v){return T.add(b(v))}t.j=function(T){if(k(this)||k(T))return f;if(_(this))return _(T)?b(this).j(b(T)):b(b(this).j(T));if(_(T))return b(this.j(b(T)));if(0>this.l(y)&&0>T.l(y))return d(this.m()*T.m());for(var v=this.g.length+T.g.length,m=[],w=0;w<2*v;w++)m[w]=0;for(w=0;w<this.g.length;w++)for(var N=0;N<T.g.length;N++){var C=this.i(w)>>>16,P=this.i(w)&65535,ce=T.i(N)>>>16,he=T.i(N)&65535;m[2*w+2*N]+=P*he,A(m,2*w+2*N),m[2*w+2*N+1]+=C*he,A(m,2*w+2*N+1),m[2*w+2*N+1]+=P*ce,A(m,2*w+2*N+1),m[2*w+2*N+2]+=C*ce,A(m,2*w+2*N+2)}for(w=0;w<v;w++)m[w]=m[2*w+1]<<16|m[2*w];for(w=v;w<2*v;w++)m[w]=0;return new o(m,0)};function A(T,v){for(;(T[v]&65535)!=T[v];)T[v+1]+=T[v]>>>16,T[v]&=65535,v++}function E(T,v){this.g=T,this.h=v}function R(T,v){if(k(v))throw Error("division by zero");if(k(T))return new E(f,f);if(_(T))return v=R(b(T),v),new E(b(v.g),b(v.h));if(_(v))return v=R(T,b(v)),new E(b(v.g),v.h);if(30<T.g.length){if(_(T)||_(v))throw Error("slowDivide_ only works with positive integers.");for(var m=p,w=v;0>=w.l(T);)m=S(m),w=S(w);var N=L(m,1),C=L(w,1);for(w=L(w,2),m=L(m,2);!k(w);){var P=C.add(w);0>=P.l(T)&&(N=N.add(m),C=P),w=L(w,1),m=L(m,1)}return v=I(T,N.j(v)),new E(N,v)}for(N=f;0<=T.l(v);){for(m=Math.max(1,Math.floor(T.m()/v.m())),w=Math.ceil(Math.log(m)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),C=d(m),P=C.j(v);_(P)||0<P.l(T);)m-=w,C=d(m),P=C.j(v);k(C)&&(C=p),N=N.add(C),T=I(T,P)}return new E(N,T)}t.A=function(T){return R(this,T).h},t.and=function(T){for(var v=Math.max(this.g.length,T.g.length),m=[],w=0;w<v;w++)m[w]=this.i(w)&T.i(w);return new o(m,this.h&T.h)},t.or=function(T){for(var v=Math.max(this.g.length,T.g.length),m=[],w=0;w<v;w++)m[w]=this.i(w)|T.i(w);return new o(m,this.h|T.h)},t.xor=function(T){for(var v=Math.max(this.g.length,T.g.length),m=[],w=0;w<v;w++)m[w]=this.i(w)^T.i(w);return new o(m,this.h^T.h)};function S(T){for(var v=T.g.length+1,m=[],w=0;w<v;w++)m[w]=T.i(w)<<1|T.i(w-1)>>>31;return new o(m,T.h)}function L(T,v){var m=v>>5;v%=32;for(var w=T.g.length-m,N=[],C=0;C<w;C++)N[C]=0<v?T.i(C+m)>>>v|T.i(C+m+1)<<32-v:T.i(C+m);return new o(N,T.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,ow=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,Vi=o}).apply(typeof Pv<"u"?Pv:typeof self<"u"?self:typeof window<"u"?window:{});var jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aw,ja,lw,cu,ip,cw,uw,dw;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,x){return u==Array.prototype||u==Object.prototype||(u[g]=x.value),u};function r(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof jc=="object"&&jc];for(var g=0;g<u.length;++g){var x=u[g];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var n=r(this);function s(u,g){if(g)e:{var x=n;u=u.split(".");for(var $=0;$<u.length-1;$++){var Q=u[$];if(!(Q in x))break e;x=x[Q]}u=u[u.length-1],$=x[u],g=g($),g!=$&&g!=null&&e(x,u,{configurable:!0,writable:!0,value:g})}}function i(u,g){u instanceof String&&(u+="");var x=0,$=!1,Q={next:function(){if(!$&&x<u.length){var X=x++;return{value:g(X,u[X]),done:!1}}return $=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}s("Array.prototype.values",function(u){return u||function(){return i(this,function(g,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function d(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function h(u,g,x){return u.call.apply(u.bind,arguments)}function f(u,g,x){if(!u)throw Error();if(2<arguments.length){var $=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,$),u.apply(g,Q)}}return function(){return u.apply(g,arguments)}}function p(u,g,x){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function y(u,g){var x=Array.prototype.slice.call(arguments,1);return function(){var $=x.slice();return $.push.apply($,arguments),u.apply(this,$)}}function k(u,g){function x(){}x.prototype=g.prototype,u.aa=g.prototype,u.prototype=new x,u.prototype.constructor=u,u.Qb=function($,Q,X){for(var ye=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)ye[xt-2]=arguments[xt];return g.prototype[Q].apply($,ye)}}function _(u){const g=u.length;if(0<g){const x=Array(g);for(let $=0;$<g;$++)x[$]=u[$];return x}return[]}function b(u,g){for(let x=1;x<arguments.length;x++){const $=arguments[x];if(c($)){const Q=u.length||0,X=$.length||0;u.length=Q+X;for(let ye=0;ye<X;ye++)u[Q+ye]=$[ye]}else u.push($)}}class I{constructor(g,x){this.i=g,this.j=x,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function A(u){return/^[\s\xa0]*$/.test(u)}function E(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function R(u){return R[" "](u),u}R[" "]=function(){};var S=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function L(u,g,x){for(const $ in u)g.call(x,u[$],$,u)}function T(u,g){for(const x in u)g.call(void 0,u[x],x,u)}function v(u){const g={};for(const x in u)g[x]=u[x];return g}const m="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(u,g){let x,$;for(let Q=1;Q<arguments.length;Q++){$=arguments[Q];for(x in $)u[x]=$[x];for(let X=0;X<m.length;X++)x=m[X],Object.prototype.hasOwnProperty.call($,x)&&(u[x]=$[x])}}function N(u){var g=1;u=u.split(":");const x=[];for(;0<g&&u.length;)x.push(u.shift()),g--;return u.length&&x.push(u.join(":")),x}function C(u){a.setTimeout(()=>{throw u},0)}function P(){var u=ae;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class ce{constructor(){this.h=this.g=null}add(g,x){const $=he.get();$.set(g,x),this.h?this.h.next=$:this.g=$,this.h=$}}var he=new I(()=>new G,u=>u.reset());class G{constructor(){this.next=this.g=this.h=null}set(g,x){this.h=g,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let U,re=!1,ae=new ce,Ee=()=>{const u=a.Promise.resolve(void 0);U=()=>{u.then(ve)}};var ve=()=>{for(var u;u=P();){try{u.h.call(u.g)}catch(x){C(x)}var g=he;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}re=!1};function Ce(){this.s=this.s,this.C=this.C}Ce.prototype.s=!1,Ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Fe(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}Fe.prototype.h=function(){this.defaultPrevented=!0};var at=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const x=()=>{};a.addEventListener("test",x,g),a.removeEventListener("test",x,g)}catch{}return u}();function Tt(u,g){if(Fe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var x=this.type=u.type,$=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(S){e:{try{R(g.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(g=null)}}else x=="mouseover"?g=u.fromElement:x=="mouseout"&&(g=u.toElement);this.relatedTarget=g,$?(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:bt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Tt.aa.h.call(this)}}k(Tt,Fe);var bt={2:"touch",3:"pen",4:"mouse"};Tt.prototype.h=function(){Tt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var K="closure_listenable_"+(1e6*Math.random()|0),F=0;function j(u,g,x,$,Q){this.listener=u,this.proxy=null,this.src=g,this.type=x,this.capture=!!$,this.ha=Q,this.key=++F,this.da=this.fa=!1}function ee(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ie(u){this.src=u,this.g={},this.h=0}ie.prototype.add=function(u,g,x,$,Q){var X=u.toString();u=this.g[X],u||(u=this.g[X]=[],this.h++);var ye=M(u,g,$,Q);return-1<ye?(g=u[ye],x||(g.fa=!1)):(g=new j(g,this.src,X,!!$,Q),g.fa=x,u.push(g)),g};function W(u,g){var x=g.type;if(x in u.g){var $=u.g[x],Q=Array.prototype.indexOf.call($,g,void 0),X;(X=0<=Q)&&Array.prototype.splice.call($,Q,1),X&&(ee(g),u.g[x].length==0&&(delete u.g[x],u.h--))}}function M(u,g,x,$){for(var Q=0;Q<u.length;++Q){var X=u[Q];if(!X.da&&X.listener==g&&X.capture==!!x&&X.ha==$)return Q}return-1}var O="closure_lm_"+(1e6*Math.random()|0),Y={};function oe(u,g,x,$,Q){if(Array.isArray(g)){for(var X=0;X<g.length;X++)oe(u,g[X],x,$,Q);return null}return x=Re(x),u&&u[K]?u.K(g,x,d($)?!!$.capture:!1,Q):J(u,g,x,!1,$,Q)}function J(u,g,x,$,Q,X){if(!g)throw Error("Invalid event type");var ye=d(Q)?!!Q.capture:!!Q,xt=$e(u);if(xt||(u[O]=xt=new ie(u)),x=xt.add(g,x,$,ye,X),x.proxy)return x;if($=ne(),x.proxy=$,$.src=u,$.listener=x,u.addEventListener)at||(Q=ye),Q===void 0&&(Q=!1),u.addEventListener(g.toString(),$,Q);else if(u.attachEvent)u.attachEvent(ge(g.toString()),$);else if(u.addListener&&u.removeListener)u.addListener($);else throw Error("addEventListener and attachEvent are unavailable.");return x}function ne(){function u(x){return g.call(u.src,u.listener,x)}const g=fe;return u}function pe(u,g,x,$,Q){if(Array.isArray(g))for(var X=0;X<g.length;X++)pe(u,g[X],x,$,Q);else $=d($)?!!$.capture:!!$,x=Re(x),u&&u[K]?(u=u.i,g=String(g).toString(),g in u.g&&(X=u.g[g],x=M(X,x,$,Q),-1<x&&(ee(X[x]),Array.prototype.splice.call(X,x,1),X.length==0&&(delete u.g[g],u.h--)))):u&&(u=$e(u))&&(g=u.g[g.toString()],u=-1,g&&(u=M(g,x,$,Q)),(x=-1<u?g[u]:null)&&me(x))}function me(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[K])W(g.i,u);else{var x=u.type,$=u.proxy;g.removeEventListener?g.removeEventListener(x,$,u.capture):g.detachEvent?g.detachEvent(ge(x),$):g.addListener&&g.removeListener&&g.removeListener($),(x=$e(g))?(W(x,u),x.h==0&&(x.src=null,g[O]=null)):ee(u)}}}function ge(u){return u in Y?Y[u]:Y[u]="on"+u}function fe(u,g){if(u.da)u=!0;else{g=new Tt(g,this);var x=u.listener,$=u.ha||u.src;u.fa&&me(u),u=x.call($,g)}return u}function $e(u){return u=u[O],u instanceof ie?u:null}var be="__closure_events_fn_"+(1e9*Math.random()>>>0);function Re(u){return typeof u=="function"?u:(u[be]||(u[be]=function(g){return u.handleEvent(g)}),u[be])}function Te(){Ce.call(this),this.i=new ie(this),this.M=this,this.F=null}k(Te,Ce),Te.prototype[K]=!0,Te.prototype.removeEventListener=function(u,g,x,$){pe(this,u,g,x,$)};function Oe(u,g){var x,$=u.F;if($)for(x=[];$;$=$.F)x.push($);if(u=u.M,$=g.type||g,typeof g=="string")g=new Fe(g,u);else if(g instanceof Fe)g.target=g.target||u;else{var Q=g;g=new Fe($,u),w(g,Q)}if(Q=!0,x)for(var X=x.length-1;0<=X;X--){var ye=g.g=x[X];Q=lt(ye,$,!0,g)&&Q}if(ye=g.g=u,Q=lt(ye,$,!0,g)&&Q,Q=lt(ye,$,!1,g)&&Q,x)for(X=0;X<x.length;X++)ye=g.g=x[X],Q=lt(ye,$,!1,g)&&Q}Te.prototype.N=function(){if(Te.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var x=u.g[g],$=0;$<x.length;$++)ee(x[$]);delete u.g[g],u.h--}}this.F=null},Te.prototype.K=function(u,g,x,$){return this.i.add(String(u),g,!1,x,$)},Te.prototype.L=function(u,g,x,$){return this.i.add(String(u),g,!0,x,$)};function lt(u,g,x,$){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var Q=!0,X=0;X<g.length;++X){var ye=g[X];if(ye&&!ye.da&&ye.capture==x){var xt=ye.listener,rr=ye.ha||ye.src;ye.fa&&W(u.i,ye),Q=xt.call(rr,$)!==!1&&Q}}return Q&&!$.defaultPrevented}function nt(u,g,x){if(typeof u=="function")x&&(u=p(u,x));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(u,g||0)}function pr(u){u.g=nt(()=>{u.g=null,u.i&&(u.i=!1,pr(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Zt extends Ce{constructor(g,x){super(),this.m=g,this.l=x,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:pr(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tr(u){Ce.call(this),this.h=u,this.g={}}k(tr,Ce);var mr=[];function ws(u){L(u.g,function(g,x){this.g.hasOwnProperty(x)&&me(g)},u),u.g={}}tr.prototype.N=function(){tr.aa.N.call(this),ws(this)},tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var lo=a.JSON.stringify,$r=a.JSON.parse,dn=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function co(){}co.prototype.h=null;function Lg(u){return u.h||(u.h=u.i())}function Fg(){}var ma={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mh(){Fe.call(this,"d")}k(mh,Fe);function gh(){Fe.call(this,"c")}k(gh,Fe);var fi={},Ug=null;function hc(){return Ug=Ug||new Te}fi.La="serverreachability";function jg(u){Fe.call(this,fi.La,u)}k(jg,Fe);function ga(u){const g=hc();Oe(g,new jg(g))}fi.STAT_EVENT="statevent";function Bg(u,g){Fe.call(this,fi.STAT_EVENT,u),this.stat=g}k(Bg,Fe);function Or(u){const g=hc();Oe(g,new Bg(g,u))}fi.Ma="timingevent";function qg(u,g){Fe.call(this,fi.Ma,u),this.size=g}k(qg,Fe);function ya(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},g)}function va(){this.g=!0}va.prototype.xa=function(){this.g=!1};function VE(u,g,x,$,Q,X){u.info(function(){if(u.g)if(X)for(var ye="",xt=X.split("&"),rr=0;rr<xt.length;rr++){var st=xt[rr].split("=");if(1<st.length){var gr=st[0];st=st[1];var yr=gr.split("_");ye=2<=yr.length&&yr[1]=="type"?ye+(gr+"="+st+"&"):ye+(gr+"=redacted&")}}else ye=null;else ye=X;return"XMLHTTP REQ ("+$+") [attempt "+Q+"]: "+g+`
`+x+`
`+ye})}function LE(u,g,x,$,Q,X,ye){u.info(function(){return"XMLHTTP RESP ("+$+") [ attempt "+Q+"]: "+g+`
`+x+`
`+X+" "+ye})}function uo(u,g,x,$){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+UE(u,x)+($?" "+$:"")})}function FE(u,g){u.info(function(){return"TIMEOUT: "+g})}va.prototype.info=function(){};function UE(u,g){if(!u.g)return g;if(!g)return null;try{var x=JSON.parse(g);if(x){for(u=0;u<x.length;u++)if(Array.isArray(x[u])){var $=x[u];if(!(2>$.length)){var Q=$[1];if(Array.isArray(Q)&&!(1>Q.length)){var X=Q[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ye=1;ye<Q.length;ye++)Q[ye]=""}}}}return lo(x)}catch{return g}}var fc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},yh;function pc(){}k(pc,co),pc.prototype.g=function(){return new XMLHttpRequest},pc.prototype.i=function(){return{}},yh=new pc;function Es(u,g,x,$){this.j=u,this.i=g,this.l=x,this.R=$||1,this.U=new tr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zg}function zg(){this.i=null,this.g="",this.h=!1}var Wg={},vh={};function bh(u,g,x){u.L=1,u.v=vc(Wn(g)),u.m=x,u.P=!0,Kg(u,null)}function Kg(u,g){u.F=Date.now(),mc(u),u.A=Wn(u.v);var x=u.A,$=u.R;Array.isArray($)||($=[String($)]),a0(x.i,"t",$),u.C=0,x=u.j.J,u.h=new zg,u.g=I0(u.j,x?g:null,!u.m),0<u.O&&(u.M=new Zt(p(u.Y,u,u.g),u.O)),g=u.U,x=u.g,$=u.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(mr[0]=Q.toString()),Q=mr);for(var X=0;X<Q.length;X++){var ye=oe(x,Q[X],$||g.handleEvent,!1,g.h||g);if(!ye)break;g.g[ye.key]=ye}g=u.H?v(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),ga(),VE(u.i,u.u,u.A,u.l,u.R,u.m)}Es.prototype.ca=function(u){u=u.target;const g=this.M;g&&Kn(u)==3?g.j():this.Y(u)},Es.prototype.Y=function(u){try{if(u==this.g)e:{const yr=Kn(this.g);var g=this.g.Ba();const po=this.g.Z();if(!(3>yr)&&(yr!=3||this.g&&(this.h.h||this.g.oa()||p0(this.g)))){this.J||yr!=4||g==7||(g==8||0>=po?ga(3):ga(2)),xh(this);var x=this.g.Z();this.X=x;t:if(Gg(this)){var $=p0(this.g);u="";var Q=$.length,X=Kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pi(this),ba(this);var ye="";break t}this.h.i=new a.TextDecoder}for(g=0;g<Q;g++)this.h.h=!0,u+=this.h.i.decode($[g],{stream:!(X&&g==Q-1)});$.length=0,this.h.g+=u,this.C=0,ye=this.h.g}else ye=this.g.oa();if(this.o=x==200,LE(this.i,this.u,this.A,this.l,this.R,yr,x),this.o){if(this.T&&!this.K){t:{if(this.g){var xt,rr=this.g;if((xt=rr.g?rr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(xt)){var st=xt;break t}}st=null}if(x=st)uo(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_h(this,x);else{this.o=!1,this.s=3,Or(12),pi(this),ba(this);break e}}if(this.P){x=!0;let En;for(;!this.J&&this.C<ye.length;)if(En=jE(this,ye),En==vh){yr==4&&(this.s=4,Or(14),x=!1),uo(this.i,this.l,null,"[Incomplete Response]");break}else if(En==Wg){this.s=4,Or(15),uo(this.i,this.l,ye,"[Invalid Chunk]"),x=!1;break}else uo(this.i,this.l,En,null),_h(this,En);if(Gg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yr!=4||ye.length!=0||this.h.h||(this.s=1,Or(16),x=!1),this.o=this.o&&x,!x)uo(this.i,this.l,ye,"[Invalid Chunked Response]"),pi(this),ba(this);else if(0<ye.length&&!this.W){this.W=!0;var gr=this.j;gr.g==this&&gr.ba&&!gr.M&&(gr.j.info("Great, no buffering proxy detected. Bytes received: "+ye.length),Ah(gr),gr.M=!0,Or(11))}}else uo(this.i,this.l,ye,null),_h(this,ye);yr==4&&pi(this),this.o&&!this.J&&(yr==4?_0(this.j,this):(this.o=!1,mc(this)))}else sI(this.g),x==400&&0<ye.indexOf("Unknown SID")?(this.s=3,Or(12)):(this.s=0,Or(13)),pi(this),ba(this)}}}catch{}finally{}};function Gg(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function jE(u,g){var x=u.C,$=g.indexOf(`
`,x);return $==-1?vh:(x=Number(g.substring(x,$)),isNaN(x)?Wg:($+=1,$+x>g.length?vh:(g=g.slice($,$+x),u.C=$+x,g)))}Es.prototype.cancel=function(){this.J=!0,pi(this)};function mc(u){u.S=Date.now()+u.I,Qg(u,u.I)}function Qg(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ya(p(u.ba,u),g)}function xh(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Es.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(FE(this.i,this.A),this.L!=2&&(ga(),Or(17)),pi(this),this.s=2,ba(this)):Qg(this,this.S-u)};function ba(u){u.j.G==0||u.J||_0(u.j,u)}function pi(u){xh(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,ws(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function _h(u,g){try{var x=u.j;if(x.G!=0&&(x.g==u||kh(x.h,u))){if(!u.K&&kh(x.h,u)&&x.G==3){try{var $=x.Da.g.parse(g)}catch{$=null}if(Array.isArray($)&&$.length==3){var Q=$;if(Q[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<u.F)Ec(x),kc(x);else break e;Th(x),Or(18)}}else x.za=Q[1],0<x.za-x.T&&37500>Q[2]&&x.F&&x.v==0&&!x.C&&(x.C=ya(p(x.Za,x),6e3));if(1>=Xg(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else gi(x,11)}else if((u.K||x.g==u)&&Ec(x),!A(g))for(Q=x.Da.g.parse(g),g=0;g<Q.length;g++){let st=Q[g];if(x.T=st[0],st=st[1],x.G==2)if(st[0]=="c"){x.K=st[1],x.ia=st[2];const gr=st[3];gr!=null&&(x.la=gr,x.j.info("VER="+x.la));const yr=st[4];yr!=null&&(x.Aa=yr,x.j.info("SVER="+x.Aa));const po=st[5];po!=null&&typeof po=="number"&&0<po&&($=1.5*po,x.L=$,x.j.info("backChannelRequestTimeoutMs_="+$)),$=x;const En=u.g;if(En){const Tc=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tc){var X=$.h;X.g||Tc.indexOf("spdy")==-1&&Tc.indexOf("quic")==-1&&Tc.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(wh(X,X.h),X.h=null))}if($.D){const Sh=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;Sh&&($.ya=Sh,wt($.I,$.D,Sh))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-u.F,x.j.info("Handshake RTT: "+x.R+"ms")),$=x;var ye=u;if($.qa=E0($,$.J?$.ia:null,$.W),ye.K){Zg($.h,ye);var xt=ye,rr=$.L;rr&&(xt.I=rr),xt.B&&(xh(xt),mc(xt)),$.g=ye}else b0($);0<x.i.length&&wc(x)}else st[0]!="stop"&&st[0]!="close"||gi(x,7);else x.G==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?gi(x,7):Ih(x):st[0]!="noop"&&x.l&&x.l.ta(st),x.v=0)}}ga(4)}catch{}}var BE=class{constructor(u,g){this.g=u,this.map=g}};function Yg(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jg(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Xg(u){return u.h?1:u.g?u.g.size:0}function kh(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function wh(u,g){u.g?u.g.add(g):u.h=g}function Zg(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Yg.prototype.cancel=function(){if(this.i=e0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function e0(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const x of u.g.values())g=g.concat(x.D);return g}return _(u.i)}function qE(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var g=[],x=u.length,$=0;$<x;$++)g.push(u[$]);return g}g=[],x=0;for($ in u)g[x++]=u[$];return g}function HE(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var g=[];u=u.length;for(var x=0;x<u;x++)g.push(x);return g}g=[],x=0;for(const $ in u)g[x++]=$;return g}}}function t0(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var x=HE(u),$=qE(u),Q=$.length,X=0;X<Q;X++)g.call(void 0,$[X],x&&x[X],u)}var r0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function zE(u,g){if(u){u=u.split("&");for(var x=0;x<u.length;x++){var $=u[x].indexOf("="),Q=null;if(0<=$){var X=u[x].substring(0,$);Q=u[x].substring($+1)}else X=u[x];g(X,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function mi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof mi){this.h=u.h,gc(this,u.j),this.o=u.o,this.g=u.g,yc(this,u.s),this.l=u.l;var g=u.i,x=new ka;x.i=g.i,g.g&&(x.g=new Map(g.g),x.h=g.h),n0(this,x),this.m=u.m}else u&&(g=String(u).match(r0))?(this.h=!1,gc(this,g[1]||"",!0),this.o=xa(g[2]||""),this.g=xa(g[3]||"",!0),yc(this,g[4]),this.l=xa(g[5]||"",!0),n0(this,g[6]||"",!0),this.m=xa(g[7]||"")):(this.h=!1,this.i=new ka(null,this.h))}mi.prototype.toString=function(){var u=[],g=this.j;g&&u.push(_a(g,s0,!0),":");var x=this.g;return(x||g=="file")&&(u.push("//"),(g=this.o)&&u.push(_a(g,s0,!0),"@"),u.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&u.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&u.push("/"),u.push(_a(x,x.charAt(0)=="/"?GE:KE,!0))),(x=this.i.toString())&&u.push("?",x),(x=this.m)&&u.push("#",_a(x,YE)),u.join("")};function Wn(u){return new mi(u)}function gc(u,g,x){u.j=x?xa(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function yc(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function n0(u,g,x){g instanceof ka?(u.i=g,JE(u.i,u.h)):(x||(g=_a(g,QE)),u.i=new ka(g,u.h))}function wt(u,g,x){u.i.set(g,x)}function vc(u){return wt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function xa(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function _a(u,g,x){return typeof u=="string"?(u=encodeURI(u).replace(g,WE),x&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function WE(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var s0=/[#\/\?@]/g,KE=/[#\?:]/g,GE=/[#\?]/g,QE=/[#\?@]/g,YE=/#/g;function ka(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Is(u){u.g||(u.g=new Map,u.h=0,u.i&&zE(u.i,function(g,x){u.add(decodeURIComponent(g.replace(/\+/g," ")),x)}))}t=ka.prototype,t.add=function(u,g){Is(this),this.i=null,u=ho(this,u);var x=this.g.get(u);return x||this.g.set(u,x=[]),x.push(g),this.h+=1,this};function i0(u,g){Is(u),g=ho(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function o0(u,g){return Is(u),g=ho(u,g),u.g.has(g)}t.forEach=function(u,g){Is(this),this.g.forEach(function(x,$){x.forEach(function(Q){u.call(g,Q,$,this)},this)},this)},t.na=function(){Is(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),x=[];for(let $=0;$<g.length;$++){const Q=u[$];for(let X=0;X<Q.length;X++)x.push(g[$])}return x},t.V=function(u){Is(this);let g=[];if(typeof u=="string")o0(this,u)&&(g=g.concat(this.g.get(ho(this,u))));else{u=Array.from(this.g.values());for(let x=0;x<u.length;x++)g=g.concat(u[x])}return g},t.set=function(u,g){return Is(this),this.i=null,u=ho(this,u),o0(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},t.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function a0(u,g,x){i0(u,g),0<x.length&&(u.i=null,u.g.set(ho(u,g),_(x)),u.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var x=0;x<g.length;x++){var $=g[x];const X=encodeURIComponent(String($)),ye=this.V($);for($=0;$<ye.length;$++){var Q=X;ye[$]!==""&&(Q+="="+encodeURIComponent(String(ye[$]))),u.push(Q)}}return this.i=u.join("&")};function ho(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function JE(u,g){g&&!u.j&&(Is(u),u.i=null,u.g.forEach(function(x,$){var Q=$.toLowerCase();$!=Q&&(i0(this,$),a0(this,Q,x))},u)),u.j=g}function XE(u,g){const x=new va;if(a.Image){const $=new Image;$.onload=y(Ts,x,"TestLoadImage: loaded",!0,g,$),$.onerror=y(Ts,x,"TestLoadImage: error",!1,g,$),$.onabort=y(Ts,x,"TestLoadImage: abort",!1,g,$),$.ontimeout=y(Ts,x,"TestLoadImage: timeout",!1,g,$),a.setTimeout(function(){$.ontimeout&&$.ontimeout()},1e4),$.src=u}else g(!1)}function ZE(u,g){const x=new va,$=new AbortController,Q=setTimeout(()=>{$.abort(),Ts(x,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:$.signal}).then(X=>{clearTimeout(Q),X.ok?Ts(x,"TestPingServer: ok",!0,g):Ts(x,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(Q),Ts(x,"TestPingServer: error",!1,g)})}function Ts(u,g,x,$,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),$(x)}catch{}}function eI(){this.g=new dn}function tI(u,g,x){const $=x||"";try{t0(u,function(Q,X){let ye=Q;d(Q)&&(ye=lo(Q)),g.push($+X+"="+encodeURIComponent(ye))})}catch(Q){throw g.push($+"type="+encodeURIComponent("_badmap")),Q}}function bc(u){this.l=u.Ub||null,this.j=u.eb||!1}k(bc,co),bc.prototype.g=function(){return new xc(this.l,this.j)},bc.prototype.i=function(u){return function(){return u}}({});function xc(u,g){Te.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(xc,Te),t=xc.prototype,t.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,Ea(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wa(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ea(this)),this.g&&(this.readyState=3,Ea(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;l0(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function l0(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?wa(this):Ea(this),this.readyState==3&&l0(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,wa(this))},t.Qa=function(u){this.g&&(this.response=u,wa(this))},t.ga=function(){this.g&&wa(this)};function wa(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ea(u)}t.setRequestHeader=function(u,g){this.u.append(u,g)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var x=g.next();!x.done;)x=x.value,u.push(x[0]+": "+x[1]),x=g.next();return u.join(`\r
`)};function Ea(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(xc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function c0(u){let g="";return L(u,function(x,$){g+=$,g+=":",g+=x,g+=`\r
`}),g}function Eh(u,g,x){e:{for($ in x){var $=!1;break e}$=!0}$||(x=c0(x),typeof u=="string"?x!=null&&encodeURIComponent(String(x)):wt(u,g,x))}function Ot(u){Te.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Ot,Te);var rI=/^https?$/i,nI=["POST","PUT"];t=Ot.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,g,x,$){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():yh.g(),this.v=this.o?Lg(this.o):Lg(yh),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(X){u0(this,X);return}if(u=x||"",x=new Map(this.headers),$)if(Object.getPrototypeOf($)===Object.prototype)for(var Q in $)x.set(Q,$[Q]);else if(typeof $.keys=="function"&&typeof $.get=="function")for(const X of $.keys())x.set(X,$.get(X));else throw Error("Unknown input type for opt_headers: "+String($));$=Array.from(x.keys()).find(X=>X.toLowerCase()=="content-type"),Q=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(nI,g,void 0))||$||Q||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ye]of x)this.g.setRequestHeader(X,ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{f0(this),this.u=!0,this.g.send(u),this.u=!1}catch(X){u0(this,X)}};function u0(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,d0(u),_c(u)}function d0(u){u.A||(u.A=!0,Oe(u,"complete"),Oe(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Oe(this,"complete"),Oe(this,"abort"),_c(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_c(this,!0)),Ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?h0(this):this.bb())},t.bb=function(){h0(this)};function h0(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Kn(u)!=4||u.Z()!=2)){if(u.u&&Kn(u)==4)nt(u.Ea,0,u);else if(Oe(u,"readystatechange"),Kn(u)==4){u.h=!1;try{const ye=u.Z();e:switch(ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var x;if(!(x=g)){var $;if($=ye===0){var Q=String(u.D).match(r0)[1]||null;!Q&&a.self&&a.self.location&&(Q=a.self.location.protocol.slice(0,-1)),$=!rI.test(Q?Q.toLowerCase():"")}x=$}if(x)Oe(u,"complete"),Oe(u,"success");else{u.m=6;try{var X=2<Kn(u)?u.g.statusText:""}catch{X=""}u.l=X+" ["+u.Z()+"]",d0(u)}}finally{_c(u)}}}}function _c(u,g){if(u.g){f0(u);const x=u.g,$=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||Oe(u,"ready");try{x.onreadystatechange=$}catch{}}}function f0(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Kn(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Kn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),$r(g)}};function p0(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function sI(u){const g={};u=(u.g&&2<=Kn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let $=0;$<u.length;$++){if(A(u[$]))continue;var x=N(u[$]);const Q=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const X=g[Q]||[];g[Q]=X,X.push(x)}T(g,function($){return $.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ia(u,g,x){return x&&x.internalChannelParams&&x.internalChannelParams[u]||g}function m0(u){this.Aa=0,this.i=[],this.j=new va,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ia("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ia("baseRetryDelayMs",5e3,u),this.cb=Ia("retryDelaySeedMs",1e4,u),this.Wa=Ia("forwardChannelMaxRetries",2,u),this.wa=Ia("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Yg(u&&u.concurrentRequestLimit),this.Da=new eI,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=m0.prototype,t.la=8,t.G=1,t.connect=function(u,g,x,$){Or(0),this.W=u,this.H=g||{},x&&$!==void 0&&(this.H.OSID=x,this.H.OAID=$),this.F=this.X,this.I=E0(this,null,this.W),wc(this)};function Ih(u){if(g0(u),u.G==3){var g=u.U++,x=Wn(u.I);if(wt(x,"SID",u.K),wt(x,"RID",g),wt(x,"TYPE","terminate"),Ta(u,x),g=new Es(u,u.j,g),g.L=2,g.v=vc(Wn(x)),x=!1,a.navigator&&a.navigator.sendBeacon)try{x=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!x&&a.Image&&(new Image().src=g.v,x=!0),x||(g.g=I0(g.j,null),g.g.ea(g.v)),g.F=Date.now(),mc(g)}w0(u)}function kc(u){u.g&&(Ah(u),u.g.cancel(),u.g=null)}function g0(u){kc(u),u.u&&(a.clearTimeout(u.u),u.u=null),Ec(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function wc(u){if(!Jg(u.h)&&!u.s){u.s=!0;var g=u.Ga;U||Ee(),re||(U(),re=!0),ae.add(g,u),u.B=0}}function iI(u,g){return Xg(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ya(p(u.Ga,u,g),k0(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const Q=new Es(this,this.j,u);let X=this.o;if(this.S&&(X?(X=v(X),w(X,this.S)):X=this.S),this.m!==null||this.O||(Q.H=X,X=null),this.P)e:{for(var g=0,x=0;x<this.i.length;x++){t:{var $=this.i[x];if("__data__"in $.map&&($=$.map.__data__,typeof $=="string")){$=$.length;break t}$=void 0}if($===void 0)break;if(g+=$,4096<g){g=x;break e}if(g===4096||x===this.i.length-1){g=x+1;break e}}g=1e3}else g=1e3;g=v0(this,Q,g),x=Wn(this.I),wt(x,"RID",u),wt(x,"CVER",22),this.D&&wt(x,"X-HTTP-Session-Id",this.D),Ta(this,x),X&&(this.O?g="headers="+encodeURIComponent(String(c0(X)))+"&"+g:this.m&&Eh(x,this.m,X)),wh(this.h,Q),this.Ua&&wt(x,"TYPE","init"),this.P?(wt(x,"$req",g),wt(x,"SID","null"),Q.T=!0,bh(Q,x,null)):bh(Q,x,g),this.G=2}}else this.G==3&&(u?y0(this,u):this.i.length==0||Jg(this.h)||y0(this))};function y0(u,g){var x;g?x=g.l:x=u.U++;const $=Wn(u.I);wt($,"SID",u.K),wt($,"RID",x),wt($,"AID",u.T),Ta(u,$),u.m&&u.o&&Eh($,u.m,u.o),x=new Es(u,u.j,x,u.B+1),u.m===null&&(x.H=u.o),g&&(u.i=g.D.concat(u.i)),g=v0(u,x,1e3),x.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),wh(u.h,x),bh(x,$,g)}function Ta(u,g){u.H&&L(u.H,function(x,$){wt(g,$,x)}),u.l&&t0({},function(x,$){wt(g,$,x)})}function v0(u,g,x){x=Math.min(u.i.length,x);var $=u.l?p(u.l.Na,u.l,u):null;e:{var Q=u.i;let X=-1;for(;;){const ye=["count="+x];X==-1?0<x?(X=Q[0].g,ye.push("ofs="+X)):X=0:ye.push("ofs="+X);let xt=!0;for(let rr=0;rr<x;rr++){let st=Q[rr].g;const gr=Q[rr].map;if(st-=X,0>st)X=Math.max(0,Q[rr].g-100),xt=!1;else try{tI(gr,ye,"req"+st+"_")}catch{$&&$(gr)}}if(xt){$=ye.join("&");break e}}}return u=u.i.splice(0,x),g.D=u,$}function b0(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;U||Ee(),re||(U(),re=!0),ae.add(g,u),u.v=0}}function Th(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ya(p(u.Fa,u),k0(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,x0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ya(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Or(10),kc(this),x0(this))};function Ah(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function x0(u){u.g=new Es(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=Wn(u.qa);wt(g,"RID","rpc"),wt(g,"SID",u.K),wt(g,"AID",u.T),wt(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&wt(g,"TO",u.ja),wt(g,"TYPE","xmlhttp"),Ta(u,g),u.m&&u.o&&Eh(g,u.m,u.o),u.L&&(u.g.I=u.L);var x=u.g;u=u.ia,x.L=1,x.v=vc(Wn(g)),x.m=null,x.P=!0,Kg(x,u)}t.Za=function(){this.C!=null&&(this.C=null,kc(this),Th(this),Or(19))};function Ec(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function _0(u,g){var x=null;if(u.g==g){Ec(u),Ah(u),u.g=null;var $=2}else if(kh(u.h,g))x=g.D,Zg(u.h,g),$=1;else return;if(u.G!=0){if(g.o)if($==1){x=g.m?g.m.length:0,g=Date.now()-g.F;var Q=u.B;$=hc(),Oe($,new qg($,x)),wc(u)}else b0(u);else if(Q=g.s,Q==3||Q==0&&0<g.X||!($==1&&iI(u,g)||$==2&&Th(u)))switch(x&&0<x.length&&(g=u.h,g.i=g.i.concat(x)),Q){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function k0(u,g){let x=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(x*=2),x*g}function gi(u,g){if(u.j.info("Error code "+g),g==2){var x=p(u.fb,u),$=u.Xa;const Q=!$;$=new mi($||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||gc($,"https"),vc($),Q?XE($.toString(),x):ZE($.toString(),x)}else Or(2);u.G=0,u.l&&u.l.sa(g),w0(u),g0(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Or(2)):(this.j.info("Failed to ping google.com"),Or(1))};function w0(u){if(u.G=0,u.ka=[],u.l){const g=e0(u.h);(g.length!=0||u.i.length!=0)&&(b(u.ka,g),b(u.ka,u.i),u.h.i.length=0,_(u.i),u.i.length=0),u.l.ra()}}function E0(u,g,x){var $=x instanceof mi?Wn(x):new mi(x);if($.g!="")g&&($.g=g+"."+$.g),yc($,$.s);else{var Q=a.location;$=Q.protocol,g=g?g+"."+Q.hostname:Q.hostname,Q=+Q.port;var X=new mi(null);$&&gc(X,$),g&&(X.g=g),Q&&yc(X,Q),x&&(X.l=x),$=X}return x=u.D,g=u.ya,x&&g&&wt($,x,g),wt($,"VER",u.la),Ta(u,$),$}function I0(u,g,x){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Ot(new bc({eb:x})):new Ot(u.pa),g.Ha(u.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function T0(){}t=T0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ic(){}Ic.prototype.g=function(u,g){return new Jr(u,g)};function Jr(u,g){Te.call(this),this.g=new m0(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!A(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!A(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new fo(this)}k(Jr,Te),Jr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jr.prototype.close=function(){Ih(this.g)},Jr.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var x={};x.__data__=u,u=x}else this.u&&(x={},x.__data__=lo(u),u=x);g.i.push(new BE(g.Ya++,u)),g.G==3&&wc(g)},Jr.prototype.N=function(){this.g.l=null,delete this.j,Ih(this.g),delete this.g,Jr.aa.N.call(this)};function A0(u){mh.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const x in g){u=x;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}k(A0,mh);function S0(){gh.call(this),this.status=1}k(S0,gh);function fo(u){this.g=u}k(fo,T0),fo.prototype.ua=function(){Oe(this.g,"a")},fo.prototype.ta=function(u){Oe(this.g,new A0(u))},fo.prototype.sa=function(u){Oe(this.g,new S0)},fo.prototype.ra=function(){Oe(this.g,"b")},Ic.prototype.createWebChannel=Ic.prototype.g,Jr.prototype.send=Jr.prototype.o,Jr.prototype.open=Jr.prototype.m,Jr.prototype.close=Jr.prototype.close,dw=function(){return new Ic},uw=function(){return hc()},cw=fi,ip={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fc.NO_ERROR=0,fc.TIMEOUT=8,fc.HTTP_ERROR=6,cu=fc,Hg.COMPLETE="complete",lw=Hg,Fg.EventType=ma,ma.OPEN="a",ma.CLOSE="b",ma.ERROR="c",ma.MESSAGE="d",Te.prototype.listen=Te.prototype.K,ja=Fg,Ot.prototype.listenOnce=Ot.prototype.L,Ot.prototype.getLastError=Ot.prototype.Ka,Ot.prototype.getLastErrorCode=Ot.prototype.Ba,Ot.prototype.getStatus=Ot.prototype.Z,Ot.prototype.getResponseJson=Ot.prototype.Oa,Ot.prototype.getResponseText=Ot.prototype.oa,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Ha,aw=Ot}).apply(typeof jc<"u"?jc:typeof self<"u"?self:typeof window<"u"?window:{});const Rv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kr.UNAUTHENTICATED=new kr(null),kr.GOOGLE_CREDENTIALS=new kr("google-credentials-uid"),kr.FIRST_PARTY=new kr("first-party-uid"),kr.MOCK_USER=new kr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let da="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new Md("@firebase/firestore");function Ra(){return zi.logLevel}function Ae(t,...e){if(zi.logLevel<=Je.DEBUG){const r=e.map(Lm);zi.debug(`Firestore (${da}): ${t}`,...r)}}function ps(t,...e){if(zi.logLevel<=Je.ERROR){const r=e.map(Lm);zi.error(`Firestore (${da}): ${t}`,...r)}}function Jo(t,...e){if(zi.logLevel<=Je.WARN){const r=e.map(Lm);zi.warn(`Firestore (${da}): ${t}`,...r)}}function Lm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Le(t="Unexpected state"){const e=`FIRESTORE (${da}) INTERNAL ASSERTION FAILED: `+t;throw ps(e),new Error(e)}function gt(t,e){t||Le()}function He(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends kn{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(kr.UNAUTHENTICATED))}shutdown(){}}class O6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class D6{constructor(e){this.t=e,this.currentUser=kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){gt(this.o===void 0);let n=this.i;const s=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let i=new cs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new cs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{Ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(Ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new cs)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(gt(typeof n.accessToken=="string"),new hw(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return gt(e===null||typeof e=="string"),new kr(e)}}class M6{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=kr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class V6{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new M6(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class L6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class F6{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){gt(this.o===void 0);const n=i=>{i.error!=null&&Ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,Ae("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>n(i))};const s=i=>{Ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(gt(typeof r.token=="string"),this.R=r.token,new L6(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const s=U6(40);for(let i=0;i<s.length;++i)n.length<20&&s[i]<r&&(n+=e.charAt(s[i]%e.length))}return n}}function it(t,e){return t<e?-1:t>e?1:0}function Xo(t,e,r){return t.length===e.length&&t.every((n,s)=>r(n,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ke(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ke(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new ke(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Wt.fromMillis(Date.now())}static fromDate(e){return Wt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new Wt(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?it(this.nanoseconds,e.nanoseconds):it(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Be(e)}static min(){return new Be(new Wt(0,0))}static max(){return new Be(new Wt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,r,n){r===void 0?r=0:r>e.length&&Le(),n===void 0?n=e.length-r:n>e.length-r&&Le(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Rl.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Rl?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let s=0;s<n;s++){const i=e.get(s),o=r.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class Et extends Rl{construct(e,r,n){return new Et(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new ke(se.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(s=>s.length>0))}return new Et(r)}static emptyPath(){return new Et([])}}const j6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ir extends Rl{construct(e,r,n){return new ir(e,r,n)}static isValidIdentifier(e){return j6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ir.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ir(["__name__"])}static fromServerFormat(e){const r=[];let n="",s=0;const i=()=>{if(n.length===0)throw new ke(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new ke(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new ke(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(n+=a,s++):(i(),s++)}if(i(),o)throw new ke(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ir(r)}static emptyPath(){return new ir([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(Et.fromString(e))}static fromName(e){return new Ne(Et.fromString(e).popFirst(5))}static empty(){return new Ne(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Et.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new Et(e.slice()))}}function B6(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,s=Be.fromTimestamp(n===1e9?new Wt(r+1,0):new Wt(r,n));return new ii(s,Ne.empty(),e)}function q6(t){return new ii(t.readTime,t.key,-1)}class ii{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new ii(Be.min(),Ne.empty(),-1)}static max(){return new ii(Be.max(),Ne.empty(),-1)}}function H6(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Ne.comparator(t.documentKey,e.documentKey),r!==0?r:it(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class W6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jl(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==z6)throw t;Ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new le((n,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(n,s)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,s)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof le?r:le.resolve(r)}catch(r){return le.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):le.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):le.reject(r)}static resolve(e){return new le((r,n)=>{r(e)})}static reject(e){return new le((r,n)=>{n(e)})}static waitFor(e){return new le((r,n)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&r()},c=>n(c))}),o=!0,i===s&&r()})}static or(e){let r=le.resolve(!1);for(const n of e)r=r.next(s=>s?le.resolve(s):n());return r}static forEach(e,r){const n=[];return e.forEach((s,i)=>{n.push(r.call(this,s,i))}),this.waitFor(n)}static mapArray(e,r){return new le((n,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const d=c;r(e[d]).next(h=>{o[d]=h,++a,a===i&&n(o)},h=>s(h))}})}static doWhile(e,r){return new le((n,s)=>{const i=()=>{e()===!0?r().next(()=>{i()},s):n()};i()})}}function K6(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Xl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Fm.oe=-1;function Ud(t){return t==null}function zu(t){return t===0&&1/t==-1/0}function G6(t){return typeof t=="number"&&Number.isInteger(t)&&!zu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function io(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function pw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,r){this.comparator=e,this.root=r||sr.EMPTY}insert(e,r){return new Nt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,sr.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return r+n.left.size;s<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bc(this.root,e,this.comparator,!0)}}class Bc{constructor(e,r,n,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=r?n(e.key,r):1,r&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sr{constructor(e,r,n,s,i){this.key=e,this.value=r,this.color=n??sr.RED,this.left=s??sr.EMPTY,this.right=i??sr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,s,i){return new sr(e??this.key,r??this.value,n??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let s=this;const i=n(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,r,n),null):i===0?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(e,r,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return sr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,s=this;if(r(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,r),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),r(e,s.key)===0){if(s.right.isEmpty())return sr.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,r))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Le();const e=this.left.check();if(e!==this.right.check())throw Le();return e+(this.isRed()?0:1)}}sr.EMPTY=null,sr.RED=!0,sr.BLACK=!1;sr.EMPTY=new class{constructor(){this.size=0}get key(){throw Le()}get value(){throw Le()}get color(){throw Le()}get left(){throw Le()}get right(){throw Le()}copy(e,r,n,s,i){return this}insert(e,r,n){return new sr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;r(s.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new $v(this.data.getIterator())}getIteratorFrom(e){return new $v(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof lr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const s=r.getNext().key,i=n.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new lr(this.comparator);return r.data=e,r}}class $v{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.fields=e,e.sort(ir.comparator)}static empty(){return new rn([])}unionWith(e){let r=new lr(ir.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new rn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Xo(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new mw("Invalid base64 string: "+i):i}}(e);return new dr(r)}static fromUint8Array(e){const r=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new dr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let s=0;s<r.length;s++)n[s]=r.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return it(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dr.EMPTY_BYTE_STRING=new dr("");const Q6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oi(t){if(gt(!!t),typeof t=="string"){let e=0;const r=Q6.exec(t);if(gt(!!r),r[1]){let s=r[1];s=(s+"000000000").substr(0,9),e=Number(s)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Vt(t.seconds),nanos:Vt(t.nanos)}}function Vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Wi(t){return typeof t=="string"?dr.fromBase64String(t):dr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function jm(t){const e=t.mapValue.fields.__previous_value__;return Um(e)?jm(e):e}function Nl(t){const e=oi(t.mapValue.fields.__local_write_time__.timestampValue);return new Wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(e,r,n,s,i,o,a,c,d){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d}}class $l{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc={mapValue:{}};function Ki(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Um(t)?4:X6(t)?9007199254740991:J6(t)?10:11:Le()}function qn(t,e){if(t===e)return!0;const r=Ki(t);if(r!==Ki(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Nl(t).isEqual(Nl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=oi(s.timestampValue),a=oi(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Wi(s.bytesValue).isEqual(Wi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Vt(s.geoPointValue.latitude)===Vt(i.geoPointValue.latitude)&&Vt(s.geoPointValue.longitude)===Vt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Vt(s.integerValue)===Vt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Vt(s.doubleValue),a=Vt(i.doubleValue);return o===a?zu(o)===zu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Xo(t.arrayValue.values||[],e.arrayValue.values||[],qn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Nv(o)!==Nv(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!qn(o[c],a[c])))return!1;return!0}(t,e);default:return Le()}}function Ol(t,e){return(t.values||[]).find(r=>qn(r,e))!==void 0}function Zo(t,e){if(t===e)return 0;const r=Ki(t),n=Ki(e);if(r!==n)return it(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return it(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Vt(i.integerValue||i.doubleValue),c=Vt(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return Ov(t.timestampValue,e.timestampValue);case 4:return Ov(Nl(t),Nl(e));case 5:return it(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Wi(i),c=Wi(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let d=0;d<a.length&&d<c.length;d++){const h=it(a[d],c[d]);if(h!==0)return h}return it(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=it(Vt(i.latitude),Vt(o.latitude));return a!==0?a:it(Vt(i.longitude),Vt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Dv(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,c,d,h;const f=i.fields||{},p=o.fields||{},y=(a=f.value)===null||a===void 0?void 0:a.arrayValue,k=(c=p.value)===null||c===void 0?void 0:c.arrayValue,_=it(((d=y==null?void 0:y.values)===null||d===void 0?void 0:d.length)||0,((h=k==null?void 0:k.values)===null||h===void 0?void 0:h.length)||0);return _!==0?_:Dv(y,k)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===qc.mapValue&&o===qc.mapValue)return 0;if(i===qc.mapValue)return 1;if(o===qc.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),d=o.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const p=it(c[f],h[f]);if(p!==0)return p;const y=Zo(a[c[f]],d[h[f]]);if(y!==0)return y}return it(c.length,h.length)}(t.mapValue,e.mapValue);default:throw Le()}}function Ov(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return it(t,e);const r=oi(t),n=oi(e),s=it(r.seconds,n.seconds);return s!==0?s:it(r.nanos,n.nanos)}function Dv(t,e){const r=t.values||[],n=e.values||[];for(let s=0;s<r.length&&s<n.length;++s){const i=Zo(r[s],n[s]);if(i)return i}return it(r.length,n.length)}function ea(t){return op(t)}function op(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=oi(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Wi(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Ne.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",s=!0;for(const i of r.values||[])s?s=!1:n+=",",n+=op(i);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let s="{",i=!0;for(const o of n)i?i=!1:s+=",",s+=`${o}:${op(r.fields[o])}`;return s+"}"}(t.mapValue):Le()}function Mv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ap(t){return!!t&&"integerValue"in t}function Bm(t){return!!t&&"arrayValue"in t}function Vv(t){return!!t&&"nullValue"in t}function Lv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function uu(t){return!!t&&"mapValue"in t}function J6(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function sl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return io(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=sl(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=sl(t.arrayValue.values[r]);return e}return Object.assign({},t)}function X6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e){this.value=e}static empty(){return new Wr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!uu(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=sl(r)}setAll(e){let r=ir.emptyPath(),n={},s=[];e.forEach((o,a)=>{if(!r.isImmediateParentOf(a)){const c=this.getFieldsMap(r);this.applyChanges(c,n,s),n={},s=[],r=a.popLast()}o?n[a.lastSegment()]=sl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(r);this.applyChanges(i,n,s)}delete(e){const r=this.field(e.popLast());uu(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return qn(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=r.mapValue.fields[e.get(n)];uu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=s),r=s}return r.mapValue.fields}applyChanges(e,r,n){io(r,(s,i)=>e[s]=i);for(const s of n)delete e[s]}clone(){return new Wr(sl(this.value))}}function gw(t){const e=[];return io(t.fields,(r,n)=>{const s=new ir([r]);if(uu(n)){const i=gw(n.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e,r,n,s,i,o,a){this.key=e,this.documentType=r,this.version=n,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ir(e,0,Be.min(),Be.min(),Be.min(),Wr.empty(),0)}static newFoundDocument(e,r,n,s){return new Ir(e,1,r,Be.min(),n,s,0)}static newNoDocument(e,r){return new Ir(e,2,r,Be.min(),Be.min(),Wr.empty(),0)}static newUnknownDocument(e,r){return new Ir(e,3,r,Be.min(),Be.min(),Wr.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ir&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ir(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,r){this.position=e,this.inclusive=r}}function Fv(t,e,r){let n=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?n=Ne.comparator(Ne.fromName(o.referenceValue),r.key):n=Zo(o,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function Uv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!qn(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,r="asc"){this.field=e,this.dir=r}}function Z6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{}class Ht extends yw{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new tN(e,r,n):r==="array-contains"?new sN(e,n):r==="in"?new iN(e,n):r==="not-in"?new oN(e,n):r==="array-contains-any"?new aN(e,n):new Ht(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new rN(e,n):new nN(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Zo(r,this.value)):r!==null&&Ki(this.value)===Ki(r)&&this.matchesComparison(Zo(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $n extends yw{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new $n(e,r)}matches(e){return vw(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function vw(t){return t.op==="and"}function bw(t){return eN(t)&&vw(t)}function eN(t){for(const e of t.filters)if(e instanceof $n)return!1;return!0}function lp(t){if(t instanceof Ht)return t.field.canonicalString()+t.op.toString()+ea(t.value);if(bw(t))return t.filters.map(e=>lp(e)).join(",");{const e=t.filters.map(r=>lp(r)).join(",");return`${t.op}(${e})`}}function xw(t,e){return t instanceof Ht?function(n,s){return s instanceof Ht&&n.op===s.op&&n.field.isEqual(s.field)&&qn(n.value,s.value)}(t,e):t instanceof $n?function(n,s){return s instanceof $n&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((i,o,a)=>i&&xw(o,s.filters[a]),!0):!1}(t,e):void Le()}function _w(t){return t instanceof Ht?function(r){return`${r.field.canonicalString()} ${r.op} ${ea(r.value)}`}(t):t instanceof $n?function(r){return r.op.toString()+" {"+r.getFilters().map(_w).join(" ,")+"}"}(t):"Filter"}class tN extends Ht{constructor(e,r,n){super(e,r,n),this.key=Ne.fromName(n.referenceValue)}matches(e){const r=Ne.comparator(e.key,this.key);return this.matchesComparison(r)}}class rN extends Ht{constructor(e,r){super(e,"in",r),this.keys=kw("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class nN extends Ht{constructor(e,r){super(e,"not-in",r),this.keys=kw("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function kw(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Ne.fromName(n.referenceValue))}class sN extends Ht{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Bm(r)&&Ol(r.arrayValue,this.value)}}class iN extends Ht{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Ol(this.value.arrayValue,r)}}class oN extends Ht{constructor(e,r){super(e,"not-in",r)}matches(e){if(Ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Ol(this.value.arrayValue,r)}}class aN extends Ht{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Bm(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Ol(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lN{constructor(e,r=null,n=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function jv(t,e=null,r=[],n=[],s=null,i=null,o=null){return new lN(t,e,r,n,s,i,o)}function qm(t){const e=He(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>lp(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),Ud(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>ea(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>ea(n)).join(",")),e.ue=r}return e.ue}function Hm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!Z6(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!xw(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Uv(t.startAt,e.startAt)&&Uv(t.endAt,e.endAt)}function cp(t){return Ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,r=null,n=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function cN(t,e,r,n,s,i,o,a){return new ha(t,e,r,n,s,i,o,a)}function jd(t){return new ha(t)}function Bv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ww(t){return t.collectionGroup!==null}function il(t){const e=He(t);if(e.ce===null){e.ce=[];const r=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),r.add(i.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new lr(ir.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{r.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Dl(i,n))}),r.has(ir.keyField().canonicalString())||e.ce.push(new Dl(ir.keyField(),n))}return e.ce}function jn(t){const e=He(t);return e.le||(e.le=uN(e,il(t))),e.le}function uN(t,e){if(t.limitType==="F")return jv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Dl(s.field,i)});const r=t.endAt?new Wu(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Wu(t.startAt.position,t.startAt.inclusive):null;return jv(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function up(t,e){const r=t.filters.concat([e]);return new ha(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function Ku(t,e,r){return new ha(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Bd(t,e){return Hm(jn(t),jn(e))&&t.limitType===e.limitType}function Ew(t){return`${qm(jn(t))}|lt:${t.limitType}`}function ko(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(s=>_w(s)).join(", ")}]`),Ud(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(s=>ea(s)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(s=>ea(s)).join(",")),`Target(${n})`}(jn(t))}; limitType=${t.limitType})`}function qd(t,e){return e.isFoundDocument()&&function(n,s){const i=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Ne.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,s){for(const i of il(n))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const i of n.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(o,a,c){const d=Fv(o,a,c);return o.inclusive?d<=0:d<0}(n.startAt,il(n),s)||n.endAt&&!function(o,a,c){const d=Fv(o,a,c);return o.inclusive?d>=0:d>0}(n.endAt,il(n),s))}(t,e)}function dN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Iw(t){return(e,r)=>{let n=!1;for(const s of il(t)){const i=hN(s,e,r);if(i!==0)return i;n=n||s.field.isKeyField()}return 0}}function hN(t,e,r){const n=t.field.isKeyField()?Ne.comparator(e.key,r.key):function(i,o,a){const c=o.data.field(i),d=a.data.field(i);return c!==null&&d!==null?Zo(c,d):Le()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Le()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[s,i]of n)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,r]);s.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[r]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){io(this.inner,(r,n)=>{for(const[s,i]of n)e(s,i)})}isEmpty(){return pw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=new Nt(Ne.comparator);function ms(){return fN}const Tw=new Nt(Ne.comparator);function Ba(...t){let e=Tw;for(const r of t)e=e.insert(r.key,r);return e}function Aw(t){let e=Tw;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Ci(){return ol()}function Sw(){return ol()}function ol(){return new fa(t=>t.toString(),(t,e)=>t.isEqual(e))}const pN=new Nt(Ne.comparator),mN=new lr(Ne.comparator);function Ge(...t){let e=mN;for(const r of t)e=e.add(r);return e}const gN=new lr(it);function yN(){return gN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zu(e)?"-0":e}}function Cw(t){return{integerValue:""+t}}function vN(t,e){return G6(e)?Cw(e):zm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(){this._=void 0}}function bN(t,e,r){return t instanceof Ml?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Um(i)&&(i=jm(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(r,e):t instanceof Vl?Rw(t,e):t instanceof Ll?Nw(t,e):function(s,i){const o=Pw(s,i),a=qv(o)+qv(s.Pe);return ap(o)&&ap(s.Pe)?Cw(a):zm(s.serializer,a)}(t,e)}function xN(t,e,r){return t instanceof Vl?Rw(t,e):t instanceof Ll?Nw(t,e):r}function Pw(t,e){return t instanceof Gu?function(n){return ap(n)||function(i){return!!i&&"doubleValue"in i}(n)}(e)?e:{integerValue:0}:null}class Ml extends Hd{}class Vl extends Hd{constructor(e){super(),this.elements=e}}function Rw(t,e){const r=$w(e);for(const n of t.elements)r.some(s=>qn(s,n))||r.push(n);return{arrayValue:{values:r}}}class Ll extends Hd{constructor(e){super(),this.elements=e}}function Nw(t,e){let r=$w(e);for(const n of t.elements)r=r.filter(s=>!qn(s,n));return{arrayValue:{values:r}}}class Gu extends Hd{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function qv(t){return Vt(t.integerValue||t.doubleValue)}function $w(t){return Bm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e,r){this.field=e,this.transform=r}}function kN(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof Vl&&s instanceof Vl||n instanceof Ll&&s instanceof Ll?Xo(n.elements,s.elements,qn):n instanceof Gu&&s instanceof Gu?qn(n.Pe,s.Pe):n instanceof Ml&&s instanceof Ml}(t.transform,e.transform)}class wN{constructor(e,r){this.version=e,this.transformResults=r}}class Fr{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Fr}static exists(e){return new Fr(void 0,e)}static updateTime(e){return new Fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function du(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class zd{}function Ow(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Wd(t.key,Fr.none()):new Zl(t.key,t.data,Fr.none());{const r=t.data,n=Wr.empty();let s=new lr(ir.comparator);for(let i of e.fields)if(!s.has(i)){let o=r.field(i);o===null&&i.length>1&&(i=i.popLast(),o=r.field(i)),o===null?n.delete(i):n.set(i,o),s=s.add(i)}return new hi(t.key,n,new rn(s.toArray()),Fr.none())}}function EN(t,e,r){t instanceof Zl?function(s,i,o){const a=s.value.clone(),c=zv(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,r):t instanceof hi?function(s,i,o){if(!du(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=zv(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(Dw(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,r):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function al(t,e,r,n){return t instanceof Zl?function(i,o,a,c){if(!du(i.precondition,o))return a;const d=i.value.clone(),h=Wv(i.fieldTransforms,c,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,r,n):t instanceof hi?function(i,o,a,c){if(!du(i.precondition,o))return a;const d=Wv(i.fieldTransforms,c,o),h=o.data;return h.setAll(Dw(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,r,n):function(i,o,a){return du(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,r)}function IN(t,e){let r=null;for(const n of t.fieldTransforms){const s=e.data.field(n.field),i=Pw(n.transform,s||null);i!=null&&(r===null&&(r=Wr.empty()),r.set(n.field,i))}return r||null}function Hv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Xo(n,s,(i,o)=>kN(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zl extends zd{constructor(e,r,n,s=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class hi extends zd{constructor(e,r,n,s,i=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Dw(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function zv(t,e,r){const n=new Map;gt(t.length===r.length);for(let s=0;s<r.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);n.set(i.field,xN(o,a,r[s]))}return n}function Wv(t,e,r){const n=new Map;for(const s of t){const i=s.transform,o=r.data.field(s.field);n.set(s.field,bN(i,o,e))}return n}class Wd extends zd{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class TN extends zd{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,r,n,s){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&EN(i,e,n[s])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=al(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=al(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=Sw();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=r.has(s.key)?null:a;const c=Ow(o,a);c!==null&&n.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(Be.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Ge())}isEqual(e){return this.batchId===e.batchId&&Xo(this.mutations,e.mutations,(r,n)=>Hv(r,n))&&Xo(this.baseMutations,e.baseMutations,(r,n)=>Hv(r,n))}}class Wm{constructor(e,r,n,s){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=s}static from(e,r,n){gt(e.mutations.length===n.length);let s=function(){return pN}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,n[o].version);return new Wm(e,r,n,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,et;function PN(t){switch(t){default:return Le();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0}}function Mw(t){if(t===void 0)return ps("GRPC error has no .code"),se.UNKNOWN;switch(t){case jt.OK:return se.OK;case jt.CANCELLED:return se.CANCELLED;case jt.UNKNOWN:return se.UNKNOWN;case jt.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case jt.INTERNAL:return se.INTERNAL;case jt.UNAVAILABLE:return se.UNAVAILABLE;case jt.UNAUTHENTICATED:return se.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case jt.NOT_FOUND:return se.NOT_FOUND;case jt.ALREADY_EXISTS:return se.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return se.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case jt.ABORTED:return se.ABORTED;case jt.OUT_OF_RANGE:return se.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return se.UNIMPLEMENTED;case jt.DATA_LOSS:return se.DATA_LOSS;default:return Le()}}(et=jt||(jt={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=new Vi([4294967295,4294967295],0);function Kv(t){const e=RN().encode(t),r=new ow;return r.update(e),new Uint8Array(r.digest())}function Gv(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Vi([r,n],0),new Vi([s,i],0)]}class Km{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new qa(`Invalid padding: ${r}`);if(n<0)throw new qa(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new qa(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new qa(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Vi.fromNumber(this.Ie)}Ee(e,r,n){let s=e.add(r.multiply(Vi.fromNumber(n)));return s.compare(NN)===1&&(s=new Vi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=Kv(e),[n,s]=Gv(r);for(let i=0;i<this.hashCount;i++){const o=this.Ee(n,s,i);if(!this.de(o))return!1}return!0}static create(e,r,n){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Km(i,s,r);return n.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const r=Kv(e),[n,s]=Gv(r);for(let i=0;i<this.hashCount;i++){const o=this.Ee(n,s,i);this.Ae(o)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class qa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,r,n,s,i){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const s=new Map;return s.set(e,ec.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Kd(Be.min(),s,new Nt(it),ms(),Ge())}}class ec{constructor(e,r,n,s,i){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new ec(n,r,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,r,n,s){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=s}}class Vw{constructor(e,r){this.targetId=e,this.me=r}}class Lw{constructor(e,r,n=dr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=s}}class Qv{constructor(){this.fe=0,this.ge=Jv(),this.pe=dr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ge(),r=Ge(),n=Ge();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:r=r.add(s);break;case 1:n=n.add(s);break;default:Le()}}),new ec(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=Jv()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,gt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class $N{constructor(e){this.Le=e,this.Be=new Map,this.ke=ms(),this.qe=Yv(),this.Qe=new Nt(it)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:Le()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,s)=>{this.ze(s)&&r(s)})}He(e){const r=e.targetId,n=e.me.count,s=this.Je(r);if(s){const i=s.target;if(cp(i))if(n===0){const o=new Ne(i.path);this.Ue(r,o,Ir.newNoDocument(o,Be.min()))}else gt(n===1);else{const o=this.Ye(r);if(o!==n){const a=this.Ze(e),c=a?this.Xe(a,e,o):1;if(c!==0){this.je(r);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,d)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:i=0}=r;let o,a;try{o=Wi(n).toUint8Array()}catch(c){if(c instanceof mw)return Jo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Km(o,s,i)}catch(c){return Jo(c instanceof qa?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let s=0;return n.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(r,i,null),s++)}),s}rt(e){const r=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&cp(a.target)){const c=new Ne(a.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,Ir.newNoDocument(c,e))}i.be&&(r.set(o,i.ve()),i.Ce())}});let n=Ge();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const d=this.Je(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(n=n.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new Kd(e,r,this.Qe,this.ke,n);return this.ke=ms(),this.qe=Yv(),this.Qe=new Nt(it),s}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,r)?s.Fe(r,1):s.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Qv,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new lr(it),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||Ae("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Qv),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Yv(){return new Nt(Ne.comparator)}function Jv(){return new Nt(Ne.comparator)}const ON={asc:"ASCENDING",desc:"DESCENDING"},DN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MN={and:"AND",or:"OR"};class VN{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function dp(t,e){return t.useProto3Json||Ud(e)?e:{value:e}}function Qu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Fw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function LN(t,e){return Qu(t,e.toTimestamp())}function Bn(t){return gt(!!t),Be.fromTimestamp(function(r){const n=oi(r);return new Wt(n.seconds,n.nanos)}(t))}function Gm(t,e){return hp(t,e).canonicalString()}function hp(t,e){const r=function(s){return new Et(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?r:r.child(e)}function Uw(t){const e=Et.fromString(t);return gt(zw(e)),e}function fp(t,e){return Gm(t.databaseId,e.path)}function ef(t,e){const r=Uw(e);if(r.get(1)!==t.databaseId.projectId)throw new ke(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new ke(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Ne(Bw(r))}function jw(t,e){return Gm(t.databaseId,e)}function FN(t){const e=Uw(t);return e.length===4?Et.emptyPath():Bw(e)}function pp(t){return new Et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Bw(t){return gt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Xv(t,e,r){return{name:fp(t,e),fields:r.value.mapValue.fields}}function UN(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Le()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(gt(h===void 0||typeof h=="string"),dr.fromBase64String(h||"")):(gt(h===void 0||h instanceof Buffer||h instanceof Uint8Array),dr.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const h=d.code===void 0?se.UNKNOWN:Mw(d.code);return new ke(h,d.message||"")}(o);r=new Lw(n,s,i,a||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const s=ef(t,n.document.name),i=Bn(n.document.updateTime),o=n.document.createTime?Bn(n.document.createTime):Be.min(),a=new Wr({mapValue:{fields:n.document.fields}}),c=Ir.newFoundDocument(s,i,o,a),d=n.targetIds||[],h=n.removedTargetIds||[];r=new hu(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const s=ef(t,n.document),i=n.readTime?Bn(n.readTime):Be.min(),o=Ir.newNoDocument(s,i),a=n.removedTargetIds||[];r=new hu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const s=ef(t,n.document),i=n.removedTargetIds||[];r=new hu([],i,s,null)}else{if(!("filter"in e))return Le();{e.filter;const n=e.filter;n.targetId;const{count:s=0,unchangedNames:i}=n,o=new CN(s,i),a=n.targetId;r=new Vw(a,o)}}return r}function jN(t,e){let r;if(e instanceof Zl)r={update:Xv(t,e.key,e.value)};else if(e instanceof Wd)r={delete:fp(t,e.key)};else if(e instanceof hi)r={update:Xv(t,e.key,e.data),updateMask:YN(e.fieldMask)};else{if(!(e instanceof TN))return Le();r={verify:fp(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(i,o){const a=o.transform;if(a instanceof Ml)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Vl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ll)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Gu)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Le()}(0,n))),e.precondition.isNone||(r.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:LN(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Le()}(t,e.precondition)),r}function BN(t,e){return t&&t.length>0?(gt(e!==void 0),t.map(r=>function(s,i){let o=s.updateTime?Bn(s.updateTime):Bn(i);return o.isEqual(Be.min())&&(o=Bn(i)),new wN(o,s.transformResults||[])}(r,e))):[]}function qN(t,e){return{documents:[jw(t,e.path)]}}function HN(t,e){const r={structuredQuery:{}},n=e.path;let s;e.collectionGroup!==null?(s=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=jw(t,s);const i=function(d){if(d.length!==0)return Hw($n.create(d,"and"))}(e.filters);i&&(r.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(p){return{field:wo(p.field),direction:KN(p.dir)}}(h))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const a=dp(t,e.limit);return a!==null&&(r.structuredQuery.limit=a),e.startAt&&(r.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:r,parent:s}}function zN(t){let e=FN(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let s=null;if(n>0){gt(n===1);const h=r.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];r.where&&(i=function(f){const p=qw(f);return p instanceof $n&&bw(p)?p.getFilters():[p]}(r.where));let o=[];r.orderBy&&(o=function(f){return f.map(p=>function(k){return new Dl(Eo(k.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(p))}(r.orderBy));let a=null;r.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Ud(p)?null:p}(r.limit));let c=null;r.startAt&&(c=function(f){const p=!!f.before,y=f.values||[];return new Wu(y,p)}(r.startAt));let d=null;return r.endAt&&(d=function(f){const p=!f.before,y=f.values||[];return new Wu(y,p)}(r.endAt)),cN(e,s,o,i,a,"F",c,d)}function WN(t,e){const r=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Le()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function qw(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Eo(r.unaryFilter.field);return Ht.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=Eo(r.unaryFilter.field);return Ht.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Eo(r.unaryFilter.field);return Ht.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Eo(r.unaryFilter.field);return Ht.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Le()}}(t):t.fieldFilter!==void 0?function(r){return Ht.create(Eo(r.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Le()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return $n.create(r.compositeFilter.filters.map(n=>qw(n)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Le()}}(r.compositeFilter.op))}(t):Le()}function KN(t){return ON[t]}function GN(t){return DN[t]}function QN(t){return MN[t]}function wo(t){return{fieldPath:t.canonicalString()}}function Eo(t){return ir.fromServerFormat(t.fieldPath)}function Hw(t){return t instanceof Ht?function(r){if(r.op==="=="){if(Lv(r.value))return{unaryFilter:{field:wo(r.field),op:"IS_NAN"}};if(Vv(r.value))return{unaryFilter:{field:wo(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Lv(r.value))return{unaryFilter:{field:wo(r.field),op:"IS_NOT_NAN"}};if(Vv(r.value))return{unaryFilter:{field:wo(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wo(r.field),op:GN(r.op),value:r.value}}}(t):t instanceof $n?function(r){const n=r.getFilters().map(s=>Hw(s));return n.length===1?n[0]:{compositeFilter:{op:QN(r.op),filters:n}}}(t):Le()}function YN(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function zw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,r,n,s,i=Be.min(),o=Be.min(),a=dr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e){this.ct=e}}function XN(t){const e=zN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ku(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this.un=new e$}addToCollectionParentIndex(e,r){return this.un.add(r),le.resolve()}getCollectionParents(e,r){return le.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return le.resolve()}deleteFieldIndex(e,r){return le.resolve()}deleteAllFieldIndexes(e){return le.resolve()}createTargetIndexes(e,r){return le.resolve()}getDocumentsMatchingTarget(e,r){return le.resolve(null)}getIndexType(e,r){return le.resolve(0)}getFieldIndexes(e,r){return le.resolve([])}getNextCollectionGroupToUpdate(e){return le.resolve(null)}getMinOffset(e,r){return le.resolve(ii.min())}getMinOffsetFromCollectionGroup(e,r){return le.resolve(ii.min())}updateCollectionGroup(e,r,n){return le.resolve()}updateIndexEntries(e,r){return le.resolve()}}class e${constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r]||new lr(Et.comparator),i=!s.has(n);return this.index[r]=s.add(n),i}has(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r];return s&&s.has(n)}getEntries(e){return(this.index[e]||new lr(Et.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ta(0)}static kn(){return new ta(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t${constructor(){this.changes=new fa(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Ir.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?le.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(e,r,n,s){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(s=>(n=s,this.remoteDocumentCache.getEntry(e,r))).next(s=>(n!==null&&al(n.mutation,s,rn.empty(),Wt.now()),s))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Ge()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Ge()){const s=Ci();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,n).next(i=>{let o=Ba();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=Ci();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Ge()))}populateOverlays(e,r,n){const s=[];return n.forEach(i=>{r.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{r.set(o,a)})})}computeViews(e,r,n,s){let i=ms();const o=ol(),a=function(){return ol()}();return r.forEach((c,d)=>{const h=n.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof hi)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),al(h.mutation,d,h.mutation.getFieldMask(),Wt.now())):o.set(d.key,rn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,h)=>o.set(d,h)),r.forEach((d,h)=>{var f;return a.set(d,new r$(h,(f=o.get(d))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,r){const n=ol();let s=new Nt((o,a)=>o-a),i=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const a of o)a.keys().forEach(c=>{const d=r.get(c);if(d===null)return;let h=n.get(c)||rn.empty();h=a.applyToLocalView(d,h),n.set(c,h);const f=(s.get(a.batchId)||Ge()).add(c);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),d=c.key,h=c.value,f=Sw();h.forEach(p=>{if(!i.has(p)){const y=Ow(r.get(p),n.get(p));y!==null&&f.set(p,y),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return le.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,s){return function(o){return Ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):ww(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,s):this.getDocumentsMatchingCollectionQuery(e,r,n,s)}getNextDocuments(e,r,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,s-i.size):le.resolve(Ci());let a=-1,c=i;return o.next(d=>le.forEach(d,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?le.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{c=c.insert(h,p)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,Ge())).next(h=>({batchId:a,changes:Aw(h)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ne(r)).next(n=>{let s=Ba();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s})}getDocumentsMatchingCollectionGroupQuery(e,r,n,s){const i=r.collectionGroup;let o=Ba();return this.indexManager.getCollectionParents(e,i).next(a=>le.forEach(a,c=>{const d=function(f,p){return new ha(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,n,s).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,i,s))).next(o=>{i.forEach((c,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,Ir.newInvalidDocument(h)))});let a=Ba();return o.forEach((c,d)=>{const h=i.get(c);h!==void 0&&al(h.mutation,d,rn.empty(),Wt.now()),qd(r,d)&&(a=a.insert(c,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return le.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(s){return{id:s.id,version:s.version,createTime:Bn(s.createTime)}}(r)),le.resolve()}getNamedQuery(e,r){return le.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(s){return{name:s.name,query:XN(s.bundledQuery),readTime:Bn(s.readTime)}}(r)),le.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(){this.overlays=new Nt(Ne.comparator),this.Ir=new Map}getOverlay(e,r){return le.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Ci();return le.forEach(r,s=>this.getOverlay(e,s).next(i=>{i!==null&&n.set(s,i)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((s,i)=>{this.ht(e,r,i)}),le.resolve()}removeOverlaysForBatchId(e,r,n){const s=this.Ir.get(n);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(n)),le.resolve()}getOverlaysForCollection(e,r,n){const s=Ci(),i=r.length+1,o=new Ne(r.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,d=c.getKey();if(!r.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>n&&s.set(c.getKey(),c)}return le.resolve(s)}getOverlaysForCollectionGroup(e,r,n,s){let i=new Nt((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===r&&d.largestBatchId>n){let h=i.get(d.largestBatchId);h===null&&(h=Ci(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=Ci(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=s)););return le.resolve(a)}ht(e,r,n){const s=this.overlays.get(n.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(n.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new SN(r,n));let i=this.Ir.get(r);i===void 0&&(i=Ge(),this.Ir.set(r,i)),this.Ir.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(){this.sessionToken=dr.EMPTY_BYTE_STRING}getSessionToken(e){return le.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,le.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(){this.Tr=new lr(er.Er),this.dr=new lr(er.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new er(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new er(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new Ne(new Et([])),n=new er(r,e),s=new er(r,e+1),i=[];return this.dr.forEachInRange([n,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Ne(new Et([])),n=new er(r,e),s=new er(r,e+1);let i=Ge();return this.dr.forEachInRange([n,s],o=>{i=i.add(o.key)}),i}containsKey(e){const r=new er(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class er{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Ne.comparator(e.key,r.key)||it(e.wr,r.wr)}static Ar(e,r){return it(e.wr,r.wr)||Ne.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new lr(er.Er)}checkEmpty(e){return le.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new AN(i,r,n,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new er(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return le.resolve(o)}lookupMutationBatch(e,r){return le.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,s=this.vr(n),i=s<0?0:s;return le.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return le.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return le.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new er(r,0),s=new er(r,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,s],o=>{const a=this.Dr(o.wr);i.push(a)}),le.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new lr(it);return r.forEach(s=>{const i=new er(s,0),o=new er(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{n=n.add(a.wr)})}),le.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,s=n.length+1;let i=n;Ne.isDocumentKey(i)||(i=i.child(""));const o=new er(new Ne(i),0);let a=new lr(it);return this.br.forEachWhile(c=>{const d=c.key.path;return!!n.isPrefixOf(d)&&(d.length===s&&(a=a.add(c.wr)),!0)},o),le.resolve(this.Cr(a))}Cr(e){const r=[];return e.forEach(n=>{const s=this.Dr(n);s!==null&&r.push(s)}),r}removeMutationBatch(e,r){gt(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return le.forEach(r.mutations,s=>{const i=new er(s.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new er(r,0),s=this.br.firstAfterOrEqual(n);return le.resolve(r.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,le.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l${constructor(e){this.Mr=e,this.docs=function(){return new Nt(Ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,s=this.docs.get(n),i=s?s.size:0,o=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return le.resolve(n?n.document.mutableCopy():Ir.newInvalidDocument(r))}getEntries(e,r){let n=ms();return r.forEach(s=>{const i=this.docs.get(s);n=n.insert(s,i?i.document.mutableCopy():Ir.newInvalidDocument(s))}),le.resolve(n)}getDocumentsMatchingQuery(e,r,n,s){let i=ms();const o=r.path,a=new Ne(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||H6(q6(h),n)<=0||(s.has(h.key)||qd(r,h))&&(i=i.insert(h.key,h.mutableCopy()))}return le.resolve(i)}getAllFromCollectionGroup(e,r,n,s){Le()}Or(e,r){return le.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new c$(this)}getSize(e){return le.resolve(this.size)}}class c$ extends t${constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,s)=>{s.isValidDocument()?r.push(this.cr.addEntry(e,s)):this.cr.removeEntry(n)}),le.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(e){this.persistence=e,this.Nr=new fa(r=>qm(r),Hm),this.lastRemoteSnapshotVersion=Be.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Qm,this.targetCount=0,this.kr=ta.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,s)=>r(s)),le.resolve()}getLastRemoteSnapshotVersion(e){return le.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return le.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),le.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),le.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new ta(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,le.resolve()}updateTargetData(e,r){return this.Kn(r),le.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,le.resolve()}removeTargets(e,r,n){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=r&&n.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),le.waitFor(i).next(()=>s)}getTargetCount(e){return le.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return le.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),le.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const s=this.persistence.referenceDelegate,i=[];return s&&r.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),le.waitFor(i)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),le.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return le.resolve(n)}containsKey(e,r){return le.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d${constructor(e,r){this.qr={},this.overlays={},this.Qr=new Fm(0),this.Kr=!1,this.Kr=!0,this.$r=new o$,this.referenceDelegate=e(this),this.Ur=new u$(this),this.indexManager=new ZN,this.remoteDocumentCache=function(s){return new l$(s)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new JN(r),this.Gr=new s$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new i$,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new a$(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){Ae("MemoryPersistence","Starting transaction:",e);const s=new h$(this.Qr.next());return this.referenceDelegate.zr(),n(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,r){return le.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class h$ extends W6{constructor(e){super(),this.currentSequenceNumber=e}}class Ym{constructor(e){this.persistence=e,this.Jr=new Qm,this.Yr=null}static Zr(e){return new Ym(e)}get Xr(){if(this.Yr)return this.Yr;throw Le()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),le.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),le.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),le.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(s=>this.Xr.add(s.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return le.forEach(this.Xr,n=>{const s=Ne.fromPath(n);return this.ei(e,s).next(i=>{i||r.removeEntry(s,Be.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return le.or([()=>le.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,r,n,s){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=s}static Wi(e,r){let n=Ge(),s=Ge();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Jm(e,r.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return e3()?8:K6(Nr())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,s){const i={result:null};return this.Yi(e,r).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,r,s,n).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new f$;return this.Xi(e,r,o).next(a=>{if(i.result=a,this.zi)return this.es(e,r,o,a.size)})}).next(()=>i.result)}es(e,r,n,s){return n.documentReadCount<this.ji?(Ra()<=Je.DEBUG&&Ae("QueryEngine","SDK will not create cache indexes for query:",ko(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),le.resolve()):(Ra()<=Je.DEBUG&&Ae("QueryEngine","Query:",ko(r),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.Hi*s?(Ra()<=Je.DEBUG&&Ae("QueryEngine","The SDK decides to create cache indexes for query:",ko(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jn(r))):le.resolve())}Yi(e,r){if(Bv(r))return le.resolve(null);let n=jn(r);return this.indexManager.getIndexType(e,n).next(s=>s===0?null:(r.limit!==null&&s===1&&(r=Ku(r,null,"F"),n=jn(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(i=>{const o=Ge(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,n).next(c=>{const d=this.ts(r,a);return this.ns(r,d,o,c.readTime)?this.Yi(e,Ku(r,null,"F")):this.rs(e,d,r,c)}))})))}Zi(e,r,n,s){return Bv(r)||s.isEqual(Be.min())?le.resolve(null):this.Ji.getDocuments(e,n).next(i=>{const o=this.ts(r,i);return this.ns(r,o,n,s)?le.resolve(null):(Ra()<=Je.DEBUG&&Ae("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ko(r)),this.rs(e,o,r,B6(s,-1)).next(a=>a))})}ts(e,r){let n=new lr(Iw(e));return r.forEach((s,i)=>{qd(e,i)&&(n=n.add(i))}),n}ns(e,r,n,s){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const i=e.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,r,n){return Ra()<=Je.DEBUG&&Ae("QueryEngine","Using full collection scan to execute query:",ko(r)),this.Ji.getDocumentsMatchingQuery(e,r,ii.min(),n)}rs(e,r,n,s){return this.Ji.getDocumentsMatchingQuery(e,n,s).next(i=>(r.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m${constructor(e,r,n,s){this.persistence=e,this.ss=r,this.serializer=s,this.os=new Nt(it),this._s=new fa(i=>qm(i),Hm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new n$(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function g$(t,e,r,n){return new m$(t,e,r,n)}async function Ww(t,e){const r=He(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let s;return r.mutationQueue.getAllMutationBatches(n).next(i=>(s=i,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(i=>{const o=[],a=[];let c=Ge();for(const d of s){o.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of i){a.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return r.localDocuments.getDocuments(n,c).next(d=>({hs:d,removedBatchIds:o,addedBatchIds:a}))})})}function y$(t,e){const r=He(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const s=e.batch.keys(),i=r.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,d,h){const f=d.batch,p=f.keys();let y=le.resolve();return p.forEach(k=>{y=y.next(()=>h.getEntry(c,k)).next(_=>{const b=d.docVersions.get(k);gt(b!==null),_.version.compareTo(b)<0&&(f.applyToRemoteDocument(_,d),_.isValidDocument()&&(_.setReadTime(d.commitVersion),h.addEntry(_)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(r,n,e,i).next(()=>i.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,s,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(a){let c=Ge();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(c=c.add(a.batch.mutations[d].key));return c}(e))).next(()=>r.localDocuments.getDocuments(n,s))})}function Kw(t){const e=He(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function v$(t,e){const r=He(t),n=e.snapshotVersion;let s=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=r.cs.newChangeBuffer({trackRemovals:!0});s=r.os;const a=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;a.push(r.Ur.removeMatchingKeys(i,h.removedDocuments,f).next(()=>r.Ur.addMatchingKeys(i,h.addedDocuments,f)));let y=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(dr.EMPTY_BYTE_STRING,Be.min()).withLastLimboFreeSnapshotVersion(Be.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,n)),s=s.insert(f,y),function(_,b,I){return _.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(p,y,h)&&a.push(r.Ur.updateTargetData(i,y))});let c=ms(),d=Ge();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(r.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(b$(i,o,e.documentUpdates).next(h=>{c=h.Ps,d=h.Is})),!n.isEqual(Be.min())){const h=r.Ur.getLastRemoteSnapshotVersion(i).next(f=>r.Ur.setTargetsMetadata(i,i.currentSequenceNumber,n));a.push(h)}return le.waitFor(a).next(()=>o.apply(i)).next(()=>r.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(r.os=s,i))}function b$(t,e,r){let n=Ge(),s=Ge();return r.forEach(i=>n=n.add(i)),e.getEntries(t,n).next(i=>{let o=ms();return r.forEach((a,c)=>{const d=i.get(a);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(Be.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):Ae("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",c.version)}),{Ps:o,Is:s}})}function x$(t,e){const r=He(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function _$(t,e){const r=He(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let s;return r.Ur.getTargetData(n,e).next(i=>i?(s=i,le.resolve(s)):r.Ur.allocateTargetId(n).next(o=>(s=new Ws(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,s).next(()=>s))))}).then(n=>{const s=r.os.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function mp(t,e,r){const n=He(t),s=n.os.get(e),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,o=>n.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Xl(o))throw o;Ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}n.os=n.os.remove(e),n._s.delete(s.target)}function Zv(t,e,r){const n=He(t);let s=Be.min(),i=Ge();return n.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,h){const f=He(c),p=f._s.get(h);return p!==void 0?le.resolve(f.os.get(p)):f.Ur.getTargetData(d,h)}(n,o,jn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>n.ss.getDocumentsMatchingQuery(o,e,r?s:Be.min(),r?i:Ge())).next(a=>(k$(n,dN(e),a),{documents:a,Ts:i})))}function k$(t,e,r){let n=t.us.get(e)||Be.min();r.forEach((s,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),t.us.set(e,n)}class eb{constructor(){this.activeTargetIds=yN()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class w${constructor(){this.so=new eb,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new eb,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E${_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hc=null;function tf(){return Hc===null?Hc=function(){return 268435456+Math.round(2147483648*Math.random())}():Hc++,"0x"+Hc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T${constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br="WebChannelConnection";class A$ extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(r,n,s,i,o){const a=tf(),c=this.xo(r,n.toUriEncodedString());Ae("RestConnection",`Sending RPC '${r}' ${a}:`,c,s);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,i,o),this.No(r,c,d,s).then(h=>(Ae("RestConnection",`Received RPC '${r}' ${a}: `,h),h),h=>{throw Jo("RestConnection",`RPC '${r}' ${a} failed with error: `,h,"url: ",c,"request:",s),h})}Lo(r,n,s,i,o,a){return this.Mo(r,n,s,i,o)}Oo(r,n,s){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+da}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>r[o]=i),s&&s.headers.forEach((i,o)=>r[o]=i)}xo(r,n){const s=I$[r];return`${this.Do}/v1/${n}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,s){const i=tf();return new Promise((o,a)=>{const c=new aw;c.setWithCredentials(!0),c.listenOnce(lw.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case cu.NO_ERROR:const h=c.getResponseJson();Ae(br,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case cu.TIMEOUT:Ae(br,`RPC '${e}' ${i} timed out`),a(new ke(se.DEADLINE_EXCEEDED,"Request time out"));break;case cu.HTTP_ERROR:const f=c.getStatus();if(Ae(br,`RPC '${e}' ${i} failed with status:`,f,"response text:",c.getResponseText()),f>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const y=p==null?void 0:p.error;if(y&&y.status&&y.message){const k=function(b){const I=b.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(I)>=0?I:se.UNKNOWN}(y.status);a(new ke(k,y.message))}else a(new ke(se.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new ke(se.UNAVAILABLE,"Connection failed."));break;default:Le()}}finally{Ae(br,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(s);Ae(br,`RPC '${e}' ${i} sending request:`,s),c.send(r,"POST",d,n,15)})}Bo(e,r,n){const s=tf(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=dw(),a=uw(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const h=i.join("");Ae(br,`Creating RPC '${e}' stream ${s}: ${h}`,c);const f=o.createWebChannel(h,c);let p=!1,y=!1;const k=new T$({Io:b=>{y?Ae(br,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(p||(Ae(br,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),Ae(br,`RPC '${e}' stream ${s} sending:`,b),f.send(b))},To:()=>f.close()}),_=(b,I,A)=>{b.listen(I,E=>{try{A(E)}catch(R){setTimeout(()=>{throw R},0)}})};return _(f,ja.EventType.OPEN,()=>{y||(Ae(br,`RPC '${e}' stream ${s} transport opened.`),k.yo())}),_(f,ja.EventType.CLOSE,()=>{y||(y=!0,Ae(br,`RPC '${e}' stream ${s} transport closed`),k.So())}),_(f,ja.EventType.ERROR,b=>{y||(y=!0,Jo(br,`RPC '${e}' stream ${s} transport errored:`,b),k.So(new ke(se.UNAVAILABLE,"The operation could not be completed")))}),_(f,ja.EventType.MESSAGE,b=>{var I;if(!y){const A=b.data[0];gt(!!A);const E=A,R=E.error||((I=E[0])===null||I===void 0?void 0:I.error);if(R){Ae(br,`RPC '${e}' stream ${s} received error:`,R);const S=R.status;let L=function(m){const w=jt[m];if(w!==void 0)return Mw(w)}(S),T=R.message;L===void 0&&(L=se.INTERNAL,T="Unknown error status: "+S+" with message "+R.message),y=!0,k.So(new ke(L,T)),f.close()}else Ae(br,`RPC '${e}' stream ${s} received:`,A),k.bo(A)}}),_(a,cw.STAT_EVENT,b=>{b.stat===ip.PROXY?Ae(br,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===ip.NOPROXY&&Ae(br,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{k.wo()},0),k}}function rf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(t){return new VN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e,r,n=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),s=Math.max(0,r-n);s>0&&Ae("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,r,n,s,i,o,a,c){this.ui=e,this.Ho=n,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Gw(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===se.RESOURCE_EXHAUSTED?(ps(r.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,s])=>{this.Yo===r&&this.P_(n,s)},n=>{e(()=>{const s=new ke(se.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(s)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{n(()=>this.I_(s))}),this.stream.onMessage(s=>{n(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(Ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class S$ extends Qw{constructor(e,r,n,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,s,o),this.serializer=i}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=UN(this.serializer,e),n=function(i){if(!("targetChange"in i))return Be.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Be.min():o.readTime?Bn(o.readTime):Be.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=pp(this.serializer),r.addTarget=function(i,o){let a;const c=o.target;if(a=cp(c)?{documents:qN(i,c)}:{query:HN(i,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Fw(i,o.resumeToken);const d=dp(i,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(Be.min())>0){a.readTime=Qu(i,o.snapshotVersion.toTimestamp());const d=dp(i,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const n=WN(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=pp(this.serializer),r.removeTarget=e,this.a_(r)}}class C$ extends Qw{constructor(e,r,n,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return gt(!!e.streamToken),this.lastStreamToken=e.streamToken,gt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=BN(e.writeResults,e.commitTime),n=Bn(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=pp(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>jN(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P$ extends class{}{constructor(e,r,n,s){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new ke(se.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,hp(r,n),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ke(se.UNKNOWN,i.toString())})}Lo(e,r,n,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,hp(r,n),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ke(se.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class R${constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ps(r),this.D_=!1):Ae("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N${constructor(e,r,n,s,i){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{n.enqueueAndForget(async()=>{oo(this)&&(Ae("RemoteStore","Restarting streams for network reachability change."),await async function(c){const d=He(c);d.L_.add(4),await tc(d),d.q_.set("Unknown"),d.L_.delete(4),await Qd(d)}(this))})}),this.q_=new R$(n,s)}}async function Qd(t){if(oo(t))for(const e of t.B_)await e(!0)}async function tc(t){for(const e of t.B_)await e(!1)}function Yw(t,e){const r=He(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),tg(r)?eg(r):pa(r).r_()&&Zm(r,e))}function Xm(t,e){const r=He(t),n=pa(r);r.N_.delete(e),n.r_()&&Jw(r,e),r.N_.size===0&&(n.r_()?n.o_():oo(r)&&r.q_.set("Unknown"))}function Zm(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Be.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}pa(t).A_(e)}function Jw(t,e){t.Q_.xe(e),pa(t).R_(e)}function eg(t){t.Q_=new $N({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),pa(t).start(),t.q_.v_()}function tg(t){return oo(t)&&!pa(t).n_()&&t.N_.size>0}function oo(t){return He(t).L_.size===0}function Xw(t){t.Q_=void 0}async function $$(t){t.q_.set("Online")}async function O$(t){t.N_.forEach((e,r)=>{Zm(t,e)})}async function D$(t,e){Xw(t),tg(t)?(t.q_.M_(e),eg(t)):t.q_.set("Unknown")}async function M$(t,e,r){if(t.q_.set("Online"),e instanceof Lw&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(n){Ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Yu(t,n)}else if(e instanceof hu?t.Q_.Ke(e):e instanceof Vw?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Be.min()))try{const n=await Kw(t.localStore);r.compareTo(n)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.N_.get(d);h&&i.N_.set(d,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,d)=>{const h=i.N_.get(c);if(!h)return;i.N_.set(c,h.withResumeToken(dr.EMPTY_BYTE_STRING,h.snapshotVersion)),Jw(i,c);const f=new Ws(h.target,c,d,h.sequenceNumber);Zm(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,r)}catch(n){Ae("RemoteStore","Failed to raise snapshot:",n),await Yu(t,n)}}async function Yu(t,e,r){if(!Xl(e))throw e;t.L_.add(1),await tc(t),t.q_.set("Offline"),r||(r=()=>Kw(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ae("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await Qd(t)})}function Zw(t,e){return e().catch(r=>Yu(t,r,e))}async function Yd(t){const e=He(t),r=ai(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;V$(e);)try{const s=await x$(e.localStore,n);if(s===null){e.O_.length===0&&r.o_();break}n=s.batchId,L$(e,s)}catch(s){await Yu(e,s)}e2(e)&&t2(e)}function V$(t){return oo(t)&&t.O_.length<10}function L$(t,e){t.O_.push(e);const r=ai(t);r.r_()&&r.V_&&r.m_(e.mutations)}function e2(t){return oo(t)&&!ai(t).n_()&&t.O_.length>0}function t2(t){ai(t).start()}async function F$(t){ai(t).p_()}async function U$(t){const e=ai(t);for(const r of t.O_)e.m_(r.mutations)}async function j$(t,e,r){const n=t.O_.shift(),s=Wm.from(n,e,r);await Zw(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Yd(t)}async function B$(t,e){e&&ai(t).V_&&await async function(n,s){if(function(o){return PN(o)&&o!==se.ABORTED}(s.code)){const i=n.O_.shift();ai(n).s_(),await Zw(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Yd(n)}}(t,e),e2(t)&&t2(t)}async function rb(t,e){const r=He(t);r.asyncQueue.verifyOperationInProgress(),Ae("RemoteStore","RemoteStore received new credentials");const n=oo(r);r.L_.add(3),await tc(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await Qd(r)}async function q$(t,e){const r=He(t);e?(r.L_.delete(2),await Qd(r)):e||(r.L_.add(2),await tc(r),r.q_.set("Unknown"))}function pa(t){return t.K_||(t.K_=function(r,n,s){const i=He(r);return i.w_(),new S$(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:$$.bind(null,t),Ro:O$.bind(null,t),mo:D$.bind(null,t),d_:M$.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),tg(t)?eg(t):t.q_.set("Unknown")):(await t.K_.stop(),Xw(t))})),t.K_}function ai(t){return t.U_||(t.U_=function(r,n,s){const i=He(r);return i.w_(),new C$(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:F$.bind(null,t),mo:B$.bind(null,t),f_:U$.bind(null,t),g_:j$.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Yd(t)):(await t.U_.stop(),t.O_.length>0&&(Ae("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,r,n,s,i){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=s,this.removalCallback=i,this.deferred=new cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,s,i){const o=Date.now()+n,a=new rg(e,r,o,s,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ke(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ng(t,e){if(ps("AsyncQueue",`${e}: ${t}`),Xl(t))return new ke(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.comparator=e?(r,n)=>e(r,n)||Ne.comparator(r.key,n.key):(r,n)=>Ne.comparator(r.key,n.key),this.keyedMap=Ba(),this.sortedSet=new Nt(this.comparator)}static emptySet(e){return new Uo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Uo)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const s=r.getNext().key,i=n.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Uo;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(){this.W_=new Nt(Ne.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Le():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class ra{constructor(e,r,n,s,i,o,a,c,d){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,r,n,s,i){const o=[];return r.forEach(a=>{o.push({type:0,doc:a})}),new ra(e,r,Uo.emptySet(r),o,n,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++)if(r[s].type!==n[s].type||!r[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H${constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class z${constructor(){this.queries=sb(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const s=He(r),i=s.queries;s.queries=sb(),i.forEach((o,a)=>{for(const c of a.j_)c.onError(n)})})(this,new ke(se.ABORTED,"Firestore shutting down"))}}function sb(){return new fa(t=>Ew(t),Bd)}async function sg(t,e){const r=He(t);let n=3;const s=e.query;let i=r.queries.get(s);i?!i.H_()&&e.J_()&&(n=2):(i=new H$,n=e.J_()?0:1);try{switch(n){case 0:i.z_=await r.onListen(s,!0);break;case 1:i.z_=await r.onListen(s,!1);break;case 2:await r.onFirstRemoteStoreListen(s)}}catch(o){const a=ng(o,`Initialization of query '${ko(e.query)}' failed`);return void e.onError(a)}r.queries.set(s,i),i.j_.push(e),e.Z_(r.onlineState),i.z_&&e.X_(i.z_)&&og(r)}async function ig(t,e){const r=He(t),n=e.query;let s=3;const i=r.queries.get(n);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function W$(t,e){const r=He(t);let n=!1;for(const s of e){const i=s.query,o=r.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(n=!0);o.z_=s}}n&&og(r)}function K$(t,e,r){const n=He(t),s=n.queries.get(e);if(s)for(const i of s.j_)i.onError(r);n.queries.delete(e)}function og(t){t.Y_.forEach(e=>{e.next()})}var gp,ib;(ib=gp||(gp={})).ea="default",ib.Cache="cache";class ag{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const s of e.docChanges)s.type!==3&&n.push(s);e=new ra(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=ra.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==gp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this.key=e}}class n2{constructor(e){this.key=e}}class G${constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ge(),this.mutatedKeys=Ge(),this.Aa=Iw(e),this.Ra=new Uo(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new nb,s=r?r.Ra:this.Ra;let i=r?r.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),y=qd(this.query,f)?f:null,k=!!p&&this.mutatedKeys.has(p.key),_=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let b=!1;p&&y?p.data.isEqual(y.data)?k!==_&&(n.track({type:3,doc:y}),b=!0):this.ga(p,y)||(n.track({type:2,doc:y}),b=!0,(c&&this.Aa(y,c)>0||d&&this.Aa(y,d)<0)&&(a=!0)):!p&&y?(n.track({type:0,doc:y}),b=!0):p&&!y&&(n.track({type:1,doc:p}),b=!0,(c||d)&&(a=!0)),b&&(y?(o=o.add(y),i=_?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),n.track({type:1,doc:h})}return{Ra:o,fa:n,ns:a,mutatedKeys:i}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,f)=>function(y,k){const _=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Le()}};return _(y)-_(k)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(n),s=s!=null&&s;const a=r&&!s?this.ya():[],c=this.da.size===0&&this.current&&!s?1:0,d=c!==this.Ea;return this.Ea=c,o.length!==0||d?{snapshot:new ra(this.query,e.Ra,i,o,e.mutatedKeys,c===0,d,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new nb,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ge(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new n2(n))}),this.da.forEach(n=>{e.has(n)||r.push(new r2(n))}),r}ba(e){this.Ta=e.Ts,this.da=Ge();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return ra.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Q${constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class Y${constructor(e){this.key=e,this.va=!1}}class J${constructor(e,r,n,s,i,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new fa(a=>Ew(a),Bd),this.Ma=new Map,this.xa=new Set,this.Oa=new Nt(Ne.comparator),this.Na=new Map,this.La=new Qm,this.Ba={},this.ka=new Map,this.qa=ta.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function X$(t,e,r=!0){const n=c2(t);let s;const i=n.Fa.get(e);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await s2(n,e,r,!0),s}async function Z$(t,e){const r=c2(t);await s2(r,e,!0,!1)}async function s2(t,e,r,n){const s=await _$(t.localStore,jn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,r);let a;return n&&(a=await e7(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&r&&Yw(t.remoteStore,s),a}async function e7(t,e,r,n,s){t.Ka=(f,p,y)=>async function(_,b,I,A){let E=b.view.ma(I);E.ns&&(E=await Zv(_.localStore,b.query,!1).then(({documents:T})=>b.view.ma(T,E)));const R=A&&A.targetChanges.get(b.targetId),S=A&&A.targetMismatches.get(b.targetId)!=null,L=b.view.applyChanges(E,_.isPrimaryClient,R,S);return ab(_,b.targetId,L.wa),L.snapshot}(t,f,p,y);const i=await Zv(t.localStore,e,!0),o=new G$(e,i.Ts),a=o.ma(i.documents),c=ec.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",s),d=o.applyChanges(a,t.isPrimaryClient,c);ab(t,r,d.wa);const h=new Q$(e,r,o);return t.Fa.set(e,h),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),d.snapshot}async function t7(t,e,r){const n=He(t),s=n.Fa.get(e),i=n.Ma.get(s.targetId);if(i.length>1)return n.Ma.set(s.targetId,i.filter(o=>!Bd(o,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await mp(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),r&&Xm(n.remoteStore,s.targetId),yp(n,s.targetId)}).catch(Jl)):(yp(n,s.targetId),await mp(n.localStore,s.targetId,!0))}async function r7(t,e){const r=He(t),n=r.Fa.get(e),s=r.Ma.get(n.targetId);r.isPrimaryClient&&s.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Xm(r.remoteStore,n.targetId))}async function n7(t,e,r){const n=u7(t);try{const s=await function(o,a){const c=He(o),d=Wt.now(),h=a.reduce((y,k)=>y.add(k.key),Ge());let f,p;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let k=ms(),_=Ge();return c.cs.getEntries(y,h).next(b=>{k=b,k.forEach((I,A)=>{A.isValidDocument()||(_=_.add(I))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,k)).next(b=>{f=b;const I=[];for(const A of a){const E=IN(A,f.get(A.key).overlayedDocument);E!=null&&I.push(new hi(A.key,E,gw(E.value.mapValue),Fr.exists(!0)))}return c.mutationQueue.addMutationBatch(y,d,I,a)}).next(b=>{p=b;const I=b.applyToLocalDocumentSet(f,_);return c.documentOverlayCache.saveOverlays(y,b.batchId,I)})}).then(()=>({batchId:p.batchId,changes:Aw(f)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let d=o.Ba[o.currentUser.toKey()];d||(d=new Nt(it)),d=d.insert(a,c),o.Ba[o.currentUser.toKey()]=d}(n,s.batchId,r),await rc(n,s.changes),await Yd(n.remoteStore)}catch(s){const i=ng(s,"Failed to persist write");r.reject(i)}}async function i2(t,e){const r=He(t);try{const n=await v$(r.localStore,e);e.targetChanges.forEach((s,i)=>{const o=r.Na.get(i);o&&(gt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?gt(o.va):s.removedDocuments.size>0&&(gt(o.va),o.va=!1))}),await rc(r,n,e)}catch(n){await Jl(n)}}function ob(t,e,r){const n=He(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const s=[];n.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=He(o);c.onlineState=a;let d=!1;c.queries.forEach((h,f)=>{for(const p of f.j_)p.Z_(a)&&(d=!0)}),d&&og(c)}(n.eventManager,e),s.length&&n.Ca.d_(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function s7(t,e,r){const n=He(t);n.sharedClientState.updateQueryState(e,"rejected",r);const s=n.Na.get(e),i=s&&s.key;if(i){let o=new Nt(Ne.comparator);o=o.insert(i,Ir.newNoDocument(i,Be.min()));const a=Ge().add(i),c=new Kd(Be.min(),new Map,new Nt(it),o,a);await i2(n,c),n.Oa=n.Oa.remove(i),n.Na.delete(e),lg(n)}else await mp(n.localStore,e,!1).then(()=>yp(n,e,r)).catch(Jl)}async function i7(t,e){const r=He(t),n=e.batch.batchId;try{const s=await y$(r.localStore,e);a2(r,n,null),o2(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await rc(r,s)}catch(s){await Jl(s)}}async function o7(t,e,r){const n=He(t);try{const s=await function(o,a){const c=He(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,a).next(f=>(gt(f!==null),h=f.keys(),c.mutationQueue.removeMutationBatch(d,f))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(n.localStore,e);a2(n,e,r),o2(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await rc(n,s)}catch(s){await Jl(s)}}function o2(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function a2(t,e,r){const n=He(t);let s=n.Ba[n.currentUser.toKey()];if(s){const i=s.get(e);i&&(r?i.reject(r):i.resolve(),s=s.remove(e)),n.Ba[n.currentUser.toKey()]=s}}function yp(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||l2(t,n)})}function l2(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(Xm(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),lg(t))}function ab(t,e,r){for(const n of r)n instanceof r2?(t.La.addReference(n.key,e),a7(t,n)):n instanceof n2?(Ae("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||l2(t,n.key)):Le()}function a7(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(Ae("SyncEngine","New document in limbo: "+r),t.xa.add(n),lg(t))}function lg(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new Ne(Et.fromString(e)),n=t.qa.next();t.Na.set(n,new Y$(r)),t.Oa=t.Oa.insert(r,n),Yw(t.remoteStore,new Ws(jn(jd(r.path)),n,"TargetPurposeLimboResolution",Fm.oe))}}async function rc(t,e,r){const n=He(t),s=[],i=[],o=[];n.Fa.isEmpty()||(n.Fa.forEach((a,c)=>{o.push(n.Ka(c,e,r).then(d=>{var h;if((d||r)&&n.isPrimaryClient){const f=d?!d.fromCache:(h=r==null?void 0:r.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;n.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){s.push(d);const f=Jm.Wi(c.targetId,d);i.push(f)}}))}),await Promise.all(o),n.Ca.d_(s),await async function(c,d){const h=He(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>le.forEach(d,p=>le.forEach(p.$i,y=>h.persistence.referenceDelegate.addReference(f,p.targetId,y)).next(()=>le.forEach(p.Ui,y=>h.persistence.referenceDelegate.removeReference(f,p.targetId,y)))))}catch(f){if(!Xl(f))throw f;Ae("LocalStore","Failed to update sequence numbers: "+f)}for(const f of d){const p=f.targetId;if(!f.fromCache){const y=h.os.get(p),k=y.snapshotVersion,_=y.withLastLimboFreeSnapshotVersion(k);h.os=h.os.insert(p,_)}}}(n.localStore,i))}async function l7(t,e){const r=He(t);if(!r.currentUser.isEqual(e)){Ae("SyncEngine","User change. New user:",e.toKey());const n=await Ww(r.localStore,e);r.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(c=>{c.reject(new ke(se.CANCELLED,o))})}),i.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await rc(r,n.hs)}}function c7(t,e){const r=He(t),n=r.Na.get(e);if(n&&n.va)return Ge().add(n.key);{let s=Ge();const i=r.Ma.get(e);if(!i)return s;for(const o of i){const a=r.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function c2(t){const e=He(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=i2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=c7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=s7.bind(null,e),e.Ca.d_=W$.bind(null,e.eventManager),e.Ca.$a=K$.bind(null,e.eventManager),e}function u7(t){const e=He(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=i7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=o7.bind(null,e),e}class Ju{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return g$(this.persistence,new p$,e.initialUser,this.serializer)}Ga(e){return new d$(Ym.Zr,this.serializer)}Wa(e){return new w$}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ju.provider={build:()=>new Ju};class vp{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>ob(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=l7.bind(null,this.syncEngine),await q$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new z$}()}createDatastore(e){const r=Gd(e.databaseInfo.databaseId),n=function(i){return new A$(i)}(e.databaseInfo);return function(i,o,a,c){return new P$(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,s,i,o,a){return new N$(n,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,r=>ob(this.syncEngine,r,0),function(){return tb.D()?new tb:new E$}())}createSyncEngine(e,r){return function(s,i,o,a,c,d,h){const f=new J$(s,i,o,a,c,d);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(s){const i=He(s);Ae("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await tc(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}vp.provider={build:()=>new vp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ps("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d7{constructor(e,r,n,s,i){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=s,this.user=kr.UNAUTHENTICATED,this.clientId=fw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async o=>{Ae("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(Ae("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=ng(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function nf(t,e){t.asyncQueue.verifyOperationInProgress(),Ae("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async s=>{n.isEqual(s)||(await Ww(e.localStore,s),n=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function lb(t,e){t.asyncQueue.verifyOperationInProgress();const r=await h7(t);Ae("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>rb(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,s)=>rb(e.remoteStore,s)),t._onlineComponents=e}async function h7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await nf(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(s){return s.name==="FirebaseError"?s.code===se.FAILED_PRECONDITION||s.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(r))throw r;Jo("Error using user provided cache. Falling back to memory cache: "+r),await nf(t,new Ju)}}else Ae("FirestoreClient","Using default OfflineComponentProvider"),await nf(t,new Ju);return t._offlineComponents}async function u2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ae("FirestoreClient","Using user provided OnlineComponentProvider"),await lb(t,t._uninitializedComponentsProvider._online)):(Ae("FirestoreClient","Using default OnlineComponentProvider"),await lb(t,new vp))),t._onlineComponents}function f7(t){return u2(t).then(e=>e.syncEngine)}async function Xu(t){const e=await u2(t),r=e.eventManager;return r.onListen=X$.bind(null,e.syncEngine),r.onUnlisten=t7.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Z$.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=r7.bind(null,e.syncEngine),r}function p7(t,e,r={}){const n=new cs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,d){const h=new cg({next:p=>{h.Za(),o.enqueueAndForget(()=>ig(i,f));const y=p.docs.has(a);!y&&p.fromCache?d.reject(new ke(se.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&c&&c.source==="server"?d.reject(new ke(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new ag(jd(a.path),h,{includeMetadataChanges:!0,_a:!0});return sg(i,f)}(await Xu(t),t.asyncQueue,e,r,n)),n.promise}function m7(t,e,r={}){const n=new cs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,d){const h=new cg({next:p=>{h.Za(),o.enqueueAndForget(()=>ig(i,f)),p.fromCache&&c.source==="server"?d.reject(new ke(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new ag(a,h,{includeMetadataChanges:!0,_a:!0});return sg(i,f)}(await Xu(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(t,e,r){if(!r)throw new ke(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function g7(t,e,r,n){if(e===!0&&n===!0)throw new ke(se.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function ub(t){if(!Ne.isDocumentKey(t))throw new ke(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function db(t){if(Ne.isDocumentKey(t))throw new ke(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Jd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Le()}function Ur(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ke(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Jd(t);throw new ke(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function y7(t,e){if(e<=0)throw new ke(se.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new ke(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ke(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}g7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=d2((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ke(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ke(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ke(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,s){return n.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xd{constructor(e,r,n,s){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hb({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ke(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ke(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hb(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new $6;switch(n.type){case"firstParty":return new V6(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ke(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=cb.get(r);n&&(Ae("ComponentProvider","Removing Datastore"),cb.delete(r),n.terminate())}(this),Promise.resolve()}}function v7(t,e,r,n={}){var s;const i=(t=Ur(t,Xd))._getSettings(),o=`${e}:${r}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),n.mockUserToken){let a,c;if(typeof n.mockUserToken=="string")a=n.mockUserToken,c=kr.MOCK_USER;else{a=pk(n.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const d=n.mockUserToken.sub||n.mockUserToken.user_id;if(!d)throw new ke(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new kr(d)}t._authCredentials=new O6(new hw(a,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new _s(this.firestore,e,this._query)}}class Pr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pr(this.firestore,e,this._key)}}class ei extends _s{constructor(e,r,n){super(e,r,jd(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pr(this.firestore,null,new Ne(e))}withConverter(e){return new ei(this.firestore,e,this._path)}}function Ut(t,e,...r){if(t=vt(t),h2("collection","path",e),t instanceof Xd){const n=Et.fromString(e,...r);return db(n),new ei(t,null,n)}{if(!(t instanceof Pr||t instanceof ei))throw new ke(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Et.fromString(e,...r));return db(n),new ei(t.firestore,null,n)}}function xr(t,e,...r){if(t=vt(t),arguments.length===1&&(e=fw.newId()),h2("doc","path",e),t instanceof Xd){const n=Et.fromString(e,...r);return ub(n),new Pr(t,null,new Ne(n))}{if(!(t instanceof Pr||t instanceof ei))throw new ke(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Et.fromString(e,...r));return ub(n),new Pr(t.firestore,t instanceof ei?t.converter:null,new Ne(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Gw(this,"async_queue_retry"),this.Vu=()=>{const n=rf();n&&Ae("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=rf();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=rf();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new cs;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Xl(e))throw e;Ae("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(n);throw ps("INTERNAL UNHANDLED ERROR: ",s),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const s=rg.createAndSchedule(this,e,r,n,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&Le()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function pb(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const s=r;for(const i of n)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Hn extends Xd{constructor(e,r,n,s){super(e,r,n,s),this.type="firestore",this._queue=new fb,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fb(e),this._firestoreClient=void 0,await e}}}function f2(t,e){const r=typeof t=="object"?t:ca(),n=typeof t=="string"?t:"(default)",s=vs(r,"firestore").getImmediate({identifier:n});if(!s._initialized){const i=Tm("firestore");i&&v7(s,...i)}return s}function nc(t){if(t._terminated)throw new ke(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||b7(t),t._firestoreClient}function b7(t){var e,r,n;const s=t._freezeSettings(),i=function(a,c,d,h){return new Y6(a,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,d2(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((r=s.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=s.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new d7(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e){this._byteString=e}static fromBase64String(e){try{return new na(dr.fromBase64String(e))}catch(r){throw new ke(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new na(dr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new ke(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ir(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ke(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ke(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return it(this._lat,e._lat)||it(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,s){if(n.length!==s.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x7=/^__.*__$/;class _7{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new hi(e,this.data,this.fieldMask,r,this.fieldTransforms):new Zl(e,this.data,r,this.fieldTransforms)}}class p2{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new hi(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function m2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Le()}}class hg{constructor(e,r,n,s,i,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new hg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.Fu({path:n,xu:!1});return s.Ou(e),s}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.Fu({path:n,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Zu(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(m2(this.Cu)&&x7.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class k7{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Gd(e)}Qu(e,r,n,s=!1){return new hg({Cu:e,methodName:r,qu:n,path:ir.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ic(t){const e=t._freezeSettings(),r=Gd(t._databaseId);return new k7(t._databaseId,!!e.ignoreUndefinedProperties,r)}function fg(t,e,r,n,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,r,s);mg("Data must be an object, but it was:",o,n);const a=v2(n,o);let c,d;if(i.merge)c=new rn(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=bp(e,f,r);if(!o.contains(p))throw new ke(se.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);x2(h,p)||h.push(p)}c=new rn(h),d=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,d=o.fieldTransforms;return new _7(new Wr(a),c,d)}class eh extends Zd{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof eh}}class pg extends Zd{_toFieldTransform(e){return new _N(e.path,new Ml)}isEqual(e){return e instanceof pg}}function g2(t,e,r,n){const s=t.Qu(1,e,r);mg("Data must be an object, but it was:",s,n);const i=[],o=Wr.empty();io(n,(c,d)=>{const h=gg(e,c,r);d=vt(d);const f=s.Nu(h);if(d instanceof eh)i.push(h);else{const p=oc(d,f);p!=null&&(i.push(h),o.set(h,p))}});const a=new rn(i);return new p2(o,a,s.fieldTransforms)}function y2(t,e,r,n,s,i){const o=t.Qu(1,e,r),a=[bp(e,n,r)],c=[s];if(i.length%2!=0)throw new ke(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(bp(e,i[p])),c.push(i[p+1]);const d=[],h=Wr.empty();for(let p=a.length-1;p>=0;--p)if(!x2(d,a[p])){const y=a[p];let k=c[p];k=vt(k);const _=o.Nu(y);if(k instanceof eh)d.push(y);else{const b=oc(k,_);b!=null&&(d.push(y),h.set(y,b))}}const f=new rn(d);return new p2(h,f,o.fieldTransforms)}function w7(t,e,r,n=!1){return oc(r,t.Qu(n?4:3,e))}function oc(t,e){if(b2(t=vt(t)))return mg("Unsupported field value:",e,t),v2(t,e);if(t instanceof Zd)return function(n,s){if(!m2(s.Cu))throw s.Bu(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,s){const i=[];let o=0;for(const a of n){let c=oc(a,s.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,s){if((n=vt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return vN(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Wt.fromDate(n);return{timestampValue:Qu(s.serializer,i)}}if(n instanceof Wt){const i=new Wt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Qu(s.serializer,i)}}if(n instanceof ug)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof na)return{bytesValue:Fw(s.serializer,n._byteString)};if(n instanceof Pr){const i=s.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Gm(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof dg)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Bu("VectorValues must only contain numeric values.");return zm(a.serializer,c)})}}}}}}(n,s);throw s.Bu(`Unsupported field value: ${Jd(n)}`)}(t,e)}function v2(t,e){const r={};return pw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):io(t,(n,s)=>{const i=oc(s,e.Mu(n));i!=null&&(r[n]=i)}),{mapValue:{fields:r}}}function b2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Wt||t instanceof ug||t instanceof na||t instanceof Pr||t instanceof Zd||t instanceof dg)}function mg(t,e,r){if(!b2(r)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(r)){const n=Jd(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function bp(t,e,r){if((e=vt(e))instanceof sc)return e._internalPath;if(typeof e=="string")return gg(t,e);throw Zu("Field path arguments must be of type string or ",t,!1,void 0,r)}const E7=new RegExp("[~\\*/\\[\\]]");function gg(t,e,r){if(e.search(E7)>=0)throw Zu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new sc(...e.split("."))._internalPath}catch{throw Zu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Zu(t,e,r,n,s){const i=n&&!n.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;r&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${n}`),o&&(c+=` in document ${s}`),c+=")"),new ke(se.INVALID_ARGUMENT,a+t+c)}function x2(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,r,n,s,i){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Pr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new I7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(th("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class I7 extends _2{data(){return super.data()}}function th(t,e){return typeof e=="string"?gg(t,e):e instanceof sc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ke(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yg{}class vg extends yg{}function Xn(t,e,...r){let n=[];e instanceof yg&&n.push(e),n=n.concat(r),function(i){const o=i.filter(c=>c instanceof bg).length,a=i.filter(c=>c instanceof rh).length;if(o>1||o>0&&a>0)throw new ke(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)t=s._apply(t);return t}class rh extends vg{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new rh(e,r,n)}_apply(e){const r=this._parse(e);return w2(e._query,r),new _s(e.firestore,e.converter,up(e._query,r))}_parse(e){const r=ic(e.firestore);return function(i,o,a,c,d,h,f){let p;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new ke(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){gb(f,h);const y=[];for(const k of f)y.push(mb(c,i,k));p={arrayValue:{values:y}}}else p=mb(c,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||gb(f,h),p=w7(a,o,f,h==="in"||h==="not-in");return Ht.create(d,h,p)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Ei(t,e,r){const n=e,s=th("where",t);return rh._create(s,n,r)}class bg extends yg{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new bg(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:$n.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const c of a)w2(o,c),o=up(o,c)}(e._query,r),new _s(e.firestore,e.converter,up(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class xg extends vg{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new xg(e,r)}_apply(e){const r=function(s,i,o){if(s.startAt!==null)throw new ke(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ke(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Dl(i,o)}(e._query,this._field,this._direction);return new _s(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new ha(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,r))}}function Io(t,e="asc"){const r=e,n=th("orderBy",t);return xg._create(n,r)}class _g extends vg{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new _g(e,r,n)}_apply(e){return new _s(e.firestore,e.converter,Ku(e._query,this._limit,this._limitType))}}function T7(t){return y7("limit",t),_g._create("limit",t,"F")}function mb(t,e,r){if(typeof(r=vt(r))=="string"){if(r==="")throw new ke(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ww(e)&&r.indexOf("/")!==-1)throw new ke(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Et.fromString(r));if(!Ne.isDocumentKey(n))throw new ke(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Mv(t,new Ne(n))}if(r instanceof Pr)return Mv(t,r._key);throw new ke(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jd(r)}.`)}function gb(t,e){if(!Array.isArray(t)||t.length===0)throw new ke(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function w2(t,e){const r=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new ke(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ke(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class A7{convertValue(e,r="none"){switch(Ki(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Wi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Le()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return io(e,(s,i)=>{n[s]=this.convertValue(i,r)}),n}convertVectorValue(e){var r,n,s;const i=(s=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||s===void 0?void 0:s.map(o=>Vt(o.doubleValue));return new dg(i)}convertGeoPoint(e){return new ug(Vt(e.latitude),Vt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=jm(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Nl(e));default:return null}}convertTimestamp(e){const r=oi(e);return new Wt(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Et.fromString(e);gt(zw(n));const s=new $l(n.get(1),n.get(3)),i=new Ne(n.popFirst(5));return s.isEqual(r)||ps(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kg(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class E2 extends _2{constructor(e,r,n,s,i,o){super(e,r,n,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new fu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(th("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class fu extends E2{data(e={}){return super.data(e)}}class I2{constructor(e,r,n,s){this._firestore=e,this._userDataWriter=r,this._snapshot=s,this.metadata=new Ha(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new fu(this._firestore,this._userDataWriter,n.key,n,new Ha(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ke(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const c=new fu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ha(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new fu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ha(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:S7(a.type),doc:c,oldIndex:d,newIndex:h}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function S7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Le()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(t){t=Ur(t,Pr);const e=Ur(t.firestore,Hn);return p7(nc(e),t._key).then(r=>T2(e,t,r))}class wg extends A7{constructor(e){super(),this.firestore=e}convertBytes(e){return new na(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Pr(this.firestore,null,r)}}function Xr(t){t=Ur(t,_s);const e=Ur(t.firestore,Hn),r=nc(e),n=new wg(e);return k2(t._query),m7(r,t._query).then(s=>new I2(e,n,t,s))}function zc(t,e,r){t=Ur(t,Pr);const n=Ur(t.firestore,Hn),s=kg(t.converter,e,r);return ac(n,[fg(ic(n),"setDoc",t._key,s,t.converter!==null,r).toMutation(t._key,Fr.none())])}function To(t,e,r,...n){t=Ur(t,Pr);const s=Ur(t.firestore,Hn),i=ic(s);let o;return o=typeof(e=vt(e))=="string"||e instanceof sc?y2(i,"updateDoc",t._key,e,r,n):g2(i,"updateDoc",t._key,e),ac(s,[o.toMutation(t._key,Fr.exists(!0))])}function yb(t){return ac(Ur(t.firestore,Hn),[new Wd(t._key,Fr.none())])}function Os(t,e){const r=Ur(t.firestore,Hn),n=xr(t),s=kg(t.converter,e);return ac(r,[fg(ic(t.firestore),"addDoc",n._key,s,t.converter!==null,{}).toMutation(n._key,Fr.exists(!1))]).then(()=>n)}function C7(t,...e){var r,n,s;t=vt(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||pb(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(pb(e[o])){const f=e[o];e[o]=(r=f.next)===null||r===void 0?void 0:r.bind(f),e[o+1]=(n=f.error)===null||n===void 0?void 0:n.bind(f),e[o+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let c,d,h;if(t instanceof Pr)d=Ur(t.firestore,Hn),h=jd(t._key.path),c={next:f=>{e[o]&&e[o](T2(d,t,f))},error:e[o+1],complete:e[o+2]};else{const f=Ur(t,_s);d=Ur(f.firestore,Hn),h=f._query;const p=new wg(d);c={next:y=>{e[o]&&e[o](new I2(d,p,f,y))},error:e[o+1],complete:e[o+2]},k2(t._query)}return function(p,y,k,_){const b=new cg(_),I=new ag(y,b,k);return p.asyncQueue.enqueueAndForget(async()=>sg(await Xu(p),I)),()=>{b.Za(),p.asyncQueue.enqueueAndForget(async()=>ig(await Xu(p),I))}}(nc(d),h,a,c)}function ac(t,e){return function(n,s){const i=new cs;return n.asyncQueue.enqueueAndForget(async()=>n7(await f7(n),s,i)),i.promise}(nc(t),e)}function T2(t,e,r){const n=r.docs.get(e._key),s=new wg(t);return new E2(t,s,e._key,n,new Ha(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P7{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=ic(e)}set(e,r,n){this._verifyNotCommitted();const s=sf(e,this._firestore),i=kg(s.converter,r,n),o=fg(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,n);return this._mutations.push(o.toMutation(s._key,Fr.none())),this}update(e,r,n,...s){this._verifyNotCommitted();const i=sf(e,this._firestore);let o;return o=typeof(r=vt(r))=="string"||r instanceof sc?y2(this._dataReader,"WriteBatch.update",i._key,r,n,s):g2(this._dataReader,"WriteBatch.update",i._key,r),this._mutations.push(o.toMutation(i._key,Fr.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=sf(e,this._firestore);return this._mutations=this._mutations.concat(new Wd(r._key,Fr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ke(se.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function sf(t,e){if((t=vt(t)).firestore!==e)throw new ke(se.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Gt(){return new pg("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R7(t){return nc(t=Ur(t,Hn)),new P7(t,e=>ac(t,e))}(function(e,r=!0){(function(s){da=s})(no),xn(new an("firestore",(n,{instanceIdentifier:s,options:i})=>{const o=n.getProvider("app").getImmediate(),a=new Hn(new D6(n.getProvider("auth-internal")),new F6(n.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ke(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(d.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:r},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Cr(Rv,"4.7.3",e),Cr(Rv,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2="firebasestorage.googleapis.com",S2="storageBucket",N7=2*60*1e3,$7=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends kn{constructor(e,r,n=0){super(of(e),`Firebase Storage: ${r} (${of(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return of(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var hr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(hr||(hr={}));function of(t){return"storage/"+t}function O7(){const t="An unknown error occurred, please check the error payload for server response.";return new fr(hr.UNKNOWN,t)}function D7(t){return new fr(hr.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function M7(t){return new fr(hr.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function V7(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new fr(hr.UNAUTHENTICATED,t)}function L7(){return new fr(hr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function F7(t){return new fr(hr.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function U7(){return new fr(hr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function j7(){return new fr(hr.CANCELED,"User canceled the upload/download.")}function B7(t){return new fr(hr.INVALID_URL,"Invalid URL '"+t+"'.")}function q7(t){return new fr(hr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function H7(){return new fr(hr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+S2+"' property when initializing the app?")}function xp(t){return new fr(hr.INVALID_ARGUMENT,t)}function C2(){return new fr(hr.APP_DELETED,"The Firebase app was deleted.")}function z7(t){return new fr(hr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Na(t){throw new fr(hr.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=yn.makeFromUrl(e,r)}catch{return new yn(e,"")}if(n.path==="")return n;throw q7(e)}static makeFromUrl(e,r){let n=null;const s="([A-Za-z0-9.\\-_]+)";function i(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),c={bucket:1,path:3};function d(R){R.path_=decodeURIComponent(R.path)}const h="v[A-Za-z0-9_]+",f=r.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",y=new RegExp(`^https?://${f}/${h}/b/${s}/o${p}`,"i"),k={bucket:1,path:3},_=r===A2?"(?:storage.googleapis.com|storage.cloud.google.com)":r,b="([^?#]*)",I=new RegExp(`^https?://${_}/${s}/${b}`,"i"),E=[{regex:a,indices:c,postModify:i},{regex:y,indices:k,postModify:d},{regex:I,indices:{bucket:1,path:2},postModify:d}];for(let R=0;R<E.length;R++){const S=E[R],L=S.regex.exec(e);if(L){const T=L[S.indices.bucket];let v=L[S.indices.path];v||(v=""),n=new yn(T,v),S.postModify(n);break}}if(n==null)throw B7(e);return n}}class W7{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K7(t,e,r){let n=1,s=null,i=null,o=!1,a=0;function c(){return a===2}let d=!1;function h(...b){d||(d=!0,e.apply(null,b))}function f(b){s=setTimeout(()=>{s=null,t(y,c())},b)}function p(){i&&clearTimeout(i)}function y(b,...I){if(d){p();return}if(b){p(),h.call(null,b,...I);return}if(c()||o){p(),h.call(null,b,...I);return}n<64&&(n*=2);let E;a===1?(a=2,E=0):E=(n+Math.random())*1e3,f(E)}let k=!1;function _(b){k||(k=!0,p(),!d&&(s!==null?(b||(a=2),clearTimeout(s),f(0)):b||(a=1)))}return f(0),i=setTimeout(()=>{o=!0,_(!0)},r),_}function G7(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q7(t){return t!==void 0}function vb(t,e,r,n){if(n<e)throw xp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw xp(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y7(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function J7(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const s=e(n)+"="+e(t[n]);r=r+s+"&"}return r=r.slice(0,-1),r}var Li;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Li||(Li={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X7(t,e){const r=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return r||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z7{constructor(e,r,n,s,i,o,a,c,d,h,f,p=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,k)=>{this.resolve_=y,this.reject_=k,this.start_()})}start_(){const e=(n,s)=>{if(s){n(!1,new Wc(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const c=a.loaded,d=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Li.NO_ERROR,c=i.getStatus();if(!a||X7(c,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===Li.ABORT;n(!1,new Wc(!1,null,h));return}const d=this.successCodes_.indexOf(c)!==-1;n(!0,new Wc(d,i))})},r=(n,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());Q7(c)?i(c):i()}catch(c){o(c)}else if(a!==null){const c=O7();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(s.canceled){const c=this.appDelete_?C2():j7();o(c)}else{const c=U7();o(c)}};this.canceled_?r(!1,new Wc(!1,null,!0)):this.backoffId_=K7(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&G7(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Wc{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function eO(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function tO(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function rO(t,e){e&&(t["X-Firebase-GMPID"]=e)}function nO(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function sO(t,e,r,n,s,i,o=!0){const a=J7(t.urlParams),c=t.url+a,d=Object.assign({},t.headers);return rO(d,e),eO(d,r),tO(d,i),nO(d,n),new Z7(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function oO(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function aO(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class lO{constructor(e,r,n,s){this.url=e,this.method=r,this.handler=n,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function cO(t){function e(r,n){let s;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?s=L7():s=V7():r.getStatus()===402?s=M7(t.bucket):r.getStatus()===403?s=F7(t.path):s=n,s.status=r.getStatus(),s.serverResponse=n.serverResponse,s}return e}function uO(t){const e=cO(t);function r(n,s){let i=e(n,s);return n.getStatus()===404&&(i=D7(t.path)),i.serverResponse=s.serverResponse,i}return r}function dO(t,e){const r=e.fullServerUrl(),n=Y7(r,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(c,d){}const a=new lO(n,s,o,i);return a.successCodes=[200,204],a.errorHandler=uO(e),a}class hO{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Li.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Li.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Li.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,s){if(this.sent_)throw Na("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Na("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Na("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Na("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Na("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class fO extends hO{initXhr(){this.xhr_.responseType="text"}}function pO(){return new fO}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,r){this._service=e,r instanceof yn?this._location=r:this._location=yn.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new Gi(e,r)}get root(){const e=new yn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return aO(this._location.path)}get storage(){return this._service}get parent(){const e=iO(this._location.path);if(e===null)return null;const r=new yn(this._location.bucket,e);return new Gi(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw z7(e)}}function mO(t){t._throwIfRoot("deleteObject");const e=dO(t.storage,t._location);return t.storage.makeRequestWithTokens(e,pO)}function gO(t,e){const r=oO(t._location.path,e),n=new yn(t._location.bucket,r);return new Gi(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yO(t){return/^[A-Za-z]+:\/\//.test(t)}function vO(t,e){return new Gi(t,e)}function P2(t,e){if(t instanceof Eg){const r=t;if(r._bucket==null)throw H7();const n=new Gi(r,r._bucket);return e!=null?P2(n,e):n}else return e!==void 0?gO(t,e):t}function bO(t,e){if(e&&yO(e)){if(t instanceof Eg)return vO(t,e);throw xp("To use ref(service, url), the first argument must be a Storage instance.")}else return P2(t,e)}function bb(t,e){const r=e==null?void 0:e[S2];return r==null?null:yn.makeFromBucketSpec(r,t)}function xO(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:s}=n;s&&(t._overrideAuthToken=typeof s=="string"?s:pk(s,t.app.options.projectId))}class Eg{constructor(e,r,n,s,i){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=A2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=N7,this._maxUploadRetryTime=$7,this._requests=new Set,s!=null?this._bucket=yn.makeFromBucketSpec(s,this._host):this._bucket=bb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=yn.makeFromBucketSpec(this._url,e):this._bucket=bb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){vb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){vb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Gi(this,e)}_makeRequest(e,r,n,s,i=!0){if(this._deleted)return new W7(C2());{const o=sO(e,this._appId,n,s,r,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[n,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,s).getPromise()}}const xb="@firebase/storage",_b="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="storage";function _O(t){return t=vt(t),mO(t)}function kO(t,e){return t=vt(t),bO(t,e)}function N2(t=ca(),e){t=vt(t);const n=vs(t,R2).getImmediate({identifier:e}),s=Tm("storage");return s&&wO(n,...s),n}function wO(t,e,r,n={}){xO(t,e,r,n)}function EO(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Eg(r,n,s,e,no)}function IO(){xn(new an(R2,EO,"PUBLIC").setMultipleInstances(!0)),Cr(xb,_b,""),Cr(xb,_b,"esm2017")}IO();const TO=[{id:"1",name:"Diamond Engagement Ring",description:"Beautiful 1-carat diamond set in 18k rose gold with pavé band",price:2499.99,image:"https://images.unsplash.com/photo-1605100804763-247f67b3557e?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",category:"rings",metal:"rose-gold",tags:["luxury","new-arrivals"],inStock:!0},{id:"2",name:"Pearl Pendant Necklace",description:"Elegant freshwater pearl pendant on sterling silver chain",price:89.99,image:"https://images.unsplash.com/photo-1599643478518-a784e5dc4c8f?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",category:"necklaces",metal:"silver",tags:["under-100","trending"],inStock:!0},{id:"3",name:"Gold Hoop Earrings",description:"Classic 14k gold hoop earrings, perfect for everyday wear",price:349.99,image:"https://images.unsplash.com/photo-1610694955371-d4a3f5146182?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",category:"earrings",metal:"gold",tags:["100-500","trending"],inStock:!0},{id:"4",name:"Platinum Wedding Band",description:"Simple and elegant platinum wedding band with matte finish",price:899.99,image:"https://images.unsplash.com/photo-1575224526797-5730d09d781d?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",category:"rings",metal:"platinum",tags:["500-1000","luxury"],inStock:!0},{id:"5",name:"Silver Charm Bracelet",description:"Adjustable sterling silver bracelet with various charms",price:129.99,image:"https://images.unsplash.com/photo-1618019309815-e5698a9a900a?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",category:"bracelets",metal:"silver",tags:["100-500","trending"],inStock:!0},{id:"6",name:"Luxury Diamond Watch",description:"Premium watch with diamond accents and leather strap",price:3299.99,image:"https://images.unsplash.com/photo-1587836374828-4dbafa94cf0e?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",category:"watches",metal:"gold",tags:["1000-plus","luxury","new-arrivals"],inStock:!0},{id:"7",name:"Rose Gold Tennis Bracelet",description:"Stunning rose gold tennis bracelet with cubic zirconia stones",price:799.99,image:"https://images.unsplash.com/photo-1602173574767-37ac01994b2c?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",category:"bracelets",metal:"rose-gold",tags:["500-1000","new-arrivals"],inStock:!0},{id:"8",name:"Silver Drop Earrings",description:"Elegant sterling silver drop earrings with blue topaz",price:79.99,image:"https://images.unsplash.com/photo-1600721391689-2564bb8055de?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",category:"earrings",metal:"silver",tags:["under-100","sale"],inStock:!0},{id:"9",name:"Platinum Diamond Necklace",description:"Exquisite platinum necklace with 2-carat diamond pendant",price:4999.99,image:"https://images.unsplash.com/photo-1608043152269-423dbba4e7e1?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",category:"necklaces",metal:"platinum",tags:["1000-plus","luxury"],inStock:!0}],$a={products:TO},AO=[{id:"default-1",name:"Classic Pearl Necklace",description:"Elegant freshwater pearl necklace, perfect for any occasion.",price:129.99,image:"https://via.placeholder.com/400x400?text=Pearl+Necklace",category:"necklaces",material:"Freshwater pearls",beadSize:"8mm",length:"18 inches",closure:"Silver lobster clasp"},{id:"default-2",name:"Amethyst Beaded Bracelet",description:"Stunning amethyst beads with sterling silver accents.",price:79.99,image:"https://via.placeholder.com/400x400?text=Amethyst+Bracelet",category:"bracelets",material:"Amethyst",beadSize:"6mm",length:"7.5 inches",closure:"Toggle clasp"}],Co={getProducts(){return new Promise(t=>{setTimeout(()=>{const e=$a!=null&&$a.products&&$a.products.length>0?$a.products:AO;t(e)},500)})},getProductById(t){return new Promise(async(e,r)=>{try{const n=await this.getProducts(),s=String(t).toLowerCase();let i=n.find(o=>String(o.id).toLowerCase()===s||String(o.id).toLowerCase().includes(s)||s.includes(String(o.id).toLowerCase()));!i&&n.length>0&&(console.warn(`Product with ID ${t} not found. Using first product as fallback.`),i=n[0]),i?e(i):r(new Error(`Product with ID ${t} not found and no fallbacks available`))}catch(n){r(n)}})},getProduct(t){return this.getProductById(t)},getAllProducts(){return this.getProducts()}},Rs={email:"admin@beabedart.com",password:"Admin@123!",userData:{firstName:"System",lastName:"Administrator",isAdmin:!0,isSuperAdmin:!0,createdAt:new Date}},SO={apiKey:"AIzaSyBPm5bQCfdebLEJlhI_75ytU8eZ_XMhhhs",authDomain:"beadingart-ca4ba.firebaseapp.com",projectId:"beadingart-ca4ba",storageBucket:"beadingart-ca4ba.firebasestorage.app",messagingSenderId:"589402844834",appId:"1:589402844834:web:65a0e51343ab650fc071fb"},$2=Sm(SO),tt=f2($2),CO=N2($2),Ue={async createUserProfile(t,e){const r=xr(tt,"users",t),n={...e,isAdmin:!!e.isAdmin,createdAt:Gt(),adminUpdatedAt:Gt()};await zc(r,n),console.log("Created user profile with admin status:",n.isAdmin)},async getUserProfile(t){try{const e=xr(tt,"users",t),r=await bi(e),n=xr(tt,"users","default-admin"),s=await bi(n);if(s.exists()&&s.data().uid===t)return{...s.data(),id:t,isAdmin:!0,isSuperAdmin:!0};if(!r.exists()){const o=localStorage.getItem("userIsAdmin")==="true";return console.log("No user profile found, using stored admin status:",o),o?(await this.createUserProfile(t,{isAdmin:!0}),{id:t,isAdmin:!0}):null}const i=r.data();return i.isAdmin=!!i.isAdmin,i.isAdmin&&localStorage.setItem("userIsAdmin","true"),{id:t,...i,isAdmin:i.isAdmin}}catch(e){console.error("Error getting user profile:",e);const r=localStorage.getItem("userIsAdmin")==="true";return{id:t,isAdmin:r}}},async updateUserProfile(t,e){const r=xr(tt,"users",t);await zc(r,e,{merge:!0})},async setUserAdminStatus(t,e){try{const r=xr(tt,"users","default-admin"),n=await bi(r);if(n.exists()&&n.data().uid===t)return console.warn("Cannot modify super admin status"),!1;const s=xr(tt,"users",t);return await To(s,{isAdmin:!!e,updatedAt:Gt(),adminUpdatedAt:Gt()}),console.log(`Updated admin status for user ${t} to:`,e),!0}catch(r){throw console.error("Error updating admin status:",r),r}},async submitVariantRequest(t){try{const e=Ut(tt,"variantRequests"),r={productId:t.productId,productName:t.productName,suggestion:t.suggestion,requestedColors:t.colors||[],userId:t.userId||null,userEmail:t.userEmail||"Anonymous",status:"pending",createdAt:Gt(),updatedAt:Gt()};return{id:(await Os(e,r)).id,...r}}catch(e){throw console.error("Error submitting variant request:",e),e}},async getVariantRequests(){try{const t=Ut(tt,"variantRequests"),e=Xn(t,Io("createdAt","desc"));return(await Xr(e)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){throw console.error("Error getting variant requests:",t),t}},async submitCustomDesign(t){try{const e=Ut(tt,"customDesigns"),r={...t,status:"pending",createdAt:Gt(),updatedAt:Gt()};return{id:(await Os(e,r)).id,...r}}catch(e){throw console.error("Error submitting custom design request:",e),e}},async getProducts(){try{const t=Ut(tt,"products"),e=await Xr(t);if(e.empty)throw new Error("No products found");return e.docs.map(r=>({id:r.id,...r.data()}))}catch{return console.log("Firebase: falling back to mock data for all products"),Co.getProducts()}},async getFeaturedProducts(t=4){try{const e=Ut(tt,"products"),r=Xn(e,Ei("featured","==",!0),Io("createdAt","desc")),n=await Xr(r);return n.empty?Co.getFeaturedProducts(t):n.docs.map(s=>({id:s.id,...s.data()})).slice(0,t)}catch{return console.log("Firebase: falling back to mock data for featured products"),Co.getFeaturedProducts(t)}},async getProduct(t){try{const e=xr(tt,"products",t),r=await bi(e);if(!r.exists())throw new Error(`Product with ID: ${t} not found`);let n=r.data();return n.variants||(n.variants=[{name:"Default",colors:["#ffffff","#000000"]}]),{id:r.id,...n}}catch{return console.log(`Firebase: falling back to mock data for product ${t}`),Co.getProductById(t)}},async createProduct(t){try{const e=Gt(),n={...{materials:"",dimensions:"",careInstructions:`Store in a cool, dry place away from direct sunlight
Avoid contact with perfumes, lotions, and chemicals
Clean gently with a soft, lint-free cloth
Remove before swimming or bathing`,sizingAndFit:"Our standard bracelet length is 7.5 inches. Necklaces are available in 16, 18, and 20 inch lengths. Please contact us for custom sizing.",shippingInfo:"Handmade to order. Please allow 1-3 business days for production plus shipping time.",returnPolicy:"We accept returns within 14 days of delivery for unworn items in original packaging.",...t},createdAt:e,updatedAt:e},s=Ut(tt,"products");return{id:(await Os(s,n)).id,...n}}catch(e){throw console.error("Error creating product:",e),e}},async updateProduct(t,e){try{const r=xr(tt,"products",t),n={...e,updatedAt:Gt()};return await To(r,n),{id:t,...n}}catch(r){throw console.error(`Error updating product ${t}:`,r),r}},async deleteProduct(t){try{const e=xr(tt,"products",t),r=await bi(e);if(!r.exists())throw new Error(`Product with ID: ${t} not found`);const n=r.data();if(await yb(e),n.images&&Array.isArray(n.images)){const s=n.images.filter(i=>i.startsWith("gs://")||i.includes("firebasestorage.googleapis.com"));for(const i of s)try{let o=i;if(i.includes("firebasestorage.googleapis.com")){const d=new URL(i).pathname.match(/\/o\/(.+)\?/);if(d&&d[1])o=decodeURIComponent(d[1]);else{console.warn(`Could not extract path from URL: ${i}`);continue}}const a=kO(CO,o);await _O(a)}catch(o){console.warn(`Failed to delete image ${i}:`,o)}}return!0}catch(e){throw console.error(`Error deleting product ${t}:`,e),e}},async uploadProductImage(t){try{const r=`${Date.now()}_${t.name}`,n=await this.resizeImage(t,{maxWidth:800,maxHeight:800,quality:.85});if(n.size>500*1024){const s=await this.resizeImage(t,{maxWidth:600,maxHeight:600,quality:.7});if(s.size>500*1024)throw new Error("Image still too large after resizing. Please use a smaller image or reduce its quality.");return this.blobToBase64(s)}return this.blobToBase64(n)}catch(e){throw console.error("Error processing image:",e),new Error(`Failed to process image: ${e.message||"Unknown error"}`)}},blobToBase64(t){return new Promise((e,r)=>{const n=new FileReader;n.onload=()=>{const s=n.result;e(`base64://${s}`)},n.onerror=()=>{r(new Error("Failed to read the image file"))},n.readAsDataURL(t)})},resizeImage(t,e={}){const{maxWidth:r=800,maxHeight:n=800,quality:s=.85}=e;return new Promise((i,o)=>{const a=new FileReader;a.onload=c=>{const d=new Image;d.onload=()=>{let h=d.width,f=d.height;h>r&&(f=Math.round(f*(r/h)),h=r),f>n&&(h=Math.round(h*(n/f)),f=n);const p=document.createElement("canvas");p.width=h,p.height=f,p.getContext("2d").drawImage(d,0,0,h,f);let k=t.type;["image/jpeg","image/png","image/webp"].includes(k)||(k="image/jpeg"),p.toBlob(_=>{_?i(_):o(new Error("Failed to create image blob"))},k,s)},d.onerror=()=>{o(new Error("Failed to load image"))},d.src=c.target.result},a.onerror=()=>{o(new Error("Failed to read file"))},a.readAsDataURL(t)})},async getCategories(){try{const t=Ut(tt,"categories");return(await Xr(t)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){return console.error("Error getting categories:",t),[{id:"beaded",name:"Beaded Jewelry",slug:"beaded-jewelry"},{id:"string",name:"String Jewelry",slug:"string-jewelry"},{id:"metal",name:"Metal Jewelry",slug:"metal-jewelry"},{id:"gemstones",name:"Gemstones",slug:"gemstones"},{id:"earrings",name:"Earrings",slug:"earrings"},{id:"necklaces",name:"Necklaces",slug:"necklaces"},{id:"bracelets",name:"Bracelets",slug:"bracelets"},{id:"rings",name:"Rings",slug:"rings"}]}},async createCategory(t){try{const e=Ut(tt,"categories");return{id:(await Os(e,{...t,createdAt:Gt()})).id,...t}}catch(e){throw console.error("Error creating category:",e),e}},async getAllUsers(){try{const t=Ut(tt,"users");return(await Xr(t)).docs.map(r=>{var n;return{id:r.id,...r.data(),createdAt:((n=r.data().createdAt)==null?void 0:n.toDate())||new Date}})}catch(t){throw console.error("Error getting all users:",t),t}},async updateUser(t,e){try{const r=xr(tt,"users",t);return await To(r,{...e,updatedAt:Gt()}),!0}catch(r){throw console.error("Error updating user:",r),r}},async deleteUser(t){try{const e=xr(tt,"users",t);return await yb(e),!0}catch(e){throw console.error("Error deleting user:",e),e}},async createOrder(t){try{const e=Gt(),r={...t,createdAt:e,orderDate:t.orderDate||e,status:t.status||"processing",items:Array.isArray(t.items)?t.items:[]};console.log("Creating order with data:",r);const n=Ut(tt,"orders");return await Os(n,r)}catch(e){throw console.error("Error creating order:",e),e}},async getUserOrders(t){try{const e=Ut(tt,"orders"),r=Xn(e,Ei("userId","==",t),Io("createdAt","desc")),n=await Xr(r);return n.empty?(console.log(`No orders found for user: ${t}`),[]):n.docs.map(s=>({id:s.id,...s.data()}))}catch(e){if(e.code==="failed-precondition"){console.warn("Creating required index for orders query...");const r=Ut(tt,"orders"),n=Xn(r,Ei("userId","==",t));return(await Xr(n)).docs.map(i=>({id:i.id,...i.data()}))}throw e}},async getAllOrders(){try{const t=Ut(tt,"orders");let e;try{const n=Xn(t,Io("createdAt","desc"));e=await Xr(n)}catch(n){console.warn("Index error, using fallback query:",n),e=await Xr(t)}return await Promise.all(e.docs.map(async n=>{const s=n.data();let i=s.email,o="";if(s.userId)try{const c=await this.getUserProfile(s.userId);i=i||(c==null?void 0:c.email),(c!=null&&c.firstName||c!=null&&c.lastName)&&(o=`${c.firstName||""} ${c.lastName||""}`.trim())}catch(c){console.warn(`Could not fetch details for user ${s.userId}:`,c)}(s.firstName||s.lastName)&&(o=`${s.firstName||""} ${s.lastName||""}`.trim());let a=[];return Array.isArray(s.items)&&(a=await Promise.all(s.items.map(async c=>{var d;if(c.productId)try{const h=await this.getProduct(c.productId);return{...c,name:h.name||c.name||"Product Not Found",image:((d=h.images)==null?void 0:d[0])||c.image||"/assets/placeholder.jpg"}}catch(h){return console.warn(`Could not fetch product details for ${c.productId}:`,h),c}return c}))),{id:n.id,...s,items:a,customerName:o||"N/A",email:i||"N/A",orderNumber:s.orderNumber||`ORD-${n.id.substring(0,6)}`,status:s.status||"processing"}}))}catch(t){return console.error("Error getting all orders:",t),[]}},async updateOrderStatus(t,e){try{const r=xr(tt,"orders",t);return await To(r,{status:e,updatedAt:Gt()}),!0}catch(r){throw console.error(`Error updating order ${t}:`,r),r}},getFirestore(){return tt},getCollection(t){return Ut(tt,t)},async getDocuments(t){return await Xr(t)},async seedDefaultAdmin(){try{const t=Hi(),e=xr(tt,"users","default-admin");if(!(await bi(e)).exists())try{const n=await Kk(t,Rs.email,Rs.password);await zc(e,{...Rs.userData,uid:n.user.uid,email:Rs.email,adminCreatedAt:Gt()}),console.log("Default admin account created successfully")}catch(n){if(n.code==="auth/email-already-in-use"){const{user:s}=await Gk(t,Rs.email,Rs.password);await zc(e,{...Rs.userData,uid:s.uid,email:Rs.email,adminCreatedAt:Gt()},{merge:!0}),console.log("Default admin profile updated")}else throw n}return!0}catch(t){throw console.error("Error seeding default admin:",t),t}},async subscribeToNewsletter(t,e){try{const r=Ut(tt,"newsletters"),n=Xn(r,Ei("email","==",t));if(!(await Xr(n)).empty)return{success:!1,message:"This email is already subscribed."};const i={email:t,name:e||"",subscriptionDate:Gt(),status:"active"};return{success:!0,message:"Subscription successful!",id:(await Os(r,i)).id}}catch(r){throw console.error("Error subscribing to newsletter:",r),r}},async recordUserCookieConsent(t,e){try{const r=Ut(tt,"cookieConsents");await Os(r,{userId:t,...e,createdAt:Gt()});const n=xr(tt,"users",t);return(await bi(n)).exists()&&await To(n,{cookiePreferences:{necessary:e.necessary,functional:e.functional,analytics:e.analytics,marketing:e.marketing,lastUpdated:e.lastUpdated||new Date().toISOString()}}),!0}catch(r){return console.error("Error recording cookie consent:",r),!1}},async getUserCookieConsentHistory(t){try{const e=Ut(tt,"cookieConsents"),r=Xn(e,Ei("userId","==",t),Io("createdAt","desc"));return(await Xr(r)).docs.map(s=>({id:s.id,...s.data()}))}catch(e){return console.error("Error getting cookie consent history:",e),[]}},async deleteUserCookieConsent(t){try{const e=Ut(tt,"cookieConsents"),r=Xn(e,Ei("userId","==",t)),n=await Xr(r),s=R7(tt);return n.forEach(i=>{s.delete(i.ref)}),await s.commit(),!0}catch(e){return console.error("Error deleting cookie consent data:",e),!1}}},PO="modulepreload",RO=function(t){return"/"+t},kb={},af=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=RO(c),c in kb)return;kb[c]=!0;const d=c.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":PO,d||(f.as="script"),f.crossOrigin="",f.href=c,a&&f.setAttribute("nonce",a),document.head.appendChild(f),d)return new Promise((p,y)=>{f.addEventListener("load",p),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},O2="@firebase/installations",Ig="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=1e4,M2=`w:${Ig}`,V2="FIS_v2",NO="https://firebaseinstallations.googleapis.com/v1",$O=60*60*1e3,OO="installations",DO="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Qi=new ro(OO,DO,MO);function L2(t){return t instanceof kn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2({projectId:t}){return`${NO}/projects/${t}/installations`}function U2(t){return{token:t.token,requestStatus:2,expiresIn:LO(t.expiresIn),creationTime:Date.now()}}async function j2(t,e){const n=(await e.json()).error;return Qi.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function B2({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function VO(t,{refreshToken:e}){const r=B2(t);return r.append("Authorization",FO(e)),r}async function q2(t){const e=await t();return e.status>=500&&e.status<600?t():e}function LO(t){return Number(t.replace("s","000"))}function FO(t){return`${V2} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UO({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=F2(t),s=B2(t),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={fid:r,authVersion:V2,appId:t.appId,sdkVersion:M2},a={method:"POST",headers:s,body:JSON.stringify(o)},c=await q2(()=>fetch(n,a));if(c.ok){const d=await c.json();return{fid:d.fid||r,registrationStatus:2,refreshToken:d.refreshToken,authToken:U2(d.authToken)}}else throw await j2("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=/^[cdef][\w-]{21}$/,_p="";function qO(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=HO(t);return BO.test(r)?r:_p}catch{return _p}}function HO(t){return jO(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=new Map;function W2(t,e){const r=nh(t);K2(r,e),zO(r,e)}function K2(t,e){const r=z2.get(t);if(r)for(const n of r)n(e)}function zO(t,e){const r=WO();r&&r.postMessage({key:t,fid:e}),KO()}let Pi=null;function WO(){return!Pi&&"BroadcastChannel"in self&&(Pi=new BroadcastChannel("[Firebase] FID Change"),Pi.onmessage=t=>{K2(t.data.key,t.data.fid)}),Pi}function KO(){z2.size===0&&Pi&&(Pi.close(),Pi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GO="firebase-installations-database",QO=1,Yi="firebase-installations-store";let lf=null;function Tg(){return lf||(lf=xk(GO,QO,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Yi)}}})),lf}async function ed(t,e){const r=nh(t),s=(await Tg()).transaction(Yi,"readwrite"),i=s.objectStore(Yi),o=await i.get(r);return await i.put(e,r),await s.done,(!o||o.fid!==e.fid)&&W2(t,e.fid),e}async function G2(t){const e=nh(t),n=(await Tg()).transaction(Yi,"readwrite");await n.objectStore(Yi).delete(e),await n.done}async function sh(t,e){const r=nh(t),s=(await Tg()).transaction(Yi,"readwrite"),i=s.objectStore(Yi),o=await i.get(r),a=e(o);return a===void 0?await i.delete(r):await i.put(a,r),await s.done,a&&(!o||o.fid!==a.fid)&&W2(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ag(t){let e;const r=await sh(t.appConfig,n=>{const s=YO(n),i=JO(t,s);return e=i.registrationPromise,i.installationEntry});return r.fid===_p?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function YO(t){const e=t||{fid:qO(),registrationStatus:0};return Q2(e)}function JO(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Qi.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=XO(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:ZO(t)}:{installationEntry:e}}async function XO(t,e){try{const r=await UO(t,e);return ed(t.appConfig,r)}catch(r){throw L2(r)&&r.customData.serverCode===409?await G2(t.appConfig):await ed(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function ZO(t){let e=await wb(t.appConfig);for(;e.registrationStatus===1;)await H2(100),e=await wb(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await Ag(t);return n||r}return e}function wb(t){return sh(t,e=>{if(!e)throw Qi.create("installation-not-found");return Q2(e)})}function Q2(t){return eD(t)?{fid:t.fid,registrationStatus:0}:t}function eD(t){return t.registrationStatus===1&&t.registrationTime+D2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tD({appConfig:t,heartbeatServiceProvider:e},r){const n=rD(t,r),s=VO(t,r),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={installation:{sdkVersion:M2,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},c=await q2(()=>fetch(n,a));if(c.ok){const d=await c.json();return U2(d)}else throw await j2("Generate Auth Token",c)}function rD(t,{fid:e}){return`${F2(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sg(t,e=!1){let r;const n=await sh(t.appConfig,i=>{if(!Y2(i))throw Qi.create("not-registered");const o=i.authToken;if(!e&&iD(o))return i;if(o.requestStatus===1)return r=nD(t,e),i;{if(!navigator.onLine)throw Qi.create("app-offline");const a=aD(i);return r=sD(t,a),a}});return r?await r:n.authToken}async function nD(t,e){let r=await Eb(t.appConfig);for(;r.authToken.requestStatus===1;)await H2(100),r=await Eb(t.appConfig);const n=r.authToken;return n.requestStatus===0?Sg(t,e):n}function Eb(t){return sh(t,e=>{if(!Y2(e))throw Qi.create("not-registered");const r=e.authToken;return lD(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function sD(t,e){try{const r=await tD(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await ed(t.appConfig,n),r}catch(r){if(L2(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await G2(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ed(t.appConfig,n)}throw r}}function Y2(t){return t!==void 0&&t.registrationStatus===2}function iD(t){return t.requestStatus===2&&!oD(t)}function oD(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+$O}function aD(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function lD(t){return t.requestStatus===1&&t.requestTime+D2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cD(t){const e=t,{installationEntry:r,registrationPromise:n}=await Ag(e);return n?n.catch(console.error):Sg(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uD(t,e=!1){const r=t;return await dD(r),(await Sg(r,e)).token}async function dD(t){const{registrationPromise:e}=await Ag(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(t){if(!t||!t.options)throw cf("App Configuration");if(!t.name)throw cf("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw cf(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function cf(t){return Qi.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="installations",fD="installations-internal",pD=t=>{const e=t.getProvider("app").getImmediate(),r=hD(e),n=vs(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},mD=t=>{const e=t.getProvider("app").getImmediate(),r=vs(e,J2).getImmediate();return{getId:()=>cD(r),getToken:s=>uD(r,s)}};function gD(){xn(new an(J2,pD,"PUBLIC")),xn(new an(fD,mD,"PRIVATE"))}gD();Cr(O2,Ig);Cr(O2,Ig,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td="analytics",yD="firebase_id",vD="origin",bD=60*1e3,xD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Cg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gr=new Md("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _D={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},on=new ro("analytics","Analytics",_D);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(t){if(!t.startsWith(Cg)){const e=on.create("invalid-gtag-resource",{gtagURL:t});return Gr.warn(e.message),""}return t}function X2(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function wD(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function ED(t,e){const r=wD("firebase-js-sdk-policy",{createScriptURL:kD}),n=document.createElement("script"),s=`${Cg}?l=${t}&id=${e}`;n.src=r?r==null?void 0:r.createScriptURL(s):s,n.async=!0,document.head.appendChild(n)}function ID(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function TD(t,e,r,n,s,i){const o=n[s];try{if(o)await e[o];else{const c=(await X2(r)).find(d=>d.measurementId===s);c&&await e[c.appId]}}catch(a){Gr.error(a)}t("config",s,i)}async function AD(t,e,r,n,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await X2(r);for(const c of o){const d=a.find(f=>f.measurementId===c),h=d&&e[d.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",n,s||{})}catch(i){Gr.error(i)}}function SD(t,e,r,n){async function s(i,...o){try{if(i==="event"){const[a,c]=o;await AD(t,e,r,a,c)}else if(i==="config"){const[a,c]=o;await TD(t,e,r,n,a,c)}else if(i==="consent"){const[a,c]=o;t("consent",a,c)}else if(i==="get"){const[a,c,d]=o;t("get",a,c,d)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){Gr.error(a)}}return s}function CD(t,e,r,n,s){let i=function(...o){window[n].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=SD(i,t,e,r),{gtagCore:i,wrappedGtag:window[s]}}function PD(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(Cg)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD=30,ND=1e3;class $D{constructor(e={},r=ND){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Z2=new $D;function OD(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function DD(t){var e;const{appId:r,apiKey:n}=t,s={method:"GET",headers:OD(n)},i=xD.replace("{app-id}",r),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const c=await o.json();!((e=c.error)===null||e===void 0)&&e.message&&(a=c.error.message)}catch{}throw on.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function MD(t,e=Z2,r){const{appId:n,apiKey:s,measurementId:i}=t.options;if(!n)throw on.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:n};throw on.create("no-api-key")}const o=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new FD;return setTimeout(async()=>{a.abort()},bD),eE({appId:n,apiKey:s,measurementId:i},o,a,e)}async function eE(t,{throttleEndTimeMillis:e,backoffCount:r},n,s=Z2){var i;const{appId:o,measurementId:a}=t;try{await VD(n,e)}catch(c){if(a)return Gr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw c}try{const c=await DD(t);return s.deleteThrottleMetadata(o),c}catch(c){const d=c;if(!LD(d)){if(s.deleteThrottleMetadata(o),a)return Gr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:o,measurementId:a};throw c}const h=Number((i=d==null?void 0:d.customData)===null||i===void 0?void 0:i.httpStatus)===503?tv(r,s.intervalMillis,RD):tv(r,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:r+1};return s.setThrottleMetadata(o,f),Gr.debug(`Calling attemptFetch again in ${h} millis`),eE(t,f,n,s)}}function VD(t,e){return new Promise((r,n)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(r,s);t.addEventListener(()=>{clearTimeout(i),n(on.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function LD(t){if(!(t instanceof kn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class FD{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function UD(t,e,r,n,s){if(s&&s.global){t("event",r,n);return}else{const i=await e,o=Object.assign(Object.assign({},n),{send_to:i});t("event",r,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jD(){if(gk())try{await yk()}catch(t){return Gr.warn(on.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Gr.warn(on.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function BD(t,e,r,n,s,i,o){var a;const c=MD(t);c.then(y=>{r[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&Gr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>Gr.error(y)),e.push(c);const d=jD().then(y=>{if(y)return n.getId()}),[h,f]=await Promise.all([c,d]);PD(i)||ED(i,h.measurementId),s("js",new Date);const p=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return p[vD]="firebase",p.update=!0,f!=null&&(p[yD]=f),s("config",h.measurementId,p),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qD{constructor(e){this.app=e}_delete(){return delete ll[this.app.options.appId],Promise.resolve()}}let ll={},Ib=[];const Tb={};let uf="dataLayer",HD="gtag",Ab,tE,Sb=!1;function zD(){const t=[];if(mk()&&t.push("This is a browser extension environment."),t3()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,s)=>`(${s+1}) ${n}`).join(" "),r=on.create("invalid-analytics-context",{errorInfo:e});Gr.warn(r.message)}}function WD(t,e,r){zD();const n=t.options.appId;if(!n)throw on.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Gr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw on.create("no-api-key");if(ll[n]!=null)throw on.create("already-exists",{id:n});if(!Sb){ID(uf);const{wrappedGtag:i,gtagCore:o}=CD(ll,Ib,Tb,uf,HD);tE=i,Ab=o,Sb=!0}return ll[n]=BD(t,Ib,Tb,e,Ab,uf,r),new qD(t)}function KD(t=ca()){t=vt(t);const e=vs(t,td);return e.isInitialized()?e.getImmediate():GD(t)}function GD(t,e={}){const r=vs(t,td);if(r.isInitialized()){const s=r.getImmediate();if(Tl(e,r.getOptions()))return s;throw on.create("already-initialized")}return r.initialize({options:e})}function QD(t,e,r,n){t=vt(t),UD(tE,ll[t.app.options.appId],e,r,n).catch(s=>Gr.error(s))}const Cb="@firebase/analytics",Pb="0.10.8";function YD(){xn(new an(td,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return WD(n,s,r)},"PUBLIC")),xn(new an("analytics-internal",t,"PRIVATE")),Cr(Cb,Pb),Cr(Cb,Pb,"esm2017");function t(e){try{const r=e.getProvider(td).getImmediate();return{logEvent:(n,s,i)=>QD(r,n,s,i)}}catch(r){throw on.create("interop-component-reg-failed",{reason:r})}}}YD();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e,r,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||e.get().then(s=>this.auth=s,()=>{}),this.messaging||r.get().then(s=>this.messaging=s,()=>{}),this.appCheck||n.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const r=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return r.error?null:r.token}return null}async getContext(e){const r=await this.getAuthToken(),n=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:r,messagingToken:n,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kp="us-central1";class XD{constructor(e,r,n,s,i=kp,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new JD(r,n,s),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(i);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=kp}catch{this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const r=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${r}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${r}.cloudfunctions.net/${e}`}}function ZD(t,e,r){t.emulatorOrigin=`http://${e}:${r}`}const Rb="@firebase/functions",Nb="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eM="auth-internal",tM="app-check-internal",rM="messaging-internal";function nM(t,e){const r=(n,{instanceIdentifier:s})=>{const i=n.getProvider("app").getImmediate(),o=n.getProvider(eM),a=n.getProvider(rM),c=n.getProvider(tM);return new XD(i,o,a,c,s,t)};xn(new an(rE,r,"PUBLIC").setMultipleInstances(!0)),Cr(Rb,Nb,e),Cr(Rb,Nb,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(t=ca(),e=kp){const n=vs(vt(t),rE).getImmediate({identifier:e}),s=Tm("functions");return s&&iM(n,...s),n}function iM(t,e,r){ZD(vt(t),e,r)}nM(fetch.bind(self));const oM={apiKey:"AIzaSyBPm5bQCfdebLEJlhI_75ytU8eZ_XMhhhs",authDomain:"beadingart-ca4ba.firebaseapp.com",projectId:"beadingart-ca4ba",storageBucket:"beadingart-ca4ba.firebasestorage.app",messagingSenderId:"589402844834",appId:"1:589402844834:web:65a0e51343ab650fc071fb",measurementId:"G-HM50GF0DN0"};let Ji;uP().length===0?(Ji=Sm(oM),console.log("Firebase initialized")):(Ji=ca(),console.log("Using existing Firebase app"));KD(Ji);const df=f2(Ji),hf=Hi(Ji);sM(Ji);N2(Ji);const en=Rd("notification",()=>{const t=B([]),e=B([]);let r=0,n=null;const s=B(!1),i=B(null),o=k=>{const _=r++;return t.value.push({id:_,type:"info",timeout:5e3,...k,timestamp:new Date}),k.timeout&&setTimeout(()=>{a(_)},k.timeout),_},a=k=>{const _=t.value.findIndex(b=>b.id===k);_!==-1&&t.value.splice(_,1)},c=async(k,_=null)=>{try{const b=hf.currentUser;if(!_&&b&&(_=b.uid),!_)return console.error("No user ID provided for notification"),null;const I={...k,userId:_,type:k.type||"info",read:!1,createdAt:Gt()},A=await Os(Ut(df,"notifications"),I);return o(k),A.id}catch(b){return console.error("Error adding notification:",b),o({title:"Error",message:"Failed to save notification",type:"error"}),null}},d=k=>{const _=k.message.match(/https:\/\/console\.firebase\.google\.com[^"'\s]+/);return _?_[0]:null};return{notifications:t,userNotifications:e,addNotification:o,removeNotification:a,addPersistedNotification:c,loadUserNotifications:(k=20)=>{try{const _=hf.currentUser;if(!_){console.log("No authenticated user to load notifications for"),e.value=[];return}if(n&&(n(),n=null),s.value){console.log("Skipping notification query because required index is missing");return}const b=Xn(Ut(df,"notifications"),Ei("userId","==",_.uid),Io("createdAt","desc"),T7(k));n=C7(b,I=>{e.value=I.docs.map(A=>{const E=A.data();return{id:A.id,...E,createdAt:E.createdAt instanceof Wt?E.createdAt.toDate():E.createdAt?new Date(E.createdAt):new Date}}),s.value&&(s.value=!1,i.value=null,console.log("Index is now available, notifications loaded successfully")),console.log("Loaded notifications:",e.value)},I=>{var A;console.error("Error loading notifications:",I),I.message.includes("The query requires an index")?(s.value=!0,i.value=d(I),console.log("Missing Firestore index. Please create the index at:",i.value),(A=hf.currentUser)!=null&&A.isAdmin&&o({title:"Database Setup Required",message:"The notification system needs a database index to be created. Please check the console for instructions.",type:"warning",timeout:1e4})):o({title:"Error",message:"Failed to load notifications",type:"error"})})}catch(_){console.error("Error setting up notifications listener:",_)}},markAsRead:async k=>{try{console.log("Marking notification as read:",k);const _=xr(df,"notifications",k);await To(_,{read:!0});const b=e.value.findIndex(I=>I.id===k);return b!==-1&&(e.value[b].read=!0),!0}catch(_){return console.error("Error marking notification as read:",_),o({title:"Error",message:"Failed to update notification",type:"error"}),!1}},cleanup:()=>{n&&(n(),n=null)},indexMissing:s,indexCreationUrl:i,openIndexCreationUrl:()=>i.value?(window.open(i.value,"_blank"),!0):!1}}),ao=Rd("cart",{state:()=>{const t=localStorage.getItem("cart");return{cart:t?JSON.parse(t):[],loading:!1}},getters:{itemCount:t=>t.cart.reduce((e,r)=>e+r.quantity,0),subtotal:t=>t.cart.reduce((e,r)=>e+r.price*r.quantity,0)},actions:{saveCartToStorage(){localStorage.setItem("cart",JSON.stringify(this.cart))},async addToCart(t,e=1){var n;const r=en();try{const s=this.cart.find(i=>i.id===t.id);s?(s.quantity+=e,r.addNotification({title:"Cart Updated",message:`Increased ${t.name} quantity by ${e}`,type:"success",timeout:3e3})):(this.cart.push({id:t.id,name:t.name,price:t.price,image:((n=t.images)==null?void 0:n[0])||t.image,quantity:e}),r.addNotification({title:"Added to Cart",message:`${e} ${t.name}${e>1?"s":""} added to cart`,type:"success",timeout:3e3})),this.saveCartToStorage()}catch(s){console.error("Error adding to cart:",s),r.addNotification({title:"Error",message:"Failed to add item to cart",type:"error",timeout:5e3})}},async updateQuantity(t,e){const r=en();try{const n=this.cart.find(s=>s.id===t);if(n){const s=n.quantity;n.quantity=e,r.addNotification({title:"Cart Updated",message:`Updated ${n.name} quantity from ${s} to ${e}`,type:"success",timeout:3e3}),this.saveCartToStorage()}}catch(n){console.error("Error updating quantity:",n),r.addNotification({title:"Error",message:"Failed to update item quantity",type:"error",timeout:5e3})}},async removeFromCart(t){const e=en();try{const r=this.cart.findIndex(n=>n.id===t);if(r>-1){const n=this.cart[r];this.cart.splice(r,1),e.addNotification({title:"Item Removed",message:`${n.name} has been removed from your cart`,type:"info",timeout:3e3}),this.saveCartToStorage()}}catch(r){console.error("Error removing from cart:",r),e.addNotification({title:"Error",message:"Failed to remove item from cart",type:"error",timeout:5e3})}},clearCart(){this.cart=[],localStorage.removeItem("cart")}}}),Ye=t=>`KES ${t.toFixed(2)}`,aM="/assets/main-DSLj9UsD.css",lM="/assets/placeholder-k9fHw5HI.jpg",nE="/";function sE(t){if(!t)return null;if(typeof t=="string"&&t.startsWith("base64://")){const e=t.replace("base64://","");return e.startsWith("data:")?e:`data:image/jpeg;base64,${e.replace(/^data:image\/(png|jpeg|jpg);base64,/,"")}`}return typeof t=="string"&&(t.startsWith("data:image/")||t.indexOf(";base64,")!==-1),t}function pt(t){const e=sE(t);if(e!==t)return e;if(!t)return new URL("/assets/placeholder-k9fHw5HI.jpg",import.meta.url).href;if(t.startsWith("http"))return t;const r=t.startsWith("/")?t.substring(1):t;try{return new URL(Object.assign({"../assets/main.css":aM,"../assets/placeholder.jpg":lM})[`../assets/${r}`],import.meta.url).href}catch{return`${nE}${r}`}}function fn(t){const e=sE(t);if(e!==t)return e;if(!t)return null;if(t.startsWith("http"))return t;const r=t.startsWith("/")?t.substring(1):t;return`${nE}${r}`}const jr=(t,e)=>{const r=t.__vccOpts||t;for(const[n,s]of e)r[n]=s;return r},cM={class:"group relative bg-light-primary dark:bg-dark-primary rounded-lg shadow hover:shadow-lg transition-all duration-300"},uM={class:"aspect-h-1 aspect-w-1 w-full overflow-hidden rounded-t-lg bg-light-neutral-100 dark:bg-dark-neutral-800"},dM=["src","alt"],hM={class:"p-4"},fM={class:"items-start"},pM={class:"text-light-text-primary dark:text-dark-text-primary text-lg font-medium hover:text-btn-primary"},mM={class:"text-light-text-secondary dark:text-dark-text-secondary text-sm"},gM={class:"mt-2 flex items-center justify-between"},yM={class:"text-lg font-medium text-purple-700 dark:text-accent-primary"},vM={class:"px-4 pb-4"},bM={__name:"ProductCard",props:{product:{type:Object,required:!0},processImageUrl:{type:Function,default:t=>t}},setup(t){const e=t,r=ao(),n=B(null),s=B(null),i=()=>{const d=pt("placeholder.jpg");if(e.product.images&&e.product.images.length>0){const h=e.product.images[0];if(typeof h=="string")return o(h);if(h.main)return o(h.main);if(h.url)return o(h.url)}return e.product.image?o(e.product.image):e.product.imageUrl?o(e.product.imageUrl):d},o=d=>d?typeof d=="string"&&d.startsWith("base64://")?d.replace("base64://",""):d:null,a=d=>{console.error("Image failed to load:",d.target.src),d.target.src=pt("placeholder.jpg"),d.target.onerror=function(){const h=d.target.parentNode;if(h){const f=document.createElement("div");f.innerHTML=`
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="100%" height="100%">
          <rect width="100%" height="100%" fill="#f0f0f0"/>
          <path d="M12 6v12M6 12h12" stroke="#aaa" stroke-width="2" stroke-linecap="round"/>
        </svg>
      `,f.className="broken-image",h.replaceChild(f,d.target)}}},c=async d=>{const h=event.target.getBoundingClientRect(),f=h.left+h.width/2,p=h.top+h.height/2,y=document.querySelector(".group-hover\\:text-gray-500")||document.querySelector('a[href="/cart"] svg');let k=window.innerWidth-60,_=20;if(y){const b=y.getBoundingClientRect();k=b.left+b.width/2,_=b.top+b.height/2}n.value=d,await ar(),s.value?(s.value.style.top=`${p}px`,s.value.style.left=`${f}px`,s.value.style.opacity="1",s.value.style.transform="scale(1)",setTimeout(()=>{s.value.style.top=`${_}px`,s.value.style.left=`${k}px`,s.value.style.opacity="0",s.value.style.transform="scale(0.3)"},50),setTimeout(()=>{r.addToCart(d,1),n.value=null},600)):r.addToCart(d,1)};return(d,h)=>{var p,y;const f=Rr("router-link");return D(),V("div",cM,[n.value?(D(),V("div",{key:0,class:"cart-animation fixed pointer-events-none z-50",ref_key:"cartAnimationEl",ref:s,style:Ct({backgroundImage:`url(${((p=n.value)==null?void 0:p.imageUrl)||((y=n.value)==null?void 0:y.image)})`})},null,4)):de("",!0),z(f,{to:`/product/${t.product.id}`,class:"cursor-pointer block"},{default:Z(()=>[l("div",uM,[l("img",{src:i(),alt:t.product.name,class:"h-60 w-full object-cover object-center group-hover:opacity-90",onError:a},null,40,dM)]),l("div",hM,[l("div",fM,[l("h3",pM,H(t.product.name),1),l("p",mM,H(t.product.category),1),l("div",gM,[l("p",yM,H(q(Ye)(t.product.price)),1)])])])]),_:1},8,["to"]),l("div",vM,[l("button",{onClick:h[0]||(h[0]=k=>c(t.product)),class:"w-full bg-btn-primary hover:bg-btn-primary-hover active:bg-btn-primary-dark text-white py-2 rounded-btn shadow-btn hover:shadow-btn-hover transition-btn text-sm font-medium"}," Add to cart ")])])}}},iE=jr(bM,[["__scopeId","data-v-3d7a655a"]]),xM={class:"min-h-screen bg-light-primary dark:bg-dark-primary"},_M={class:"relative overflow-hidden bg-light-secondary dark:bg-dark-secondary"},kM={class:"pt-16 pb-80 sm:pt-24 sm:pb-40 lg:pt-40 lg:pb-48"},wM={class:"relative mx-auto max-w-7xl px-4 sm:static sm:px-6 lg:px-8"},EM={class:"sm:max-w-lg fade-slide-up"},IM={class:"text-2xl sm:text-4xl font-bold tracking-tight text-light-text-primary dark:text-dark-text-primary"},TM={class:"animated-text-wrapper"},AM={class:"mt-6 block lg:hidden"},SM={class:"mt-10"},CM={class:"py-16 bg-light-primary dark:bg-dark-primary w-full"},PM={class:"w-full px-4 sm:px-6 lg:px-8 max-w-none mx-auto"},RM={class:"max-w-7xl mx-auto"},NM={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"},$M=["src","alt"],OM={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-300 flex flex-col justify-center items-center p-6"},DM={class:"text-center transform translate-y-8 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-500"},MM={class:"text-white text-2xl font-bold mb-2"},VM={class:"text-white text-sm mb-4"},LM={class:"bg-light-secondary dark:bg-dark-secondary py-16"},FM={class:"container mx-auto px-4"},UM={class:"flex justify-between items-center mb-10 fade-slide-up"},jM={key:0,class:"flex justify-center py-12"},BM={key:1,class:"text-center py-12"},qM={key:2,class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-6"},HM={class:"bg-light-secondary dark:bg-dark-secondary"},zM={class:"mx-auto grid max-w-2xl grid-cols-1 items-center gap-x-8 gap-y-16 px-4 py-24 sm:px-6 sm:py-32 lg:max-w-7xl lg:grid-cols-2 lg:px-8"},WM={class:"mt-16 grid grid-cols-1 gap-x-6 gap-y-10 sm:grid-cols-2 sm:gap-y-16 lg:gap-x-8"},KM={class:"font-medium text-light-text-primary dark:text-dark-text-primary"},GM={class:"mt-2 text-sm text-light-text-secondary dark:text-dark-text-secondary"},QM={class:"grid grid-cols-2 grid-rows-2 gap-4 sm:gap-6 lg:gap-8"},YM=["src"],JM=["src"],XM=["src"],ZM=["src"],eV={class:"relative py-16 overflow-hidden"},tV={class:"mx-auto max-w-2xl lg:max-w-7xl px-4 sm:px-6 lg:px-8"},rV={class:"bg-gradient-to-r from-accent-quaternary to-accent-secondary rounded-xl shadow-xl overflow-hidden"},nV={class:"relative py-10 px-6 md:px-10"},sV={class:"flex flex-col md:flex-row gap-8"},iV={class:"w-full md:w-1/2"},oV={class:"bg-white rounded-xl shadow-md p-6"},aV={class:"relative"},lV={class:"relative"},cV={class:"pt-2"},uV=["disabled"],dV={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},hV={__name:"HomeView",setup(t){const e=R=>R?typeof R=="string"&&R.startsWith("base64://")?R.replace("base64://",""):(typeof R=="string"&&R.includes("firebasestorage.googleapis.com"),R):"https://via.placeholder.com/300x300?text=No+Image",r=R=>{console.error("Image failed to load:",R.target.src),R.target.src=pt("placeholder.jpg"),R.target.onerror=function(){const S=R.target.parentNode;if(S){const L=document.createElement("div");L.innerHTML=`
        <svg xmlns="http://www.w3.org/200/svg" viewBox="0 0 24 24" width="100%" height="100%">
          <rect width="100%" height="100%" fill="#f0f0f0"/>
          <path d="M12 6v12M6 12h12" stroke="#aaa" stroke-width="2" stroke-linecap="round"/>
        </svg>
      `,L.className="broken-image",S.replaceChild(L,R.target)}}},n=B([]),s=B([]),i=B([]),o=B(!0);ao();const a=B(null),c=B(null);B([{id:1,title:"Blog Post 1",excerpt:"Lorem ipsum dolor sit amet...",image:"https://via.placeholder.com/400x200?text=Blog+1"},{id:2,title:"Blog Post 2",excerpt:"Consectetur adipiscing elit...",image:"https://via.placeholder.com/400x200?text=Blog+2"},{id:3,title:"Blog Post 3",excerpt:"Sed do eiusmod tempor...",image:"https://via.placeholder.com/400x200?text=Blog+3"}]);const d=[{name:"Materials",description:"Premium glass beads, natural gemstones, and sterling silver components"},{name:"Craftsmanship",description:"Each piece handcrafted by skilled artisans using traditional techniques"},{name:"Customization",description:"Available in various sizes, colors, and custom designs upon request"},{name:"Durability",description:"Double-knotted silk thread and reinforced clasps for everyday wear"},{name:"Care",description:"Store in provided pouch, avoid water exposure, and clean with soft dry cloth"},{name:"Sustainability",description:"Ethically sourced materials and eco-friendly packaging"}],h=B([{name:"Rings",description:"Exquisite engagement rings, wedding bands, and statement pieces crafted with precision and passion.",image:fn("images/Golden Green.jpeg"),category:"rings"},{name:"Necklaces",description:"Elegant pendants and chains designed to complement any outfit and occasion.",image:fn("images/Neeon Moon.jpeg"),category:"necklaces"},{name:"Earrings",description:"From subtle studs to dramatic drops, find the perfect accent for your personal style.",image:fn("images/Auqa Sand.jpeg"),category:"earrings"},{name:"Bracelets",description:"Add sparkle to your wrist with our selection of charm bracelets, bangles, and cuffs.",image:fn("images/Golden black.jpeg"),category:"bracelets"},{name:"Keyholders",description:"Stylish and functional keyholders featuring elegant beadwork and durable design.",image:fn("images/Neeon Moon 2.jpeg"),category:"keyholders"},{name:"Custom Collection",description:"Exclusive high-end pieces for those special moments that deserve extraordinary jewelry.",image:fn("images/Neeon Moon 3.jpeg"),category:"Custom"}]);function f(){return[{id:"fallback-1",name:"Diamond Ring",category:"rings",price:1299.99,imageUrl:"https://images.unsplash.com/photo-1605100804763-247f67b3557e?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:"fallback-2",name:"Pearl Necklace",category:"necklaces",price:499.99,imageUrl:"https://images.unsplash.com/photo-1608043152269-423dbba4e7e1?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:"fallback-3",name:"Gold Earrings",category:"earrings",price:299.99,imageUrl:"https://images.unsplash.com/photo-1610694955371-d4a3f5146182?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:"fallback-4",name:"Silver Bracelet",category:"bracelets",price:199.99,imageUrl:"https://images.unsplash.com/photo-1602173574767-37ac01994b2c?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"}]}je(async()=>{try{let R;try{const S=await p();S.length>0?(console.log("Loaded products from Firestore:",S.length),R=S):(console.log("No products in Firestore, using service fallback"),R=await Ue.getProducts())}catch(S){console.warn("Firebase fetch failed, using mock data:",S),R=await Co.getProducts()}(!R||R.length===0)&&(console.warn("No products found in any source, using fallback data"),R=f()),console.log("Total products loaded:",R.length),n.value=R.slice(0,4),s.value=R.slice(4,8),i.value=R.filter(S=>S.featured||Math.random()>.5).slice(0,8)}catch(R){console.error("Error loading products:",R),i.value=f()}finally{o.value=!1}});const p=async()=>{try{if(!Ue.getFirestore())return[];const S=Ue.getCollection("products"),L=await Ue.getDocuments(S);return L.empty?[]:L.docs.map(T=>{const v=T.data();return{id:T.id,...v,name:v.name||"Unnamed Product",price:v.price||0,category:v.category||"Uncategorized",description:v.description||"",images:v.images||[],image:v.images&&v.images.length>0?v.images[0].startsWith("base64://")?v.images[0].replace("base64://",""):v.images[0]:"https://via.placeholder.com/300x300?text=No+Image"}})}catch(R){return console.error("Error loading products from Firestore:",R),[]}},y=B({name:"",email:"",loading:!1,success:!1,message:""}),k=async()=>{if(y.value.email){y.value.loading=!0,y.value.message="";try{const R=await Ue.subscribeToNewsletter(y.value.email,y.value.name);y.value.success=R.success,y.value.message=R.message||"Thank you for subscribing to our newsletter!",R.success&&(y.value.name="",y.value.email="")}catch(R){console.error("Error subscribing to newsletter:",R),y.value.success=!1,y.value.message="Failed to subscribe. Please try again later."}finally{y.value.loading=!1}}},_=B(0),b=["That Elevates Style","With Timeless Beauty","For Every Moment","That Tells Stories","With Perfect Detail","For Your Journey"];je(()=>{setInterval(()=>{_.value=(_.value+1)%b.length},3e3),window.addEventListener("scroll",E)}),ui(()=>{window.removeEventListener("scroll",E)});const I=B(!1),A=()=>{window.scrollTo({top:0,behavior:"smooth"})},E=()=>{I.value=window.scrollY>500};return(R,S)=>{var T,v;const L=Rr("router-link");return D(),V("div",xM,[a.value?(D(),V("div",{key:0,class:"cart-animation fixed pointer-events-none z-50",ref_key:"cartAnimationEl",ref:c,style:Ct({backgroundImage:`url(${((T=a.value)==null?void 0:T.image)||((v=a.value)==null?void 0:v.imageUrl)||q(pt)("placeholder.jpg")})`})},null,4)):de("",!0),xe(l("button",{onClick:A,class:"scroll-to-top-btn fixed bottom-6 right-6 bg-accent-primary hover:bg-accent-secondary text-white rounded-full w-12 h-12 flex items-center justify-center shadow-lg transition-all duration-300 z-50","aria-label":"Scroll to top"},S[2]||(S[2]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",class:"w-6 h-6"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 10l7-7m0 0l7 7m-7-7v18"})],-1)]),512),[[wd,I.value]]),l("div",_M,[l("div",kM,[l("div",wM,[l("div",EM,[l("h1",IM,[S[3]||(S[3]=ue(" Discover Handcrafted Jewelry ")),l("span",TM,[(D(),V(_e,null,Ve(b,(m,w)=>l("span",{key:m,class:Ie(["animated-text-item",{active:_.value===w}])},H(m),3)),64))])]),S[5]||(S[5]=l("p",{class:"mt-4 text-xl text-light-text-secondary dark:text-dark-text-secondary"},"Our handcrafted beaded jewelry pieces combine artistry and elegance, adding the perfect colorful accent to enhance any outfit.",-1)),l("div",AM,[z(L,{to:"/products",class:"inline-block rounded-md border border-transparent bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark px-8 py-3 text-center font-medium text-white"},{default:Z(()=>S[4]||(S[4]=[ue("Shop Collection")])),_:1})])]),l("div",null,[l("div",SM,[S[7]||(S[7]=dt('<div aria-hidden="true" class="pointer-events-none lg:absolute lg:inset-y-0 lg:mx-auto lg:w-full lg:max-w-7xl" data-v-cb77d531><div class="absolute transform sm:top-0 sm:left-1/2 sm:translate-x-8 lg:top-1/2 lg:left-1/2 lg:-translate-y-1/2 lg:translate-x-8" data-v-cb77d531><div class="flex items-center justify-center space-x-3 sm:space-x-6 lg:space-x-8 overflow-hidden w-full max-w-screen-sm mx-auto px-4 sm:px-0" data-v-cb77d531><div class="scroll-container w-1/2 sm:w-auto max-w-[45vw] sm:max-w-none" data-v-cb77d531><div class="scroll-content scroll-up" data-v-cb77d531><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-01.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-02.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-03.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-04.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-01.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-02.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-03.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-04.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div></div></div><div class="scroll-container w-1/2 sm:w-auto" data-v-cb77d531><div class="scroll-content scroll-down" data-v-cb77d531><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-04.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-05.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-06.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-07.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-04.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-05.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-06.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-07.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div></div></div><div class="scroll-container hidden sm:block" data-v-cb77d531><div class="scroll-content scroll-up-slow" data-v-cb77d531><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-01.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-02.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-03.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-06.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-01.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-02.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-03.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-06.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div></div></div></div></div></div>',1)),z(L,{to:"/products",class:"hidden lg:inline-block rounded-md border border-transparent bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark px-8 py-3 text-center font-medium text-white"},{default:Z(()=>S[6]||(S[6]=[ue("Shop Collection")])),_:1})])])])])]),l("section",CM,[S[9]||(S[9]=l("div",{class:"text-center mb-12 fade-slide-up"},[l("h2",{class:"text-3xl font-bold text-light-text-primary dark:text-dark-text-primary"},"Our Collections")],-1)),l("div",PM,[l("div",RM,[l("div",NM,[(D(!0),V(_e,null,Ve(h.value,(m,w)=>(D(),V("div",{key:m.name,class:"collection-card relative overflow-hidden rounded-lg shadow-lg group h-80 fade-slide-up",style:Ct({animationDelay:w*100+"ms"})},[l("img",{src:e(m.image),alt:m.name,class:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",onError:r},null,40,$M),l("div",OM,[l("div",DM,[l("h3",MM,H(m.name),1),l("p",VM,H(m.description),1),z(L,{to:`/products?category=${m.category}`,class:"inline-block bg-btn-primary hover:bg-btn-primary-hover text-white font-semibold py-2 px-4 rounded-md transition duration-300"},{default:Z(()=>S[8]||(S[8]=[ue(" View Collection ")])),_:2},1032,["to"])])])],4))),128))])])])]),l("section",LM,[l("div",FM,[l("div",UM,[S[11]||(S[11]=l("h2",{class:"text-3xl font-bold text-light-text-primary dark:text-dark-text-primary"},"Featured Products",-1)),z(L,{to:"/products",class:"text-btn-primary hover:text-accent-secondary font-medium"},{default:Z(()=>S[10]||(S[10]=[ue(" View all products "),l("span",{"aria-hidden":"true"},"→",-1)])),_:1})]),o.value?(D(),V("div",jM,S[12]||(S[12]=[l("div",{class:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-accent-primary"},null,-1)]))):i.value.length===0?(D(),V("div",BM,S[13]||(S[13]=[l("p",{class:"text-light-neutral-600 dark:text-dark-neutral-600"},"No products found. Please check back later.",-1)]))):(D(),V("div",qM,[(D(!0),V(_e,null,Ve(i.value,(m,w)=>(D(),V("div",{key:m.id,class:"relative fade-slide-up",style:Ct({animationDelay:w*100+"ms"})},[z(iE,{product:m,processImageUrl:e},null,8,["product"])],4))),128))]))])]),l("section",HM,[l("div",zM,[l("div",null,[S[14]||(S[14]=l("h2",{class:"text-3xl font-bold tracking-tight text-light-text-primary dark:text-dark-text-primary sm:text-4xl"},"Craftsmanship Details",-1)),S[15]||(S[15]=l("p",{class:"mt-4 text-light-text-secondary dark:text-dark-text-secondary"},"Our handcrafted beaded jewelry combines traditional techniques with modern design. Each piece is meticulously created using premium materials, ensuring both beauty and durability for everyday wear.",-1)),l("dl",WM,[(D(),V(_e,null,Ve(d,m=>l("div",{key:m.name,class:"border-t border-light-neutral-300 dark:border-dark-neutral-700 pt-4"},[l("dt",KM,H(m.name),1),l("dd",GM,H(m.description),1)])),64))])]),l("div",QM,[l("img",{src:q(fn)("images/Auqa Sand.jpeg"),alt:"Close-up of beaded bracelet showing intricate pattern work.",class:"rounded-lg bg-light-neutral-100 dark:bg-dark-neutral-800",onError:r},null,40,YM),l("img",{src:q(fn)("images/Golden black.jpeg"),alt:"Detail view of beaded necklace clasp and finishing.",class:"rounded-lg bg-light-neutral-100 dark:bg-dark-neutral-800",onError:r},null,40,JM),l("img",{src:q(fn)("images/Golden Green.jpeg"),alt:"Arrangement of colorful beads used in our jewelry collection.",class:"rounded-lg bg-light-neutral-100 dark:bg-dark-neutral-800",onError:r},null,40,XM),l("img",{src:q(fn)("images/Neeon Moon 3.jpeg"),alt:"Handcrafting process showing artisan creating a beaded piece.",class:"rounded-lg bg-light-neutral-100 dark:bg-dark-neutral-800",onError:r},null,40,ZM)])])]),l("section",eV,[l("div",tV,[l("div",rV,[S[22]||(S[22]=l("div",{class:"absolute inset-0 opacity-10"},[l("div",{class:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmZmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48cGF0aCBkPSJNMzYgMzRjMC0yLjIgMS44LTQgNC00czQgMS44IDQgNC0xLjggNC00IDQtNC0xLjgtNC00TTAgMGg0djRIMHoiLz48L2c+PC9nPjwvZz48L2c+PC9nPjwvZz48L2c+PC9nPjwvZz48L2c+PC9nPjwvZz48L2c+PC9nPjwvZz48L3N2Zz4=')]"})],-1)),l("div",nV,[l("div",sV,[S[21]||(S[21]=dt('<div class="w-full md:w-1/2 text-white" data-v-cb77d531><span class="inline-block px-3 py-1 bg-white bg-opacity-20 rounded-full text-sm font-semibold mb-4" data-v-cb77d531> Stay Connected </span><h3 class="text-2xl md:text-3xl font-bold mb-4" data-v-cb77d531>Join Our Jewelry Community</h3><p class="text-white text-opacity-90 mb-6" data-v-cb77d531> Subscribe to receive updates on new collections, exclusive offers, and styling tips. </p><div class="flex flex-wrap gap-4 mb-6" data-v-cb77d531><div class="flex items-center" data-v-cb77d531><div class="flex-shrink-0 mr-2" data-v-cb77d531><svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20" data-v-cb77d531><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" data-v-cb77d531></path></svg></div><p class="text-sm" data-v-cb77d531>Early access to sales</p></div><div class="flex items-center" data-v-cb77d531><div class="flex-shrink-0 mr-2" data-v-cb77d531><svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20" data-v-cb77d531><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" data-v-cb77d531></path></svg></div><p class="text-sm" data-v-cb77d531>Exclusive offers</p></div></div></div>',1)),l("div",iV,[l("div",oV,[l("form",{onSubmit:Ar(k,["prevent"]),class:"space-y-4"},[S[19]||(S[19]=l("h4",{class:"text-gray-800 text-xl font-semibold mb-4"},"Subscribe to our newsletter",-1)),l("div",null,[S[16]||(S[16]=l("label",{for:"fullName",class:"block text-sm font-medium leading-6 text-light-text-primary dark:text-dark-text-primary mb-2"},"Full Name",-1)),l("div",aV,[xe(l("input",{type:"text",id:"fullName","onUpdate:modelValue":S[0]||(S[0]=m=>y.value.name=m),placeholder:"Enter your name",class:"block w-full rounded-lg bg-light-secondary dark:bg-dark-secondary border-0 px-4 py-3 text-light-text-primary dark:text-dark-text-primary shadow-sm ring-1 ring-inset ring-light-neutral-300 dark:ring-dark-neutral-700 placeholder:text-light-neutral-400 dark:placeholder:text-dark-neutral-400 focus:ring-2 focus:ring-accent-primary focus:outline-none transition-all duration-200 sm:text-sm"},null,512),[[Pe,y.value.name]])])]),l("div",null,[S[17]||(S[17]=l("label",{for:"email",class:"block text-sm font-medium leading-6 text-light-text-primary dark:text-dark-text-primary mb-2"},"Email Address",-1)),l("div",lV,[xe(l("input",{type:"email",id:"email","onUpdate:modelValue":S[1]||(S[1]=m=>y.value.email=m),required:"",placeholder:"Enter your email",class:"block w-full rounded-lg bg-light-secondary dark:bg-dark-secondary border-0 px-4 py-3 text-light-text-primary dark:text-dark-text-primary shadow-sm ring-1 ring-inset ring-light-neutral-300 dark:ring-dark-neutral-700 placeholder:text-light-neutral-400 dark:placeholder:text-dark-neutral-400 focus:ring-2 focus:ring-accent-primary focus:outline-none transition-all duration-200 sm:text-sm"},null,512),[[Pe,y.value.email]])])]),l("div",cV,[l("button",{type:"submit",class:"inline-flex items-center justify-center rounded-lg bg-orange-500 px-6 py-3 w-full text-sm font-semibold text-white shadow-sm hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",disabled:y.value.loading},[y.value.loading?(D(),V("svg",dV,S[18]||(S[18]=[l("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),l("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):de("",!0),l("span",null,H(y.value.loading?"Subscribing...":"Subscribe Now"),1)],8,uV)]),y.value.message?(D(),V("p",{key:0,class:Ie([{"text-green-600":y.value.success,"text-red-600":!y.value.success},"text-sm mt-2 text-center"])},H(y.value.message),3)):de("",!0),S[20]||(S[20]=l("p",{class:"text-xs text-gray-500 text-center mt-4"}," By subscribing, you agree to our Privacy Policy. ",-1))],32)])])])])])])])])}}},$b=jr(hV,[["__scopeId","data-v-cb77d531"]]),fV=(t,e,r)=>{var s,i;const n=wn();if(console.log("Checking admin status:",{user:n.user,isAdmin:(s=n.user)==null?void 0:s.isAdmin,authenticated:n.isAuthenticated}),!n.isAuthenticated||!((i=n.user)!=null&&i.isAdmin)){console.log("Access denied: User is not admin"),r("/login");return}r()};function pV(t,e,r){let n=B(r==null?void 0:r.value),s=te(()=>t.value!==void 0);return[te(()=>s.value?t.value:n.value),function(i){return s.value||(n.value=i),e==null?void 0:e(i)}]}function ih(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function lc(){let t=[],e={addEventListener(r,n,s,i){return r.addEventListener(n,s,i),e.add(()=>r.removeEventListener(n,s,i))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);e.add(()=>cancelAnimationFrame(n))},nextFrame(...r){e.requestAnimationFrame(()=>{e.requestAnimationFrame(...r)})},setTimeout(...r){let n=setTimeout(...r);e.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return ih(()=>{n.current&&r[0]()}),e.add(()=>{n.current=!1})},style(r,n,s){let i=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:s}),this.add(()=>{Object.assign(r.style,{[n]:i})})},group(r){let n=lc();return r(n),this.add(()=>n.dispose())},add(r){return t.push(r),()=>{let n=t.indexOf(r);if(n>=0)for(let s of t.splice(n,1))s()}},dispose(){for(let r of t.splice(0))r()}};return e}var Ob;let mV=Symbol("headlessui.useid"),gV=0;const _n=(Ob=B1)!=null?Ob:function(){return ot(mV,()=>`${++gV}`)()};function Se(t){var e;if(t==null||t.value==null)return null;let r=(e=t.value.$el)!=null?e:t.value;return r instanceof Node?r:null}function cr(t,e,...r){if(t in e){let s=e[t];return typeof s=="function"?s(...r):s}let n=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,cr),n}var yV=Object.defineProperty,vV=(t,e,r)=>e in t?yV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Db=(t,e,r)=>(vV(t,typeof e!="symbol"?e+"":e,r),r);let bV=class{constructor(){Db(this,"current",this.detect()),Db(this,"currentId",0)}set(e){this.current!==e&&(this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},cc=new bV;function ks(t){if(cc.isServer)return null;if(t instanceof Node)return t.ownerDocument;if(t!=null&&t.hasOwnProperty("value")){let e=Se(t);if(e)return e.ownerDocument}return document}let wp=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Bt=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(Bt||{}),Po=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(Po||{}),xV=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(xV||{});function oE(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(wp)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var Pg=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(Pg||{});function Rg(t,e=0){var r;return t===((r=ks(t))==null?void 0:r.body)?!1:cr(e,{0(){return t.matches(wp)},1(){let n=t;for(;n!==null;){if(n.matches(wp))return!0;n=n.parentElement}return!1}})}function aE(t){let e=ks(t);ar(()=>{e&&!Rg(e.activeElement,0)&&ti(t)})}var _V=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(_V||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function ti(t){t==null||t.focus({preventScroll:!0})}let kV=["textarea","input"].join(",");function wV(t){var e,r;return(r=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,kV))!=null?r:!1}function Ii(t,e=r=>r){return t.slice().sort((r,n)=>{let s=e(r),i=e(n);if(s===null||i===null)return 0;let o=s.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function EV(t,e){return In(oE(),e,{relativeTo:t})}function In(t,e,{sorted:r=!0,relativeTo:n=null,skipElements:s=[]}={}){var i;let o=(i=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t==null?void 0:t.ownerDocument)!=null?i:document,a=Array.isArray(t)?r?Ii(t):t:oE(t);s.length>0&&a.length>1&&(a=a.filter(k=>!s.includes(k))),n=n??o.activeElement;let c=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,a.indexOf(n))-1;if(e&4)return Math.max(0,a.indexOf(n))+1;if(e&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),h=e&32?{preventScroll:!0}:{},f=0,p=a.length,y;do{if(f>=p||f+p<=0)return 0;let k=d+f;if(e&16)k=(k+p)%p;else{if(k<0)return 3;if(k>=p)return 1}y=a[k],y==null||y.focus(h),f+=c}while(y!==o.activeElement);return e&6&&wV(y)&&y.select(),2}function lE(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function IV(){return/Android/gi.test(window.navigator.userAgent)}function TV(){return lE()||IV()}function Kc(t,e,r){cc.isServer||ur(n=>{document.addEventListener(t,e,r),n(()=>document.removeEventListener(t,e,r))})}function cE(t,e,r){cc.isServer||ur(n=>{window.addEventListener(t,e,r),n(()=>window.removeEventListener(t,e,r))})}function uE(t,e,r=te(()=>!0)){function n(i,o){if(!r.value||i.defaultPrevented)return;let a=o(i);if(a===null||!a.getRootNode().contains(a))return;let c=function d(h){return typeof h=="function"?d(h()):Array.isArray(h)||h instanceof Set?h:[h]}(t);for(let d of c){if(d===null)continue;let h=d instanceof HTMLElement?d:Se(d);if(h!=null&&h.contains(a)||i.composed&&i.composedPath().includes(h))return}return!Rg(a,Pg.Loose)&&a.tabIndex!==-1&&i.preventDefault(),e(i,a)}let s=B(null);Kc("pointerdown",i=>{var o,a;r.value&&(s.value=((a=(o=i.composedPath)==null?void 0:o.call(i))==null?void 0:a[0])||i.target)},!0),Kc("mousedown",i=>{var o,a;r.value&&(s.value=((a=(o=i.composedPath)==null?void 0:o.call(i))==null?void 0:a[0])||i.target)},!0),Kc("click",i=>{TV()||s.value&&(n(i,()=>s.value),s.value=null)},!0),Kc("touchend",i=>n(i,()=>i.target instanceof HTMLElement?i.target:null),!0),cE("blur",i=>n(i,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Mb(t,e){if(t)return t;let r=e??"button";if(typeof r=="string"&&r.toLowerCase()==="button")return"button"}function oh(t,e){let r=B(Mb(t.value.type,t.value.as));return je(()=>{r.value=Mb(t.value.type,t.value.as)}),ur(()=>{var n;r.value||Se(e)&&Se(e)instanceof HTMLButtonElement&&!((n=Se(e))!=null&&n.hasAttribute("type"))&&(r.value="button")}),r}function Vb(t){return[t.screenX,t.screenY]}function AV(){let t=B([-1,-1]);return{wasMoved(e){let r=Vb(e);return t.value[0]===r[0]&&t.value[1]===r[1]?!1:(t.value=r,!0)},update(e){t.value=Vb(e)}}}function SV({container:t,accept:e,walk:r,enabled:n}){ur(()=>{let s=t.value;if(!s||n!==void 0&&!n.value)return;let i=ks(t);if(!i)return;let o=Object.assign(c=>e(c),{acceptNode:e}),a=i.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,o,!1);for(;a.nextNode();)r(a.currentNode)})}var zn=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(zn||{}),Ks=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Ks||{});function $t({visible:t=!0,features:e=0,ourProps:r,theirProps:n,...s}){var i;let o=hE(n,r),a=Object.assign(s,{props:o});if(t||e&2&&o.static)return ff(a);if(e&1){let c=(i=o.unmount)==null||i?0:1;return cr(c,{0(){return null},1(){return ff({...s,props:{...o,hidden:!0,style:{display:"none"}}})}})}return ff(a)}function ff({props:t,attrs:e,slots:r,slot:n,name:s}){var i,o;let{as:a,...c}=ah(t,["unmount","static"]),d=(i=r.default)==null?void 0:i.call(r,n),h={};if(n){let f=!1,p=[];for(let[y,k]of Object.entries(n))typeof k=="boolean"&&(f=!0),k===!0&&p.push(y);f&&(h["data-headlessui-state"]=p.join(" "))}if(a==="template"){if(d=dE(d??[]),Object.keys(c).length>0||Object.keys(e).length>0){let[f,...p]=d??[];if(!PV(f)||p.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${s} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(c).concat(Object.keys(e)).map(_=>_.trim()).filter((_,b,I)=>I.indexOf(_)===b).sort((_,b)=>_.localeCompare(b)).map(_=>`  - ${_}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(_=>`  - ${_}`).join(`
`)].join(`
`));let y=hE((o=f.props)!=null?o:{},c,h),k=Pn(f,y,!0);for(let _ in y)_.startsWith("on")&&(k.props||(k.props={}),k.props[_]=y[_]);return k}return Array.isArray(d)&&d.length===1?d[0]:d}return _t(a,Object.assign({},c,h),{default:()=>d})}function dE(t){return t.flatMap(e=>e.type===_e?dE(e.children):[e])}function hE(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let s in n)s.startsWith("on")&&typeof n[s]=="function"?(r[s]!=null||(r[s]=[]),r[s].push(n[s])):e[s]=n[s];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(r).map(n=>[n,void 0])));for(let n in r)Object.assign(e,{[n](s,...i){let o=r[n];for(let a of o){if(s instanceof Event&&s.defaultPrevented)return;a(s,...i)}}});return e}function CV(t){let e=Object.assign({},t);for(let r in e)e[r]===void 0&&delete e[r];return e}function ah(t,e=[]){let r=Object.assign({},t);for(let n of e)n in r&&delete r[n];return r}function PV(t){return t==null?!1:typeof t.type=="string"||typeof t.type=="object"||typeof t.type=="function"}var sa=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(sa||{});let ia=Ze({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(t,{slots:e,attrs:r}){return()=>{var n;let{features:s,...i}=t,o={"aria-hidden":(s&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(s&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(s&4)===4&&(s&2)!==2&&{display:"none"}}};return $t({ourProps:o,theirProps:i,slot:{},attrs:r,slots:e,name:"Hidden"})}}}),fE=Symbol("Context");var Lt=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Lt||{});function RV(){return uc()!==null}function uc(){return ot(fE,null)}function Ng(t){zt(fE,t)}var Xe=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Xe||{});function NV(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Ti=[];NV(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&Ti[0]!==e.target&&(Ti.unshift(e.target),Ti=Ti.filter(r=>r!=null&&r.isConnected),Ti.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function $V(t){throw new Error("Unexpected object: "+t)}var nn=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(nn||{});function OV(t,e){let r=e.resolveItems();if(r.length<=0)return null;let n=e.resolveActiveIndex(),s=n??-1;switch(t.focus){case 0:{for(let i=0;i<r.length;++i)if(!e.resolveDisabled(r[i],i,r))return i;return n}case 1:{s===-1&&(s=r.length);for(let i=s-1;i>=0;--i)if(!e.resolveDisabled(r[i],i,r))return i;return n}case 2:{for(let i=s+1;i<r.length;++i)if(!e.resolveDisabled(r[i],i,r))return i;return n}case 3:{for(let i=r.length-1;i>=0;--i)if(!e.resolveDisabled(r[i],i,r))return i;return n}case 4:{for(let i=0;i<r.length;++i)if(e.resolveId(r[i],i,r)===t.id)return i;return n}case 5:return null;default:$V(t)}}function DV(t){var e,r;let n=(e=t==null?void 0:t.form)!=null?e:t.closest("form");if(n){for(let s of n.elements)if(s!==t&&(s.tagName==="INPUT"&&s.type==="submit"||s.tagName==="BUTTON"&&s.type==="submit"||s.nodeName==="INPUT"&&s.type==="image")){s.click();return}(r=n.requestSubmit)==null||r.call(n)}}function pE(t,e,r,n){cc.isServer||ur(s=>{t=t??window,t.addEventListener(e,r,n),s(()=>t.removeEventListener(e,r,n))})}var za=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(za||{});function MV(){let t=B(0);return cE("keydown",e=>{e.key==="Tab"&&(t.value=e.shiftKey?1:0)}),t}function mE(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let r of t.value){let n=Se(r);n instanceof HTMLElement&&e.add(n)}return e}var gE=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(gE||{});let Oa=Object.assign(Ze({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:B(new Set)}},inheritAttrs:!1,setup(t,{attrs:e,slots:r,expose:n}){let s=B(null);n({el:s,$el:s});let i=te(()=>ks(s)),o=B(!1);je(()=>o.value=!0),Kt(()=>o.value=!1),LV({ownerDocument:i},te(()=>o.value&&!!(t.features&16)));let a=FV({ownerDocument:i,container:s,initialFocus:te(()=>t.initialFocus)},te(()=>o.value&&!!(t.features&2)));UV({ownerDocument:i,container:s,containers:t.containers,previousActiveElement:a},te(()=>o.value&&!!(t.features&8)));let c=MV();function d(y){let k=Se(s);k&&(_=>_())(()=>{cr(c.value,{[za.Forwards]:()=>{In(k,Bt.First,{skipElements:[y.relatedTarget]})},[za.Backwards]:()=>{In(k,Bt.Last,{skipElements:[y.relatedTarget]})}})})}let h=B(!1);function f(y){y.key==="Tab"&&(h.value=!0,requestAnimationFrame(()=>{h.value=!1}))}function p(y){if(!o.value)return;let k=mE(t.containers);Se(s)instanceof HTMLElement&&k.add(Se(s));let _=y.relatedTarget;_ instanceof HTMLElement&&_.dataset.headlessuiFocusGuard!=="true"&&(yE(k,_)||(h.value?In(Se(s),cr(c.value,{[za.Forwards]:()=>Bt.Next,[za.Backwards]:()=>Bt.Previous})|Bt.WrapAround,{relativeTo:y.target}):y.target instanceof HTMLElement&&ti(y.target)))}return()=>{let y={},k={ref:s,onKeydown:f,onFocusout:p},{features:_,initialFocus:b,containers:I,...A}=t;return _t(_e,[!!(_&4)&&_t(ia,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:sa.Focusable}),$t({ourProps:k,theirProps:{...e,...A},slot:y,attrs:e,slots:r,name:"FocusTrap"}),!!(_&4)&&_t(ia,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:sa.Focusable})])}}}),{features:gE});function VV(t){let e=B(Ti.slice());return Rt([t],([r],[n])=>{n===!0&&r===!1?ih(()=>{e.value.splice(0)}):n===!1&&r===!0&&(e.value=Ti.slice())},{flush:"post"}),()=>{var r;return(r=e.value.find(n=>n!=null&&n.isConnected))!=null?r:null}}function LV({ownerDocument:t},e){let r=VV(e);je(()=>{ur(()=>{var n,s;e.value||((n=t.value)==null?void 0:n.activeElement)===((s=t.value)==null?void 0:s.body)&&ti(r())},{flush:"post"})}),Kt(()=>{e.value&&ti(r())})}function FV({ownerDocument:t,container:e,initialFocus:r},n){let s=B(null),i=B(!1);return je(()=>i.value=!0),Kt(()=>i.value=!1),je(()=>{Rt([e,r,n],(o,a)=>{if(o.every((d,h)=>(a==null?void 0:a[h])===d)||!n.value)return;let c=Se(e);c&&ih(()=>{var d,h;if(!i.value)return;let f=Se(r),p=(d=t.value)==null?void 0:d.activeElement;if(f){if(f===p){s.value=p;return}}else if(c.contains(p)){s.value=p;return}f?ti(f):In(c,Bt.First|Bt.NoScroll)===Po.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),s.value=(h=t.value)==null?void 0:h.activeElement})},{immediate:!0,flush:"post"})}),s}function UV({ownerDocument:t,container:e,containers:r,previousActiveElement:n},s){var i;pE((i=t.value)==null?void 0:i.defaultView,"focus",o=>{if(!s.value)return;let a=mE(r);Se(e)instanceof HTMLElement&&a.add(Se(e));let c=n.value;if(!c)return;let d=o.target;d&&d instanceof HTMLElement?yE(a,d)?(n.value=d,ti(d)):(o.preventDefault(),o.stopPropagation(),ti(c)):ti(n.value)},!0)}function yE(t,e){for(let r of t)if(r.contains(e))return!0;return!1}function jV(t){let e=md(t.getSnapshot());return Kt(t.subscribe(()=>{e.value=t.getSnapshot()})),e}function BV(t,e){let r=t(),n=new Set;return{getSnapshot(){return r},subscribe(s){return n.add(s),()=>n.delete(s)},dispatch(s,...i){let o=e[s].call(r,...i);o&&(r=o,n.forEach(a=>a()))}}}function qV(){let t;return{before({doc:e}){var r;let n=e.documentElement;t=((r=e.defaultView)!=null?r:window).innerWidth-n.clientWidth},after({doc:e,d:r}){let n=e.documentElement,s=n.clientWidth-n.offsetWidth,i=t-s;r.style(n,"paddingRight",`${i}px`)}}}function HV(){return lE()?{before({doc:t,d:e,meta:r}){function n(s){return r.containers.flatMap(i=>i()).some(i=>i.contains(s))}e.microTask(()=>{var s;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=lc();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let i=(s=window.scrollY)!=null?s:window.pageYOffset,o=null;e.addEventListener(t,"click",a=>{if(a.target instanceof HTMLElement)try{let c=a.target.closest("a");if(!c)return;let{hash:d}=new URL(c.href),h=t.querySelector(d);h&&!n(h)&&(o=h)}catch{}},!0),e.addEventListener(t,"touchstart",a=>{if(a.target instanceof HTMLElement)if(n(a.target)){let c=a.target;for(;c.parentElement&&n(c.parentElement);)c=c.parentElement;e.style(c,"overscrollBehavior","contain")}else e.style(a.target,"touchAction","none")}),e.addEventListener(t,"touchmove",a=>{if(a.target instanceof HTMLElement){if(a.target.tagName==="INPUT")return;if(n(a.target)){let c=a.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let c=(a=window.scrollY)!=null?a:window.pageYOffset;i!==c&&window.scrollTo(0,i),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function zV(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function WV(t){let e={};for(let r of t)Object.assign(e,r(e));return e}let Ri=BV(()=>new Map,{PUSH(t,e){var r;let n=(r=this.get(t))!=null?r:{doc:t,count:0,d:lc(),meta:new Set};return n.count++,n.meta.add(e),this.set(t,n),this},POP(t,e){let r=this.get(t);return r&&(r.count--,r.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:r}){let n={doc:t,d:e,meta:WV(r)},s=[HV(),qV(),zV()];s.forEach(({before:i})=>i==null?void 0:i(n)),s.forEach(({after:i})=>i==null?void 0:i(n))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Ri.subscribe(()=>{let t=Ri.getSnapshot(),e=new Map;for(let[r]of t)e.set(r,r.documentElement.style.overflow);for(let r of t.values()){let n=e.get(r.doc)==="hidden",s=r.count!==0;(s&&!n||!s&&n)&&Ri.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&Ri.dispatch("TEARDOWN",r)}});function KV(t,e,r){let n=jV(Ri),s=te(()=>{let i=t.value?n.value.get(t.value):void 0;return i?i.count>0:!1});return Rt([t,e],([i,o],[a],c)=>{if(!i||!o)return;Ri.dispatch("PUSH",i,r);let d=!1;c(()=>{d||(Ri.dispatch("POP",a??i,r),d=!0)})},{immediate:!0}),s}let pf=new Map,Da=new Map;function Lb(t,e=B(!0)){ur(r=>{var n;if(!e.value)return;let s=Se(t);if(!s)return;r(function(){var o;if(!s)return;let a=(o=Da.get(s))!=null?o:1;if(a===1?Da.delete(s):Da.set(s,a-1),a!==1)return;let c=pf.get(s);c&&(c["aria-hidden"]===null?s.removeAttribute("aria-hidden"):s.setAttribute("aria-hidden",c["aria-hidden"]),s.inert=c.inert,pf.delete(s))});let i=(n=Da.get(s))!=null?n:0;Da.set(s,i+1),i===0&&(pf.set(s,{"aria-hidden":s.getAttribute("aria-hidden"),inert:s.inert}),s.setAttribute("aria-hidden","true"),s.inert=!0)})}function GV({defaultContainers:t=[],portals:e,mainTreeNodeRef:r}={}){let n=B(null),s=ks(n);function i(){var o,a,c;let d=[];for(let h of t)h!==null&&(h instanceof HTMLElement?d.push(h):"value"in h&&h.value instanceof HTMLElement&&d.push(h.value));if(e!=null&&e.value)for(let h of e.value)d.push(h);for(let h of(o=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?o:[])h!==document.body&&h!==document.head&&h instanceof HTMLElement&&h.id!=="headlessui-portal-root"&&(h.contains(Se(n))||h.contains((c=(a=Se(n))==null?void 0:a.getRootNode())==null?void 0:c.host)||d.some(f=>h.contains(f))||d.push(h));return d}return{resolveContainers:i,contains(o){return i().some(a=>a.contains(o))},mainTreeNodeRef:n,MainTreeNode(){return r!=null?null:_t(ia,{features:sa.Hidden,ref:n})}}}let vE=Symbol("ForcePortalRootContext");function QV(){return ot(vE,!1)}let Fb=Ze({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(t,{slots:e,attrs:r}){return zt(vE,t.force),()=>{let{force:n,...s}=t;return $t({theirProps:s,ourProps:{},slot:{},slots:e,attrs:r,name:"ForcePortalRoot"})}}}),bE=Symbol("StackContext");var Ep=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(Ep||{});function YV(){return ot(bE,()=>{})}function JV({type:t,enabled:e,element:r,onUpdate:n}){let s=YV();function i(...o){n==null||n(...o),s(...o)}je(()=>{Rt(e,(o,a)=>{o?i(0,t,r):a===!0&&i(1,t,r)},{immediate:!0,flush:"sync"})}),Kt(()=>{e.value&&i(1,t,r)}),zt(bE,i)}let XV=Symbol("DescriptionContext");function ZV({slot:t=B({}),name:e="Description",props:r={}}={}){let n=B([]);function s(i){return n.value.push(i),()=>{let o=n.value.indexOf(i);o!==-1&&n.value.splice(o,1)}}return zt(XV,{register:s,slot:t,name:e,props:r}),te(()=>n.value.length>0?n.value.join(" "):void 0)}function e9(t){let e=ks(t);if(!e){if(t===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${t}`)}let r=e.getElementById("headlessui-portal-root");if(r)return r;let n=e.createElement("div");return n.setAttribute("id","headlessui-portal-root"),e.body.appendChild(n)}const Ip=new WeakMap;function t9(t){var e;return(e=Ip.get(t))!=null?e:0}function Ub(t,e){let r=e(t9(t));return r<=0?Ip.delete(t):Ip.set(t,r),r}let r9=Ze({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(t,{slots:e,attrs:r}){let n=B(null),s=te(()=>ks(n)),i=QV(),o=ot(xE,null),a=B(i===!0||o==null?e9(n.value):o.resolveTarget());a.value&&Ub(a.value,p=>p+1);let c=B(!1);je(()=>{c.value=!0}),ur(()=>{i||o!=null&&(a.value=o.resolveTarget())});let d=ot(Tp,null),h=!1,f=cn();return Rt(n,()=>{if(h||!d)return;let p=Se(n);p&&(Kt(d.register(p),f),h=!0)}),Kt(()=>{var p,y;let k=(p=s.value)==null?void 0:p.getElementById("headlessui-portal-root");!k||a.value!==k||Ub(a.value,_=>_-1)||a.value.children.length>0||(y=a.value.parentElement)==null||y.removeChild(a.value)}),()=>{if(!c.value||a.value===null)return null;let p={ref:n,"data-headlessui-portal":""};return _t(zp,{to:a.value},$t({ourProps:p,theirProps:t,slot:{},attrs:r,slots:e,name:"Portal"}))}}}),Tp=Symbol("PortalParentContext");function n9(){let t=ot(Tp,null),e=B([]);function r(i){return e.value.push(i),t&&t.register(i),()=>n(i)}function n(i){let o=e.value.indexOf(i);o!==-1&&e.value.splice(o,1),t&&t.unregister(i)}let s={register:r,unregister:n,portals:e};return[e,Ze({name:"PortalWrapper",setup(i,{slots:o}){return zt(Tp,s),()=>{var a;return(a=o.default)==null?void 0:a.call(o)}}})]}let xE=Symbol("PortalGroupContext"),s9=Ze({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(t,{attrs:e,slots:r}){let n=Yr({resolveTarget(){return t.target}});return zt(xE,n),()=>{let{target:s,...i}=t;return $t({theirProps:i,ourProps:{},slot:{},attrs:e,slots:r,name:"PortalGroup"})}}});var i9=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(i9||{});let Ap=Symbol("DialogContext");function $g(t){let e=ot(Ap,null);if(e===null){let r=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,$g),r}return e}let Gc="DC8F892D-2EBD-447C-A4C8-A03058436FF4",lh=Ze({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:Gc},initialFocus:{type:Object,default:null},id:{type:String,default:null},role:{type:String,default:"dialog"}},emits:{close:t=>!0},setup(t,{emit:e,attrs:r,slots:n,expose:s}){var i,o;let a=(i=t.id)!=null?i:`headlessui-dialog-${_n()}`,c=B(!1);je(()=>{c.value=!0});let d=!1,h=te(()=>t.role==="dialog"||t.role==="alertdialog"?t.role:(d||(d=!0,console.warn(`Invalid role [${h}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")),f=B(0),p=uc(),y=te(()=>t.open===Gc&&p!==null?(p.value&Lt.Open)===Lt.Open:t.open),k=B(null),_=te(()=>ks(k));if(s({el:k,$el:k}),!(t.open!==Gc||p!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof y.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${y.value===Gc?void 0:t.open}`);let b=te(()=>c.value&&y.value?0:1),I=te(()=>b.value===0),A=te(()=>f.value>1),E=ot(Ap,null)!==null,[R,S]=n9(),{resolveContainers:L,mainTreeNodeRef:T,MainTreeNode:v}=GV({portals:R,defaultContainers:[te(()=>{var ve;return(ve=U.panelRef.value)!=null?ve:k.value})]}),m=te(()=>A.value?"parent":"leaf"),w=te(()=>p!==null?(p.value&Lt.Closing)===Lt.Closing:!1),N=te(()=>E||w.value?!1:I.value),C=te(()=>{var ve,Ce,Fe;return(Fe=Array.from((Ce=(ve=_.value)==null?void 0:ve.querySelectorAll("body > *"))!=null?Ce:[]).find(at=>at.id==="headlessui-portal-root"?!1:at.contains(Se(T))&&at instanceof HTMLElement))!=null?Fe:null});Lb(C,N);let P=te(()=>A.value?!0:I.value),ce=te(()=>{var ve,Ce,Fe;return(Fe=Array.from((Ce=(ve=_.value)==null?void 0:ve.querySelectorAll("[data-headlessui-portal]"))!=null?Ce:[]).find(at=>at.contains(Se(T))&&at instanceof HTMLElement))!=null?Fe:null});Lb(ce,P),JV({type:"Dialog",enabled:te(()=>b.value===0),element:k,onUpdate:(ve,Ce)=>{if(Ce==="Dialog")return cr(ve,{[Ep.Add]:()=>f.value+=1,[Ep.Remove]:()=>f.value-=1})}});let he=ZV({name:"DialogDescription",slot:te(()=>({open:y.value}))}),G=B(null),U={titleId:G,panelRef:B(null),dialogState:b,setTitleId(ve){G.value!==ve&&(G.value=ve)},close(){e("close",!1)}};zt(Ap,U);let re=te(()=>!(!I.value||A.value));uE(L,(ve,Ce)=>{ve.preventDefault(),U.close(),ar(()=>Ce==null?void 0:Ce.focus())},re);let ae=te(()=>!(A.value||b.value!==0));pE((o=_.value)==null?void 0:o.defaultView,"keydown",ve=>{ae.value&&(ve.defaultPrevented||ve.key===Xe.Escape&&(ve.preventDefault(),ve.stopPropagation(),U.close()))});let Ee=te(()=>!(w.value||b.value!==0||E));return KV(_,Ee,ve=>{var Ce;return{containers:[...(Ce=ve.containers)!=null?Ce:[],L]}}),ur(ve=>{if(b.value!==0)return;let Ce=Se(k);if(!Ce)return;let Fe=new ResizeObserver(at=>{for(let Tt of at){let bt=Tt.target.getBoundingClientRect();bt.x===0&&bt.y===0&&bt.width===0&&bt.height===0&&U.close()}});Fe.observe(Ce),ve(()=>Fe.disconnect())}),()=>{let{open:ve,initialFocus:Ce,...Fe}=t,at={...r,ref:k,id:a,role:h.value,"aria-modal":b.value===0?!0:void 0,"aria-labelledby":G.value,"aria-describedby":he.value},Tt={open:b.value===0};return _t(Fb,{force:!0},()=>[_t(r9,()=>_t(s9,{target:k.value},()=>_t(Fb,{force:!1},()=>_t(Oa,{initialFocus:Ce,containers:L,features:I.value?cr(m.value,{parent:Oa.features.RestoreFocus,leaf:Oa.features.All&~Oa.features.FocusLock}):Oa.features.None},()=>_t(S,{},()=>$t({ourProps:at,theirProps:{...Fe,...r},slot:Tt,attrs:r,slots:n,visible:b.value===0,features:zn.RenderStrategy|zn.Static,name:"Dialog"})))))),_t(v)])}}}),ch=Ze({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:null}},setup(t,{attrs:e,slots:r,expose:n}){var s;let i=(s=t.id)!=null?s:`headlessui-dialog-panel-${_n()}`,o=$g("DialogPanel");n({el:o.panelRef,$el:o.panelRef});function a(c){c.stopPropagation()}return()=>{let{...c}=t,d={id:i,ref:o.panelRef,onClick:a};return $t({ourProps:d,theirProps:c,slot:{open:o.dialogState.value===0},attrs:e,slots:r,name:"DialogPanel"})}}}),_E=Ze({name:"DialogTitle",props:{as:{type:[Object,String],default:"h2"},id:{type:String,default:null}},setup(t,{attrs:e,slots:r}){var n;let s=(n=t.id)!=null?n:`headlessui-dialog-title-${_n()}`,i=$g("DialogTitle");return je(()=>{i.setTitleId(s),Kt(()=>i.setTitleId(null))}),()=>{let{...o}=t;return $t({ourProps:{id:s},theirProps:o,slot:{open:i.dialogState.value===0},attrs:e,slots:r,name:"DialogTitle"})}}});var o9=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(o9||{});let kE=Symbol("DisclosureContext");function Og(t){let e=ot(kE,null);if(e===null){let r=new Error(`<${t} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Og),r}return e}let wE=Symbol("DisclosurePanelContext");function a9(){return ot(wE,null)}let rd=Ze({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(t,{slots:e,attrs:r}){let n=B(t.defaultOpen?0:1),s=B(null),i=B(null),o={buttonId:B(`headlessui-disclosure-button-${_n()}`),panelId:B(`headlessui-disclosure-panel-${_n()}`),disclosureState:n,panel:s,button:i,toggleDisclosure(){n.value=cr(n.value,{0:1,1:0})},closeDisclosure(){n.value!==1&&(n.value=1)},close(a){o.closeDisclosure();let c=a?a instanceof HTMLElement?a:a.value instanceof HTMLElement?Se(a):Se(o.button):Se(o.button);c==null||c.focus()}};return zt(kE,o),Ng(te(()=>cr(n.value,{0:Lt.Open,1:Lt.Closed}))),()=>{let{defaultOpen:a,...c}=t,d={open:n.value===0,close:o.close};return $t({theirProps:c,ourProps:{},slot:d,slots:e,attrs:r,name:"Disclosure"})}}}),nd=Ze({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(t,{attrs:e,slots:r,expose:n}){let s=Og("DisclosureButton"),i=a9(),o=te(()=>i===null?!1:i.value===s.panelId.value);je(()=>{o.value||t.id!==null&&(s.buttonId.value=t.id)}),Kt(()=>{o.value||(s.buttonId.value=null)});let a=B(null);n({el:a,$el:a}),o.value||ur(()=>{s.button.value=a.value});let c=oh(te(()=>({as:t.as,type:e.type})),a);function d(){var p;t.disabled||(o.value?(s.toggleDisclosure(),(p=Se(s.button))==null||p.focus()):s.toggleDisclosure())}function h(p){var y;if(!t.disabled)if(o.value)switch(p.key){case Xe.Space:case Xe.Enter:p.preventDefault(),p.stopPropagation(),s.toggleDisclosure(),(y=Se(s.button))==null||y.focus();break}else switch(p.key){case Xe.Space:case Xe.Enter:p.preventDefault(),p.stopPropagation(),s.toggleDisclosure();break}}function f(p){switch(p.key){case Xe.Space:p.preventDefault();break}}return()=>{var p;let y={open:s.disclosureState.value===0},{id:k,..._}=t,b=o.value?{ref:a,type:c.value,onClick:d,onKeydown:h}:{id:(p=s.buttonId.value)!=null?p:k,ref:a,type:c.value,"aria-expanded":s.disclosureState.value===0,"aria-controls":s.disclosureState.value===0||Se(s.panel)?s.panelId.value:void 0,disabled:t.disabled?!0:void 0,onClick:d,onKeydown:h,onKeyup:f};return $t({ourProps:b,theirProps:_,slot:y,attrs:e,slots:r,name:"DisclosureButton"})}}}),sd=Ze({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(t,{attrs:e,slots:r,expose:n}){let s=Og("DisclosurePanel");je(()=>{t.id!==null&&(s.panelId.value=t.id)}),Kt(()=>{s.panelId.value=null}),n({el:s.panel,$el:s.panel}),zt(wE,s.panelId);let i=uc(),o=te(()=>i!==null?(i.value&Lt.Open)===Lt.Open:s.disclosureState.value===0);return()=>{var a;let c={open:s.disclosureState.value===0,close:s.close},{id:d,...h}=t,f={id:(a=s.panelId.value)!=null?a:d,ref:s.panel};return $t({ourProps:f,theirProps:h,slot:c,attrs:e,slots:r,features:zn.RenderStrategy|zn.Static,visible:o.value,name:"DisclosurePanel"})}}}),jb=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Bb(t){var e,r;let n=(e=t.innerText)!=null?e:"",s=t.cloneNode(!0);if(!(s instanceof HTMLElement))return n;let i=!1;for(let a of s.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),i=!0;let o=i?(r=s.innerText)!=null?r:"":n;return jb.test(o)&&(o=o.replace(jb,"")),o}function l9(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let r=t.getAttribute("aria-labelledby");if(r){let n=r.split(" ").map(s=>{let i=document.getElementById(s);if(i){let o=i.getAttribute("aria-label");return typeof o=="string"?o.trim():Bb(i).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return Bb(t).trim()}function c9(t){let e=B(""),r=B("");return()=>{let n=Se(t);if(!n)return"";let s=n.innerText;if(e.value===s)return r.value;let i=l9(n).trim().toLowerCase();return e.value=s,r.value=i,i}}var u9=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(u9||{}),d9=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(d9||{});function h9(t){requestAnimationFrame(()=>requestAnimationFrame(t))}let EE=Symbol("MenuContext");function uh(t){let e=ot(EE,null);if(e===null){let r=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,uh),r}return e}let IE=Ze({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(t,{slots:e,attrs:r}){let n=B(1),s=B(null),i=B(null),o=B([]),a=B(""),c=B(null),d=B(1);function h(p=y=>y){let y=c.value!==null?o.value[c.value]:null,k=Ii(p(o.value.slice()),b=>Se(b.dataRef.domRef)),_=y?k.indexOf(y):null;return _===-1&&(_=null),{items:k,activeItemIndex:_}}let f={menuState:n,buttonRef:s,itemsRef:i,items:o,searchQuery:a,activeItemIndex:c,activationTrigger:d,closeMenu:()=>{n.value=1,c.value=null},openMenu:()=>n.value=0,goToItem(p,y,k){let _=h(),b=OV(p===nn.Specific?{focus:nn.Specific,id:y}:{focus:p},{resolveItems:()=>_.items,resolveActiveIndex:()=>_.activeItemIndex,resolveId:I=>I.id,resolveDisabled:I=>I.dataRef.disabled});a.value="",c.value=b,d.value=k??1,o.value=_.items},search(p){let y=a.value!==""?0:1;a.value+=p.toLowerCase();let k=(c.value!==null?o.value.slice(c.value+y).concat(o.value.slice(0,c.value+y)):o.value).find(b=>b.dataRef.textValue.startsWith(a.value)&&!b.dataRef.disabled),_=k?o.value.indexOf(k):-1;_===-1||_===c.value||(c.value=_,d.value=1)},clearSearch(){a.value=""},registerItem(p,y){let k=h(_=>[..._,{id:p,dataRef:y}]);o.value=k.items,c.value=k.activeItemIndex,d.value=1},unregisterItem(p){let y=h(k=>{let _=k.findIndex(b=>b.id===p);return _!==-1&&k.splice(_,1),k});o.value=y.items,c.value=y.activeItemIndex,d.value=1}};return uE([s,i],(p,y)=>{var k;f.closeMenu(),Rg(y,Pg.Loose)||(p.preventDefault(),(k=Se(s))==null||k.focus())},te(()=>n.value===0)),zt(EE,f),Ng(te(()=>cr(n.value,{0:Lt.Open,1:Lt.Closed}))),()=>{let p={open:n.value===0,close:f.closeMenu};return $t({ourProps:{},theirProps:t,slot:p,slots:e,attrs:r,name:"Menu"})}}}),TE=Ze({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(t,{attrs:e,slots:r,expose:n}){var s;let i=(s=t.id)!=null?s:`headlessui-menu-button-${_n()}`,o=uh("MenuButton");n({el:o.buttonRef,$el:o.buttonRef});function a(f){switch(f.key){case Xe.Space:case Xe.Enter:case Xe.ArrowDown:f.preventDefault(),f.stopPropagation(),o.openMenu(),ar(()=>{var p;(p=Se(o.itemsRef))==null||p.focus({preventScroll:!0}),o.goToItem(nn.First)});break;case Xe.ArrowUp:f.preventDefault(),f.stopPropagation(),o.openMenu(),ar(()=>{var p;(p=Se(o.itemsRef))==null||p.focus({preventScroll:!0}),o.goToItem(nn.Last)});break}}function c(f){switch(f.key){case Xe.Space:f.preventDefault();break}}function d(f){t.disabled||(o.menuState.value===0?(o.closeMenu(),ar(()=>{var p;return(p=Se(o.buttonRef))==null?void 0:p.focus({preventScroll:!0})})):(f.preventDefault(),o.openMenu(),h9(()=>{var p;return(p=Se(o.itemsRef))==null?void 0:p.focus({preventScroll:!0})})))}let h=oh(te(()=>({as:t.as,type:e.type})),o.buttonRef);return()=>{var f;let p={open:o.menuState.value===0},{...y}=t,k={ref:o.buttonRef,id:i,type:h.value,"aria-haspopup":"menu","aria-controls":(f=Se(o.itemsRef))==null?void 0:f.id,"aria-expanded":o.menuState.value===0,onKeydown:a,onKeyup:c,onClick:d};return $t({ourProps:k,theirProps:y,slot:p,attrs:e,slots:r,name:"MenuButton"})}}}),AE=Ze({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(t,{attrs:e,slots:r,expose:n}){var s;let i=(s=t.id)!=null?s:`headlessui-menu-items-${_n()}`,o=uh("MenuItems"),a=B(null);n({el:o.itemsRef,$el:o.itemsRef}),SV({container:te(()=>Se(o.itemsRef)),enabled:te(()=>o.menuState.value===0),accept(p){return p.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:p.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(p){p.setAttribute("role","none")}});function c(p){var y;switch(a.value&&clearTimeout(a.value),p.key){case Xe.Space:if(o.searchQuery.value!=="")return p.preventDefault(),p.stopPropagation(),o.search(p.key);case Xe.Enter:if(p.preventDefault(),p.stopPropagation(),o.activeItemIndex.value!==null){let k=o.items.value[o.activeItemIndex.value];(y=Se(k.dataRef.domRef))==null||y.click()}o.closeMenu(),aE(Se(o.buttonRef));break;case Xe.ArrowDown:return p.preventDefault(),p.stopPropagation(),o.goToItem(nn.Next);case Xe.ArrowUp:return p.preventDefault(),p.stopPropagation(),o.goToItem(nn.Previous);case Xe.Home:case Xe.PageUp:return p.preventDefault(),p.stopPropagation(),o.goToItem(nn.First);case Xe.End:case Xe.PageDown:return p.preventDefault(),p.stopPropagation(),o.goToItem(nn.Last);case Xe.Escape:p.preventDefault(),p.stopPropagation(),o.closeMenu(),ar(()=>{var k;return(k=Se(o.buttonRef))==null?void 0:k.focus({preventScroll:!0})});break;case Xe.Tab:p.preventDefault(),p.stopPropagation(),o.closeMenu(),ar(()=>EV(Se(o.buttonRef),p.shiftKey?Bt.Previous:Bt.Next));break;default:p.key.length===1&&(o.search(p.key),a.value=setTimeout(()=>o.clearSearch(),350));break}}function d(p){switch(p.key){case Xe.Space:p.preventDefault();break}}let h=uc(),f=te(()=>h!==null?(h.value&Lt.Open)===Lt.Open:o.menuState.value===0);return()=>{var p,y;let k={open:o.menuState.value===0},{..._}=t,b={"aria-activedescendant":o.activeItemIndex.value===null||(p=o.items.value[o.activeItemIndex.value])==null?void 0:p.id,"aria-labelledby":(y=Se(o.buttonRef))==null?void 0:y.id,id:i,onKeydown:c,onKeyup:d,role:"menu",tabIndex:0,ref:o.itemsRef};return $t({ourProps:b,theirProps:_,slot:k,attrs:e,slots:r,features:zn.RenderStrategy|zn.Static,visible:f.value,name:"MenuItems"})}}}),Wa=Ze({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(t,{slots:e,attrs:r,expose:n}){var s;let i=(s=t.id)!=null?s:`headlessui-menu-item-${_n()}`,o=uh("MenuItem"),a=B(null);n({el:a,$el:a});let c=te(()=>o.activeItemIndex.value!==null?o.items.value[o.activeItemIndex.value].id===i:!1),d=c9(a),h=te(()=>({disabled:t.disabled,get textValue(){return d()},domRef:a}));je(()=>o.registerItem(i,h)),Kt(()=>o.unregisterItem(i)),ur(()=>{o.menuState.value===0&&c.value&&o.activationTrigger.value!==0&&ar(()=>{var I,A;return(A=(I=Se(a))==null?void 0:I.scrollIntoView)==null?void 0:A.call(I,{block:"nearest"})})});function f(I){if(t.disabled)return I.preventDefault();o.closeMenu(),aE(Se(o.buttonRef))}function p(){if(t.disabled)return o.goToItem(nn.Nothing);o.goToItem(nn.Specific,i)}let y=AV();function k(I){y.update(I)}function _(I){y.wasMoved(I)&&(t.disabled||c.value||o.goToItem(nn.Specific,i,0))}function b(I){y.wasMoved(I)&&(t.disabled||c.value&&o.goToItem(nn.Nothing))}return()=>{let{disabled:I,...A}=t,E={active:c.value,disabled:I,close:o.closeMenu};return $t({ourProps:{id:i,ref:a,role:"menuitem",tabIndex:I===!0?void 0:-1,"aria-disabled":I===!0?!0:void 0,onClick:f,onFocus:p,onPointerenter:k,onMouseenter:k,onPointermove:_,onMousemove:_,onPointerleave:b,onMouseleave:b},theirProps:{...r,...A},slot:E,attrs:r,slots:e,name:"MenuItem"})}}}),f9=Symbol("GroupContext"),p9=Ze({name:"Switch",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:null},disabled:{type:Boolean,default:!1},tabIndex:{type:Number,default:0}},inheritAttrs:!1,setup(t,{emit:e,attrs:r,slots:n,expose:s}){var i;let o=(i=t.id)!=null?i:`headlessui-switch-${_n()}`,a=ot(f9,null),[c,d]=pV(te(()=>t.modelValue),A=>e("update:modelValue",A),te(()=>t.defaultChecked));function h(){d(!c.value)}let f=B(null),p=a===null?f:a.switchRef,y=oh(te(()=>({as:t.as,type:r.type})),p);s({el:p,$el:p});function k(A){A.preventDefault(),h()}function _(A){A.key===Xe.Space?(A.preventDefault(),h()):A.key===Xe.Enter&&DV(A.currentTarget)}function b(A){A.preventDefault()}let I=te(()=>{var A,E;return(E=(A=Se(p))==null?void 0:A.closest)==null?void 0:E.call(A,"form")});return je(()=>{Rt([I],()=>{if(!I.value||t.defaultChecked===void 0)return;function A(){d(t.defaultChecked)}return I.value.addEventListener("reset",A),()=>{var E;(E=I.value)==null||E.removeEventListener("reset",A)}},{immediate:!0})}),()=>{let{name:A,value:E,form:R,tabIndex:S,...L}=t,T={checked:c.value},v={id:o,ref:p,role:"switch",type:y.value,tabIndex:S===-1?0:S,"aria-checked":c.value,"aria-labelledby":a==null?void 0:a.labelledby.value,"aria-describedby":a==null?void 0:a.describedby.value,onClick:k,onKeyup:_,onKeypress:b};return _t(_e,[A!=null&&c.value!=null?_t(ia,CV({features:sa.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:c.value,form:R,disabled:L.disabled,name:A,value:E})):null,$t({ourProps:v,theirProps:{...r,...ah(L,["modelValue","defaultChecked"])},slot:T,attrs:r,slots:n,name:"Switch"})])}}}),m9=Ze({props:{onFocus:{type:Function,required:!0}},setup(t){let e=B(!0);return()=>e.value?_t(ia,{as:"button",type:"button",features:sa.Focusable,onFocus(r){r.preventDefault();let n,s=50;function i(){var o;if(s--<=0){n&&cancelAnimationFrame(n);return}if((o=t.onFocus)!=null&&o.call(t)){e.value=!1,cancelAnimationFrame(n);return}n=requestAnimationFrame(i)}n=requestAnimationFrame(i)}}):null}});var g9=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(g9||{}),y9=(t=>(t[t.Less=-1]="Less",t[t.Equal=0]="Equal",t[t.Greater=1]="Greater",t))(y9||{});let SE=Symbol("TabsContext");function dc(t){let e=ot(SE,null);if(e===null){let r=new Error(`<${t} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,dc),r}return e}let Dg=Symbol("TabsSSRContext"),v9=Ze({name:"TabGroup",emits:{change:t=>!0},props:{as:{type:[Object,String],default:"template"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(t,{slots:e,attrs:r,emit:n}){var s;let i=B((s=t.selectedIndex)!=null?s:t.defaultIndex),o=B([]),a=B([]),c=te(()=>t.selectedIndex!==null),d=te(()=>c.value?t.selectedIndex:i.value);function h(_){var b;let I=Ii(f.tabs.value,Se),A=Ii(f.panels.value,Se),E=I.filter(R=>{var S;return!((S=Se(R))!=null&&S.hasAttribute("disabled"))});if(_<0||_>I.length-1){let R=cr(i.value===null?0:Math.sign(_-i.value),{[-1]:()=>1,0:()=>cr(Math.sign(_),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0}),S=cr(R,{0:()=>I.indexOf(E[0]),1:()=>I.indexOf(E[E.length-1])});S!==-1&&(i.value=S),f.tabs.value=I,f.panels.value=A}else{let R=I.slice(0,_),S=[...I.slice(_),...R].find(T=>E.includes(T));if(!S)return;let L=(b=I.indexOf(S))!=null?b:f.selectedIndex.value;L===-1&&(L=f.selectedIndex.value),i.value=L,f.tabs.value=I,f.panels.value=A}}let f={selectedIndex:te(()=>{var _,b;return(b=(_=i.value)!=null?_:t.defaultIndex)!=null?b:null}),orientation:te(()=>t.vertical?"vertical":"horizontal"),activation:te(()=>t.manual?"manual":"auto"),tabs:o,panels:a,setSelectedIndex(_){d.value!==_&&n("change",_),c.value||h(_)},registerTab(_){var b;if(o.value.includes(_))return;let I=o.value[i.value];if(o.value.push(_),o.value=Ii(o.value,Se),!c.value){let A=(b=o.value.indexOf(I))!=null?b:i.value;A!==-1&&(i.value=A)}},unregisterTab(_){let b=o.value.indexOf(_);b!==-1&&o.value.splice(b,1)},registerPanel(_){a.value.includes(_)||(a.value.push(_),a.value=Ii(a.value,Se))},unregisterPanel(_){let b=a.value.indexOf(_);b!==-1&&a.value.splice(b,1)}};zt(SE,f);let p=B({tabs:[],panels:[]}),y=B(!1);je(()=>{y.value=!0}),zt(Dg,te(()=>y.value?null:p.value));let k=te(()=>t.selectedIndex);return je(()=>{Rt([k],()=>{var _;return h((_=t.selectedIndex)!=null?_:t.defaultIndex)},{immediate:!0})}),ur(()=>{if(!c.value||d.value==null||f.tabs.value.length<=0)return;let _=Ii(f.tabs.value,Se);_.some((b,I)=>Se(f.tabs.value[I])!==Se(b))&&f.setSelectedIndex(_.findIndex(b=>Se(b)===Se(f.tabs.value[d.value])))}),()=>{let _={selectedIndex:i.value};return _t(_e,[o.value.length<=0&&_t(m9,{onFocus:()=>{for(let b of o.value){let I=Se(b);if((I==null?void 0:I.tabIndex)===0)return I.focus(),!0}return!1}}),$t({theirProps:{...r,...ah(t,["selectedIndex","defaultIndex","manual","vertical","onChange"])},ourProps:{},slot:_,slots:e,attrs:r,name:"TabGroup"})])}}}),b9=Ze({name:"TabList",props:{as:{type:[Object,String],default:"div"}},setup(t,{attrs:e,slots:r}){let n=dc("TabList");return()=>{let s={selectedIndex:n.selectedIndex.value},i={role:"tablist","aria-orientation":n.orientation.value};return $t({ourProps:i,theirProps:t,slot:s,attrs:e,slots:r,name:"TabList"})}}}),qb=Ze({name:"Tab",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(t,{attrs:e,slots:r,expose:n}){var s;let i=(s=t.id)!=null?s:`headlessui-tabs-tab-${_n()}`,o=dc("Tab"),a=B(null);n({el:a,$el:a}),je(()=>o.registerTab(a)),Kt(()=>o.unregisterTab(a));let c=ot(Dg),d=te(()=>{if(c.value){let A=c.value.tabs.indexOf(i);return A===-1?c.value.tabs.push(i)-1:A}return-1}),h=te(()=>{let A=o.tabs.value.indexOf(a);return A===-1?d.value:A}),f=te(()=>h.value===o.selectedIndex.value);function p(A){var E;let R=A();if(R===Po.Success&&o.activation.value==="auto"){let S=(E=ks(a))==null?void 0:E.activeElement,L=o.tabs.value.findIndex(T=>Se(T)===S);L!==-1&&o.setSelectedIndex(L)}return R}function y(A){let E=o.tabs.value.map(R=>Se(R)).filter(Boolean);if(A.key===Xe.Space||A.key===Xe.Enter){A.preventDefault(),A.stopPropagation(),o.setSelectedIndex(h.value);return}switch(A.key){case Xe.Home:case Xe.PageUp:return A.preventDefault(),A.stopPropagation(),p(()=>In(E,Bt.First));case Xe.End:case Xe.PageDown:return A.preventDefault(),A.stopPropagation(),p(()=>In(E,Bt.Last))}if(p(()=>cr(o.orientation.value,{vertical(){return A.key===Xe.ArrowUp?In(E,Bt.Previous|Bt.WrapAround):A.key===Xe.ArrowDown?In(E,Bt.Next|Bt.WrapAround):Po.Error},horizontal(){return A.key===Xe.ArrowLeft?In(E,Bt.Previous|Bt.WrapAround):A.key===Xe.ArrowRight?In(E,Bt.Next|Bt.WrapAround):Po.Error}}))===Po.Success)return A.preventDefault()}let k=B(!1);function _(){var A;k.value||(k.value=!0,!t.disabled&&((A=Se(a))==null||A.focus({preventScroll:!0}),o.setSelectedIndex(h.value),ih(()=>{k.value=!1})))}function b(A){A.preventDefault()}let I=oh(te(()=>({as:t.as,type:e.type})),a);return()=>{var A,E;let R={selected:f.value,disabled:(A=t.disabled)!=null?A:!1},{...S}=t,L={ref:a,onKeydown:y,onMousedown:b,onClick:_,id:i,role:"tab",type:I.value,"aria-controls":(E=Se(o.panels.value[h.value]))==null?void 0:E.id,"aria-selected":f.value,tabIndex:f.value?0:-1,disabled:t.disabled?!0:void 0};return $t({ourProps:L,theirProps:S,slot:R,attrs:e,slots:r,name:"Tab"})}}}),x9=Ze({name:"TabPanels",props:{as:{type:[Object,String],default:"div"}},setup(t,{slots:e,attrs:r}){let n=dc("TabPanels");return()=>{let s={selectedIndex:n.selectedIndex.value};return $t({theirProps:t,ourProps:{},slot:s,attrs:r,slots:e,name:"TabPanels"})}}}),Hb=Ze({name:"TabPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null},tabIndex:{type:Number,default:0}},setup(t,{attrs:e,slots:r,expose:n}){var s;let i=(s=t.id)!=null?s:`headlessui-tabs-panel-${_n()}`,o=dc("TabPanel"),a=B(null);n({el:a,$el:a}),je(()=>o.registerPanel(a)),Kt(()=>o.unregisterPanel(a));let c=ot(Dg),d=te(()=>{if(c.value){let p=c.value.panels.indexOf(i);return p===-1?c.value.panels.push(i)-1:p}return-1}),h=te(()=>{let p=o.panels.value.indexOf(a);return p===-1?d.value:p}),f=te(()=>h.value===o.selectedIndex.value);return()=>{var p;let y={selected:f.value},{tabIndex:k,..._}=t,b={ref:a,id:i,role:"tabpanel","aria-labelledby":(p=Se(o.tabs.value[h.value]))==null?void 0:p.id,tabIndex:f.value?k:-1};return!f.value&&t.unmount&&!t.static?_t(ia,{as:"span","aria-hidden":!0,...b}):$t({ourProps:b,theirProps:_,slot:y,attrs:e,slots:r,features:zn.Static|zn.RenderStrategy,visible:f.value,name:"TabPanel"})}}});function _9(t){let e={called:!1};return(...r)=>{if(!e.called)return e.called=!0,t(...r)}}function mf(t,...e){t&&e.length>0&&t.classList.add(...e)}function Qc(t,...e){t&&e.length>0&&t.classList.remove(...e)}var Sp=(t=>(t.Finished="finished",t.Cancelled="cancelled",t))(Sp||{});function k9(t,e){let r=lc();if(!t)return r.dispose;let{transitionDuration:n,transitionDelay:s}=getComputedStyle(t),[i,o]=[n,s].map(a=>{let[c=0]=a.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,h)=>h-d);return c});return i!==0?r.setTimeout(()=>e("finished"),i+o):e("finished"),r.add(()=>e("cancelled")),r.dispose}function zb(t,e,r,n,s,i){let o=lc(),a=i!==void 0?_9(i):()=>{};return Qc(t,...s),mf(t,...e,...r),o.nextFrame(()=>{Qc(t,...r),mf(t,...n),o.add(k9(t,c=>(Qc(t,...n,...e),mf(t,...s),a(c))))}),o.add(()=>Qc(t,...e,...r,...n,...s)),o.add(()=>a("cancelled")),o.dispose}function xi(t=""){return t.split(/\s+/).filter(e=>e.length>1)}let Mg=Symbol("TransitionContext");var w9=(t=>(t.Visible="visible",t.Hidden="hidden",t))(w9||{});function E9(){return ot(Mg,null)!==null}function I9(){let t=ot(Mg,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}function T9(){let t=ot(Vg,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}let Vg=Symbol("NestingContext");function dh(t){return"children"in t?dh(t.children):t.value.filter(({state:e})=>e==="visible").length>0}function CE(t){let e=B([]),r=B(!1);je(()=>r.value=!0),Kt(()=>r.value=!1);function n(i,o=Ks.Hidden){let a=e.value.findIndex(({id:c})=>c===i);a!==-1&&(cr(o,{[Ks.Unmount](){e.value.splice(a,1)},[Ks.Hidden](){e.value[a].state="hidden"}}),!dh(e)&&r.value&&(t==null||t()))}function s(i){let o=e.value.find(({id:a})=>a===i);return o?o.state!=="visible"&&(o.state="visible"):e.value.push({id:i,state:"visible"}),()=>n(i,Ks.Unmount)}return{children:e,register:s,unregister:n}}let PE=zn.RenderStrategy,gs=Ze({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:r,slots:n,expose:s}){let i=B(0);function o(){i.value|=Lt.Opening,e("beforeEnter")}function a(){i.value&=~Lt.Opening,e("afterEnter")}function c(){i.value|=Lt.Closing,e("beforeLeave")}function d(){i.value&=~Lt.Closing,e("afterLeave")}if(!E9()&&RV())return()=>_t(mn,{...t,onBeforeEnter:o,onAfterEnter:a,onBeforeLeave:c,onAfterLeave:d},n);let h=B(null),f=te(()=>t.unmount?Ks.Unmount:Ks.Hidden);s({el:h,$el:h});let{show:p,appear:y}=I9(),{register:k,unregister:_}=T9(),b=B(p.value?"visible":"hidden"),I={value:!0},A=_n(),E={value:!1},R=CE(()=>{!E.value&&b.value!=="hidden"&&(b.value="hidden",_(A),d())});je(()=>{let P=k(A);Kt(P)}),ur(()=>{if(f.value===Ks.Hidden&&A){if(p.value&&b.value!=="visible"){b.value="visible";return}cr(b.value,{hidden:()=>_(A),visible:()=>k(A)})}});let S=xi(t.enter),L=xi(t.enterFrom),T=xi(t.enterTo),v=xi(t.entered),m=xi(t.leave),w=xi(t.leaveFrom),N=xi(t.leaveTo);je(()=>{ur(()=>{if(b.value==="visible"){let P=Se(h);if(P instanceof Comment&&P.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function C(P){let ce=I.value&&!y.value,he=Se(h);!he||!(he instanceof HTMLElement)||ce||(E.value=!0,p.value&&o(),p.value||c(),P(p.value?zb(he,S,L,T,v,G=>{E.value=!1,G===Sp.Finished&&a()}):zb(he,m,w,N,v,G=>{E.value=!1,G===Sp.Finished&&(dh(R)||(b.value="hidden",_(A),d()))})))}return je(()=>{Rt([p],(P,ce,he)=>{C(he),I.value=!1},{immediate:!0})}),zt(Vg,R),Ng(te(()=>cr(b.value,{visible:Lt.Open,hidden:Lt.Closed})|i.value)),()=>{let{appear:P,show:ce,enter:he,enterFrom:G,enterTo:U,entered:re,leave:ae,leaveFrom:Ee,leaveTo:ve,...Ce}=t,Fe={ref:h},at={...Ce,...y.value&&p.value&&cc.isServer?{class:Ie([r.class,Ce.class,...S,...L])}:{}};return $t({theirProps:at,ourProps:Fe,slot:{},slots:n,attrs:r,features:PE,visible:b.value==="visible",name:"TransitionChild"})}}}),A9=gs,mn=Ze({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:r,slots:n}){let s=uc(),i=te(()=>t.show===null&&s!==null?(s.value&Lt.Open)===Lt.Open:t.show);ur(()=>{if(![!0,!1].includes(i.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let o=B(i.value?"visible":"hidden"),a=CE(()=>{o.value="hidden"}),c=B(!0),d={show:i,appear:te(()=>t.appear||!c.value)};return je(()=>{ur(()=>{c.value=!1,i.value?o.value="visible":dh(a)||(o.value="hidden")})}),zt(Vg,a),zt(Mg,d),()=>{let h=ah(t,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),f={unmount:t.unmount};return $t({ourProps:{...f,as:"template"},theirProps:{},slot:{},slots:{...n,default:()=>[_t(A9,{onBeforeEnter:()=>e("beforeEnter"),onAfterEnter:()=>e("afterEnter"),onBeforeLeave:()=>e("beforeLeave"),onAfterLeave:()=>e("afterLeave"),...r,...f,...h},n.default)]},attrs:{},features:PE,visible:o.value==="visible",name:"Transition"})}}});function S9(t,e){return D(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})])}function C9(t,e){return D(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})])}function P9(t,e){return D(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"})])}function R9(t,e){return D(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"})])}function N9(t,e){return D(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})])}function Fl(t,e){return D(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function Wb(t,e){return D(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 12.75 6 6 9-13.5"})])}function $9(t,e){return D(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})])}function RE(t,e){return D(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})])}function O9(t,e){return D(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"})])}function D9(t,e){return D(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function M9(t,e){return D(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})])}function V9(t,e){return D(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})])}function L9(t,e){return D(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})])}function F9(t,e){return D(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.182 16.318A4.486 4.486 0 0 0 12.016 15a4.486 4.486 0 0 0-3.198 1.318M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0ZM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Z"})])}function U9(t,e){return D(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})])}function j9(t,e){return D(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})])}function gf(t,e){return D(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})])}function Kb(t,e){return D(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"})])}function NE(t,e){return D(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"})])}function B9(t,e){return D(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"})])}function pu(t,e){return D(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})])}function Gb(t,e){return D(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"})])}function q9(t,e){return D(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})])}function hh(t,e){return D(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})])}function H9(t,e){return D(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"fill-rule":"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})])}function $E(t,e){return D(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{d:"M3 4a2 2 0 0 0-2 2v1.161l8.441 4.221a1.25 1.25 0 0 0 1.118 0L19 7.162V6a2 2 0 0 0-2-2H3Z"}),l("path",{d:"m19 8.839-7.77 3.885a2.75 2.75 0 0 1-2.46 0L1 8.839V14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.839Z"})])}function Cp(t,e){return D(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm-8-5a.75.75 0 0 1 .75.75v4.5a.75.75 0 0 1-1.5 0v-4.5A.75.75 0 0 1 10 5Zm0 10a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z","clip-rule":"evenodd"})])}function z9(t,e){return D(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"fill-rule":"evenodd",d:"M2.628 1.601C5.028 1.206 7.49 1 10 1s4.973.206 7.372.601a.75.75 0 0 1 .628.74v2.288a2.25 2.25 0 0 1-.659 1.59l-4.682 4.683a2.25 2.25 0 0 0-.659 1.59v3.037c0 .684-.31 1.33-.844 1.757l-1.937 1.55A.75.75 0 0 1 8 18.25v-5.757a2.25 2.25 0 0 0-.659-1.591L2.659 6.22A2.25 2.25 0 0 1 2 4.629V2.34a.75.75 0 0 1 .628-.74Z","clip-rule":"evenodd"})])}function Pp(t,e){return D(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"fill-rule":"evenodd",d:"M10 1a4.5 4.5 0 0 0-4.5 4.5V9H5a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2h-.5V5.5A4.5 4.5 0 0 0 10 1Zm3 8V5.5a3 3 0 1 0-6 0V9h6Z","clip-rule":"evenodd"})])}function Qb(t,e){return D(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"fill-rule":"evenodd",d:"M4 10a.75.75 0 0 1 .75-.75h10.5a.75.75 0 0 1 0 1.5H4.75A.75.75 0 0 1 4 10Z","clip-rule":"evenodd"})])}function Yb(t,e){return D(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{d:"M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5Z"})])}function W9(t,e){return D(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"fill-rule":"evenodd",d:"M4.25 2A2.25 2.25 0 0 0 2 4.25v2.5A2.25 2.25 0 0 0 4.25 9h2.5A2.25 2.25 0 0 0 9 6.75v-2.5A2.25 2.25 0 0 0 6.75 2h-2.5Zm0 9A2.25 2.25 0 0 0 2 13.25v2.5A2.25 2.25 0 0 0 4.25 18h2.5A2.25 2.25 0 0 0 9 15.75v-2.5A2.25 2.25 0 0 0 6.75 11h-2.5Zm9-9A2.25 2.25 0 0 0 11 4.25v2.5A2.25 2.25 0 0 0 13.25 9h2.5A2.25 2.25 0 0 0 18 6.75v-2.5A2.25 2.25 0 0 0 15.75 2h-2.5Zm0 9A2.25 2.25 0 0 0 11 13.25v2.5A2.25 2.25 0 0 0 13.25 18h2.5A2.25 2.25 0 0 0 18 15.75v-2.5A2.25 2.25 0 0 0 15.75 11h-2.5Z","clip-rule":"evenodd"})])}function Jb(t,e){return D(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{d:"M10 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM3.465 14.493a1.23 1.23 0 0 0 .41 1.412A9.957 9.957 0 0 0 10 18c2.31 0 4.438-.784 6.131-2.1.43-.333.604-.903.408-1.41a7.002 7.002 0 0 0-13.074.003Z"})])}const K9={class:"min-h-screen bg-light-primary dark:bg-dark-secondary"},G9={class:"fixed inset-0 z-40 flex"},Q9={class:"flex items-center justify-between px-4"},Y9={class:"mt-4 border-t border-light-neutral-200 dark:border-dark-neutral-700"},J9={role:"list",class:"px-2 py-3 font-medium text-light-text-primary dark:text-dark-text-primary"},X9=["onClick"],Z9={class:"-mx-2 -my-3 flow-root"},eL={class:"font-medium text-light-text-primary dark:text-dark-text-primary"},tL={class:"ml-6 flex items-center"},rL={class:"space-y-6"},nL={class:"flex h-5 shrink-0 items-center"},sL={class:"group grid size-4 grid-cols-1"},iL=["id","name","value","checked","onChange"],oL=["for"],aL={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},lL={class:"flex items-baseline justify-between border-b border-light-neutral-200 dark:border-dark-neutral-700 pt-24 pb-6"},cL={class:"flex items-center"},uL={class:"py-1"},dL=["onClick"],hL={type:"button",class:"-m-2 ml-5 p-2 text-light-neutral-400 dark:text-dark-neutral-600 hover:text-light-neutral-500 dark:hover:text-dark-neutral-500 sm:ml-7"},fL={"aria-labelledby":"products-heading",class:"pt-6 pb-24"},pL={class:"grid grid-cols-1 gap-x-8 gap-y-10 lg:grid-cols-4"},mL={class:"hidden lg:block"},gL={role:"list",class:"space-y-4 border-b border-light-neutral-200 dark:border-dark-neutral-700 pb-6 text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},yL=["onClick"],vL={class:"mt-2"},bL={class:"-my-3 flow-root"},xL={class:"font-medium text-light-text-primary dark:text-dark-text-primary"},_L={class:"ml-6 flex items-center"},kL={class:"space-y-4"},wL={class:"flex h-5 shrink-0 items-center"},EL={class:"group grid size-4 grid-cols-1"},IL=["id","name","value","checked","onChange"],TL=["for"],AL={class:"lg:col-span-3"},SL={key:0,class:"text-center py-8"},CL={key:1,class:"text-center py-8"},PL={key:2,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},RL={__name:"ProductsView",setup(t){const e=B([]),r=B([]),n=B(!0);ao();const s=B(!1),i=B(null),o=B(null),a=Yr({metal:[],category:[],price:[]}),c=[{name:"Most Popular",href:"#",current:!0},{name:"Best Rating",href:"#",current:!1},{name:"Newest",href:"#",current:!1},{name:"Price: Low to High",href:"#",current:!1,sort:(A,E)=>A.price-E.price},{name:"Price: High to Low",href:"#",current:!1,sort:(A,E)=>E.price-A.price}],d=B(c[0]),h=[{name:"Beaded Jewelry",href:"#",value:"Beaded Jewelry"},{name:"String Jewelry",href:"#",value:"String Jewelry"},{name:"Metal Jewelry",href:"#",value:"Metal Jewelry"},{name:"Gemstones",href:"#",value:"Gemstones"},{name:"Earrings",href:"#",value:"Earrings"},{name:"Necklaces",href:"#",value:"Necklaces"},{name:"Bracelets",href:"#",value:"Bracelets"},{name:"Rings",href:"#",value:"Rings"}],f=[{id:"metal",name:"Metal Type",options:[{value:"gold",label:"Gold",checked:!1},{value:"silver",label:"Sterling Silver",checked:!1},{value:"rose-gold",label:"Rose Gold",checked:!1},{value:"beads",label:"Glass Beads",checked:!1},{value:"gemstones",label:"Gemstones",checked:!1},{value:"pearls",label:"Pearls",checked:!1}]},{id:"style",name:"Style",options:[{value:"handcrafted",label:"Handcrafted",checked:!1},{value:"modern",label:"Modern",checked:!1},{value:"traditional",label:"Traditional",checked:!1},{value:"luxury",label:"Luxury",checked:!1}]},{id:"price",name:"Price Range",options:[{value:"under-5000",label:"Under KES 5,000",checked:!1},{value:"5000-10000",label:"KES 5,000 - 10,000",checked:!1},{value:"10000-20000",label:"KES 10,000 - 20,000",checked:!1},{value:"20000-plus",label:"KES 20,000+",checked:!1}]}],p=te(()=>{let A=[...r.value];return a.metal.length>0&&(A=A.filter(E=>a.metal.includes(E.metal))),a.category.length>0&&(A=A.filter(E=>E.tags&&E.tags.some(R=>a.category.includes(R)))),a.price.length>0&&(A=A.filter(E=>{const R=E.price;return a.price.some(S=>S==="under-5000"?R<5e3:S==="5000-10000"?R>=5e3&&R<=1e4:S==="10000-20000"?R>=1e4&&R<=2e4:S==="20000-plus"?R>2e4:!1)})),d.value.sort&&(A=[...A].sort(d.value.sort)),A}),y=()=>{e.value=p.value},k=(A,E)=>{const R=a[A],S=R.indexOf(E);S===-1?R.push(E):R.splice(S,1),f.forEach(L=>{L.id===A&&L.options.forEach(T=>{T.checked=R.includes(T.value)})}),y()},_=A=>{a.category=[],e.value=r.value.filter(E=>E.category===A)},b=A=>{c.forEach(E=>E.current=E===A),d.value=A,y()};je(async()=>{n.value=!0;try{const A=await I();if(A.length>0)console.log("Loaded products from Firestore:",A.length),r.value=A,e.value=A;else{console.log("No products in Firestore, using mock data");const E=await Co.getProducts();r.value=E||[],e.value=E||[]}console.log("Total products loaded:",e.value.length)}catch(A){console.error("Error loading products:",A),r.value=[],e.value=[]}finally{n.value=!1}});const I=async()=>{try{if(!Ue.getFirestore())return[];const E=Ue.getCollection("products"),R=await Ue.getDocuments(E);return R.empty?[]:R.docs.map(S=>{const L=S.data();return{id:S.id,...L,name:L.name||"Unnamed Product",price:L.price||0,category:L.category||"Uncategorized",description:L.description||"",images:L.images||[],image:L.images&&L.images.length>0?L.images[0].startsWith("base64://")?L.images[0].replace("base64://",""):L.images[0]:"https://via.placeholder.com/300x300?text=No+Image"}})}catch(A){return console.error("Error loading products from Firestore:",A),[]}};return(A,E)=>{var R;return D(),V("div",K9,[i.value?(D(),V("div",{key:0,class:"cart-animation fixed pointer-events-none z-50",ref_key:"cartAnimationEl",ref:o,style:Ct({backgroundImage:`url(${(R=i.value)==null?void 0:R.image})`})},null,4)):de("",!0),l("div",null,[z(q(mn),{as:"template",show:s.value},{default:Z(()=>[z(q(lh),{class:"relative z-40 lg:hidden",onClose:E[1]||(E[1]=S=>s.value=!1)},{default:Z(()=>[z(q(gs),{as:"template",enter:"transition-opacity ease-linear duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-linear duration-300","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Z(()=>E[4]||(E[4]=[l("div",{class:"fixed inset-0 bg-black/25"},null,-1)])),_:1}),l("div",G9,[z(q(gs),{as:"template",enter:"transition ease-in-out duration-300 transform","enter-from":"translate-x-full","enter-to":"translate-x-0",leave:"transition ease-in-out duration-300 transform","leave-from":"translate-x-0","leave-to":"translate-x-full"},{default:Z(()=>[z(q(ch),{class:"relative ml-auto flex size-full max-w-xs flex-col overflow-y-auto bg-light-secondary dark:bg-dark-secondary py-4 pb-12 shadow-xl"},{default:Z(()=>[l("div",Q9,[E[6]||(E[6]=l("h2",{class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary"},"Filters",-1)),l("button",{type:"button",class:"-mr-2 flex size-10 items-center justify-center rounded-md bg-light-secondary dark:bg-dark-secondary p-2 text-light-neutral-500 dark:text-dark-neutral-500",onClick:E[0]||(E[0]=S=>s.value=!1)},[E[5]||(E[5]=l("span",{class:"sr-only"},"Close menu",-1)),z(q(hh),{class:"size-6","aria-hidden":"true"})])]),l("form",Y9,[E[8]||(E[8]=l("h3",{class:"sr-only"},"Categories",-1)),l("ul",J9,[(D(),V(_e,null,Ve(h,S=>l("li",{key:S.name},[l("a",{href:"#",onClick:Ar(L=>_(S.value),["prevent"]),class:"block px-2 py-3"},H(S.name),9,X9)])),64))]),(D(),V(_e,null,Ve(f,S=>z(q(rd),{as:"div",key:S.id,class:"border-t border-light-neutral-200 dark:border-dark-neutral-700 px-4 py-6"},{default:Z(({open:L})=>[l("h3",Z9,[z(q(nd),{class:"flex w-full items-center justify-between bg-light-secondary dark:bg-dark-secondary px-2 py-3 text-light-neutral-500 dark:text-dark-neutral-500 hover:text-light-neutral-700 dark:hover:text-dark-neutral-300"},{default:Z(()=>[l("span",eL,H(S.name),1),l("span",tL,[L?(D(),mt(q(Qb),{key:1,class:"size-5","aria-hidden":"true"})):(D(),mt(q(Yb),{key:0,class:"size-5","aria-hidden":"true"}))])]),_:2},1024)]),z(q(sd),{class:"pt-6"},{default:Z(()=>[l("div",rL,[(D(!0),V(_e,null,Ve(S.options,(T,v)=>(D(),V("div",{key:T.value,class:"flex gap-3"},[l("div",nL,[l("div",sL,[l("input",{id:`filter-mobile-${S.id}-${v}`,name:`${S.id}[]`,value:T.value,type:"checkbox",checked:T.checked,onChange:m=>k(S.id,T.value),class:"col-start-1 row-start-1 appearance-none rounded-sm border border-light-neutral-300 dark:border-dark-neutral-700 bg-light-secondary dark:bg-dark-secondary checked:border-accent-primary checked:bg-accent-primary focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent-primary disabled:border-light-neutral-300 dark:disabled:border-dark-neutral-700 disabled:bg-light-neutral-100 dark:disabled:bg-dark-neutral-800"},null,40,iL),E[7]||(E[7]=l("svg",{class:"pointer-events-none col-start-1 row-start-1 size-3.5 self-center justify-self-center stroke-white group-has-disabled:stroke-light-neutral-900/25 dark:group-has-disabled:stroke-dark-neutral-100/25",viewBox:"0 0 14 14",fill:"none"},[l("path",{class:"opacity-0 group-has-checked:opacity-100",d:"M3 8L6 11L11 3.5","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{class:"opacity-0 group-has-indeterminate:opacity-100",d:"M3 7H11","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1))])]),l("label",{for:`filter-mobile-${S.id}-${v}`,class:"min-w-0 flex-1 text-light-neutral-600 dark:text-dark-neutral-400"},H(T.label),9,oL)]))),128))])]),_:2},1024)]),_:2},1024)),64))])]),_:1})]),_:1})])]),_:1})]),_:1},8,["show"]),l("main",aL,[l("div",lL,[E[12]||(E[12]=l("h1",{class:"text-2xl lg:text-4xl font-bold tracking-tight text-light-text-primary dark:text-dark-text-primary"},"Our Collection",-1)),l("div",cL,[z(q(IE),{as:"div",class:"relative inline-block text-left"},{default:Z(()=>[l("div",null,[z(q(TE),{class:"group inline-flex justify-center text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary"},{default:Z(()=>[E[9]||(E[9]=ue(" Sort ")),z(q(H9),{class:"-mr-1 ml-1 size-5 shrink-0 text-light-neutral-400 dark:text-dark-neutral-600 group-hover:text-light-neutral-500 dark:group-hover:text-dark-neutral-500","aria-hidden":"true"})]),_:1})]),z(zs,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:Z(()=>[z(q(AE),{class:"absolute right-0 z-10 mt-2 w-40 origin-top-right rounded-md bg-light-secondary dark:bg-dark-secondary ring-1 shadow-2xl ring-black/5 focus:outline-hidden"},{default:Z(()=>[l("div",uL,[(D(),V(_e,null,Ve(c,S=>z(q(Wa),{key:S.name},{default:Z(({active:L})=>[l("a",{href:"#",onClick:Ar(T=>b(S),["prevent"]),class:Ie([S.current?"font-medium text-light-text-primary dark:text-dark-text-primary":"text-light-text-secondary dark:text-dark-text-secondary",L?"bg-light-neutral-100 dark:bg-dark-neutral-800 outline-hidden":"","block px-4 py-2 text-sm"])},H(S.name),11,dL)]),_:2},1024)),64))])]),_:1})]),_:1})]),_:1}),l("button",hL,[E[10]||(E[10]=l("span",{class:"sr-only"},"View grid",-1)),z(q(W9),{class:"size-5","aria-hidden":"true"})]),l("button",{type:"button",class:"-m-2 ml-4 p-2 text-light-neutral-400 dark:text-dark-neutral-600 hover:text-light-neutral-500 dark:hover:text-dark-neutral-500 sm:ml-6 lg:hidden",onClick:E[2]||(E[2]=S=>s.value=!0)},[E[11]||(E[11]=l("span",{class:"sr-only"},"Filters",-1)),z(q(z9),{class:"size-5","aria-hidden":"true"})])])]),l("section",fL,[E[17]||(E[17]=l("h2",{id:"products-heading",class:"sr-only"},"Products",-1)),l("div",pL,[l("form",mL,[E[14]||(E[14]=l("h3",{class:"sr-only"},"Categories",-1)),l("ul",gL,[(D(),V(_e,null,Ve(h,S=>l("li",{key:S.name},[l("a",{href:"#",onClick:Ar(L=>_(S.value),["prevent"])},H(S.name),9,yL)])),64)),l("li",vL,[l("a",{href:"#",onClick:E[3]||(E[3]=Ar(S=>e.value=r.value,["prevent"])),class:"text-accent-primary hover:text-accent-secondary"}," View All ")])]),(D(),V(_e,null,Ve(f,S=>z(q(rd),{as:"div",key:S.id,class:"border-b border-light-neutral-200 dark:border-dark-neutral-700 py-6"},{default:Z(({open:L})=>[l("h3",bL,[z(q(nd),{class:"flex w-full items-center justify-between dark:bg-dark-secondary py-3 text-sm text-light-neutral-400 dark:text-dark-neutral-600 hover:text-light-neutral-500 dark:hover:text-dark-neutral-500"},{default:Z(()=>[l("span",xL,H(S.name),1),l("span",_L,[L?(D(),mt(q(Qb),{key:1,class:"size-5","aria-hidden":"true"})):(D(),mt(q(Yb),{key:0,class:"size-5","aria-hidden":"true"}))])]),_:2},1024)]),z(q(sd),{class:"pt-6"},{default:Z(()=>[l("div",kL,[(D(!0),V(_e,null,Ve(S.options,(T,v)=>(D(),V("div",{key:T.value,class:"flex gap-3"},[l("div",wL,[l("div",EL,[l("input",{id:`filter-${S.id}-${v}`,name:`${S.id}[]`,value:T.value,type:"checkbox",checked:T.checked,onChange:m=>k(S.id,T.value),class:"col-start-1 row-start-1 appearance-none rounded-sm border border-light-neutral-300 dark:border-dark-neutral-700 bg-light-secondary dark:bg-dark-secondary checked:border-accent-primary checked:bg-accent-primary focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent-primary disabled:border-light-neutral-300 dark:disabled:border-dark-neutral-700 disabled:bg-light-neutral-100 dark:disabled:bg-dark-neutral-800"},null,40,IL),E[13]||(E[13]=l("svg",{class:"pointer-events-none col-start-1 row-start-1 size-3.5 self-center justify-self-center stroke-white group-has-disabled:stroke-light-neutral-900/25 dark:group-has-disabled:stroke-dark-neutral-100/25",viewBox:"0 0 14 14",fill:"none"},[l("path",{class:"opacity-0 group-has-checked:opacity-100",d:"M3 8L6 11L11 3.5","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{class:"opacity-0 group-has-indeterminate:opacity-100",d:"M3 7H11","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1))])]),l("label",{for:`filter-${S.id}-${v}`,class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},H(T.label),9,TL)]))),128))])]),_:2},1024)]),_:2},1024)),64))]),l("div",AL,[n.value?(D(),V("div",SL,E[15]||(E[15]=[l("p",{class:"text-light-text-secondary dark:text-dark-text-secondary"},"Loading products...",-1)]))):e.value.length===0?(D(),V("div",CL,E[16]||(E[16]=[l("p",{class:"text-light-text-secondary dark:text-dark-text-secondary"},"No products found.",-1)]))):(D(),V("div",PL,[(D(!0),V(_e,null,Ve(e.value,S=>(D(),mt(iE,{key:S.id,product:S},null,8,["product"]))),128))]))])])])])])])}}},NL=jr(RL,[["__scopeId","data-v-79bb339f"]]),$L={class:"flex h-full items-center justify-center p-4"},OL=["src","alt"],DL={__name:"ImageViewer",props:{images:{type:Array,required:!0},currentIndex:{type:Number,required:!0},isOpen:{type:Boolean,required:!0},alt:{type:String,default:"Product image"}},emits:["update:currentIndex","close"],setup(t,{emit:e}){const r=t,n=e,s=B(r.images[r.currentIndex]);Rt(()=>r.currentIndex,c=>{s.value=r.images[c]});const i=()=>{const c=(r.currentIndex+1)%r.images.length;n("update:currentIndex",c)},o=()=>{const c=(r.currentIndex-1+r.images.length)%r.images.length;n("update:currentIndex",c)},a=()=>{n("close")};return(c,d)=>t.isOpen?(D(),V("div",{key:0,class:"fixed inset-0 z-50 bg-black/80",onClick:Ar(a,["self"])},[l("div",{class:"absolute top-4 right-4 z-50"},[l("button",{onClick:a,class:"p-2 text-white hover:text-accent-primary"},d[0]||(d[0]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),l("div",$L,[l("button",{onClick:o,class:"absolute left-4 p-2 text-white hover:text-accent-primary"},d[1]||(d[1]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),l("img",{src:s.value,alt:t.alt,class:"max-h-full max-w-full object-contain"},null,8,OL),l("button",{onClick:i,class:"absolute right-4 p-2 text-white hover:text-accent-primary"},d[2]||(d[2]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))])])):de("",!0)}},ML={class:"flex mb-4","aria-label":"Breadcrumb"},VL={class:"inline-flex items-center space-x-1 md:space-x-3"},LL={key:1,class:"text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},fh={__name:"Breadcrumbs",props:{items:{type:Array,required:!0}},setup(t){return(e,r)=>{const n=Rr("router-link");return D(),V("nav",ML,[l("ol",VL,[(D(!0),V(_e,null,Ve(t.items,(s,i)=>(D(),V("li",{key:i,class:"inline-flex items-center"},[i===0?(D(),mt(n,{key:0,to:s.path,class:"inline-flex items-center text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary hover:text-accent-primary dark:hover:text-accent-primary"},{default:Z(()=>[z(q(U9),{class:"w-4 h-4 mr-2"}),ue(" "+H(s.text),1)]),_:2},1032,["to"])):(D(),V(_e,{key:1},[z(q(RE),{class:"w-4 h-4 mx-1 text-light-neutral-400 dark:text-dark-neutral-600"}),s.path?(D(),mt(n,{key:0,to:s.path,class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary hover:text-accent-primary dark:hover:text-accent-primary"},{default:Z(()=>[ue(H(s.text),1)]),_:2},1032,["to"])):(D(),V("span",LL,H(s.text),1))],64))]))),128))])])}}},FL={class:"bg-light-primary dark:bg-dark-primary"},UL={class:"pt-6"},jL={class:"mx-auto max-w-2xl px-4 sm:px-6 lg:max-w-7xl lg:px-8"},BL={key:0,class:"text-center py-8"},qL={key:1,class:"mx-auto max-w-2xl px-4 sm:px-6 lg:max-w-7xl lg:px-8"},HL={class:"bg-red-100 dark:bg-red-900/20 p-4 rounded mb-6"},zL={class:"text-red-700 dark:text-red-400"},WL={class:"mx-auto mt-6 max-w-2xl sm:px-6 lg:max-w-7xl lg:px-8"},KL={class:"hidden sm:block lg:grid lg:grid-cols-3 lg:gap-4"},GL={class:"lg:grid lg:grid-rows-2 lg:gap-4"},QL=["src","alt"],YL=["src","alt"],JL={class:"lg:grid lg:grid-rows-2 lg:gap-4"},XL=["src","alt"],ZL=["src","alt"],e8={class:"lg:grid lg:grid-rows-2 lg:gap-4"},t8=["src","alt"],r8=["src","alt"],n8={class:"block sm:hidden relative"},s8={class:"relative overflow-hidden h-[70vh] rounded-lg bg-light-secondary dark:bg-dark-secondary"},i8=["src","alt"],o8={class:"flex justify-center mt-4"},a8=["onClick","aria-label"],l8={class:"mx-auto max-w-2xl px-4 pb-16 pt-10 sm:px-6 lg:grid lg:max-w-7xl lg:grid-cols-3 lg:grid-rows-[auto,auto,1fr] lg:gap-x-8 lg:px-8 lg:pb-24 lg:pt-16"},c8={class:"lg:col-span-2"},u8={class:"text-2xl font-bold tracking-tight text-light-text-primary dark:text-dark-text-primary"},d8={class:"mt-4 lg:row-span-3 lg:mt-0 lg:border-l lg:border-accent-primary/30 dark:lg:border-accent-primary/20 lg:pl-8"},h8={key:0,class:"bg-accent-primary/10 border border-accent-primary/30 text-accent-primary dark:text-dark-text-primary px-4 py-3 rounded mb-4"},f8={class:"mb-6"},p8={class:"text-3xl font-semibold tracking-tight text-purple-700 dark:text-white"},m8={key:0,class:"text-sm text-purple-600 dark:text-dark-text-secondary mt-1"},g8={class:"mt-10"},y8={class:"flex items-center justify-between mb-4"},v8={class:"grid grid-cols-2 gap-3 mb-6"},b8=["onClick"],x8={key:0,class:"absolute -top-2 -left-1 text-xs px-1.5 py-0.5 bg-amber-500 text-white rounded-full"},_8={class:"absolute -top-1 -right-1 flex -space-x-1"},k8={class:"bg-white dark:bg-dark-primary rounded-lg p-6 max-w-md w-full"},w8={class:"mb-4"},E8={class:"mb-4"},I8={class:"flex flex-wrap gap-2 items-center"},T8=["onUpdate:modelValue"],A8=["onClick"],S8=["disabled","title"],C8={key:0,class:"mt-2 text-sm text-red-500"},P8={class:"flex justify-end gap-3"},R8=["disabled"],N8={class:"mb-6"},$8={class:"flex items-center justify-center border border-light-neutral-200 dark:border-dark-neutral-700 rounded-lg bg-light-secondary dark:bg-dark-secondary"},O8=["max"],D8={class:"py-10 lg:col-span-2 lg:col-start-1 lg:pb-16 lg:pr-8 lg:pt-6"},M8={class:"space-y-6"},V8={class:"text-base text-light-text-primary dark:text-dark-text-primary"},L8={key:0,class:"mt-10"},F8={class:"list-disc space-y-2 pl-4 text-sm"},U8={key:0,class:"text-light-text-secondary dark:text-dark-text-secondary"},j8={key:1,class:"text-light-text-secondary dark:text-dark-text-secondary"},B8={key:1,class:"mt-10"},q8={class:"list-disc space-y-2 pl-4 text-sm"},H8={key:2,class:"mt-10"},z8={class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},W8={key:3,class:"mt-10"},K8={class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},G8={key:4,class:"mt-10"},Q8={class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},Y8={key:3,class:"text-center py-8"},J8={__name:"ProductDetailView",setup(t){const e=Od(),r=di(),n=ao(),s=wn(),i=B(null),o=B(!0),a=B(null),c=B(1),d=B(0),h=B(!1),f=B(0),p=B(null),y=B(null),k=B(!1),_=B(""),b=B(["#ffffff"]),I=B(""),A=B([]),E=B(!1),R=B(0),S=te(()=>e.params.id),L=te(()=>i.value?i.value.price*c.value:0),T=te(()=>{var K,F;return((F=(K=i.value)==null?void 0:K.images)==null?void 0:F.map(j=>w(j.main)||pt("placeholder.jpg")))||[]}),v=te(()=>{var K,F;return((F=(K=i.value)==null?void 0:K.careInstructions)==null?void 0:F.split(`
`).filter(j=>j.trim()))||[]}),m=te(()=>{var K,F;return((F=(K=i.value)==null?void 0:K.images)==null?void 0:F.some(j=>{var ee;return(ee=j.main)==null?void 0:ee.startsWith("temp://")}))||!1}),w=K=>K?typeof K=="string"&&K.startsWith("base64://")?K.replace("base64://",""):K:pt("placeholder.jpg"),N=async()=>{o.value=!0,a.value=null;try{const K=await Ue.getProduct(S.value);i.value={...K,careInstructions:K.careInstructions||"",sizingAndFit:K.sizingAndFit||"Standard sizing available. Contact for custom sizes.",shippingInfo:K.shippingInfo||"Standard shipping available.",returnPolicy:K.returnPolicy||"Standard return policy applies.",materials:K.materials||"",dimensions:K.dimensions||"",variants:K.variants||[{name:"Default",colors:["#000000"]}],images:C(K.images)},await Ce()}catch(K){console.error("Error fetching product:",K),a.value="Failed to load product details"}finally{o.value=!1}},C=K=>!Array.isArray(K)||K.length===0?[{main:pt("placeholder.jpg"),thumb:pt("placeholder.jpg")}]:K.map(F=>({main:w(F.main||F)||pt("placeholder.jpg"),thumb:w(F.thumb||F)||pt("placeholder.jpg")})),P=K=>{console.error("Image failed to load:",K.target.src),K.target.src=pt("placeholder.jpg"),K.target.onerror=()=>{const F=K.target.parentNode;if(F){const j=document.createElement("div");j.innerHTML=`
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="100%" height="100%">
          <rect width="100%" height="100%" fill="#f0f0f0"/>
          <path d="M12 6v12M6 12h12" stroke="#aaa" stroke-width="2" stroke-linecap="round"/>
        </svg>
      `,j.className="broken-image",F.replaceChild(j,K.target)}}},ce=async K=>{if(!i.value)return;const F=K.target.getBoundingClientRect(),j=F.left+F.width/2,ee=F.top+F.height/2,ie=document.querySelector(".group-hover\\:text-gray-500")||document.querySelector('a[href="/cart"] svg');let W=window.innerWidth-60,M=20;if(ie){const O=ie.getBoundingClientRect();W=O.left+O.width/2,M=O.top+O.height/2}p.value=i.value,await ar(),y.value?(y.value.style.top=`${ee}px`,y.value.style.left=`${j}px`,y.value.style.opacity="1",y.value.style.transform="scale(1)",setTimeout(()=>{y.value.style.top=`${M}px`,y.value.style.left=`${W}px`,y.value.style.opacity="0",y.value.style.transform="scale(0.3)"},50),setTimeout(()=>{n.addToCart(i.value,c.value),p.value=null},600)):n.addToCart(i.value,c.value)},he=()=>r.back(),G=K=>{f.value=K,h.value=!0},U=()=>{h.value=!1},re=()=>{b.value.length<5?(b.value.push("#ffffff"),I.value=""):I.value="Maximum 5 colors allowed"},ae=K=>{b.value.length>1&&(b.value.splice(K,1),I.value="")},Ee=()=>{k.value=!1,_.value="",b.value=["#ffffff"],I.value=""},ve=async()=>{if(_.value.trim())try{const K=s.getUser;await Ue.submitVariantRequest({productId:i.value.id,productName:i.value.name,suggestion:_.value,colors:b.value,userId:(K==null?void 0:K.uid)||null,userEmail:(K==null?void 0:K.email)||"Anonymous",timestamp:new Date}),alert("Thank you! Your custom variant request has been submitted."),Ee()}catch(K){console.error("Error submitting variant request:",K),alert("Failed to submit request. Please try again.")}},Ce=async()=>{var K;if((K=i.value)!=null&&K.id){E.value=!0;try{const F=await Ue.getVariantRequests();A.value=F.filter(j=>j.productId===i.value.id).map(j=>{var ee,ie;return{name:j.suggestion.length>20?j.suggestion.substring(0,20)+"...":j.suggestion,colors:j.requestedColors||[],fullSuggestion:j.suggestion,isSuggested:!0,userEmail:j.userEmail,createdAt:((ie=(ee=j.createdAt)==null?void 0:ee.toDate)==null?void 0:ie.call(ee))||new Date}})}catch(F){console.error("Error fetching variant suggestions:",F)}finally{E.value=!1}}},Fe=te(()=>{var F;return[...((F=i.value)==null?void 0:F.variants.map(j=>({...j,isSuggested:!1})))||[],...A.value]}),at=te(()=>{if(!i.value)return[{text:"Home",path:"/"},{text:"Products",path:"/products"}];const K=[{text:"Home",path:"/"},{text:"Products",path:"/products"}];return i.value.category&&K.push({text:i.value.category,path:`/products?category=${encodeURIComponent(i.value.category)}`}),K.push({text:i.value.name}),K}),Tt=()=>{var K,F;(F=(K=i.value)==null?void 0:K.images)!=null&&F.length&&(R.value=(R.value+1)%i.value.images.length)},bt=()=>{var K,F;(F=(K=i.value)==null?void 0:K.images)!=null&&F.length&&(R.value=(R.value-1+i.value.images.length)%i.value.images.length)};return je(N),Rt(()=>e.params.id,N),(K,F)=>{var j,ee,ie,W,M,O,Y,oe;return D(),V("div",FL,[l("div",UL,[l("div",jL,[z(fh,{items:at.value},null,8,["items"])]),o.value?(D(),V("div",BL,F[13]||(F[13]=[l("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-accent-primary mb-2"},null,-1),l("p",{class:"text-light-text-primary dark:text-dark-text-primary"},"Loading your beautiful jewelry...",-1)]))):a.value?(D(),V("div",qL,[l("div",HL,[l("p",zL,H(a.value),1),l("button",{onClick:he,class:"mt-2 text-sm text-accent-primary hover:underline"},"← Return to previous page")])])):i.value?(D(),V(_e,{key:2},[l("div",WL,[l("div",KL,[l("div",GL,[l("div",{class:"aspect-square overflow-hidden rounded-lg cursor-pointer bg-light-secondary dark:bg-dark-secondary",onClick:F[0]||(F[0]=J=>G(0))},[l("img",{src:w((j=i.value.images[0])==null?void 0:j.main)||q(pt)("placeholder.jpg"),alt:i.value.name,class:"h-full w-full object-cover",onError:P},null,40,QL)]),l("div",{class:"aspect-square overflow-hidden rounded-lg cursor-pointer bg-light-secondary dark:bg-dark-secondary",onClick:F[1]||(F[1]=J=>G(1))},[l("img",{src:w((ee=i.value.images[1])==null?void 0:ee.main)||q(pt)("placeholder.jpg"),alt:i.value.name,class:"h-full w-full object-cover",onError:P},null,40,YL)])]),l("div",JL,[l("div",{class:"aspect-square overflow-hidden rounded-lg cursor-pointer bg-light-secondary dark:bg-dark-secondary",onClick:F[2]||(F[2]=J=>G(2))},[l("img",{src:w((ie=i.value.images[2])==null?void 0:ie.main)||q(pt)("placeholder.jpg"),alt:i.value.name,class:"h-full w-full object-cover",onError:P},null,40,XL)]),l("div",{class:"aspect-square overflow-hidden rounded-lg cursor-pointer bg-light-secondary dark:bg-dark-secondary",onClick:F[3]||(F[3]=J=>G(3))},[l("img",{src:w((W=i.value.images[3])==null?void 0:W.main)||q(pt)("placeholder.jpg"),alt:i.value.name,class:"h-full w-full object-cover",onError:P},null,40,ZL)])]),l("div",e8,[l("div",{class:"aspect-square overflow-hidden rounded-lg cursor-pointer bg-light-secondary dark:bg-dark-secondary",onClick:F[4]||(F[4]=J=>G(4))},[l("img",{src:w((M=i.value.images[4])==null?void 0:M.main)||q(pt)("placeholder.jpg"),alt:i.value.name,class:"h-full w-full object-cover",onError:P},null,40,t8)]),l("div",{class:"aspect-square overflow-hidden rounded-lg cursor-pointer bg-light-secondary dark:bg-dark-secondary",onClick:F[5]||(F[5]=J=>G(5))},[l("img",{src:w((O=i.value.images[5])==null?void 0:O.main)||q(pt)("placeholder.jpg"),alt:i.value.name,class:"h-full w-full object-cover",onError:P},null,40,r8)])])]),l("div",n8,[l("div",s8,[l("img",{src:w((Y=i.value.images[R.value])==null?void 0:Y.main)||q(pt)("placeholder.jpg"),alt:i.value.name,class:"h-full w-full object-contain",onError:P},null,40,i8),l("button",{onClick:bt,class:"absolute left-2 top-1/2 -translate-y-1/2 bg-white/70 dark:bg-black/60 rounded-full p-2 shadow-lg text-accent-primary hover:bg-white hover:text-btn-primary-hover transition-colors"},F[14]||(F[14]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})],-1)])),l("button",{onClick:Tt,class:"absolute right-2 top-1/2 -translate-y-1/2 bg-white/70 dark:bg-black/60 rounded-full p-2 shadow-lg text-accent-primary hover:bg-white hover:text-btn-primary-hover transition-colors"},F[15]||(F[15]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})],-1)])),l("button",{onClick:F[6]||(F[6]=J=>G(R.value)),class:"absolute right-2 top-2 bg-white/70 dark:bg-black/60 rounded-full p-2 shadow-lg text-accent-primary hover:bg-white hover:text-btn-primary-hover transition-colors"},F[16]||(F[16]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 3.75v4.5m0-4.5h4.5m9 0h4.5m-4.5 0v4.5m-9 18.75h4.5m-4.5 0v-4.5m4.5 0h9m-9 0v4.5m0 0h4.5"})],-1)]))]),l("div",o8,[(D(!0),V(_e,null,Ve(T.value,(J,ne)=>(D(),V("button",{key:ne,onClick:pe=>R.value=ne,class:Ie(["w-2 h-2 mx-1 rounded-full transition-colors",R.value===ne?"bg-accent-primary":"bg-gray-300 dark:bg-dark-neutral-600"]),"aria-label":`View image ${ne+1}`},null,10,a8))),128))])])]),i.value?(D(),mt(DL,{key:0,images:T.value,"current-index":f.value,"is-open":h.value,alt:i.value.name,"onUpdate:currentIndex":F[7]||(F[7]=J=>f.value=J),onClose:U},null,8,["images","current-index","is-open","alt"])):de("",!0),p.value?(D(),V("div",{key:1,class:"cart-animation",ref_key:"cartAnimationEl",ref:y,style:Ct({backgroundImage:`url(${w((oe=p.value.images[0])==null?void 0:oe.main)||q(pt)("placeholder.jpg")})`})},null,4)):de("",!0),l("div",l8,[l("div",c8,[l("h1",u8,H(i.value.name),1)]),l("div",d8,[m.value?(D(),V("div",h8,F[17]||(F[17]=[l("strong",{class:"font-bold"},"Warning:",-1),ue(" Some images are temporarily stored locally. ")]))):de("",!0),l("div",f8,[F[18]||(F[18]=l("h2",{class:"sr-only"},"Product information",-1)),l("p",p8,H(q(Ye)(L.value)),1),c.value>1?(D(),V("p",m8,H(q(Ye)(i.value.price))+" each",1)):de("",!0)]),l("div",g8,[l("div",y8,[F[19]||(F[19]=l("h3",{class:"text-sm font-medium text-gray-900 dark:text-dark-text-primary"},"Variants",-1)),l("button",{onClick:F[8]||(F[8]=J=>k.value=!0),class:"text-sm text-btn-primary hover:text-btn-primary-hover transition-colors"},"Request Custom Variant")]),l("div",v8,[(D(!0),V(_e,null,Ve(Fe.value,(J,ne)=>(D(),V("button",{key:ne,onClick:pe=>d.value=ne,class:Ie(["relative flex items-center justify-center rounded-lg border-2 py-3 px-4 text-sm font-medium transition-all duration-200",d.value===ne?"border-purple-600 bg-purple-50 text-purple-700 dark:border-accent-primary dark:bg-accent-primary/10 dark:text-accent-primary shadow-sm":"border-gray-300 dark:border-dark-neutral-700 text-purple-700 dark:text-dark-text-primary hover:border-purple-600/50"])},[l("span",null,H(J.name),1),J.isSuggested?(D(),V("span",x8," Suggested ")):de("",!0),l("div",_8,[(D(!0),V(_e,null,Ve(J.colors,(pe,me)=>(D(),V("div",{key:me,class:"w-3 h-3 rounded-full border border-white dark:border-dark-neutral-800",style:Ct({backgroundColor:pe})},null,4))),128))])],10,b8))),128))]),k.value?(D(),V("div",{key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:Ar(Ee,["self"])},[l("div",k8,[l("div",{class:"flex justify-between items-center mb-4"},[F[20]||(F[20]=l("h3",{class:"text-lg font-medium text-gray-900 dark:text-dark-text-primary"},"Request Custom Variant",-1)),l("button",{onClick:Ee,class:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"},"✕")]),l("div",w8,[F[21]||(F[21]=l("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Describe your desired variant",-1)),xe(l("textarea",{"onUpdate:modelValue":F[9]||(F[9]=J=>_.value=J),rows:"4",placeholder:"Example: I'd love this in blue crystal beads with silver threading",class:"w-full p-3 border rounded-lg bg-white dark:bg-dark-secondary text-gray-700 dark:text-gray-200 border-gray-300 dark:border-dark-neutral-600 focus:ring-2 focus:ring-purple-500 focus:border-purple-500"},null,512),[[Pe,_.value]])]),l("div",E8,[F[22]||(F[22]=l("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Select Colors (Max 5)",-1)),l("div",I8,[(D(!0),V(_e,null,Ve(b.value,(J,ne)=>(D(),V("div",{key:ne,class:"flex items-center gap-2 bg-accent-primary/20 p-2 rounded-lg shadow-sm"},[xe(l("input",{type:"color","onUpdate:modelValue":pe=>b.value[ne]=pe,class:"w-8 h-8 rounded cursor-pointer border-0"},null,8,T8),[[Pe,b.value[ne]]]),b.value.length>1?(D(),V("button",{key:0,onClick:pe=>ae(ne),class:"text-gray-400 hover:text-red-500 transition-colors",title:"Remove color"},"✕",8,A8)):de("",!0)]))),128)),l("button",{onClick:re,disabled:b.value.length>=5,class:Ie(["w-8 h-8 rounded-lg border-2 border-dashed flex items-center justify-center transition-colors",b.value.length>=5?"border-gray-300 text-gray-300 cursor-not-allowed":"border-gray-400 text-gray-400 hover:border-accent-primary hover:text-accent-primary"]),title:b.value.length>=5?"Maximum colors reached":"Add color"},"+",10,S8)]),I.value?(D(),V("p",C8,H(I.value),1)):de("",!0)]),l("div",P8,[l("button",{onClick:Ee,class:"px-4 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-dark-neutral-800 rounded-lg"},"Cancel"),l("button",{onClick:ve,disabled:!_.value.trim(),class:"px-4 py-2 bg-btn-primary hover:bg-btn-primary-hover active:bg-btn-primary-dark text-white rounded-lg"},"Submit Request",8,R8)])])])):de("",!0)]),l("div",N8,[F[23]||(F[23]=l("h3",{class:"text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-3"},"Quantity",-1)),l("div",$8,[l("button",{onClick:F[10]||(F[10]=J=>c.value>1?c.value--:null),class:"w-12 h-12 flex items-center justify-center text-light-text-primary dark:text-dark-text-primary hover:bg-light-neutral-100 dark:hover:bg-dark-neutral-800 rounded-l-lg"},"−"),xe(l("input",{"onUpdate:modelValue":F[11]||(F[11]=J=>c.value=J),type:"number",min:"1",max:i.value.stock,class:"w-16 h-12 text-center border-x border-light-neutral-200 dark:border-dark-neutral-700 bg-transparent text-light-text-primary dark:text-dark-text-primary"},null,8,O8),[[Pe,c.value]]),l("button",{onClick:F[12]||(F[12]=J=>c.value<i.value.stock?c.value++:null),class:"w-12 h-12 flex items-center justify-center text-light-text-primary dark:text-dark-text-primary hover:bg-light-neutral-100 dark:hover:bg-dark-neutral-800 rounded-r-lg"},"+")])]),l("button",{onClick:ce,class:"w-full h-12 flex items-center justify-center rounded-lg bg-btn-primary hover:bg-btn-primary-hover active:bg-btn-primary-dark text-white font-medium shadow-btn hover:shadow-btn-hover transition-all"},"Add to bag")]),l("div",D8,[l("div",null,[F[24]||(F[24]=l("h3",{class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary mb-4"},"Description",-1)),l("div",M8,[l("p",V8,H(i.value.description),1)])]),i.value.materials||i.value.dimensions?(D(),V("div",L8,[F[27]||(F[27]=l("h3",{class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary mb-4"},"Materials & Dimensions",-1)),l("ul",F8,[i.value.materials?(D(),V("li",U8,[F[25]||(F[25]=l("span",{class:"font-medium text-light-text-primary dark:text-dark-text-primary"},"Materials:",-1)),ue(" "+H(i.value.materials),1)])):de("",!0),i.value.dimensions?(D(),V("li",j8,[F[26]||(F[26]=l("span",{class:"font-medium text-light-text-primary dark:text-dark-text-primary"},"Dimensions:",-1)),ue(" "+H(i.value.dimensions),1)])):de("",!0)])])):de("",!0),i.value.careInstructions?(D(),V("div",B8,[F[28]||(F[28]=l("h3",{class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary mb-4"},"Care Instructions",-1)),l("ul",q8,[(D(!0),V(_e,null,Ve(v.value,(J,ne)=>(D(),V("li",{key:ne,class:"text-light-text-secondary dark:text-dark-text-secondary"},H(J),1))),128))])])):de("",!0),i.value.sizingAndFit?(D(),V("div",H8,[F[29]||(F[29]=l("h3",{class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary mb-4"},"Sizing & Fit",-1)),l("p",z8,H(i.value.sizingAndFit),1)])):de("",!0),i.value.shippingInfo?(D(),V("div",W8,[F[30]||(F[30]=l("h3",{class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary mb-4"},"Shipping",-1)),l("p",K8,H(i.value.shippingInfo),1)])):de("",!0),i.value.returnPolicy?(D(),V("div",G8,[F[31]||(F[31]=l("h3",{class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary mb-4"},"Return Policy",-1)),l("p",Q8,H(i.value.returnPolicy),1)])):de("",!0)])])],64)):(D(),V("div",Y8,[F[32]||(F[32]=l("p",{class:"text-light-text-primary dark:text-dark-text-primary"},"Product not found.",-1)),l("button",{onClick:he,class:"mt-4 bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark text-white px-4 py-2 rounded"},"Return to Shop")]))])])}}},X8=jr(J8,[["__scopeId","data-v-9a2d6ee9"]]),Z8={class:"min-h-full flex flex-col justify-center py-12 sm:px-6 lg:px-8 bg-light-primary dark:bg-dark-primary"},eF={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},tF={class:"bg-light-secondary dark:bg-dark-secondary py-8 px-4 shadow sm:rounded-lg sm:px-10 border border-light-neutral-300 dark:border-dark-neutral-600"},rF={key:0,class:"rounded-md bg-red-50 p-4 mb-6"},nF={class:"flex"},sF={class:"flex-shrink-0"},iF={class:"ml-3"},oF={class:"mt-2 text-sm text-red-700"},aF={class:"mt-1 relative rounded-md shadow-sm"},lF={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},cF={class:"mt-1 relative rounded-md shadow-sm"},uF={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},dF=["disabled"],hF={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},fF={class:"mt-6"},pF={class:"mt-2 text-center"},mF={__name:"LoginView",setup(t){const e=wn(),r=di(),n=Od(),s=B(""),i=B(""),o=B(""),a=B(!1),c=B("");je(()=>{if(e.isAuthenticated){const h=n.query.redirect||"/account";r.replace(h)}});const d=async()=>{if(!s.value||!i.value){o.value="Please enter both email and password.";return}try{a.value=!0,o.value=null,c.value="Signing in...";const h=await e.login(s.value,i.value);c.value="Redirecting...",r.replace(h)}catch(h){console.error("Login error:",h),o.value=h.message||"Failed to sign in. Please check your credentials.",c.value=""}finally{a.value=!1}};return(h,f)=>{const p=Rr("RouterLink");return D(),V("div",Z8,[f[9]||(f[9]=l("div",{class:"sm:mx-auto sm:w-full sm:max-w-md"},[l("h2",{class:"text-center text-3xl font-extrabold text-light-text-primary dark:text-dark-text-primary"},"Sign in to your account")],-1)),l("div",eF,[l("div",tF,[z(q(mn),{appear:"",show:!!o.value},{default:Z(()=>[o.value?(D(),V("div",rF,[l("div",nF,[l("div",sF,[z(q(Cp),{class:"h-5 w-5 text-red-400","aria-hidden":"true"})]),l("div",iF,[f[2]||(f[2]=l("h3",{class:"text-sm font-medium text-red-800"},"Authentication Error",-1)),l("div",oF,[l("p",null,H(o.value),1)])])])])):de("",!0)]),_:1},8,["show"]),l("form",{onSubmit:Ar(d,["prevent"]),class:"space-y-6"},[l("div",null,[f[3]||(f[3]=l("label",{for:"email",class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},"Email address",-1)),l("div",aF,[l("div",lF,[z(q($E),{class:"h-5 w-5 text-light-neutral-500 dark:text-dark-neutral-500","aria-hidden":"true"})]),xe(l("input",{id:"email","onUpdate:modelValue":f[0]||(f[0]=y=>s.value=y),type:"email",required:"",class:"appearance-none block w-full pl-10 pr-3 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded-md shadow-sm bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary placeholder-light-neutral-400 dark:placeholder-dark-neutral-500 focus:ring-2 focus:ring-accent-primary focus:border-accent-primary",placeholder:"Your email"},null,512),[[Pe,s.value]])])]),l("div",null,[f[4]||(f[4]=l("label",{for:"password",class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},"Password",-1)),l("div",cF,[l("div",uF,[z(q(Pp),{class:"h-5 w-5 text-light-neutral-500 dark:text-dark-neutral-500","aria-hidden":"true"})]),xe(l("input",{id:"password","onUpdate:modelValue":f[1]||(f[1]=y=>i.value=y),type:"password",required:"",class:"appearance-none block w-full pl-10 pr-3 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded-md shadow-sm bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary placeholder-light-neutral-400 dark:placeholder-dark-neutral-500 focus:ring-2 focus:ring-accent-primary focus:border-accent-primary",placeholder:"Your password"},null,512),[[Pe,i.value]])])]),f[6]||(f[6]=dt('<div class="flex items-center justify-between"><div class="flex items-center"><input id="remember-me" name="remember-me" type="checkbox" class="h-4 w-4 text-orange-500 focus:ring-orange-500 border-light-neutral-300 dark:border-dark-neutral-600 rounded"><label for="remember-me" class="ml-2 block text-sm text-light-text-primary dark:text-dark-text-primary">Remember me</label></div><div class="text-sm"><a href="#" class="font-medium text-orange-500 hover:text-orange-600 dark:text-orange-400 dark:hover:text-orange-500">Forgot your password?</a></div></div>',1)),l("div",null,[l("button",{type:"submit",class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-orange-500 hover:bg-orange-600 dark:bg-orange-600 dark:hover:bg-orange-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",disabled:a.value},[a.value?(D(),V("svg",hF,f[5]||(f[5]=[l("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),l("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):de("",!0),ue(" "+H(a.value?c.value:"Sign in"),1)],8,dF)])],32),l("div",fF,[f[8]||(f[8]=dt('<div class="relative"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-light-neutral-300 dark:border-dark-neutral-600"></div></div><div class="relative flex justify-center text-sm"><span class="px-2 bg-light-secondary dark:bg-dark-secondary text-light-text-secondary dark:text-dark-text-secondary">Don&#39;t have an account?</span></div></div>',1)),l("div",pF,[z(p,{to:"/register",class:"font-medium text-orange-500 hover:text-orange-600 dark:text-orange-400 dark:hover:text-orange-500"},{default:Z(()=>f[7]||(f[7]=[ue("Create an account")])),_:1})])])])])])}}},gF={class:"min-h-full flex flex-col justify-center py-12 sm:px-6 lg:px-8 bg-light-primary dark:bg-dark-primary"},yF={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},vF={class:"bg-light-secondary dark:bg-dark-secondary py-8 px-4 shadow sm:rounded-lg sm:px-10 border border-light-neutral-300 dark:border-dark-neutral-600"},bF={key:0,class:"rounded-md bg-red-50 p-4 mb-6"},xF={class:"flex"},_F={class:"flex-shrink-0"},kF={class:"ml-3"},wF={class:"mt-2 text-sm text-red-700"},EF={class:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-2"},IF={class:"mt-1 relative rounded-md shadow-sm"},TF={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},AF={class:"mt-1 relative rounded-md shadow-sm"},SF={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},CF={class:"mt-1 relative rounded-md shadow-sm"},PF={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},RF={class:"mt-1 relative rounded-md shadow-sm"},NF={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},$F={class:"mt-1 relative rounded-md shadow-sm"},OF={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},DF={key:0,class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},MF={key:0,class:"mt-2 text-sm text-red-600"},VF=["disabled"],LF={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},FF={class:"mt-6"},UF={class:"mt-2 text-center"},jF={__name:"RegisterView",setup(t){const e=wn(),r=di(),n=B(""),s=B(""),i=B(""),o=B(""),a=B(""),c=B(""),d=B(!1),h=B(!1),f=()=>{i.value&&s.value!==i.value?h.value=!0:h.value=!1},p=async()=>{if(c.value="",d.value=!0,s.value!==i.value){c.value="Passwords do not match",d.value=!1;return}try{await e.register(n.value,s.value,{firstName:o.value,lastName:a.value,email:n.value}),r.push("/")}catch(y){c.value=y.message||"Failed to register. Please try again."}finally{d.value=!1}};return(y,k)=>{const _=Rr("RouterLink");return D(),V("div",gF,[k[15]||(k[15]=l("div",{class:"sm:mx-auto sm:w-full sm:max-w-md"},[l("h2",{class:"text-center text-3xl font-extrabold text-light-text-primary dark:text-dark-text-primary"},"Create your account"),l("p",{class:"mt-2 text-center text-sm text-light-text-secondary dark:text-dark-text-secondary"}," Join our jewelry community today ")],-1)),l("div",yF,[l("div",vF,[z(q(mn),{appear:"",show:!!c.value},{default:Z(()=>[c.value?(D(),V("div",bF,[l("div",xF,[l("div",_F,[z(q(Cp),{class:"h-5 w-5 text-red-400","aria-hidden":"true"})]),l("div",kF,[k[5]||(k[5]=l("h3",{class:"text-sm font-medium text-red-800"},"Registration Error",-1)),l("div",wF,[l("p",null,H(c.value),1)])])])])):de("",!0)]),_:1},8,["show"]),l("form",{onSubmit:Ar(p,["prevent"]),class:"space-y-6"},[l("div",EF,[l("div",null,[k[6]||(k[6]=l("label",{for:"firstName",class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},"First name",-1)),l("div",IF,[l("div",TF,[z(q(Jb),{class:"h-5 w-5 text-light-neutral-500 dark:text-dark-neutral-500","aria-hidden":"true"})]),xe(l("input",{id:"firstName","onUpdate:modelValue":k[0]||(k[0]=b=>o.value=b),type:"text",required:"",class:"appearance-none block w-full pl-10 pr-3 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded-md shadow-sm bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary placeholder-light-neutral-400 dark:placeholder-dark-neutral-500 focus:ring-2 focus:ring-accent-primary focus:border-accent-primary",placeholder:"First name"},null,512),[[Pe,o.value]])])]),l("div",null,[k[7]||(k[7]=l("label",{for:"lastName",class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},"Last name",-1)),l("div",AF,[l("div",SF,[z(q(Jb),{class:"h-5 w-5 text-light-neutral-500 dark:text-dark-neutral-500","aria-hidden":"true"})]),xe(l("input",{id:"lastName","onUpdate:modelValue":k[1]||(k[1]=b=>a.value=b),type:"text",required:"",class:"appearance-none block w-full pl-10 pr-3 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded-md shadow-sm bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary placeholder-light-neutral-400 dark:placeholder-dark-neutral-500 focus:ring-2 focus:ring-accent-primary focus:border-accent-primary",placeholder:"Last name"},null,512),[[Pe,a.value]])])])]),l("div",null,[k[8]||(k[8]=l("label",{for:"email",class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},"Email address",-1)),l("div",CF,[l("div",PF,[z(q($E),{class:"h-5 w-5 text-light-neutral-500 dark:text-dark-neutral-500","aria-hidden":"true"})]),xe(l("input",{id:"email","onUpdate:modelValue":k[2]||(k[2]=b=>n.value=b),type:"email",required:"",class:"appearance-none block w-full pl-10 pr-3 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded-md shadow-sm bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary placeholder-light-neutral-400 dark:placeholder-dark-neutral-500 focus:ring-2 focus:ring-accent-primary focus:border-accent-primary",placeholder:"Your email"},null,512),[[Pe,n.value]])])]),l("div",null,[k[9]||(k[9]=l("label",{for:"password",class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},"Password",-1)),l("div",RF,[l("div",NF,[z(q(Pp),{class:"h-5 w-5 text-light-neutral-500 dark:text-dark-neutral-500","aria-hidden":"true"})]),xe(l("input",{id:"password","onUpdate:modelValue":k[3]||(k[3]=b=>s.value=b),type:"password",required:"",minlength:"6",class:"appearance-none block w-full pl-10 pr-3 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded-md shadow-sm bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary placeholder-light-neutral-400 dark:placeholder-dark-neutral-500 focus:ring-2 focus:ring-accent-primary focus:border-accent-primary",placeholder:"Create password"},null,512),[[Pe,s.value]])]),k[10]||(k[10]=l("p",{class:"mt-1 text-xs text-light-text-secondary dark:text-dark-text-secondary"},"Password must be at least 6 characters",-1))]),l("div",null,[k[11]||(k[11]=l("label",{for:"confirmPassword",class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},"Confirm Password",-1)),l("div",$F,[l("div",OF,[z(q(Pp),{class:"h-5 w-5 text-light-neutral-500 dark:text-dark-neutral-500","aria-hidden":"true"})]),xe(l("input",{id:"confirmPassword","onUpdate:modelValue":k[4]||(k[4]=b=>i.value=b),type:"password",required:"",minlength:"6",onInput:f,class:Ie(["appearance-none block w-full pl-10 pr-3 py-2 border rounded-md shadow-sm placeholder-light-neutral-400 dark:placeholder-dark-neutral-500 focus:ring-2 focus:outline-none",h.value?"border-red-300 text-red-900 focus:ring-red-500 focus:border-red-500":"border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary"]),placeholder:"Confirm password"},null,34),[[Pe,i.value]]),h.value?(D(),V("div",DF,[z(q(Cp),{class:"h-5 w-5 text-red-500","aria-hidden":"true"})])):de("",!0)]),h.value?(D(),V("p",MF,"Passwords don't match")):de("",!0)]),l("div",null,[l("button",{type:"submit",class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-orange-500 hover:bg-orange-600 dark:bg-orange-600 dark:hover:bg-orange-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",disabled:d.value||h.value},[d.value?(D(),V("svg",LF,k[12]||(k[12]=[l("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),l("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):de("",!0),ue(" "+H(d.value?"Creating Account...":"Create Account"),1)],8,VF)])],32),l("div",FF,[k[14]||(k[14]=dt('<div class="relative"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-light-neutral-300 dark:border-dark-neutral-600"></div></div><div class="relative flex justify-center text-sm"><span class="px-2 bg-light-secondary dark:bg-dark-secondary text-light-text-secondary dark:text-dark-text-secondary">Already have an account?</span></div></div>',1)),l("div",UF,[z(_,{to:"/login",class:"font-medium text-orange-500 hover:text-orange-600 dark:text-orange-400 dark:hover:text-orange-500"},{default:Z(()=>k[13]||(k[13]=[ue("Sign in instead")])),_:1})])])])])])}}},BF={class:"bg-white dark:bg-dark-secondary rounded-lg shadow-md p-5 mb-5"},qF={key:0,class:"flex items-center justify-center py-4"},HF={key:1},zF={key:0,class:"flex items-center text-green-600 dark:text-green-500"},WF={key:1},KF={class:"text-light-text-secondary dark:text-dark-text-secondary mb-4"},GF=["disabled"],QF={key:0,class:"flex items-center"},YF={key:1},JF={key:0,class:"mt-2 text-sm text-light-text-secondary dark:text-dark-text-secondary"},XF={__name:"EmailVerificationStatus",setup(t){const e=wn(),r=B(!0),n=B(!1),s=B(0);let i=null;const o=te(()=>{var f;return((f=e.user)==null?void 0:f.email)||""}),a=te(()=>e.isEmailVerified),c=async()=>{r.value=!0;try{await e.checkEmailVerification()}catch(f){console.error("Error checking verification status:",f)}finally{r.value=!1}},d=async()=>{if(!(s.value>0||n.value)){n.value=!0;try{await e.sendVerificationEmail(),s.value=60,h()}catch(f){console.error("Error resending verification email:",f)}finally{n.value=!1}}},h=()=>{i&&clearInterval(i),i=setInterval(()=>{s.value-=1,s.value<=0&&(clearInterval(i),i=null)},1e3)};return je(async()=>{await c()}),ui(()=>{i&&clearInterval(i)}),(f,p)=>(D(),V("div",BF,[p[6]||(p[6]=l("h3",{class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary mb-2"},"Email Verification Status",-1)),r.value?(D(),V("div",qF,p[0]||(p[0]=[l("div",{class:"animate-spin rounded-full h-6 w-6 border-b-2 border-orange-500"},null,-1),l("span",{class:"ml-2 text-light-text-secondary dark:text-dark-text-secondary"},"Checking status...",-1)]))):(D(),V("div",HF,[a.value?(D(),V("div",zF,p[1]||(p[1]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1),l("span",null,"Your email address has been verified.",-1)]))):(D(),V("div",WF,[p[5]||(p[5]=l("div",{class:"flex items-center text-amber-600 dark:text-amber-500 mb-3"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})]),l("span",null,"Your email address is not verified.")],-1)),l("p",KF,[p[2]||(p[2]=ue(" Please verify your email address to access all features of this website. A verification link has been sent to ")),l("strong",null,H(o.value),1),p[3]||(p[3]=ue(". "))]),l("button",{onClick:d,class:"bg-orange-500 hover:bg-orange-600 text-white font-semibold py-2 px-4 rounded focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-opacity-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",disabled:n.value},[n.value?(D(),V("div",QF,p[4]||(p[4]=[l("div",{class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},null,-1),ue(" Sending... ")]))):(D(),V("span",YF,"Resend Verification Email"))],8,GF),s.value>0?(D(),V("div",JF," You can request another email in "+H(s.value)+" seconds. ",1)):de("",!0)]))]))]))}},ZF={class:"min-h-screen bg-light-primary dark:bg-dark-primary"},eU={class:"max-w-4xl mx-auto px-4 py-8"},tU={key:0,class:"space-y-6 animate-pulse"},rU={class:"bg-white shadow rounded-lg p-6"},nU={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},sU={class:"bg-white shadow rounded-lg p-6"},iU={class:"bg-green-50 border-l-4 border-green-500 p-4 rounded-md shadow-sm flex items-center"},oU={class:"text-green-700"},aU={class:"bg-red-50 border-l-4 border-red-500 p-4 rounded-md shadow-sm flex items-center"},lU={class:"text-red-700"},cU={key:0,class:"ml-2 bg-accent-secondary/20 text-accent-primary text-xs px-2 py-0.5 rounded-full"},uU={class:"bg-white dark:bg-dark-secondary shadow-sm rounded-lg overflow-hidden ring-1 ring-gray-900/5 dark:ring-dark-neutral-700"},dU={class:"bg-gradient-to-r from-accent-quaternary to-accent-secondary px-6 py-4"},hU={class:"flex justify-between items-center"},fU={class:"p-6"},pU={key:0,class:"grid md:grid-cols-2 gap-y-6 gap-x-8"},mU={class:"profile-field"},gU={class:"text-gray-800 dark:text-gray-200"},yU={class:"profile-field"},vU={class:"text-gray-800 dark:text-gray-200"},bU={class:"profile-field"},xU={class:"text-gray-800 dark:text-gray-200"},_U={class:"profile-field"},kU={class:"text-gray-800 dark:text-gray-200"},wU={class:"space-y-2"},EU={class:"space-y-2"},IU={class:"space-y-2"},TU={class:"space-y-2"},AU={class:"md:col-span-2 space-y-2"},SU={class:"md:col-span-2 flex justify-end space-x-4 pt-4"},CU={type:"submit",class:"px-4 py-2.5 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-medium rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200 flex items-center"},PU={class:"bg-white dark:bg-dark-secondary shadow-sm rounded-lg overflow-hidden ring-1 ring-gray-900/5 dark:ring-dark-neutral-700"},RU={class:"p-6"},NU={key:0,class:"text-center py-12 bg-gray-50 dark:bg-indigo-900/20 rounded-lg"},$U={key:1,class:"space-y-6"},OU={class:"flex items-start space-x-4"},DU={class:"bg-indigo-100 rounded-full p-2 hidden sm:block"},MU={class:"font-medium text-gray-900 dark:text-gray-100"},VU={class:"flex items-center text-sm text-gray-600 mt-1"},LU={class:"flex flex-col items-end mt-2 sm:mt-0"},FU={class:"font-semibold text-lg text-gray-900 dark:text-gray-100"},UU={key:0,class:"text-sm italic text-gray-800 dark:text-gray-300"},jU={key:1,class:"space-y-2 mb-4"},BU={class:"flex items-center"},qU={class:"h-14 w-14 rounded-md overflow-hidden border border-gray-200 dark:border-dark-neutral-600 mr-3 flex-shrink-0 bg-gray-50 dark:bg-dark-neutral-800"},HU=["src","alt"],zU={class:"text-gray-800 dark:text-gray-100 font-medium"},WU={class:"flex items-center mt-1"},KU={class:"bg-indigo-100 dark:bg-indigo-900 text-indigo-800 dark:text-indigo-200 rounded-full w-5 h-5 flex items-center justify-center mr-2 text-xs"},GU={class:"text-xs text-gray-500 dark:text-gray-400 md:hidden"},QU={class:"flex flex-col items-end"},YU={class:"text-gray-900 dark:text-gray-100 font-medium"},JU={class:"text-xs text-gray-500 dark:text-gray-400 hidden md:block"},XU={class:"mt-4 flex flex-col space-y-2 text-sm"},ZU={class:"flex justify-between text-gray-800 dark:text-gray-200 pt-2 border-t dark:border-dark-neutral-700"},ej={class:"text-gray-800 dark:text-gray-200"},tj={class:"flex justify-between text-gray-800 dark:text-gray-200"},rj={class:"text-gray-800 dark:text-gray-200"},nj={__name:"AccountView",setup(t){const e=wn(),r=B(null),n=B([]),s=B(!0),i=B(!1),o=B(""),a=B("");B("profile"),B(!1);const c=B({firstName:"",lastName:"",email:"",phone:"",address:""}),d=B(!1);je(async()=>{if(e.user)try{const b=await Ue.getUserProfile(e.user.uid);r.value=b,b&&(c.value={firstName:b.firstName||"",lastName:b.lastName||"",email:b.email||e.user.email,phone:b.phone||"",address:b.address||""});try{console.log("Fetching orders for user:",e.user.uid);const I=await Ue.getUserOrders(e.user.uid);console.log("Orders received:",I.length,I),I&&I.length>0?(n.value=I.map(A=>({...A,formattedDate:h(A.orderDate),displayTotal:typeof A.total=="number"?A.total.toFixed(2):"0.00",orderNumber:A.orderNumber||`ORD-${A.id.substring(0,6)}`,items:Array.isArray(A.items)?A.items:[]})),console.log("Processed orders:",n.value)):(console.log("No orders found or empty array returned"),n.value=[])}catch(I){console.error("Error fetching orders:",I),n.value=[],a.value="Could not load order history"}}catch(b){a.value="Error loading user data",console.error("Error in account view:",b)}finally{s.value=!1,setTimeout(()=>{d.value=!0},100)}else s.value=!1,setTimeout(()=>{d.value=!0},100)});const h=b=>{if(!b)return"N/A";try{let I;if(b.toDate&&typeof b.toDate=="function")I=b.toDate();else if(b.seconds)I=new Date(b.seconds*1e3);else if(b instanceof Date)I=b;else if(typeof b=="string")I=new Date(b);else if(typeof b=="number")I=new Date(b);else return"Invalid date";return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(I)}catch(I){return console.error("Error formatting date:",I,b),"Date error"}},f=async()=>{a.value="",o.value="";try{await Ue.updateUserProfile(e.user.uid,c.value),r.value={...r.value,...c.value},i.value=!1,o.value="Profile updated successfully!",setTimeout(()=>{o.value=""},3e3)}catch(b){a.value="Failed to update profile",console.error("Error updating profile:",b)}},p=b=>({Processing:"bg-amber-100 text-amber-800 border border-amber-300",Shipped:"bg-blue-100 text-blue-800 border border-blue-300",Delivered:"bg-emerald-100 text-emerald-800 border border-emerald-300",Cancelled:"bg-red-100 text-red-800 border border-red-300"})[b]||"bg-gray-100 text-gray-800 border border-gray-300",y=(b=0)=>({"transition-all duration-500 ease-out":!0,"opacity-0 translate-y-4":!d.value,"opacity-100 translate-y-0":d.value,[`delay-${b}`]:b>0}),k=b=>{if(!b)return pt("placeholder.jpg");if(typeof b=="string"){if(b.startsWith("base64://"))return b.replace("base64://","");if(b.startsWith("temp://"))return b.replace("temp://","")}return b},_=b=>{console.error("Image failed to load:",b.target.src),b.target.src=pt("placeholder.jpg"),b.target.onerror=function(){const I=b.target.parentNode;if(I){I.classList.add("flex","items-center","justify-center","bg-gray-100"),b.target.style.display="none";const A=document.createElement("div");A.innerHTML=`
        <svg xmlns="http://www.w3.org/200/svg" viewBox="0 0 24 24" width="100%" height="100%">
          <rect width="100%" height="100%" fill="#f0f0f0"/>
          <path d="M12 6v12M6 12h12" stroke="#aaa" stroke-width="2" stroke-linecap="round"/>
        </svg>
      `,A.className="broken-image",I.appendChild(A)}}};return(b,I)=>{const A=Rr("router-link");return D(),V("div",ZF,[l("div",eU,[I[31]||(I[31]=l("h1",{class:"text-3xl font-bold mb-8 text-light-text-primary dark:text-dark-text-primary"},"My Account",-1)),s.value?(D(),V("div",tU,[l("div",rU,[I[8]||(I[8]=l("div",{class:"h-6 bg-gray-200 rounded w-1/3 mb-6"},null,-1)),l("div",nU,[(D(),V(_e,null,Ve(4,E=>l("div",{key:E,class:"space-y-2"},I[7]||(I[7]=[l("div",{class:"h-4 bg-gray-200 rounded w-1/4"},null,-1),l("div",{class:"h-6 bg-gray-200 rounded"},null,-1)]))),64))])]),l("div",sU,[I[10]||(I[10]=l("div",{class:"h-6 bg-gray-200 rounded w-1/3 mb-6"},null,-1)),(D(),V(_e,null,Ve(3,E=>l("div",{key:E,class:"mb-4 pb-4 border-b last:border-b-0"},I[9]||(I[9]=[l("div",{class:"flex justify-between mb-2"},[l("div",{class:"h-6 bg-gray-200 rounded w-1/4"}),l("div",{class:"h-6 bg-gray-200 rounded w-20"})],-1),l("div",{class:"h-4 bg-gray-200 rounded w-2/3"},null,-1)]))),64))])])):de("",!0),z(q(mn),{appear:"",show:!s.value,as:"div",enter:"transition-opacity duration-500","enter-from":"opacity-0","enter-to":"opacity-100"},{default:Z(()=>[l("div",null,[z(q(mn),{appear:"",show:!!o.value,as:"div",enter:"transform transition duration-300 ease-out","enter-from":"-translate-y-4 opacity-0","enter-to":"translate-y-0 opacity-100",leave:"transform transition duration-200 ease-in","leave-from":"translate-y-0 opacity-100","leave-to":"-translate-y-4 opacity-0",class:"mb-6"},{default:Z(()=>[l("div",iU,[z(q(Wb),{class:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),l("p",oU,H(o.value),1)])]),_:1},8,["show"]),z(q(mn),{appear:"",show:!!a.value,as:"div",enter:"transform transition duration-300 ease-out","enter-from":"-translate-y-4 opacity-0","enter-to":"translate-y-0 opacity-100",leave:"transform transition duration-200 ease-in","leave-from":"translate-y-0 opacity-100","leave-to":"-translate-y-4 opacity-0",class:"mb-6"},{default:Z(()=>[l("div",aU,[z(q(hh),{class:"w-5 h-5 text-red-500 mr-3 flex-shrink-0"}),l("p",lU,H(a.value),1)])]),_:1},8,["show"]),z(q(v9),{defaultIndex:0,as:"div",class:Ie(y(100))},{default:Z(()=>[z(q(b9),{class:"flex border-b border-light-neutral-300 dark:border-dark-neutral-700 mb-6 space-x-2"},{default:Z(()=>[z(q(qb),{as:"template"},{default:Z(({selected:E})=>[l("button",{class:Ie(["py-3 px-6 font-medium focus:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary rounded-t-md transition-colors",[E?"text-accent-primary border-b-2 border-accent-primary bg-accent-secondary/10":"text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary hover:bg-light-secondary dark:hover:bg-dark-secondary"]])}," Profile Information ",2)]),_:1}),z(q(qb),{as:"template"},{default:Z(({selected:E})=>[l("button",{class:Ie(["py-3 px-6 font-medium focus:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary rounded-t-md transition-colors flex items-center",[E?"text-accent-primary border-b-2 border-accent-primary bg-accent-secondary/10":"text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary hover:bg-light-secondary dark:hover:bg-dark-secondary"]])},[I[11]||(I[11]=ue(" Order History ")),n.value.length?(D(),V("span",cU,H(n.value.length),1)):de("",!0)],2)]),_:1})]),_:1}),z(q(x9),{class:"focus:outline-none"},{default:Z(()=>[z(q(Hb),{class:Ie([y(200),"focus:outline-none space-y-6"])},{default:Z(()=>{var E,R,S,L,T;return[q(e).isAuthenticated?(D(),mt(XF,{key:0})):de("",!0),l("div",uU,[l("div",dU,[l("div",hU,[I[13]||(I[13]=l("h2",{class:"text-xl font-semibold text-white"},"Personal Details",-1)),i.value?de("",!0):(D(),V("button",{key:0,onClick:I[0]||(I[0]=v=>i.value=!0),class:"btn-white focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-offset-2 focus-visible:ring-offset-indigo-600","aria-label":"Edit profile"},[z(q(NE),{class:"w-4 h-4 mr-1"}),I[12]||(I[12]=ue(" Edit "))]))])]),l("div",fU,[i.value?de("",!0):(D(),V("div",pU,[l("div",mU,[I[14]||(I[14]=l("p",{class:"text-gray-800 dark:text-gray-200"},"Full Name",-1)),l("p",gU,H(((E=r.value)==null?void 0:E.firstName)||"-")+" "+H(((R=r.value)==null?void 0:R.lastName)||""),1)]),l("div",yU,[I[15]||(I[15]=l("p",{class:"text-gray-800 dark:text-gray-200"},"Email",-1)),l("p",vU,H(((S=r.value)==null?void 0:S.email)||q(e).user.email),1)]),l("div",bU,[I[16]||(I[16]=l("p",{class:"text-gray-800 dark:text-gray-200"},"Phone",-1)),l("p",xU,H(((L=r.value)==null?void 0:L.phone)||"Not provided"),1)]),l("div",_U,[I[17]||(I[17]=l("p",{class:"text-gray-800 dark:text-gray-200"},"Address",-1)),l("p",kU,H(((T=r.value)==null?void 0:T.address)||"Not provided"),1)])])),z(q(mn),{appear:"",show:i.value,enter:"transition-opacity ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0",as:"div"},{default:Z(()=>[l("form",{onSubmit:Ar(f,["prevent"]),class:"grid md:grid-cols-2 gap-6"},[l("div",wU,[I[18]||(I[18]=l("label",{class:"text-sm font-medium field-label",for:"firstName"},"First Name",-1)),xe(l("input",{id:"firstName","onUpdate:modelValue":I[1]||(I[1]=v=>c.value.firstName=v),type:"text",class:"w-full px-4 py-2.5 bg-white border border-gray-300 dark:border-dark-neutral-600 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 placeholder-gray-400 dark:placeholder-gray-500 text-gray-900 dark:text-gray-500 transition-colors duration-200",placeholder:"Enter your first name"},null,512),[[Pe,c.value.firstName]])]),l("div",EU,[I[19]||(I[19]=l("label",{class:"text-sm font-medium field-label",for:"lastName"},"Last Name",-1)),xe(l("input",{id:"lastName","onUpdate:modelValue":I[2]||(I[2]=v=>c.value.lastName=v),type:"text",class:"w-full px-4 py-2.5 bg-white border border-gray-300 dark:border-dark-neutral-600 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 placeholder-gray-400 dark:placeholder-gray-500 text-gray-900 dark:text-gray-500 transition-colors duration-200",placeholder:"Enter your last name"},null,512),[[Pe,c.value.lastName]])]),l("div",IU,[I[20]||(I[20]=l("label",{class:"text-sm font-medium field-label",for:"email"},"Email",-1)),xe(l("input",{id:"email","onUpdate:modelValue":I[3]||(I[3]=v=>c.value.email=v),type:"email",class:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 dark:border-dark-neutral-700 rounded-lg shadow-sm cursor-not-allowed text-gray-500 dark:text-gray-400",disabled:"","aria-disabled":"true"},null,512),[[Pe,c.value.email]]),I[21]||(I[21]=l("p",{class:"text-xs text-gray-500 mt-1.5"},"Email cannot be changed",-1))]),l("div",TU,[I[22]||(I[22]=l("label",{class:"text-sm font-medium field-label",for:"phone"},"Phone",-1)),xe(l("input",{id:"phone","onUpdate:modelValue":I[4]||(I[4]=v=>c.value.phone=v),type:"tel",class:"w-full px-4 py-2.5 bg-white border border-gray-300 dark:border-dark-neutral-600 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 placeholder-gray-400 dark:placeholder-gray-500 text-gray-900 dark:text-white transition-colors duration-200",placeholder:"Enter your phone number"},null,512),[[Pe,c.value.phone]])]),l("div",AU,[I[23]||(I[23]=l("label",{class:"text-sm font-medium field-label",for:"address"},"Address",-1)),xe(l("textarea",{id:"address","onUpdate:modelValue":I[5]||(I[5]=v=>c.value.address=v),class:"w-full px-4 py-2.5 bg-white border border-gray-300 dark:border-dark-neutral-600 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 placeholder-gray-400 dark:placeholder-gray-500 text-gray-900 dark:text-white transition-colors duration-200 min-h-[100px] resize-y",placeholder:"Enter your address"},null,512),[[Pe,c.value.address]])]),l("div",SU,[l("button",{type:"button",onClick:I[6]||(I[6]=v=>i.value=!1),class:"px-4 py-2.5 border border-gray-300 dark:border-dark-neutral-600 rounded-lg shadow-sm text-gray-700 dark:text-gray-200 bg-white dark:bg-dark-neutral-700 hover:bg-gray-50 dark:hover:bg-dark-neutral-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors duration-200"}," Cancel "),l("button",CU,[z(q(Wb),{class:"w-4 h-4 mr-1.5"}),I[24]||(I[24]=ue(" Save Changes "))])])],32)]),_:1},8,["show"])])])]}),_:1},8,["class"]),z(q(Hb),{class:Ie([y(300),"focus:outline-none"])},{default:Z(()=>[l("div",PU,[I[30]||(I[30]=l("div",{class:"bg-gradient-to-r from-accent-quaternary to-accent-secondary px-6 py-4"},[l("h2",{class:"text-xl font-semibold text-white"},"Order History")],-1)),l("div",RU,[n.value.length===0?(D(),V("div",NU,[z(q(pu),{class:"w-16 h-16 text-gray-400 mx-auto mb-4"}),I[26]||(I[26]=l("p",{class:"text-gray-500 mb-4"},"You haven't placed any orders yet.",-1)),z(A,{to:"/products",class:"btn btn-primary inline-flex items-center justify-center"},{default:Z(()=>[z(q(pu),{class:"w-4 h-4 mr-2"}),I[25]||(I[25]=ue(" Start Shopping "))]),_:1})])):(D(),V("div",$U,[z(q(mn),{appear:"",show:!0,enter:"transition-opacity ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",as:"div",class:"space-y-6"},{default:Z(()=>[(D(!0),V(_e,null,Ve(n.value,(E,R)=>(D(),V("div",{key:E.id,class:Ie(["bg-white dark:bg-dark-secondary border border-gray-200 dark:border-dark-neutral-700 rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-all duration-200",{"delay-100":R===0,"delay-150":R===1,"delay-200":R>=2}])},[z(q(rd),{as:"div",defaultOpen:""},{default:Z(({open:S})=>[z(q(nd),{class:"w-full bg-gray-50 dark:bg-indigo-900/20 p-4 flex flex-wrap justify-between items-center border-b dark:border-dark-neutral-600 text-left focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500"},{default:Z(()=>[l("div",OU,[l("div",DU,[z(q(pu),{class:"w-5 h-5 text-indigo-600"})]),l("div",null,[l("p",MU," Order #"+H(E.orderNumber),1),l("div",VU,[z(q(R9),{class:"w-3.5 h-3.5 mr-1.5"}),ue(" "+H(E.formattedDate),1)])])]),l("div",LU,[l("p",FU,H(q(Ye)(E.total)),1),l("span",{class:Ie(["text-xs px-3 py-1 rounded-full mt-1 inline-flex items-center",p(E.status||"Processing")])},[l("span",{class:Ie(["w-1.5 h-1.5 rounded-full mr-1",{"bg-amber-500":(E.status||"Processing")==="Processing","bg-blue-500":E.status==="Shipped","bg-emerald-500":E.status==="Delivered","bg-red-500":E.status==="Cancelled"}])},null,2),ue(" "+H(E.status||"Processing"),1)],2),z(q(RE),{class:Ie(["w-5 h-5 text-gray-400 mt-1.5 transition-transform duration-200",{"transform rotate-90":S}])},null,8,["class"])])]),_:2},1024),z(q(sd),{class:"p-4 bg-white dark:bg-dark-secondary/50"},{default:Z(()=>[I[29]||(I[29]=l("div",{class:"mb-2 pb-2 border-b border-dashed"},[l("h4",{class:"text-sm font-medium text-gray-800 dark:text-gray-100 mb-2"},"Items")],-1)),!E.items||E.items.length===0?(D(),V("p",UU," No items found in this order ")):(D(),V("div",jU,[(D(!0),V(_e,null,Ve(E.items,(L,T)=>(D(),V("div",{key:T,class:"flex justify-between text-sm py-2 border-b border-gray-100 dark:border-dark-neutral-700 last:border-b-0"},[l("div",BU,[l("div",qU,[l("img",{src:k(L.imageUrl||L.image),alt:L.name,class:"h-full w-full object-cover object-center",onError:_,loading:"lazy"},null,40,HU)]),l("div",null,[l("span",zU,H(L.name),1),l("div",WU,[l("span",KU,H(L.quantity),1),l("span",GU,H(q(Ye)(L.price))+" each ",1)])])]),l("div",QU,[l("span",YU,H(q(Ye)(L.price*L.quantity)),1),l("span",JU,H(q(Ye)(L.price))+" each ",1)])]))),128))])),l("div",XU,[l("div",ZU,[I[27]||(I[27]=l("span",null,"Order date:",-1)),l("span",ej,H(E.formattedDate),1)]),l("div",tj,[I[28]||(I[28]=l("span",null,"Total:",-1)),l("span",rj,H(q(Ye)(E.total)),1)])])]),_:2},1024)]),_:2},1024)],2))),128))]),_:1})]))])])]),_:1},8,["class"])]),_:1})]),_:1},8,["class"])])]),_:1},8,["show"])])])}}},sj=jr(nj,[["__scopeId","data-v-c6523115"]]),ij={class:"container mx-auto px-4 py-8 max-w-6xl"},oj={key:0,class:"text-center py-12 bg-light-secondary dark:bg-dark-secondary rounded-lg shadow-sm border border-light-neutral-300 dark:border-dark-neutral-600"},aj={key:1,class:"grid grid-cols-1 md:grid-cols-3 gap-8"},lj={class:"md:col-span-2","aria-labelledby":"cart-items-heading"},cj={class:"space-y-2 text-sm"},uj={class:"flex justify-between text-light-text-primary dark:text-dark-text-primary"},dj={class:"flex justify-between"},hj={key:0,class:"text-light-text-primary dark:text-dark-text-primary"},fj={key:1,class:"text-accent-tertiary"},pj={key:0,class:"text-sm bg-accent-quaternary/10 text-accent-quaternary p-3 rounded-md mt-3"},mj={class:"mt-1"},gj={class:"border-t border-light-neutral-300 dark:border-dark-neutral-600 pt-2 mt-2"},yj={class:"flex justify-between font-bold text-light-text-primary dark:text-dark-text-primary"},vj={class:"mt-4 space-y-3"},bj={class:"relative"},xj=["src","alt"],_j={class:"ml-6 flex-grow"},kj={class:"text-light-text-secondary dark:text-dark-text-secondary mt-1"},wj={class:"flex items-center mt-3"},Ej={class:"flex items-center border border-light-neutral-300 dark:border-dark-neutral-600 rounded-md shadow-sm"},Ij=["onClick"],Tj={class:"px-4 py-1 min-w-[40px] text-center text-light-text-primary dark:text-dark-text-primary","aria-label":"Quantity"},Aj=["onClick"],Sj=["onClick"],Cj={class:"text-right"},Pj={class:"font-semibold text-light-text-primary dark:text-dark-text-primary"},Rj={class:"bg-light-secondary dark:bg-dark-secondary p-6 rounded-lg shadow-sm h-fit md:sticky md:top-24 hidden md:block border border-light-neutral-300 dark:border-dark-neutral-600","aria-labelledby":"order-summary-heading"},Nj={class:"space-y-4"},$j={class:"flex justify-between text-light-text-primary dark:text-dark-text-primary"},Oj={class:"flex justify-between text-light-text-primary dark:text-dark-text-primary"},Dj={key:0},Mj={key:1,class:"text-accent-tertiary font-medium"},Vj={key:0,class:"text-sm bg-accent-quaternary/10 text-accent-quaternary p-3 rounded-md"},Lj={class:"mt-1"},Fj={class:"border-t border-light-neutral-300 dark:border-dark-neutral-600 pt-4 mt-2"},Uj={class:"flex justify-between font-bold text-lg text-light-text-primary dark:text-dark-text-primary"},jj={class:"mt-8 space-y-4"},Bj={class:"fixed inset-0 overflow-y-auto"},qj={class:"flex min-h-full items-center justify-center p-4 text-center"},Hj={class:"mt-2"},zj={class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},Wj={class:"mt-6 flex space-x-3 justify-end"},Kj={__name:"CartView",setup(t){const e=ao(),r=B(!1),n=B(!1),s=B(null),i=te(()=>e.cart),o=te(()=>e.subtotal),a=te(()=>e.itemCount),c=te(()=>o.value>=1e4?0:1e3),d=te(()=>o.value+c.value),h=async(_,b)=>{r.value=!0,b<=0?await e.removeFromCart(_):await e.updateQuantity(_,b),setTimeout(()=>{r.value=!1},300)},f=_=>{s.value=_,n.value=!0},p=()=>{s.value&&(e.removeFromCart(s.value.id),n.value=!1,s.value=null)},y=_=>_?typeof _=="string"&&_.startsWith("base64://")?_.replace("base64://",""):_&&typeof _=="string"&&_.startsWith("http")?_:pt(_):pt("placeholder.jpg"),k=_=>{_.target.src=pt("placeholder.jpg")};return(_,b)=>{const I=Rr("router-link");return D(),V("main",ij,[b[21]||(b[21]=l("h1",{class:"text-3xl font-bold mb-8 text-light-text-primary dark:text-dark-text-primary"},"Shopping Cart",-1)),i.value.length===0?(D(),V("div",oj,[b[3]||(b[3]=dt('<div class="w-40 h-40 mx-auto mb-6" data-v-16712dfd><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" class="w-full h-full text-light-neutral-400 dark:text-dark-neutral-500" data-v-16712dfd><circle cx="9" cy="21" r="1" fill="currentColor" data-v-16712dfd></circle><circle cx="20" cy="21" r="1" fill="currentColor" data-v-16712dfd></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6" stroke-linecap="round" stroke-linejoin="round" data-v-16712dfd></path><line x1="5" y1="5" x2="22" y2="5" class="text-red-500" stroke-width="1.5" data-v-16712dfd></line></svg></div><p class="text-xl mb-6 text-light-text-secondary dark:text-dark-text-secondary" data-v-16712dfd>Your cart is empty</p>',2)),z(I,{to:"/products",class:"bg-orange-500 hover:bg-orange-600 dark:bg-orange-600 dark:hover:bg-orange-500 text-white px-6 py-3 rounded-md inline-block transition-colors focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 focus:outline-none"},{default:Z(()=>b[2]||(b[2]=[ue(" Browse Products ")])),_:1})])):(D(),V("div",aj,[l("section",lj,[b[12]||(b[12]=l("h2",{id:"cart-items-heading",class:"sr-only"},"Cart Items",-1)),z(q(rd),{as:"div",class:"mb-6 md:hidden"},{default:Z(()=>[z(q(nd),{class:"flex w-full justify-between rounded-lg bg-light-secondary dark:bg-dark-secondary px-4 py-3 text-left text-sm font-medium text-light-text-primary dark:text-dark-text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary"},{default:Z(()=>[l("span",null,"Order Summary ("+H(a.value)+" items)",1),z(q(O9),{class:"h-5 w-5 ui-open:rotate-180 ui-open:transform transition-transform"})]),_:1}),z(q(sd),{class:"px-4 pt-4 pb-5 bg-light-secondary dark:bg-dark-secondary rounded-b-lg"},{default:Z(()=>[l("div",cj,[l("div",uj,[b[4]||(b[4]=l("span",null,"Subtotal",-1)),l("span",null,H(q(Ye)(o.value)),1)]),l("div",dj,[b[5]||(b[5]=l("span",{class:"text-light-text-primary dark:text-dark-text-primary"},"Shipping",-1)),c.value>0?(D(),V("span",hj,H(q(Ye)(c.value)),1)):(D(),V("span",fj,"Free"))]),c.value>0?(D(),V("div",pj,[b[6]||(b[6]=l("p",null,"Free shipping on orders over KES 10,000",-1)),l("p",mj,"Add "+H(q(Ye)(1e4-o.value))+" more to qualify",1)])):de("",!0),l("div",gj,[l("div",yj,[b[7]||(b[7]=l("span",null,"Total",-1)),l("span",null,H(q(Ye)(d.value)),1)])])]),l("div",vj,[z(I,{to:"/checkout",class:"bg-orange-500 hover:bg-orange-600 dark:bg-orange-600 dark:hover:bg-orange-500 text-white w-full py-2 block text-center rounded-md transition-colors focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 focus:outline-none text-sm disabled:opacity-50 disabled:cursor-not-allowed",disabled:i.value.length===0,"aria-disabled":i.value.length===0},{default:Z(()=>b[8]||(b[8]=[ue(" Proceed to Checkout ")])),_:1},8,["disabled","aria-disabled"]),z(I,{to:"/products",class:"text-accent-quaternary hover:text-accent-quaternary/80 transition-colors text-center block focus:outline-none focus:underline text-sm"},{default:Z(()=>b[9]||(b[9]=[ue(" Continue Shopping ")])),_:1})])]),_:1})]),_:1}),z(Gx,{name:"cart-item",tag:"ul",class:"divide-y divide-light-neutral-300 dark:divide-dark-neutral-600"},{default:Z(()=>[(D(!0),V(_e,null,Ve(i.value,A=>(D(),V("li",{key:A.id,class:Ie(["flex py-6 first:pt-0 items-center cart-item-transition",{"opacity-50":r.value}])},[l("div",bj,[l("img",{src:y(A.image),alt:A.name,class:"w-24 h-24 object-cover rounded-md shadow-sm",loading:"lazy",onError:k},null,40,xj)]),l("div",_j,[z(I,{to:`/product/${A.id}`,class:"text-lg font-semibold text-light-text-primary dark:text-dark-text-primary hover:text-orange-500 dark:hover:text-orange-400 focus:outline-none focus:underline","aria-label":`View ${A.name} details`},{default:Z(()=>[ue(H(A.name),1)]),_:2},1032,["to","aria-label"]),l("p",kj,H(q(Ye)(A.price))+" each",1),l("div",wj,[l("div",Ej,[l("button",{onClick:E=>h(A.id,A.quantity-1),class:"px-3 py-1 text-light-text-primary dark:text-dark-text-primary hover:bg-light-neutral-100 dark:hover:bg-dark-neutral-700 transition-colors rounded-l-md focus:outline-none focus:ring-2 focus:ring-accent-primary focus:ring-inset","aria-label":"Decrease quantity"},b[10]||(b[10]=[l("span",{"aria-hidden":"true"},"−",-1)]),8,Ij),l("span",Tj,H(A.quantity),1),l("button",{onClick:E=>h(A.id,A.quantity+1),class:"px-3 py-1 text-light-text-primary dark:text-dark-text-primary hover:bg-light-neutral-100 dark:hover:bg-dark-neutral-700 transition-colors rounded-r-md focus:outline-none focus:ring-2 focus:ring-accent-primary focus:ring-inset","aria-label":"Increase quantity"},b[11]||(b[11]=[l("span",{"aria-hidden":"true"},"+",-1)]),8,Aj)]),l("button",{onClick:E=>f(A),class:"ml-4 text-red-500 hover:text-red-700 transition-colors focus:outline-none focus:underline","aria-label":"Remove item from cart"}," Remove ",8,Sj)])]),l("div",Cj,[l("p",Pj,H(q(Ye)(A.price*A.quantity)),1)])],2))),128))]),_:1})]),l("section",Rj,[b[18]||(b[18]=l("h2",{id:"order-summary-heading",class:"text-xl font-bold mb-6 border-b border-light-neutral-300 dark:border-dark-neutral-600 pb-3 text-light-text-primary dark:text-dark-text-primary"},"Order Summary",-1)),l("div",Nj,[l("div",$j,[l("span",null,"Subtotal ("+H(a.value)+" "+H(a.value===1?"item":"items")+")",1),l("span",null,H(q(Ye)(o.value)),1)]),l("div",Oj,[b[13]||(b[13]=l("span",null,"Shipping",-1)),c.value>0?(D(),V("span",Dj,H(q(Ye)(c.value)),1)):(D(),V("span",Mj,"Free"))]),c.value>0?(D(),V("div",Vj,[b[14]||(b[14]=l("p",null,"Free shipping on orders over KES 10,000",-1)),l("p",Lj,"Add "+H(q(Ye)(1e4-o.value))+" more to qualify",1)])):de("",!0),l("div",Fj,[l("div",Uj,[b[15]||(b[15]=l("span",null,"Total",-1)),l("span",null,H(q(Ye)(d.value)),1)])])]),l("div",jj,[z(I,{to:"/checkout",class:"bg-orange-500 hover:bg-orange-600 dark:bg-orange-600 dark:hover:bg-orange-500 text-white w-full py-3 block text-center rounded-md transition-colors focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed",disabled:i.value.length===0,"aria-disabled":i.value.length===0},{default:Z(()=>b[16]||(b[16]=[ue(" Proceed to Checkout ")])),_:1},8,["disabled","aria-disabled"]),z(I,{to:"/products",class:"text-accent-quaternary hover:text-accent-quaternary/80 transition-colors text-center block focus:outline-none focus:underline"},{default:Z(()=>b[17]||(b[17]=[ue(" Continue Shopping ")])),_:1})])])])),z(q(mn),{appear:"",show:n.value,as:"template"},{default:Z(()=>[z(q(lh),{as:"div",onClose:b[1]||(b[1]=A=>n.value=!1),class:"relative z-10"},{default:Z(()=>[z(q(gs),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Z(()=>b[19]||(b[19]=[l("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)])),_:1}),l("div",Bj,[l("div",qj,[z(q(gs),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:Z(()=>[z(q(ch),{class:"w-full max-w-md transform overflow-hidden rounded-lg bg-light-secondary dark:bg-dark-secondary p-6 text-left align-middle shadow-xl transition-all"},{default:Z(()=>{var A;return[z(q(_E),{as:"h3",class:"text-lg font-medium leading-6 text-light-text-primary dark:text-dark-text-primary"},{default:Z(()=>b[20]||(b[20]=[ue(" Remove Item ")])),_:1}),l("div",Hj,[l("p",zj,' Are you sure you want to remove "'+H((A=s.value)==null?void 0:A.name)+'" from your cart? ',1)]),l("div",Wj,[l("button",{type:"button",class:"inline-flex justify-center rounded-md border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary px-4 py-2 text-sm font-medium text-light-text-primary dark:text-dark-text-primary hover:bg-light-neutral-100 dark:hover:bg-dark-neutral-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:ring-offset-2",onClick:b[0]||(b[0]=E=>n.value=!1)}," Cancel "),l("button",{type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-red-500 px-4 py-2 text-sm font-medium text-white hover:bg-red-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-red-500 focus-visible:ring-offset-2",onClick:p}," Remove ")])]}),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}}},Gj=jr(Kj,[["__scopeId","data-v-16712dfd"]]);/*!
 * paypal-js v8.2.0 (2025-01-23T17:26:53.747Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qj(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Yj(t,e){var r=document.querySelector('script[src="'.concat(t,'"]'));if(r===null)return null;var n=OE(t,e),s=r.cloneNode();if(delete s.dataset.uidAuto,Object.keys(s.dataset).length!==Object.keys(n.dataset).length)return null;var i=!0;return Object.keys(s.dataset).forEach(function(o){s.dataset[o]!==n.dataset[o]&&(i=!1)}),i?r:null}function Jj(t){var e=t.url,r=t.attributes,n=t.onSuccess,s=t.onError,i=OE(e,r);i.onerror=s,i.onload=n,document.head.insertBefore(i,document.head.firstElementChild)}function Xj(t){var e=t.sdkBaseUrl,r=t.environment,n=Qj(t,["sdkBaseUrl","environment"]),s=e||tB(r),i=n,o=Object.keys(i).filter(function(d){return typeof i[d]<"u"&&i[d]!==null&&i[d]!==""}).reduce(function(d,h){var f=i[h].toString();return h=Zj(h),h.substring(0,4)==="data"||h==="crossorigin"?d.attributes[h]=f:d.queryParams[h]=f,d},{queryParams:{},attributes:{}}),a=o.queryParams,c=o.attributes;return a["merchant-id"]&&a["merchant-id"].indexOf(",")!==-1&&(c["data-merchant-id"]=a["merchant-id"],a["merchant-id"]="*"),{url:"".concat(s,"?").concat(eB(a)),attributes:c}}function Zj(t){var e=function(r,n){return(n?"-":"")+r.toLowerCase()};return t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,e)}function eB(t){var e="";return Object.keys(t).forEach(function(r){e.length!==0&&(e+="&"),e+=r+"="+t[r]}),e}function tB(t){return t==="sandbox"?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"}function OE(t,e){e===void 0&&(e={});var r=document.createElement("script");return r.src=t,Object.keys(e).forEach(function(n){r.setAttribute(n,e[n]),n==="data-csp-nonce"&&r.setAttribute("nonce",e["data-csp-nonce"])}),r}function rB(t,e){if(e===void 0&&(e=Promise),DE(t,e),typeof document>"u")return e.resolve(null);var r=Xj(t),n=r.url,s=r.attributes,i=s["data-namespace"]||"paypal",o=Xb(i);return s["data-js-sdk-library"]||(s["data-js-sdk-library"]="paypal-js"),Yj(n,s)&&o?e.resolve(o):nB({url:n,attributes:s},e).then(function(){var a=Xb(i);if(a)return a;throw new Error("The window.".concat(i," global variable is not available."))})}function nB(t,e){e===void 0&&(e=Promise),DE(t,e);var r=t.url,n=t.attributes;if(typeof r!="string"||r.length===0)throw new Error("Invalid url.");if(typeof n<"u"&&typeof n!="object")throw new Error("Expected attributes to be an object.");return new e(function(s,i){if(typeof document>"u")return s();Jj({url:r,attributes:n,onSuccess:function(){return s()},onError:function(){var o=new Error('The script "'.concat(r,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return i(o)}})})}function Xb(t){return window[t]}function DE(t,e){if(typeof t!="object"||t===null)throw new Error("Expected an options object.");var r=t.environment;if(r&&r!=="production"&&r!=="sandbox")throw new Error('The `environment` option must be either "production" or "sandbox".');if(typeof e<"u"&&typeof e!="function")throw new Error("Expected PromisePonyfill to be a function.")}const sB="YOUR_PAYPAL_CLIENT_ID",Yc={async initializePayPal(){try{return await rB({"client-id":sB,currency:"USD",intent:"capture"})}catch(t){throw console.error("Failed to load PayPal JS SDK:",t),t}},createOrder(t,e){return{purchase_units:[{amount:{currency_code:"USD",value:t.toFixed(2),breakdown:{item_total:{currency_code:"USD",value:t.toFixed(2)}}},items:e.map(r=>({name:r.name,unit_amount:{currency_code:"USD",value:r.price.toFixed(2)},quantity:r.quantity.toString()}))}]}},async handlePayPalError(t){throw console.error("PayPal Error:",t),t}},iB={class:"bg-light-primary dark:bg-dark-primary min-h-screen pb-16"},oB={key:0,class:"container mx-auto px-4"},aB={class:"max-w-3xl mx-auto bg-light-secondary dark:bg-dark-secondary shadow-lg rounded-lg overflow-hidden"},lB={class:"bg-green-50 dark:bg-green-900 p-6 sm:p-10 text-center"},cB={class:"text-green-700 dark:text-green-300 text-lg"},uB={class:"mt-8 flex justify-center"},dB={key:1,class:"container mx-auto px-4 mb-8"},hB={class:"max-w-3xl mx-auto bg-red-50 dark:bg-red-900 border border-red-200 dark:border-red-800 p-4 rounded-lg flex items-start"},fB={class:"ml-3"},pB={class:"text-red-700 dark:text-red-300 font-medium"},mB={key:2,class:"container mx-auto px-4"},gB={class:"grid grid-cols-1 lg:grid-cols-3 lg:gap-8"},yB={class:"lg:col-span-2"},vB={class:"bg-light-secondary dark:bg-dark-secondary shadow rounded-lg overflow-hidden mb-8"},bB={class:"p-6"},xB={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},_B={class:"mb-6"},kB={class:"mb-6"},wB=["value"],EB={key:0,class:"mb-6"},IB=["value"],TB={key:1,class:"mb-6"},AB={class:"mt-6"},SB={class:"flex items-center"},CB={class:"bg-light-secondary dark:bg-dark-secondary shadow rounded-lg overflow-hidden mb-8"},PB={class:"p-6"},RB={class:"border-b border-light-neutral-200 dark:border-dark-neutral-700"},NB={class:"-mb-px flex space-x-8"},$B=["onClick"],OB={key:0,class:"mt-6"},DB={class:"mb-6"},MB={key:1,class:"mt-6"},VB={class:"bg-light-neutral-100 dark:bg-dark-secondary p-4 rounded-md"},LB={class:"mt-4"},FB={class:"flex items-center"},UB={class:"ml-2 text-sm text-light-text-primary dark:text-dark-text-primary"},jB={key:2,class:"mt-6"},BB={class:"p-6"},qB={class:"mb-6"},HB={class:"mb-6"},zB={class:"relative"},WB={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},KB={class:"relative"},GB={class:"absolute inset-y-0 right-0 pr-3 flex items-center"},QB={key:0,class:"mt-1 text-sm text-light-neutral-500 dark:text-dark-neutral-500"},YB={key:3,class:"mt-6"},JB={class:"bg-light-neutral-100 dark:bg-dark-secondary p-4 rounded-md text-center"},XB={class:"mx-auto max-w-[200px] mb-4"},ZB=["disabled"],eq={key:0,class:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},tq={class:"mt-10 lg:mt-0"},rq={class:"bg-light-secondary dark:bg-dark-secondary shadow rounded-lg overflow-hidden sticky top-6"},nq={class:"px-6 py-4"},sq={class:"flow-root"},iq={class:"-my-4 divide-y divide-light-neutral-200 dark:divide-dark-neutral-700"},oq={class:"flex-shrink-0 w-16 h-16 border border-light-neutral-200 dark:border-dark-neutral-700 rounded-md overflow-hidden"},aq=["src","alt"],lq={class:"ml-4 flex-1 flex flex-col"},cq={class:"flex justify-between text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},uq={class:"ml-4"},dq={class:"mt-1 text-sm text-light-text-secondary dark:text-dark-text-secondary"},hq={class:"flex-1 flex items-end justify-between text-sm"},fq={class:"text-light-text-secondary dark:text-dark-text-secondary"},pq={class:"border-t border-light-neutral-200 dark:border-dark-neutral-700 px-6 py-4 space-y-3"},mq={class:"flex justify-between text-sm text-light-text-secondary dark:text-dark-text-secondary"},gq={class:"flex justify-between text-sm text-light-text-secondary dark:text-dark-text-secondary"},yq={key:0},vq={key:1,class:"text-green-600 dark:text-green-400"},bq={class:"flex justify-between text-sm text-light-text-secondary dark:text-dark-text-secondary"},xq={class:"pt-3 border-t border-light-neutral-200 dark:border-dark-neutral-700"},_q={class:"flex justify-between text-base font-medium text-light-text-primary dark:text-dark-text-primary"},kq={__name:"CheckoutView",setup(t){const e=di(),r=wn(),n=ao(),s=en(),i=B(!1),o=B(""),a=B(""),c=B(null),d=B(!1),h=B(!0),f=["Nairobi","Mombasa","Kisumu","Nakuru","Eldoret","Kitengela","Thika","Machakos","Kahawa","Ruiru","Athi River","Kiambu","Rongai"],p={Nairobi:["CBD - Kencom House","CBD - Archives","CBD - Afya Centre","Westlands - The Mall","Eastleigh - First Avenue","South B - Capital Center","Karen - Karen Hub"],Kitengela:["Kitengela Mall","EPZ Plaza","Milestone Mall"],Kahawa:["Kahawa West Shopping Center","Kahawa Sukari Mall","Kahawa Wendani Plaza"]},y=B({firstName:"",lastName:"",email:"",phone:"",deliveryMethod:"",city:"",pickupPoint:"",address:""}),k=B([]),_=()=>{y.value.pickupPoint="",y.value.address=""},b=()=>{y.value.pickupPoint="",y.value.city&&p[y.value.city]?k.value=p[y.value.city]:k.value=[]},I=B({cardName:"",cardNumber:"",expirationDate:"",cvv:""}),A=[{id:"mobile-money",name:"M-Pesa"},{id:"cash",name:"Cash on Delivery"},{id:"card",name:"Card Payment"},{id:"paypal",name:"PayPal"}],E=B("mobile-money"),R=B({phoneNumber:""}),S=B(!1),L=B(null),T=B(!1),v=B(!1);B(1),Rt(E,async ie=>{ie==="paypal"&&!T.value&&await m()});const m=async()=>{try{const ie=await Yc.initializePayPal();L.value&&(ie.Buttons({style:{layout:"vertical",color:"blue",shape:"rect",label:"paypal"},createOrder:async(W,M)=>{const O=Yc.createOrder(ae.value+U.value*.08,G.value);return M.order.create(O)},onApprove:async(W,M)=>{v.value=!0;try{const O=await M.order.capture();await w(O)}catch(O){await Yc.handlePayPalError(O)}finally{v.value=!1}},onError:async W=>{await Yc.handlePayPalError(W)}}).render(L.value),T.value=!0)}catch(ie){console.error("Failed to initialize PayPal:",ie),o.value="Failed to initialize PayPal. Please try another payment method."}},w=async ie=>{try{const W={...N(),paymentMethod:"paypal",paymentDetails:{paypal:!0,orderId:ie.id,status:ie.status,payerEmail:ie.payer.email_address},status:"paid"};await Ue.createOrder(W),n.clearCart(),s.addNotification({title:"PayPal Payment Successful",message:"Your payment has been processed successfully",type:"success",timeout:5e3}),await s.addPersistedNotification({title:"Order Confirmation",message:"Your PayPal payment was successful and your order has been confirmed",type:"success",userId:r.user.uid}),a.value="Order placed successfully! Payment completed via PayPal.",setTimeout(()=>{e.push("/account")},3e3)}catch(W){console.error("Error processing PayPal order:",W),o.value="Failed to process PayPal payment. Please contact support.",s.addNotification({title:"PayPal Error",message:"Failed to process your PayPal payment. Please try again or contact support.",type:"error",timeout:5e3})}},N=()=>({userId:r.user.uid,orderNumber:`ORD-${Date.now().toString().slice(-6)}`,items:G.value,subtotal:U.value,shipping:re.value,total:ae.value+U.value*.08,shippingInfo:{...y.value},orderDate:new Date,estimatedDelivery:new Date(Date.now()+7*24*60*60*1e3)}),C=te(()=>{switch(E.value){case"mobile-money":return/^254[0-9]{9}$/.test(R.value.phoneNumber);case"cash":return S.value;case"card":return I.value.cardNumber&&I.value.cardName&&I.value.expirationDate&&I.value.cvv;case"paypal":return!0;default:return!1}}),P=()=>{if(i.value)return"Processing...";switch(E.value){case"mobile-money":return`Pay with M-Pesa - ${Ye(ae.value+U.value*.08)}`;case"cash":return`Place Order - Pay ${Ye(ae.value+U.value*.08)} on Delivery`;case"card":return`Pay ${Ye(ae.value+U.value*.08)}`;case"paypal":return`Proceed to PayPal - ${Ye(ae.value+U.value*.08)}`;default:return`Complete Order - ${Ye(ae.value+U.value*.08)}`}},ce=()=>{console.log("Redirecting to PayPal...")},he=()=>{window.open("/digital-wallet/ways-to-pay/add-payment-method","WIPaypal","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=yes, resizable=yes, width=1060, height=700")},G=te(()=>n.cart),U=te(()=>n.subtotal),re=te(()=>U.value>=100?0:10),ae=te(()=>U.value+re.value),Ee=ie=>ie?typeof ie=="string"&&ie.startsWith("base64://")?ie.replace("base64://",""):ie&&typeof ie=="string"&&ie.startsWith("http")?ie:pt(ie):pt("placeholder.jpg"),ve=ie=>{ie.target.src=pt("placeholder.jpg")};je(async()=>{if(r.user)try{const ie=await Ue.getUserProfile(r.user.uid);c.value=ie,ie&&(y.value={...y.value,firstName:ie.firstName||"",lastName:ie.lastName||"",email:ie.email||r.user.email,phone:ie.phone||"",address:ie.address||""})}catch(ie){console.error("Error loading user profile:",ie)}else e.push("/login?redirect=checkout");G.value.length===0&&e.push("/cart")});const Ce=async()=>{if(i.value=!0,o.value="",G.value.length===0){o.value="Your cart is empty",i.value=!1,s.addNotification({title:"Error",message:"Cannot place order with empty cart",type:"error",timeout:5e3});return}try{const ie=new Date,W=`ORD-${Date.now().toString().slice(-6)}`,M={userId:r.user.uid,orderNumber:W,items:G.value,subtotal:U.value,shipping:re.value,total:ae.value,shippingInfo:{...y.value},paymentMethod:E.value,paymentDetails:Fe(),status:at(),orderDate:ie,estimatedDelivery:new Date(ie.setDate(ie.getDate()+7))},O=await Ue.createOrder(M);E.value==="mobile-money"&&(await bt(O.id),await s.addPersistedNotification({title:"Payment Required",message:`Please complete M-Pesa payment for order ${W}`,type:"warning",userId:r.user.uid})),n.clearCart(),a.value=Tt(W),s.addNotification({title:"Order Placed",message:`Order ${W} has been placed successfully`,type:"success",timeout:5e3}),await s.addPersistedNotification({title:"Order Confirmation",message:`Your order ${W} has been received and is being processed`,type:"success",userId:r.user.uid}),await s.addPersistedNotification({title:"New Order Received",message:`New order ${W} received from ${y.value.firstName} ${y.value.lastName}`,type:"info",isAdmin:!0}),setTimeout(()=>{e.push("/account")},3e3)}catch(ie){o.value="Failed to place order. Please try again.",console.error("Error placing order:",ie),s.addNotification({title:"Order Failed",message:"Failed to place your order. Please try again.",type:"error",timeout:5e3})}finally{i.value=!1}},Fe=()=>{switch(E.value){case"mobile-money":return{phoneNumber:R.value.phoneNumber};case"cash":return{cashOnDelivery:!0};case"card":return{cardName:I.value.cardName,lastFourDigits:I.value.cardNumber.slice(-4),cardType:K(I.value.cardNumber)};case"paypal":return{paypal:!0};default:return{}}},at=()=>{switch(E.value){case"mobile-money":return"awaiting_payment";case"cash":return"pending";case"card":case"paypal":return"processing";default:return"pending"}},Tt=ie=>{switch(E.value){case"mobile-money":return`Order ${ie} placed! Please check your phone for the M-Pesa payment prompt.`;case"cash":return`Order ${ie} placed! Please have ${Ye(ae.value+U.value*.08)} ready for delivery.`;case"card":return`Order ${ie} placed successfully! Your card has been charged.`;case"paypal":return`Order ${ie} placed successfully! Payment completed via PayPal.`;default:return`Order placed successfully! Your order number is ${ie}.`}},bt=async ie=>{try{console.log("Initiating M-Pesa payment for order:",ie)}catch(W){throw console.error("Error initiating M-Pesa payment:",W),W}},K=ie=>{const W=ie.replace(/\D/g,"");return/^4/.test(W)?"Visa":/^5[1-5]/.test(W)?"MasterCard":/^3[47]/.test(W)?"American Express":/^6(?:011|5)/.test(W)?"Discover":"Unknown"},F={mounted(ie,W){ie.addEventListener("input",M=>{const{value:O}=W;if(!O||!O.value)return;const Y=M.target.value.replace(/\D/g,""),oe=O.value;let J="",ne=0;for(let pe=0;pe<oe.length&&ne<Y.length;pe++)oe[pe]==="#"?(J+=Y[ne],ne++):J+=oe[pe];M.target.value=J})}},ee={mounted(ie,W){W&&W.value&&F.mounted(ie,W)}};return(ie,W)=>{const M=Rr("router-link");return D(),V("div",iB,[W[57]||(W[57]=dt('<div class="bg-light-secondary dark:bg-dark-secondary shadow-sm py-8 mb-8" data-v-a30e2d7c><div class="container mx-auto px-4" data-v-a30e2d7c><div class="max-w-4xl mx-auto" data-v-a30e2d7c><div class="flex flex-col sm:flex-row items-center justify-between gap-4" data-v-a30e2d7c><div class="flex items-center w-full sm:w-auto" data-v-a30e2d7c><div class="relative" data-v-a30e2d7c><div class="w-12 h-12 rounded-full bg-btn-primary text-white flex items-center justify-center font-semibold text-lg" data-v-a30e2d7c> 1 </div><div class="absolute -right-4 top-1/2 h-1 w-8 bg-btn-primary hidden sm:block" data-v-a30e2d7c></div></div><div class="ml-4" data-v-a30e2d7c><p class="font-medium text-btn-primary" data-v-a30e2d7c>Cart</p><p class="text-sm text-light-text-secondary dark:text-dark-text-secondary" data-v-a30e2d7c>Review items</p></div></div><div class="flex items-center w-full sm:w-auto" data-v-a30e2d7c><div class="relative" data-v-a30e2d7c><div class="w-12 h-12 rounded-full bg-btn-primary text-white flex items-center justify-center font-semibold text-lg" data-v-a30e2d7c> 2 </div><div class="absolute -right-4 top-1/2 h-1 w-8 bg-btn-primary hidden sm:block" data-v-a30e2d7c></div><div class="absolute -left-4 top-1/2 h-1 w-8 bg-btn-primary hidden sm:block" data-v-a30e2d7c></div></div><div class="ml-4" data-v-a30e2d7c><p class="font-medium text-btn-primary" data-v-a30e2d7c>Checkout</p><p class="text-sm text-light-text-secondary dark:text-dark-text-secondary" data-v-a30e2d7c>Payment details</p></div></div><div class="flex items-center w-full sm:w-auto" data-v-a30e2d7c><div class="relative" data-v-a30e2d7c><div class="w-12 h-12 rounded-full bg-light-neutral-300 dark:bg-dark-neutral-600 text-light-neutral-600 dark:text-dark-neutral-300 flex items-center justify-center font-semibold text-lg" data-v-a30e2d7c> 3 </div><div class="absolute -left-4 top-1/2 h-1 w-8 bg-light-neutral-300 dark:bg-dark-neutral-600 hidden sm:block" data-v-a30e2d7c></div></div><div class="ml-4" data-v-a30e2d7c><p class="font-medium text-light-neutral-500 dark:text-dark-neutral-400" data-v-a30e2d7c>Confirmation</p><p class="text-sm text-light-text-secondary dark:text-dark-text-secondary" data-v-a30e2d7c>Order complete</p></div></div></div></div></div></div>',1)),a.value?(D(),V("div",oB,[l("div",aB,[l("div",lB,[W[18]||(W[18]=dt('<div class="flex justify-center mb-5" data-v-a30e2d7c><div class="rounded-full bg-green-100 dark:bg-green-800 p-3" data-v-a30e2d7c><svg class="h-10 w-10 text-green-600 dark:text-green-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-a30e2d7c><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" data-v-a30e2d7c></path></svg></div></div><h2 class="text-2xl font-bold text-green-800 dark:text-green-200 mb-2" data-v-a30e2d7c>Order Placed Successfully!</h2>',2)),l("p",cB,H(a.value),1),W[19]||(W[19]=l("p",{class:"mt-4 text-light-text-secondary dark:text-dark-text-secondary"},"Redirecting to your account page...",-1)),l("div",uB,[z(M,{to:"/account",class:"px-6 py-3 bg-accent-primary hover:bg-accent-secondary text-white font-medium rounded-md transition-all"},{default:Z(()=>W[17]||(W[17]=[ue(" View order details ")])),_:1})])])])])):o.value?(D(),V("div",dB,[l("div",hB,[W[21]||(W[21]=l("div",{class:"flex-shrink-0 mt-0.5"},[l("svg",{class:"h-5 w-5 text-red-600 dark:text-red-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),l("div",fB,[l("p",pB,H(o.value),1)]),l("button",{onClick:W[0]||(W[0]=O=>o.value=""),class:"ml-auto text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300"},W[20]||(W[20]=[l("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])])):(D(),V("div",mB,[l("div",gB,[l("div",yB,[l("form",{onSubmit:Ar(Ce,["prevent"])},[l("div",vB,[W[35]||(W[35]=dt('<div class="bg-light-neutral-100 dark:bg-dark-secondary py-4 px-6 border-b border-light-neutral-200 dark:border-dark-neutral-700" data-v-a30e2d7c><div class="flex items-center" data-v-a30e2d7c><div class="bg-accent-primary rounded-full h-8 w-8 flex items-center justify-center mr-3" data-v-a30e2d7c><svg class="h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-a30e2d7c><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" data-v-a30e2d7c></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" data-v-a30e2d7c></path></svg></div><h2 class="text-xl font-bold text-light-text-primary dark:text-dark-text-primary" data-v-a30e2d7c>Shipping Information</h2></div></div>',1)),l("div",bB,[l("div",xB,[l("div",null,[W[22]||(W[22]=l("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"First Name",-1)),xe(l("input",{"onUpdate:modelValue":W[1]||(W[1]=O=>y.value.firstName=O),type:"text",required:"",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all",placeholder:"Your first name"},null,512),[[Pe,y.value.firstName]])]),l("div",null,[W[23]||(W[23]=l("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"Last Name",-1)),xe(l("input",{"onUpdate:modelValue":W[2]||(W[2]=O=>y.value.lastName=O),type:"text",required:"",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all",placeholder:"Your last name"},null,512),[[Pe,y.value.lastName]])]),l("div",null,[W[24]||(W[24]=l("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"Email",-1)),xe(l("input",{"onUpdate:modelValue":W[3]||(W[3]=O=>y.value.email=O),type:"email",required:"",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all",placeholder:"your.email@example.com"},null,512),[[Pe,y.value.email]])]),l("div",null,[W[25]||(W[25]=l("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"Phone",-1)),xe(l("input",{"onUpdate:modelValue":W[4]||(W[4]=O=>y.value.phone=O),type:"tel",required:"",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all",placeholder:"254XXXXXXXXX"},null,512),[[Pe,y.value.phone]])])]),l("div",_B,[W[27]||(W[27]=l("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"Delivery Method",-1)),xe(l("select",{"onUpdate:modelValue":W[5]||(W[5]=O=>y.value.deliveryMethod=O),required:"",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all",onChange:_},W[26]||(W[26]=[l("option",{value:""},"Select delivery method",-1),l("option",{value:"delivery"},"Home/Office Delivery",-1),l("option",{value:"pickup"},"Pickup Point",-1)]),544),[[Ln,y.value.deliveryMethod]])]),l("div",kB,[W[29]||(W[29]=l("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"City",-1)),xe(l("select",{"onUpdate:modelValue":W[6]||(W[6]=O=>y.value.city=O),required:"",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all",onChange:b},[W[28]||(W[28]=l("option",{value:""},"Select city",-1)),(D(),V(_e,null,Ve(f,O=>l("option",{key:O,value:O},H(O),9,wB)),64))],544),[[Ln,y.value.city]])]),y.value.deliveryMethod==="pickup"?(D(),V("div",EB,[W[31]||(W[31]=l("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"Pickup Point",-1)),xe(l("select",{"onUpdate:modelValue":W[7]||(W[7]=O=>y.value.pickupPoint=O),required:"",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all"},[W[30]||(W[30]=l("option",{value:""},"Select pickup point",-1)),(D(!0),V(_e,null,Ve(k.value,O=>(D(),V("option",{key:O,value:O},H(O),9,IB))),128))],512),[[Ln,y.value.pickupPoint]])])):de("",!0),y.value.deliveryMethod==="delivery"?(D(),V("div",TB,[W[32]||(W[32]=l("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"Detailed Address",-1)),xe(l("textarea",{"onUpdate:modelValue":W[8]||(W[8]=O=>y.value.address=O),required:"",rows:"3",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all",placeholder:"Enter your detailed address (e.g., House/Apartment number, Street name, Estate/Area)"},null,512),[[Pe,y.value.address]]),W[33]||(W[33]=l("p",{class:"mt-1 text-sm text-light-text-secondary dark:text-dark-text-secondary"}," Please provide landmarks or additional directions to help locate your address ",-1))])):de("",!0),l("div",AB,[l("div",SB,[xe(l("input",{id:"save-info",type:"checkbox","onUpdate:modelValue":W[9]||(W[9]=O=>h.value=O),class:"h-4 w-4 text-accent-primary focus:ring-accent-primary border-light-neutral-300 dark:border-dark-neutral-600 rounded"},null,512),[[os,h.value]]),W[34]||(W[34]=l("label",{for:"save-info",class:"ml-2 block text-sm text-light-text-primary dark:text-dark-text-primary"}," Save this information for next time ",-1))])])])]),l("div",CB,[W[48]||(W[48]=dt('<div class="bg-light-neutral-100 dark:bg-dark-secondary py-4 px-6 border-b border-light-neutral-200 dark:border-dark-neutral-700" data-v-a30e2d7c><div class="flex items-center" data-v-a30e2d7c><div class="bg-accent-primary rounded-full h-8 w-8 flex items-center justify-center mr-3" data-v-a30e2d7c><svg class="h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-a30e2d7c><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z" data-v-a30e2d7c></path></svg></div><h2 class="text-xl font-bold text-light-text-primary dark:text-dark-text-primary" data-v-a30e2d7c>Payment Method</h2></div></div>',1)),l("div",PB,[l("div",RB,[l("nav",NB,[(D(),V(_e,null,Ve(A,O=>l("button",{key:O.id,onClick:Y=>E.value=O.id,class:Ie([E.value===O.id?"border-accent-primary text-accent-primary":"border-transparent text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary hover:border-light-neutral-300 dark:hover:border-dark-neutral-700","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])},H(O.name),11,$B)),64))])]),E.value==="mobile-money"?(D(),V("div",OB,[l("div",DB,[W[36]||(W[36]=l("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"Phone Number",-1)),xe(l("input",{"onUpdate:modelValue":W[10]||(W[10]=O=>R.value.phoneNumber=O),type:"tel",required:"",placeholder:"254XXXXXXXXX",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all"},null,512),[[Pe,R.value.phoneNumber]])]),W[37]||(W[37]=l("p",{class:"text-sm text-light-text-secondary dark:text-dark-text-secondary mt-2"}," You will receive an M-Pesa prompt on your phone to complete the payment. ",-1))])):de("",!0),E.value==="cash"?(D(),V("div",MB,[l("div",VB,[W[38]||(W[38]=l("p",{class:"text-sm text-light-text-primary dark:text-dark-text-primary"}," You will pay in cash when your order is delivered. Please have the exact amount ready. ",-1)),l("div",LB,[l("label",FB,[xe(l("input",{type:"checkbox","onUpdate:modelValue":W[11]||(W[11]=O=>S.value=O),class:"h-4 w-4 text-accent-primary focus:ring-accent-primary border-light-neutral-300 dark:border-dark-neutral-600 rounded"},null,512),[[os,S.value]]),l("span",UB," I agree to pay the full amount of "+H(q(Ye)(ae.value+U.value*.08))+" upon delivery ",1)])])])])):de("",!0),E.value==="card"?(D(),V("div",jB,[l("div",BB,[W[45]||(W[45]=dt('<div class="mb-8" data-v-a30e2d7c><div class="flex items-center justify-between mb-4" data-v-a30e2d7c><p class="text-sm font-medium text-light-text-primary dark:text-dark-text-primary" data-v-a30e2d7c>Accepted Cards</p><div class="flex space-x-2" data-v-a30e2d7c><div class="h-8 w-12 rounded border bg-light-neutral-100 dark:bg-dark-secondary flex items-center justify-center" data-v-a30e2d7c><span class="text-xs font-bold text-blue-700" data-v-a30e2d7c>VISA</span></div><div class="h-8 w-12 rounded border bg-light-neutral-100 dark:bg-dark-secondary flex items-center justify-center" data-v-a30e2d7c><span class="text-xs font-bold text-red-700" data-v-a30e2d7c>MC</span></div><div class="h-8 w-12 rounded border bg-light-neutral-100 dark:bg-dark-secondary flex items-center justify-center" data-v-a30e2d7c><span class="text-xs font-bold text-blue-900" data-v-a30e2d7c>AMEX</span></div></div></div></div>',1)),l("div",qB,[W[39]||(W[39]=l("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"Name on Card",-1)),xe(l("input",{"onUpdate:modelValue":W[12]||(W[12]=O=>I.value.cardName=O),type:"text",required:"",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all"},null,512),[[Pe,I.value.cardName]])]),l("div",HB,[W[41]||(W[41]=l("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"Card Number",-1)),l("div",zB,[xe(l("input",{"onUpdate:modelValue":W[13]||(W[13]=O=>I.value.cardNumber=O),type:"text",required:"",placeholder:"1234 5678 9012 3456",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all"},null,512),[[Pe,I.value.cardNumber],[q(ee),"#### #### #### ####"]]),W[40]||(W[40]=l("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[l("svg",{class:"h-5 w-5 text-light-neutral-400 dark:text-dark-neutral-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})])],-1))])]),l("div",WB,[l("div",null,[W[42]||(W[42]=l("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"Expiration Date",-1)),xe(l("input",{"onUpdate:modelValue":W[14]||(W[14]=O=>I.value.expirationDate=O),type:"text",required:"",placeholder:"MM/YY",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all"},null,512),[[Pe,I.value.expirationDate],[q(ee),"##/##"]])]),l("div",null,[W[44]||(W[44]=l("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"CVV",-1)),l("div",KB,[xe(l("input",{"onUpdate:modelValue":W[15]||(W[15]=O=>I.value.cvv=O),type:"text",required:"",placeholder:"123",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all",maxlength:"3"},null,512),[[Pe,I.value.cvv],[q(ee),"###"]]),l("div",GB,[l("button",{type:"button",onClick:W[16]||(W[16]=O=>d.value=!d.value),class:"text-light-neutral-400 dark:text-dark-neutral-600 hover:text-light-neutral-500 dark:hover:text-dark-neutral-500 focus:outline-none"},W[43]||(W[43]=[l("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)]))])]),d.value?(D(),V("div",QB," The CVV is a 3-digit security code found on the back of your card. ")):de("",!0)])])])])):de("",!0),E.value==="paypal"?(D(),V("div",YB,[l("div",JB,[l("div",XB,[l("a",{href:"/digital-wallet/ways-to-pay/add-payment-method",title:"How PayPal Works",onClick:Ar(he,["prevent"]),class:"inline-block"},W[46]||(W[46]=[l("img",{src:"https://www.paypalobjects.com/webstatic/mktg/logo/pp_cc_mark_74x46.jpg",alt:"PayPal Logo",class:"mx-auto"},null,-1)]))]),W[47]||(W[47]=l("p",{class:"text-sm text-light-text-primary dark:text-dark-text-primary my-4"}," You will be redirected to PayPal to complete your payment securely. ",-1)),l("div",{ref_key:"paypalButtonsContainer",ref:L},null,512),l("button",{type:"button",onClick:ce,class:"w-full py-3 bg-btn-primary hover:bg-btn-primary-hover active:bg-btn-primary-dark text-white font-medium rounded-md transition-all"}," Checkout with PayPal ")])])):de("",!0)])]),l("button",{type:"submit",class:Ie(["w-full py-4 bg-btn-primary hover:bg-btn-primary-hover active:bg-btn-primary-dark text-white text-lg font-medium rounded-md transition-all flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent-primary",{"opacity-75 cursor-not-allowed":i.value||!C.value}]),disabled:i.value||!C.value},[i.value?(D(),V("svg",eq,W[49]||(W[49]=[l("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),l("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):de("",!0),ue(" "+H(P()),1)],10,ZB)],32)]),l("div",tq,[l("div",rq,[W[55]||(W[55]=l("div",{class:"bg-light-neutral-100 dark:bg-dark-secondary py-4 px-6 border-b border-light-neutral-200 dark:border-dark-neutral-700"},[l("h2",{class:"text-lg font-bold text-light-text-primary dark:text-dark-text-primary"},"Order Summary")],-1)),l("div",nq,[l("div",sq,[l("ul",iq,[(D(!0),V(_e,null,Ve(G.value,O=>(D(),V("li",{key:O.id,class:"py-4 flex"},[l("div",oq,[l("img",{src:Ee(O.image),alt:O.name,class:"w-full h-full object-center object-cover",onError:ve},null,40,aq)]),l("div",lq,[l("div",null,[l("div",cq,[l("h3",null,H(O.name),1),l("p",uq,H(q(Ye)(O.price*O.quantity)),1)]),l("p",dq,H(O.category||"Jewelry"),1)]),l("div",hq,[l("p",fq,"Qty "+H(O.quantity),1)])])]))),128))])])]),l("div",pq,[l("div",mq,[W[50]||(W[50]=l("p",null,"Subtotal",-1)),l("p",null,H(q(Ye)(U.value)),1)]),l("div",gq,[W[51]||(W[51]=l("p",null,"Shipping",-1)),re.value>0?(D(),V("p",yq,H(q(Ye)(re.value)),1)):(D(),V("p",vq,"Free"))]),l("div",bq,[W[52]||(W[52]=l("p",null,"Taxes (estimated)",-1)),l("p",null,H(q(Ye)(U.value*.08)),1)]),l("div",xq,[l("div",_q,[W[53]||(W[53]=l("p",null,"Total",-1)),l("p",null,H(q(Ye)(ae.value+U.value*.08)),1)]),W[54]||(W[54]=l("p",{class:"mt-1 text-sm text-light-text-secondary dark:text-dark-text-secondary"},"Shipping and taxes calculated at checkout",-1))])]),W[56]||(W[56]=dt('<div class="px-6 pb-6 pt-2" data-v-a30e2d7c><div class="mt-2" data-v-a30e2d7c><div class="border border-light-neutral-300 dark:border-dark-neutral-600 rounded-md p-4 bg-light-neutral-100 dark:bg-dark-secondary" data-v-a30e2d7c><div class="flex" data-v-a30e2d7c><div class="flex-shrink-0" data-v-a30e2d7c><svg class="h-5 w-5 text-green-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-a30e2d7c><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" data-v-a30e2d7c></path></svg></div><div class="ml-3" data-v-a30e2d7c><p class="text-sm text-light-text-primary dark:text-dark-text-primary" data-v-a30e2d7c><strong data-v-a30e2d7c>Secure checkout</strong> - Your payment information is protected </p></div></div></div></div><div class="mt-4 flex justify-center" data-v-a30e2d7c><div class="flex items-center space-x-2" data-v-a30e2d7c><svg class="h-5 w-5 text-light-neutral-400 dark:text-dark-neutral-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-a30e2d7c><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" data-v-a30e2d7c></path></svg><span class="text-xs text-light-text-secondary dark:text-dark-text-secondary" data-v-a30e2d7c>SSL Secure Payment</span></div></div></div>',1))])])])]))])}}},wq=jr(kq,[["__scopeId","data-v-a30e2d7c"]]),Eq="/images/Neeon%20Moon%201.jpeg",Iq="/images/Golden%20black.jpeg",Tq={class:"bg-light-primary dark:bg-dark-primary min-h-screen"},Aq={class:"bg-light-primary dark:bg-dark-primary py-24 sm:py-32"},Sq={class:"mx-auto max-w-7xl px-6 lg:px-8"},Cq={class:"mx-auto mt-16 max-w-2xl sm:mt-20 lg:mt-24 lg:max-w-4xl"},Pq={class:"grid max-w-xl grid-cols-1 gap-x-8 gap-y-10 lg:max-w-none lg:grid-cols-2 lg:gap-y-16"},Rq={class:"text-base font-semibold leading-7 text-light-text-primary dark:text-dark-text-primary"},Nq={class:"absolute left-0 top-0 flex h-10 w-10 items-center justify-center rounded-lg bg-accent-primary"},$q={class:"mt-2 text-base leading-7 text-light-text-secondary dark:text-dark-text-secondary"},Oq={class:"bg-light-secondary dark:bg-dark-secondary py-24 sm:py-32"},Dq={class:"mx-auto max-w-7xl px-6 lg:px-8"},Mq={role:"list",class:"mx-auto mt-20 grid max-w-2xl grid-cols-1 gap-x-8 gap-y-16 sm:grid-cols-2 lg:mx-0 lg:max-w-none lg:grid-cols-3"},Vq=["src","alt"],Lq={class:"mt-6"},Fq={class:"text-lg font-semibold leading-8 tracking-tight text-light-text-primary dark:text-dark-text-primary"},Uq={class:"text-base leading-7 text-accent-primary"},jq={class:"mt-4 text-base leading-7 text-light-text-secondary dark:text-dark-text-secondary"},Bq={class:"bg-light-primary dark:bg-dark-primary"},qq={class:"mx-auto max-w-7xl py-24 sm:px-6 sm:py-32 lg:px-8"},Hq={class:"relative isolate overflow-hidden bg-accent-primary px-6 pt-16 shadow-2xl sm:rounded-3xl sm:px-16 md:pt-24 lg:flex lg:gap-x-20 lg:px-24 lg:pt-0 fade-in",style:{"animation-delay":"0.3s"}},zq={class:"mx-auto max-w-md text-center lg:mx-0 lg:flex-auto lg:py-32 lg:text-left"},Wq={class:"mt-10 flex flex-col space-y-4 sm:flex-row sm:space-y-0 sm:items-center sm:justify-center sm:gap-x-6 lg:justify-start"},Kq={key:0,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},Gq={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Qq={class:"inline-block align-bottom bg-white dark:bg-dark-secondary rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6"},Yq={class:"absolute top-0 right-0 pt-4 pr-4"},Jq={class:"grid grid-cols-1 gap-y-6 sm:grid-cols-2 sm:gap-x-6"},Xq={class:"relative"},Zq={key:0,class:"mt-2 text-sm text-red-600"},eH={class:"relative"},tH={key:0,class:"mt-2 text-sm text-red-600"},rH={class:"relative"},nH={key:0,class:"mt-2 text-sm text-red-600"},sH={class:"relative"},iH={key:0,class:"mt-2 text-sm text-red-600"},oH={class:"relative"},aH={key:0,class:"mt-2 text-sm text-red-600"},lH={class:"relative"},cH={key:0,class:"mt-2 text-sm text-red-600"},uH={class:"flex justify-end pt-4"},dH=["disabled"],hH={key:0,class:"inline-block animate-spin mr-2"},fH={key:0,class:"mt-6 rounded-lg bg-green-50 dark:bg-opacity-10 p-4"},pH={class:"flex"},mH={class:"flex-shrink-0"},gH={__name:"AboutUs",setup(t){je(()=>{const h=new IntersectionObserver(f=>{f.forEach(p=>{p.isIntersecting&&(p.target.style.visibility="visible")})},{threshold:.1});document.querySelectorAll(".fade-in, .slide-up, .slide-in-right, .stagger-item").forEach(f=>{f.style.visibility="hidden",h.observe(f)})});const e=[{title:"Quality Craftsmanship",description:"Every piece is crafted to the highest standards, using premium materials and meticulous attention to detail.",icon:Ze({template:`
        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0012 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52l2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 01-2.031.352 5.988 5.988 0 01-2.031-.352c-.483-.174-.711-.703-.59-1.202L18.75 4.971zm-16.5.52c.99-.203 1.99-.377 3-.52m0 0l2.62 10.726c.122.499-.106 1.028-.589 1.202a5.989 5.989 0 01-2.031.352 5.989 5.989 0 01-2.031-.352c-.483-.174-.711-.703-.59-1.202L5.25 4.971z" />
        </svg>
      `})},{title:"Artistic Innovation",description:"We blend traditional techniques with contemporary design to create unique pieces that stand out.",icon:Ze({template:`
        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z" />
        </svg>
      `})},{title:"Personalized Experience",description:"We believe in creating personal connections with our customers and offering jewelry that tells their unique story.",icon:Ze({template:`
        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" />
        </svg>
      `})},{title:"Sustainable Practices",description:"We're committed to environmentally responsible practices, from ethically sourced materials to eco-friendly packaging.",icon:Ze({template:`
        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M12.75 3.03v.568c0 .334.148.65.405.864l1.068.89c.442.369.535 1.01.216 1.49l-.51.766a2.25 2.25 0 01-1.161.886l-.143.048a1.107 1.107 0 00-.57 1.664c.369.555.169 1.307-.427 1.605L9 13.125l.423 1.059a.956.956 0 01-1.652.928l-.679-.906a1.125 1.125 0 00-1.906.172L4.5 15.75l-.612.153M12.75 3.031a9 9 0 00-8.862 12.872M12.75 3.031a9 9 0 016.69 14.036m0 0l-.177-.529A2.25 2.25 0 0017.128 15H16.5l-.324-.324a1.453 1.453 0 00-2.328.377l-.036.073a1.586 1.586 0 01-.982.816l-.99.282c-.55.157-.894.702-.8 1.267l.073.438c.08.474.49.821.97.821.846 0 1.598.542 1.865 1.345l.215.643m5.276-3.67a9.012 9.012 0 01-5.276 3.67m0 0a9 9 0 01-10.275-4.835M15.75 9c0 .896-.393 1.7-1.016 2.25" />
        </svg>
      `})}],r=[{name:"Emma Anderson",role:"Founder & Lead Designer",description:"Emma brings over 15 years of jewelry design experience and a passion for creating pieces that tell stories.",image:"https://images.unsplash.com/photo-1580489944761-15a19d654956?ixlib=rb-1.2.1&auto=format&fit=crop&w=1061&q=80"},{name:"Daniel Martinez",role:"Master Craftsman",description:"Daniel's precision and attention to detail ensure that every piece meets our exacting quality standards.",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-1.2.1&auto=format&fit=crop&w=987&q=80"},{name:"Sophia Chen",role:"Materials Specialist",description:"Sophia sources the finest materials from around the world, ensuring both quality and ethical practices.",image:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-1.2.1&auto=format&fit=crop&w=928&q=80"}],n=B(!1),s=B({firstName:"",lastName:"",email:"",phone:"",description:"",budget:""}),i=Yr({firstName:"",lastName:"",email:"",phone:"",description:"",budget:""}),o=B(!1),a=B(!1),c=()=>{let h=!0;return Object.keys(i).forEach(f=>i[f]=""),s.value.firstName.trim()||(i.firstName="First name is required",h=!1),s.value.lastName.trim()||(i.lastName="Last name is required",h=!1),s.value.email.trim()?/^\S+@\S+\.\S+$/.test(s.value.email)||(i.email="Please enter a valid email address",h=!1):(i.email="Email is required",h=!1),s.value.phone.trim()?/^\+?[\d\s-]+$/.test(s.value.phone)||(i.phone="Please enter a valid phone number",h=!1):(i.phone="Phone number is required",h=!1),s.value.description.trim()||(i.description="Design description is required",h=!1),s.value.budget||(i.budget="Please select a budget range",h=!1),h},d=async()=>{if(!c())return;o.value=!0;const h=en();try{await Ue.submitCustomDesign({firstName:s.value.firstName,lastName:s.value.lastName,email:s.value.email,phone:s.value.phone,description:s.value.description,budget:s.value.budget}),s.value={firstName:"",lastName:"",email:"",phone:"",description:"",budget:""},a.value=!0,h.addNotification({type:"success",message:"Your custom design request has been submitted successfully! We will contact you soon."}),setTimeout(()=>{n.value=!1,a.value=!1},3e3)}catch(f){console.error("Error submitting form:",f),h.addNotification({type:"error",message:"There was an error submitting your request. Please try again."})}finally{o.value=!1}};return(h,f)=>(D(),V(_e,null,[l("div",Tq,[f[16]||(f[16]=dt('<div class="relative overflow-hidden" data-v-bfd141d3><div class="absolute inset-0 fade-in" data-v-bfd141d3><img src="'+Eq+'" alt="Jewelry crafting" class="h-full w-full object-cover object-center" data-v-bfd141d3><div class="absolute inset-0 bg-gray-900 opacity-60" data-v-bfd141d3></div></div><div class="relative px-6 py-32 sm:py-40 lg:px-8" data-v-bfd141d3><div class="mx-auto max-w-2xl text-center slide-up" data-v-bfd141d3><h1 class="text-4xl font-bold tracking-tight text-white sm:text-6xl" data-v-bfd141d3>About Beabed Art</h1><p class="mt-6 text-lg leading-8 text-white" data-v-bfd141d3>Crafting uniquely beautiful jewelry to celebrate life&#39;s special moments</p></div></div></div><div class="overflow-hidden bg-light-secondary dark:bg-dark-secondary py-24 sm:py-32" data-v-bfd141d3><div class="mx-auto max-w-7xl px-6 lg:px-8" data-v-bfd141d3><div class="mx-auto grid max-w-2xl grid-cols-1 gap-x-8 gap-y-16 sm:gap-y-20 lg:mx-0 lg:max-w-none lg:grid-cols-2" data-v-bfd141d3><div class="lg:pr-8 lg:pt-4 slide-up" style="animation-delay:0.3s;" data-v-bfd141d3><div class="lg:max-w-lg" data-v-bfd141d3><h2 class="text-base font-semibold leading-7 text-accent-primary" data-v-bfd141d3>Our Story</h2><p class="mt-2 text-3xl font-bold tracking-tight text-light-text-primary dark:text-dark-text-primary sm:text-4xl" data-v-bfd141d3>Handcrafted with passion</p><p class="mt-6 text-lg leading-8 text-light-text-secondary dark:text-dark-text-secondary" data-v-bfd141d3> Beabed Art was born from a simple love of creating beautiful things. What started as a hobby in a small home workshop has grown into a passionate pursuit of craftsmanship and artistic expression. </p><p class="mt-6 text-lg leading-8 text-light-text-secondary dark:text-dark-text-secondary" data-v-bfd141d3> Every piece in our collection is handcrafted with meticulous attention to detail, using traditional techniques passed down through generations alongside innovative modern approaches. </p><p class="mt-6 text-lg leading-8 text-light-text-secondary dark:text-dark-text-secondary" data-v-bfd141d3> We believe jewelry should be as unique as the person wearing it, telling a story and creating a connection that lasts a lifetime. </p></div></div><img src="https://images.unsplash.com/photo-1617038260897-41a1f14a8ca0?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=987&amp;q=80" alt="Jewelry making process" class="slide-in-right w-[48rem] max-h-[30rem] object-cover rounded-xl shadow-xl ring-1 ring-light-neutral-300 dark:ring-dark-neutral-700 sm:w-[57rem] md:-ml-4 lg:-ml-0" style="animation-delay:0.6s;" width="2432" height="1442" data-v-bfd141d3></div></div></div>',2)),l("div",Aq,[l("div",Sq,[f[9]||(f[9]=l("div",{class:"mx-auto max-w-2xl lg:text-center slide-up",style:{"animation-delay":"0.3s"}},[l("h2",{class:"text-base font-semibold leading-7 text-accent-primary"},"Our Values"),l("p",{class:"mt-2 text-3xl font-bold tracking-tight text-light-text-primary dark:text-dark-text-primary sm:text-4xl"}," What guides our craft "),l("p",{class:"mt-6 text-lg leading-8 text-light-text-secondary dark:text-dark-text-secondary"}," At Beabed Art, these principles guide everything we do, from design to customer service. ")],-1)),l("div",Cq,[l("dl",Pq,[(D(),V(_e,null,Ve(e,(p,y)=>l("div",{key:y,class:"relative pl-16 stagger-item",style:Ct({animationDelay:`${.3+y*.2}s`})},[l("dt",Rq,[l("div",Nq,[(D(),mt(xd(p.icon),{class:"h-6 w-6 text-light-text-primary dark:text-dark-text-primary"}))]),ue(" "+H(p.title),1)]),l("dd",$q,H(p.description),1)],4)),64))])])])]),l("div",Oq,[l("div",Dq,[f[10]||(f[10]=l("div",{class:"mx-auto max-w-2xl lg:mx-0 slide-up",style:{"animation-delay":"0.3s"}},[l("h2",{class:"text-3xl font-bold tracking-tight text-light-text-primary dark:text-dark-text-primary sm:text-4xl"},"Our Team"),l("p",{class:"mt-6 text-lg leading-8 text-light-text-secondary dark:text-dark-text-secondary"}," Meet the creative minds and skilled hands behind every Beabed Art creation. ")],-1)),l("ul",Mq,[(D(),V(_e,null,Ve(r,(p,y)=>l("li",{key:p.name,class:"group stagger-item",style:Ct({animationDelay:`${.5+y*.2}s`})},[l("img",{class:Ie(["aspect-[3/2] w-full rounded-2xl object-cover transition-all duration-300 group-hover:opacity-90","ring-1 ring-light-neutral-300 dark:ring-dark-neutral-700"]),src:p.image,alt:p.name},null,8,Vq),l("div",Lq,[l("h3",Fq,H(p.name),1),l("p",Uq,H(p.role),1),l("p",jq,H(p.description),1)])],4)),64))])])]),l("div",Bq,[l("div",qq,[l("div",Hq,[f[14]||(f[14]=dt('<svg viewBox="0 0 1024 1024" class="absolute left-1/2 top-1/2 -z-10 h-[64rem] w-[64rem] -translate-y-1/2 [mask-image:radial-gradient(closest-side,white,transparent)] sm:left-full sm:-ml-80 lg:left-1/2 lg:ml-0 lg:-translate-x-1/2 lg:translate-y-0" aria-hidden="true" data-v-bfd141d3><circle cx="512" cy="512" r="512" fill="url(#759c1415-0410-454c-8f7c-9a820de03641)" fill-opacity="0.7" data-v-bfd141d3></circle><defs data-v-bfd141d3><radialGradient id="759c1415-0410-454c-8f7c-9a820de03641" data-v-bfd141d3><stop stop-color="#7775D6" data-v-bfd141d3></stop><stop offset="1" stop-color="#E935C1" data-v-bfd141d3></stop></radialGradient></defs></svg>',1)),l("div",zq,[f[12]||(f[12]=l("h2",{class:"text-3xl font-bold tracking-tight text-light-text-primary sm:text-4xl"},"Custom Design Service",-1)),f[13]||(f[13]=l("p",{class:"mt-6 text-lg leading-8 text-light-text-primary/80"}," Have a unique vision? Let us bring your dream jewelry to life. Request a custom design or visit our workshop to discuss your ideas. ",-1)),l("div",Wq,[l("button",{onClick:f[0]||(f[0]=p=>n.value=!0),class:"rounded-btn bg-btn-primary px-3.5 py-2.5 text-sm font-semibold text-white shadow-btn hover:bg-btn-primary-hover hover:shadow-btn-hover transition-btn text-center"}," Request Custom Design "),z(q(ft),{to:"/products",class:"text-sm font-semibold leading-6 text-light-text-primary hover:text-accent-secondary transition-colors text-center"},{default:Z(()=>f[11]||(f[11]=[ue(" Shop Our Collection "),l("span",{"aria-hidden":"true"},"→",-1)])),_:1})])]),f[15]||(f[15]=l("div",{class:"relative my-8"},[l("img",{class:"w-[48rem] max-h-[30rem] object-cover rounded-xl shadow-xl ring-1 ring-light-neutral-300 dark:ring-dark-neutral-700 sm:w-[57rem] md:-ml-4 lg:-ml-0",src:Iq,alt:"Jewelry workshop"})],-1))])])])]),n.value?(D(),V("div",Kq,[l("div",Gq,[l("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:f[1]||(f[1]=p=>n.value=!1)}),l("div",Qq,[l("div",Yq,[l("button",{onClick:f[2]||(f[2]=p=>n.value=!1),class:"text-gray-400 hover:text-gray-500"},f[17]||(f[17]=[l("span",{class:"sr-only"},"Close",-1),l("svg",{class:"h-6 w-6",fill:"none",viewBox:"0  0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),l("form",{onSubmit:Ar(d,["prevent"]),class:"space-y-6"},[f[26]||(f[26]=l("h3",{class:"text-2xl font-semibold text-light-text-primary dark:text-dark-text-primary"},"Custom Design Request",-1)),l("div",Jq,[l("div",null,[f[18]||(f[18]=l("label",{for:"first-name",class:"block text-sm font-medium leading-6 text-light-text-primary dark:text-dark-text-primary mb-2"}," First name ",-1)),l("div",Xq,[xe(l("input",{"onUpdate:modelValue":f[3]||(f[3]=p=>s.value.firstName=p),type:"text",id:"first-name",autocomplete:"given-name",class:Ie(["block w-full rounded-lg bg-light-secondary dark:bg-dark-secondary border-0 px-4 py-3 text-light-text-primary dark:text-dark-text-primary shadow-sm ring-1 ring-inset ring-light-neutral-300 dark:ring-dark-neutral-700 placeholder:text-light-neutral-400 dark:placeholder:text-dark-neutral-400 focus:ring-2 focus:ring-accent-primary focus:outline-none transition-all duration-200 sm:text-sm",{"ring-red-500":i.firstName}]),required:""},null,2),[[Pe,s.value.firstName]]),i.firstName?(D(),V("p",Zq,H(i.firstName),1)):de("",!0)])]),l("div",null,[f[19]||(f[19]=l("label",{for:"last-name",class:"block text-sm font-medium leading-6 text-light-text-primary dark:text-dark-text-primary mb-2"}," Last name ",-1)),l("div",eH,[xe(l("input",{"onUpdate:modelValue":f[4]||(f[4]=p=>s.value.lastName=p),type:"text",id:"last-name",autocomplete:"family-name",class:Ie(["block w-full rounded-lg bg-light-secondary dark:bg-dark-secondary border-0 px-4 py-3 text-light-text-primary dark:text-dark-text-primary shadow-sm ring-1 ring-inset ring-light-neutral-300 dark:ring-dark-neutral-700 placeholder:text-light-neutral-400 dark:placeholder:text-dark-neutral-400 focus:ring-2 focus:ring-accent-primary focus:outline-none transition-all duration-200 sm:text-sm",{"ring-red-500":i.lastName}]),required:""},null,2),[[Pe,s.value.lastName]]),i.lastName?(D(),V("p",tH,H(i.lastName),1)):de("",!0)])])]),l("div",null,[f[20]||(f[20]=l("label",{for:"phone",class:"block text-sm font-medium leading-6 text-light-text-primary dark:text-dark-text-primary mb-2"}," Phone Number ",-1)),l("div",rH,[xe(l("input",{"onUpdate:modelValue":f[5]||(f[5]=p=>s.value.phone=p),id:"phone",type:"tel",autocomplete:"tel",class:Ie(["block w-full rounded-lg bg-light-secondary dark:bg-dark-secondary border-0 px-4 py-3 text-light-text-primary dark:text-dark-text-primary shadow-sm ring-1 ring-inset ring-light-neutral-300 dark:ring-dark-neutral-700 placeholder:text-light-neutral-400 dark:placeholder:text-dark-neutral-400 focus:ring-2 focus:ring-accent-primary focus:outline-none transition-all duration-200 sm:text-sm",{"ring-red-500":i.phone}]),required:""},null,2),[[Pe,s.value.phone]]),i.phone?(D(),V("p",nH,H(i.phone),1)):de("",!0)])]),l("div",null,[f[21]||(f[21]=l("label",{for:"email",class:"block text-sm font-medium leading-6 text-light-text-primary dark:text-dark-text-primary mb-2"}," Email ",-1)),l("div",sH,[xe(l("input",{"onUpdate:modelValue":f[6]||(f[6]=p=>s.value.email=p),id:"email",name:"email",type:"email",autocomplete:"email",class:Ie(["block w-full rounded-lg bg-light-secondary dark:bg-dark-secondary border-0 px-4 py-3 text-light-text-primary dark:text-dark-text-primary shadow-sm ring-1 ring-inset ring-light-neutral-300 dark:ring-dark-neutral-700 placeholder:text-light-neutral-400 dark:placeholder:text-dark-neutral-400 focus:ring-2 focus:ring-accent-primary focus:outline-none transition-all duration-200 sm:text-sm",{"ring-red-500":i.email}]),required:""},null,2),[[Pe,s.value.email]]),i.email?(D(),V("p",iH,H(i.email),1)):de("",!0)])]),l("div",null,[f[22]||(f[22]=l("label",{for:"description",class:"block text-sm font-medium leading-6 text-light-text-primary dark:text-dark-text-primary mb-2"}," Design Description ",-1)),l("div",oH,[xe(l("textarea",{"onUpdate:modelValue":f[7]||(f[7]=p=>s.value.description=p),id:"description",rows:"4",class:Ie(["block w-full rounded-lg bg-light-secondary dark:bg-dark-secondary border-0 px-4 py-3 text-light-text-primary dark:text-dark-text-primary shadow-sm ring-1 ring-inset ring-light-neutral-300 dark:ring-dark-neutral-700 placeholder:text-light-neutral-400 dark:placeholder:text-dark-neutral-400 focus:ring-2 focus:ring-accent-primary focus:outline-none transition-all duration-200 sm:text-sm",{"ring-red-500":i.description}]),required:""},null,2),[[Pe,s.value.description]]),i.description?(D(),V("p",aH,H(i.description),1)):de("",!0)])]),l("div",null,[f[24]||(f[24]=l("label",{for:"budget",class:"block text-sm font-medium leading-6 text-light-text-primary dark:text-dark-text-primary mb-2"}," Budget Range ",-1)),l("div",lH,[xe(l("select",{"onUpdate:modelValue":f[8]||(f[8]=p=>s.value.budget=p),id:"budget",class:Ie(["block w-full rounded-lg bg-light-secondary dark:bg-dark-secondary border-0 px-4 py-3 text-light-text-primary dark:text-dark-text-primary shadow-sm ring-1 ring-inset ring-light-neutral-300 dark:ring-dark-neutral-700 placeholder:text-light-neutral-400 dark:placeholder:text-dark-neutral-400 focus:ring-2 focus:ring-accent-primary focus:outline-none transition-all duration-200 sm:text-sm",{"ring-red-500":i.budget}]),required:""},f[23]||(f[23]=[dt('<option value="" data-v-bfd141d3>Select a range</option><option value="0-500" data-v-bfd141d3>$0 - $500</option><option value="501-1000" data-v-bfd141d3>$501 - $1,000</option><option value="1001-2000" data-v-bfd141d3>$1,001 - $2,000</option><option value="2000+" data-v-bfd141d3>$2,000+</option>',5)]),2),[[Ln,s.value.budget]]),i.budget?(D(),V("p",cH,H(i.budget),1)):de("",!0)])]),l("div",uH,[l("button",{type:"submit",disabled:o.value,class:"inline-flex items-center justify-center rounded-lg bg-orange-500 px-6 py-3 text-sm font-semibold text-white shadow-sm hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200"},[o.value?(D(),V("span",hH,f[25]||(f[25]=[l("svg",{class:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[l("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),l("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):de("",!0),ue(" "+H(o.value?"Sending...":"Submit Request"),1)],8,dH)])],32),a.value?(D(),V("div",fH,[l("div",pH,[l("div",mH,[z(q(Fl),{class:"h-5 w-5 text-orange-500","aria-hidden":"true"})]),f[27]||(f[27]=l("div",{class:"ml-3"},[l("div",{class:"text-sm font-medium text-green-800 dark:text-green-200"}," Thank you for your custom design request! We'll get back to you soon. ")],-1))])])):de("",!0)])])])):de("",!0)],64))}},yH=jr(gH,[["__scopeId","data-v-bfd141d3"]]),vH="/images/Auqu%20Sand%20varients.jpeg",bH={class:"min-h-screen bg-light-primary dark:bg-dark-primary"},xH={class:"relative isolate bg-light-secondary dark:bg-dark-secondary"},_H={class:"relative mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},kH={class:"mx-auto mt-16 grid max-w-7xl grid-cols-1 gap-x-8 gap-y-20 lg:grid-cols-12"},wH={class:"lg:col-span-5 space-y-8 mb-8 animate-slideInLeft"},EH={class:"bg-light-primary dark:bg-dark-primary rounded-xl shadow-lg ring-1 ring-light-neutral-300 dark:ring-dark-neutral-700 p-8 hover:shadow-xl transition-all duration-300"},IH={class:"space-y-6 text-sm leading-6"},TH={class:"flex items-center gap-x-4 group"},AH={class:"flex-none"},SH={class:"flex items-center gap-x-4 group"},CH={class:"flex-none"},PH={class:"flex items-center gap-x-4 group"},RH={class:"flex-none"},NH={class:"bg-light-primary dark:bg-dark-primary rounded-xl shadow-lg ring-1 ring-light-neutral-300 dark:ring-dark-neutral-700 p-8 hover:shadow-xl transition-all duration-300"},$H={class:"space-y-4 text-sm leading-6"},OH={class:"flex items-center gap-x-4"},DH={class:"flex-none"},MH={class:"bg-light-primary dark:bg-dark-primary rounded-xl shadow-lg ring-1 ring-light-neutral-300 dark:ring-dark-neutral-700 overflow-hidden hover:shadow-xl transition-all duration-300"},VH={class:"p-8"},LH={class:"text-xl font-semibold leading-7 text-light-text-primary dark:text-dark-text-primary mb-6 flex items-center"},FH={class:"mt-6"},UH={href:"https://www.google.com/maps/dir/?api=1&destination=-1.4774,36.9584&destination_place_id=Kitengela+Nairobi+Kenya",target:"_blank",rel:"noopener noreferrer",class:"inline-flex items-center justify-center gap-2 bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-md transition-colors"},jH={class:"lg:col-span-7 animate-slideInRight"},BH={class:"bg-light-primary dark:bg-dark-primary rounded-xl shadow-lg ring-1 ring-light-neutral-300 dark:ring-dark-neutral-700 p-8"},qH={class:"grid grid-cols-1 gap-y-6 sm:grid-cols-2 sm:gap-x-6"},HH={class:"relative"},zH={key:0,class:"mt-2 text-sm text-red-600"},WH={class:"relative"},KH={key:0,class:"mt-2 text-sm text-red-600"},GH={class:"relative"},QH={key:0,class:"mt-2 text-sm text-red-600"},YH={class:"relative"},JH={key:0,class:"mt-2 text-sm text-red-600"},XH={class:"relative"},ZH={key:0,class:"mt-2 text-sm text-red-600"},ez={class:"flex justify-end pt-4"},tz=["disabled"],rz={key:0,class:"inline-block animate-spin mr-2"},nz={key:0,class:"mt-6 rounded-lg bg-green-50 dark:bg-opacity-10 p-4"},sz={class:"flex"},iz={class:"flex-shrink-0"},oz={__name:"ContactView",setup(t){const e=Yr({firstName:"",lastName:"",email:"",subject:"",message:""}),r=Yr({firstName:"",lastName:"",email:"",subject:"",message:""}),n=B(!1),s=B(!1),i=()=>{let a=!0;return Object.keys(r).forEach(c=>r[c]=""),e.firstName.trim()||(r.firstName="First name is required",a=!1),e.lastName.trim()||(r.lastName="Last name is required",a=!1),e.email.trim()?/^\S+@\S+\.\S+$/.test(e.email)||(r.email="Please enter a valid email address",a=!1):(r.email="Email is required",a=!1),e.subject.trim()||(r.subject="Subject is required",a=!1),e.message.trim()||(r.message="Message is required",a=!1),a},o=async()=>{if(i()){n.value=!0;try{await new Promise(a=>setTimeout(a,1500)),Object.keys(e).forEach(a=>e[a]=""),s.value=!0,setTimeout(()=>{s.value=!1},5e3)}catch(a){console.error("Error submitting form:",a)}finally{n.value=!1}}};return(a,c)=>(D(),V("div",bH,[l("div",xH,[c[25]||(c[25]=dt('<div class="relative" data-v-11744b1a><div class="absolute inset-0" data-v-11744b1a><img src="'+vH+'" alt="Jewelry crafting" class="h-full w-full object-cover object-center" data-v-11744b1a><div class="absolute inset-0 bg-gray-900 opacity-60" data-v-11744b1a></div></div><div class="relative mx-auto max-w-7xl px-4 py-24 sm:px-6 lg:px-8" data-v-11744b1a><div class="text-center animate-fadeIn" data-v-11744b1a><h2 class="text-4xl font-bold tracking-tight text-white sm:text-5xl mb-6" data-v-11744b1a> Get in Touch </h2><p class="mt-4 text-lg leading-8 text-gray-200 max-w-2xl mx-auto" data-v-11744b1a> We&#39;re here to help bring your jewelry dreams to life. Reach out to us for any questions, custom orders, or collaborations. </p></div></div></div>',1)),l("div",_H,[l("div",kH,[l("div",wH,[l("div",EH,[c[11]||(c[11]=l("h3",{class:"text-xl font-semibold leading-7 text-light-text-primary dark:text-dark-text-primary mb-6"}," Contact Details ",-1)),l("dl",IH,[l("div",TH,[l("dt",AH,[c[5]||(c[5]=l("span",{class:"sr-only"},"Address",-1)),z(q(gf),{class:"h-6 w-6 text-orange-500 group-hover:scale-110 transition-transform","aria-hidden":"true"})]),c[6]||(c[6]=l("dd",{class:"text-light-text-secondary dark:text-dark-text-secondary"},[l("p",{class:"font-medium"},"Nairobi Kenya"),l("p",null,"Kitengela")],-1))]),l("div",SH,[l("dt",CH,[c[7]||(c[7]=l("span",{class:"sr-only"},"Telephone",-1)),z(q(B9),{class:"h-6 w-6 text-orange-500 group-hover:scale-110 transition-transform","aria-hidden":"true"})]),c[8]||(c[8]=l("dd",null,[l("a",{class:"text-light-text-primary dark:text-dark-text-primary hover:text-orange-500 transition-colors",href:"tel:+2547 4141 4271"}," +2547 4141 4261 ")],-1))]),l("div",PH,[l("dt",RH,[c[9]||(c[9]=l("span",{class:"sr-only"},"Email",-1)),z(q(M9),{class:"h-6 w-6 text-orange-500 group-hover:scale-110 transition-transform","aria-hidden":"true"})]),c[10]||(c[10]=l("dd",null,[l("a",{class:"text-light-text-primary dark:text-dark-text-primary hover:text-orange-500 transition-colors",href:"mailto:hello@kreativekanvas.shop"}," hello@kreativekanvas.shop ")],-1))])])]),l("div",NH,[c[13]||(c[13]=l("h3",{class:"text-xl font-semibold leading-7 text-light-text-primary dark:text-dark-text-primary mb-6"}," Studio Hours ",-1)),l("dl",$H,[l("div",OH,[l("dt",DH,[z(q(D9),{class:"h-6 w-6 text-orange-500","aria-hidden":"true"})]),c[12]||(c[12]=dt('<dd class="text-light-text-secondary dark:text-dark-text-secondary space-y-2" data-v-11744b1a><div class="flex justify-between items-center" data-v-11744b1a><span data-v-11744b1a>Monday - Friday</span><span class="font-medium" data-v-11744b1a>9AM - 6PM</span></div><div class="flex justify-between items-center" data-v-11744b1a><span data-v-11744b1a>Saturday</span><span class="font-medium" data-v-11744b1a>10AM - 4PM</span></div><div class="flex justify-between items-center text-light-neutral-500 dark:text-dark-neutral-400" data-v-11744b1a><span data-v-11744b1a>Sunday</span><span data-v-11744b1a>Closed</span></div></dd>',1))])])]),l("div",MH,[l("div",VH,[l("h3",LH,[z(q(gf),{class:"h-6 w-6 text-orange-500 mr-2"}),c[14]||(c[14]=ue(" Our Location "))]),c[16]||(c[16]=l("div",{class:"text-light-text-secondary dark:text-dark-text-secondary"},[l("p",{class:"font-medium text-lg mb-2"},"Kreative Kanvas Jewelry"),l("p",{class:"mb-1"},"Kitengela, Nairobi"),l("p",null,"Kenya")],-1)),l("div",FH,[l("a",UH,[z(q(gf),{class:"h-5 w-5"}),c[15]||(c[15]=l("span",{class:"font-medium"},"View on Google Maps",-1))])])])])]),l("div",jH,[l("div",BH,[c[24]||(c[24]=l("h3",{class:"text-2xl font-semibold leading-7 text-light-text-primary dark:text-dark-text-primary mb-8"}," Send us a Message ",-1)),l("form",{onSubmit:Ar(o,["prevent"]),class:"space-y-6"},[l("div",qH,[l("div",null,[c[17]||(c[17]=l("label",{for:"first-name",class:"block text-sm font-medium leading-6 text-light-text-primary dark:text-dark-text-primary mb-2"}," First name ",-1)),l("div",HH,[xe(l("input",{"onUpdate:modelValue":c[0]||(c[0]=d=>e.firstName=d),type:"text",id:"first-name",autocomplete:"given-name",class:Ie(["block w-full rounded-lg bg-light-secondary dark:bg-dark-secondary border-0 px-4 py-3 text-light-text-primary dark:text-dark-text-primary shadow-sm ring-1 ring-inset ring-light-neutral-300 dark:ring-dark-neutral-700 placeholder:text-light-neutral-400 dark:placeholder:text-dark-neutral-400 focus:ring-2 focus:ring-accent-primary focus:outline-none transition-all duration-200 sm:text-sm",{"ring-red-500":r.firstName}])},null,2),[[Pe,e.firstName]]),r.firstName?(D(),V("p",zH,H(r.firstName),1)):de("",!0)])]),l("div",null,[c[18]||(c[18]=l("label",{for:"last-name",class:"block text-sm font-medium leading-6 text-light-text-primary dark:text-dark-text-primary mb-2"}," Last name ",-1)),l("div",WH,[xe(l("input",{"onUpdate:modelValue":c[1]||(c[1]=d=>e.lastName=d),type:"text",id:"last-name",autocomplete:"family-name",class:Ie(["block w-full rounded-lg bg-light-secondary dark:bg-dark-secondary border-0 px-4 py-3 text-light-text-primary dark:text-dark-text-primary shadow-sm ring-1 ring-inset ring-light-neutral-300 dark:ring-dark-neutral-700 placeholder:text-light-neutral-400 dark:placeholder:text-dark-neutral-400 focus:ring-2 focus:ring-accent-primary focus:outline-none transition-all duration-200 sm:text-sm",{"ring-red-500":r.lastName}])},null,2),[[Pe,e.lastName]]),r.lastName?(D(),V("p",KH,H(r.lastName),1)):de("",!0)])])]),l("div",null,[c[19]||(c[19]=l("label",{for:"email",class:"block text-sm font-medium leading-6 text-light-text-primary dark:text-dark-text-primary mb-2"}," Email ",-1)),l("div",GH,[xe(l("input",{"onUpdate:modelValue":c[2]||(c[2]=d=>e.email=d),id:"email",name:"email",type:"email",autocomplete:"email",class:Ie(["block w-full rounded-lg bg-light-secondary dark:bg-dark-secondary border-0 px-4 py-3 text-light-text-primary dark:text-dark-text-primary shadow-sm ring-1 ring-inset ring-light-neutral-300 dark:ring-dark-neutral-700 placeholder:text-light-neutral-400 dark:placeholder:text-dark-neutral-400 focus:ring-2 focus:ring-accent-primary focus:outline-none transition-all duration-200 sm:text-sm",{"ring-red-500":r.email}])},null,2),[[Pe,e.email]]),r.email?(D(),V("p",QH,H(r.email),1)):de("",!0)])]),l("div",null,[c[20]||(c[20]=l("label",{for:"subject",class:"block text-sm font-medium leading-6 text-light-text-primary dark:text-dark-text-primary mb-2"}," Subject ",-1)),l("div",YH,[xe(l("input",{"onUpdate:modelValue":c[3]||(c[3]=d=>e.subject=d),type:"text",id:"subject",class:Ie(["block w-full rounded-lg bg-light-secondary dark:bg-dark-secondary border-0 px-4 py-3 text-light-text-primary dark:text-dark-text-primary shadow-sm ring-1 ring-inset ring-light-neutral-300 dark:ring-dark-neutral-700 placeholder:text-light-neutral-400 dark:placeholder:text-dark-neutral-400 focus:ring-2 focus:ring-accent-primary focus:outline-none transition-all duration-200 sm:text-sm",{"ring-red-500":r.subject}])},null,2),[[Pe,e.subject]]),r.subject?(D(),V("p",JH,H(r.subject),1)):de("",!0)])]),l("div",null,[c[21]||(c[21]=l("label",{for:"message",class:"block text-sm font-medium leading-6 text-light-text-primary dark:text-dark-text-primary mb-2"}," Message ",-1)),l("div",XH,[xe(l("textarea",{"onUpdate:modelValue":c[4]||(c[4]=d=>e.message=d),id:"message",rows:"4",class:Ie(["block w-full rounded-lg bg-light-secondary dark:bg-dark-secondary border-0 px-4 py-3 text-light-text-primary dark:text-dark-text-primary shadow-sm ring-1 ring-inset ring-light-neutral-300 dark:ring-dark-neutral-700 placeholder:text-light-neutral-400 dark:placeholder:text-dark-neutral-400 focus:ring-2 focus:ring-accent-primary focus:outline-none transition-all duration-200 sm:text-sm",{"ring-red-500":r.message}])},null,2),[[Pe,e.message]]),r.message?(D(),V("p",ZH,H(r.message),1)):de("",!0)])]),l("div",ez,[l("button",{type:"submit",disabled:n.value,class:"inline-flex items-center justify-center rounded-lg bg-orange-500 px-6 py-3 text-sm font-semibold text-white shadow-sm hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200"},[n.value?(D(),V("span",rz,c[22]||(c[22]=[l("svg",{class:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[l("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),l("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):de("",!0),ue(" "+H(n.value?"Sending...":"Send Message"),1)],8,tz)])],32),s.value?(D(),V("div",nz,[l("div",sz,[l("div",iz,[z(q(Fl),{class:"h-5 w-5 text-orange-500","aria-hidden":"true"})]),c[23]||(c[23]=l("div",{class:"ml-3"},[l("div",{class:"text-sm font-medium text-green-800 dark:text-green-200"}," Thank you for your message! We'll get back to you soon. ")],-1))])])):de("",!0)])])])])])]))}},az=jr(oz,[["__scopeId","data-v-11744b1a"]]),lz={class:"admin-dashboard min-h-screen bg-light-primary dark:bg-dark-primary transition-colors duration-300"},cz={class:"container mx-auto px-4 py-8"},uz={class:"flex justify-between items-center mb-12 bg-light-secondary dark:bg-dark-secondary p-6 rounded-xl shadow-lg"},dz={class:"text-light-text-secondary dark:text-dark-text-secondary text-lg"},hz={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-light-text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},fz={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-dark-text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},pz={class:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12"},mz={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-accent-primary/10 dark:from-dark-secondary dark:to-accent-primary/20 rounded-xl shadow-lg p-6 border-2 border-accent-primary/20 hover:border-accent-primary transition-all duration-300"},gz={class:"flex-1 flex flex-col"},yz={class:"text-3xl font-bold mb-4 text-accent-primary"},vz={class:"text-sm text-light-text-secondary dark:text-dark-text-secondary mb-4"},bz={class:"mt-auto"},xz={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-accent-secondary/10 dark:from-dark-secondary dark:to-accent-secondary/20 rounded-xl shadow-lg p-6 border-2 border-accent-secondary/20 hover:border-accent-secondary transition-all duration-300"},_z={class:"flex-1 flex flex-col"},kz={class:"text-3xl font-bold mb-4 text-accent-secondary"},wz={class:"mb-4 flex-1"},Ez={class:"flex justify-between mb-2"},Iz={class:"text-sm font-medium text-accent-secondary"},Tz={class:"w-full bg-light-neutral-200 dark:bg-dark-neutral-700 rounded-full h-2"},Az={class:"mt-auto"},Sz={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-accent-quaternary/10 dark:from-dark-secondary dark:to-accent-quaternary/20 rounded-xl shadow-lg p-6 border-2 border-accent-quaternary/20 hover:border-accent-quaternary transition-all duration-300"},Cz={class:"flex-1 flex flex-col"},Pz={class:"text-3xl font-bold mb-4 text-accent-quaternary"},Rz={class:"mb-4 flex-1"},Nz={class:"flex w-full justify-between mb-2"},$z={class:"text-sm font-medium text-accent-quaternary"},Oz={class:"w-full bg-light-neutral-200 dark:bg-dark-neutral-700 rounded-full h-2"},Dz={class:"mt-auto"},Mz={class:"mb-12"},Vz={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},Lz={class:"flex flex-col"},Fz={class:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},Uz={class:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8"},jz={class:"overflow-hidden border border-light-neutral-300 dark:border-dark-neutral-700 md:rounded-xl"},Bz={class:"flex justify-between items-center p-4 bg-light-secondary dark:bg-dark-secondary"},qz={class:"flex items-center space-x-2"},Hz={class:"text-sm px-3 py-1 rounded-full bg-accent-primary/10 text-accent-primary"},zz={class:"min-w-full divide-y divide-light-neutral-300 dark:divide-dark-neutral-700"},Wz={class:"bg-white divide-y divide-light-neutral-300 dark:divide-dark-neutral-700 dark:bg-dark-secondary"},Kz={key:0,class:"animate-pulse"},Gz={class:"px-4 py-4 text-sm whitespace-nowrap"},Qz={class:"flex items-center"},Yz={class:"px-4 py-4 text-sm whitespace-nowrap"},Jz={class:"text-light-text-primary dark:text-dark-text-primary"},Xz={class:"text-light-text-secondary dark:text-dark-text-secondary"},Zz={class:"px-4 py-4 text-sm text-light-text-secondary dark:text-dark-text-secondary whitespace-nowrap"},eW={__name:"AdminDashboard",setup(t){const e=wn(),r=wm(),n=di(),s=B(!0),i=B(null),o=Yr({products:{total:0,stockPercentage:0},orders:{total:0,pending:0},users:{total:0,active:0}}),a=B([]),c=te(()=>o.orders.total&&o.orders.pending/o.orders.total*100||0),d=te(()=>o.users.total&&o.users.active/o.users.total*100||0),h=async()=>{try{s.value=!0,i.value=null;const[_,b,I]=await Promise.all([Ue.getProducts(),Ue.getAllOrders(),Ue.getAllUsers()]),A=Array.isArray(_)?_:[],E=Array.isArray(b)?b:[],R=Array.isArray(I)?I:[];o.products={total:A.length,stockPercentage:f(A)},o.orders={total:E.length,pending:E.filter(S=>S.status==="processing").length},o.users={total:R.length,active:R.filter(S=>!S.disabled).length},a.value=[...E,...R].filter(S=>S&&(S.createdAt||S.orderNumber||S.email)).sort((S,L)=>{const T=v=>{var m;return(m=v==null?void 0:v.createdAt)!=null&&m.toDate?v.createdAt.toDate():v!=null&&v.createdAt?new Date(v.createdAt):new Date};return T(L)-T(S)}).slice(0,5).map(S=>{var L,T;return{type:S.orderNumber?"order":"user",data:{...S,orderNumber:S.orderNumber||(S.id?`ORD-${S.id.slice(0,6)}`:"N/A"),email:S.email||"N/A"},date:((T=(L=S.createdAt)==null?void 0:L.toDate)==null?void 0:T.call(L))||new Date(S.createdAt||Date.now())}})}catch(_){console.error("Error fetching dashboard data:",_),i.value="Failed to load dashboard data",o.products={total:0,stockPercentage:0},o.orders={total:0,pending:0},o.users={total:0,active:0},a.value=[]}finally{s.value=!1}},f=_=>{if(!_.length)return 0;const b=_.filter(I=>(I.quantity||0)>0).length;return Math.round(b/_.length*100)},p=()=>{r.toggleTheme()},y=()=>{n.push("/")},k=()=>{console.log("Bulk action not implemented yet")};return je(async()=>{if(!e.user){console.log("No user found, redirecting to login"),n.push("/login");return}if(!e.user.isAdmin){console.log("User is not admin, redirecting to home"),n.push("/");return}console.log("Admin user confirmed:",e.user),await h()}),te(()=>{var b;const _=!!((b=e.user)!=null&&b.isAdmin);return console.log("Current admin status:",_),_}),(_,b)=>{var A,E;const I=Rr("router-link");return D(),V("div",lz,[l("div",cz,[l("div",uz,[l("div",null,[b[0]||(b[0]=l("h1",{class:"text-4xl font-bold text-light-text-primary dark:text-dark-text-primary mb-2"},"Shop Manager",-1)),l("p",dz," Welcome back, "+H(((E=(A=q(e))==null?void 0:A.user)==null?void 0:E.displayName)||"Admin"),1)]),l("button",{onClick:p,class:"p-2 rounded-full bg-light-secondary dark:bg-dark-secondary hover:bg-light-neutral-200 dark:hover:bg-dark-neutral-600 transition-colors","aria-label":"Toggle dark mode"},[q(r).theme==="light"?(D(),V("svg",hz,b[1]||(b[1]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1)]))):(D(),V("svg",fz,b[2]||(b[2]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)])))])]),l("div",pz,[l("div",mz,[l("div",gz,[b[4]||(b[4]=l("h2",{class:"text-xl font-semibold mb-2 text-light-text-primary dark:text-dark-text-primary"},"Products",-1)),l("p",yz,H(s.value?"Loading...":`${o.products.total}`),1),l("p",vz,H(s.value?"":`${o.products.stockPercentage}% in stock`),1),l("div",bz,[z(I,{to:"/admin/products",class:"inline-flex items-center text-accent-primary hover:text-orange-500 font-medium transition-colors duration-200"},{default:Z(()=>b[3]||(b[3]=[ue(" Manage Products "),l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])),_:1})])])]),l("div",xz,[l("div",_z,[b[7]||(b[7]=l("h2",{class:"text-xl font-semibold mb-2 text-light-text-primary dark:text-dark-text-primary"},"Orders",-1)),l("p",kz,H(s.value?"...":o.orders.total),1),l("div",wz,[l("div",Ez,[b[5]||(b[5]=l("span",{class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},"Pending Orders",-1)),l("span",Iz,H(s.value?"...":o.orders.pending),1)]),l("div",Tz,[l("div",{class:"bg-accent-secondary h-2 rounded-full transition-all duration-300",style:Ct(s.value?"width: 0%":`width: ${c.value}%`)},null,4)])]),l("div",Az,[z(I,{to:"/admin/orders",class:"inline-flex items-center text-accent-secondary hover:text-accent-secondary/80 font-medium transition-colors duration-200"},{default:Z(()=>b[6]||(b[6]=[ue(" Manage Orders "),l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])),_:1})])])]),l("div",Sz,[l("div",Cz,[b[10]||(b[10]=l("h2",{class:"text-xl font-semibold mb-2 text-light-text-primary dark:text-dark-text-primary"},"Users",-1)),l("p",Pz,H(s.value?"Loading...":`${o.users.total}`),1),l("div",Rz,[l("div",Nz,[b[8]||(b[8]=l("span",{class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},"Active Users",-1)),l("span",$z,H(s.value?"...":`${o.users.active}`),1)]),l("div",Oz,[l("div",{class:"bg-accent-quaternary h-2 rounded-full transition-all duration-300",style:Ct(s.value?"width: 0%":`width: ${d.value}%`)},null,4)])]),l("div",Dz,[z(I,{to:"/admin/users",class:"inline-flex items-center text-accent-quaternary hover:text-accent-quaternary/80 font-medium transition-colors duration-200"},{default:Z(()=>b[9]||(b[9]=[ue(" Manage Users "),l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])),_:1})])])])]),l("div",Mz,[b[13]||(b[13]=l("h2",{class:"text-2xl font-semibold text-light-text-primary dark:text-dark-text-primary mb-6"},"Quick Actions",-1)),l("div",Vz,[z(I,{to:"/admin/products/new",class:"group flex items-center p-6 bg-light-secondary dark:bg-dark-secondary rounded-xl shadow-md hover:shadow-xl border-2 border-transparent hover:border-accent-primary transition-all duration-300"},{default:Z(()=>b[11]||(b[11]=[l("div",{class:"p-3 bg-gradient-to-br from-accent-primary to-orange-500 rounded-xl mr-4 group-hover:scale-110 transition-transform duration-300"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})])],-1),l("div",null,[l("span",{class:"block text-lg font-semibold text-light-text-primary dark:text-dark-text-primary"},"Add Product"),l("span",{class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},"Create new listing")],-1)])),_:1}),l("button",{onClick:y,class:"flex items-center p-6 bg-light-secondary dark:bg-dark-secondary rounded-xl shadow-md hover:shadow-xl border-2 border-transparent hover:border-accent-secondary transition-all duration-300"},b[12]||(b[12]=[dt('<div class="p-3 bg-accent-secondary rounded-xl mr-4 group-hover:scale-110 transition-transform duration-300" data-v-bec82c26><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-bec82c26><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" data-v-bec82c26></path></svg></div><div data-v-bec82c26><span class="block text-lg font-semibold text-light-text-primary dark:text-dark-text-primary" data-v-bec82c26>View Store</span><span class="text-sm text-light-text-secondary dark:text-dark-text-secondary" data-v-bec82c26>Go to shop</span></div>',2)]))])]),l("div",Lz,[l("div",Fz,[l("div",Uz,[l("div",jz,[l("div",Bz,[b[14]||(b[14]=l("div",null,[l("h2",{class:"text-xl font-semibold text-light-text-primary dark:text-dark-text-primary"},"Recent Activity"),l("p",{class:"mt-1 text-sm text-light-text-secondary dark:text-dark-text-secondary"}," Latest actions and updates in your shop ")],-1)),l("div",qz,[l("span",Hz,H(a.value.length)+" items ",1),a.value.length?(D(),V("button",{key:0,onClick:k,class:"px-4 py-2 bg-accent-primary text-white rounded-lg hover:bg-accent-primary/90 transition-all duration-300"}," Bulk Action ")):de("",!0)])]),l("table",zz,[b[17]||(b[17]=l("thead",{class:"bg-light-secondary dark:bg-dark-secondary"},[l("tr",null,[l("th",{scope:"col",class:"py-3.5 px-4 text-sm font-normal text-left text-light-text-secondary dark:text-dark-text-secondary"},[l("button",{class:"flex items-center gap-x-2"},[l("span",null,"Type"),l("svg",{class:"h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[l("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),l("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"})])])]),l("th",{scope:"col",class:"px-4 py-3.5 text-sm font-normal text-left text-light-text-secondary dark:text-dark-text-secondary"},"Details"),l("th",{scope:"col",class:"px-4 py-3.5 text-sm font-normal text-left text-light-text-secondary dark:text-dark-text-secondary"},"Date"),l("th",{scope:"col",class:"relative py-3.5 px-4"},[l("span",{class:"sr-only"},"Actions")])])],-1)),l("tbody",Wz,[s.value?(D(),V("tr",Kz,b[15]||(b[15]=[l("td",{colspan:"4",class:"text-center p-4 text-light-text-secondary dark:text-dark-text-secondary"}," Loading... ",-1)]))):a.value.length?(D(!0),V(_e,{key:1},Ve(a.value,(R,S)=>(D(),V("tr",{key:S,class:"hover:bg-light-neutral-100 dark:hover:bg-dark-neutral-700 transition-colors"},[l("td",Gz,[l("div",Qz,[l("div",{class:Ie(`inline px-3 py-1 text-sm font-normal rounded-full ${R.type==="order"?"text-accent-secondary bg-accent-secondary/10":"text-accent-quaternary bg-accent-quaternary/10"}`)},H(R.type),3)])]),l("td",Yz,[l("div",null,[l("h4",Jz,H(R.type==="order"?`Order #${R.data.orderNumber}`:R.data.email),1),l("p",Xz,H(R.type==="order"?"New order placed":"User activity"),1)])]),l("td",Zz,H(new Date(R.date).toLocaleString()),1),b[16]||(b[16]=l("td",{class:"px-4 py-4 text-sm whitespace-nowrap"},[l("button",{class:"px-1 py-1 text-light-text-secondary dark:text-dark-text-secondary transition-colors duration-200 rounded-lg hover:bg-light-neutral-200 dark:hover:bg-dark-neutral-600"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M12 6.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 18.75a.75.75 0 110-1.5.75.75 0 010 1.5z"})])])],-1))]))),128)):de("",!0)])]),b[18]||(b[18]=dt('<div class="flex items-center justify-between p-4 border-t border-light-neutral-300 dark:border-dark-neutral-700" data-v-bec82c26><button class="flex items-center gap-x-2 px-4 py-2 text-sm text-light-text-secondary dark:text-dark-text-secondary rounded-md hover:bg-light-neutral-200 dark:hover:bg-dark-neutral-600 transition-colors" data-v-bec82c26><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-bec82c26><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 19l-7-7 7-7" data-v-bec82c26></path></svg> Previous </button><button class="flex items-center gap-x-2 px-4 py-2 text-sm text-light-text-secondary dark:text-dark-text-secondary rounded-md hover:bg-light-neutral-200 dark:hover:bg-dark-neutral-600 transition-colors" data-v-bec82c26> Next <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-bec82c26><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 5l7 7-7 7" data-v-bec82c26></path></svg></button></div>',1))])])])])])])}}},tW=jr(eW,[["__scopeId","data-v-bec82c26"]]),rW={class:"flex justify-center items-center"},nW={__name:"LoadingSpinner",props:{size:{type:String,default:"md",validator:t=>["sm","md","lg"].includes(t)},color:{type:String,default:"black"}},setup(t){return(e,r)=>(D(),V("div",rW,[(D(),V("svg",{class:Ie(["animate-spin",{"h-4 w-4":t.size==="sm","h-8 w-8":t.size==="md","h-12 w-12":t.size==="lg"}]),style:Ct({color:t.color}),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},r[0]||(r[0]=[l("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),l("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]),6))]))}},sW={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},iW={class:"flex justify-between items-center p-4 border-b"},oW={class:"text-lg font-medium"},aW={class:"p-4"},lW={key:0,class:"p-4 border-t bg-gray-50"},ME={__name:"Modal",props:{show:{type:Boolean,default:!1},title:{type:String,default:""}},emits:["close"],setup(t,{emit:e}){const r=t,n=e,s=B(null),i=a=>{a.key==="Escape"&&r.show&&n("close")},o=a=>{s.value&&!s.value.contains(a.target)&&r.show&&n("close")};return je(()=>{document.addEventListener("keydown",i),document.addEventListener("mousedown",o)}),ui(()=>{document.removeEventListener("keydown",i),document.removeEventListener("mousedown",o)}),Rt(()=>r.show,a=>{a?document.body.style.overflow="hidden":document.body.style.overflow=""}),(a,c)=>(D(),mt(zp,{to:"body"},[t.show?(D(),V("div",sW,[l("div",{class:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:c[0]||(c[0]=d=>n("close"))}),l("div",{ref_key:"modal",ref:s,class:"bg-white rounded-lg shadow-xl w-full max-w-md z-10 overflow-hidden transform transition-all"},[l("div",iW,[l("h3",oW,H(t.title),1),l("button",{onClick:c[1]||(c[1]=d=>n("close")),class:"text-gray-500 hover:text-gray-700"},c[2]||(c[2]=[l("span",{class:"sr-only"},"Close",-1),l("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),l("div",aW,[_u(a.$slots,"default")]),a.$slots.footer?(D(),V("div",lW,[_u(a.$slots,"footer")])):de("",!0)],512)])):de("",!0)]))}},cW=["type","disabled"],Zb={__name:"Button",props:{type:{type:String,default:"button"},variant:{type:String,default:"primary",validator:t=>["primary","secondary","outline","danger"].includes(t)},size:{type:String,default:"md",validator:t=>["sm","md","lg"].includes(t)},disabled:{type:Boolean,default:!1},fullWidth:{type:Boolean,default:!1}},setup(t){return(e,r)=>(D(),V("button",{type:t.type,disabled:t.disabled,class:Ie(["inline-flex items-center justify-center rounded-btn shadow-btn transition-btn focus:outline-none focus:ring-2 focus:ring-offset-2",{"bg-orange-500 text-white hover:bg-orange-600 active:bg-orange-700 focus:ring-orange-500 dark:bg-orange-600 dark:hover:bg-orange-500 dark:active:bg-orange-700":t.variant==="primary","bg-light-neutral-200 text-light-neutral-800 hover:bg-light-neutral-300 dark:bg-dark-neutral-700 dark:text-dark-neutral-100 dark:hover:bg-dark-neutral-600":t.variant==="secondary","bg-white dark:bg-transparent text-light-text-primary dark:text-dark-text-primary border border-light-neutral-300 dark:border-dark-neutral-600 hover:bg-light-neutral-100 dark:hover:bg-dark-secondary":t.variant==="outline","bg-red-600 text-white hover:bg-red-700 focus:ring-red-500":t.variant==="danger","px-3 py-1.5 text-sm":t.size==="sm","px-4 py-2":t.size==="md","px-6 py-3 text-lg":t.size==="lg","w-full":t.fullWidth,"opacity-50 cursor-not-allowed pointer-events-none":t.disabled}])},[_u(e.$slots,"default")],10,cW))}},uW={class:"admin-products min-h-screen bg-light-primary dark:bg-dark-primary transition-colors duration-300"},dW={class:"container mx-auto px-4 py-8"},hW={class:"flex justify-between items-center mb-12 bg-light-secondary dark:bg-dark-secondary p-6 rounded-xl shadow-lg"},fW={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},pW={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-accent-primary/10 dark:from-dark-secondary dark:to-accent-primary/20 rounded-xl shadow-lg p-6 border-2 border-accent-primary/20"},mW={class:"text-3xl font-bold text-accent-primary"},gW={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-orange-500/10 dark:from-dark-secondary dark:to-orange-500/20 rounded-xl shadow-lg p-6 border-2 border-orange-500/20"},yW={class:"text-3xl font-bold text-orange-500"},vW={class:"flex items-center mt-2"},bW={class:"h-2 flex-grow rounded-full bg-light-neutral-200 dark:bg-dark-neutral-700"},xW={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-blue-500/10 dark:from-dark-secondary dark:to-blue-500/20 rounded-xl shadow-lg p-6 border-2 border-blue-500/20"},_W={class:"text-3xl font-bold text-blue-500"},kW={class:"text-xs text-accent-tertiary mt-1"},wW={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-cyan-500/10 dark:from-dark-secondary dark:to-cyan-500/20 rounded-xl shadow-lg p-6 border-2 border-cyan-500/20"},EW={class:"text-3xl font-bold text-cyan-500"},IW={class:"bg-light-secondary dark:bg-dark-secondary rounded-xl shadow-lg p-6 mb-6 border border-light-neutral-300 dark:border-dark-neutral-700"},TW={class:"flex flex-wrap items-center gap-4"},AW={class:"flex-1"},SW=["value"],CW={class:"bg-light-secondary dark:bg-dark-secondary rounded-xl shadow-lg overflow-hidden border border-light-neutral-300 dark:border-dark-neutral-700"},PW={class:"overflow-x-auto"},RW={class:"min-w-full bg-light-secondary dark:bg-dark-secondary"},NW={class:"bg-light-neutral-100 dark:bg-dark-neutral-700"},$W={class:"py-3 px-4 text-left text-light-text-primary dark:text-dark-text-primary"},OW={class:"py-3 px-4 text-left text-light-text-primary dark:text-dark-text-primary"},DW={class:"py-3 px-4 text-left text-light-text-primary dark:text-dark-text-primary"},MW={class:"py-3 px-4 text-left text-light-text-primary dark:text-dark-text-primary"},VW={class:"py-3 px-4 text-left text-light-text-primary dark:text-dark-text-primary"},LW={class:"py-3 px-4 text-left text-light-text-primary dark:text-dark-text-primary"},FW={class:"py-3 px-4 text-left text-light-text-primary dark:text-dark-text-primary"},UW={key:0},jW={colspan:"7",class:"py-4 text-center"},BW={key:1},qW={class:"py-3 px-4"},HW={class:"relative w-16 h-16 rounded overflow-hidden bg-light-neutral-100 dark:bg-dark-neutral-800"},zW=["src","alt"],WW={class:"py-3 px-4 text-light-text-primary dark:text-dark-text-primary"},KW={class:"py-3 px-4 text-light-text-primary dark:text-dark-text-primary"},GW={class:"py-3 px-4 text-light-text-primary dark:text-dark-text-primary"},QW={class:"py-3 px-4 text-light-text-primary dark:text-dark-text-primary"},YW={class:"py-3 px-4"},JW={key:0,class:"text-accent-tertiary dark:text-accent-tertiary"},XW={key:1,class:"text-light-neutral-500 dark:text-dark-neutral-500"},ZW={class:"py-3 px-4"},eK={class:"flex space-x-2"},tK=["onClick"],rK=["onClick"],nK={class:"text-light-text-secondary dark:text-dark-text-secondary"},sK={class:"flex justify-end space-x-3"},iK={__name:"AdminProductsView",setup(t){const e=di(),r=B([]),n=B(!0),s=B(""),i=B(!1),o=B(null);B({});const a=L=>{if(!L)return pt("placeholder.jpg");if(typeof L=="string"){if(L.startsWith("data:image"))return L;if(L.startsWith("/9j/")||L.startsWith("iVBOR"))return`data:image/jpeg;base64,${L}`;if(L.startsWith("base64://"))return L.replace("base64://","")}return L},c=L=>{console.error("Image failed to load:",L.target.src),L.target.src=pt("placeholder.jpg"),L.target.onerror=function(){const T=L.target.parentNode;if(T){const v=document.createElement("div");v.innerHTML=`
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-full h-full">
          <rect width="100%" height="100%" fill="#f0f0f0"/>
          <path d="M12 6v12M6 12h12" stroke="#aaa" stroke-width="2" stroke-linecap="round"/>
        </svg>
      `,v.className="broken-image rounded w-16 h-16 flex items-center justify-center bg-light-neutral-200 dark:bg-dark-neutral-200",T.replaceChild(v,L.target)}}},d=async()=>{try{n.value=!0;const L=await Ue.getProducts();r.value=L.map(T=>({...T,images:Array.isArray(T.images)?T.images:[T.imageUrl||T.image]}))}catch(L){console.error("Failed to load products:",L)}finally{n.value=!1}},h=B("name"),f=B("asc"),p=B("all"),y=te(()=>r.value.filter(L=>L.stock<5).length),k=te(()=>r.value.filter(L=>L.featured).length),_=te(()=>r.value.reduce((L,T)=>L+T.price*T.stock,0)),b=te(()=>[...new Set(r.value.map(L=>L.category))]),I=te(()=>{let L=[...r.value];if(p.value!=="all"&&(L=L.filter(v=>v.category===p.value)),s.value){const v=s.value.toLowerCase();L=L.filter(m=>m.name.toLowerCase().includes(v)||m.category.toLowerCase().includes(v)||m.description.toLowerCase().includes(v))}const T=(v,m)=>typeof v[h.value]=="string"?v[h.value].localeCompare(m[h.value]):Number(v[h.value])-Number(m[h.value]);return L.sort((v,m)=>f.value==="asc"?T(v,m):T(m,v)),L}),A=async()=>{if(o.value)try{await Ue.deleteProduct(o.value.id);const L=r.value.findIndex(T=>T.id===o.value.id);L!==-1&&r.value.splice(L,1),i.value=!1,o.value=null}catch(L){console.error("Failed to delete product:",L)}},E=L=>{e.push(`/admin/products/edit/${L.id}`)},R=L=>{o.value=L,i.value=!0},S=L=>{h.value===L?f.value=f.value==="asc"?"desc":"asc":(h.value=L,f.value="asc")};return je(d),(L,T)=>{const v=Rr("router-link");return D(),V("div",uW,[l("div",dW,[l("div",hW,[l("div",null,[z(fh,{items:[{text:"Dashboard",path:"/admin"},{text:"Products"}]}),T[11]||(T[11]=l("h1",{class:"text-4xl font-bold text-light-text-primary dark:text-dark-text-primary mt-2"},"Manage Products",-1))]),z(v,{to:"/admin/products/new",class:"bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark text-white py-2 px-4 rounded-btn flex items-center shadow-btn hover:shadow-btn-hover transition-btn duration-200"},{default:Z(()=>T[12]||(T[12]=[l("span",{class:"mr-2"},"Add New Product",-1),l("span",{class:"text-xl"},"+",-1)])),_:1})]),l("div",fW,[l("div",pW,[T[13]||(T[13]=l("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Total Products",-1)),l("p",mW,H(r.value.length),1),T[14]||(T[14]=l("p",{class:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-1"},"Active listings",-1))]),l("div",gW,[T[15]||(T[15]=l("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Low Stock",-1)),l("p",yW,H(y.value),1),l("div",vW,[l("div",bW,[l("div",{class:"h-2 rounded-full bg-orange-500 transition-all duration-300",style:Ct(`width: ${y.value/r.value.length*100}%`)},null,4)])])]),l("div",xW,[T[16]||(T[16]=l("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Featured",-1)),l("p",_W,H(k.value),1),l("p",kW,H((k.value/r.value.length*100).toFixed(1))+"% of products ",1)]),l("div",wW,[T[17]||(T[17]=l("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Total Value",-1)),l("p",EW,H(q(Ye)(_.value)),1),T[18]||(T[18]=l("p",{class:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-1"},"Inventory worth",-1))])]),l("div",IW,[l("div",TW,[l("div",AW,[xe(l("input",{type:"text","onUpdate:modelValue":T[0]||(T[0]=m=>s.value=m),placeholder:"Search products...",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-accent-primary focus:border-accent-primary"},null,512),[[Pe,s.value]])]),l("div",null,[xe(l("select",{"onUpdate:modelValue":T[1]||(T[1]=m=>p.value=m),class:"p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-accent-primary focus:border-accent-primary"},[T[19]||(T[19]=l("option",{value:"all"},"All Categories",-1)),(D(!0),V(_e,null,Ve(b.value,m=>(D(),V("option",{key:m,value:m},H(m),9,SW))),128))],512),[[Ln,p.value]])])])]),l("div",CW,[l("div",PW,[l("table",RW,[l("thead",NW,[l("tr",null,[l("th",$W,[l("button",{onClick:T[2]||(T[2]=m=>S("image"))}," Image ")]),l("th",OW,[l("button",{onClick:T[3]||(T[3]=m=>S("name"))}," Name ")]),l("th",DW,[l("button",{onClick:T[4]||(T[4]=m=>S("category"))}," Category ")]),l("th",MW,[l("button",{onClick:T[5]||(T[5]=m=>S("price"))}," Price ")]),l("th",VW,[l("button",{onClick:T[6]||(T[6]=m=>S("stock"))}," Stock ")]),l("th",LW,[l("button",{onClick:T[7]||(T[7]=m=>S("featured"))}," Featured ")]),l("th",FW,[l("button",{onClick:T[8]||(T[8]=m=>S("actions"))}," Actions ")])])]),l("tbody",null,[n.value?(D(),V("tr",UW,[l("td",jW,[z(nW)])])):I.value.length===0?(D(),V("tr",BW,T[20]||(T[20]=[l("td",{colspan:"7",class:"py-4 text-center text-light-text-secondary dark:text-dark-text-secondary"}," No products found ",-1)]))):de("",!0),(D(!0),V(_e,null,Ve(I.value,m=>{var w;return D(),V("tr",{key:m.id,class:"border-b border-light-neutral-200 dark:border-dark-neutral-600 hover:bg-light-neutral-100 dark:hover:bg-dark-neutral-800 transition-colors"},[l("td",qW,[l("div",HW,[l("img",{src:a(((w=m.images)==null?void 0:w[0])||m.imageUrl||m.image),alt:m.name,class:"w-full h-full object-cover",onError:c},null,40,zW)])]),l("td",WW,H(m.name),1),l("td",KW,H(m.category),1),l("td",GW,"$"+H(m.price.toFixed(2)),1),l("td",QW,H(m.stock),1),l("td",YW,[m.featured?(D(),V("span",JW,"Yes")):(D(),V("span",XW,"No"))]),l("td",ZW,[l("div",eK,[l("button",{onClick:N=>E(m),class:"text-accent-quaternary dark:text-accent-quaternary hover:text-accent-quaternary/80 dark:hover:text-accent-quaternary/80 transition-colors"}," Edit ",8,tK),l("button",{onClick:N=>R(m),class:"text-orange-600 dark:text-orange-500 hover:text-orange-700 dark:hover:text-orange-400 transition-colors"}," Delete ",8,rK)])])])}),128))])])])]),i.value?(D(),mt(ME,{key:0,onClose:T[10]||(T[10]=m=>i.value=!1)},{header:Z(()=>T[21]||(T[21]=[l("h3",{class:"text-xl font-medium text-light-text-primary dark:text-dark-text-primary"},"Confirm Delete",-1)])),body:Z(()=>{var m;return[l("p",nK,' Are you sure you want to delete "'+H((m=o.value)==null?void 0:m.name)+'"? This action cannot be undone. ',1)]}),footer:Z(()=>[l("div",sK,[z(Zb,{variant:"secondary",onClick:T[9]||(T[9]=m=>i.value=!1)},{default:Z(()=>T[22]||(T[22]=[ue(" Cancel ")])),_:1}),z(Zb,{variant:"danger",onClick:A},{default:Z(()=>T[23]||(T[23]=[ue(" Delete ")])),_:1})])]),_:1})):de("",!0)])])}}},oK=jr(iK,[["__scopeId","data-v-3f08fffb"]]),aK={class:"admin-product-form container mx-auto px-4 py-8 bg-light-primary dark:bg-dark-primary min-h-screen"},lK={class:"flex justify-between items-center mb-6"},cK={class:"text-2xl font-bold text-light-text-primary dark:text-dark-text-primary"},uK={class:"bg-light-secondary dark:bg-dark-secondary rounded-lg shadow-md p-6 mb-6 border border-light-neutral-300 dark:border-dark-neutral-700"},dK={class:"mb-6"},hK={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},fK={class:"mb-6"},pK={class:"mb-6"},mK={class:"mb-4"},gK={class:"bg-light-neutral-50 dark:bg-dark-neutral-800 rounded-lg p-4 border border-light-neutral-200 dark:border-dark-neutral-700"},yK={key:0,class:"flex flex-col items-center justify-center py-8"},vK={key:1,class:"relative"},bK={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3"},xK=["src","alt","onError"],_K={class:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex flex-col justify-end p-2"},kK={class:"flex justify-between items-center"},wK={class:"text-white text-xs bg-black/50 px-1.5 py-0.5 rounded"},EK={class:"flex space-x-1"},IK=["onClick"],TK=["onClick"],AK=["onClick"],SK=["onClick"],CK={key:0,class:"absolute top-2 left-2 bg-accent-quaternary text-white text-xs px-1.5 py-0.5 rounded"},PK={class:"absolute -top-3 -right-3 bg-accent-primary text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center shadow-sm"},RK={class:"bg-light-secondary dark:bg-dark-secondary rounded-lg border border-light-neutral-300 dark:border-dark-neutral-700 overflow-hidden"},NK={class:"p-4"},$K={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},OK={class:"bg-light-neutral-50/50 dark:bg-dark-neutral-800/50 rounded-lg border border-dashed border-light-neutral-400 dark:border-dark-neutral-500 p-4 relative"},DK={class:"flex flex-col items-center justify-center"},MK={class:"bg-light-neutral-50/50 dark:bg-dark-neutral-800/50 rounded-lg border border-light-neutral-300 dark:border-dark-neutral-600 p-4"},VK={class:"space-y-3"},LK={class:"flex"},FK=["disabled"],UK={key:0,class:"mt-4 bg-accent-quaternary/10 text-accent-quaternary px-4 py-3 rounded border border-accent-quaternary/20 flex items-center"},jK={class:"mb-6"},BK={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},qK={class:"space-y-4"},HK={class:"mt-4"},zK={class:"flex items-center"},WK={class:"mb-6"},KK={key:0,class:"mb-4 bg-light-neutral-50 dark:bg-dark-neutral-800 rounded-lg p-4 border border-light-neutral-200 dark:border-dark-neutral-700"},GK={class:"space-y-2"},QK={class:"flex items-center"},YK={class:"font-medium text-light-text-primary dark:text-dark-text-primary"},JK={class:"ml-3 flex items-center gap-1"},XK=["title"],ZK=["onClick"],eG={class:"bg-light-secondary dark:bg-dark-secondary rounded-lg p-5 border border-light-neutral-300 dark:border-dark-neutral-700"},tG={class:"space-y-4"},rG={class:"flex flex-wrap items-center gap-2 mb-3"},nG={class:"flex flex-col items-center"},sG=["onUpdate:modelValue","onInput","aria-label"],iG=["onClick"],oG={class:"mt-2"},aG={class:"flex flex-wrap gap-1.5"},lG=["onClick","disabled","aria-label"],cG={class:"mt-5 flex"},uG=["disabled"],dG={key:0,class:"ml-2 text-sm text-accent-tertiary flex items-center"},hG={class:"border-t border-light-neutral-300 dark:border-dark-neutral-700 pt-6 flex justify-end space-x-4"},fG=["disabled"],pG={key:0,class:"bg-orange-100 dark:bg-orange-900/30 border border-orange-400 dark:border-orange-700 text-orange-700 dark:text-orange-400 px-4 py-3 rounded mb-4 relative"},mG={class:"block sm:inline"},gG={key:1,class:"bg-accent-primary/10 dark:bg-accent-primary/20 border border-accent-primary/30 dark:border-accent-primary/30 text-light-text-primary dark:text-dark-text-primary px-4 py-3 rounded mb-4"},yG={key:2,class:"bg-accent-primary/10 dark:bg-accent-primary/20 border border-accent-primary/30 dark:border-accent-primary/30 text-light-text-primary dark:text-dark-text-primary px-4 py-3 rounded mb-4"},vG={__name:"AdminProductForm",setup(t){const e=di(),r=Od(),n=en(),s=te(()=>r.params.id),i=te(()=>!!s.value),o=B({name:"",category:"",description:"",price:0,stock:1,images:[],featured:!1,materials:"",dimensions:"",variants:[],careInstructions:`Store in a cool, dry place away from direct sunlight
Avoid contact with perfumes, lotions, and chemicals
Clean gently with a soft, lint-free cloth
Remove before swimming or bathing`,sizingAndFit:"Our standard bracelet length is 7.5 inches. Necklaces are available in 16, 18, and 20 inch lengths. Please contact us for custom sizing.",shippingInfo:"Handmade to order. Please allow 1-3 business days for production plus shipping time.",returnPolicy:"We accept returns within 14 days of delivery for unworn items in original packaging."}),a=B(""),c=B(!1),d=B(!1),h=B(null),f=B(!1),p=te(()=>i.value?`product_edit_${s.value}`:"product_new"),y=B("Processing image..."),k=te(()=>o.value.images.some(G=>G.startsWith("temp://")));je(async()=>{if(i.value)try{const G=await Ue.getProduct(s.value);G?o.value={...G}:(console.error("Product not found"),e.push("/admin/products"))}catch(G){console.error("Error loading product:",G),h.value="Failed to load product"}else{const G=localStorage.getItem(p.value);if(G)try{o.value=JSON.parse(G)}catch(U){console.error("Error parsing saved form data:",U)}}}),Rt(()=>o.value,G=>{localStorage.setItem(p.value,JSON.stringify(G))},{deep:!0}),ui(()=>{!h.value&&!c.value&&localStorage.removeItem(p.value)});const _=()=>{a.value.trim()&&(o.value.images.push(a.value.trim()),a.value="")},b=G=>{o.value.images.splice(G,1)},I=G=>G.startsWith("base64://")?G.replace("base64://",""):G.startsWith("temp://")?G.replace("temp://",""):G,A=async G=>{const U=G.target.files[0];if(U){if(!U.type.match("image.*")){h.value="Please select an image file";return}d.value=!0,h.value=null;try{const re=(U.size/1048576).toFixed(2);U.size>1024*1024?y.value=`Resizing ${re}MB image for optimal performance...`:y.value=`Processing ${re}MB image...`;const ae=await Ue.uploadProductImage(U);o.value.images.push(ae),ae.startsWith("base64://")&&(f.value=!0),G.target.value=""}catch(re){console.error("Error processing image:",re),h.value=`Failed to process image: ${re.message||"Unknown error"}`}finally{d.value=!1}}},E=async()=>{c.value=!0,h.value=null;try{if(!o.value.name||!o.value.category||!o.value.description||o.value.images.length===0)throw new Error("Please fill out all required fields and add at least one image");const G=o.value.images.filter(U=>U.startsWith("base64://"));if(G.length>0){const re=G.reduce((ae,Ee)=>ae+Ee.length,0)/1024;if(re>700&&!confirm(`Warning: Your product has approximately ${re.toFixed(0)}KB of image data, which is approaching Firestore's limit. Continue anyway?`)){c.value=!1;return}}if(i.value)await Ue.updateProduct(s.value,o.value),await n.addPersistedNotification({title:"Product Updated",message:`Successfully updated product: ${o.value.name}`,type:"success"});else{const U=await Ue.createProduct(o.value);await n.addPersistedNotification({title:"New Product Created",message:`Successfully created new product: ${o.value.name}`,type:"success"})}localStorage.removeItem(p.value),e.push("/admin/products")}catch(G){console.error("Error saving product:",G),h.value=G.message,n.addNotification({title:"Error",message:`Failed to ${i.value?"update":"create"} product: ${G.message}`,type:"error",timeout:5e3})}finally{c.value=!1}},R=B(""),S=B([]),L=()=>{S.value.push("#ffffff")},T=(G,U)=>{S.value[G]=U.target.value},v=G=>{S.value.splice(G,1)},m=()=>{R.value.trim()&&S.value.length&&(o.value.variants.push({name:R.value.trim(),colors:[...S.value]}),R.value="",S.value=[])},w=["#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#000000","#FFFFFF"],N=G=>{S.value.length<5&&S.value.push(G)},C=te(()=>R.value.trim()&&S.value.length>0),P=(G,U)=>{const re=o.value.images[G];o.value.images.splice(G,1),o.value.images.splice(U,0,re)},ce=G=>{if(G<=0||G>=o.value.images.length)return;const U=o.value.images[G];o.value.images.splice(G,1),o.value.images.unshift(U)},he=(G,U)=>{G.target.src="/images/no-image.jpg",console.warn(`Image at index ${U} failed to load:`,o.value.images[U])};return(G,U)=>{const re=Rr("router-link");return D(),V("div",aK,[l("div",lK,[l("h1",cK,H(i.value?"Edit Product":"Add New Product"),1),z(re,{to:"/admin/products",class:"text-light-text-secondary dark:text-dark-text-secondary hover:text-accent-primary dark:hover:text-accent-primary transition-colors"},{default:Z(()=>U[17]||(U[17]=[ue(" Back to Products ")])),_:1})]),l("div",uK,[l("form",{onSubmit:Ar(E,["prevent"])},[l("div",dK,[U[23]||(U[23]=l("h2",{class:"text-lg font-semibold mb-4 text-light-text-primary dark:text-dark-text-primary"},"Basic Information",-1)),l("div",hK,[l("div",null,[U[18]||(U[18]=l("label",{for:"name",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Product Name",-1)),xe(l("input",{type:"text",id:"name","onUpdate:modelValue":U[0]||(U[0]=ae=>o.value.name=ae),required:"",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary"},null,512),[[Pe,o.value.name]])]),l("div",null,[U[20]||(U[20]=l("label",{for:"category",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Category",-1)),xe(l("select",{id:"category","onUpdate:modelValue":U[1]||(U[1]=ae=>o.value.category=ae),required:"",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary"},U[19]||(U[19]=[dt('<option value="" data-v-ef617560>Select a category</option><option value="Beaded Jewelry" data-v-ef617560>Beaded Jewelry</option><option value="String Jewelry" data-v-ef617560>String Jewelry</option><option value="Metal Jewelry" data-v-ef617560>Metal Jewelry</option><option value="Gemstones" data-v-ef617560>Gemstones</option><option value="Earrings" data-v-ef617560>Earrings</option><option value="Necklaces" data-v-ef617560>Necklaces</option><option value="Bracelets" data-v-ef617560>Bracelets</option><option value="Rings" data-v-ef617560>Rings</option><option value="Other" data-v-ef617560>Other</option>',10)]),512),[[Ln,o.value.category]])]),l("div",null,[U[21]||(U[21]=l("label",{for:"price",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Price (KES)",-1)),xe(l("input",{type:"number",id:"price","onUpdate:modelValue":U[2]||(U[2]=ae=>o.value.price=ae),min:"0.01",step:"0.01",required:"",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary"},null,512),[[Pe,o.value.price,void 0,{number:!0}]])]),l("div",null,[U[22]||(U[22]=l("label",{for:"stock",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Stock Quantity",-1)),xe(l("input",{type:"number",id:"stock","onUpdate:modelValue":U[3]||(U[3]=ae=>o.value.stock=ae),min:"0",required:"",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary"},null,512),[[Pe,o.value.stock,void 0,{number:!0}]])])])]),l("div",fK,[U[24]||(U[24]=l("label",{for:"description",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Description",-1)),xe(l("textarea",{id:"description","onUpdate:modelValue":U[4]||(U[4]=ae=>o.value.description=ae),rows:"4",required:"",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary resize-y"},null,512),[[Pe,o.value.description]])]),l("div",pK,[U[39]||(U[39]=l("h2",{class:"text-lg font-semibold mb-4 text-light-text-primary dark:text-dark-text-primary flex items-center"},[l("span",null,"Product Images"),l("span",{class:"ml-2 text-xs text-light-text-secondary dark:text-dark-text-secondary font-normal bg-accent-primary/10 dark:bg-accent-primary/20 text-accent-primary dark:text-accent-primary px-2 py-0.5 rounded-full"},"Required")],-1)),l("div",mK,[U[30]||(U[30]=l("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-2"},"Gallery Preview",-1)),l("div",gK,[o.value.images.length===0?(D(),V("div",yK,U[25]||(U[25]=[l("svg",{class:"w-12 h-12 text-light-neutral-400 dark:text-dark-neutral-500 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1),l("p",{class:"text-light-neutral-500 dark:text-dark-neutral-400 text-center"},[ue(" No images added yet"),l("br"),l("span",{class:"text-sm"},"Add at least one product image below")],-1)]))):(D(),V("div",vK,[l("div",bK,[(D(!0),V(_e,null,Ve(o.value.images,(ae,Ee)=>(D(),V("div",{key:Ee,class:"group relative aspect-square rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-all bg-light-neutral-200 dark:bg-dark-neutral-700"},[l("img",{src:I(ae),class:"w-full h-full object-cover transition-transform group-hover:scale-105",alt:`Product image ${Ee+1}`,onError:ve=>he(ve,Ee)},null,40,xK),l("div",_K,[l("div",kK,[l("span",wK," Image #"+H(Ee+1),1),l("div",EK,[Ee!==0?(D(),V("button",{key:0,type:"button",onClick:ve=>ce(Ee),class:"bg-light-primary/90 text-accent-primary rounded-full w-6 h-6 flex items-center justify-center hover:bg-light-primary transition-colors",title:"Set as primary image"},U[26]||(U[26]=[l("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})],-1)]),8,IK)):de("",!0),Ee>0?(D(),V("button",{key:1,type:"button",onClick:ve=>P(Ee,Ee-1),class:"bg-light-primary/90 text-light-text-primary rounded-full w-6 h-6 flex items-center justify-center hover:bg-light-primary transition-colors",title:"Move left"},U[27]||(U[27]=[l("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)]),8,TK)):de("",!0),Ee<o.value.images.length-1?(D(),V("button",{key:2,type:"button",onClick:ve=>P(Ee,Ee+1),class:"bg-light-primary/90 text-light-text-primary rounded-full w-6 h-6 flex items-center justify-center hover:bg-light-primary transition-colors",title:"Move right"},U[28]||(U[28]=[l("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]),8,AK)):de("",!0),l("button",{type:"button",onClick:ve=>b(Ee),class:"bg-accent-tertiary rounded-full w-6 h-6 flex items-center justify-center hover:bg-accent-tertiary/90 transition-colors",title:"Remove image"},U[29]||(U[29]=[l("svg",{class:"w-3.5 h-3.5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,SK)])])]),Ee===0?(D(),V("div",CK," Primary ")):de("",!0)]))),128))]),l("div",PK,H(o.value.images.length),1)]))])]),l("div",RK,[l("div",NK,[U[37]||(U[37]=l("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-3"},"Add Product Images",-1)),l("div",$K,[l("div",OK,[l("div",DK,[U[32]||(U[32]=dt('<svg class="w-10 h-10 text-light-neutral-400 dark:text-dark-neutral-500 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-ef617560><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" data-v-ef617560></path></svg><div class="text-center mb-3" data-v-ef617560><p class="text-sm text-light-text-secondary dark:text-dark-text-secondary font-medium" data-v-ef617560> Drag and drop or click to upload </p><p class="text-xs text-light-neutral-500 dark:text-dark-neutral-400 mt-1" data-v-ef617560> PNG, JPG or JPEG (max. 5MB) </p></div>',2)),l("input",{ref:"fileInput",type:"file",onChange:A,accept:"image/png, image/jpeg, image/jpg",class:"cursor-pointer opacity-0 absolute inset-0 w-full h-full","aria-label":"Upload product image"},null,544),l("button",{type:"button",class:"flex items-center text-sm bg-accent-quaternary hover:bg-accent-quaternary/90 text-white py-1.5 px-3 rounded-btn shadow-btn hover:shadow-btn-hover transition-all z-10",onClick:U[5]||(U[5]=ae=>G.$refs.fileInput.click())},U[31]||(U[31]=[l("svg",{class:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})],-1),ue(" Browse Files ")]))])]),l("div",MK,[l("div",VK,[U[34]||(U[34]=l("label",{class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary"}," Or add image from URL ",-1)),l("div",LK,[xe(l("input",{type:"url","onUpdate:modelValue":U[6]||(U[6]=ae=>a.value=ae),placeholder:"https://example.com/image.jpg",class:"flex-1 p-2 border border-r-0 border-light-neutral-300 dark:border-dark-neutral-600 rounded-l bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary"},null,512),[[Pe,a.value]]),l("button",{type:"button",onClick:_,class:"bg-accent-quaternary hover:bg-accent-quaternary/90 text-white py-2 px-3 rounded-r shadow-btn hover:shadow-btn-hover transition-all flex items-center",disabled:d.value||!a.value.trim()},U[33]||(U[33]=[l("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),ue(" Add ")]),8,FK)]),U[35]||(U[35]=l("p",{class:"text-xs text-light-neutral-500 dark:text-dark-neutral-400"}," Enter a direct link to an image file (CORS restrictions may apply) ",-1))])])]),d.value?(D(),V("div",UK,[U[36]||(U[36]=l("div",{class:"animate-spin mr-2 w-4 h-4 border-2 border-accent-quaternary border-t-transparent rounded-full"},null,-1)),l("span",null,H(y.value),1)])):de("",!0)]),U[38]||(U[38]=dt('<div class="bg-light-neutral-100 dark:bg-dark-neutral-900/50 px-4 py-3 border-t border-light-neutral-200 dark:border-dark-neutral-700" data-v-ef617560><div class="flex items-start" data-v-ef617560><svg class="w-5 h-5 text-accent-tertiary mr-2 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-ef617560><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" data-v-ef617560></path></svg><div class="text-sm text-light-text-secondary dark:text-dark-text-secondary space-y-1" data-v-ef617560><p data-v-ef617560><span class="font-medium" data-v-ef617560>Tips:</span> Add at least one product image. For best results, use images with a 1:1 aspect ratio. </p><ul class="list-disc list-inside text-xs text-light-neutral-500 dark:text-dark-neutral-400 pl-1 space-y-0.5" data-v-ef617560><li data-v-ef617560>The first image will be the primary product image shown in listings</li><li data-v-ef617560>You can rearrange images by using the arrow buttons</li><li data-v-ef617560>High-resolution images will be automatically resized to optimize performance</li></ul></div></div></div>',1))])]),l("div",jK,[U[47]||(U[47]=l("h2",{class:"text-lg font-semibold mb-4 text-light-text-primary dark:text-dark-text-primary"},"Additional Details",-1)),l("div",BK,[l("div",null,[U[40]||(U[40]=l("label",{for:"materials",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Materials",-1)),xe(l("input",{type:"text",id:"materials","onUpdate:modelValue":U[7]||(U[7]=ae=>o.value.materials=ae),placeholder:"e.g. Sterling silver, glass beads, etc.",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary"},null,512),[[Pe,o.value.materials]])]),l("div",null,[U[41]||(U[41]=l("label",{for:"dimensions",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Dimensions",-1)),xe(l("input",{type:"text",id:"dimensions","onUpdate:modelValue":U[8]||(U[8]=ae=>o.value.dimensions=ae),placeholder:"e.g. 18 inches, 2.5cm diameter, etc.",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary"},null,512),[[Pe,o.value.dimensions]])])]),l("div",qK,[l("div",null,[U[42]||(U[42]=l("label",{class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Care Instructions",-1)),xe(l("textarea",{"onUpdate:modelValue":U[9]||(U[9]=ae=>o.value.careInstructions=ae),rows:"4",placeholder:"Enter care instructions, one per line",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary resize-y"},null,512),[[Pe,o.value.careInstructions]])]),l("div",null,[U[43]||(U[43]=l("label",{class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Sizing & Fit",-1)),xe(l("textarea",{"onUpdate:modelValue":U[10]||(U[10]=ae=>o.value.sizingAndFit=ae),rows:"3",placeholder:"Enter sizing and fit information",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary resize-y"},null,512),[[Pe,o.value.sizingAndFit]])]),l("div",null,[U[44]||(U[44]=l("label",{class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Shipping Information",-1)),xe(l("textarea",{"onUpdate:modelValue":U[11]||(U[11]=ae=>o.value.shippingInfo=ae),rows:"2",placeholder:"Enter shipping information",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary resize-y"},null,512),[[Pe,o.value.shippingInfo]])]),l("div",null,[U[45]||(U[45]=l("label",{class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Return Policy",-1)),xe(l("textarea",{"onUpdate:modelValue":U[12]||(U[12]=ae=>o.value.returnPolicy=ae),rows:"2",placeholder:"Enter return policy",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary resize-y"},null,512),[[Pe,o.value.returnPolicy]])])]),l("div",HK,[l("div",zK,[xe(l("input",{type:"checkbox",id:"featured","onUpdate:modelValue":U[13]||(U[13]=ae=>o.value.featured=ae),class:"h-4 w-4 text-accent-primary focus:ring-accent-primary border-light-neutral-300 dark:border-dark-neutral-600 rounded"},null,512),[[os,o.value.featured]]),U[46]||(U[46]=l("label",{for:"featured",class:"ml-2 block text-sm text-light-text-primary dark:text-dark-text-primary"}," Featured product (display on homepage) ",-1))])])]),l("div",WK,[U[58]||(U[58]=l("h2",{class:"text-lg font-semibold mb-4 text-light-text-primary dark:text-dark-text-primary flex items-center"},[l("span",null,"Product Variants"),l("span",{class:"ml-2 text-xs text-light-text-secondary dark:text-dark-text-secondary font-normal bg-light-neutral-100 dark:bg-dark-neutral-700 px-2 py-0.5 rounded-full"},"Optional")],-1)),o.value.variants.length?(D(),V("div",KK,[U[49]||(U[49]=l("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-3"},"Saved Variants",-1)),l("ul",GK,[(D(!0),V(_e,null,Ve(o.value.variants,(ae,Ee)=>(D(),V("li",{key:Ee,class:"flex items-center justify-between p-3 rounded-lg border border-light-neutral-200 dark:border-dark-neutral-600 bg-light-primary dark:bg-dark-primary hover:shadow-sm transition-shadow"},[l("div",QK,[l("span",YK,H(ae.name),1),l("div",JK,[(D(!0),V(_e,null,Ve(ae.colors,(ve,Ce)=>(D(),V("div",{key:Ce,class:"w-5 h-5 rounded-full border border-light-neutral-300 dark:border-dark-neutral-600 transition-transform hover:scale-110 cursor-pointer flex justify-center items-center",style:Ct({backgroundColor:ve}),title:ve},null,12,XK))),128))])]),l("button",{type:"button",onClick:ve=>o.value.variants.splice(Ee,1),class:"text-light-neutral-500 dark:text-dark-neutral-400 hover:text-accent-tertiary dark:hover:text-accent-tertiary flex items-center transition-colors"},U[48]||(U[48]=[l("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),l("span",{class:"ml-1 text-sm"},"Remove",-1)]),8,ZK)]))),128))])])):de("",!0),l("div",eG,[U[57]||(U[57]=l("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-4"},"Add New Variant",-1)),l("div",tG,[l("div",null,[U[50]||(U[50]=l("label",{for:"variant-name",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"}," Variant Name ",-1)),xe(l("input",{type:"text",id:"variant-name","onUpdate:modelValue":U[14]||(U[14]=ae=>R.value=ae),placeholder:"e.g. 'Silver & Blue', 'Rose Gold', 'Extra Large'",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary"},null,512),[[Pe,R.value]]),U[51]||(U[51]=l("p",{class:"mt-1 text-xs text-light-neutral-500 dark:text-dark-neutral-400"}," Name that describes this product variant (color, size, material, style, etc.) ",-1))]),l("div",null,[U[54]||(U[54]=l("label",{class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},[ue(" Color Palette "),l("span",{class:"ml-1 text-xs text-light-neutral-500 dark:text-dark-neutral-400 font-normal"}," (up to 5 colors) ")],-1)),l("div",rG,[(D(!0),V(_e,null,Ve(S.value,(ae,Ee)=>(D(),V("div",{key:Ee,class:"relative group"},[l("div",nG,[l("div",{class:"w-8 h-8 rounded-full border border-light-neutral-300 dark:border-dark-neutral-600 shadow-sm flex items-center justify-center",style:Ct({backgroundColor:ae})},null,4),xe(l("input",{type:"color","onUpdate:modelValue":ve=>S.value[Ee]=ve,onInput:ve=>T(Ee,ve),class:"w-5 h-5 mt-1 p-0 border-0 cursor-pointer","aria-label":`Color ${Ee+1}`},null,40,sG),[[Pe,S.value[Ee]]]),l("button",{type:"button",onClick:ve=>v(Ee),class:"absolute -top-1 -right-1 w-5 h-5 rounded-full flex items-center justify-center bg-accent-tertiary text-white opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Remove color"}," × ",8,iG)])]))),128)),S.value.length<5?(D(),V("button",{key:0,type:"button",onClick:L,class:"w-8 h-8 rounded-full border-2 border-dashed border-light-neutral-400 dark:border-dark-neutral-500 flex items-center justify-center hover:border-accent-primary dark:hover:border-accent-primary transition-colors","aria-label":"Add color"},U[52]||(U[52]=[l("span",{class:"text-light-neutral-500 dark:text-dark-neutral-400 text-xl"},"+",-1)]))):de("",!0)]),l("div",oG,[U[53]||(U[53]=l("p",{class:"text-xs text-light-neutral-500 dark:text-dark-neutral-400 mb-2"},"Common colors:",-1)),l("div",aG,[(D(),V(_e,null,Ve(w,(ae,Ee)=>l("button",{key:Ee,type:"button",onClick:ve=>N(ae),style:Ct({backgroundColor:ae}),disabled:S.value.length>=5,class:"w-6 h-6 rounded-full border border-light-neutral-300 dark:border-dark-neutral-600 hover:scale-110 transition-transform","aria-label":`Add ${ae} color`},null,12,lG)),64))])])])]),l("div",cG,[l("button",{type:"button",onClick:m,disabled:!C.value,class:"flex items-center px-4 py-2 rounded-btn shadow-btn text-white bg-accent-quaternary hover:bg-accent-quaternary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-all"},U[55]||(U[55]=[l("svg",{class:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),ue(" Add Variant ")]),8,uG),C.value?de("",!0):(D(),V("div",dG,U[56]||(U[56]=[l("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),ue(" Please add a name and at least one color ")])))])])]),l("div",hG,[l("button",{type:"button",onClick:U[15]||(U[15]=ae=>G.$router.go(-1)),class:"py-2 px-4 border border-light-neutral-300 dark:border-dark-neutral-600 rounded-btn shadow-btn text-sm font-medium text-light-text-primary dark:text-dark-text-primary hover:bg-light-neutral-100 dark:hover:bg-dark-neutral-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent-primary transition-all"}," Cancel "),l("button",{type:"submit",class:"py-2 px-4 border border-transparent rounded-btn shadow-btn text-sm font-medium text-white bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-btn-primary transition-all",disabled:c.value},H(c.value?"Saving...":"Save Product"),9,fG)])],32)]),h.value?(D(),V("div",pG,[U[60]||(U[60]=l("strong",{class:"font-bold mr-1"},"Error:",-1)),l("span",mG,H(h.value),1),l("span",{class:"absolute top-0 bottom-0 right-0 px-4 py-3 cursor-pointer",onClick:U[16]||(U[16]=ae=>h.value=null)},U[59]||(U[59]=[l("span",{class:"text-xl"},"×",-1)]))])):de("",!0),k.value?(D(),V("div",gG,U[61]||(U[61]=[l("strong",{class:"font-bold"},"Warning:",-1),l("span",{class:"block sm:inline"}," Some images are temporarily stored locally due to CORS restrictions. They will be lost if you refresh the page. Please check the CORS settings for your Firebase Storage. ",-1)]))):de("",!0),f.value?(D(),V("div",yG,U[62]||(U[62]=[l("strong",{class:"font-bold"},"Warning:",-1),l("span",{class:"block sm:inline"}," Some uploaded images may be stored as base64 strings in the database, which has size limitations. Very large images may cause problems when saving the product. ",-1)]))):de("",!0)])}}},e1=jr(vG,[["__scopeId","data-v-ef617560"]]),bG={class:"admin-orders min-h-screen bg-light-primary dark:bg-dark-primary transition-colors duration-300"},xG={class:"container mx-auto px-4 py-8"},_G={class:"flex justify-between items-center mb-12 bg-light-secondary dark:bg-dark-secondary p-6 rounded-xl shadow-lg"},kG={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},wG={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-accent-primary/10 dark:from-dark-secondary dark:to-accent-primary/20 rounded-xl shadow-lg p-6 border-2 border-accent-primary/20"},EG={class:"text-3xl font-bold text-accent-primary"},IG={class:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-1"},TG={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-orange-500/10 dark:from-dark-secondary dark:to-orange-500/20 rounded-xl shadow-lg p-6 border-2 border-orange-500/20"},AG={class:"text-3xl font-bold text-orange-500"},SG={class:"flex items-center mt-2"},CG={class:"h-2 flex-grow rounded-full bg-light-neutral-200 dark:bg-dark-neutral-700"},PG={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-blue-500/10 dark:from-dark-secondary dark:to-blue-500/20 rounded-xl shadow-lg p-6 border-2 border-blue-500/20"},RG={class:"text-3xl font-bold text-blue-500"},NG={class:"text-xs text-accent-tertiary mt-1"},$G={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-cyan-500/10 dark:from-dark-secondary dark:to-cyan-500/20 rounded-xl shadow-lg p-6 border-2 border-cyan-500/20"},OG={class:"text-3xl font-bold text-cyan-500"},DG={class:"bg-light-secondary dark:bg-dark-secondary rounded-xl shadow-lg p-6 mb-6 border border-light-neutral-300 dark:border-dark-neutral-700"},MG={class:"flex flex-wrap items-center gap-4"},VG={key:0,class:"flex justify-center items-center h-64"},LG={key:1,class:"bg-light-secondary dark:bg-dark-secondary rounded-xl shadow-lg overflow-hidden border border-light-neutral-300 dark:border-dark-neutral-700"},FG={class:"w-full text-left"},UG={class:"bg-light-neutral-100 dark:bg-dark-neutral-800 border-b border-light-neutral-300 dark:border-dark-neutral-700"},jG={class:"flex items-center"},BG={class:"flex items-center"},qG={class:"flex items-center"},HG={class:"flex items-center"},zG={class:"flex items-center"},WG={class:"flex items-center"},KG={class:"px-6 py-4 font-medium"},GG={class:"px-6 py-4"},QG={class:"px-6 py-4"},YG={class:"px-6 py-4"},JG={class:"px-6 py-4"},XG={class:"px-6 py-4"},ZG={class:"px-6 py-4"},eQ=["onClick"],tQ=["onClick"],rQ={key:2,class:"bg-white rounded-lg shadow-md p-8 text-center"},nQ={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},sQ={class:"bg-light-primary dark:bg-dark-primary rounded-xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto transform"},iQ={class:"p-6 border-b border-light-neutral-300 dark:border-dark-neutral-700"},oQ={class:"flex justify-between items-center"},aQ={class:"p-6"},lQ={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},cQ={class:"bg-light-secondary dark:bg-dark-secondary p-4 rounded-lg"},uQ={class:"bg-light-secondary dark:bg-dark-secondary p-4 rounded-lg"},dQ={key:0},hQ={key:1},fQ={key:0,class:"mb-6 bg-light-secondary dark:bg-dark-secondary p-4 rounded-lg"},pQ={class:"mb-6"},mQ={class:"border border-light-neutral-300 dark:border-dark-neutral-700 rounded-lg overflow-hidden"},gQ={class:"w-full text-sm"},yQ={class:"bg-light-secondary dark:bg-dark-secondary"},vQ={class:"px-4 py-3"},bQ={class:"flex items-center"},xQ=["src"],_Q={class:"pl-2"},kQ={class:"px-4 py-3"},wQ={class:"px-4 py-3"},EQ={class:"px-4 py-3 text-right"},IQ={class:"bg-light-neutral-100 dark:bg-dark-neutral-800"},TQ={class:"px-4 py-2 text-right font-bold"},AQ={class:"flex justify-end"},SQ={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},CQ={class:"bg-light-primary dark:bg-dark-primary rounded-xl shadow-xl p-6 w-full max-w-md transform"},PQ={class:"mb-4"},RQ={class:"text-light-text-secondary dark:text-dark-text-secondary mb-2"},NQ={class:"flex justify-end gap-2"},$Q=["disabled"],OQ={key:0,class:"inline-block animate-spin mr-2"},DQ={__name:"AdminOrders",setup(t){const e=B([]),r=B(!0),n=B("all"),s=B(""),i=B(!1),o=B(!1),a=B(null),c=B(""),d=B(!1),h=B("orderNumber"),f=B("asc"),p=B(0),y=te(()=>e.value.filter(v=>v.status==="processing").length),k=te(()=>e.value.reduce((v,m)=>v+(m.total||0),0)),_=te(()=>e.value.length?k.value/e.value.length:0),b=B(15),I=te(()=>{let v=[...e.value];if(n.value!=="all"&&(v=v.filter(m=>m.status===n.value)),s.value.trim()){const m=s.value.toLowerCase();v=v.filter(w=>{var he,G,U,re;const N=((he=w.orderNumber)==null?void 0:he.toLowerCase())||w.id.toLowerCase(),C=((G=w.firstName)==null?void 0:G.toLowerCase())||"",P=((U=w.lastName)==null?void 0:U.toLowerCase())||"",ce=((re=w.email)==null?void 0:re.toLowerCase())||"";return N.includes(m)||C.includes(m)||P.includes(m)||ce.includes(m)||`${C} ${P}`.includes(m)})}return v.sort((m,w)=>{let N=m[h.value],C=w[h.value];h.value==="orderDate"&&(N=(N==null?void 0:N.seconds)||0,C=(C==null?void 0:C.seconds)||0);const P=N>C?1:N<C?-1:0;return f.value==="asc"?P:-P}),v}),A=async()=>{r.value=!0;try{const v=await Ue.getAllOrders();e.value=v.map(m=>{var ce,he,G;const w=m.firstName||((ce=m.shippingInfo)==null?void 0:ce.firstName)||"",N=m.lastName||((he=m.shippingInfo)==null?void 0:he.lastName)||"",C=`${w} ${N}`.trim()||m.customerName||"N/A",P=m.email||((G=m.shippingInfo)==null?void 0:G.email)||"N/A";return{...m,customerName:C,email:P}})}catch(v){console.error("Error loading orders:",v)}finally{r.value=!1}},E=async v=>{var m,w,N,C,P,ce,he,G,U;try{if(v.userId){const re=await Ue.getUserProfile(v.userId),ae=v.firstName||((m=v.shippingInfo)==null?void 0:m.firstName)||(re==null?void 0:re.firstName)||"",Ee=v.lastName||((w=v.shippingInfo)==null?void 0:w.lastName)||(re==null?void 0:re.lastName)||"",ve=`${ae} ${Ee}`.trim(),Ce=v.email||((N=v.shippingInfo)==null?void 0:N.email)||(re==null?void 0:re.email)||"N/A";a.value={...v,customerDetails:re,customerName:ve||"N/A",email:Ce}}else{const re=v.firstName||((C=v.shippingInfo)==null?void 0:C.firstName)||"",ae=v.lastName||((P=v.shippingInfo)==null?void 0:P.lastName)||"",Ee=`${re} ${ae}`.trim(),ve=v.email||((ce=v.shippingInfo)==null?void 0:ce.email)||"N/A";a.value={...v,customerName:Ee||"Guest User",email:ve}}i.value=!0}catch(re){console.error("Error loading customer details:",re);const ae=v.firstName||((he=v.shippingInfo)==null?void 0:he.firstName)||"",Ee=v.lastName||((G=v.shippingInfo)==null?void 0:G.lastName)||"",ve=`${ae} ${Ee}`.trim(),Ce=v.email||((U=v.shippingInfo)==null?void 0:U.email)||"N/A";a.value={...v,customerName:ve||"N/A",email:Ce},i.value=!0}},R=v=>{a.value=v,c.value=v.status||"processing",o.value=!0},S=async()=>{if(!(!a.value||!c.value)){d.value=!0;try{await Ue.updateOrderStatus(a.value.id,c.value);const v=e.value.findIndex(m=>m.id===a.value.id);if(v!==-1&&(e.value[v].status=c.value),a.value&&(a.value.status=c.value),await notificationStore.addPersistedNotification({title:"Order Status Updated",message:`Order #${a.value.orderNumber||a.value.id.substring(0,6)} status changed to ${c.value}`,type:"success",isAdmin:!0}),a.value.userId){let m,w;switch(c.value){case"shipped":m="info",w=`Great news! Your order #${a.value.orderNumber} has been shipped and is on its way.`;break;case"delivered":m="success",w=`Your order #${a.value.orderNumber} has been delivered. Thank you for shopping with us!`;break;case"cancelled":m="error",w=`Your order #${a.value.orderNumber} has been cancelled. Please contact support if you have any questions.`;break;default:m="info",w=`Your order #${a.value.orderNumber} status has been updated to ${c.value}.`}await notificationStore.addPersistedNotification({title:"Order Status Update",message:w,type:m,userId:a.value.userId}),notificationStore.addNotification({title:"Success",message:`Order status updated to ${c.value}`,type:"success"})}o.value=!1}catch(v){console.error("Error updating order status:",v),notificationStore.addNotification({title:"Error",message:`Failed to update order status: ${v.message}`,type:"error",timeout:5e3})}finally{d.value=!1}}},L=v=>{if(!v)return"N/A";const m=v.toDate?v.toDate():new Date(v);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(m)},T=v=>v?v.charAt(0).toUpperCase()+v.slice(1):"";return je(()=>{A()}),(v,m)=>{const w=Rr("ArrowPathIcon"),N=Rr("SortIndicator");return D(),V("div",bG,[l("div",xG,[l("div",_G,[l("div",null,[z(fh,{items:[{text:"Dashboard",path:"/admin"},{text:"Orders"}]}),m[13]||(m[13]=l("h1",{class:"text-4xl font-bold text-light-text-primary dark:text-dark-text-primary mt-2"},"Order Management",-1)),m[14]||(m[14]=l("p",{class:"text-light-text-secondary dark:text-dark-text-secondary mt-1"},"View and manage customer orders",-1))]),l("button",{onClick:A,class:"bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark text-light-text-inverted neutral py-2 px-4 rounded-btn flex items-center shadow-btn hover:shadow-btn-hover transition-btn duration-200"},[z(w,{class:"h-5 w-5 mr-2"}),m[15]||(m[15]=ue(" Refresh "))])]),l("div",kG,[l("div",wG,[m[16]||(m[16]=l("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Total Orders",-1)),l("p",EG,H(e.value.length),1),l("p",IG,"Last 30 days: +"+H(p.value),1)]),l("div",TG,[m[17]||(m[17]=l("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Processing",-1)),l("p",AG,H(y.value),1),l("div",SG,[l("div",CG,[l("div",{class:"h-2 rounded-full bg-orange-500 transition-all duration-300",style:Ct(`width: ${y.value/e.value.length*100}%`)},null,4)])])]),l("div",PG,[m[19]||(m[19]=l("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Revenue",-1)),l("p",RG,H(q(Ye)(k.value)),1),l("p",NG,[m[18]||(m[18]=l("span",{class:"inline-block transform rotate-45"},"↗",-1)),ue(" "+H(b.value)+"% from last month ",1)])]),l("div",$G,[m[20]||(m[20]=l("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Avg. Order Value",-1)),l("p",OG,H(q(Ye)(_.value)),1),m[21]||(m[21]=l("p",{class:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-1"},"Per order",-1))])]),l("div",DG,[l("div",MG,[l("div",null,[m[23]||(m[23]=l("label",{class:"text-sm text-light-text-secondary dark:text-dark-text-secondary block mb-1"},"Filter by Status:",-1)),xe(l("select",{"onUpdate:modelValue":m[0]||(m[0]=C=>n.value=C),class:"border border-light-neutral-300 dark:border-dark-neutral-600 rounded-lg px-3 py-2 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-accent-primary focus:border-accent-primary"},m[22]||(m[22]=[dt('<option value="all" data-v-36fe6a74>All Orders</option><option value="processing" data-v-36fe6a74>Processing</option><option value="shipped" data-v-36fe6a74>Shipped</option><option value="delivered" data-v-36fe6a74>Delivered</option><option value="cancelled" data-v-36fe6a74>Cancelled</option>',5)]),512),[[Ln,n.value]])]),l("div",null,[m[24]||(m[24]=l("label",{class:"text-sm text-light-text-secondary dark:text-dark-text-secondary block mb-1"},"Search:",-1)),xe(l("input",{"onUpdate:modelValue":m[1]||(m[1]=C=>s.value=C),type:"text",placeholder:"Search by Order ID, name, or email",class:"border border-light-neutral-300 dark:border-dark-neutral-600 rounded-lg px-3 py-2 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-accent-primary focus:border-accent-primary"},null,512),[[Pe,s.value]])])])]),r.value?(D(),V("div",VG,m[25]||(m[25]=[l("div",{class:"animate-spin rounded-full h-16 w-16 border-t-4 border-blue-600 border-opacity-75"},null,-1)]))):I.value.length>0?(D(),V("div",LG,[l("table",FG,[l("thead",UG,[l("tr",null,[l("th",{class:"px-6 py-3 text-light-text-secondary dark:text-dark-text-secondary font-medium cursor-pointer",onClick:m[2]||(m[2]=C=>v.sortOrders("orderNumber"))},[l("div",jG,[m[26]||(m[26]=l("span",null,"Order ID",-1)),z(N,{active:h.value==="orderNumber",direction:f.value},null,8,["active","direction"])])]),l("th",{class:"px-6 py-3 text-light-text-secondary dark:text-dark-text-secondary font-medium cursor-pointer",onClick:m[3]||(m[3]=C=>v.sortOrders("orderDate"))},[l("div",BG,[m[27]||(m[27]=l("span",null,"Date",-1)),z(N,{active:h.value==="orderDate",direction:f.value},null,8,["active","direction"])])]),l("th",{class:"px-6 py-3 text-light-text-secondary dark:text-dark-text-secondary font-medium cursor-pointer",onClick:m[4]||(m[4]=C=>v.sortOrders("customerName"))},[l("div",qG,[m[28]||(m[28]=l("span",null,"Customer Name",-1)),z(N,{active:h.value==="customerName",direction:f.value},null,8,["active","direction"])])]),l("th",{class:"px-6 py-3 text-light-text-secondary dark:text-dark-text-secondary font-medium cursor-pointer",onClick:m[5]||(m[5]=C=>v.sortOrders("email"))},[l("div",HG,[m[29]||(m[29]=l("span",null,"Email",-1)),z(N,{active:h.value==="email",direction:f.value},null,8,["active","direction"])])]),l("th",{class:"px-6 py-3 text-light-text-secondary dark:text-dark-text-secondary font-medium cursor-pointer",onClick:m[6]||(m[6]=C=>v.sortOrders("total"))},[l("div",zG,[m[30]||(m[30]=l("span",null,"Total",-1)),z(N,{active:h.value==="total",direction:f.value},null,8,["active","direction"])])]),l("th",{class:"px-6 py-3 text-light-text-secondary dark:text-dark-text-secondary font-medium cursor-pointer",onClick:m[7]||(m[7]=C=>v.sortOrders("status"))},[l("div",WG,[m[31]||(m[31]=l("span",null,"Status",-1)),z(N,{active:h.value==="status",direction:f.value},null,8,["active","direction"])])]),m[32]||(m[32]=l("th",{class:"px-6 py-3 text-light-text-secondary dark:text-dark-text-secondary font-medium"},"Actions",-1))])]),l("tbody",null,[(D(!0),V(_e,null,Ve(I.value,C=>(D(),V("tr",{key:C.id,class:"border-b hover:bg-gray-50"},[l("td",KG,H(C.orderNumber||`#${C.id.substring(0,6)}`),1),l("td",GG,H(L(C.orderDate)),1),l("td",QG,H(C.customerName||"Unknown"),1),l("td",YG,H(C.email||"N/A"),1),l("td",JG,H(q(Ye)(C.total)),1),l("td",XG,[l("span",{class:Ie([{"bg-yellow-100 text-yellow-800":C.status==="processing","bg-blue-100 text-blue-800":C.status==="shipped","bg-green-100 text-green-800":C.status==="delivered","bg-red-100 text-red-800":C.status==="cancelled"},"px-3 py-1 rounded-full text-sm font-medium"])},H(T(C.status)),3)]),l("td",ZG,[l("button",{onClick:P=>E(C),class:"text-blue-600 hover:text-blue-900 mr-3"}," View ",8,eQ),l("button",{onClick:P=>R(C),class:"text-green-600 hover:text-green-900"}," Update ",8,tQ)])]))),128))])])])):(D(),V("div",rQ,m[33]||(m[33]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-16 w-16 text-gray-400 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),l("h2",{class:"text-xl font-semibold text-gray-700"},"No orders found",-1),l("p",{class:"text-gray-500 mt-1"},"No orders match your current filters.",-1)]))),z(zs,{"enter-active-class":"duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:Z(()=>[i.value?(D(),V("div",nQ,[z(zs,{"enter-active-class":"duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:Z(()=>{var C,P,ce,he,G,U,re,ae,Ee,ve,Ce,Fe,at,Tt,bt,K,F,j,ee,ie;return[l("div",sQ,[l("div",iQ,[l("div",oQ,[m[35]||(m[35]=l("h2",{class:"text-2xl font-bold text-light-text-primary dark:text-dark-text-primary"},"Order Details",-1)),l("button",{onClick:m[8]||(m[8]=W=>i.value=!1),class:"text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary"},m[34]||(m[34]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])]),l("div",aQ,[l("div",lQ,[l("div",cQ,[m[40]||(m[40]=l("h3",{class:"font-medium text-light-text-primary dark:text-dark-text-primary mb-2"},"Order Information",-1)),l("p",null,[m[36]||(m[36]=l("span",{class:"text-gray-500"},"Order ID:",-1)),ue(" "+H(((C=a.value)==null?void 0:C.orderNumber)||`#${(P=a.value)==null?void 0:P.id.substring(0,6)}`),1)]),l("p",null,[m[37]||(m[37]=l("span",{class:"text-gray-500"},"Date:",-1)),ue(" "+H(L((ce=a.value)==null?void 0:ce.orderDate)),1)]),l("p",null,[m[38]||(m[38]=l("span",{class:"text-gray-500"},"Status:",-1)),l("span",{class:Ie([{"bg-yellow-100 text-yellow-800":((he=a.value)==null?void 0:he.status)==="processing","bg-blue-100 text-blue-800":((G=a.value)==null?void 0:G.status)==="shipped","bg-green-100 text-green-800":((U=a.value)==null?void 0:U.status)==="delivered","bg-red-100 text-red-800":((re=a.value)==null?void 0:re.status)==="cancelled"},"px-3 py-1 rounded-full text-sm font-medium ml-1"])},H(T((ae=a.value)==null?void 0:ae.status)),3)]),l("p",null,[m[39]||(m[39]=l("span",{class:"text-gray-500"},"Total:",-1)),ue(" "+H(q(Ye)((Ee=a.value)==null?void 0:Ee.total)),1)])]),l("div",uQ,[m[46]||(m[46]=l("h3",{class:"font-medium text-light-text-primary dark:text-dark-text-primary mb-2"},"Customer Information",-1)),l("p",null,[m[41]||(m[41]=l("span",{class:"text-gray-500"},"Name:",-1)),ue(" "+H((ve=a.value)==null?void 0:ve.customerName),1)]),l("p",null,[m[42]||(m[42]=l("span",{class:"text-gray-500"},"Email:",-1)),ue(" "+H(((Ce=a.value)==null?void 0:Ce.email)||"N/A"),1)]),l("p",null,[m[43]||(m[43]=l("span",{class:"text-gray-500"},"Phone:",-1)),ue(" "+H(((Fe=a.value)==null?void 0:Fe.phone)||"N/A"),1)]),(at=a.value)!=null&&at.shippingAddress?(D(),V("p",dQ,[m[44]||(m[44]=l("span",{class:"text-gray-500"},"Address:",-1)),ue(" "+H((Tt=a.value)==null?void 0:Tt.shippingAddress),1)])):de("",!0),(bt=a.value)!=null&&bt.userId?(D(),V("p",hQ,[m[45]||(m[45]=l("span",{class:"text-gray-500"},"Customer ID:",-1)),ue(" "+H((K=a.value)==null?void 0:K.userId),1)])):de("",!0)])]),(F=a.value)!=null&&F.shippingAddress?(D(),V("div",fQ,[m[47]||(m[47]=l("h3",{class:"font-medium text-light-text-primary dark:text-dark-text-primary mb-2"},"Shipping Address",-1)),l("p",null,H(a.value.shippingAddress.street)+", "+H(a.value.shippingAddress.city),1),l("p",null,H(a.value.shippingAddress.state)+", "+H(a.value.shippingAddress.zip),1),l("p",null,H(a.value.shippingAddress.country),1)])):de("",!0),l("div",pQ,[m[50]||(m[50]=l("h3",{class:"font-medium text-light-text-primary dark:text-dark-text-primary mb-2"},"Order Items",-1)),l("div",mQ,[l("table",gQ,[m[49]||(m[49]=l("thead",{class:"bg-light-neutral-100 dark:bg-dark-neutral-800"},[l("tr",null,[l("th",{class:"px-4 py-2 text-left"},"Product"),l("th",{class:"px-4 py-2 text-left"},"Price"),l("th",{class:"px-4 py-2 text-left"},"Quantity"),l("th",{class:"px-4 py-2 text-right"},"Subtotal")])],-1)),l("tbody",yQ,[(D(!0),V(_e,null,Ve((j=a.value)==null?void 0:j.items,(W,M)=>{var O;return D(),V("tr",{key:M,class:"border-t"},[l("td",vQ,[l("div",bQ,[l("img",{src:W.image||"https://via.placeholder.com/80",alt:"Product",class:"w-16 h-16 object-cover rounded-lg shadow-card"},null,8,xQ),l("span",_Q,H(W.name),1)])]),l("td",kQ,H((O=W.price)==null?void 0:O.toFixed(2)),1),l("td",wQ,H(W.quantity),1),l("td",EQ,"$"+H((W.price*W.quantity).toFixed(2)),1)])}),128))]),l("tfoot",IQ,[l("tr",null,[m[48]||(m[48]=l("td",{colspan:"3",class:"px-4 py-2 text-right font-medium"},"Total:",-1)),l("td",TQ,"$"+H((ie=(ee=a.value)==null?void 0:ee.total)==null?void 0:ie.toFixed(2)),1)])])])])]),l("div",AQ,[l("button",{onClick:m[9]||(m[9]=W=>R(a.value)),class:"bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark text-light-text-inverted px-4 py-2 rounded-btn shadow-btn hover:shadow-btn-hover transition-btn duration-200 mr-2"}," Update Status "),l("button",{onClick:m[10]||(m[10]=W=>i.value=!1),class:"bg-light-neutral-200 dark:bg-dark-neutral-700 text-light-text-primary dark:text-dark-text-primary px-4 py-2 rounded-btn hover:bg-light-neutral-300 dark:hover:bg-dark-neutral-600 transition-colors duration-200"}," Close ")])])])]}),_:1})])):de("",!0)]),_:1}),z(zs,{"enter-active-class":"duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:Z(()=>[o.value?(D(),V("div",SQ,[z(zs,{"enter-active-class":"duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:Z(()=>{var C,P;return[l("div",CQ,[m[54]||(m[54]=l("h2",{class:"text-xl font-bold mb-4 text-light-text-primary dark:text-dark-text-primary"},"Update Order Status",-1)),l("div",PQ,[l("p",RQ," Order: "+H(((C=a.value)==null?void 0:C.orderNumber)||`#${(P=a.value)==null?void 0:P.id.substring(0,6)}`),1),m[52]||(m[52]=l("label",{class:"block text-light-text-primary dark:text-dark-text-primary mb-2"},"Status:",-1)),xe(l("select",{"onUpdate:modelValue":m[11]||(m[11]=ce=>c.value=ce),class:"w-full border border-light-neutral-300 dark:border-dark-neutral-700 rounded-lg px-3 py-2 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-accent-primary focus:border-accent-primary"},m[51]||(m[51]=[l("option",{value:"processing"},"Processing",-1),l("option",{value:"shipped"},"Shipped",-1),l("option",{value:"delivered"},"Delivered",-1),l("option",{value:"cancelled"},"Cancelled",-1)]),512),[[Ln,c.value]])]),l("div",NQ,[l("button",{onClick:m[12]||(m[12]=ce=>o.value=!1),class:"bg-light-neutral-200 dark:bg-dark-neutral-700 text-light-text-primary dark:text-dark-text-primary px-4 py-2 rounded-btn hover:bg-light-neutral-300 dark:hover:bg-dark-neutral-600 transition-colors duration-200"}," Cancel "),l("button",{onClick:S,class:"bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark text-light-text-inverted px-4 py-2 rounded-btn shadow-btn hover:shadow-btn-hover transition-btn duration-200",disabled:d.value},[d.value?(D(),V("span",OQ,"⌛")):de("",!0),m[53]||(m[53]=ue(" Update "))],8,$Q)])])]}),_:1})])):de("",!0)]),_:1})])])}}},MQ=jr(DQ,[["__scopeId","data-v-36fe6a74"]]),VQ={class:"admin-users min-h-screen bg-light-primary dark:bg-dark-primary transition-colors duration-300"},LQ={class:"container mx-auto px-4 py-8"},FQ={class:"flex justify-between items-center mb-12 bg-light-secondary dark:bg-dark-secondary p-6 rounded-xl shadow-lg"},UQ={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},jQ={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-accent-primary/10 dark:from-dark-secondary dark:to-accent-primary/20 rounded-xl shadow-lg p-6 border-2 border-accent-primary/20"},BQ={class:"text-3xl font-bold text-accent-primary"},qQ={class:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-1"},HQ={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-orange-500/10 dark:from-dark-secondary dark:to-orange-500/20 rounded-xl shadow-lg p-6 border-2 border-orange-500/20"},zQ={class:"text-3xl font-bold text-orange-500"},WQ={class:"flex items-center mt-2"},KQ={class:"h-2 flex-grow rounded-full bg-light-neutral-200 dark:bg-dark-neutral-700"},GQ={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-blue-500/10 dark:from-dark-secondary dark:to-blue-500/20 rounded-xl shadow-lg p-6 border-2 border-blue-500/20"},QQ={class:"text-3xl font-bold text-blue-500"},YQ={class:"text-xs text-accent-tertiary mt-1"},JQ={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-cyan-500/10 dark:from-dark-secondary dark:to-cyan-500/20 rounded-xl shadow-lg p-6 border-2 border-cyan-500/20"},XQ={class:"text-3xl font-bold text-cyan-500"},ZQ={key:0,class:"mb-4 flex items-center space-x-2"},eY={class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},tY={class:"bg-light-secondary dark:bg-dark-secondary rounded-xl shadow-lg overflow-hidden border border-light-neutral-300 dark:border-dark-neutral-700"},rY={class:"overflow-x-auto"},nY={class:"min-w-full divide-y divide-light-neutral-300 dark:divide-dark-neutral-700"},sY={class:"bg-light-neutral-100 dark:bg-dark-neutral-800"},iY={scope:"col",class:"px-6 py-3"},oY=["checked"],aY={class:"flex items-center"},lY={class:"flex items-center"},cY={class:"flex items-center"},uY={class:"bg-light-secondary dark:bg-dark-secondary divide-y divide-light-neutral-300 dark:divide-dark-neutral-700"},dY={key:0,class:"animate-pulse"},hY={key:1},fY={colspan:"5",class:"px-6 py-12 text-center"},pY={class:"flex flex-col items-center"},mY={class:"px-6 py-4"},gY=["checked","onChange"],yY={class:"px-6 py-4 whitespace-nowrap"},vY={class:"flex items-center"},bY={class:"flex-shrink-0 h-10 w-10 rounded-full bg-accent-primary/10 dark:bg-accent-primary/20 flex items-center justify-center text-accent-primary"},xY={class:"ml-4"},_Y={class:"text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},kY={key:0,class:"ml-1 text-xs text-accent-quaternary dark:text-accent-quaternary font-normal"},wY={class:"px-6 py-4 whitespace-nowrap"},EY={class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},IY={class:"px-6 py-4 whitespace-nowrap"},TY={class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},AY={class:"px-6 py-4 whitespace-nowrap"},SY={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},CY={class:"flex items-center justify-end space-x-2"},PY=["onClick"],RY=["onClick"],NY=["onClick"],$Y={key:1,class:"fixed bottom-4 right-4 bg-accent-tertiary/10 border border-accent-tertiary/20 text-accent-tertiary dark:text-accent-tertiary px-4 py-2 rounded-lg shadow-lg flex items-center"},OY={class:"fixed inset-0 overflow-y-auto"},DY={class:"flex min-h-full items-center justify-center p-4 text-center"},MY={class:"flex justify-between items-center mb-4"},VY={key:0,class:"mb-4 bg-accent-tertiary/10 border-accent-tertiary/20 text-accent-tertiary dark:text-accent-tertiary border px-4 py-2 rounded flex items-center"},LY={class:"mt-4 space-y-4"},FY={class:"grid grid-cols-2 gap-4"},UY={class:"flex items-center"},jY={class:"mt-6 flex justify-end space-x-3"},BY=["disabled"],qY={key:0,class:"inline-block animate-spin mr-2"},HY={__name:"AdminUsersView",setup(t){const e=B([]),r=B([]),n=B(!0),s=B(""),i=B(!1),o=B(null),a=B({}),c=B(!1),d=B(null),h=B(!1),f=Yr({show:!1,message:"",timeout:null}),p=B(0),y=B(0),k=B(12),_=B("24:15"),b=te(()=>r.value.length===he.value.length),I=B("name"),A=B("asc"),E=B("all"),R=[{text:"Dashboard",path:"/admin"},{text:"User Management"}],S=F=>{F.target.checked?r.value=he.value.map(j=>j.id):r.value=[]},L=F=>{const j=r.value.indexOf(F);j===-1?r.value.push(F):r.value.splice(j,1)},T=B(null);je(async()=>{try{n.value=!0;const F=Hi();d.value=F.currentUser,e.value=await Ue.getAllUsers()}catch(F){console.error("Failed to load users:",F),T.value="Failed to load users. Please try again later."}finally{n.value=!1}});const v=F=>{if(!F)return"?";const j=F.firstName?F.firstName[0]:"",ee=F.lastName?F.lastName[0]:"";return(j+ee).toUpperCase()||"?"},m=F=>{if(!F||!d.value)return!1;const j=F.id===d.value.uid||F.uid===d.value.uid||F.email===d.value.email;return j&&!F.email&&d.value.email&&(F.email=d.value.email),j},w=F=>{f.timeout&&clearTimeout(f.timeout),f.message=F,f.show=!0,f.timeout=setTimeout(()=>{f.show=!1},3e3)},N=F=>{I.value===F?A.value=A.value==="asc"?"desc":"asc":(I.value=F,A.value="asc")},C=()=>{s.value="",E.value="all"},P=te(()=>e.value.filter(F=>F.isAdmin).length),ce=Ze({props:{active:Boolean,direction:String},setup(F){return()=>F.active?_t("span",{class:"ml-1 text-gray-700"},F.direction==="asc"?"↑":"↓"):_t("span",{class:"ml-1 text-gray-300"},"↕")}}),he=te(()=>{let F=[...e.value];if(E.value!=="all"){const j=E.value==="admin";F=F.filter(ee=>ee.isAdmin===j)}if(s.value){const j=s.value.toLowerCase();F=F.filter(ee=>{var ie;return((ie=ee.email)==null?void 0:ie.toLowerCase().includes(j))||`${ee.firstName} ${ee.lastName}`.toLowerCase().includes(j)})}return F.sort((j,ee)=>{var O,Y,oe,J;let ie,W;I.value==="name"?(ie=`${j.firstName} ${j.lastName}`.toLowerCase(),W=`${ee.firstName} ${ee.lastName}`.toLowerCase()):I.value==="email"?(ie=((O=j.email)==null?void 0:O.toLowerCase())||"",W=((Y=ee.email)==null?void 0:Y.toLowerCase())||""):I.value==="createdAt"&&(ie=((oe=j.createdAt)==null?void 0:oe.seconds)||0,W=((J=ee.createdAt)==null?void 0:J.seconds)||0);const M=ie>W?1:ie<W?-1:0;return A.value==="asc"?M:-M}),F}),G=F=>{if(!F)return"N/A";try{let j;if(F.toDate&&typeof F.toDate=="function")j=F.toDate();else if(F.seconds)j=new Date(F.seconds*1e3);else if(F instanceof Date)j=F;else if(typeof F=="string")j=new Date(F);else return"N/A";return j.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch(j){return console.error("Error formatting date:",j),"N/A"}},U=async F=>{try{if(!F||!F.id){console.error("Invalid user object:",F);return}const j={id:F.id,firstName:F.firstName||"",lastName:F.lastName||"",email:F.email||"",phone:F.phone||"",isAdmin:!!F.isAdmin,createdAt:F.createdAt||null};o.value=j.id,await ar(),a.value={...j},i.value=!0}catch(j){console.error("Error opening user details:",j),alert("Could not open user details. Please try again.")}},re=()=>{i.value=!1,a.value={},o.value=null,h.value=!1},ae=async()=>{if(o.value)try{c.value=!0,T.value=null;const F={firstName:a.value.firstName||"",lastName:a.value.lastName||"",phone:a.value.phone||"",isAdmin:!!a.value.isAdmin,email:a.value.email};await Ue.updateUser(o.value,F);const j=e.value.findIndex(ee=>ee.id===o.value);j!==-1&&(e.value[j]={...e.value[j],...F}),h.value=!0,w(`User ${F.firstName} ${F.lastName} updated successfully`),setTimeout(()=>{re()},1500)}catch(F){console.error("Failed to update user:",F),T.value="Failed to update user. Please try again."}finally{c.value=!1}},Ee=[{value:"all",label:"All Roles"},{value:"admin",label:"Admins"},{value:"customer",label:"Customers"}];te(()=>{var F;return((F=Ee.find(j=>j.value===E.value))==null?void 0:F.label)||"All Roles"});const ve=async()=>{if(confirm(`Are you sure you want to delete ${r.value.length} users?`))try{await Promise.all(r.value.map(F=>Ue.deleteUser(F))),e.value=e.value.filter(F=>!r.value.includes(F.id)),r.value=[],w("Users deleted successfully")}catch(F){console.error("Failed to delete users:",F)}},Ce=async()=>{const F=confirm("Make selected users admins? Click OK for Admin, Cancel for Customer");try{await Promise.all(r.value.map(j=>Ue.updateUser(j,{isAdmin:F}))),e.value=e.value.map(j=>r.value.includes(j.id)?{...j,isAdmin:F}:j),r.value=[],w("Users' roles updated successfully")}catch(j){console.error("Failed to update users:",j)}},Fe=F=>{console.log("View activity for user:",F.id),w("User activity feature coming soon")},at=B(null);B(!1);const Tt=B(!1),bt=F=>{if(m(F)){w("You cannot delete your own account");return}at.value=F,confirm(`Are you sure you want to delete user ${F.firstName} ${F.lastName}?`)&&K(F.id)},K=async F=>{try{Tt.value=!0,await Ue.deleteUser(F),e.value=e.value.filter(j=>j.id!==F),r.value.includes(F)&&(r.value=r.value.filter(j=>j!==F)),w("User deleted successfully")}catch(j){console.error("Error deleting user:",j),w("Failed to delete user. Please try again.")}finally{Tt.value=!1,at.value=null}};return(F,j)=>(D(),V("div",VQ,[l("div",LQ,[l("div",FQ,[l("div",null,[z(fh,{items:R}),j[7]||(j[7]=l("h1",{class:"text-4xl font-bold text-light-text-primary dark:text-dark-text-primary mt-2"},"User Management",-1)),j[8]||(j[8]=l("p",{class:"text-light-text-secondary dark:text-dark-text-secondary mt-1"},"View and manage system users",-1))]),l("button",{onClick:C,class:"bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark text-white py-2 px-4 rounded-btn flex items-center shadow-btn hover:shadow-btn-hover transition-btn duration-200"},[z(q(S9),{class:"h-5 w-5 mr-2"}),j[9]||(j[9]=ue(" Reset Filters "))])]),l("div",UQ,[l("div",jQ,[j[10]||(j[10]=l("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Total Users",-1)),l("p",BQ,H(e.value.length),1),l("p",qQ,"Last 30 days: +"+H(p.value),1)]),l("div",HQ,[j[11]||(j[11]=l("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Admins",-1)),l("p",zQ,H(P.value),1),l("div",WQ,[l("div",KQ,[l("div",{class:"h-2 rounded-full bg-orange-500 transition-all duration-300",style:Ct(`width: ${P.value/e.value.length*100}%`)},null,4)])])]),l("div",GQ,[j[13]||(j[13]=l("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Active Users",-1)),l("p",QQ,H(y.value),1),l("p",YQ,[j[12]||(j[12]=l("span",{class:"inline-block transform rotate-45"},"↗",-1)),ue(" "+H(k.value)+"% from last month ",1)])]),l("div",JQ,[j[14]||(j[14]=l("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Avg. Session",-1)),l("p",XQ,H(_.value),1),j[15]||(j[15]=l("p",{class:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-1"},"Minutes per user",-1))])]),r.value.length>0?(D(),V("div",ZQ,[l("span",eY,H(r.value.length)+" selected ",1),l("button",{onClick:ve,class:"text-red-500 hover:text-red-600 text-sm font-medium"}," Delete Selected "),l("button",{onClick:Ce,class:"text-accent-quaternary hover:text-accent-quaternary/80 text-sm font-medium"}," Change Role ")])):de("",!0),l("div",tY,[l("div",rY,[l("table",nY,[l("thead",sY,[l("tr",null,[l("th",iY,[l("input",{type:"checkbox",onChange:S,checked:b.value,class:"rounded border-light-neutral-300 dark:border-dark-neutral-600 text-accent-primary focus:ring-accent-primary"},null,40,oY)]),l("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-light-text-secondary dark:text-dark-text-secondary uppercase tracking-wider cursor-pointer",onClick:j[0]||(j[0]=ee=>N("name"))},[l("div",aY,[j[16]||(j[16]=l("span",null,"Name",-1)),z(q(ce),{active:I.value==="name",direction:A.value},null,8,["active","direction"])])]),l("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-light-text-secondary dark:text-dark-text-secondary uppercase tracking-wider cursor-pointer",onClick:j[1]||(j[1]=ee=>N("email"))},[l("div",lY,[j[17]||(j[17]=l("span",null,"Email",-1)),z(q(ce),{active:I.value==="email",direction:A.value},null,8,["active","direction"])])]),l("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-light-text-secondary dark:text-dark-text-secondary uppercase tracking-wider cursor-pointer",onClick:j[2]||(j[2]=ee=>N("createdAt"))},[l("div",cY,[j[18]||(j[18]=l("span",null,"Joined",-1)),z(q(ce),{active:I.value==="createdAt",direction:A.value},null,8,["active","direction"])])]),j[19]||(j[19]=l("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-light-text-secondary dark:text-dark-text-secondary uppercase tracking-wider"}," Role ",-1)),j[20]||(j[20]=l("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-light-text-secondary dark:text-dark-text-secondary uppercase tracking-wider"}," Actions ",-1))])]),l("tbody",uY,[n.value?(D(),V("tr",dY,j[21]||(j[21]=[l("td",{colspan:"5",class:"px-6 py-12 text-center text-light-text-secondary dark:text-dark-text-secondary"}," Loading users... ",-1)]))):he.value.length===0?(D(),V("tr",hY,[l("td",fY,[l("div",pY,[z(q(F9),{class:"h-12 w-12 text-light-neutral-400 dark:text-dark-neutral-600 mb-2"}),j[22]||(j[22]=l("h3",{class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary"},"No users found",-1)),j[23]||(j[23]=l("p",{class:"text-light-text-secondary dark:text-dark-text-secondary mt-1"},"Try adjusting your search or filter criteria",-1))])])])):de("",!0),(D(!0),V(_e,null,Ve(he.value,ee=>(D(),V("tr",{key:ee.id,class:Ie(["hover:bg-light-neutral-100 dark:hover:bg-dark-neutral-800 transition-colors",r.value.includes(ee.id)?"bg-accent-primary/5":""])},[l("td",mY,[l("input",{type:"checkbox",checked:r.value.includes(ee.id),onChange:ie=>L(ee.id),class:"rounded border-light-neutral-300 dark:border-dark-neutral-600 text-accent-primary focus:ring-accent-primary"},null,40,gY)]),l("td",yY,[l("div",vY,[l("div",bY,H(v(ee)),1),l("div",xY,[l("div",_Y,[ue(H(ee.firstName)+" "+H(ee.lastName)+" ",1),m(ee)?(D(),V("span",kY,"(You)")):de("",!0)])])])]),l("td",wY,[l("div",EY,H(ee.email||"No email"),1)]),l("td",IY,[l("div",TY,H(G(ee.createdAt)),1)]),l("td",AY,[l("span",{class:Ie([ee.isAdmin?"bg-accent-primary/10 text-accent-primary":"bg-light-neutral-100 dark:bg-dark-neutral-700 text-light-text-secondary dark:text-dark-text-secondary","px-2 py-1 text-xs rounded-full"])},H(ee.isAdmin?"Admin":"Customer"),3)]),l("td",SY,[l("div",CY,[l("button",{onClick:ie=>Fe(ee),class:"text-accent-quaternary hover:text-accent-quaternary/80 transition-colors",title:"View Activity"},[z(q(N9),{class:"h-5 w-5"})],8,PY),l("button",{onClick:ie=>U(ee),class:"text-accent-quaternary hover:text-accent-quaternary/80 transition-colors",title:"Edit User"},[z(q(NE),{class:"h-5 w-5"})],8,RY),l("button",{onClick:ie=>bt(ee),class:"text-red-500 hover:text-red-600 transition-colors",title:"Delete User"},[z(q(q9),{class:"h-5 w-5"})],8,NY)])])],2))),128))])])])]),f.show?(D(),V("div",$Y,[z(q(Fl),{class:"h-5 w-5 mr-2"}),l("span",null,H(f.message),1)])):de("",!0)]),z(q(mn),{appear:"",show:i.value,as:"template"},{default:Z(()=>[z(q(lh),{as:"div",onClose:re,class:"relative z-50"},{default:Z(()=>[z(q(gs),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Z(()=>j[24]||(j[24]=[l("div",{class:"fixed inset-0 bg-black bg-opacity-50 transition-opacity"},null,-1)])),_:1}),l("div",OY,[l("div",DY,[z(q(gs),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:Z(()=>[z(q(ch),{class:"w-full max-w-md transform overflow-hidden rounded-2xl bg-light-secondary dark:bg-dark-secondary p-6 text-left align-middle shadow-xl transition-all border border-light-neutral-300 dark:border-dark-neutral-700"},{default:Z(()=>[l("div",MY,[z(q(_E),{as:"h3",class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary"},{default:Z(()=>j[25]||(j[25]=[ue(" Edit User ")])),_:1}),l("button",{onClick:re,class:"text-light-neutral-500 dark:text-dark-neutral-500 hover:text-light-text-primary dark:hover:text-dark-text-primary focus:outline-none","aria-label":"Close"},[z(q(hh),{class:"h-6 w-6"})])]),h.value?(D(),V("div",VY,[z(q(Fl),{class:"h-5 w-5 mr-2"}),j[26]||(j[26]=l("span",null,"User updated successfully!",-1))])):de("",!0),l("div",LY,[l("div",FY,[l("div",null,[j[27]||(j[27]=l("label",{for:"firstName",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary"}," First name ",-1)),xe(l("input",{type:"text",id:"firstName","onUpdate:modelValue":j[3]||(j[3]=ee=>a.value.firstName=ee),class:"mt-1 block w-full rounded-md border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary px-3 py-2 focus:border-accent-primary focus:ring-accent-primary focus:outline-none sm:text-sm"},null,512),[[Pe,a.value.firstName]])]),l("div",null,[j[28]||(j[28]=l("label",{for:"lastName",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary"}," Last name ",-1)),xe(l("input",{type:"text",id:"lastName","onUpdate:modelValue":j[4]||(j[4]=ee=>a.value.lastName=ee),class:"mt-1 block w-full rounded-md border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary px-3 py-2 focus:border-accent-primary focus:ring-accent-primary focus:outline-none sm:text-sm"},null,512),[[Pe,a.value.lastName]])])]),l("div",null,[j[29]||(j[29]=l("label",{for:"email",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary"}," Email ",-1)),xe(l("input",{type:"email",id:"email","onUpdate:modelValue":j[5]||(j[5]=ee=>a.value.email=ee),disabled:"",class:"mt-1 block w-full rounded-md border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-neutral-100 dark:bg-dark-neutral-800 text-light-neutral-500 dark:text-dark-neutral-500 px-3 py-2 cursor-not-allowed sm:text-sm"},null,512),[[Pe,a.value.email]])]),l("div",UY,[z(q(p9),{modelValue:a.value.isAdmin,"onUpdate:modelValue":j[6]||(j[6]=ee=>a.value.isAdmin=ee),class:Ie([a.value.isAdmin?"bg-accent-primary":"bg-light-neutral-300 dark:bg-dark-neutral-600","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-accent-primary focus:ring-offset-2"])},{default:Z(()=>[j[30]||(j[30]=l("span",{class:"sr-only"},"Admin status",-1)),l("span",{"aria-hidden":"true",class:Ie([a.value.isAdmin?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out"])},null,2)]),_:1},8,["modelValue","class"]),j[31]||(j[31]=l("span",{class:"ml-3 text-sm text-light-text-primary dark:text-dark-text-primary"}," Admin privileges ",-1))])]),l("div",jY,[l("button",{type:"button",class:"inline-flex justify-center rounded-md border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-primary dark:bg-dark-primary px-4 py-2 text-sm font-medium text-light-text-primary dark:text-dark-text-primary hover:bg-light-neutral-100 dark:hover:bg-dark-neutral-800 focus:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:ring-offset-2",onClick:re}," Cancel "),l("button",{type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark px-4 py-2 text-sm font-medium text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-btn-primary focus-visible:ring-offset-2",onClick:ae,disabled:c.value},[c.value?(D(),V("span",qY,"⟳")):de("",!0),ue(" "+H(c.value?"Saving...":"Save Changes"),1)],8,BY)])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])]))}},zY=jr(HY,[["__scopeId","data-v-fe9bfe02"]]),WY={class:"container mx-auto px-4 py-12"},KY={class:"max-w-4xl mx-auto"},GY={class:"bg-light-primary dark:bg-dark-primary rounded-lg p-8 shadow-sm border border-light-neutral-200 dark:border-dark-neutral-600 mb-12"},QY={class:"space-y-4"},YY=["id","value"],JY=["for"],XY={class:"block font-medium text-light-text-primary dark:text-dark-text-primary"},ZY={class:"block text-sm text-light-text-secondary dark:text-dark-neutral-700 mt-1"},eJ={class:"text-orange-500 font-semibold"},tJ={__name:"ShippingPolicyView",setup(t){const e=B(0),r=[{name:"Standard Shipping",description:"Best value for non-urgent deliveries",time:"5-7 business days"},{name:"Express Shipping",description:"Fast delivery for time-sensitive orders",time:"2-3 business days"},{name:"International Shipping",description:"Worldwide delivery with tracking",time:"10-14 business days"}];return(n,s)=>(D(),V("div",WY,[l("div",KY,[s[2]||(s[2]=dt('<h1 class="text-4xl font-bold mb-8 text-light-text-primary dark:text-dark-text-primary text-center">Shipping Policy</h1><div class="grid md:grid-cols-2 gap-8 mb-12"><div class="bg-light-primary dark:bg-dark-primary rounded-lg p-6 shadow-sm border border-light-neutral-200 dark:border-dark-neutral-600"><div class="flex items-center mb-4"><span class="bg-orange-100 dark:bg-orange-900 p-3 rounded-full"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-orange-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></span><h2 class="text-2xl font-semibold ml-4 text-light-text-primary dark:text-dark-text-primary">Processing Time</h2></div><p class="text-light-text-secondary dark:text-dark-neutral-700">Orders are typically processed within 1-2 business days after payment confirmation.</p></div><div class="bg-light-primary dark:bg-dark-primary rounded-lg p-6 shadow-sm border border-light-neutral-200 dark:border-dark-neutral-600"><div class="flex items-center mb-4"><span class="bg-orange-100 dark:bg-orange-900 p-3 rounded-full"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-orange-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></span><h2 class="text-2xl font-semibold ml-4 text-light-text-primary dark:text-dark-text-primary">Tracking Orders</h2></div><p class="text-light-text-secondary dark:text-dark-neutral-700">Once your order ships, you will receive a confirmation email with tracking information.</p></div></div>',2)),l("div",GY,[s[1]||(s[1]=dt('<div class="flex items-center mb-6"><span class="bg-orange-100 dark:bg-orange-900 p-3 rounded-full"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-orange-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"></path></svg></span><h2 class="text-2xl font-semibold ml-4 text-light-text-primary dark:text-dark-text-primary">Shipping Methods</h2></div>',1)),l("div",QY,[(D(),V(_e,null,Ve(r,(i,o)=>l("div",{key:o,class:Ie(["flex items-start p-4 rounded-lg transition-colors duration-200",e.value===o?"bg-orange-50 dark:bg-orange-900/20":"hover:bg-light-secondary dark:hover:bg-dark-secondary"])},[xe(l("input",{type:"radio",id:"shipping-"+o,value:o,"onUpdate:modelValue":s[0]||(s[0]=a=>e.value=a),class:"mt-1.5"},null,8,YY),[[Id,e.value]]),l("label",{for:"shipping-"+o,class:"ml-3 flex-1 cursor-pointer"},[l("span",XY,H(i.name),1),l("span",ZY,H(i.description),1)],8,JY),l("span",eJ,H(i.time),1)],2)),64))])]),s[3]||(s[3]=dt('<div class="bg-light-primary dark:bg-dark-primary rounded-lg p-8 shadow-sm border border-light-neutral-200 dark:border-dark-neutral-600"><div class="flex items-center mb-6"><span class="bg-orange-100 dark:bg-orange-900 p-3 rounded-full"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-orange-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></span><h2 class="text-2xl font-semibold ml-4 text-light-text-primary dark:text-dark-text-primary">Shipping Costs</h2></div><p class="text-light-text-secondary dark:text-dark-neutral-700 mb-4">Shipping costs are calculated based on:</p><ul class="list-disc pl-6 space-y-2 text-light-text-secondary dark:text-dark-neutral-700"><li>Delivery location</li><li>Package weight</li><li>Shipping method selected</li></ul></div>',1))])]))}},rJ={class:"container mx-auto px-4 py-12"},nJ={class:"max-w-4xl mx-auto"},sJ={class:"bg-light-primary dark:bg-dark-primary rounded-lg p-8 shadow-sm border border-light-neutral-200 dark:border-dark-neutral-600 mb-12"},iJ={class:"relative"},oJ={class:"space-y-8 relative"},aJ={class:"flex items-center justify-center w-8 h-8 rounded-full bg-orange-500 text-white font-semibold relative z-10"},lJ={class:"ml-6"},cJ={class:"text-lg font-semibold mb-2 text-light-text-primary dark:text-dark-text-primary"},uJ={class:"text-light-text-secondary dark:text-dark-neutral-700"},dJ={class:"bg-light-primary dark:bg-dark-primary rounded-lg p-8 shadow-sm border border-light-neutral-200 dark:border-dark-neutral-600"},hJ={class:"grid md:grid-cols-3 gap-4"},fJ={class:"font-medium mb-2 text-light-text-primary dark:text-dark-text-primary"},pJ={class:"text-sm text-light-text-secondary dark:text-dark-neutral-700"},mJ={__name:"ReturnsExchangesView",setup(t){const e=[{title:"Contact Customer Service",description:"Reach out to our team through email or phone to initiate the exchange process."},{title:"Receive Return Authorization",description:"We'll provide you with a return authorization number and shipping instructions."},{title:"Ship the Item",description:"Package the item securely and send it back using the provided shipping instructions."},{title:"Choose Replacement",description:"Once we receive your return, select your replacement item from our current inventory."}],r=[{title:"Custom or Personalized Items",description:"Jewelry pieces that have been customized or personalized specifically for you."},{title:"Sale or Clearance Items",description:"Items purchased at a discounted price during sales or clearance events."},{title:"Damaged Items",description:"Items that show signs of wear, damage, or alterations after delivery."}];return(n,s)=>(D(),V("div",rJ,[l("div",nJ,[s[3]||(s[3]=dt('<h1 class="text-4xl font-bold mb-8 text-light-text-primary dark:text-dark-text-primary text-center">Returns &amp; Exchanges</h1><div class="bg-light-primary dark:bg-dark-primary rounded-lg p-8 shadow-sm border border-light-neutral-200 dark:border-dark-neutral-600 mb-12"><div class="flex items-center mb-6"><span class="bg-orange-100 dark:bg-orange-900 p-3 rounded-full"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-orange-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 15v-1a4 4 0 00-4-4H8m0 0l3 3m-3-3l3-3m9 14V5a2 2 0 00-2-2H6a2 2 0 00-2 2v16l4-2 4 2 4-2 4 2z"></path></svg></span><h2 class="text-2xl font-semibold ml-4 text-light-text-primary dark:text-dark-text-primary">Return Policy</h2></div><div class="prose dark:prose-invert max-w-none"><p class="text-light-text-secondary dark:text-dark-neutral-700"> We accept returns within 30 days of delivery for items in their original condition. </p><ul class="mt-4 space-y-2 text-light-text-secondary dark:text-dark-neutral-700"><li class="flex items-center"><svg class="h-5 w-5 text-orange-500 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> Items must be unworn and in original packaging </li><li class="flex items-center"><svg class="h-5 w-5 text-orange-500 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> Original receipt or proof of purchase required </li><li class="flex items-center"><svg class="h-5 w-5 text-orange-500 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg> Return shipping costs are the responsibility of the customer </li></ul></div></div>',2)),l("div",sJ,[s[1]||(s[1]=dt('<div class="flex items-center mb-6"><span class="bg-orange-100 dark:bg-orange-900 p-3 rounded-full"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-orange-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg></span><h2 class="text-2xl font-semibold ml-4 text-light-text-primary dark:text-dark-text-primary">Exchange Process</h2></div>',1)),l("div",iJ,[s[0]||(s[0]=l("div",{class:"absolute left-4 inset-y-0 w-0.5 bg-orange-100 dark:bg-orange-900"},null,-1)),l("div",oJ,[(D(),V(_e,null,Ve(e,(i,o)=>l("div",{key:o,class:"flex items-start"},[l("span",aJ,H(o+1),1),l("div",lJ,[l("h3",cJ,H(i.title),1),l("p",uJ,H(i.description),1)])])),64))])])]),l("div",dJ,[s[2]||(s[2]=dt('<div class="flex items-center mb-6"><span class="bg-orange-100 dark:bg-orange-900 p-3 rounded-full"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-orange-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg></span><h2 class="text-2xl font-semibold ml-4 text-light-text-primary dark:text-dark-text-primary">Non-Returnable Items</h2></div>',1)),l("div",hJ,[(D(),V(_e,null,Ve(r,(i,o)=>l("div",{key:o,class:"p-4 bg-light-secondary dark:bg-dark-secondary rounded-lg"},[l("h4",fJ,H(i.title),1),l("p",pJ,H(i.description),1)])),64))])])])]))}},gJ={class:"container mx-auto px-4 py-12"},yJ={class:"max-w-4xl mx-auto"},vJ={class:"space-y-4"},bJ=["onClick","aria-expanded","aria-controls"],xJ={class:"text-lg font-semibold text-light-text-primary dark:text-dark-text-primary pr-4"},_J=["id"],kJ={class:"py-2"},wJ={class:"mt-12 pt-8 border-t border-light-neutral-200 dark:border-dark-neutral-600 text-center"},EJ={__name:"FAQsView",setup(t){const e=B(null),r=s=>{e.value=e.value===s?null:s},n=[{question:"How do I know my ring size?",answer:"We recommend getting professionally measured at a local jeweler for the most accurate size. You can also use our printable ring sizer guide available on our website. For the best fit, measure your finger at the end of the day when your fingers are at their largest."},{question:"Are your materials hypoallergenic?",answer:"Yes, we use high-quality, hypoallergenic materials in our jewelry. All our metals are nickel-free and safe for sensitive skin. We carefully source our materials from trusted suppliers to ensure the highest quality standards."},{question:"How do I care for my jewelry?",answer:"Store pieces separately to prevent scratching, clean with mild soap and water, and avoid exposure to chemicals and harsh environments. Remove jewelry before swimming, showering, or applying cosmetics. We recommend storing in a cool, dry place and using a soft cloth for cleaning."},{question:"Do you offer gift wrapping?",answer:"Yes, we offer complimentary gift wrapping on all orders. You can add a personalized message during checkout. Our elegant gift packaging includes a premium box, tissue paper, and a handwritten note if requested."},{question:"What payment methods do you accept?",answer:"We accept all major credit cards (Visa, MasterCard, American Express), PayPal, and other secure payment methods. All transactions are encrypted and secure. We also offer various financing options for qualifying purchases."},{question:"Do you ship internationally?",answer:"Yes, we ship worldwide. International shipping times and costs vary by location. Please note that any import duties or taxes are the responsibility of the recipient. Tracking information is provided for all international orders."}];return(s,i)=>(D(),V("div",gJ,[l("div",yJ,[i[3]||(i[3]=l("h1",{class:"text-4xl font-bold mb-8 text-light-text-primary dark:text-dark-text-primary text-center"},"Frequently Asked Questions",-1)),l("div",vJ,[(D(),V(_e,null,Ve(n,(o,a)=>l("div",{key:a,class:"bg-light-primary dark:bg-dark-primary rounded-lg shadow-sm border border-light-neutral-200 dark:border-dark-neutral-600 overflow-hidden"},[l("button",{onClick:c=>r(a),class:"w-full px-6 py-4 text-left flex justify-between items-center hover:bg-light-secondary dark:hover:bg-dark-secondary transition-colors duration-200","aria-expanded":e.value===a,"aria-controls":"faq-content-"+a},[l("h3",xJ,H(o.question),1),l("span",{class:Ie(["text-orange-500 transition-transform duration-200",{"rotate-180":e.value===a}])},i[0]||(i[0]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"})],-1)]),2)],8,bJ),xe(l("div",{id:"faq-content-"+a,class:Ie(["px-6 pb-4 text-light-text-secondary dark:text-dark-neutral-700",{"animate-fadeIn":e.value===a}])},[l("p",kJ,H(o.answer),1)],10,_J),[[wd,e.value===a]])])),64))]),l("div",wJ,[i[2]||(i[2]=l("p",{class:"text-light-text-secondary dark:text-dark-neutral-700 mb-4"}," Can't find what you're looking for? ",-1)),z(q(ft),{to:"/contact",class:"inline-flex items-center px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white rounded-lg transition-colors duration-200"},{default:Z(()=>i[1]||(i[1]=[ue(" Contact Us "),l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M14 5l7 7m0 0l-7 7m7-7H3"})],-1)])),_:1})])])]))}},IJ=jr(EJ,[["__scopeId","data-v-8b7473a1"]]),TJ=[{path:"/",name:"home",component:$b},{path:"/products",name:"products",component:NL},{path:"/product/:id",name:"product-detail",component:X8},{path:"/login",name:"login",component:mF},{path:"/register",name:"register",component:jF},{path:"/account",name:"account",component:sj,meta:{requiresAuth:!0}},{path:"/cart",name:"cart",component:Gj},{path:"/checkout",name:"checkout",component:wq,meta:{requiresAuth:!0}},{path:"/about",name:"about",component:yH},{path:"/contact",name:"contact",component:az},{path:"/admin",name:"admin",component:tW,meta:{requiresAuth:!0,isAdmin:!0}},{path:"/admin/products",name:"admin-products",component:oK,meta:{requiresAuth:!0,isAdmin:!0}},{path:"/admin/products/new",name:"admin-product-new",component:e1,meta:{requiresAuth:!0,isAdmin:!0}},{path:"/admin/products/edit/:id",name:"admin-product-edit",component:e1,meta:{requiresAuth:!0,isAdmin:!0}},{path:"/admin/orders",name:"admin-orders",component:MQ,meta:{requiresAuth:!0,isAdmin:!0}},{path:"/admin/users",name:"admin-users",component:zY,meta:{requiresAuth:!0,isAdmin:!0},beforeEnter:fV},{path:"/notification-test",name:"NotificationTest",component:()=>af(()=>import("./NotificationTest-B50GKpfW.js"),[]),meta:{title:"Notification Test"}},{path:"/account/notifications",name:"AccountNotifications",component:()=>af(()=>import("./Notifications-CPpO2bax.js"),[]),meta:{requiresAuth:!0,title:"Notifications"}},{path:"/privacy-policy",name:"privacy-policy",component:()=>af(()=>import("./PrivacyPolicyView-BVBQRYEP.js"),[]),meta:{title:"Privacy Policy"}},{path:"/shipping-policy",name:"shipping-policy",component:tJ},{path:"/returns-exchanges",name:"returns-exchanges",component:mJ},{path:"/faqs",name:"faqs",component:IJ},{path:"/:pathMatch(.*)*",name:"not-found",component:$b,beforeEnter:(t,e,r)=>{var n;if(console.log(`Not-found route triggered for: ${t.fullPath}`),t.query&&Object.keys(t.query).length>0&&((n=t.query[0])!=null&&n.startsWith("/"))){console.log("Detected GitHub Pages SPA redirect, handling specially"),r(!1);return}r("/")}}],oa=FC({history:mC("/"),routes:TJ,strict:!0,scrollBehavior(t,e,r){return r||{top:0}}});oa.beforeEach(async(t,e,r)=>{const n=wn();if(window.location.search&&window.location.search.startsWith("?/")){console.log("GitHub Pages redirect in progress, skipping auth check"),r();return}if(!n.user&&!n.authChecked)try{console.log("Initializing auth..."),await n.initAuth()}catch(s){console.error("Error initializing auth:",s)}if(t.matched.some(s=>s.meta.requiresAuth)){if(!n.isAuthenticated){console.log(`Auth required for ${t.path}, redirecting to login`),r({path:"/login",query:{redirect:t.fullPath}});return}if(t.matched.some(s=>s.meta.isAdmin)&&!n.isAdmin){console.log("Admin access denied"),r("/");return}}if((t.path==="/login"||t.path==="/register")&&n.isAuthenticated){const s=t.query.redirect||"/account";console.log(`Already logged in, redirecting to ${s}`),r(s);return}r()});const AJ={adminEmails:["your-admin-email@example.com"],async initializeAdminStatus(){const e=Hi().currentUser;if(!e)return console.log("No user logged in"),!1;try{const r=this.adminEmails.includes(e.email);return await Ue.setUserAdminStatus(e.uid,r),console.log(`Admin status set for ${e.email}:`,r),r}catch(r){return console.error("Error setting admin status:",r),!1}}},_i=Hi(),wn=Rd("auth",{state:()=>({user:null,isInitializing:!0,loading:!0,error:null,authChecked:!1}),actions:{async initialize(){console.log("Initializing auth state"),this.isInitializing=!0;try{const t=localStorage.getItem("userData");t&&(this.user=JSON.parse(t))}catch(t){console.error("Auth initialization error:",t)}finally{this.isInitializing=!1}},async initAuth(){console.log("Initializing auth state"),this.isInitializing=!0;try{const t=localStorage.getItem("userData");if(t)try{const e=JSON.parse(t);if(console.log(`Restored auth from localStorage: ${(e==null?void 0:e.email)||"unknown"}`),e&&e.uid)return this.user=e,localStorage.getItem("userIsAdmin")&&!this.user.isAdmin&&(this.user.isAdmin=!0),this.authChecked=!0,this.loading=!1,!0}catch(e){console.error("Error parsing stored user data:",e)}return new Promise(e=>{const r=Qk(_i,async n=>{if(r(),n){console.log("Firebase user found:",n.email);try{const s=await Ue.getUserProfile(n.uid);this.user={uid:n.uid,email:n.email,displayName:n.displayName||(s==null?void 0:s.displayName),emailVerified:n.emailVerified,isAdmin:!!(s!=null&&s.isAdmin),...s},localStorage.setItem("userData",JSON.stringify(this.user)),this.user.isAdmin&&localStorage.setItem("userIsAdmin","true"),e(!0)}catch(s){console.error("Error getting user profile:",s),this.user=null,e(!1)}}else console.log("No Firebase user found"),this.user=null,e(!1);this.authChecked=!0,this.loading=!1,this.isInitializing=!1},n=>{console.error("Firebase auth state error:",n),this.authChecked=!0,this.loading=!1,this.isInitializing=!1,e(!1)});setTimeout(()=>{this.authChecked=!0,this.loading=!1,this.isInitializing=!1,e(!1)},3e3)})}catch(t){return console.error("Error in auth initialization:",t),localStorage.removeItem("userData"),this.user=null,this.loading=!1,this.isInitializing=!1,this.authChecked=!0,!1}},async login(t,e){const r=en();try{this.loading=!0,this.error=null;const n=await Gk(_i,t,e);this.user={uid:n.user.uid,email:n.user.email,displayName:n.user.displayName,emailVerified:n.user.emailVerified,isAdmin:!1},n.user.emailVerified||r.addNotification({title:"Email Not Verified",message:"Please check your inbox and verify your email to access all features.",type:"warning",timeout:6e3}),localStorage.setItem("userData",JSON.stringify(this.user));const s=sessionStorage.getItem("redirectAfterLogin")||"/account";return sessionStorage.removeItem("redirectAfterLogin"),this.loadUserProfileInBackground(n.user.uid),r.addNotification({title:"Welcome Back",message:`Successfully signed in as ${t}`,type:"success",timeout:3e3}),s}catch(n){throw console.error("Login error:",n),this.error=n.message,r.addNotification({title:"Login Failed",message:n.message,type:"error",timeout:5e3}),n}finally{this.loading=!1}},async logout(){var e;const t=en();try{const r=(e=this.user)==null?void 0:e.email;await bR(_i),this.user=null,localStorage.removeItem("userIsAdmin"),localStorage.removeItem("userData"),t.addNotification({title:"Signed Out",message:`Successfully signed out${r?` from ${r}`:""}`,type:"info",timeout:3e3}),oa.push("/")}catch(r){throw this.error=r.message,t.addNotification({title:"Error",message:`Failed to sign out: ${r.message}`,type:"error",timeout:5e3}),r}},async register(t,e,r){const n=en();try{this.error=null,this.loading=!0;const s=await Kk(_i,t,e);return await xv(s.user),r&&await Ue.createUserProfile(s.user.uid,r),n.addNotification({title:"Welcome!",message:`Account successfully created for ${t}. Please check your inbox to verify your email address.`,type:"success",timeout:8e3}),await n.addPersistedNotification({title:"Welcome to BeadShop",message:"Thank you for joining our community! Please verify your email to unlock all features. Feel free to explore our products and start shopping.",type:"info",userId:s.user.uid}),this.user={uid:s.user.uid,email:s.user.email,displayName:s.user.displayName,emailVerified:!1,...r},localStorage.setItem("userData",JSON.stringify(this.user)),oa.push("/"),s}catch(s){throw this.error=s.message,n.addNotification({title:"Registration Failed",message:s.message,type:"error",timeout:5e3}),s}finally{this.loading=!1}},async sendVerificationEmail(){const t=en();try{const e=_i.currentUser;if(!e)throw new Error("No user is currently logged in");return await xv(e),t.addNotification({title:"Verification Email Sent",message:`A verification email has been sent to ${e.email}. Please check your inbox.`,type:"success",timeout:5e3}),!0}catch(e){throw console.error("Error sending verification email:",e),t.addNotification({title:"Error",message:`Failed to send verification email: ${e.message}`,type:"error",timeout:5e3}),e}},async checkEmailVerification(){try{const t=_i.currentUser;return t?(await t.reload(),this.user&&(this.user.emailVerified=t.emailVerified,localStorage.setItem("userData",JSON.stringify(this.user))),t.emailVerified):!1}catch(t){return console.error("Error checking email verification:",t),!1}},async loadUserProfileInBackground(t){try{const e=await Ue.getUserProfile(t);if(e!=null&&e.adminUpdatedAt)this.user={...this.user,...e,isAdmin:!!(e!=null&&e.isAdmin)};else{await AJ.initializeAdminStatus();const n=await Ue.getUserProfile(t);this.user={...this.user,...n,isAdmin:!!(n!=null&&n.isAdmin)}}const r=_i.currentUser;r&&(this.user.emailVerified=r.emailVerified),localStorage.setItem("userData",JSON.stringify(this.user)),this.user.isAdmin&&localStorage.setItem("userIsAdmin","true"),console.log("User profile loaded in background")}catch(e){console.error("Error loading user profile in background:",e)}},async setUser(t){if(t){const e=await Ue.getUserProfile(t.uid);console.log("User profile loaded:",e),this.user={...t,emailVerified:t.emailVerified,isAdmin:!!(e!=null&&e.isAdmin),...e},console.log("Updated user state:",this.user)}else this.user=null},async restoreSession(t){if(!t)return null;try{const e=await Ue.getUserProfile(t.uid);return this.user={uid:t.uid,email:t.email,displayName:t.displayName,emailVerified:t.emailVerified,isAdmin:!!(e!=null&&e.isAdmin),...e},this.user.isAdmin&&localStorage.setItem("userIsAdmin","true"),localStorage.setItem("userData",JSON.stringify(this.user)),this.user}catch(e){return console.error("Error restoring session:",e),null}},async updateProfile(t){const e=en();this.loading=!0;try{return await Ue.updateUserProfile(this.user.uid,t),this.user={...this.user,...t},e.addNotification({title:"Profile Updated",message:"Your profile has been updated successfully",type:"success",timeout:3e3}),!0}catch(r){return console.error("Profile update error:",r),e.addNotification({title:"Update Failed",message:"Failed to update profile. Please try again.",type:"error",timeout:5e3}),!1}finally{this.loading=!1}}},getters:{isAdmin:t=>{var e;return!!((e=t.user)!=null&&e.isAdmin)},isAuthenticated:t=>!!t.user,isEmailVerified:t=>{var e;return!!((e=t.user)!=null&&e.emailVerified)},getUser:t=>t.user}}),SJ={class:"bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary transition-colors duration-200"},CJ={class:"fixed inset-0 z-40 flex"},PJ={class:"flex px-4 pt-5 pb-2"},RJ={class:"space-y-6 px-4 py-6"},NJ={class:"flow-root"},$J={class:"flow-root"},OJ={class:"flow-root"},DJ={class:"space-y-6 border-t border-light-neutral-300 dark:border-dark-neutral-600 px-4 py-6"},MJ={class:"flow-root"},VJ={key:1,class:"space-y-2"},LJ={class:"-m-2 block p-2 font-medium text-light-text-primary dark:text-dark-text-primary"},FJ={class:"flow-root"},UJ={class:"sticky top-0 z-40 bg-light-primary dark:bg-dark-primary transition-colors duration-200"},jJ={"aria-label":"Top",class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},BJ={class:"flex h-16 items-center"},qJ=["aria-label"],HJ={class:"ml-4 flex lg:ml-0"},zJ=["src"],WJ={class:"hidden lg:ml-8 lg:block lg:self-stretch"},KJ={class:"flex h-full space-x-8"},GJ={class:"ml-auto flex items-center"},QJ={class:"hidden lg:flex lg:flex-1 lg:items-center lg:justify-end lg:space-x-6"},YJ={class:"absolute inset-0 flex items-center justify-center"},JJ={class:"absolute inset-0 flex items-center justify-center"},XJ={key:0,class:"h-6 w-6 text-yellow-300 opacity-30 animate-pulse",viewBox:"0 0 24 24",fill:"currentColor"},ZJ={key:1,class:"h-6 w-6 text-indigo-800 opacity-20",viewBox:"0 0 24 24"},eX={class:"ml-4 flow-root lg:ml-6"},tX={key:0,class:"absolute top-0 right-0 inline-flex items-center justify-center w-4 h-4 text-xs font-bold text-white bg-red-500 rounded-full"},rX={class:"ml-4 flow-root lg:ml-6"},nX={key:0,class:"absolute top-0 right-0 inline-flex items-center justify-center w-4 h-4 text-xs font-bold text-white bg-red-500 rounded-full pointer-events-none"},sX={key:0,class:"absolute right-4 top-20 z-50 mt-2 w-80 origin-top-right rounded-md bg-light-secondary dark:bg-dark-secondary py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},iX={class:"max-h-80 overflow-y-auto"},oX={key:0,class:"px-4 py-6 text-center text-light-text-secondary dark:text-dark-neutral-700"},aX={key:1,class:"divide-y divide-light-neutral-200 dark:divide-dark-neutral-700"},lX={class:"flex items-start"},cX={class:"shrink-0 pt-0.5"},uX={class:"ml-3 w-0 flex-1"},dX={class:"text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},hX={class:"mt-1 text-sm text-light-text-secondary dark:text-dark-neutral-700"},fX={class:"mt-1 text-xs text-light-text-tertiary dark:text-dark-neutral-600"},pX={class:"ml-4 flex shrink-0"},mX=["onClick"],gX={key:0},yX={key:1},vX={class:"px-4 py-2 border-t border-light-neutral-300 dark:border-dark-neutral-600 text-center"},bX={__name:"TheHeader",setup(t){const e=di(),r=Od(),n=wn(),s=ao(),i=wm(),o=en(),a=B(!1),c=B(!1),d=B(!1),h=te(()=>s.itemCount),f=te(()=>o.userNotifications.filter(m=>!m.read).length),p={success:Fl,error:V9,info:j9,warning:L9},y={success:"text-green-500",error:"text-red-500",info:"text-blue-500",warning:"text-yellow-500"},k=()=>{a.value=!a.value,a.value&&(c.value=!1)},_=()=>{c.value=!c.value,c.value&&(a.value=!1)},b=()=>{a.value=!1},I=()=>{i.toggleTheme(),b()},A=async()=>{await n.logout(),b(),e.push("/")},E=m=>{m.read||o.markAsRead(m.id)},R=m=>{if(!m)return"";const w=new Date,N=new Date(m);return N.toDateString()===w.toDateString()?N.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):N.getFullYear()===w.getFullYear()?N.toLocaleDateString([],{month:"short",day:"numeric"}):N.toLocaleDateString()},S=m=>r.path===m||m!=="/"&&r.path.startsWith(m),L=()=>{d.value=window.scrollY>20},T=te(()=>{var m;return((m=n.user)==null?void 0:m.isAdmin)===!0}),v=m=>{c.value&&!m.target.closest('[aria-label="View notifications"]')&&!m.target.closest(".notifications-panel")&&(c.value=!1)};return Rt(()=>n.user,m=>{m&&o.loadUserNotifications()},{immediate:!0}),je(()=>{window.addEventListener("resize",()=>{window.innerWidth>=1024&&(a.value=!1)}),window.addEventListener("scroll",L),window.addEventListener("click",v)}),Kt(()=>{window.removeEventListener("scroll",L),window.removeEventListener("click",v)}),(m,w)=>(D(),V("div",SJ,[z(q(mn),{as:"template",show:a.value},{default:Z(()=>[z(q(lh),{class:"relative z-40 lg:hidden",onClose:w[0]||(w[0]=N=>a.value=!1)},{default:Z(()=>[z(q(gs),{as:"template",enter:"transition-opacity ease-linear duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-linear duration-300","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Z(()=>w[2]||(w[2]=[l("div",{class:"fixed inset-0 bg-black/25"},null,-1)])),_:1}),l("div",CJ,[z(q(gs),{as:"template",enter:"transition ease-in-out duration-300 transform","enter-from":"-translate-x-full","enter-to":"translate-x-0",leave:"transition ease-in-out duration-300 transform","leave-from":"translate-x-0","leave-to":"-translate-x-full"},{default:Z(()=>[z(q(ch),{class:"relative flex w-full max-w-xs flex-col overflow-y-auto bg-light-secondary dark:bg-dark-secondary pb-12 shadow-xl"},{default:Z(()=>[l("div",PJ,[l("button",{type:"button",class:"relative -m-2 inline-flex items-center justify-center rounded-md p-2 text-light-neutral-500 dark:text-dark-neutral-500",onClick:b},[w[3]||(w[3]=l("span",{class:"absolute -inset-0.5"},null,-1)),w[4]||(w[4]=l("span",{class:"sr-only"},"Close menu",-1)),z(q(hh),{class:"size-6","aria-hidden":"true"})])]),l("div",RJ,[l("div",NJ,[z(q(ft),{to:"/products",class:"-m-2 block p-2 font-medium text-light-text-primary dark:text-dark-text-primary",onClick:b},{default:Z(()=>w[5]||(w[5]=[ue("Shop")])),_:1})]),l("div",$J,[z(q(ft),{to:"/about",class:"-m-2 block p-2 font-medium text-light-text-primary dark:text-dark-text-primary",onClick:b},{default:Z(()=>w[6]||(w[6]=[ue("About Us")])),_:1})]),l("div",OJ,[z(q(ft),{to:"/contact",class:"-m-2 block p-2 font-medium text-light-text-primary dark:text-dark-text-primary",onClick:b},{default:Z(()=>w[7]||(w[7]=[ue("Contact")])),_:1})])]),l("div",DJ,[l("div",MJ,[q(n).user?(D(),V("div",VJ,[l("div",LJ,H(q(n).user.displayName||q(n).user.email),1),z(q(ft),{to:"/account",class:"-m-2 block p-2 text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-light-text-primary dark:hover:text-dark-text-primary pl-4",onClick:b},{default:Z(()=>w[9]||(w[9]=[ue("Account")])),_:1}),T.value?(D(),mt(q(ft),{key:0,to:"/admin",class:"-m-2 block p-2 text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-light-text-primary dark:hover:text-dark-text-primary pl-4",onClick:b},{default:Z(()=>w[10]||(w[10]=[ue("Shop Manager")])),_:1})):de("",!0),l("button",{onClick:A,class:"-m-2 block p-2 text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-light-text-primary dark:hover:text-dark-text-primary pl-4 w-full text-left"},"Logout")])):(D(),mt(q(ft),{key:0,to:"/login",class:"-m-2 block p-2 font-medium text-light-text-primary dark:text-dark-text-primary",onClick:b},{default:Z(()=>w[8]||(w[8]=[ue("Sign in")])),_:1}))]),l("div",FJ,[l("button",{onClick:I,class:"-m-2 flex items-center p-2 font-medium text-light-text-secondary dark:text-dark-neutral-700 hover:text-light-text-primary dark:hover:text-dark-text-primary"},[q(i).theme==="dark"?(D(),mt(q(Gb),{key:0,class:"h-5 w-5 mr-2 text-accent-primary"})):(D(),mt(q(Kb),{key:1,class:"h-5 w-5 mr-2 text-dark-primary"})),l("span",null,H(q(i).theme==="dark"?"Light Mode":"Dark Mode"),1)])])])]),_:1})]),_:1})])]),_:1})]),_:1},8,["show"]),l("header",UJ,[w[27]||(w[27]=l("p",{class:"flex h-10 items-center justify-center bg-orange-600 dark:bg-orange-700 px-4 text-sm font-medium text-white sm:px-6 lg:px-8","aria-live":"polite"},"Free shipping on orders over KES 10,000",-1)),l("div",{class:Ie(["border-b border-light-neutral-300 dark:border-dark-neutral-600 bg-light-primary dark:bg-dark-primary shadow-sm transition-shadow duration-300",{"shadow-md":d.value}])},[l("nav",jJ,[l("div",BJ,[l("button",{type:"button",class:"relative rounded-md bg-light-primary dark:bg-transparent p-2 text-light-neutral-500 dark:text-dark-neutral-500 hover:text-light-text-primary dark:hover:text-dark-text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md lg:hidden",onClick:k,"aria-expanded":"false","aria-label":a.value?"Close menu":"Open menu"},[w[11]||(w[11]=l("span",{class:"absolute -inset-0.5"},null,-1)),w[12]||(w[12]=l("span",{class:"sr-only"},"Toggle menu",-1)),z(q(C9),{class:"size-6","aria-hidden":"true"})],8,qJ),l("div",HJ,[z(q(ft),{to:"/",class:"inline-block focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md"},{default:Z(()=>[w[13]||(w[13]=l("span",{class:"sr-only"},"Beabed Art",-1)),l("img",{src:q(fn)("images/sticky.PNG"),alt:"Beaded Art Logo",class:"h-8 w-auto"},null,8,zJ)]),_:1})]),l("div",WJ,[l("div",KJ,[z(q(ft),{to:"/products",class:Ie(["flex items-center text-sm font-medium transition-colors duration-200 border-b-2 border-transparent hover:border-accent-primary dark:hover:border-accent-primary py-2 text-light-text-primary dark:text-dark-neutral-700 hover:text-light-text-primary dark:hover:text-dark-text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md",{"border-orange-500 dark:border-orange-500 text-light-text-primary dark:text-dark-text-primary":S("/products")}]),"active-class":"border-orange-500 dark:border-orange-500 text-light-text-primary dark:text-dark-text-primary"},{default:Z(()=>w[14]||(w[14]=[ue("Shop")])),_:1},8,["class"]),z(q(ft),{to:"/about",class:Ie(["flex items-center text-sm font-medium transition-colors duration-200 border-b-2 border-transparent hover:border-accent-primary dark:hover:border-accent-primary py-2 text-light-text-primary dark:text-dark-neutral-700 hover:text-light-text-primary dark:hover:text-dark-text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md",{"border-orange-500 dark:border-orange-500 text-light-text-primary dark:text-dark-text-primary":S("/about")}]),"active-class":"border-orange-500 dark:border-orange-500 text-light-text-primary dark:text-dark-text-primary"},{default:Z(()=>w[15]||(w[15]=[ue("About Us")])),_:1},8,["class"]),z(q(ft),{to:"/contact",class:Ie(["flex items-center text-sm font-medium transition-colors duration-200 border-b-2 border-transparent hover:border-accent-primary dark:hover:border-accent-primary py-2 text-light-text-primary dark:text-dark-neutral-700 hover:text-light-text-primary dark:hover:text-dark-text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md",{"border-orange-500 dark:border-orange-500 text-light-text-primary dark:text-dark-text-primary":S("/contact")}]),"active-class":"border-orange-500 dark:border-orange-500 text-light-text-primary dark:text-dark-text-primary"},{default:Z(()=>w[16]||(w[16]=[ue("Contact")])),_:1},8,["class"])])]),l("div",GJ,[l("div",QJ,[q(n).user?(D(),mt(q(IE),{key:1,as:"div",class:"relative ml-3"},{default:Z(()=>[l("div",null,[z(q(TE),{class:"flex items-center text-sm font-medium text-light-text-primary dark:text-dark-neutral-700 hover:text-light-text-primary dark:hover:text-dark-text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md transition-colors duration-200"},{default:Z(()=>[w[18]||(w[18]=l("span",{class:"sr-only"},"Open user menu for ",-1)),ue(" "+H(q(n).user.displayName||q(n).user.email)+" ",1),z(q($9),{class:"ml-1 h-5 w-5","aria-hidden":"true"})]),_:1})]),z(zs,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:Z(()=>[z(q(AE),{class:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-light-secondary dark:bg-dark-secondary py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:Z(()=>[z(q(Wa),null,{default:Z(({active:N})=>[z(q(ft),{to:"/account",class:Ie([N?"bg-light-neutral-100 dark:bg-dark-primary":"","block px-4 py-2 text-sm text-light-text-primary dark:text-dark-text-primary"])},{default:Z(()=>w[19]||(w[19]=[ue("Account")])),_:2},1032,["class"])]),_:1}),T.value?(D(),mt(q(Wa),{key:0},{default:Z(({active:N})=>[z(q(ft),{to:"/admin",class:Ie([N?"bg-light-neutral-100 dark:bg-dark-primary":"","block px-4 py-2 text-sm text-light-text-primary dark:text-dark-text-primary"])},{default:Z(()=>w[20]||(w[20]=[ue("Shop Manager")])),_:2},1032,["class"])]),_:1})):de("",!0),T.value?(D(),mt(q(Wa),{key:1},{default:Z(({active:N})=>[z(q(ft),{to:"/admin/users",class:Ie([N?"bg-light-neutral-100 dark:bg-dark-primary":"","block px-4 py-2 text-sm text-light-text-primary dark:text-dark-text-primary"])},{default:Z(()=>w[21]||(w[21]=[ue("User Manager")])),_:2},1032,["class"])]),_:1})):de("",!0),z(q(Wa),null,{default:Z(({active:N})=>[l("button",{onClick:A,class:Ie([N?"bg-light-neutral-100 dark:bg-dark-primary":"","block w-full text-left px-4 py-2 text-sm text-light-text-primary dark:text-dark-text-primary"])},"Logout",2)]),_:1})]),_:1})]),_:1})]),_:1})):(D(),mt(q(ft),{key:0,to:"/login",class:"text-sm font-medium text-light-text-primary dark:text-dark-neutral-700 hover:text-light-text-primary dark:hover:text-dark-text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md transition-colors duration-200"},{default:Z(()=>w[17]||(w[17]=[ue("Sign in")])),_:1})),l("button",{onClick:I,class:"relative h-8 w-16 rounded-full bg-gradient-to-r from-indigo-900 via-purple-800 to-orange-300 dark:from-orange-300 dark:via-blue-400 dark:to-indigo-900 p-1 transition-all duration-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary group overflow-hidden","aria-label":"Toggle theme"},[w[24]||(w[24]=l("span",{class:"absolute inset-0 bg-gradient-to-r from-blue-500 via-purple-400 to-orange-300 dark:from-indigo-900 dark:via-purple-800 dark:to-orange-300 opacity-40 transition-opacity duration-500"},null,-1)),l("span",{class:Ie(["block h-6 w-6 rounded-full bg-white shadow-md transform transition-all duration-500 ease-in-out",q(i).theme==="dark"?"translate-x-8":"translate-x-0"])},[l("span",YJ,[q(i).theme==="dark"?(D(),mt(q(Gb),{key:0,class:"h-4 w-4 text-orange-500 absolute transition-opacity duration-300 opacity-100","aria-hidden":"true"})):(D(),mt(q(Kb),{key:1,class:"h-4 w-4 text-indigo-800 absolute transition-opacity duration-300 opacity-100","aria-hidden":"true"}))]),l("span",JJ,[q(i).theme==="dark"?(D(),V("svg",XJ,w[22]||(w[22]=[l("circle",{cx:"12",cy:"12",r:"8"},null,-1)]))):(D(),V("svg",ZJ,w[23]||(w[23]=[l("path",{d:"M17.66 8A6.46 6.46 0 0 1 12 14.53 6.46 6.46 0 0 1 6.34 8a6.46 6.46 0 0 1 5.32-5.23 6.46 6.46 0 0 1 6 5.23z",fill:"currentColor"},null,-1)])))])],2),w[25]||(w[25]=l("span",{class:"absolute inset-0 flex items-center opacity-20 pointer-events-none"},[l("span",{class:"h-1 w-1 rounded-full bg-white absolute left-3 top-2 animate-twinkle-1"}),l("span",{class:"h-1 w-1 rounded-full bg-white absolute left-5 top-4 animate-twinkle-2"}),l("span",{class:"h-1 w-1 rounded-full bg-white absolute right-3 top-1 animate-twinkle-3"})],-1))])]),l("div",eX,[l("button",{onClick:_,class:"group -m-2 flex items-center p-2 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md relative","aria-label":"View notifications"},[z(q(P9),{class:"size-6 shrink-0 text-light-neutral-500 dark:text-dark-neutral-500 group-hover:text-accent-primary dark:group-hover:text-accent-primary","aria-hidden":"true"}),f.value>0?(D(),V("span",tX,H(f.value),1)):de("",!0)])]),l("div",rX,[z(q(ft),{to:"/cart",class:"group -m-2 flex items-center p-2 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md relative"},{default:Z(()=>[z(q(pu),{class:"size-6 shrink-0 text-light-neutral-500 dark:text-dark-neutral-500 group-hover:text-accent-primary dark:group-hover:text-accent-primary","aria-hidden":"true"}),h.value>0?(D(),V("span",nX,H(h.value),1)):de("",!0),w[26]||(w[26]=l("span",{class:"sr-only"},"items in cart, view bag",-1))]),_:1})])])])])],2)]),z(zs,{"enter-active-class":"transition ease-out duration-300","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-200","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:Z(()=>[c.value?(D(),V("div",sX,[w[29]||(w[29]=l("div",{class:"px-4 py-2 border-b border-light-neutral-300 dark:border-dark-neutral-600"},[l("h3",{class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary"},"Notifications")],-1)),l("div",iX,[q(o).userNotifications.length===0?(D(),V("div",oX," You have no notifications. ")):(D(),V("div",aX,[(D(!0),V(_e,null,Ve(q(o).userNotifications,N=>(D(),V("div",{key:N.id,class:Ie(["px-4 py-3",N.read?"bg-light-primary dark:bg-dark-primary":"bg-light-neutral-50 dark:bg-dark-primary"])},[l("div",lX,[l("div",cX,[(D(),mt(xd(p[N.type]||p.info),{class:Ie(["h-5 w-5",y[N.type]||y.info]),"aria-hidden":"true"},null,8,["class"]))]),l("div",uX,[l("p",dX,H(N.title),1),l("p",hX,H(N.message),1),l("p",fX,H(R(N.createdAt)),1)]),l("div",pX,[l("button",{onClick:C=>E(N),type:"button",class:"text-light-text-secondary dark:text-dark-neutral-700 hover:text-light-text-primary dark:hover:text-dark-text-primary"},[N.read?(D(),V("span",yX,"Mark as unread")):(D(),V("span",gX,"Mark as read"))],8,mX)])])],2))),128))]))]),l("div",vX,[z(q(ft),{to:"/account/notifications",class:"text-sm text-orange-600 hover:text-orange-700",onClick:w[1]||(w[1]=N=>c.value=!1)},{default:Z(()=>w[28]||(w[28]=[ue(" View all notifications ")])),_:1})])])):de("",!0)]),_:1})]))}},xX={class:"bg-light-secondary dark:bg-dark-secondary py-10 mt-auto border-t border-light-neutral-200 dark:border-dark-neutral-600 transition-colors duration-200"},_X={class:"container mx-auto px-4"},kX={class:"grid grid-cols-1 md:grid-cols-4 gap-8"},wX={class:"flex items-center mb-4"},EX=["src"],IX={class:"space-y-2"},TX={class:"space-y-2"},AX={class:"mt-10 pt-8 border-t border-light-neutral-200 dark:border-dark-neutral-600 text-center"},SX={class:"text-sm text-light-neutral-600 dark:text-dark-neutral-600"},CX={class:"mt-2 flex justify-center space-x-6 text-xs"},PX={__name:"TheFooter",setup(t){return(e,r)=>(D(),V("footer",xX,[l("div",_X,[l("div",kX,[l("div",null,[l("div",wX,[l("img",{src:q(fn)("images/sticky.PNG"),alt:"Kreative Kanvas Logo",class:"h-16 w-auto mr-2"},null,8,EX)]),r[0]||(r[0]=l("p",{class:"text-sm text-light-text-secondary dark:text-dark-neutral-700 leading-relaxed"}," Exquisite handcrafted jewelry for every occasion. Quality materials, timeless designs that capture your unique style. ",-1))]),l("div",null,[r[6]||(r[6]=l("h3",{class:"font-bold text-lg mb-4 text-light-text-primary dark:text-dark-text-primary border-b-2 border-orange-500 dark:border-orange-500 inline-block pb-1"},"Shop",-1)),l("ul",IX,[l("li",null,[z(q(ft),{to:"/products",class:"text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},{default:Z(()=>r[1]||(r[1]=[ue("All Products")])),_:1})]),l("li",null,[z(q(ft),{to:"/products?category=rings",class:"text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},{default:Z(()=>r[2]||(r[2]=[ue("Rings")])),_:1})]),l("li",null,[z(q(ft),{to:"/products?category=necklaces",class:"text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},{default:Z(()=>r[3]||(r[3]=[ue("Necklaces")])),_:1})]),l("li",null,[z(q(ft),{to:"/products?category=bracelets",class:"text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},{default:Z(()=>r[4]||(r[4]=[ue("Bracelets")])),_:1})]),l("li",null,[z(q(ft),{to:"/products?category=earrings",class:"text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},{default:Z(()=>r[5]||(r[5]=[ue("Earrings")])),_:1})])])]),l("div",null,[r[11]||(r[11]=l("h3",{class:"font-bold text-lg mb-4 text-light-text-primary dark:text-dark-text-primary border-b-2 border-orange-500 dark:border-orange-500 inline-block pb-1"},"Customer Service",-1)),l("ul",TX,[l("li",null,[z(q(ft),{to:"/contact",class:"text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},{default:Z(()=>r[7]||(r[7]=[ue("Contact Us")])),_:1})]),l("li",null,[z(q(ft),{to:"/shipping-policy",class:"text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},{default:Z(()=>r[8]||(r[8]=[ue("Shipping Policy")])),_:1})]),l("li",null,[z(q(ft),{to:"/returns-exchanges",class:"text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},{default:Z(()=>r[9]||(r[9]=[ue("Returns & Exchanges")])),_:1})]),l("li",null,[z(q(ft),{to:"/faqs",class:"text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},{default:Z(()=>r[10]||(r[10]=[ue("FAQs")])),_:1})])])]),r[12]||(r[12]=dt('<div><h3 class="font-bold text-lg mb-4 text-light-text-primary dark:text-dark-text-primary border-b-2 border-orange-500 dark:border-orange-500 inline-block pb-1">Connect With Us</h3><div class="flex space-x-4 mb-4"><a href="#" class="text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"><span class="sr-only">Facebook</span><svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z" clip-rule="evenodd"></path></svg></a><a href="#" class="text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"><span class="sr-only">Instagram</span><svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465.66.254 1.216.598 1.772 1.153a4.974 4.974 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.974 4.974 0 01-1.153 1.772 4.974 4.974 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.974 4.974 0 01-1.772-1.153 4.974 4.974 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.974 4.974 0 011.153-1.772A4.974 4.974 0 015.45 3.525c.636-.247 1.363-.416 2.427-.465C8.901 3.013 9.256 3 11.685 3h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z" clip-rule="evenodd"></path></svg></a><a href="#" class="text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"><span class="sr-only">Twitter</span><svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"></path></svg></a></div><div class="text-sm text-light-text-secondary dark:text-dark-neutral-700 space-y-1"><p>Kitengela</p><p>Nairobi Kenya, Kitengela</p><p class="mt-2">hello@kreativekanvas.shop</p><p>+2547 4141 4261</p></div></div>',1))]),l("div",AX,[l("p",SX,"© "+H(new Date().getFullYear())+" Sticky Kreation . All rights reserved.",1),l("div",CX,[z(q(ft),{to:"/privacy-policy",class:"text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},{default:Z(()=>r[13]||(r[13]=[ue("Privacy Policy")])),_:1}),r[14]||(r[14]=l("a",{href:"#",class:"text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},"Terms of Service",-1)),r[15]||(r[15]=l("a",{href:"#",class:"text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},"Cookie Policy",-1)),r[16]||(r[16]=l("a",{href:"#",class:"text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},"Accessibility",-1))])])])]))}};function RX(t,e){return D(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z","clip-rule":"evenodd"})])}function NX(t,e){return D(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z","clip-rule":"evenodd"})])}function $X(t,e){return D(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"fill-rule":"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z","clip-rule":"evenodd"})])}function OX(t,e){return D(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 0 1 .67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 1 1-.671-1.34l.041-.022ZM12 9a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z","clip-rule":"evenodd"})])}const DX={class:"shrink-0"},MX={class:"flex-1"},VX={key:0,class:"font-medium"},LX={class:"text-sm"},FX={__name:"NotificationItem",props:{notification:{type:Object,required:!0},index:{type:Number,required:!0}},emits:["close"],setup(t,{emit:e}){const r=t,n=e,s=B(!1),i={success:RX,error:NX,info:OX,warning:$X},o={success:"bg-green-50 text-green-800",error:"bg-red-50 text-red-800",info:"bg-blue-50 text-blue-800",warning:"bg-yellow-50 text-yellow-800"},a=()=>{s.value=!0,setTimeout(()=>{n("close",r.notification.id)},300)};return je(()=>{r.notification.timeout&&setTimeout(()=>{a()},r.notification.timeout)}),(c,d)=>(D(),V("div",{class:Ie(["fixed w-72 p-4 rounded-lg shadow-lg transform transition-all duration-300","right-4 flex items-center gap-3",o[t.notification.type]||o.info,{"opacity-0 translate-x-full":s.value}]),style:Ct({top:`${4+t.index*5}rem`})},[l("div",DX,[(D(),mt(xd(i[t.notification.type]||i.info),{class:"h-5 w-5"}))]),l("div",MX,[t.notification.title?(D(),V("p",VX,H(t.notification.title),1)):de("",!0),l("p",LX,H(t.notification.message),1)]),l("button",{onClick:a,class:"text-sm font-medium hover:opacity-75"}," ✕ ")],6))}},UX={class:"fixed top-0 right-0 z-50 pointer-events-none"},jX={class:"pointer-events-auto"},BX={__name:"NotificationContainer",setup(t){const e=en(),{notifications:r}=L5(e),{removeNotification:n}=e;return(s,i)=>(D(),V("div",UX,[l("div",jX,[(D(!0),V(_e,null,Ve(q(r),(o,a)=>(D(),mt(FX,{key:o.id,notification:o,index:a,onClose:q(n)},null,8,["notification","index","onClose"]))),128))])]))}},qX={class:"min-h-screen flex flex-col bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary transition-colors duration-200"},HX={class:"flex-grow"},zX={id:"cookie-consent-banner",class:"hidden fixed bottom-0 left-0 right-0 p-4 bg-black bg-opacity-90 text-white z-50 text-center"},WX={class:"max-w-7xl mx-auto flex justify-between items-center flex-wrap"},KX={class:"flex-grow mr-4 text-left"},GX={class:"text-sm"},QX={class:"space-y-4 text-gray-800 dark:text-white"},YX={class:"flex items-center justify-between"},JX={class:"relative inline-block w-10 align-middle cursor-pointer"},XX={class:"flex items-center justify-between"},ZX={class:"relative inline-block w-10 align-middle cursor-pointer"},eZ={class:"flex items-center justify-between"},tZ={class:"relative inline-block w-10 align-middle cursor-pointer"},rZ={class:"flex justify-end space-x-2"},nZ={__name:"App",setup(t){const e=wm(),r=Hi(),n=wn(),s=B(!1),i=Yr({necessary:!0,functional:!1,analytics:!1,marketing:!1,lastUpdated:null});je(async()=>{e.theme==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");try{await Ue.seedDefaultAdmin()}catch(b){console.error("Failed to seed default admin:",b)}Qk(r,async b=>{b?await n.restoreSession(b):n.logout()}),document.addEventListener("click",b=>{const I=b.target.closest("a");I&&I.href&&(I.href.includes(window.location.origin+"/")||I.getAttribute("href")==="/")&&(window.__navIsUserAction=!0,console.log("User clicked a link:",I.href),setTimeout(()=>{window.__navIsUserAction=!1},500))}),document.addEventListener("click",b=>{b.target.closest('a[href="/"]')&&(console.log("User clicked home link, marking as user action"),window.__navIsUserAction=!0)}),o()});function o(){const b=localStorage.getItem("cookieConsent");if(b)try{if(b==="accepted"||b==="declined")b==="accepted"&&(i.functional=!0,i.analytics=!0,i.marketing=!0,i.lastUpdated=new Date().toISOString(),localStorage.setItem("cookieConsent",JSON.stringify(i)),k(),_());else{const I=JSON.parse(b);Object.assign(i,I),I.analytics&&k(),I.marketing&&_()}}catch(I){console.error("Error parsing saved cookie consent:",I),a()}else a()}function a(){const b=document.getElementById("cookie-consent-banner");b&&b.classList.remove("hidden")}function c(){const b=document.getElementById("cookie-consent-banner");b&&b.classList.add("hidden")}function d(){s.value=!0}async function h(){i.functional=!0,i.analytics=!0,i.marketing=!0,i.lastUpdated=new Date().toISOString(),localStorage.setItem("cookieConsent",JSON.stringify(i)),c(),k(),_(),await y("accept_all"),console.log("All cookies accepted")}async function f(){i.functional=!1,i.analytics=!1,i.marketing=!1,i.lastUpdated=new Date().toISOString(),localStorage.setItem("cookieConsent",JSON.stringify(i)),c(),await y("decline_all"),console.log("Cookies declined")}async function p(){i.lastUpdated=new Date().toISOString(),localStorage.setItem("cookieConsent",JSON.stringify(i)),s.value=!1,c(),i.analytics&&k(),i.marketing&&_(),await y("custom_preferences"),console.log("Cookie preferences saved",i)}async function y(b){try{const A=Hi().currentUser,E={...i,consentType:b,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,language:navigator.language};A?await Ue.recordUserCookieConsent(A.uid,E):localStorage.setItem("cookieConsentDetails",JSON.stringify(E))}catch(I){console.error("Error saving consent to Firebase:",I)}}function k(){console.log("Analytics initialized based on consent")}function _(){console.log("Marketing cookies initialized based on consent")}return(b,I)=>{const A=Rr("RouterView"),E=Rr("RouterLink");return D(),V("div",qX,[z(bX),l("main",HX,[z(A)]),z(PX),z(BX),l("div",zX,[l("div",WX,[l("div",KX,[I[7]||(I[7]=l("h3",{class:"text-lg font-bold"},"Cookie Notice",-1)),l("p",GX,[I[6]||(I[6]=ue("This website uses cookies to ensure you get the best experience. By continuing to use this site, you consent to our use of cookies. ")),z(E,{to:"/privacy-policy",class:"text-orange-400 hover:text-orange-300"},{default:Z(()=>I[5]||(I[5]=[ue("Learn more")])),_:1})])]),l("div",{class:"flex gap-3"},[l("button",{id:"cookie-preferences",onClick:d,class:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white font-bold rounded transition-colors"},"Preferences"),l("button",{id:"accept-cookies",onClick:h,class:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white font-bold rounded transition-colors"},"Accept All"),l("button",{id:"decline-cookies",onClick:f,class:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold rounded transition-colors"},"Decline")])])]),z(ME,{show:s.value,title:"Cookie Preferences",onClose:I[4]||(I[4]=R=>s.value=!1)},{footer:Z(()=>[l("div",rZ,[l("button",{onClick:I[3]||(I[3]=R=>s.value=!1),class:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold rounded"},"Cancel"),l("button",{onClick:p,class:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white font-bold rounded"},"Save Preferences")])]),default:Z(()=>[l("div",QX,[I[11]||(I[11]=l("div",{class:"flex items-center justify-between"},[l("div",null,[l("p",{class:"font-bold"},"Necessary Cookies"),l("p",{class:"text-sm text-gray-700 dark:text-gray-300"},"Required for the website to function properly")]),l("div",{class:"relative inline-block w-10 align-middle"},[l("input",{type:"checkbox",class:"toggle-checkbox absolute w-6 h-6 rounded-full bg-white appearance-none cursor-not-allowed",disabled:"",checked:""}),l("div",{class:"toggle-bg block h-6 w-10 rounded-full bg-green-500"})])],-1)),l("div",YX,[I[8]||(I[8]=l("div",null,[l("p",{class:"font-bold"},"Functional Cookies"),l("p",{class:"text-sm text-gray-700 dark:text-gray-300"},"Enable enhanced functionality and personalization")],-1)),l("label",JX,[xe(l("input",{type:"checkbox","onUpdate:modelValue":I[0]||(I[0]=R=>i.functional=R),class:"toggle-checkbox absolute w-6 h-6 rounded-full bg-white appearance-none cursor-pointer"},null,512),[[os,i.functional]]),l("div",{class:Ie(["toggle-bg block h-6 w-10 rounded-full",i.functional?"bg-green-500":"bg-gray-300"])},null,2)])]),l("div",XX,[I[9]||(I[9]=l("div",null,[l("p",{class:"font-bold"},"Analytics Cookies"),l("p",{class:"text-sm text-gray-700 dark:text-gray-300"},"Help us improve by tracking site usage")],-1)),l("label",ZX,[xe(l("input",{type:"checkbox","onUpdate:modelValue":I[1]||(I[1]=R=>i.analytics=R),class:"toggle-checkbox absolute w-6 h-6 rounded-full bg-white appearance-none cursor-pointer"},null,512),[[os,i.analytics]]),l("div",{class:Ie(["toggle-bg block h-6 w-10 rounded-full",i.analytics?"bg-green-500":"bg-gray-300"])},null,2)])]),l("div",eZ,[I[10]||(I[10]=l("div",null,[l("p",{class:"font-bold"},"Marketing Cookies"),l("p",{class:"text-sm text-gray-700 dark:text-gray-300"},"Used for advertising and content personalization")],-1)),l("label",tZ,[xe(l("input",{type:"checkbox","onUpdate:modelValue":I[2]||(I[2]=R=>i.marketing=R),class:"toggle-checkbox absolute w-6 h-6 rounded-full bg-white appearance-none cursor-pointer"},null,512),[[os,i.marketing]]),l("div",{class:Ie(["toggle-bg block h-6 w-10 rounded-full",i.marketing?"bg-green-500":"bg-gray-300"])},null,2)])])])]),_:1},8,["show"])])}}};function sZ(){return"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiB2aWV3Qm94PSIwIDAgMjAwIDIwMCI+CiAgPHJlY3QgZmlsbD0iI2YwZjBmMCIgd2lkdGg9IjIwMCIgaGVpZ2h0PSIyMDAiLz4KICA8dGV4dCBmaWxsPSIjODg4ODg4IiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMjAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjEwMCIgeT0iMTA1Ij5JbWFnZSBOb3QgRm91bmQ8L3RleHQ+CiAgPGcgc3Ryb2tlPSIjODg4ODg4IiBzdHJva2Utd2lkdGg9IjIiPgogICAgPHJlY3QgeD0iNjAiIHk9IjUwIiB3aWR0aD0iODAiIGhlaWdodD0iNjAiIGZpbGw9Im5vbmUiLz4KICAgIDxsaW5lIHgxPSI2MCIgeTE9IjUwIiB4Mj0iMTQwIiB5Mj0iMTEwIi8+CiAgICA8bGluZSB4MT0iMTQwIiB5MT0iNTAiIHgyPSI2MCIgeTI9IjExMCIvPgogIDwvZz4KPC9zdmc+"}const iZ={mounted(t){t.onerror=()=>{t.src=sZ(),t.onerror=null}}},ph=Pu(nZ),oZ=N5();ph.use(oZ);ph.use(oa);ph.directive("img-fallback",iZ);const aZ=()=>{const t=sessionStorage.getItem("spaNavTimestamp"),e=sessionStorage.getItem("spaPath"),r=sessionStorage.getItem("spaSearch")||"",n=sessionStorage.getItem("spaHash")||"";if(!(!e||!t)&&(console.log(`SPA Navigation: Found saved path ${e}${r}${n}`),sessionStorage.removeItem("spaNavTimestamp"),sessionStorage.removeItem("spaPath"),sessionStorage.removeItem("spaSearch"),sessionStorage.removeItem("spaHash"),Date.now()-parseInt(t)<6e4)){const s=e+r+n;window.location.pathname!==e&&(console.log(`SPA Navigation: Redirecting to ${s}`),oa.replace(s).catch(i=>{console.error("SPA Navigation error:",i)}))}},lZ=async()=>{const t=wn();console.log("Starting app initialization");try{const e=await t.initAuth();console.log(`Auth initialization complete: ${e?"User loaded":"No user"}`)}catch(e){console.error("Auth initialization error:",e)}await oa.isReady(),console.log("Router is ready"),ph.mount("#app"),console.log("App mounted"),setTimeout(()=>{aZ()},50)};lZ().catch(t=>{console.error("App initialization error:",t)});export{Fl as A,fh as B,dt as C,Od as D,_e as F,ft as R,jr as _,en as a,l as b,V as c,de as d,q as e,z as f,L9 as g,xe as h,Ln as i,Ve as j,D as k,te as l,Z as m,Ie as n,je as o,ue as p,P9 as q,B as r,mt as s,H as t,wn as u,Pe as v,Rt as w,xd as x,j9 as y,V9 as z};
//# sourceMappingURL=index-CaN28Ebd.js.map
