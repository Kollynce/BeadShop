{"version":3,"file":"AdminProductForm-XDQj9t0Q.js","sources":["../../src/views/AdminProductForm.vue"],"sourcesContent":["<template>\n  <div class=\"admin-product-form container mx-auto px-4 py-8 bg-light-primary dark:bg-dark-primary min-h-screen\">\n    <div class=\"flex justify-between items-center mb-6\">\n      <h1 class=\"text-2xl font-bold text-light-text-primary dark:text-dark-text-primary\">{{ isEditMode ? 'Edit Product' : 'Add New Product' }}</h1>\n      <router-link \n        to=\"/admin/products\" \n        class=\"text-light-text-secondary dark:text-dark-text-secondary hover:text-accent-primary dark:hover:text-accent-primary transition-colors\"\n      >\n        Back to Products\n      </router-link>\n    </div>\n\n    <div class=\"bg-light-secondary dark:bg-dark-secondary rounded-lg shadow-md p-6 mb-6 border border-light-neutral-300 dark:border-dark-neutral-700\">\n      <form @submit.prevent=\"saveProduct\">\n        <!-- Basic Information -->\n        <div class=\"mb-6\">\n          <h2 class=\"text-lg font-semibold mb-4 text-light-text-primary dark:text-dark-text-primary\">Basic Information</h2>\n          <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <label for=\"name\" class=\"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1\">Product Name</label>\n              <input \n                type=\"text\" \n                id=\"name\" \n                v-model=\"product.name\" \n                required\n                class=\"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary\"\n              >\n            </div>\n            \n            <div>\n              <label for=\"category\" class=\"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1\">Category</label>\n              <select \n                id=\"category\" \n                v-model=\"product.category\" \n                required\n                class=\"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary\"\n              >\n                <option value=\"\">Select a category</option>\n                <option value=\"Beaded Jewelry\">Beaded Jewelry</option>\n                <option value=\"String Jewelry\">String Jewelry</option>\n                <option value=\"Metal Jewelry\">Metal Jewelry</option>\n                <option value=\"Gemstones\">Gemstones</option>\n                <option value=\"Earrings\">Earrings</option>\n                <option value=\"Necklaces\">Necklaces</option>\n                <option value=\"Bracelets\">Bracelets</option>\n                <option value=\"Rings\">Rings</option>\n                <option value=\"Other\">Other</option>\n              </select>\n            </div>\n            \n            <div>\n              <label for=\"price\" class=\"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1\">Price (KES)</label>\n              <input \n                type=\"number\" \n                id=\"price\" \n                v-model.number=\"product.price\" \n                min=\"0.01\" \n                step=\"0.01\"\n                required\n                class=\"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary\"\n              >\n            </div>\n            \n            <div>\n              <label for=\"stock\" class=\"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1\">Stock Quantity</label>\n              <input \n                type=\"number\" \n                id=\"stock\" \n                v-model.number=\"product.stock\" \n                min=\"0\" \n                required\n                class=\"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary\"\n              >\n            </div>\n          </div>\n        </div>\n        \n        <!-- Description -->\n        <div class=\"mb-6\">\n          <label for=\"description\" class=\"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1\">Description</label>\n          <textarea \n            id=\"description\" \n            v-model=\"product.description\" \n            rows=\"4\"\n            required\n            class=\"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary resize-y\"\n          ></textarea>\n        </div>\n        \n        <!-- Images -->\n        <div class=\"mb-6\">\n          <h2 class=\"text-lg font-semibold mb-4 text-light-text-primary dark:text-dark-text-primary\">Product Images</h2>\n          <div class=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4\">\n            <div \n              v-for=\"(image, index) in product.images\" \n              :key=\"index\"\n              class=\"relative border border-light-neutral-300 dark:border-dark-neutral-600 rounded p-2 bg-light-primary dark:bg-dark-primary\"\n            >\n              <img \n                :src=\"getImageSrc(image)\" \n                class=\"w-full h-32 object-cover rounded\" \n                alt=\"Product image\"\n              >\n              <button \n                type=\"button\"\n                @click=\"removeImage(index)\" \n                class=\"absolute top-1 right-1 bg-orange-600 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-orange-700 transition-colors\"\n              >\n                ×\n              </button>\n            </div>\n            \n            <div class=\"border border-dashed border-light-neutral-400 dark:border-dark-neutral-500 rounded-lg p-4 flex flex-col items-center justify-center min-h-[8rem] bg-light-neutral-100/50 dark:bg-dark-neutral-800/50\">\n              <div class=\"mb-2 w-full\">\n                <label class=\"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1\">Upload Image</label>\n                <input \n                  type=\"file\" \n                  id=\"image-upload\"\n                  @change=\"handleFileUpload\"\n                  accept=\"image/*\"\n                  class=\"w-full mb-2 text-sm text-light-text-primary dark:text-dark-text-primary\"\n                />\n                <div class=\"text-sm text-light-neutral-500 dark:text-dark-neutral-400 mb-2 text-center\">-- OR --</div>\n                <label class=\"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1\">Enter Image URL</label>\n                <input \n                  type=\"url\" \n                  v-model=\"newImageUrl\" \n                  placeholder=\"Enter image URL\"\n                  class=\"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded mb-2 bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary\"\n                >\n                <div class=\"flex justify-center\">\n                  <button \n                    type=\"button\"\n                    @click=\"addImage\" \n                    class=\"bg-accent-quaternary hover:bg-accent-quaternary/90 text-white py-1 px-3 rounded-btn shadow-btn hover:shadow-btn-hover transition-all\"\n                    :disabled=\"isUploading || !newImageUrl.trim()\"\n                  >\n                    Add URL\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          <!-- Upload progress/status -->\n          <div v-if=\"isUploading\" class=\"mt-2 bg-accent-quaternary/10 text-accent-quaternary px-4 py-2 rounded border border-accent-quaternary/20\">\n            <div class=\"flex items-center\">\n              <span class=\"inline-block animate-spin mr-2\">⟳</span>\n              <span>{{ uploadStatus }}</span>\n            </div>\n          </div>\n          \n          <p class=\"text-sm text-light-text-secondary dark:text-dark-text-secondary mt-2\">\n            Add at least one product image. For best results, use images with a 1:1 aspect ratio.\n            <br>\n            <span class=\"text-accent-tertiary dark:text-accent-tertiary font-medium\">High-resolution images will be automatically resized to optimize performance.</span>\n          </p>\n        </div>\n        \n        <!-- Additional Details -->\n        <div class=\"mb-6\">\n          <h2 class=\"text-lg font-semibold mb-4 text-light-text-primary dark:text-dark-text-primary\">Additional Details</h2>\n          <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <div>\n              <label for=\"materials\" class=\"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1\">Materials</label>\n              <input \n                type=\"text\" \n                id=\"materials\" \n                v-model=\"product.materials\" \n                placeholder=\"e.g. Sterling silver, glass beads, etc.\"\n                class=\"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary\"\n              >\n            </div>\n            \n            <div>\n              <label for=\"dimensions\" class=\"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1\">Dimensions</label>\n              <input \n                type=\"text\" \n                id=\"dimensions\" \n                v-model=\"product.dimensions\" \n                placeholder=\"e.g. 18 inches, 2.5cm diameter, etc.\"\n                class=\"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary\"\n              >\n            </div>\n          </div>\n          \n          <div class=\"mt-4\">\n            <div class=\"flex items-center\">\n              <input \n                type=\"checkbox\" \n                id=\"featured\" \n                v-model=\"product.featured\"\n                class=\"h-4 w-4 text-accent-primary focus:ring-accent-primary border-light-neutral-300 dark:border-dark-neutral-600 rounded\"\n              >\n              <label for=\"featured\" class=\"ml-2 block text-sm text-light-text-primary dark:text-dark-text-primary\">\n                Featured product (display on homepage)\n              </label>\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"border-t border-light-neutral-300 dark:border-dark-neutral-700 pt-6 flex justify-end space-x-4\">\n          <button \n            type=\"button\" \n            @click=\"$router.go(-1)\" \n            class=\"py-2 px-4 border border-light-neutral-300 dark:border-dark-neutral-600 rounded-btn shadow-btn text-sm font-medium text-light-text-primary dark:text-dark-text-primary hover:bg-light-neutral-100 dark:hover:bg-dark-neutral-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent-primary transition-all\"\n          >\n            Cancel\n          </button>\n          <button \n            type=\"submit\" \n            class=\"py-2 px-4 border border-transparent rounded-btn shadow-btn text-sm font-medium text-white bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-btn-primary transition-all\"\n            :disabled=\"isSaving\"\n          >\n            {{ isSaving ? 'Saving...' : 'Save Product' }}\n          </button>\n        </div>\n      </form>\n    </div>\n\n    <!-- Error Alert -->\n    <div v-if=\"error\" class=\"bg-orange-100 dark:bg-orange-900/30 border border-orange-400 dark:border-orange-700 text-orange-700 dark:text-orange-400 px-4 py-3 rounded mb-4 relative\">\n      <strong class=\"font-bold mr-1\">Error:</strong>\n      <span class=\"block sm:inline\">{{ error }}</span>\n      <span \n        class=\"absolute top-0 bottom-0 right-0 px-4 py-3 cursor-pointer\" \n        @click=\"error = null\"\n      >\n        <span class=\"text-xl\">&times;</span>\n      </span>\n    </div>\n    \n    <!-- Warning for temporary images -->\n    <div v-if=\"hasTempImages\" class=\"bg-accent-primary/10 dark:bg-accent-primary/20 border border-accent-primary/30 dark:border-accent-primary/30 text-light-text-primary dark:text-dark-text-primary px-4 py-3 rounded mb-4\">\n      <strong class=\"font-bold\">Warning:</strong>\n      <span class=\"block sm:inline\">\n        Some images are temporarily stored locally due to CORS restrictions.\n        They will be lost if you refresh the page. Please check the CORS settings for your Firebase Storage.\n      </span>\n    </div>\n\n    <!-- Size warning -->\n    <div v-if=\"showSizeWarning\" class=\"bg-accent-primary/10 dark:bg-accent-primary/20 border border-accent-primary/30 dark:border-accent-primary/30 text-light-text-primary dark:text-dark-text-primary px-4 py-3 rounded mb-4\">\n      <strong class=\"font-bold\">Warning:</strong>\n      <span class=\"block sm:inline\">\n        Some uploaded images may be stored as base64 strings in the database, which has size limitations.\n        Very large images may cause problems when saving the product.\n      </span>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted, watch, onBeforeUnmount } from 'vue';\nimport { useRouter, useRoute } from 'vue-router';\nimport { firebaseService } from '../services/firebaseService';\nimport { formatCurrency } from '@/utils/currency';\n\nconst router = useRouter();\nconst route = useRoute();\n\nconst productId = computed(() => route.params.id);\nconst isEditMode = computed(() => !!productId.value);\n\nconst product = ref({\n  name: '',\n  category: '',\n  description: '',\n  price: 0,\n  stock: 1,\n  images: [],\n  featured: false,\n  materials: '',\n  dimensions: ''\n});\n\nconst newImageUrl = ref('');\nconst isSaving = ref(false);\nconst isUploading = ref(false);\nconst error = ref(null);\nconst showSizeWarning = ref(false);\nconst formKey = computed(() => isEditMode.value ? `product_edit_${productId.value}` : 'product_new');\nconst uploadStatus = ref('Processing image...');\n\nconst hasTempImages = computed(() => {\n  return product.value.images.some(img => img.startsWith('temp://'));\n});\n\n// Load product data from server or localStorage\nonMounted(async () => {\n  if (isEditMode.value) {\n    try {\n      const productData = await firebaseService.getProduct(productId.value);\n      if (productData) {\n        product.value = { ...productData };\n      } else {\n        console.error('Product not found');\n        router.push('/admin/products');\n      }\n    } catch (err) {\n      console.error('Error loading product:', err);\n      error.value = 'Failed to load product';\n    }\n  } else {\n    // For new products, try to load data from localStorage\n    const savedForm = localStorage.getItem(formKey.value);\n    if (savedForm) {\n      try {\n        product.value = JSON.parse(savedForm);\n      } catch (err) {\n        console.error('Error parsing saved form data:', err);\n      }\n    }\n  }\n});\n\n// Save form data to localStorage when it changes\nwatch(() => product.value, (newValue) => {\n  localStorage.setItem(formKey.value, JSON.stringify(newValue));\n}, { deep: true });\n\n// Clean up localStorage when component unmounts after successful save\nonBeforeUnmount(() => {\n  // Only keep localStorage if there was an error (form not successfully submitted)\n  if (!error.value && !isSaving.value) {\n    localStorage.removeItem(formKey.value);\n  }\n});\n\nconst addImage = () => {\n  if (newImageUrl.value.trim()) {\n    product.value.images.push(newImageUrl.value.trim());\n    newImageUrl.value = '';\n  }\n};\n\nconst removeImage = (index) => {\n  product.value.images.splice(index, 1);\n};\n\n// Convert any base64 or temp URLs to displayable images\nconst getImageSrc = (url) => {\n  if (url.startsWith('base64://')) {\n    return url.replace('base64://', '');\n  } else if (url.startsWith('temp://')) {\n    return url.replace('temp://', '');\n  }\n  return url;\n};\n\n// Handle file upload with better error handling and resize feedback\nconst handleFileUpload = async (event) => {\n  const file = event.target.files[0];\n  if (!file) return;\n\n  // Validate file type\n  if (!file.type.match('image.*')) {\n    error.value = 'Please select an image file';\n    return;\n  }\n  \n  isUploading.value = true;\n  error.value = null;\n\n  try {\n    // Check original file size and update status accordingly\n    const fileSizeMB = (file.size / (1024 * 1024)).toFixed(2);\n    \n    if (file.size > 1024 * 1024) { // Larger than 1MB\n      uploadStatus.value = `Resizing ${fileSizeMB}MB image for optimal performance...`;\n    } else {\n      uploadStatus.value = `Processing ${fileSizeMB}MB image...`;\n    }\n    \n    // Process file - will be converted to base64\n    const imageUrl = await firebaseService.uploadProductImage(file);\n    product.value.images.push(imageUrl);\n    \n    // Show size warning if we're storing base64 data\n    if (imageUrl.startsWith('base64://')) {\n      showSizeWarning.value = true;\n    }\n    \n    // Reset file input\n    event.target.value = '';\n  } catch (err) {\n    console.error('Error processing image:', err);\n    error.value = `Failed to process image: ${err.message || 'Unknown error'}`;\n  } finally {\n    isUploading.value = false;\n  }\n};\n\n// Modified saveProduct to handle different image types\nconst saveProduct = async () => {\n  isSaving.value = true;\n  error.value = null;\n  \n  try {\n    // Validate form\n    if (!product.value.name || !product.value.category || !product.value.description || product.value.images.length === 0) {\n      throw new Error('Please fill out all required fields and add at least one image');\n    }\n    \n    // Check total size of base64 images\n    const base64Images = product.value.images.filter(img => img.startsWith('base64://'));\n    if (base64Images.length > 0) {\n      // Calculate approximate size of all base64 strings\n      const totalBase64Size = base64Images.reduce((size, img) => size + img.length, 0);\n      const approxSizeInKB = totalBase64Size / 1024;\n      \n      // Warn if total size exceeds 700KB (to stay well under Firestore's 1MB limit)\n      if (approxSizeInKB > 700) {\n        if (!confirm(`Warning: Your product has approximately ${approxSizeInKB.toFixed(0)}KB of image data, which is approaching Firestore's limit. Continue anyway?`)) {\n          isSaving.value = false;\n          return;\n        }\n      }\n    }\n    \n    // Proceed with saving\n    if (isEditMode.value) {\n      await firebaseService.updateProduct(productId.value, product.value);\n    } else {\n      await firebaseService.createProduct(product.value);\n    }\n    \n    // Clear localStorage after successful save\n    localStorage.removeItem(formKey.value);\n    router.push('/admin/products');\n  } catch (err) {\n    console.error('Error saving product:', err);\n    error.value = err.message;\n  } finally {\n    isSaving.value = false;\n  }\n};\n</script>\n\n<style scoped>\n.admin-product-form {\n  min-height: 80vh;\n}\n</style>"],"names":["router","useRouter","route","useRoute","productId","computed","isEditMode","product","ref","newImageUrl","isSaving","isUploading","error","showSizeWarning","formKey","uploadStatus","hasTempImages","img","onMounted","productData","firebaseService","err","savedForm","watch","newValue","onBeforeUnmount","addImage","removeImage","index","getImageSrc","url","handleFileUpload","event","file","fileSizeMB","imageUrl","saveProduct","base64Images","approxSizeInKB","size"],"mappings":"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"}