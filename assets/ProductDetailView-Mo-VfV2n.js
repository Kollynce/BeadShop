import{_ as F,u as R,r as m,d as H,e as q,A as z,c as o,a as e,h as j,w as D,t as i,i as C,F as h,j as k,g as $,B as L,C as J,f as O,D as y,E as W,H as Q,I as G,o as n,v as A,y as B,J as K}from"./index-CuOswql7.js";const X={class:"container mx-auto p-4 bg-light-primary dark:bg-dark-primary"},Y={class:"text-sm mb-6"},Z={class:"flex items-center space-x-2"},ee={class:"text-accent-primary font-medium"},te={key:0,class:"text-center py-8"},ae={key:1,class:"bg-red-100 dark:bg-red-900/20 p-4 rounded mb-6"},re={class:"text-red-700 dark:text-red-400"},se={key:2,class:"grid grid-cols-1 md:grid-cols-2 gap-10"},le={class:"flex flex-col"},oe={class:"product-image-container relative overflow-hidden rounded-lg shadow-md border border-light-neutral-100 dark:border-dark-neutral-700 mb-4 aspect-square bg-light-secondary dark:bg-dark-secondary"},ne=["src","alt"],ie={class:"absolute top-3 right-3 bg-light-secondary dark:bg-dark-neutral-700 rounded-full p-2 shadow-md"},de={class:"flex space-x-2 overflow-x-auto pb-2"},ce=["onClick"],ue=["src","alt"],me={class:"flex flex-col space-y-6"},pe={class:"text-3xl font-bold text-light-text-primary dark:text-dark-text-primary"},ge={class:"flex items-center"},xe={class:"text-2xl text-light-text-primary dark:text-dark-text-primary"},ve={class:"grid grid-cols-2 gap-4 mt-2 text-sm bg-light-secondary dark:bg-dark-secondary p-4 rounded-lg"},he={class:"text-light-text-secondary dark:text-dark-text-secondary"},ke={class:"text-light-text-secondary dark:text-dark-text-secondary"},ye={class:"text-light-text-secondary dark:text-dark-text-secondary"},fe={class:"text-light-text-secondary dark:text-dark-text-secondary"},be={class:"space-y-2"},we={class:"text-base text-light-text-secondary dark:text-dark-text-secondary whitespace-pre-line"},_e={key:0},Ce={class:"flex flex-wrap gap-3"},Ie=["onClick","title"],Ne={class:"sr-only"},Me={class:"mt-2 text-sm text-light-text-secondary dark:text-dark-text-secondary"},Pe={class:"flex"},Se={class:"space-y-2 mt-4"},je=["onClick"],De={class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary"},$e={class:"text-xl text-light-text-secondary dark:text-dark-text-secondary"},Ae={key:0,class:"p-4 bg-light-neutral-100 dark:bg-dark-secondary border-t border-light-neutral-200 dark:border-dark-neutral-700"},Be={key:0,class:"list-disc pl-5 space-y-1"},Ue={key:1,class:"text-light-text-secondary dark:text-dark-text-secondary"},Ee={key:3,class:"text-center py-8"},Te={__name:"ProductDetailView",setup(Ve){const I=Q(),U=G(),E=R(),t=m(null),f=m(!0),v=m(null),u=m(1),g=m(0),b=m(0),p=m(["Description"]),w=H(()=>I.params.id),c=r=>r?typeof r=="string"&&r.startsWith("base64://")?r.replace("base64://",""):r:null,N=async()=>{f.value=!0,v.value=null;try{console.log("Fetching product with ID:",w.value);try{t.value=await O.getProduct(w.value)}catch(l){console.warn("Both Firebase and mock data fetch failed:",l),t.value={id:w.value,name:"Sample Jewelry Piece",description:"This is a placeholder for a product that couldn't be found.",price:99.99,stock:0,category:"",materials:"Not specified",dimensions:"Not specified",images:[],featured:!1}}console.log("Product loaded:",t.value);const r=y("placeholder.jpg"),a=c(t.value.imageUrl||t.value.image)||r;console.log("Product image source:",a),!t.value.images||!Array.isArray(t.value.images)||t.value.images.length===0?(console.log("Creating image structure with:",a),t.value.images=[{main:a,thumb:a}]):(console.log("Product already has images:",t.value.images),t.value.images=t.value.images.map(l=>{if(typeof l=="string"){const x=c(l);return{main:x,thumb:x}}return{main:c(l.main||l.imageUrl||l.image)||r,thumb:c(l.thumb||l.main||l.imageUrl||l.image)||r}})),t.value.images||(t.value.images=[{main:t.value.image||"https://via.placeholder.com/400x400?text=No+Image",thumb:t.value.image||"https://via.placeholder.com/100x100?text=No+Image"}]),t.value.colors||(t.value.colors=[{name:"Natural",class:"bg-amber-200"},{name:"Rose",class:"bg-rose-300"},{name:"Turquoise",class:"bg-cyan-400"}]),t.value.materials||(t.value.materials="Not specified"),t.value.dimensions||(t.value.dimensions="Not specified"),t.value.stock||(t.value.stock=0),t.value.sections||(t.value.sections=[],t.value.sections.push({name:"Description",content:t.value.description||"Product description not available."}),t.value.materials&&t.value.sections.push({name:"Materials & Dimensions",content:[`Materials: ${t.value.materials}`,`Dimensions: ${t.value.dimensions}`]}),t.value.features&&t.value.sections.push({name:"Features",content:t.value.features}),t.value.sections.push({name:"Care Instructions",content:["Store in a cool, dry place away from direct sunlight","Avoid contact with perfumes, lotions, and chemicals","Clean gently with a soft, lint-free cloth","Remove before swimming or bathing"]}),t.value.sections.push({name:"Sizing & Fit",content:"Our standard bracelet length is 7.5 inches. Necklaces are available in 16, 18, and 20 inch lengths. Please contact us for custom sizing."}),t.value.sections.push({name:"Shipping",content:"Handmade to order. Please allow 1-3 business days for production plus shipping time."}),t.value.sections.push({name:"Returns",content:"We accept returns within 14 days of delivery for unworn items in original packaging."}))}catch(r){console.error("Error fetching product:",r),v.value=r.message||"Failed to load product"}finally{f.value=!1}},M=r=>{console.error("Image failed to load:",r.target.src),r.target.src=y("placeholder.jpg"),r.target.onerror=function(){const a=r.target.parentNode;if(a){const l=document.createElement("div");l.innerHTML=`
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="100%" height="100%">
          <rect width="100%" height="100%" fill="#f0f0f0"/>
          <path d="M12 6v12M6 12h12" stroke="#aaa" stroke-width="2" stroke-linecap="round"/>
        </svg>
      `,l.className="broken-image",a.replaceChild(l,r.target)}}};q(N),z(()=>I.params.id,N);const T=()=>{t.value&&(E.addToCart(t.value,u.value),alert(`${u.value} ${t.value.name}${u.value>1?"s":""} added to cart!`))},V=r=>{p.value.includes(r)?p.value=p.value.filter(a=>a!==r):p.value.push(r)},P=()=>{U.back()};return(r,a)=>{var x,S;const l=W("router-link");return n(),o("div",X,[e("nav",Y,[e("ol",Z,[e("li",null,[j(l,{to:"/",class:"text-light-neutral-500 dark:text-dark-neutral-500 hover:text-accent-primary"},{default:D(()=>a[4]||(a[4]=[A("Home")])),_:1})]),a[6]||(a[6]=e("li",null,[e("span",{class:"text-light-neutral-400 dark:text-dark-neutral-600 mx-1"},"›")],-1)),e("li",null,[j(l,{to:"/",class:"text-light-neutral-500 dark:text-dark-neutral-500 hover:text-accent-primary"},{default:D(()=>a[5]||(a[5]=[A("Shop")])),_:1})]),a[7]||(a[7]=e("li",null,[e("span",{class:"text-light-neutral-400 dark:text-dark-neutral-600 mx-1"},"›")],-1)),e("li",ee,i(((x=t.value)==null?void 0:x.name)||"Product"),1)])]),f.value?(n(),o("div",te,a[8]||(a[8]=[e("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-accent-primary mb-2"},null,-1),e("p",{class:"text-light-text-primary dark:text-dark-text-primary"},"Loading your beautiful jewelry...",-1)]))):v.value?(n(),o("div",ae,[e("p",re,i(v.value),1),e("button",{onClick:P,class:"mt-2 text-sm text-accent-primary hover:underline"},"← Return to previous page")])):t.value?(n(),o("div",se,[e("div",le,[e("div",oe,[e("img",{src:c((S=t.value.images[g.value])==null?void 0:S.main)||c(t.value.imageUrl)||c(t.value.image)||C(y)("placeholder.jpg"),alt:t.value.name,class:"product-image w-full h-full object-contain rounded-lg",onError:M},null,40,ne),e("div",ie,[e("button",{onClick:a[0]||(a[0]=s=>g.value=(g.value+1)%t.value.images.length),class:"text-light-neutral-600 dark:text-dark-neutral-400 hover:text-accent-primary dark:hover:text-accent-primary",title:"Next image"},a[9]||(a[9]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))])]),e("div",de,[(n(!0),o(h,null,k(t.value.images,(s,d)=>(n(),o("div",{key:d,onClick:_=>g.value=d,class:B(["w-20 h-20 cursor-pointer rounded-md overflow-hidden border-2 flex-shrink-0",d===g.value?"border-accent-primary":"border-transparent"])},[e("img",{src:c(s.thumb)||c(s.main)||C(y)("placeholder.jpg"),alt:`Thumbnail ${d+1}`,class:"w-full h-full object-cover",onError:M},null,40,ue)],10,ce))),128))])]),e("div",me,[e("h1",pe,i(t.value.name),1),e("div",ge,[e("p",xe,i(C(K)(t.value.price)),1)]),e("div",ve,[e("div",null,[a[10]||(a[10]=e("span",{class:"font-medium text-light-text-primary dark:text-dark-text-primary"},"Materials:",-1)),e("p",he,i(t.value.materials||"Not specified"),1)]),e("div",null,[a[11]||(a[11]=e("span",{class:"font-medium text-light-text-primary dark:text-dark-text-primary"},"Dimensions:",-1)),e("p",ke,i(t.value.dimensions||"Not specified"),1)]),e("div",null,[a[12]||(a[12]=e("span",{class:"font-medium text-light-text-primary dark:text-dark-text-primary"},"Category:",-1)),e("p",ye,i(t.value.category),1)]),e("div",null,[a[13]||(a[13]=e("span",{class:"font-medium text-light-text-primary dark:text-dark-text-primary"},"Stock:",-1)),e("p",fe,i(t.value.stock)+" pieces available",1)])]),e("div",be,[a[14]||(a[14]=e("h3",{class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary"},"Description",-1)),e("p",we,i(t.value.description),1)]),t.value.colors&&t.value.colors.length>0?(n(),o("div",_e,[a[15]||(a[15]=e("p",{class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary mb-3"},"Color Options",-1)),e("div",Ce,[(n(!0),o(h,null,k(t.value.colors,(s,d)=>(n(),o("button",{key:d,onClick:_=>b.value=d,class:B(["w-12 h-12 rounded-full focus:outline-none transition-all duration-200",s.class,{"ring-2 ring-accent-primary ring-offset-2 scale-110":d===b.value}]),title:s.name},[e("span",Ne,i(s.name),1)],10,Ie))),128))]),e("p",Me,"Selected: "+i(t.value.colors[b.value].name),1)])):$("",!0),e("div",null,[a[16]||(a[16]=e("p",{class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary mb-3"},"Quantity",-1)),e("div",Pe,[e("button",{onClick:a[1]||(a[1]=s=>u.value>1?u.value--:null),class:"px-4 py-2 bg-light-neutral-200 dark:bg-dark-neutral-700 hover:bg-light-neutral-300 dark:hover:bg-dark-neutral-600 rounded-l text-light-text-primary dark:text-dark-text-primary"},"−"),L(e("input",{id:"quantity","onUpdate:modelValue":a[2]||(a[2]=s=>u.value=s),type:"number",min:"1",class:"w-16 text-center border-light-neutral-200 dark:border-dark-neutral-700 border-t border-b focus:ring-accent-primary focus:border-accent-primary bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary"},null,512),[[J,u.value]]),e("button",{onClick:a[3]||(a[3]=s=>u.value++),class:"px-4 py-2 bg-light-neutral-200 dark:bg-dark-neutral-700 hover:bg-light-neutral-300 dark:hover:bg-dark-neutral-600 rounded-r text-light-text-primary dark:text-dark-text-primary"},"+")])]),e("button",{onClick:T,class:"w-full bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark text-white px-6 py-3 rounded-md transition font-medium flex items-center justify-center space-x-2"},a[17]||(a[17]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"})],-1),e("span",null,"Add to Cart",-1)])),a[18]||(a[18]=e("div",{class:"flex items-center space-x-2 text-sm text-light-text-secondary dark:text-dark-text-secondary border-t border-b border-light-neutral-200 dark:border-dark-neutral-700 py-3"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 text-accent-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 11c0 3.517-1.009 6.799-2.753 9.571m-3.44-2.04l.054-.09A13.916 13.916 0 008 11a4 4 0 118 0c0 1.017-.07 2.019-.203 3m-2.118 6.844A21.88 21.88 0 0015.171 17m3.839 1.132c.645-2.266.99-4.659.99-7.132A8 8 0 008 4.07M3 15.364c.64-1.319 1-2.8 1-4.364 0-1.457.39-2.823 1.07-4"})]),e("span",null,"Handcrafted with care | Unique Piece | Artisan Made")],-1)),e("div",Se,[(n(!0),o(h,null,k(t.value.sections,s=>(n(),o("div",{key:s.name,class:"border border-light-neutral-200 dark:border-dark-neutral-700 rounded-lg overflow-hidden"},[e("div",{onClick:d=>V(s.name),class:"flex justify-between items-center p-4 cursor-pointer hover:bg-light-neutral-100 dark:hover:bg-dark-secondary"},[e("h2",De,i(s.name),1),e("span",$e,i(p.value.includes(s.name)?"−":"+"),1)],8,je),p.value.includes(s.name)?(n(),o("div",Ae,[Array.isArray(s.content)?(n(),o("ul",Be,[(n(!0),o(h,null,k(s.content,(d,_)=>(n(),o("li",{key:_,class:"text-light-text-secondary dark:text-dark-text-secondary"},i(d),1))),128))])):(n(),o("p",Ue,i(s.content),1))])):$("",!0)]))),128))])])])):(n(),o("div",Ee,[a[19]||(a[19]=e("p",{class:"text-light-text-primary dark:text-dark-text-primary"},"Product not found.",-1)),e("button",{onClick:P,class:"mt-4 bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark text-white px-4 py-2 rounded"},"Return to Shop")]))])}}},Re=F(Te,[["__scopeId","data-v-d00f2ebb"]]);export{Re as default};
//# sourceMappingURL=ProductDetailView-Mo-VfV2n.js.map
