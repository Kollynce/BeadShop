(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function nn(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const Ke={},Eo=[],sr=()=>{},Ra=()=>!1,Hi=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Ip=t=>t.startsWith("onUpdate:"),Qe=Object.assign,Tp=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},eI=Object.prototype.hasOwnProperty,lt=(t,e)=>eI.call(t,e),ye=Array.isArray,Io=t=>ta(t)==="[object Map]",zi=t=>ta(t)==="[object Set]",E0=t=>ta(t)==="[object Date]",tI=t=>ta(t)==="[object RegExp]",De=t=>typeof t=="function",Ue=t=>typeof t=="string",Kr=t=>typeof t=="symbol",ft=t=>t!==null&&typeof t=="object",Ap=t=>(ft(t)||De(t))&&De(t.then)&&De(t.catch),Yb=Object.prototype.toString,ta=t=>Yb.call(t),rI=t=>ta(t).slice(8,-1),ed=t=>ta(t)==="[object Object]",Sp=t=>Ue(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Bs=nn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),nI=nn("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),td=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},sI=/-(\w)/g,kt=td(t=>t.replace(sI,(e,r)=>r?r.toUpperCase():"")),iI=/\B([A-Z])/g,Br=td(t=>t.replace(iI,"-$1").toLowerCase()),Wi=td(t=>t.charAt(0).toUpperCase()+t.slice(1)),To=td(t=>t?`on${Wi(t)}`:""),Dr=(t,e)=>!Object.is(t,e),Ao=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},Jb=(t,e,r,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:r})},cu=t=>{const e=parseFloat(t);return isNaN(e)?t:e},uu=t=>{const e=Ue(t)?Number(t):NaN;return isNaN(e)?t:e};let I0;const rd=()=>I0||(I0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function oI(t,e){return t+JSON.stringify(e,(r,n)=>typeof n=="function"?n.toString():n)}const aI="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",lI=nn(aI);function St(t){if(ye(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],s=Ue(n)?Xb(n):St(n);if(s)for(const i in s)e[i]=s[i]}return e}else if(Ue(t)||ft(t))return t}const cI=/;(?![^(]*\))/g,uI=/:([^]+)/,dI=/\/\*[^]*?\*\//g;function Xb(t){const e={};return t.replace(dI,"").split(cI).forEach(r=>{if(r){const n=r.split(uI);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function $e(t){let e="";if(Ue(t))e=t;else if(ye(t))for(let r=0;r<t.length;r++){const n=$e(t[r]);n&&(e+=n+" ")}else if(ft(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}function hI(t){if(!t)return null;let{class:e,style:r}=t;return e&&!Ue(e)&&(t.class=$e(e)),r&&(t.style=St(r)),t}const fI="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",pI="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",mI="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",gI="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",vI=nn(fI),yI=nn(pI),bI=nn(mI),xI=nn(gI),_I="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",wI=nn(_I);function Zb(t){return!!t||t===""}function kI(t,e){if(t.length!==e.length)return!1;let r=!0;for(let n=0;r&&n<t.length;n++)r=Ys(t[n],e[n]);return r}function Ys(t,e){if(t===e)return!0;let r=E0(t),n=E0(e);if(r||n)return r&&n?t.getTime()===e.getTime():!1;if(r=Kr(t),n=Kr(e),r||n)return t===e;if(r=ye(t),n=ye(e),r||n)return r&&n?kI(t,e):!1;if(r=ft(t),n=ft(e),r||n){if(!r||!n)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Ys(t[o],e[o]))return!1}}return String(t)===String(e)}function nd(t,e){return t.findIndex(r=>Ys(r,e))}const e1=t=>!!(t&&t.__v_isRef===!0),W=t=>Ue(t)?t:t==null?"":ye(t)||ft(t)&&(t.toString===Yb||!De(t.toString))?e1(t)?W(t.value):JSON.stringify(t,t1,2):String(t),t1=(t,e)=>e1(e)?t1(t,e.value):Io(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,s],i)=>(r[Ih(n,i)+" =>"]=s,r),{})}:zi(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>Ih(r))}:Kr(e)?Ih(e):ft(e)&&!ye(e)&&!ed(e)?String(e):e,Ih=(t,e="")=>{var r;return Kr(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Or;class Cp{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Or,!e&&Or&&(this.index=(Or.scopes||(Or.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=Or;try{return Or=this,e()}finally{Or=r}}}on(){Or=this}off(){Or=this.parent}stop(e){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Pp(t){return new Cp(t)}function Rp(){return Or}function r1(t,e=!1){Or&&Or.cleanups.push(t)}let bt;const Th=new WeakSet;class al{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Or&&Or.active&&Or.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Th.has(this)&&(Th.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||s1(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,T0(this),i1(this);const e=bt,r=In;bt=this,In=!0;try{return this.fn()}finally{o1(this),bt=e,In=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Op(e);this.deps=this.depsTail=void 0,T0(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Th.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){df(this)&&this.run()}get dirty(){return df(this)}}let n1=0,za,Wa;function s1(t,e=!1){if(t.flags|=8,e){t.next=Wa,Wa=t;return}t.next=za,za=t}function Np(){n1++}function $p(){if(--n1>0)return;if(Wa){let e=Wa;for(Wa=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;za;){let e=za;for(za=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=r}}if(t)throw t}function i1(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function o1(t){let e,r=t.depsTail,n=r;for(;n;){const s=n.prevDep;n.version===-1?(n===r&&(r=s),Op(n),EI(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=s}t.deps=e,t.depsTail=r}function df(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(a1(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function a1(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===ll))return;t.globalVersion=ll;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!df(t)){t.flags&=-3;return}const r=bt,n=In;bt=t,In=!0;try{i1(t);const s=t.fn(t._value);(e.version===0||Dr(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{bt=r,In=n,o1(t),t.flags&=-3}}function Op(t,e=!1){const{dep:r,prevSub:n,nextSub:s}=t;if(n&&(n.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=n,t.nextSub=void 0),r.subs===t&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let i=r.computed.deps;i;i=i.nextDep)Op(i,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function EI(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}function II(t,e){t.effect instanceof al&&(t=t.effect.fn);const r=new al(t);e&&Qe(r,e);try{r.run()}catch(s){throw r.stop(),s}const n=r.run.bind(r);return n.effect=r,n}function TI(t){t.effect.stop()}let In=!0;const l1=[];function ri(){l1.push(In),In=!1}function ni(){const t=l1.pop();In=t===void 0?!0:t}function T0(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=bt;bt=void 0;try{e()}finally{bt=r}}}let ll=0;class AI{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class sd{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!bt||!In||bt===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==bt)r=this.activeLink=new AI(bt,this),bt.deps?(r.prevDep=bt.depsTail,bt.depsTail.nextDep=r,bt.depsTail=r):bt.deps=bt.depsTail=r,c1(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=bt.depsTail,r.nextDep=void 0,bt.depsTail.nextDep=r,bt.depsTail=r,bt.deps===r&&(bt.deps=n)}return r}trigger(e){this.version++,ll++,this.notify(e)}notify(e){Np();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{$p()}}}function c1(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)c1(n)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const du=new WeakMap,Ii=Symbol(""),hf=Symbol(""),cl=Symbol("");function wr(t,e,r){if(In&&bt){let n=du.get(t);n||du.set(t,n=new Map);let s=n.get(r);s||(n.set(r,s=new sd),s.map=n,s.key=r),s.track()}}function Yn(t,e,r,n,s,i){const o=du.get(t);if(!o){ll++;return}const a=l=>{l&&l.trigger()};if(Np(),e==="clear")o.forEach(a);else{const l=ye(t),d=l&&Sp(r);if(l&&r==="length"){const h=Number(n);o.forEach((f,p)=>{(p==="length"||p===cl||!Kr(p)&&p>=h)&&a(f)})}else switch((r!==void 0||o.has(void 0))&&a(o.get(r)),d&&a(o.get(cl)),e){case"add":l?d&&a(o.get("length")):(a(o.get(Ii)),Io(t)&&a(o.get(hf)));break;case"delete":l||(a(o.get(Ii)),Io(t)&&a(o.get(hf)));break;case"set":Io(t)&&a(o.get(Ii));break}}$p()}function SI(t,e){const r=du.get(t);return r&&r.get(e)}function ao(t){const e=We(t);return e===t?e:(wr(e,"iterate",cl),en(t)?e:e.map(kr))}function id(t){return wr(t=We(t),"iterate",cl),t}const CI={__proto__:null,[Symbol.iterator](){return Ah(this,Symbol.iterator,kr)},concat(...t){return ao(this).concat(...t.map(e=>ye(e)?ao(e):e))},entries(){return Ah(this,"entries",t=>(t[1]=kr(t[1]),t))},every(t,e){return zn(this,"every",t,e,void 0,arguments)},filter(t,e){return zn(this,"filter",t,e,r=>r.map(kr),arguments)},find(t,e){return zn(this,"find",t,e,kr,arguments)},findIndex(t,e){return zn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return zn(this,"findLast",t,e,kr,arguments)},findLastIndex(t,e){return zn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return zn(this,"forEach",t,e,void 0,arguments)},includes(...t){return Sh(this,"includes",t)},indexOf(...t){return Sh(this,"indexOf",t)},join(t){return ao(this).join(t)},lastIndexOf(...t){return Sh(this,"lastIndexOf",t)},map(t,e){return zn(this,"map",t,e,void 0,arguments)},pop(){return wa(this,"pop")},push(...t){return wa(this,"push",t)},reduce(t,...e){return A0(this,"reduce",t,e)},reduceRight(t,...e){return A0(this,"reduceRight",t,e)},shift(){return wa(this,"shift")},some(t,e){return zn(this,"some",t,e,void 0,arguments)},splice(...t){return wa(this,"splice",t)},toReversed(){return ao(this).toReversed()},toSorted(t){return ao(this).toSorted(t)},toSpliced(...t){return ao(this).toSpliced(...t)},unshift(...t){return wa(this,"unshift",t)},values(){return Ah(this,"values",kr)}};function Ah(t,e,r){const n=id(t),s=n[e]();return n!==t&&!en(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=r(i.value)),i}),s}const PI=Array.prototype;function zn(t,e,r,n,s,i){const o=id(t),a=o!==t&&!en(t),l=o[e];if(l!==PI[e]){const f=l.apply(t,i);return a?kr(f):f}let d=r;o!==t&&(a?d=function(f,p){return r.call(this,kr(f),p,t)}:r.length>2&&(d=function(f,p){return r.call(this,f,p,t)}));const h=l.call(o,d,n);return a&&s?s(h):h}function A0(t,e,r,n){const s=id(t);let i=r;return s!==t&&(en(t)?r.length>3&&(i=function(o,a,l){return r.call(this,o,a,l,t)}):i=function(o,a,l){return r.call(this,o,kr(a),l,t)}),s[e](i,...n)}function Sh(t,e,r){const n=We(t);wr(n,"iterate",cl);const s=n[e](...r);return(s===-1||s===!1)&&ld(r[0])?(r[0]=We(r[0]),n[e](...r)):s}function wa(t,e,r=[]){ri(),Np();const n=We(t)[e].apply(t,r);return $p(),ni(),n}const RI=nn("__proto__,__v_isRef,__isVue"),u1=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Kr));function NI(t){Kr(t)||(t=String(t));const e=We(this);return wr(e,"has",t),e.hasOwnProperty(t)}class d1{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,n){if(r==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(r==="__v_isReactive")return!s;if(r==="__v_isReadonly")return s;if(r==="__v_isShallow")return i;if(r==="__v_raw")return n===(s?i?v1:g1:i?m1:p1).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=ye(e);if(!s){let l;if(o&&(l=CI[r]))return l;if(r==="hasOwnProperty")return NI}const a=Reflect.get(e,r,Ct(e)?e:n);return(Kr(r)?u1.has(r):RI(r))||(s||wr(e,"get",r),i)?a:Ct(a)?o&&Sp(r)?a:a.value:ft(a)?s?Mp(a):gn(a):a}}class h1 extends d1{constructor(e=!1){super(!1,e)}set(e,r,n,s){let i=e[r];if(!this._isShallow){const l=Js(i);if(!en(n)&&!Js(n)&&(i=We(i),n=We(n)),!ye(e)&&Ct(i)&&!Ct(n))return l?!1:(i.value=n,!0)}const o=ye(e)&&Sp(r)?Number(r)<e.length:lt(e,r),a=Reflect.set(e,r,n,Ct(e)?e:s);return e===We(s)&&(o?Dr(n,i)&&Yn(e,"set",r,n):Yn(e,"add",r,n)),a}deleteProperty(e,r){const n=lt(e,r);e[r];const s=Reflect.deleteProperty(e,r);return s&&n&&Yn(e,"delete",r,void 0),s}has(e,r){const n=Reflect.has(e,r);return(!Kr(r)||!u1.has(r))&&wr(e,"has",r),n}ownKeys(e){return wr(e,"iterate",ye(e)?"length":Ii),Reflect.ownKeys(e)}}class f1 extends d1{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const $I=new h1,OI=new f1,DI=new h1(!0),MI=new f1(!0),ff=t=>t,xc=t=>Reflect.getPrototypeOf(t);function VI(t,e,r){return function(...n){const s=this.__v_raw,i=We(s),o=Io(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,d=s[t](...n),h=r?ff:e?pf:kr;return!e&&wr(i,"iterate",l?hf:Ii),{next(){const{value:f,done:p}=d.next();return p?{value:f,done:p}:{value:a?[h(f[0]),h(f[1])]:h(f),done:p}},[Symbol.iterator](){return this}}}}function _c(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function LI(t,e){const r={get(s){const i=this.__v_raw,o=We(i),a=We(s);t||(Dr(s,a)&&wr(o,"get",s),wr(o,"get",a));const{has:l}=xc(o),d=e?ff:t?pf:kr;if(l.call(o,s))return d(i.get(s));if(l.call(o,a))return d(i.get(a));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&wr(We(s),"iterate",Ii),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,o=We(i),a=We(s);return t||(Dr(s,a)&&wr(o,"has",s),wr(o,"has",a)),s===a?i.has(s):i.has(s)||i.has(a)},forEach(s,i){const o=this,a=o.__v_raw,l=We(a),d=e?ff:t?pf:kr;return!t&&wr(l,"iterate",Ii),a.forEach((h,f)=>s.call(i,d(h),d(f),o))}};return Qe(r,t?{add:_c("add"),set:_c("set"),delete:_c("delete"),clear:_c("clear")}:{add(s){!e&&!en(s)&&!Js(s)&&(s=We(s));const i=We(this);return xc(i).has.call(i,s)||(i.add(s),Yn(i,"add",s,s)),this},set(s,i){!e&&!en(i)&&!Js(i)&&(i=We(i));const o=We(this),{has:a,get:l}=xc(o);let d=a.call(o,s);d||(s=We(s),d=a.call(o,s));const h=l.call(o,s);return o.set(s,i),d?Dr(i,h)&&Yn(o,"set",s,i):Yn(o,"add",s,i),this},delete(s){const i=We(this),{has:o,get:a}=xc(i);let l=o.call(i,s);l||(s=We(s),l=o.call(i,s)),a&&a.call(i,s);const d=i.delete(s);return l&&Yn(i,"delete",s,void 0),d},clear(){const s=We(this),i=s.size!==0,o=s.clear();return i&&Yn(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{r[s]=VI(s,t,e)}),r}function od(t,e){const r=LI(t,e);return(n,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?n:Reflect.get(lt(r,s)&&s in n?r:n,s,i)}const FI={get:od(!1,!1)},UI={get:od(!1,!0)},jI={get:od(!0,!1)},BI={get:od(!0,!0)},p1=new WeakMap,m1=new WeakMap,g1=new WeakMap,v1=new WeakMap;function qI(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function HI(t){return t.__v_skip||!Object.isExtensible(t)?0:qI(rI(t))}function gn(t){return Js(t)?t:ad(t,!1,$I,FI,p1)}function Dp(t){return ad(t,!1,DI,UI,m1)}function Mp(t){return ad(t,!0,OI,jI,g1)}function zI(t){return ad(t,!0,MI,BI,v1)}function ad(t,e,r,n,s){if(!ft(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=HI(t);if(o===0)return t;const a=new Proxy(t,o===2?n:r);return s.set(t,a),a}function Tn(t){return Js(t)?Tn(t.__v_raw):!!(t&&t.__v_isReactive)}function Js(t){return!!(t&&t.__v_isReadonly)}function en(t){return!!(t&&t.__v_isShallow)}function ld(t){return t?!!t.__v_raw:!1}function We(t){const e=t&&t.__v_raw;return e?We(e):t}function cd(t){return!lt(t,"__v_skip")&&Object.isExtensible(t)&&Jb(t,"__v_skip",!0),t}const kr=t=>ft(t)?gn(t):t,pf=t=>ft(t)?Mp(t):t;function Ct(t){return t?t.__v_isRef===!0:!1}function q(t){return y1(t,!1)}function ud(t){return y1(t,!0)}function y1(t,e){return Ct(t)?t:new WI(t,e)}class WI{constructor(e,r){this.dep=new sd,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:We(e),this._value=r?e:kr(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,n=this.__v_isShallow||en(e)||Js(e);e=n?e:We(e),Dr(e,r)&&(this._rawValue=e,this._value=n?e:kr(e),this.dep.trigger())}}function KI(t){t.dep&&t.dep.trigger()}function B(t){return Ct(t)?t.value:t}function GI(t){return De(t)?t():B(t)}const QI={get:(t,e,r)=>e==="__v_raw"?t:B(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const s=t[e];return Ct(s)&&!Ct(r)?(s.value=r,!0):Reflect.set(t,e,r,n)}};function Vp(t){return Tn(t)?t:new Proxy(t,QI)}class YI{constructor(e){this.__v_isRef=!0,this._value=void 0;const r=this.dep=new sd,{get:n,set:s}=e(r.track.bind(r),r.trigger.bind(r));this._get=n,this._set=s}get value(){return this._value=this._get()}set value(e){this._set(e)}}function b1(t){return new YI(t)}function x1(t){const e=ye(t)?new Array(t.length):{};for(const r in t)e[r]=w1(t,r);return e}class JI{constructor(e,r,n){this._object=e,this._key=r,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return SI(We(this._object),this._key)}}class XI{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function _1(t,e,r){return Ct(t)?t:De(t)?new XI(t):ft(t)&&arguments.length>1?w1(t,e,r):q(t)}function w1(t,e,r){const n=t[e];return Ct(n)?n:new JI(t,e,r)}class ZI{constructor(e,r,n){this.fn=e,this.setter=r,this._value=void 0,this.dep=new sd(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ll-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&bt!==this)return s1(this,!0),!0}get value(){const e=this.dep.track();return a1(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function eT(t,e,r=!1){let n,s;return De(t)?n=t:(n=t.get,s=t.set),new ZI(n,s,r)}const tT={GET:"get",HAS:"has",ITERATE:"iterate"},rT={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},wc={},hu=new WeakMap;let Cs;function nT(){return Cs}function k1(t,e=!1,r=Cs){if(r){let n=hu.get(r);n||hu.set(r,n=[]),n.push(t)}}function sT(t,e,r=Ke){const{immediate:n,deep:s,once:i,scheduler:o,augmentJob:a,call:l}=r,d=N=>s?N:en(N)||s===!1||s===0?Jn(N,1):Jn(N);let h,f,p,v,b=!1,w=!1;if(Ct(t)?(f=()=>t.value,b=en(t)):Tn(t)?(f=()=>d(t),b=!0):ye(t)?(w=!0,b=t.some(N=>Tn(N)||en(N)),f=()=>t.map(N=>{if(Ct(N))return N.value;if(Tn(N))return d(N);if(De(N))return l?l(N,2):N()})):De(t)?e?f=l?()=>l(t,2):t:f=()=>{if(p){ri();try{p()}finally{ni()}}const N=Cs;Cs=h;try{return l?l(t,3,[v]):t(v)}finally{Cs=N}}:f=sr,e&&s){const N=f,C=s===!0?1/0:s;f=()=>Jn(N(),C)}const _=Rp(),T=()=>{h.stop(),_&&_.active&&Tp(_.effects,h)};if(i&&e){const N=e;e=(...C)=>{N(...C),T()}}let S=w?new Array(t.length).fill(wc):wc;const E=N=>{if(!(!(h.flags&1)||!h.dirty&&!N))if(e){const C=h.run();if(s||b||(w?C.some((F,I)=>Dr(F,S[I])):Dr(C,S))){p&&p();const F=Cs;Cs=h;try{const I=[C,S===wc?void 0:w&&S[0]===wc?[]:S,v];l?l(e,3,I):e(...I),S=C}finally{Cs=F}}}else h.run()};return a&&a(E),h=new al(f),h.scheduler=o?()=>o(E,!1):E,v=N=>k1(N,!1,h),p=h.onStop=()=>{const N=hu.get(h);if(N){if(l)l(N,4);else for(const C of N)C();hu.delete(h)}},e?n?E(!0):S=h.run():o?o(E.bind(null,!0),!0):h.run(),T.pause=h.pause.bind(h),T.resume=h.resume.bind(h),T.stop=T,T}function Jn(t,e=1/0,r){if(e<=0||!ft(t)||t.__v_skip||(r=r||new Set,r.has(t)))return t;if(r.add(t),e--,Ct(t))Jn(t.value,e,r);else if(ye(t))for(let n=0;n<t.length;n++)Jn(t[n],e,r);else if(zi(t)||Io(t))t.forEach(n=>{Jn(n,e,r)});else if(ed(t)){for(const n in t)Jn(t[n],e,r);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&Jn(t[n],e,r)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const E1=[];function iT(t){E1.push(t)}function oT(){E1.pop()}function aT(t,e){}const lT={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},cT={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function ra(t,e,r,n){try{return n?t(...n):t()}catch(s){Ki(s,e,r)}}function vn(t,e,r,n){if(De(t)){const s=ra(t,e,r,n);return s&&Ap(s)&&s.catch(i=>{Ki(i,e,r)}),s}if(ye(t)){const s=[];for(let i=0;i<t.length;i++)s.push(vn(t[i],e,r,n));return s}}function Ki(t,e,r,n=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Ke;if(e){let a=e.parent;const l=e.proxy,d=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const h=a.ec;if(h){for(let f=0;f<h.length;f++)if(h[f](t,l,d)===!1)return}a=a.parent}if(i){ri(),ra(i,null,10,[t,l,d]),ni();return}}uT(t,r,s,n,o)}function uT(t,e,r,n=!0,s=!1){if(s)throw t;console.error(t)}const Mr=[];let On=-1;const So=[];let Ps=null,fo=0;const I1=Promise.resolve();let fu=null;function ir(t){const e=fu||I1;return t?e.then(this?t.bind(this):t):e}function dT(t){let e=On+1,r=Mr.length;for(;e<r;){const n=e+r>>>1,s=Mr[n],i=dl(s);i<t||i===t&&s.flags&2?e=n+1:r=n}return e}function Lp(t){if(!(t.flags&1)){const e=dl(t),r=Mr[Mr.length-1];!r||!(t.flags&2)&&e>=dl(r)?Mr.push(t):Mr.splice(dT(e),0,t),t.flags|=1,T1()}}function T1(){fu||(fu=I1.then(A1))}function ul(t){ye(t)?So.push(...t):Ps&&t.id===-1?Ps.splice(fo+1,0,t):t.flags&1||(So.push(t),t.flags|=1),T1()}function S0(t,e,r=On+1){for(;r<Mr.length;r++){const n=Mr[r];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;Mr.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function pu(t){if(So.length){const e=[...new Set(So)].sort((r,n)=>dl(r)-dl(n));if(So.length=0,Ps){Ps.push(...e);return}for(Ps=e,fo=0;fo<Ps.length;fo++){const r=Ps[fo];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Ps=null,fo=0}}const dl=t=>t.id==null?t.flags&2?-1:1/0:t.id;function A1(t){try{for(On=0;On<Mr.length;On++){const e=Mr[On];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),ra(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;On<Mr.length;On++){const e=Mr[On];e&&(e.flags&=-2)}On=-1,Mr.length=0,pu(),fu=null,(Mr.length||So.length)&&A1()}}let po,kc=[];function S1(t,e){var r,n;po=t,po?(po.enabled=!0,kc.forEach(({event:s,args:i})=>po.emit(s,...i)),kc=[]):typeof window<"u"&&window.HTMLElement&&!((n=(r=window.navigator)==null?void 0:r.userAgent)!=null&&n.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(i=>{S1(i,e)}),setTimeout(()=>{po||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,kc=[])},3e3)):kc=[]}let Yt=null,dd=null;function hl(t){const e=Yt;return Yt=t,dd=t&&t.type.__scopeId||null,e}function hT(t){dd=t}function fT(){dd=null}const pT=t=>te;function te(t,e=Yt,r){if(!e||t._n)return t;const n=(...s)=>{n._d&&wf(-1);const i=hl(e);let o;try{o=t(...s)}finally{hl(i),n._d&&wf(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function ke(t,e){if(Yt===null)return t;const r=Fl(Yt),n=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,l=Ke]=e[s];i&&(De(i)&&(i={mounted:i,updated:i}),i.deep&&Jn(o),n.push({dir:i,instance:r,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Dn(t,e,r,n){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[n];l&&(ri(),vn(l,r,8,[t.el,a,t,e]),ni())}}const C1=Symbol("_vte"),P1=t=>t.__isTeleport,Ka=t=>t&&(t.disabled||t.disabled===""),C0=t=>t&&(t.defer||t.defer===""),P0=t=>typeof SVGElement<"u"&&t instanceof SVGElement,R0=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,mf=(t,e)=>{const r=t&&t.to;return Ue(r)?e?e(r):null:r},R1={name:"Teleport",__isTeleport:!0,process(t,e,r,n,s,i,o,a,l,d){const{mc:h,pc:f,pbc:p,o:{insert:v,querySelector:b,createText:w,createComment:_}}=d,T=Ka(e.props);let{shapeFlag:S,children:E,dynamicChildren:N}=e;if(t==null){const C=e.el=w(""),F=e.anchor=w("");v(C,r,n),v(F,r,n);const I=(m,k)=>{S&16&&(s&&s.isCE&&(s.ce._teleportTarget=m),h(E,m,k,s,i,o,a,l))},y=()=>{const m=e.target=mf(e.props,b),k=N1(m,e,w,v);m&&(o!=="svg"&&P0(m)?o="svg":o!=="mathml"&&R0(m)&&(o="mathml"),T||(I(m,k),zc(e,!1)))};T&&(I(r,F),zc(e,!0)),C0(e.props)?Kt(()=>{y(),e.el.__isMounted=!0},i):y()}else{if(C0(e.props)&&!t.el.__isMounted){Kt(()=>{R1.process(t,e,r,n,s,i,o,a,l,d),delete t.el.__isMounted},i);return}e.el=t.el,e.targetStart=t.targetStart;const C=e.anchor=t.anchor,F=e.target=t.target,I=e.targetAnchor=t.targetAnchor,y=Ka(t.props),m=y?r:F,k=y?C:I;if(o==="svg"||P0(F)?o="svg":(o==="mathml"||R0(F))&&(o="mathml"),N?(p(t.dynamicChildren,N,m,s,i,o,a),Qp(t,e,!0)):l||f(t,e,m,k,s,i,o,a,!1),T)y?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Ec(e,r,C,d,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const $=e.target=mf(e.props,b);$&&Ec(e,$,null,d,0)}else y&&Ec(e,F,I,d,1);zc(e,T)}},remove(t,e,r,{um:n,o:{remove:s}},i){const{shapeFlag:o,children:a,anchor:l,targetStart:d,targetAnchor:h,target:f,props:p}=t;if(f&&(s(d),s(h)),i&&s(l),o&16){const v=i||!Ka(p);for(let b=0;b<a.length;b++){const w=a[b];n(w,e,r,v,!!w.dynamicChildren)}}},move:Ec,hydrate:mT};function Ec(t,e,r,{o:{insert:n},m:s},i=2){i===0&&n(t.targetAnchor,e,r);const{el:o,anchor:a,shapeFlag:l,children:d,props:h}=t,f=i===2;if(f&&n(o,e,r),(!f||Ka(h))&&l&16)for(let p=0;p<d.length;p++)s(d[p],e,r,2);f&&n(a,e,r)}function mT(t,e,r,n,s,i,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:d,createText:h}},f){const p=e.target=mf(e.props,l);if(p){const v=Ka(e.props),b=p._lpa||p.firstChild;if(e.shapeFlag&16)if(v)e.anchor=f(o(t),e,a(t),r,n,s,i),e.targetStart=b,e.targetAnchor=b&&o(b);else{e.anchor=o(t);let w=b;for(;w;){if(w&&w.nodeType===8){if(w.data==="teleport start anchor")e.targetStart=w;else if(w.data==="teleport anchor"){e.targetAnchor=w,p._lpa=e.targetAnchor&&o(e.targetAnchor);break}}w=o(w)}e.targetAnchor||N1(p,e,h,d),f(b&&o(b),e,p,r,n,s,i)}zc(e,v)}return e.anchor&&o(e.anchor)}const Fp=R1;function zc(t,e){const r=t.ctx;if(r&&r.ut){let n,s;for(e?(n=t.el,s=t.anchor):(n=t.targetStart,s=t.targetAnchor);n&&n!==s;)n.nodeType===1&&n.setAttribute("data-v-owner",r.uid),n=n.nextSibling;r.ut()}}function N1(t,e,r,n){const s=e.targetStart=r(""),i=e.targetAnchor=r("");return s[C1]=i,t&&(n(s,t),n(i,t)),i}const Rs=Symbol("_leaveCb"),Ic=Symbol("_enterCb");function Up(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return je(()=>{t.isMounted=!0}),Gi(()=>{t.isUnmounting=!0}),t}const ln=[Function,Array],jp={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ln,onEnter:ln,onAfterEnter:ln,onEnterCancelled:ln,onBeforeLeave:ln,onLeave:ln,onAfterLeave:ln,onLeaveCancelled:ln,onBeforeAppear:ln,onAppear:ln,onAfterAppear:ln,onAppearCancelled:ln},$1=t=>{const e=t.subTree;return e.component?$1(e.component):e},gT={name:"BaseTransition",props:jp,setup(t,{slots:e}){const r=sn(),n=Up();return()=>{const s=e.default&&hd(e.default(),!0);if(!s||!s.length)return;const i=O1(s),o=We(t),{mode:a}=o;if(n.isLeaving)return Ch(i);const l=N0(i);if(!l)return Ch(i);let d=Oo(l,o,n,r,f=>d=f);l.type!==Bt&&os(l,d);let h=r.subTree&&N0(r.subTree);if(h&&h.type!==Bt&&!En(l,h)&&$1(r).type!==Bt){let f=Oo(h,o,n,r);if(os(h,f),a==="out-in"&&l.type!==Bt)return n.isLeaving=!0,f.afterLeave=()=>{n.isLeaving=!1,r.job.flags&8||r.update(),delete f.afterLeave,h=void 0},Ch(i);a==="in-out"&&l.type!==Bt?f.delayLeave=(p,v,b)=>{const w=M1(n,h);w[String(h.key)]=h,p[Rs]=()=>{v(),p[Rs]=void 0,delete d.delayedLeave,h=void 0},d.delayedLeave=()=>{b(),delete d.delayedLeave,h=void 0}}:h=void 0}else h&&(h=void 0);return i}}};function O1(t){let e=t[0];if(t.length>1){for(const r of t)if(r.type!==Bt){e=r;break}}return e}const D1=gT;function M1(t,e){const{leavingVNodes:r}=t;let n=r.get(e.type);return n||(n=Object.create(null),r.set(e.type,n)),n}function Oo(t,e,r,n,s){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:d,onAfterEnter:h,onEnterCancelled:f,onBeforeLeave:p,onLeave:v,onAfterLeave:b,onLeaveCancelled:w,onBeforeAppear:_,onAppear:T,onAfterAppear:S,onAppearCancelled:E}=e,N=String(t.key),C=M1(r,t),F=(m,k)=>{m&&vn(m,n,9,k)},I=(m,k)=>{const $=k[1];F(m,k),ye(m)?m.every(P=>P.length<=1)&&$():m.length<=1&&$()},y={mode:o,persisted:a,beforeEnter(m){let k=l;if(!r.isMounted)if(i)k=_||l;else return;m[Rs]&&m[Rs](!0);const $=C[N];$&&En(t,$)&&$.el[Rs]&&$.el[Rs](),F(k,[m])},enter(m){let k=d,$=h,P=f;if(!r.isMounted)if(i)k=T||d,$=S||h,P=E||f;else return;let R=!1;const le=m[Ic]=Y=>{R||(R=!0,Y?F(P,[m]):F($,[m]),y.delayedLeave&&y.delayedLeave(),m[Ic]=void 0)};k?I(k,[m,le]):le()},leave(m,k){const $=String(t.key);if(m[Ic]&&m[Ic](!0),r.isUnmounting)return k();F(p,[m]);let P=!1;const R=m[Rs]=le=>{P||(P=!0,k(),le?F(w,[m]):F(b,[m]),m[Rs]=void 0,C[$]===t&&delete C[$])};C[$]=t,v?I(v,[m,R]):R()},clone(m){const k=Oo(m,e,r,n,s);return s&&s(k),k}};return y}function Ch(t){if(Vl(t))return t=Sn(t),t.children=null,t}function N0(t){if(!Vl(t))return P1(t.type)&&t.children?O1(t.children):t;const{shapeFlag:e,children:r}=t;if(r){if(e&16)return r[0];if(e&32&&De(r.default))return r.default()}}function os(t,e){t.shapeFlag&6&&t.component?(t.transition=e,os(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function hd(t,e=!1,r){let n=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const a=r==null?o.key:String(r)+String(o.key!=null?o.key:i);o.type===xe?(o.patchFlag&128&&s++,n=n.concat(hd(o.children,e,a))):(e||o.type!==Bt)&&n.push(a!=null?Sn(o,{key:a}):o)}if(s>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function Ze(t,e){return De(t)?Qe({name:t.name},e,{setup:t}):t}function V1(){const t=sn();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function Bp(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function vT(t){const e=sn(),r=ud(null);if(e){const s=e.refs===Ke?e.refs={}:e.refs;Object.defineProperty(s,t,{enumerable:!0,get:()=>r.value,set:i=>r.value=i})}return r}function fl(t,e,r,n,s=!1){if(ye(t)){t.forEach((b,w)=>fl(b,e&&(ye(e)?e[w]:e),r,n,s));return}if(qs(n)&&!s){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&fl(t,e,r,n.component.subTree);return}const i=n.shapeFlag&4?Fl(n.component):n.el,o=s?null:i,{i:a,r:l}=t,d=e&&e.r,h=a.refs===Ke?a.refs={}:a.refs,f=a.setupState,p=We(f),v=f===Ke?()=>!1:b=>lt(p,b);if(d!=null&&d!==l&&(Ue(d)?(h[d]=null,v(d)&&(f[d]=null)):Ct(d)&&(d.value=null)),De(l))ra(l,a,12,[o,h]);else{const b=Ue(l),w=Ct(l);if(b||w){const _=()=>{if(t.f){const T=b?v(l)?f[l]:h[l]:l.value;s?ye(T)&&Tp(T,i):ye(T)?T.includes(i)||T.push(i):b?(h[l]=[i],v(l)&&(f[l]=h[l])):(l.value=[i],t.k&&(h[t.k]=l.value))}else b?(h[l]=o,v(l)&&(f[l]=o)):w&&(l.value=o,t.k&&(h[t.k]=o))};o?(_.id=-1,Kt(_,r)):_()}}}let $0=!1;const lo=()=>{$0||(console.error("Hydration completed but contains mismatches."),$0=!0)},yT=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",bT=t=>t.namespaceURI.includes("MathML"),Tc=t=>{if(t.nodeType===1){if(yT(t))return"svg";if(bT(t))return"mathml"}},xo=t=>t.nodeType===8;function xT(t){const{mt:e,p:r,o:{patchProp:n,createText:s,nextSibling:i,parentNode:o,remove:a,insert:l,createComment:d}}=t,h=(E,N)=>{if(!N.hasChildNodes()){r(null,E,N),pu(),N._vnode=E;return}f(N.firstChild,E,null,null,null),pu(),N._vnode=E},f=(E,N,C,F,I,y=!1)=>{y=y||!!N.dynamicChildren;const m=xo(E)&&E.data==="[",k=()=>w(E,N,C,F,I,m),{type:$,ref:P,shapeFlag:R,patchFlag:le}=N;let Y=E.nodeType;N.el=E,le===-2&&(y=!1,N.dynamicChildren=null);let L=null;switch($){case Hs:Y!==3?N.children===""?(l(N.el=s(""),o(E),E),L=E):L=k():(E.data!==N.children&&(lo(),E.data=N.children),L=i(E));break;case Bt:S(E)?(L=i(E),T(N.el=E.content.firstChild,E,C)):Y!==8||m?L=k():L=i(E);break;case Ai:if(m&&(E=i(E),Y=E.nodeType),Y===1||Y===3){L=E;const oe=!N.children.length;for(let G=0;G<N.staticCount;G++)oe&&(N.children+=L.nodeType===1?L.outerHTML:L.data),G===N.staticCount-1&&(N.anchor=L),L=i(L);return m?i(L):L}else k();break;case xe:m?L=b(E,N,C,F,I,y):L=k();break;default:if(R&1)(Y!==1||N.type.toLowerCase()!==E.tagName.toLowerCase())&&!S(E)?L=k():L=p(E,N,C,F,I,y);else if(R&6){N.slotScopeIds=I;const oe=o(E);if(m?L=_(E):xo(E)&&E.data==="teleport start"?L=_(E,E.data,"teleport end"):L=i(E),e(N,oe,null,C,F,Tc(oe),y),qs(N)&&!N.type.__asyncResolved){let G;m?(G=H(xe),G.anchor=L?L.previousSibling:oe.lastChild):G=E.nodeType===3?ue(""):H("div"),G.el=E,N.component.subTree=G}}else R&64?Y!==8?L=k():L=N.type.hydrate(E,N,C,F,I,y,t,v):R&128&&(L=N.type.hydrate(E,N,C,F,Tc(o(E)),I,y,t,f))}return P!=null&&fl(P,null,F,N),L},p=(E,N,C,F,I,y)=>{y=y||!!N.dynamicChildren;const{type:m,props:k,patchFlag:$,shapeFlag:P,dirs:R,transition:le}=N,Y=m==="input"||m==="option";if(Y||$!==-1){R&&Dn(N,null,C,"created");let L=!1;if(S(E)){L=cx(null,le)&&C&&C.vnode.props&&C.vnode.props.appear;const G=E.content.firstChild;L&&le.beforeEnter(G),T(G,E,C),N.el=E=G}if(P&16&&!(k&&(k.innerHTML||k.textContent))){let G=v(E.firstChild,N,E,C,F,I,y);for(;G;){Ac(E,1)||lo();const ge=G;G=G.nextSibling,a(ge)}}else if(P&8){let G=N.children;G[0]===`
`&&(E.tagName==="PRE"||E.tagName==="TEXTAREA")&&(G=G.slice(1)),E.textContent!==G&&(Ac(E,0)||lo(),E.textContent=N.children)}if(k){if(Y||!y||$&48){const G=E.tagName.includes("-");for(const ge in k)(Y&&(ge.endsWith("value")||ge==="indeterminate")||Hi(ge)&&!Bs(ge)||ge[0]==="."||G)&&n(E,ge,null,k[ge],void 0,C)}else if(k.onClick)n(E,"onClick",null,k.onClick,void 0,C);else if($&4&&Tn(k.style))for(const G in k.style)k.style[G]}let oe;(oe=k&&k.onVnodeBeforeMount)&&Ur(oe,C,N),R&&Dn(N,null,C,"beforeMount"),((oe=k&&k.onVnodeMounted)||R||L)&&yx(()=>{oe&&Ur(oe,C,N),L&&le.enter(E),R&&Dn(N,null,C,"mounted")},F)}return E.nextSibling},v=(E,N,C,F,I,y,m)=>{m=m||!!N.dynamicChildren;const k=N.children,$=k.length;for(let P=0;P<$;P++){const R=m?k[P]:k[P]=jr(k[P]),le=R.type===Hs;E?(le&&!m&&P+1<$&&jr(k[P+1]).type===Hs&&(l(s(E.data.slice(R.children.length)),C,i(E)),E.data=R.children),E=f(E,R,F,I,y,m)):le&&!R.children?l(R.el=s(""),C):(Ac(C,1)||lo(),r(null,R,C,null,F,I,Tc(C),y))}return E},b=(E,N,C,F,I,y)=>{const{slotScopeIds:m}=N;m&&(I=I?I.concat(m):m);const k=o(E),$=v(i(E),N,k,C,F,I,y);return $&&xo($)&&$.data==="]"?i(N.anchor=$):(lo(),l(N.anchor=d("]"),k,$),$)},w=(E,N,C,F,I,y)=>{if(Ac(E.parentElement,1)||lo(),N.el=null,y){const $=_(E);for(;;){const P=i(E);if(P&&P!==$)a(P);else break}}const m=i(E),k=o(E);return a(E),r(null,N,k,m,C,F,Tc(k),I),C&&(C.vnode.el=N.el,vd(C,N.el)),m},_=(E,N="[",C="]")=>{let F=0;for(;E;)if(E=i(E),E&&xo(E)&&(E.data===N&&F++,E.data===C)){if(F===0)return i(E);F--}return E},T=(E,N,C)=>{const F=N.parentNode;F&&F.replaceChild(E,N);let I=C;for(;I;)I.vnode.el===N&&(I.vnode.el=I.subTree.el=E),I=I.parent},S=E=>E.nodeType===1&&E.tagName==="TEMPLATE";return[h,f]}const O0="data-allow-mismatch",_T={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Ac(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(O0);)t=t.parentElement;const r=t&&t.getAttribute(O0);if(r==null)return!1;if(r==="")return!0;{const n=r.split(",");return e===0&&n.includes("children")?!0:r.split(",").includes(_T[e])}}const wT=rd().requestIdleCallback||(t=>setTimeout(t,1)),kT=rd().cancelIdleCallback||(t=>clearTimeout(t)),ET=(t=1e4)=>e=>{const r=wT(e,{timeout:t});return()=>kT(r)};function IT(t){const{top:e,left:r,bottom:n,right:s}=t.getBoundingClientRect(),{innerHeight:i,innerWidth:o}=window;return(e>0&&e<i||n>0&&n<i)&&(r>0&&r<o||s>0&&s<o)}const TT=t=>(e,r)=>{const n=new IntersectionObserver(s=>{for(const i of s)if(i.isIntersecting){n.disconnect(),e();break}},t);return r(s=>{if(s instanceof Element){if(IT(s))return e(),n.disconnect(),!1;n.observe(s)}}),()=>n.disconnect()},AT=t=>e=>{if(t){const r=matchMedia(t);if(r.matches)e();else return r.addEventListener("change",e,{once:!0}),()=>r.removeEventListener("change",e)}},ST=(t=[])=>(e,r)=>{Ue(t)&&(t=[t]);let n=!1;const s=o=>{n||(n=!0,i(),e(),o.target.dispatchEvent(new o.constructor(o.type,o)))},i=()=>{r(o=>{for(const a of t)o.removeEventListener(a,s)})};return r(o=>{for(const a of t)o.addEventListener(a,s,{once:!0})}),i};function CT(t,e){if(xo(t)&&t.data==="["){let r=1,n=t.nextSibling;for(;n;){if(n.nodeType===1){if(e(n)===!1)break}else if(xo(n))if(n.data==="]"){if(--r===0)break}else n.data==="["&&r++;n=n.nextSibling}}else e(t)}const qs=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function PT(t){De(t)&&(t={loader:t});const{loader:e,loadingComponent:r,errorComponent:n,delay:s=200,hydrate:i,timeout:o,suspensible:a=!0,onError:l}=t;let d=null,h,f=0;const p=()=>(f++,d=null,v()),v=()=>{let b;return d||(b=d=e().catch(w=>{if(w=w instanceof Error?w:new Error(String(w)),l)return new Promise((_,T)=>{l(w,()=>_(p()),()=>T(w),f+1)});throw w}).then(w=>b!==d&&d?d:(w&&(w.__esModule||w[Symbol.toStringTag]==="Module")&&(w=w.default),h=w,w)))};return Ze({name:"AsyncComponentWrapper",__asyncLoader:v,__asyncHydrate(b,w,_){const T=i?()=>{const S=i(_,E=>CT(b,E));S&&(w.bum||(w.bum=[])).push(S)}:_;h?T():v().then(()=>!w.isUnmounted&&T())},get __asyncResolved(){return h},setup(){const b=Qt;if(Bp(b),h)return()=>Ph(h,b);const w=E=>{d=null,Ki(E,b,13,!n)};if(a&&b.suspense||Do)return v().then(E=>()=>Ph(E,b)).catch(E=>(w(E),()=>n?H(n,{error:E}):null));const _=q(!1),T=q(),S=q(!!s);return s&&setTimeout(()=>{S.value=!1},s),o!=null&&setTimeout(()=>{if(!_.value&&!T.value){const E=new Error(`Async component timed out after ${o}ms.`);w(E),T.value=E}},o),v().then(()=>{_.value=!0,b.parent&&Vl(b.parent.vnode)&&b.parent.update()}).catch(E=>{w(E),T.value=E}),()=>{if(_.value&&h)return Ph(h,b);if(T.value&&n)return H(n,{error:T.value});if(r&&!S.value)return H(r)}}})}function Ph(t,e){const{ref:r,props:n,children:s,ce:i}=e.vnode,o=H(t,n,s);return o.ref=r,o.ce=i,delete e.vnode.ce,o}const Vl=t=>t.type.__isKeepAlive,RT={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const r=sn(),n=r.ctx;if(!n.renderer)return()=>{const S=e.default&&e.default();return S&&S.length===1?S[0]:S};const s=new Map,i=new Set;let o=null;const a=r.suspense,{renderer:{p:l,m:d,um:h,o:{createElement:f}}}=n,p=f("div");n.activate=(S,E,N,C,F)=>{const I=S.component;d(S,E,N,0,a),l(I.vnode,S,E,N,I,a,C,S.slotScopeIds,F),Kt(()=>{I.isDeactivated=!1,I.a&&Ao(I.a);const y=S.props&&S.props.onVnodeMounted;y&&Ur(y,I.parent,S)},a)},n.deactivate=S=>{const E=S.component;vu(E.m),vu(E.a),d(S,p,null,1,a),Kt(()=>{E.da&&Ao(E.da);const N=S.props&&S.props.onVnodeUnmounted;N&&Ur(N,E.parent,S),E.isDeactivated=!0},a)};function v(S){Rh(S),h(S,r,a,!0)}function b(S){s.forEach((E,N)=>{const C=Af(E.type);C&&!S(C)&&w(N)})}function w(S){const E=s.get(S);E&&(!o||!En(E,o))?v(E):o&&Rh(o),s.delete(S),i.delete(S)}Rt(()=>[t.include,t.exclude],([S,E])=>{S&&b(N=>Na(S,N)),E&&b(N=>!Na(E,N))},{flush:"post",deep:!0});let _=null;const T=()=>{_!=null&&(yu(r.subTree.type)?Kt(()=>{s.set(_,Sc(r.subTree))},r.subTree.suspense):s.set(_,Sc(r.subTree)))};return je(T),pd(T),Gi(()=>{s.forEach(S=>{const{subTree:E,suspense:N}=r,C=Sc(E);if(S.type===C.type&&S.key===C.key){Rh(C);const F=C.component.da;F&&Kt(F,N);return}v(S)})}),()=>{if(_=null,!e.default)return o=null;const S=e.default(),E=S[0];if(S.length>1)return o=null,S;if(!as(E)||!(E.shapeFlag&4)&&!(E.shapeFlag&128))return o=null,E;let N=Sc(E);if(N.type===Bt)return o=null,N;const C=N.type,F=Af(qs(N)?N.type.__asyncResolved||{}:C),{include:I,exclude:y,max:m}=t;if(I&&(!F||!Na(I,F))||y&&F&&Na(y,F))return N.shapeFlag&=-257,o=N,E;const k=N.key==null?C:N.key,$=s.get(k);return N.el&&(N=Sn(N),E.shapeFlag&128&&(E.ssContent=N)),_=k,$?(N.el=$.el,N.component=$.component,N.transition&&os(N,N.transition),N.shapeFlag|=512,i.delete(k),i.add(k)):(i.add(k),m&&i.size>parseInt(m,10)&&w(i.values().next().value)),N.shapeFlag|=256,o=N,yu(E.type)?E:N}}},NT=RT;function Na(t,e){return ye(t)?t.some(r=>Na(r,e)):Ue(t)?t.split(",").includes(e):tI(t)?(t.lastIndex=0,t.test(e)):!1}function L1(t,e){U1(t,"a",e)}function F1(t,e){U1(t,"da",e)}function U1(t,e,r=Qt){const n=t.__wdc||(t.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(fd(e,n,r),r){let s=r.parent;for(;s&&s.parent;)Vl(s.parent.vnode)&&$T(n,e,r,s),s=s.parent}}function $T(t,e,r,n){const s=fd(e,t,n,!0);Wt(()=>{Tp(n[e],s)},r)}function Rh(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Sc(t){return t.shapeFlag&128?t.ssContent:t}function fd(t,e,r=Qt,n=!1){if(r){const s=r[t]||(r[t]=[]),i=e.__weh||(e.__weh=(...o)=>{ri();const a=$i(r),l=vn(e,r,t,o);return a(),ni(),l});return n?s.unshift(i):s.push(i),i}}const ps=t=>(e,r=Qt)=>{(!Do||t==="sp")&&fd(t,(...n)=>e(...n),r)},j1=ps("bm"),je=ps("m"),qp=ps("bu"),pd=ps("u"),Gi=ps("bum"),Wt=ps("um"),B1=ps("sp"),q1=ps("rtg"),H1=ps("rtc");function z1(t,e=Qt){fd("ec",t,e)}const Hp="components",OT="directives";function Lr(t,e){return zp(Hp,t,!0,e)||t}const W1=Symbol.for("v-ndc");function md(t){return Ue(t)?zp(Hp,t,!1)||t:t||W1}function DT(t){return zp(OT,t)}function zp(t,e,r=!0,n=!1){const s=Yt||Qt;if(s){const i=s.type;if(t===Hp){const a=Af(i,!1);if(a&&(a===e||a===kt(e)||a===Wi(kt(e))))return i}const o=D0(s[t]||i[t],e)||D0(s.appContext[t],e);return!o&&n?i:o}}function D0(t,e){return t&&(t[e]||t[kt(e)]||t[Wi(kt(e))])}function qe(t,e,r,n){let s;const i=r&&r[n],o=ye(t);if(o||Ue(t)){const a=o&&Tn(t);let l=!1;a&&(l=!en(t),t=id(t)),s=new Array(t.length);for(let d=0,h=t.length;d<h;d++)s[d]=e(l?kr(t[d]):t[d],d,void 0,i&&i[d])}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,i&&i[a])}else if(ft(t))if(t[Symbol.iterator])s=Array.from(t,(a,l)=>e(a,l,void 0,i&&i[l]));else{const a=Object.keys(t);s=new Array(a.length);for(let l=0,d=a.length;l<d;l++){const h=a[l];s[l]=e(t[h],h,l,i&&i[l])}}else s=[];return r&&(r[n]=s),s}function MT(t,e){for(let r=0;r<e.length;r++){const n=e[r];if(ye(n))for(let s=0;s<n.length;s++)t[n[s].name]=n[s].fn;else n&&(t[n.name]=n.key?(...s)=>{const i=n.fn(...s);return i&&(i.key=n.key),i}:n.fn)}return t}function mu(t,e,r={},n,s){if(Yt.ce||Yt.parent&&qs(Yt.parent)&&Yt.parent.ce)return e!=="default"&&(r.name=e),M(),dt(xe,null,[H("slot",r,n&&n())],64);let i=t[e];i&&i._c&&(i._d=!1),M();const o=i&&Wp(i(r)),a=r.key||o&&o.key,l=dt(xe,{key:(a&&!Kr(a)?a:`_${e}`)+(!o&&n?"_fb":"")},o||(n?n():[]),o&&t._===1?64:-2);return!s&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function Wp(t){return t.some(e=>as(e)?!(e.type===Bt||e.type===xe&&!Wp(e.children)):!0)?t:null}function VT(t,e){const r={};for(const n in t)r[e&&/[A-Z]/.test(n)?`on:${n}`:To(n)]=t[n];return r}const gf=t=>t?Ix(t)?Fl(t):gf(t.parent):null,Ga=Qe(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>gf(t.parent),$root:t=>gf(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Kp(t),$forceUpdate:t=>t.f||(t.f=()=>{Lp(t.update)}),$nextTick:t=>t.n||(t.n=ir.bind(t.proxy)),$watch:t=>f4.bind(t)}),Nh=(t,e)=>t!==Ke&&!t.__isScriptSetup&&lt(t,e),vf={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:n,data:s,props:i,accessCache:o,type:a,appContext:l}=t;let d;if(e[0]!=="$"){const v=o[e];if(v!==void 0)switch(v){case 1:return n[e];case 2:return s[e];case 4:return r[e];case 3:return i[e]}else{if(Nh(n,e))return o[e]=1,n[e];if(s!==Ke&&lt(s,e))return o[e]=2,s[e];if((d=t.propsOptions[0])&&lt(d,e))return o[e]=3,i[e];if(r!==Ke&&lt(r,e))return o[e]=4,r[e];yf&&(o[e]=0)}}const h=Ga[e];let f,p;if(h)return e==="$attrs"&&wr(t.attrs,"get",""),h(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(r!==Ke&&lt(r,e))return o[e]=4,r[e];if(p=l.config.globalProperties,lt(p,e))return p[e]},set({_:t},e,r){const{data:n,setupState:s,ctx:i}=t;return Nh(s,e)?(s[e]=r,!0):n!==Ke&&lt(n,e)?(n[e]=r,!0):lt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:s,propsOptions:i}},o){let a;return!!r[o]||t!==Ke&&lt(t,o)||Nh(e,o)||(a=i[0])&&lt(a,o)||lt(n,o)||lt(Ga,o)||lt(s.config.globalProperties,o)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:lt(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}},LT=Qe({},vf,{get(t,e){if(e!==Symbol.unscopables)return vf.get(t,e,t)},has(t,e){return e[0]!=="_"&&!lI(e)}});function FT(){return null}function UT(){return null}function jT(t){}function BT(t){}function qT(){return null}function HT(){}function zT(t,e){return null}function WT(){return K1().slots}function KT(){return K1().attrs}function K1(){const t=sn();return t.setupContext||(t.setupContext=Cx(t))}function pl(t){return ye(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}function GT(t,e){const r=pl(t);for(const n in e){if(n.startsWith("__skip"))continue;let s=r[n];s?ye(s)||De(s)?s=r[n]={type:s,default:e[n]}:s.default=e[n]:s===null&&(s=r[n]={default:e[n]}),s&&e[`__skip_${n}`]&&(s.skipFactory=!0)}return r}function QT(t,e){return!t||!e?t||e:ye(t)&&ye(e)?t.concat(e):Qe({},pl(t),pl(e))}function YT(t,e){const r={};for(const n in t)e.includes(n)||Object.defineProperty(r,n,{enumerable:!0,get:()=>t[n]});return r}function JT(t){const e=sn();let r=t();return Ef(),Ap(r)&&(r=r.catch(n=>{throw $i(e),n})),[r,()=>$i(e)]}let yf=!0;function XT(t){const e=Kp(t),r=t.proxy,n=t.ctx;yf=!1,e.beforeCreate&&M0(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:d,created:h,beforeMount:f,mounted:p,beforeUpdate:v,updated:b,activated:w,deactivated:_,beforeDestroy:T,beforeUnmount:S,destroyed:E,unmounted:N,render:C,renderTracked:F,renderTriggered:I,errorCaptured:y,serverPrefetch:m,expose:k,inheritAttrs:$,components:P,directives:R,filters:le}=e;if(d&&ZT(d,n,null),o)for(const oe in o){const G=o[oe];De(G)&&(n[oe]=G.bind(r))}if(s){const oe=s.call(r,r);ft(oe)&&(t.data=gn(oe))}if(yf=!0,i)for(const oe in i){const G=i[oe],ge=De(G)?G.bind(r,r):De(G.get)?G.get.bind(r,r):sr,Se=!De(G)&&De(G.set)?G.set.bind(r):sr,Ie=re({get:ge,set:Se});Object.defineProperty(n,oe,{enumerable:!0,configurable:!0,get:()=>Ie.value,set:Te=>Ie.value=Te})}if(a)for(const oe in a)G1(a[oe],n,r,oe);if(l){const oe=De(l)?l.call(r):l;Reflect.ownKeys(oe).forEach(G=>{Ht(G,oe[G])})}h&&M0(h,t,"c");function L(oe,G){ye(G)?G.forEach(ge=>oe(ge.bind(r))):G&&oe(G.bind(r))}if(L(j1,f),L(je,p),L(qp,v),L(pd,b),L(L1,w),L(F1,_),L(z1,y),L(H1,F),L(q1,I),L(Gi,S),L(Wt,N),L(B1,m),ye(k))if(k.length){const oe=t.exposed||(t.exposed={});k.forEach(G=>{Object.defineProperty(oe,G,{get:()=>r[G],set:ge=>r[G]=ge})})}else t.exposed||(t.exposed={});C&&t.render===sr&&(t.render=C),$!=null&&(t.inheritAttrs=$),P&&(t.components=P),R&&(t.directives=R),m&&Bp(t)}function ZT(t,e,r=sr){ye(t)&&(t=bf(t));for(const n in t){const s=t[n];let i;ft(s)?"default"in s?i=it(s.from||n,s.default,!0):i=it(s.from||n):i=it(s),Ct(i)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[n]=i}}function M0(t,e,r){vn(ye(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function G1(t,e,r,n){let s=n.includes(".")?px(r,n):()=>r[n];if(Ue(t)){const i=e[t];De(i)&&Rt(s,i)}else if(De(t))Rt(s,t.bind(r));else if(ft(t))if(ye(t))t.forEach(i=>G1(i,e,r,n));else{const i=De(t.handler)?t.handler.bind(r):e[t.handler];De(i)&&Rt(s,i,t)}}function Kp(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!s.length&&!r&&!n?l=e:(l={},s.length&&s.forEach(d=>gu(l,d,o,!0)),gu(l,e,o)),ft(e)&&i.set(e,l),l}function gu(t,e,r,n=!1){const{mixins:s,extends:i}=e;i&&gu(t,i,r,!0),s&&s.forEach(o=>gu(t,o,r,!0));for(const o in e)if(!(n&&o==="expose")){const a=e4[o]||r&&r[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const e4={data:V0,props:L0,emits:L0,methods:$a,computed:$a,beforeCreate:Nr,created:Nr,beforeMount:Nr,mounted:Nr,beforeUpdate:Nr,updated:Nr,beforeDestroy:Nr,beforeUnmount:Nr,destroyed:Nr,unmounted:Nr,activated:Nr,deactivated:Nr,errorCaptured:Nr,serverPrefetch:Nr,components:$a,directives:$a,watch:r4,provide:V0,inject:t4};function V0(t,e){return e?t?function(){return Qe(De(t)?t.call(this,this):t,De(e)?e.call(this,this):e)}:e:t}function t4(t,e){return $a(bf(t),bf(e))}function bf(t){if(ye(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Nr(t,e){return t?[...new Set([].concat(t,e))]:e}function $a(t,e){return t?Qe(Object.create(null),t,e):e}function L0(t,e){return t?ye(t)&&ye(e)?[...new Set([...t,...e])]:Qe(Object.create(null),pl(t),pl(e??{})):e}function r4(t,e){if(!t)return e;if(!e)return t;const r=Qe(Object.create(null),t);for(const n in e)r[n]=Nr(t[n],e[n]);return r}function Q1(){return{app:null,config:{isNativeTag:Ra,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let n4=0;function s4(t,e){return function(n,s=null){De(n)||(n=Qe({},n)),s!=null&&!ft(s)&&(s=null);const i=Q1(),o=new WeakSet,a=[];let l=!1;const d=i.app={_uid:n4++,_component:n,_props:s,_container:null,_context:i,_instance:null,version:Rx,get config(){return i.config},set config(h){},use(h,...f){return o.has(h)||(h&&De(h.install)?(o.add(h),h.install(d,...f)):De(h)&&(o.add(h),h(d,...f))),d},mixin(h){return i.mixins.includes(h)||i.mixins.push(h),d},component(h,f){return f?(i.components[h]=f,d):i.components[h]},directive(h,f){return f?(i.directives[h]=f,d):i.directives[h]},mount(h,f,p){if(!l){const v=d._ceVNode||H(n,s);return v.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),f&&e?e(v,h):t(v,h,p),l=!0,d._container=h,h.__vue_app__=d,Fl(v.component)}},onUnmount(h){a.push(h)},unmount(){l&&(vn(a,d._instance,16),t(null,d._container),delete d._container.__vue_app__)},provide(h,f){return i.provides[h]=f,d},runWithContext(h){const f=Ti;Ti=d;try{return h()}finally{Ti=f}}};return d}}let Ti=null;function Ht(t,e){if(Qt){let r=Qt.provides;const n=Qt.parent&&Qt.parent.provides;n===r&&(r=Qt.provides=Object.create(n)),r[t]=e}}function it(t,e,r=!1){const n=Qt||Yt;if(n||Ti){const s=Ti?Ti._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return r&&De(e)?e.call(n&&n.proxy):e}}function Y1(){return!!(Qt||Yt||Ti)}const J1={},X1=()=>Object.create(J1),Z1=t=>Object.getPrototypeOf(t)===J1;function i4(t,e,r,n=!1){const s={},i=X1();t.propsDefaults=Object.create(null),ex(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);r?t.props=n?s:Dp(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function o4(t,e,r,n){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=We(s),[l]=t.propsOptions;let d=!1;if((n||o>0)&&!(o&16)){if(o&8){const h=t.vnode.dynamicProps;for(let f=0;f<h.length;f++){let p=h[f];if(gd(t.emitsOptions,p))continue;const v=e[p];if(l)if(lt(i,p))v!==i[p]&&(i[p]=v,d=!0);else{const b=kt(p);s[b]=xf(l,a,b,v,t,!1)}else v!==i[p]&&(i[p]=v,d=!0)}}}else{ex(t,e,s,i)&&(d=!0);let h;for(const f in a)(!e||!lt(e,f)&&((h=Br(f))===f||!lt(e,h)))&&(l?r&&(r[f]!==void 0||r[h]!==void 0)&&(s[f]=xf(l,a,f,void 0,t,!0)):delete s[f]);if(i!==a)for(const f in i)(!e||!lt(e,f))&&(delete i[f],d=!0)}d&&Yn(t.attrs,"set","")}function ex(t,e,r,n){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Bs(l))continue;const d=e[l];let h;s&&lt(s,h=kt(l))?!i||!i.includes(h)?r[h]=d:(a||(a={}))[h]=d:gd(t.emitsOptions,l)||(!(l in n)||d!==n[l])&&(n[l]=d,o=!0)}if(i){const l=We(r),d=a||Ke;for(let h=0;h<i.length;h++){const f=i[h];r[f]=xf(s,l,f,d[f],t,!lt(d,f))}}return o}function xf(t,e,r,n,s,i){const o=t[r];if(o!=null){const a=lt(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&De(l)){const{propsDefaults:d}=s;if(r in d)n=d[r];else{const h=$i(s);n=d[r]=l.call(null,e),h()}}else n=l;s.ce&&s.ce._setProp(r,n)}o[0]&&(i&&!a?n=!1:o[1]&&(n===""||n===Br(r))&&(n=!0))}return n}const a4=new WeakMap;function tx(t,e,r=!1){const n=r?a4:e.propsCache,s=n.get(t);if(s)return s;const i=t.props,o={},a=[];let l=!1;if(!De(t)){const h=f=>{l=!0;const[p,v]=tx(f,e,!0);Qe(o,p),v&&a.push(...v)};!r&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!i&&!l)return ft(t)&&n.set(t,Eo),Eo;if(ye(i))for(let h=0;h<i.length;h++){const f=kt(i[h]);F0(f)&&(o[f]=Ke)}else if(i)for(const h in i){const f=kt(h);if(F0(f)){const p=i[h],v=o[f]=ye(p)||De(p)?{type:p}:Qe({},p),b=v.type;let w=!1,_=!0;if(ye(b))for(let T=0;T<b.length;++T){const S=b[T],E=De(S)&&S.name;if(E==="Boolean"){w=!0;break}else E==="String"&&(_=!1)}else w=De(b)&&b.name==="Boolean";v[0]=w,v[1]=_,(w||lt(v,"default"))&&a.push(f)}}const d=[o,a];return ft(t)&&n.set(t,d),d}function F0(t){return t[0]!=="$"&&!Bs(t)}const rx=t=>t[0]==="_"||t==="$stable",Gp=t=>ye(t)?t.map(jr):[jr(t)],l4=(t,e,r)=>{if(e._n)return e;const n=te((...s)=>Gp(e(...s)),r);return n._c=!1,n},nx=(t,e,r)=>{const n=t._ctx;for(const s in t){if(rx(s))continue;const i=t[s];if(De(i))e[s]=l4(s,i,n);else if(i!=null){const o=Gp(i);e[s]=()=>o}}},sx=(t,e)=>{const r=Gp(e);t.slots.default=()=>r},ix=(t,e,r)=>{for(const n in e)(r||n!=="_")&&(t[n]=e[n])},c4=(t,e,r)=>{const n=t.slots=X1();if(t.vnode.shapeFlag&32){const s=e._;s?(ix(n,e,r),r&&Jb(n,"_",s,!0)):nx(e,n)}else e&&sx(t,e)},u4=(t,e,r)=>{const{vnode:n,slots:s}=t;let i=!0,o=Ke;if(n.shapeFlag&32){const a=e._;a?r&&a===1?i=!1:ix(s,e,r):(i=!e.$stable,nx(e,s)),o=e}else e&&(sx(t,e),o={default:1});if(i)for(const a in s)!rx(a)&&o[a]==null&&delete s[a]},Kt=yx;function ox(t){return lx(t)}function ax(t){return lx(t,xT)}function lx(t,e){const r=rd();r.__VUE__=!0;const{insert:n,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:d,setElementText:h,parentNode:f,nextSibling:p,setScopeId:v=sr,insertStaticContent:b}=t,w=(V,j,Q,ne=null,J=null,se=null,fe=void 0,he=null,pe=!!j.dynamicChildren)=>{if(V===j)return;V&&!En(V,j)&&(ne=z(V),Te(V,J,se,!0),V=null),j.patchFlag===-2&&(pe=!1,j.dynamicChildren=null);const{type:ce,ref:Ne,shapeFlag:ve}=j;switch(ce){case Hs:_(V,j,Q,ne);break;case Bt:T(V,j,Q,ne);break;case Ai:V==null&&S(j,Q,ne,fe);break;case xe:P(V,j,Q,ne,J,se,fe,he,pe);break;default:ve&1?C(V,j,Q,ne,J,se,fe,he,pe):ve&6?R(V,j,Q,ne,J,se,fe,he,pe):(ve&64||ve&128)&&ce.process(V,j,Q,ne,J,se,fe,he,pe,Z)}Ne!=null&&J&&fl(Ne,V&&V.ref,se,j||V,!j)},_=(V,j,Q,ne)=>{if(V==null)n(j.el=a(j.children),Q,ne);else{const J=j.el=V.el;j.children!==V.children&&d(J,j.children)}},T=(V,j,Q,ne)=>{V==null?n(j.el=l(j.children||""),Q,ne):j.el=V.el},S=(V,j,Q,ne)=>{[V.el,V.anchor]=b(V.children,j,Q,ne,V.el,V.anchor)},E=({el:V,anchor:j},Q,ne)=>{let J;for(;V&&V!==j;)J=p(V),n(V,Q,ne),V=J;n(j,Q,ne)},N=({el:V,anchor:j})=>{let Q;for(;V&&V!==j;)Q=p(V),s(V),V=Q;s(j)},C=(V,j,Q,ne,J,se,fe,he,pe)=>{j.type==="svg"?fe="svg":j.type==="math"&&(fe="mathml"),V==null?F(j,Q,ne,J,se,fe,he,pe):m(V,j,J,se,fe,he,pe)},F=(V,j,Q,ne,J,se,fe,he)=>{let pe,ce;const{props:Ne,shapeFlag:ve,transition:Ae,dirs:_e}=V;if(pe=V.el=o(V.type,se,Ne&&Ne.is,Ne),ve&8?h(pe,V.children):ve&16&&y(V.children,pe,null,ne,J,$h(V,se),fe,he),_e&&Dn(V,null,ne,"created"),I(pe,V,V.scopeId,fe,ne),Ne){for(const at in Ne)at!=="value"&&!Bs(at)&&i(pe,at,null,Ne[at],se,ne);"value"in Ne&&i(pe,"value",null,Ne.value,se),(ce=Ne.onVnodeBeforeMount)&&Ur(ce,ne,V)}_e&&Dn(V,null,ne,"beforeMount");const Oe=cx(J,Ae);Oe&&Ae.beforeEnter(pe),n(pe,j,Q),((ce=Ne&&Ne.onVnodeMounted)||Oe||_e)&&Kt(()=>{ce&&Ur(ce,ne,V),Oe&&Ae.enter(pe),_e&&Dn(V,null,ne,"mounted")},J)},I=(V,j,Q,ne,J)=>{if(Q&&v(V,Q),ne)for(let se=0;se<ne.length;se++)v(V,ne[se]);if(J){let se=J.subTree;if(j===se||yu(se.type)&&(se.ssContent===j||se.ssFallback===j)){const fe=J.vnode;I(V,fe,fe.scopeId,fe.slotScopeIds,J.parent)}}},y=(V,j,Q,ne,J,se,fe,he,pe=0)=>{for(let ce=pe;ce<V.length;ce++){const Ne=V[ce]=he?Ns(V[ce]):jr(V[ce]);w(null,Ne,j,Q,ne,J,se,fe,he)}},m=(V,j,Q,ne,J,se,fe)=>{const he=j.el=V.el;let{patchFlag:pe,dynamicChildren:ce,dirs:Ne}=j;pe|=V.patchFlag&16;const ve=V.props||Ke,Ae=j.props||Ke;let _e;if(Q&&hi(Q,!1),(_e=Ae.onVnodeBeforeUpdate)&&Ur(_e,Q,j,V),Ne&&Dn(j,V,Q,"beforeUpdate"),Q&&hi(Q,!0),(ve.innerHTML&&Ae.innerHTML==null||ve.textContent&&Ae.textContent==null)&&h(he,""),ce?k(V.dynamicChildren,ce,he,Q,ne,$h(j,J),se):fe||G(V,j,he,null,Q,ne,$h(j,J),se,!1),pe>0){if(pe&16)$(he,ve,Ae,Q,J);else if(pe&2&&ve.class!==Ae.class&&i(he,"class",null,Ae.class,J),pe&4&&i(he,"style",ve.style,Ae.style,J),pe&8){const Oe=j.dynamicProps;for(let at=0;at<Oe.length;at++){const rt=Oe[at],hr=ve[rt],Jt=Ae[rt];(Jt!==hr||rt==="value")&&i(he,rt,hr,Jt,J,Q)}}pe&1&&V.children!==j.children&&h(he,j.children)}else!fe&&ce==null&&$(he,ve,Ae,Q,J);((_e=Ae.onVnodeUpdated)||Ne)&&Kt(()=>{_e&&Ur(_e,Q,j,V),Ne&&Dn(j,V,Q,"updated")},ne)},k=(V,j,Q,ne,J,se,fe)=>{for(let he=0;he<j.length;he++){const pe=V[he],ce=j[he],Ne=pe.el&&(pe.type===xe||!En(pe,ce)||pe.shapeFlag&70)?f(pe.el):Q;w(pe,ce,Ne,null,ne,J,se,fe,!0)}},$=(V,j,Q,ne,J)=>{if(j!==Q){if(j!==Ke)for(const se in j)!Bs(se)&&!(se in Q)&&i(V,se,j[se],null,J,ne);for(const se in Q){if(Bs(se))continue;const fe=Q[se],he=j[se];fe!==he&&se!=="value"&&i(V,se,he,fe,J,ne)}"value"in Q&&i(V,"value",j.value,Q.value,J)}},P=(V,j,Q,ne,J,se,fe,he,pe)=>{const ce=j.el=V?V.el:a(""),Ne=j.anchor=V?V.anchor:a("");let{patchFlag:ve,dynamicChildren:Ae,slotScopeIds:_e}=j;_e&&(he=he?he.concat(_e):_e),V==null?(n(ce,Q,ne),n(Ne,Q,ne),y(j.children||[],Q,Ne,J,se,fe,he,pe)):ve>0&&ve&64&&Ae&&V.dynamicChildren?(k(V.dynamicChildren,Ae,Q,J,se,fe,he),(j.key!=null||J&&j===J.subTree)&&Qp(V,j,!0)):G(V,j,Q,Ne,J,se,fe,he,pe)},R=(V,j,Q,ne,J,se,fe,he,pe)=>{j.slotScopeIds=he,V==null?j.shapeFlag&512?J.ctx.activate(j,Q,ne,fe,pe):le(j,Q,ne,J,se,fe,pe):Y(V,j,pe)},le=(V,j,Q,ne,J,se,fe)=>{const he=V.component=Ex(V,ne,J);if(Vl(V)&&(he.ctx.renderer=Z),Tx(he,!1,fe),he.asyncDep){if(J&&J.registerDep(he,L,fe),!V.el){const pe=he.subTree=H(Bt);T(null,pe,j,Q)}}else L(he,V,j,Q,J,se,fe)},Y=(V,j,Q)=>{const ne=j.component=V.component;if(b4(V,j,Q))if(ne.asyncDep&&!ne.asyncResolved){oe(ne,j,Q);return}else ne.next=j,ne.update();else j.el=V.el,ne.vnode=j},L=(V,j,Q,ne,J,se,fe)=>{const he=()=>{if(V.isMounted){let{next:ve,bu:Ae,u:_e,parent:Oe,vnode:at}=V;{const fr=ux(V);if(fr){ve&&(ve.el=at.el,oe(V,ve,fe)),fr.asyncDep.then(()=>{V.isUnmounted||he()});return}}let rt=ve,hr;hi(V,!1),ve?(ve.el=at.el,oe(V,ve,fe)):ve=at,Ae&&Ao(Ae),(hr=ve.props&&ve.props.onVnodeBeforeUpdate)&&Ur(hr,Oe,ve,at),hi(V,!0);const Jt=Wc(V),Zt=V.subTree;V.subTree=Jt,w(Zt,Jt,f(Zt.el),z(Zt),V,J,se),ve.el=Jt.el,rt===null&&vd(V,Jt.el),_e&&Kt(_e,J),(hr=ve.props&&ve.props.onVnodeUpdated)&&Kt(()=>Ur(hr,Oe,ve,at),J)}else{let ve;const{el:Ae,props:_e}=j,{bm:Oe,m:at,parent:rt,root:hr,type:Jt}=V,Zt=qs(j);if(hi(V,!1),Oe&&Ao(Oe),!Zt&&(ve=_e&&_e.onVnodeBeforeMount)&&Ur(ve,rt,j),hi(V,!0),Ae&&Ce){const fr=()=>{V.subTree=Wc(V),Ce(Ae,V.subTree,V,J,null)};Zt&&Jt.__asyncHydrate?Jt.__asyncHydrate(Ae,V,fr):fr()}else{hr.ce&&hr.ce._injectChildStyle(Jt);const fr=V.subTree=Wc(V);w(null,fr,Q,ne,V,J,se),j.el=fr.el}if(at&&Kt(at,J),!Zt&&(ve=_e&&_e.onVnodeMounted)){const fr=j;Kt(()=>Ur(ve,rt,fr),J)}(j.shapeFlag&256||rt&&qs(rt.vnode)&&rt.vnode.shapeFlag&256)&&V.a&&Kt(V.a,J),V.isMounted=!0,j=Q=ne=null}};V.scope.on();const pe=V.effect=new al(he);V.scope.off();const ce=V.update=pe.run.bind(pe),Ne=V.job=pe.runIfDirty.bind(pe);Ne.i=V,Ne.id=V.uid,pe.scheduler=()=>Lp(Ne),hi(V,!0),ce()},oe=(V,j,Q)=>{j.component=V;const ne=V.vnode.props;V.vnode=j,V.next=null,o4(V,j.props,ne,Q),u4(V,j.children,Q),ri(),S0(V),ni()},G=(V,j,Q,ne,J,se,fe,he,pe=!1)=>{const ce=V&&V.children,Ne=V?V.shapeFlag:0,ve=j.children,{patchFlag:Ae,shapeFlag:_e}=j;if(Ae>0){if(Ae&128){Se(ce,ve,Q,ne,J,se,fe,he,pe);return}else if(Ae&256){ge(ce,ve,Q,ne,J,se,fe,he,pe);return}}_e&8?(Ne&16&&mt(ce,J,se),ve!==ce&&h(Q,ve)):Ne&16?_e&16?Se(ce,ve,Q,ne,J,se,fe,he,pe):mt(ce,J,se,!0):(Ne&8&&h(Q,""),_e&16&&y(ve,Q,ne,J,se,fe,he,pe))},ge=(V,j,Q,ne,J,se,fe,he,pe)=>{V=V||Eo,j=j||Eo;const ce=V.length,Ne=j.length,ve=Math.min(ce,Ne);let Ae;for(Ae=0;Ae<ve;Ae++){const _e=j[Ae]=pe?Ns(j[Ae]):jr(j[Ae]);w(V[Ae],_e,Q,null,J,se,fe,he,pe)}ce>Ne?mt(V,J,se,!0,!1,ve):y(j,Q,ne,J,se,fe,he,pe,ve)},Se=(V,j,Q,ne,J,se,fe,he,pe)=>{let ce=0;const Ne=j.length;let ve=V.length-1,Ae=Ne-1;for(;ce<=ve&&ce<=Ae;){const _e=V[ce],Oe=j[ce]=pe?Ns(j[ce]):jr(j[ce]);if(En(_e,Oe))w(_e,Oe,Q,null,J,se,fe,he,pe);else break;ce++}for(;ce<=ve&&ce<=Ae;){const _e=V[ve],Oe=j[Ae]=pe?Ns(j[Ae]):jr(j[Ae]);if(En(_e,Oe))w(_e,Oe,Q,null,J,se,fe,he,pe);else break;ve--,Ae--}if(ce>ve){if(ce<=Ae){const _e=Ae+1,Oe=_e<Ne?j[_e].el:ne;for(;ce<=Ae;)w(null,j[ce]=pe?Ns(j[ce]):jr(j[ce]),Q,Oe,J,se,fe,he,pe),ce++}}else if(ce>Ae)for(;ce<=ve;)Te(V[ce],J,se,!0),ce++;else{const _e=ce,Oe=ce,at=new Map;for(ce=Oe;ce<=Ae;ce++){const Pr=j[ce]=pe?Ns(j[ce]):jr(j[ce]);Pr.key!=null&&at.set(Pr.key,ce)}let rt,hr=0;const Jt=Ae-Oe+1;let Zt=!1,fr=0;const ys=new Array(Jt);for(ce=0;ce<Jt;ce++)ys[ce]=0;for(ce=_e;ce<=ve;ce++){const Pr=V[ce];if(hr>=Jt){Te(Pr,J,se,!0);continue}let an;if(Pr.key!=null)an=at.get(Pr.key);else for(rt=Oe;rt<=Ae;rt++)if(ys[rt-Oe]===0&&En(Pr,j[rt])){an=rt;break}an===void 0?Te(Pr,J,se,!0):(ys[an-Oe]=ce+1,an>=fr?fr=an:Zt=!0,w(Pr,j[an],Q,null,J,se,fe,he,pe),hr++)}const to=Zt?d4(ys):Eo;for(rt=to.length-1,ce=Jt-1;ce>=0;ce--){const Pr=Oe+ce,an=j[Pr],ro=Pr+1<Ne?j[Pr+1].el:ne;ys[ce]===0?w(null,an,Q,ro,J,se,fe,he,pe):Zt&&(rt<0||ce!==to[rt]?Ie(an,Q,ro,2):rt--)}}},Ie=(V,j,Q,ne,J=null)=>{const{el:se,type:fe,transition:he,children:pe,shapeFlag:ce}=V;if(ce&6){Ie(V.component.subTree,j,Q,ne);return}if(ce&128){V.suspense.move(j,Q,ne);return}if(ce&64){fe.move(V,j,Q,Z);return}if(fe===xe){n(se,j,Q);for(let ve=0;ve<pe.length;ve++)Ie(pe[ve],j,Q,ne);n(V.anchor,j,Q);return}if(fe===Ai){E(V,j,Q);return}if(ne!==2&&ce&1&&he)if(ne===0)he.beforeEnter(se),n(se,j,Q),Kt(()=>he.enter(se),J);else{const{leave:ve,delayLeave:Ae,afterLeave:_e}=he,Oe=()=>n(se,j,Q),at=()=>{ve(se,()=>{Oe(),_e&&_e()})};Ae?Ae(se,Oe,at):at()}else n(se,j,Q)},Te=(V,j,Q,ne=!1,J=!1)=>{const{type:se,props:fe,ref:he,children:pe,dynamicChildren:ce,shapeFlag:Ne,patchFlag:ve,dirs:Ae,cacheIndex:_e}=V;if(ve===-2&&(J=!1),he!=null&&fl(he,null,Q,V,!0),_e!=null&&(j.renderCache[_e]=void 0),Ne&256){j.ctx.deactivate(V);return}const Oe=Ne&1&&Ae,at=!qs(V);let rt;if(at&&(rt=fe&&fe.onVnodeBeforeUnmount)&&Ur(rt,j,V),Ne&6)Et(V.component,Q,ne);else{if(Ne&128){V.suspense.unmount(Q,ne);return}Oe&&Dn(V,null,j,"beforeUnmount"),Ne&64?V.type.remove(V,j,Q,Z,ne):ce&&!ce.hasOnce&&(se!==xe||ve>0&&ve&64)?mt(ce,j,Q,!1,!0):(se===xe&&ve&384||!J&&Ne&16)&&mt(pe,j,Q),ne&&Le(V)}(at&&(rt=fe&&fe.onVnodeUnmounted)||Oe)&&Kt(()=>{rt&&Ur(rt,j,V),Oe&&Dn(V,null,j,"unmounted")},Q)},Le=V=>{const{type:j,el:Q,anchor:ne,transition:J}=V;if(j===xe){ot(Q,ne);return}if(j===Ai){N(V);return}const se=()=>{s(Q),J&&!J.persisted&&J.afterLeave&&J.afterLeave()};if(V.shapeFlag&1&&J&&!J.persisted){const{leave:fe,delayLeave:he}=J,pe=()=>fe(Q,se);he?he(V.el,se,pe):pe()}else se()},ot=(V,j)=>{let Q;for(;V!==j;)Q=p(V),s(V),V=Q;s(j)},Et=(V,j,Q)=>{const{bum:ne,scope:J,job:se,subTree:fe,um:he,m:pe,a:ce}=V;vu(pe),vu(ce),ne&&Ao(ne),J.stop(),se&&(se.flags|=8,Te(fe,V,j,Q)),he&&Kt(he,j),Kt(()=>{V.isUnmounted=!0},j),j&&j.pendingBranch&&!j.isUnmounted&&V.asyncDep&&!V.asyncResolved&&V.suspenseId===j.pendingId&&(j.deps--,j.deps===0&&j.resolve())},mt=(V,j,Q,ne=!1,J=!1,se=0)=>{for(let fe=se;fe<V.length;fe++)Te(V[fe],j,Q,ne,J)},z=V=>{if(V.shapeFlag&6)return z(V.component.subTree);if(V.shapeFlag&128)return V.suspense.next();const j=p(V.anchor||V.el),Q=j&&j[C1];return Q?p(Q):j};let D=!1;const A=(V,j,Q)=>{V==null?j._vnode&&Te(j._vnode,null,null,!0):w(j._vnode||null,V,j,null,null,null,Q),j._vnode=V,D||(D=!0,S0(),pu(),D=!1)},Z={p:w,um:Te,m:Ie,r:Le,mt:le,mc:y,pc:G,pbc:k,n:z,o:t};let ee,Ce;return e&&([ee,Ce]=e(Z)),{render:A,hydrate:ee,createApp:s4(A,ee)}}function $h({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function hi({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function cx(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Qp(t,e,r=!1){const n=t.children,s=e.children;if(ye(n)&&ye(s))for(let i=0;i<n.length;i++){const o=n[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=Ns(s[i]),a.el=o.el),!r&&a.patchFlag!==-2&&Qp(o,a)),a.type===Hs&&(a.el=o.el)}}function d4(t){const e=t.slice(),r=[0];let n,s,i,o,a;const l=t.length;for(n=0;n<l;n++){const d=t[n];if(d!==0){if(s=r[r.length-1],t[s]<d){e[n]=s,r.push(n);continue}for(i=0,o=r.length-1;i<o;)a=i+o>>1,t[r[a]]<d?i=a+1:o=a;d<t[r[i]]&&(i>0&&(e[n]=r[i-1]),r[i]=n)}}for(i=r.length,o=r[i-1];i-- >0;)r[i]=o,o=e[o];return r}function ux(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:ux(e)}function vu(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const dx=Symbol.for("v-scx"),hx=()=>it(dx);function lr(t,e){return Ll(t,null,e)}function h4(t,e){return Ll(t,null,{flush:"post"})}function fx(t,e){return Ll(t,null,{flush:"sync"})}function Rt(t,e,r){return Ll(t,e,r)}function Ll(t,e,r=Ke){const{immediate:n,deep:s,flush:i,once:o}=r,a=Qe({},r),l=e&&n||!e&&i!=="post";let d;if(Do){if(i==="sync"){const v=hx();d=v.__watcherHandles||(v.__watcherHandles=[])}else if(!l){const v=()=>{};return v.stop=sr,v.resume=sr,v.pause=sr,v}}const h=Qt;a.call=(v,b,w)=>vn(v,h,b,w);let f=!1;i==="post"?a.scheduler=v=>{Kt(v,h&&h.suspense)}:i!=="sync"&&(f=!0,a.scheduler=(v,b)=>{b?v():Lp(v)}),a.augmentJob=v=>{e&&(v.flags|=4),f&&(v.flags|=2,h&&(v.id=h.uid,v.i=h))};const p=sT(t,e,a);return Do&&(d?d.push(p):l&&p()),p}function f4(t,e,r){const n=this.proxy,s=Ue(t)?t.includes(".")?px(n,t):()=>n[t]:t.bind(n,n);let i;De(e)?i=e:(i=e.handler,r=e);const o=$i(this),a=Ll(s,i.bind(n),r);return o(),a}function px(t,e){const r=e.split(".");return()=>{let n=t;for(let s=0;s<r.length&&n;s++)n=n[r[s]];return n}}function p4(t,e,r=Ke){const n=sn(),s=kt(e),i=Br(e),o=mx(t,s),a=b1((l,d)=>{let h,f=Ke,p;return fx(()=>{const v=t[s];Dr(h,v)&&(h=v,d())}),{get(){return l(),r.get?r.get(h):h},set(v){const b=r.set?r.set(v):v;if(!Dr(b,h)&&!(f!==Ke&&Dr(v,f)))return;const w=n.vnode.props;w&&(e in w||s in w||i in w)&&(`onUpdate:${e}`in w||`onUpdate:${s}`in w||`onUpdate:${i}`in w)||(h=v,d()),n.emit(`update:${e}`,b),Dr(v,b)&&Dr(v,f)&&!Dr(b,p)&&d(),f=v,p=b}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||Ke:a,done:!1}:{done:!0}}}},a}const mx=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${kt(e)}Modifiers`]||t[`${Br(e)}Modifiers`];function m4(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||Ke;let s=r;const i=e.startsWith("update:"),o=i&&mx(n,e.slice(7));o&&(o.trim&&(s=r.map(h=>Ue(h)?h.trim():h)),o.number&&(s=r.map(cu)));let a,l=n[a=To(e)]||n[a=To(kt(e))];!l&&i&&(l=n[a=To(Br(e))]),l&&vn(l,t,6,s);const d=n[a+"Once"];if(d){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,vn(d,t,6,s)}}function gx(t,e,r=!1){const n=e.emitsCache,s=n.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!De(t)){const l=d=>{const h=gx(d,e,!0);h&&(a=!0,Qe(o,h))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(ft(t)&&n.set(t,null),null):(ye(i)?i.forEach(l=>o[l]=null):Qe(o,i),ft(t)&&n.set(t,o),o)}function gd(t,e){return!t||!Hi(e)?!1:(e=e.slice(2).replace(/Once$/,""),lt(t,e[0].toLowerCase()+e.slice(1))||lt(t,Br(e))||lt(t,e))}function Wc(t){const{type:e,vnode:r,proxy:n,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:l,render:d,renderCache:h,props:f,data:p,setupState:v,ctx:b,inheritAttrs:w}=t,_=hl(t);let T,S;try{if(r.shapeFlag&4){const N=s||n,C=N;T=jr(d.call(C,N,h,f,v,p,b)),S=a}else{const N=e;T=jr(N.length>1?N(f,{attrs:a,slots:o,emit:l}):N(f,null)),S=e.props?a:v4(a)}}catch(N){Qa.length=0,Ki(N,t,1),T=H(Bt)}let E=T;if(S&&w!==!1){const N=Object.keys(S),{shapeFlag:C}=E;N.length&&C&7&&(i&&N.some(Ip)&&(S=y4(S,i)),E=Sn(E,S,!1,!0))}return r.dirs&&(E=Sn(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(r.dirs):r.dirs),r.transition&&os(E,r.transition),T=E,hl(_),T}function g4(t,e=!0){let r;for(let n=0;n<t.length;n++){const s=t[n];if(as(s)){if(s.type!==Bt||s.children==="v-if"){if(r)return;r=s}}else return}return r}const v4=t=>{let e;for(const r in t)(r==="class"||r==="style"||Hi(r))&&((e||(e={}))[r]=t[r]);return e},y4=(t,e)=>{const r={};for(const n in t)(!Ip(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function b4(t,e,r){const{props:n,children:s,component:i}=t,{props:o,children:a,patchFlag:l}=e,d=i.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?U0(n,o,d):!!o;if(l&8){const h=e.dynamicProps;for(let f=0;f<h.length;f++){const p=h[f];if(o[p]!==n[p]&&!gd(d,p))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?U0(n,o,d):!0:!!o;return!1}function U0(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let s=0;s<n.length;s++){const i=n[s];if(e[i]!==t[i]&&!gd(r,i))return!0}return!1}function vd({vnode:t,parent:e},r){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=r,e=e.parent;else break}}const yu=t=>t.__isSuspense;let _f=0;const x4={name:"Suspense",__isSuspense:!0,process(t,e,r,n,s,i,o,a,l,d){if(t==null)w4(e,r,n,s,i,o,a,l,d);else{if(i&&i.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}k4(t,e,r,n,s,o,a,l,d)}},hydrate:E4,normalize:I4},_4=x4;function ml(t,e){const r=t.props&&t.props[e];De(r)&&r()}function w4(t,e,r,n,s,i,o,a,l){const{p:d,o:{createElement:h}}=l,f=h("div"),p=t.suspense=vx(t,s,n,e,f,r,i,o,a,l);d(null,p.pendingBranch=t.ssContent,f,null,n,p,i,o),p.deps>0?(ml(t,"onPending"),ml(t,"onFallback"),d(null,t.ssFallback,e,r,n,null,i,o),Co(p,t.ssFallback)):p.resolve(!1,!0)}function k4(t,e,r,n,s,i,o,a,{p:l,um:d,o:{createElement:h}}){const f=e.suspense=t.suspense;f.vnode=e,e.el=t.el;const p=e.ssContent,v=e.ssFallback,{activeBranch:b,pendingBranch:w,isInFallback:_,isHydrating:T}=f;if(w)f.pendingBranch=p,En(p,w)?(l(w,p,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0?f.resolve():_&&(T||(l(b,v,r,n,s,null,i,o,a),Co(f,v)))):(f.pendingId=_f++,T?(f.isHydrating=!1,f.activeBranch=w):d(w,s,f),f.deps=0,f.effects.length=0,f.hiddenContainer=h("div"),_?(l(null,p,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0?f.resolve():(l(b,v,r,n,s,null,i,o,a),Co(f,v))):b&&En(p,b)?(l(b,p,r,n,s,f,i,o,a),f.resolve(!0)):(l(null,p,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0&&f.resolve()));else if(b&&En(p,b))l(b,p,r,n,s,f,i,o,a),Co(f,p);else if(ml(e,"onPending"),f.pendingBranch=p,p.shapeFlag&512?f.pendingId=p.component.suspenseId:f.pendingId=_f++,l(null,p,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0)f.resolve();else{const{timeout:S,pendingId:E}=f;S>0?setTimeout(()=>{f.pendingId===E&&f.fallback(v)},S):S===0&&f.fallback(v)}}function vx(t,e,r,n,s,i,o,a,l,d,h=!1){const{p:f,m:p,um:v,n:b,o:{parentNode:w,remove:_}}=d;let T;const S=T4(t);S&&e&&e.pendingBranch&&(T=e.pendingId,e.deps++);const E=t.props?uu(t.props.timeout):void 0,N=i,C={vnode:t,parent:e,parentComponent:r,namespace:o,container:n,hiddenContainer:s,deps:0,pendingId:_f++,timeout:typeof E=="number"?E:-1,activeBranch:null,pendingBranch:null,isInFallback:!h,isHydrating:h,isUnmounted:!1,effects:[],resolve(F=!1,I=!1){const{vnode:y,activeBranch:m,pendingBranch:k,pendingId:$,effects:P,parentComponent:R,container:le}=C;let Y=!1;C.isHydrating?C.isHydrating=!1:F||(Y=m&&k.transition&&k.transition.mode==="out-in",Y&&(m.transition.afterLeave=()=>{$===C.pendingId&&(p(k,le,i===N?b(m):i,0),ul(P))}),m&&(w(m.el)===le&&(i=b(m)),v(m,R,C,!0)),Y||p(k,le,i,0)),Co(C,k),C.pendingBranch=null,C.isInFallback=!1;let L=C.parent,oe=!1;for(;L;){if(L.pendingBranch){L.effects.push(...P),oe=!0;break}L=L.parent}!oe&&!Y&&ul(P),C.effects=[],S&&e&&e.pendingBranch&&T===e.pendingId&&(e.deps--,e.deps===0&&!I&&e.resolve()),ml(y,"onResolve")},fallback(F){if(!C.pendingBranch)return;const{vnode:I,activeBranch:y,parentComponent:m,container:k,namespace:$}=C;ml(I,"onFallback");const P=b(y),R=()=>{C.isInFallback&&(f(null,F,k,P,m,null,$,a,l),Co(C,F))},le=F.transition&&F.transition.mode==="out-in";le&&(y.transition.afterLeave=R),C.isInFallback=!0,v(y,m,null,!0),le||R()},move(F,I,y){C.activeBranch&&p(C.activeBranch,F,I,y),C.container=F},next(){return C.activeBranch&&b(C.activeBranch)},registerDep(F,I,y){const m=!!C.pendingBranch;m&&C.deps++;const k=F.vnode.el;F.asyncDep.catch($=>{Ki($,F,0)}).then($=>{if(F.isUnmounted||C.isUnmounted||C.pendingId!==F.suspenseId)return;F.asyncResolved=!0;const{vnode:P}=F;If(F,$,!1),k&&(P.el=k);const R=!k&&F.subTree.el;I(F,P,w(k||F.subTree.el),k?null:b(F.subTree),C,o,y),R&&_(R),vd(F,P.el),m&&--C.deps===0&&C.resolve()})},unmount(F,I){C.isUnmounted=!0,C.activeBranch&&v(C.activeBranch,r,F,I),C.pendingBranch&&v(C.pendingBranch,r,F,I)}};return C}function E4(t,e,r,n,s,i,o,a,l){const d=e.suspense=vx(e,n,r,t.parentNode,document.createElement("div"),null,s,i,o,a,!0),h=l(t,d.pendingBranch=e.ssContent,r,d,i,o);return d.deps===0&&d.resolve(!1,!0),h}function I4(t){const{shapeFlag:e,children:r}=t,n=e&32;t.ssContent=j0(n?r.default:r),t.ssFallback=n?j0(r.fallback):H(Bt)}function j0(t){let e;if(De(t)){const r=Ni&&t._c;r&&(t._d=!1,M()),t=t(),r&&(t._d=!0,e=Ir,bx())}return ye(t)&&(t=g4(t)),t=jr(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(r=>r!==t)),t}function yx(t,e){e&&e.pendingBranch?ye(t)?e.effects.push(...t):e.effects.push(t):ul(t)}function Co(t,e){t.activeBranch=e;const{vnode:r,parentComponent:n}=t;let s=e.el;for(;!s&&e.component;)e=e.component.subTree,s=e.el;r.el=s,n&&n.subTree===r&&(n.vnode.el=s,vd(n,s))}function T4(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const xe=Symbol.for("v-fgt"),Hs=Symbol.for("v-txt"),Bt=Symbol.for("v-cmt"),Ai=Symbol.for("v-stc"),Qa=[];let Ir=null;function M(t=!1){Qa.push(Ir=t?null:[])}function bx(){Qa.pop(),Ir=Qa[Qa.length-1]||null}let Ni=1;function wf(t,e=!1){Ni+=t,t<0&&Ir&&e&&(Ir.hasOnce=!0)}function xx(t){return t.dynamicChildren=Ni>0?Ir||Eo:null,bx(),Ni>0&&Ir&&Ir.push(t),t}function U(t,e,r,n,s,i){return xx(c(t,e,r,n,s,i,!0))}function dt(t,e,r,n,s){return xx(H(t,e,r,n,s,!0))}function as(t){return t?t.__v_isVNode===!0:!1}function En(t,e){return t.type===e.type&&t.key===e.key}function A4(t){}const _x=({key:t})=>t??null,Kc=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?Ue(t)||Ct(t)||De(t)?{i:Yt,r:t,k:e,f:!!r}:t:null);function c(t,e=null,r=null,n=0,s=null,i=t===xe?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&_x(e),ref:e&&Kc(e),scopeId:dd,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Yt};return a?(Yp(l,r),i&128&&t.normalize(l)):r&&(l.shapeFlag|=Ue(r)?8:16),Ni>0&&!o&&Ir&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ir.push(l),l}const H=S4;function S4(t,e=null,r=null,n=0,s=null,i=!1){if((!t||t===W1)&&(t=Bt),as(t)){const a=Sn(t,e,!0);return r&&Yp(a,r),Ni>0&&!i&&Ir&&(a.shapeFlag&6?Ir[Ir.indexOf(t)]=a:Ir.push(a)),a.patchFlag=-2,a}if(O4(t)&&(t=t.__vccOpts),e){e=wx(e);let{class:a,style:l}=e;a&&!Ue(a)&&(e.class=$e(a)),ft(l)&&(ld(l)&&!ye(l)&&(l=Qe({},l)),e.style=St(l))}const o=Ue(t)?1:yu(t)?128:P1(t)?64:ft(t)?4:De(t)?2:0;return c(t,e,r,n,s,o,i,!0)}function wx(t){return t?ld(t)||Z1(t)?Qe({},t):t:null}function Sn(t,e,r=!1,n=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:l}=t,d=e?kx(s||{},e):s,h={__v_isVNode:!0,__v_skip:!0,type:t.type,props:d,key:d&&_x(d),ref:e&&e.ref?r&&i?ye(i)?i.concat(Kc(e)):[i,Kc(e)]:Kc(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==xe?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Sn(t.ssContent),ssFallback:t.ssFallback&&Sn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&n&&os(h,l.clone(h)),h}function ue(t=" ",e=0){return H(Hs,null,t,e)}function Tt(t,e){const r=H(Ai,null,t);return r.staticCount=e,r}function de(t="",e=!1){return e?(M(),dt(Bt,null,t)):H(Bt,null,t)}function jr(t){return t==null||typeof t=="boolean"?H(Bt):ye(t)?H(xe,null,t.slice()):as(t)?Ns(t):H(Hs,null,String(t))}function Ns(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Sn(t)}function Yp(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(ye(e))r=16;else if(typeof e=="object")if(n&65){const s=e.default;s&&(s._c&&(s._d=!1),Yp(t,s()),s._c&&(s._d=!0));return}else{r=32;const s=e._;!s&&!Z1(e)?e._ctx=Yt:s===3&&Yt&&(Yt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else De(e)?(e={default:e,_ctx:Yt},r=32):(e=String(e),n&64?(r=16,e=[ue(e)]):r=8);t.children=e,t.shapeFlag|=r}function kx(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const s in n)if(s==="class")e.class!==n.class&&(e.class=$e([e.class,n.class]));else if(s==="style")e.style=St([e.style,n.style]);else if(Hi(s)){const i=e[s],o=n[s];o&&i!==o&&!(ye(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=n[s])}return e}function Ur(t,e,r,n=null){vn(t,e,7,[r,n])}const C4=Q1();let P4=0;function Ex(t,e,r){const n=t.type,s=(e?e.appContext:t.appContext)||C4,i={uid:P4++,vnode:t,type:n,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Cp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:tx(n,s),emitsOptions:gx(n,s),emit:null,emitted:null,propsDefaults:Ke,inheritAttrs:n.inheritAttrs,ctx:Ke,data:Ke,props:Ke,attrs:Ke,slots:Ke,refs:Ke,setupState:Ke,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=m4.bind(null,i),t.ce&&t.ce(i),i}let Qt=null;const sn=()=>Qt||Yt;let bu,kf;{const t=rd(),e=(r,n)=>{let s;return(s=t[r])||(s=t[r]=[]),s.push(n),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};bu=e("__VUE_INSTANCE_SETTERS__",r=>Qt=r),kf=e("__VUE_SSR_SETTERS__",r=>Do=r)}const $i=t=>{const e=Qt;return bu(t),t.scope.on(),()=>{t.scope.off(),bu(e)}},Ef=()=>{Qt&&Qt.scope.off(),bu(null)};function Ix(t){return t.vnode.shapeFlag&4}let Do=!1;function Tx(t,e=!1,r=!1){e&&kf(e);const{props:n,children:s}=t.vnode,i=Ix(t);i4(t,n,i,e),c4(t,s,r);const o=i?R4(t,e):void 0;return e&&kf(!1),o}function R4(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,vf);const{setup:n}=r;if(n){ri();const s=t.setupContext=n.length>1?Cx(t):null,i=$i(t),o=ra(n,t,0,[t.props,s]),a=Ap(o);if(ni(),i(),(a||t.sp)&&!qs(t)&&Bp(t),a){if(o.then(Ef,Ef),e)return o.then(l=>{If(t,l,e)}).catch(l=>{Ki(l,t,0)});t.asyncDep=o}else If(t,o,e)}else Sx(t,e)}function If(t,e,r){De(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ft(e)&&(t.setupState=Vp(e)),Sx(t,r)}let xu,Tf;function Ax(t){xu=t,Tf=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,LT))}}const N4=()=>!xu;function Sx(t,e,r){const n=t.type;if(!t.render){if(!e&&xu&&!n.render){const s=n.template||Kp(t).template;if(s){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=n,d=Qe(Qe({isCustomElement:i,delimiters:a},o),l);n.render=xu(s,d)}}t.render=n.render||sr,Tf&&Tf(t)}{const s=$i(t);ri();try{XT(t)}finally{ni(),s()}}}const $4={get(t,e){return wr(t,"get",""),t[e]}};function Cx(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,$4),slots:t.slots,emit:t.emit,expose:e}}function Fl(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Vp(cd(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Ga)return Ga[r](t)},has(e,r){return r in e||r in Ga}})):t.proxy}function Af(t,e=!0){return De(t)?t.displayName||t.name:t.name||e&&t.__name}function O4(t){return De(t)&&"__vccOpts"in t}const re=(t,e)=>eT(t,e,Do);function yt(t,e,r){const n=arguments.length;return n===2?ft(e)&&!ye(e)?as(e)?H(t,null,[e]):H(t,e):H(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&as(r)&&(r=[r]),H(t,e,r))}function D4(){}function M4(t,e,r,n){const s=r[n];if(s&&Px(s,t))return s;const i=e();return i.memo=t.slice(),i.cacheIndex=n,r[n]=i}function Px(t,e){const r=t.memo;if(r.length!=e.length)return!1;for(let n=0;n<r.length;n++)if(Dr(r[n],e[n]))return!1;return Ni>0&&Ir&&Ir.push(t),!0}const Rx="3.5.13",V4=sr,L4=cT,F4=po,U4=S1,j4={createComponentInstance:Ex,setupComponent:Tx,renderComponentRoot:Wc,setCurrentRenderingInstance:hl,isVNode:as,normalizeVNode:jr,getComponentPublicInstance:Fl,ensureValidVNode:Wp,pushWarningContext:iT,popWarningContext:oT},B4=j4,q4=null,H4=null,z4=null;/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Sf;const B0=typeof window<"u"&&window.trustedTypes;if(B0)try{Sf=B0.createPolicy("vue",{createHTML:t=>t})}catch{}const Nx=Sf?t=>Sf.createHTML(t):t=>t,W4="http://www.w3.org/2000/svg",K4="http://www.w3.org/1998/Math/MathML",Qn=typeof document<"u"?document:null,q0=Qn&&Qn.createElement("template"),G4={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const s=e==="svg"?Qn.createElementNS(W4,t):e==="mathml"?Qn.createElementNS(K4,t):r?Qn.createElement(t,{is:r}):Qn.createElement(t);return t==="select"&&n&&n.multiple!=null&&s.setAttribute("multiple",n.multiple),s},createText:t=>Qn.createTextNode(t),createComment:t=>Qn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Qn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,s,i){const o=r?r.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),r),!(s===i||!(s=s.nextSibling)););else{q0.innerHTML=Nx(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const a=q0.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},ws="transition",ka="animation",Mo=Symbol("_vtc"),$x={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Ox=Qe({},jp,$x),Q4=t=>(t.displayName="Transition",t.props=Ox,t),Fs=Q4((t,{slots:e})=>yt(D1,Dx(t),e)),fi=(t,e=[])=>{ye(t)?t.forEach(r=>r(...e)):t&&t(...e)},H0=t=>t?ye(t)?t.some(e=>e.length>1):t.length>1:!1;function Dx(t){const e={};for(const P in t)P in $x||(e[P]=t[P]);if(t.css===!1)return e;const{name:r="v",type:n,duration:s,enterFromClass:i=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:l=i,appearActiveClass:d=o,appearToClass:h=a,leaveFromClass:f=`${r}-leave-from`,leaveActiveClass:p=`${r}-leave-active`,leaveToClass:v=`${r}-leave-to`}=t,b=Y4(s),w=b&&b[0],_=b&&b[1],{onBeforeEnter:T,onEnter:S,onEnterCancelled:E,onLeave:N,onLeaveCancelled:C,onBeforeAppear:F=T,onAppear:I=S,onAppearCancelled:y=E}=e,m=(P,R,le,Y)=>{P._enterCancelled=Y,As(P,R?h:a),As(P,R?d:o),le&&le()},k=(P,R)=>{P._isLeaving=!1,As(P,f),As(P,v),As(P,p),R&&R()},$=P=>(R,le)=>{const Y=P?I:S,L=()=>m(R,P,le);fi(Y,[R,L]),z0(()=>{As(R,P?l:i),$n(R,P?h:a),H0(Y)||W0(R,n,w,L)})};return Qe(e,{onBeforeEnter(P){fi(T,[P]),$n(P,i),$n(P,o)},onBeforeAppear(P){fi(F,[P]),$n(P,l),$n(P,d)},onEnter:$(!1),onAppear:$(!0),onLeave(P,R){P._isLeaving=!0;const le=()=>k(P,R);$n(P,f),P._enterCancelled?($n(P,p),Cf()):(Cf(),$n(P,p)),z0(()=>{P._isLeaving&&(As(P,f),$n(P,v),H0(N)||W0(P,n,_,le))}),fi(N,[P,le])},onEnterCancelled(P){m(P,!1,void 0,!0),fi(E,[P])},onAppearCancelled(P){m(P,!0,void 0,!0),fi(y,[P])},onLeaveCancelled(P){k(P),fi(C,[P])}})}function Y4(t){if(t==null)return null;if(ft(t))return[Oh(t.enter),Oh(t.leave)];{const e=Oh(t);return[e,e]}}function Oh(t){return uu(t)}function $n(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[Mo]||(t[Mo]=new Set)).add(e)}function As(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const r=t[Mo];r&&(r.delete(e),r.size||(t[Mo]=void 0))}function z0(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let J4=0;function W0(t,e,r,n){const s=t._endId=++J4,i=()=>{s===t._endId&&n()};if(r!=null)return setTimeout(i,r);const{type:o,timeout:a,propCount:l}=Mx(t,e);if(!o)return n();const d=o+"end";let h=0;const f=()=>{t.removeEventListener(d,p),i()},p=v=>{v.target===t&&++h>=l&&f()};setTimeout(()=>{h<l&&f()},a+1),t.addEventListener(d,p)}function Mx(t,e){const r=window.getComputedStyle(t),n=b=>(r[b]||"").split(", "),s=n(`${ws}Delay`),i=n(`${ws}Duration`),o=K0(s,i),a=n(`${ka}Delay`),l=n(`${ka}Duration`),d=K0(a,l);let h=null,f=0,p=0;e===ws?o>0&&(h=ws,f=o,p=i.length):e===ka?d>0&&(h=ka,f=d,p=l.length):(f=Math.max(o,d),h=f>0?o>d?ws:ka:null,p=h?h===ws?i.length:l.length:0);const v=h===ws&&/\b(transform|all)(,|$)/.test(n(`${ws}Property`).toString());return{type:h,timeout:f,propCount:p,hasTransform:v}}function K0(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,n)=>G0(r)+G0(t[n])))}function G0(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Cf(){return document.body.offsetHeight}function X4(t,e,r){const n=t[Mo];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const _u=Symbol("_vod"),Vx=Symbol("_vsh"),Jp={beforeMount(t,{value:e},{transition:r}){t[_u]=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):Ea(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:n}){!e!=!r&&(n?e?(n.beforeEnter(t),Ea(t,!0),n.enter(t)):n.leave(t,()=>{Ea(t,!1)}):Ea(t,e))},beforeUnmount(t,{value:e}){Ea(t,e)}};function Ea(t,e){t.style.display=e?t[_u]:"none",t[Vx]=!e}function Z4(){Jp.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const Lx=Symbol("");function eA(t){const e=sn();if(!e)return;const r=e.ut=(s=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(i=>wu(i,s))},n=()=>{const s=t(e.proxy);e.ce?wu(e.ce,s):Pf(e.subTree,s),r(s)};qp(()=>{ul(n)}),je(()=>{Rt(n,sr,{flush:"post"});const s=new MutationObserver(n);s.observe(e.subTree.el.parentNode,{childList:!0}),Wt(()=>s.disconnect())})}function Pf(t,e){if(t.shapeFlag&128){const r=t.suspense;t=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{Pf(r.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)wu(t.el,e);else if(t.type===xe)t.children.forEach(r=>Pf(r,e));else if(t.type===Ai){let{el:r,anchor:n}=t;for(;r&&(wu(r,e),r!==n);)r=r.nextSibling}}function wu(t,e){if(t.nodeType===1){const r=t.style;let n="";for(const s in e)r.setProperty(`--${s}`,e[s]),n+=`--${s}: ${e[s]};`;r[Lx]=n}}const tA=/(^|;)\s*display\s*:/;function rA(t,e,r){const n=t.style,s=Ue(r);let i=!1;if(r&&!s){if(e)if(Ue(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&Gc(n,a,"")}else for(const o in e)r[o]==null&&Gc(n,o,"");for(const o in r)o==="display"&&(i=!0),Gc(n,o,r[o])}else if(s){if(e!==r){const o=n[Lx];o&&(r+=";"+o),n.cssText=r,i=tA.test(r)}}else e&&t.removeAttribute("style");_u in t&&(t[_u]=i?n.display:"",t[Vx]&&(n.display="none"))}const Q0=/\s*!important$/;function Gc(t,e,r){if(ye(r))r.forEach(n=>Gc(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=nA(t,e);Q0.test(r)?t.setProperty(Br(n),r.replace(Q0,""),"important"):t[n]=r}}const Y0=["Webkit","Moz","ms"],Dh={};function nA(t,e){const r=Dh[e];if(r)return r;let n=kt(e);if(n!=="filter"&&n in t)return Dh[e]=n;n=Wi(n);for(let s=0;s<Y0.length;s++){const i=Y0[s]+n;if(i in t)return Dh[e]=i}return e}const J0="http://www.w3.org/1999/xlink";function X0(t,e,r,n,s,i=wI(e)){n&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(J0,e.slice(6,e.length)):t.setAttributeNS(J0,e,r):r==null||i&&!Zb(r)?t.removeAttribute(e):t.setAttribute(e,i?"":Kr(r)?String(r):r)}function Z0(t,e,r,n,s){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?Nx(r):r);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=r==null?t.type==="checkbox"?"on":"":String(r);(a!==l||!("_value"in t))&&(t.value=l),r==null&&t.removeAttribute(e),t._value=r;return}let o=!1;if(r===""||r==null){const a=typeof t[e];a==="boolean"?r=Zb(r):r==null&&a==="string"?(r="",o=!0):a==="number"&&(r=0,o=!0)}try{t[e]=r}catch{}o&&t.removeAttribute(s||e)}function Xn(t,e,r,n){t.addEventListener(e,r,n)}function sA(t,e,r,n){t.removeEventListener(e,r,n)}const ev=Symbol("_vei");function iA(t,e,r,n,s=null){const i=t[ev]||(t[ev]={}),o=i[e];if(n&&o)o.value=n;else{const[a,l]=oA(e);if(n){const d=i[e]=cA(n,s);Xn(t,a,d,l)}else o&&(sA(t,a,o,l),i[e]=void 0)}}const tv=/(?:Once|Passive|Capture)$/;function oA(t){let e;if(tv.test(t)){e={};let n;for(;n=t.match(tv);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Br(t.slice(2)),e]}let Mh=0;const aA=Promise.resolve(),lA=()=>Mh||(aA.then(()=>Mh=0),Mh=Date.now());function cA(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;vn(uA(n,r.value),e,5,[n])};return r.value=t,r.attached=lA(),r}function uA(t,e){if(ye(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>s=>!s._stopped&&n&&n(s))}else return e}const rv=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,dA=(t,e,r,n,s,i)=>{const o=s==="svg";e==="class"?X4(t,n,o):e==="style"?rA(t,r,n):Hi(e)?Ip(e)||iA(t,e,r,n,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):hA(t,e,n,o))?(Z0(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&X0(t,e,n,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Ue(n))?Z0(t,kt(e),n,i,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),X0(t,e,n,o))};function hA(t,e,r,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&rv(e)&&De(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return rv(e)&&Ue(r)?!1:e in t}const nv={};/*! #__NO_SIDE_EFFECTS__ */function Fx(t,e,r){const n=Ze(t,e);ed(n)&&Qe(n,e);class s extends yd{constructor(o){super(n,o,r)}}return s.def=n,s}/*! #__NO_SIDE_EFFECTS__ */const fA=(t,e)=>Fx(t,e,Jx),pA=typeof HTMLElement<"u"?HTMLElement:class{};class yd extends pA{constructor(e,r={},n=Eu){super(),this._def=e,this._props=r,this._createApp=n,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&n!==Eu?this._root=this.shadowRoot:e.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof yd){this._parent=e;break}this._instance||(this._resolved?(this._setParent(),this._update()):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._instance.provides=e._instance.provides)}disconnectedCallback(){this._connected=!1,ir(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let n=0;n<this.attributes.length;n++)this._setAttr(this.attributes[n].name);this._ob=new MutationObserver(n=>{for(const s of n)this._setAttr(s.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(n,s=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:i,styles:o}=n;let a;if(i&&!ye(i))for(const l in i){const d=i[l];(d===Number||d&&d.type===Number)&&(l in this._props&&(this._props[l]=uu(this._props[l])),(a||(a=Object.create(null)))[kt(l)]=!0)}this._numberProps=a,s&&this._resolveProps(n),this.shadowRoot&&this._applyStyles(o),this._mount(n)},r=this._def.__asyncLoader;r?this._pendingResolve=r().then(n=>e(this._def=n,!0)):e(this._def)}_mount(e){this._app=this._createApp(e),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const r=this._instance&&this._instance.exposed;if(r)for(const n in r)lt(this,n)||Object.defineProperty(this,n,{get:()=>B(r[n])})}_resolveProps(e){const{props:r}=e,n=ye(r)?r:Object.keys(r||{});for(const s of Object.keys(this))s[0]!=="_"&&n.includes(s)&&this._setProp(s,this[s]);for(const s of n.map(kt))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(i){this._setProp(s,i,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const r=this.hasAttribute(e);let n=r?this.getAttribute(e):nv;const s=kt(e);r&&this._numberProps&&this._numberProps[s]&&(n=uu(n)),this._setProp(s,n,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,r,n=!0,s=!1){if(r!==this._props[e]&&(r===nv?delete this._props[e]:(this._props[e]=r,e==="key"&&this._app&&(this._app._ceVNode.key=r)),s&&this._instance&&this._update(),n)){const i=this._ob;i&&i.disconnect(),r===!0?this.setAttribute(Br(e),""):typeof r=="string"||typeof r=="number"?this.setAttribute(Br(e),r+""):r||this.removeAttribute(Br(e)),i&&i.observe(this,{attributes:!0})}}_update(){Yx(this._createVNode(),this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const r=H(this._def,Qe(e,this._props));return this._instance||(r.ce=n=>{this._instance=n,n.ce=this,n.isCE=!0;const s=(i,o)=>{this.dispatchEvent(new CustomEvent(i,ed(o[0])?Qe({detail:o},o[0]):{detail:o}))};n.emit=(i,...o)=>{s(i,o),Br(i)!==i&&s(Br(i),o)},this._setParent()}),r}_applyStyles(e,r){if(!e)return;if(r){if(r===this._def||this._styleChildren.has(r))return;this._styleChildren.add(r)}const n=this._nonce;for(let s=e.length-1;s>=0;s--){const i=document.createElement("style");n&&i.setAttribute("nonce",n),i.textContent=e[s],this.shadowRoot.prepend(i)}}_parseSlots(){const e=this._slots={};let r;for(;r=this.firstChild;){const n=r.nodeType===1&&r.getAttribute("slot")||"default";(e[n]||(e[n]=[])).push(r),this.removeChild(r)}}_renderSlots(){const e=(this._teleportTarget||this).querySelectorAll("slot"),r=this._instance.type.__scopeId;for(let n=0;n<e.length;n++){const s=e[n],i=s.getAttribute("name")||"default",o=this._slots[i],a=s.parentNode;if(o)for(const l of o){if(r&&l.nodeType===1){const d=r+"-s",h=document.createTreeWalker(l,1);l.setAttribute(d,"");let f;for(;f=h.nextNode();)f.setAttribute(d,"")}a.insertBefore(l,s)}else for(;s.firstChild;)a.insertBefore(s.firstChild,s);a.removeChild(s)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){}}function Ux(t){const e=sn(),r=e&&e.ce;return r||null}function mA(){const t=Ux();return t&&t.shadowRoot}function gA(t="$style"){{const e=sn();if(!e)return Ke;const r=e.type.__cssModules;if(!r)return Ke;const n=r[t];return n||Ke}}const jx=new WeakMap,Bx=new WeakMap,ku=Symbol("_moveCb"),sv=Symbol("_enterCb"),vA=t=>(delete t.props.mode,t),yA=vA({name:"TransitionGroup",props:Qe({},Ox,{tag:String,moveClass:String}),setup(t,{slots:e}){const r=sn(),n=Up();let s,i;return pd(()=>{if(!s.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!wA(s[0].el,r.vnode.el,o))return;s.forEach(bA),s.forEach(xA);const a=s.filter(_A);Cf(),a.forEach(l=>{const d=l.el,h=d.style;$n(d,o),h.transform=h.webkitTransform=h.transitionDuration="";const f=d[ku]=p=>{p&&p.target!==d||(!p||/transform$/.test(p.propertyName))&&(d.removeEventListener("transitionend",f),d[ku]=null,As(d,o))};d.addEventListener("transitionend",f)})}),()=>{const o=We(t),a=Dx(o);let l=o.tag||xe;if(s=[],i)for(let d=0;d<i.length;d++){const h=i[d];h.el&&h.el instanceof Element&&(s.push(h),os(h,Oo(h,a,n,r)),jx.set(h,h.el.getBoundingClientRect()))}i=e.default?hd(e.default()):[];for(let d=0;d<i.length;d++){const h=i[d];h.key!=null&&os(h,Oo(h,a,n,r))}return H(l,null,i)}}}),qx=yA;function bA(t){const e=t.el;e[ku]&&e[ku](),e[sv]&&e[sv]()}function xA(t){Bx.set(t,t.el.getBoundingClientRect())}function _A(t){const e=jx.get(t),r=Bx.get(t),n=e.left-r.left,s=e.top-r.top;if(n||s){const i=t.el.style;return i.transform=i.webkitTransform=`translate(${n}px,${s}px)`,i.transitionDuration="0s",t}}function wA(t,e,r){const n=t.cloneNode(),s=t[Mo];s&&s.forEach(a=>{a.split(/\s+/).forEach(l=>l&&n.classList.remove(l))}),r.split(/\s+/).forEach(a=>a&&n.classList.add(a)),n.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(n);const{hasTransform:o}=Mx(n);return i.removeChild(n),o}const Xs=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ye(e)?r=>Ao(e,r):e};function kA(t){t.target.composing=!0}function iv(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const pn=Symbol("_assign"),Pe={created(t,{modifiers:{lazy:e,trim:r,number:n}},s){t[pn]=Xs(s);const i=n||s.props&&s.props.type==="number";Xn(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;r&&(a=a.trim()),i&&(a=cu(a)),t[pn](a)}),r&&Xn(t,"change",()=>{t.value=t.value.trim()}),e||(Xn(t,"compositionstart",kA),Xn(t,"compositionend",iv),Xn(t,"change",iv))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:r,modifiers:{lazy:n,trim:s,number:i}},o){if(t[pn]=Xs(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?cu(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(n&&e===r||s&&t.value.trim()===l)||(t.value=l))}},Vo={deep:!0,created(t,e,r){t[pn]=Xs(r),Xn(t,"change",()=>{const n=t._modelValue,s=Lo(t),i=t.checked,o=t[pn];if(ye(n)){const a=nd(n,s),l=a!==-1;if(i&&!l)o(n.concat(s));else if(!i&&l){const d=[...n];d.splice(a,1),o(d)}}else if(zi(n)){const a=new Set(n);i?a.add(s):a.delete(s),o(a)}else o(Hx(t,i))})},mounted:ov,beforeUpdate(t,e,r){t[pn]=Xs(r),ov(t,e,r)}};function ov(t,{value:e,oldValue:r},n){t._modelValue=e;let s;if(ye(e))s=nd(e,n.props.value)>-1;else if(zi(e))s=e.has(n.props.value);else{if(e===r)return;s=Ys(e,Hx(t,!0))}t.checked!==s&&(t.checked=s)}const Xp={created(t,{value:e},r){t.checked=Ys(e,r.props.value),t[pn]=Xs(r),Xn(t,"change",()=>{t[pn](Lo(t))})},beforeUpdate(t,{value:e,oldValue:r},n){t[pn]=Xs(n),e!==r&&(t.checked=Ys(e,n.props.value))}},rs={deep:!0,created(t,{value:e,modifiers:{number:r}},n){const s=zi(e);Xn(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>r?cu(Lo(o)):Lo(o));t[pn](t.multiple?s?new Set(i):i:i[0]),t._assigning=!0,ir(()=>{t._assigning=!1})}),t[pn]=Xs(n)},mounted(t,{value:e}){av(t,e)},beforeUpdate(t,e,r){t[pn]=Xs(r)},updated(t,{value:e}){t._assigning||av(t,e)}};function av(t,e){const r=t.multiple,n=ye(e);if(!(r&&!n&&!zi(e))){for(let s=0,i=t.options.length;s<i;s++){const o=t.options[s],a=Lo(o);if(r)if(n){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(d=>String(d)===String(a)):o.selected=nd(e,a)>-1}else o.selected=e.has(a);else if(Ys(Lo(o),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Lo(t){return"_value"in t?t._value:t.value}function Hx(t,e){const r=e?"_trueValue":"_falseValue";return r in t?t[r]:e}const zx={created(t,e,r){Cc(t,e,r,null,"created")},mounted(t,e,r){Cc(t,e,r,null,"mounted")},beforeUpdate(t,e,r,n){Cc(t,e,r,n,"beforeUpdate")},updated(t,e,r,n){Cc(t,e,r,n,"updated")}};function Wx(t,e){switch(t){case"SELECT":return rs;case"TEXTAREA":return Pe;default:switch(e){case"checkbox":return Vo;case"radio":return Xp;default:return Pe}}}function Cc(t,e,r,n,s){const o=Wx(t.tagName,r.props&&r.props.type)[s];o&&o(t,e,r,n)}function EA(){Pe.getSSRProps=({value:t})=>({value:t}),Xp.getSSRProps=({value:t},e)=>{if(e.props&&Ys(e.props.value,t))return{checked:!0}},Vo.getSSRProps=({value:t},e)=>{if(ye(t)){if(e.props&&nd(t,e.props.value)>-1)return{checked:!0}}else if(zi(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},zx.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const r=Wx(e.type.toUpperCase(),e.props&&e.props.type);if(r.getSSRProps)return r.getSSRProps(t,e)}}const IA=["ctrl","shift","alt","meta"],TA={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>IA.some(r=>t[`${r}Key`]&&!e.includes(r))},Vr=(t,e)=>{const r=t._withMods||(t._withMods={}),n=e.join(".");return r[n]||(r[n]=(s,...i)=>{for(let o=0;o<e.length;o++){const a=TA[e[o]];if(a&&a(s,e))return}return t(s,...i)})},AA={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},SA=(t,e)=>{const r=t._withKeys||(t._withKeys={}),n=e.join(".");return r[n]||(r[n]=s=>{if(!("key"in s))return;const i=Br(s.key);if(e.some(o=>o===i||AA[o]===i))return t(s)})},Kx=Qe({patchProp:dA},G4);let Ya,lv=!1;function Gx(){return Ya||(Ya=ox(Kx))}function Qx(){return Ya=lv?Ya:ax(Kx),lv=!0,Ya}const Yx=(...t)=>{Gx().render(...t)},CA=(...t)=>{Qx().hydrate(...t)},Eu=(...t)=>{const e=Gx().createApp(...t),{mount:r}=e;return e.mount=n=>{const s=Zx(n);if(!s)return;const i=e._component;!De(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=r(s,!1,Xx(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e},Jx=(...t)=>{const e=Qx().createApp(...t),{mount:r}=e;return e.mount=n=>{const s=Zx(n);if(s)return r(s,!0,Xx(s))},e};function Xx(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Zx(t){return Ue(t)?document.querySelector(t):t}let cv=!1;const PA=()=>{cv||(cv=!0,EA(),Z4())},RA=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:D1,BaseTransitionPropsValidators:jp,Comment:Bt,DeprecationTypes:z4,EffectScope:Cp,ErrorCodes:lT,ErrorTypeStrings:L4,Fragment:xe,KeepAlive:NT,ReactiveEffect:al,Static:Ai,Suspense:_4,Teleport:Fp,Text:Hs,TrackOpTypes:tT,Transition:Fs,TransitionGroup:qx,TriggerOpTypes:rT,VueElement:yd,assertNumber:aT,callWithAsyncErrorHandling:vn,callWithErrorHandling:ra,camelize:kt,capitalize:Wi,cloneVNode:Sn,compatUtils:H4,computed:re,createApp:Eu,createBlock:dt,createCommentVNode:de,createElementBlock:U,createElementVNode:c,createHydrationRenderer:ax,createPropsRestProxy:YT,createRenderer:ox,createSSRApp:Jx,createSlots:MT,createStaticVNode:Tt,createTextVNode:ue,createVNode:H,customRef:b1,defineAsyncComponent:PT,defineComponent:Ze,defineCustomElement:Fx,defineEmits:UT,defineExpose:jT,defineModel:HT,defineOptions:BT,defineProps:FT,defineSSRCustomElement:fA,defineSlots:qT,devtools:F4,effect:II,effectScope:Pp,getCurrentInstance:sn,getCurrentScope:Rp,getCurrentWatcher:nT,getTransitionRawChildren:hd,guardReactiveProps:wx,h:yt,handleError:Ki,hasInjectionContext:Y1,hydrate:CA,hydrateOnIdle:ET,hydrateOnInteraction:ST,hydrateOnMediaQuery:AT,hydrateOnVisible:TT,initCustomFormatter:D4,initDirectivesForSSR:PA,inject:it,isMemoSame:Px,isProxy:ld,isReactive:Tn,isReadonly:Js,isRef:Ct,isRuntimeOnly:N4,isShallow:en,isVNode:as,markRaw:cd,mergeDefaults:GT,mergeModels:QT,mergeProps:kx,nextTick:ir,normalizeClass:$e,normalizeProps:hI,normalizeStyle:St,onActivated:L1,onBeforeMount:j1,onBeforeUnmount:Gi,onBeforeUpdate:qp,onDeactivated:F1,onErrorCaptured:z1,onMounted:je,onRenderTracked:H1,onRenderTriggered:q1,onScopeDispose:r1,onServerPrefetch:B1,onUnmounted:Wt,onUpdated:pd,onWatcherCleanup:k1,openBlock:M,popScopeId:fT,provide:Ht,proxyRefs:Vp,pushScopeId:hT,queuePostFlushCb:ul,reactive:gn,readonly:Mp,ref:q,registerRuntimeCompiler:Ax,render:Yx,renderList:qe,renderSlot:mu,resolveComponent:Lr,resolveDirective:DT,resolveDynamicComponent:md,resolveFilter:q4,resolveTransitionHooks:Oo,setBlockTracking:wf,setDevtoolsHook:U4,setTransitionHooks:os,shallowReactive:Dp,shallowReadonly:zI,shallowRef:ud,ssrContextKey:dx,ssrUtils:B4,stop:TI,toDisplayString:W,toHandlerKey:To,toHandlers:VT,toRaw:We,toRef:_1,toRefs:x1,toValue:GI,transformVNodeArgs:A4,triggerRef:KI,unref:B,useAttrs:KT,useCssModule:gA,useCssVars:eA,useHost:Ux,useId:V1,useModel:p4,useSSRContext:hx,useShadowRoot:mA,useSlots:WT,useTemplateRef:vT,useTransitionState:Up,vModelCheckbox:Vo,vModelDynamic:zx,vModelRadio:Xp,vModelSelect:rs,vModelText:Pe,vShow:Jp,version:Rx,warn:V4,watch:Rt,watchEffect:lr,watchPostEffect:h4,watchSyncEffect:fx,withAsyncContext:JT,withCtx:te,withDefaults:zT,withDirectives:ke,withKeys:SA,withMemo:M4,withModifiers:Vr,withScopeId:pT},Symbol.toStringTag,{value:"Module"}));/**
* @vue/compiler-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const gl=Symbol(""),Ja=Symbol(""),Zp=Symbol(""),Iu=Symbol(""),e_=Symbol(""),Oi=Symbol(""),t_=Symbol(""),r_=Symbol(""),em=Symbol(""),tm=Symbol(""),Ul=Symbol(""),rm=Symbol(""),n_=Symbol(""),nm=Symbol(""),sm=Symbol(""),im=Symbol(""),om=Symbol(""),am=Symbol(""),lm=Symbol(""),s_=Symbol(""),i_=Symbol(""),bd=Symbol(""),Tu=Symbol(""),cm=Symbol(""),um=Symbol(""),vl=Symbol(""),jl=Symbol(""),dm=Symbol(""),Rf=Symbol(""),NA=Symbol(""),Nf=Symbol(""),Au=Symbol(""),$A=Symbol(""),OA=Symbol(""),hm=Symbol(""),DA=Symbol(""),MA=Symbol(""),fm=Symbol(""),o_=Symbol(""),Fo={[gl]:"Fragment",[Ja]:"Teleport",[Zp]:"Suspense",[Iu]:"KeepAlive",[e_]:"BaseTransition",[Oi]:"openBlock",[t_]:"createBlock",[r_]:"createElementBlock",[em]:"createVNode",[tm]:"createElementVNode",[Ul]:"createCommentVNode",[rm]:"createTextVNode",[n_]:"createStaticVNode",[nm]:"resolveComponent",[sm]:"resolveDynamicComponent",[im]:"resolveDirective",[om]:"resolveFilter",[am]:"withDirectives",[lm]:"renderList",[s_]:"renderSlot",[i_]:"createSlots",[bd]:"toDisplayString",[Tu]:"mergeProps",[cm]:"normalizeClass",[um]:"normalizeStyle",[vl]:"normalizeProps",[jl]:"guardReactiveProps",[dm]:"toHandlers",[Rf]:"camelize",[NA]:"capitalize",[Nf]:"toHandlerKey",[Au]:"setBlockTracking",[$A]:"pushScopeId",[OA]:"popScopeId",[hm]:"withCtx",[DA]:"unref",[MA]:"isRef",[fm]:"withMemo",[o_]:"isMemoSame"};function VA(t){Object.getOwnPropertySymbols(t).forEach(e=>{Fo[e]=t[e]})}const on={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function LA(t,e=""){return{type:0,source:e,children:t,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:on}}function yl(t,e,r,n,s,i,o,a=!1,l=!1,d=!1,h=on){return t&&(a?(t.helper(Oi),t.helper(Bo(t.inSSR,d))):t.helper(jo(t.inSSR,d)),o&&t.helper(am)),{type:13,tag:e,props:r,children:n,patchFlag:s,dynamicProps:i,directives:o,isBlock:a,disableTracking:l,isComponent:d,loc:h}}function Si(t,e=on){return{type:17,loc:e,elements:t}}function hn(t,e=on){return{type:15,loc:e,properties:t}}function Ft(t,e){return{type:16,loc:on,key:Ue(t)?He(t,!0):t,value:e}}function He(t,e=!1,r=on,n=0){return{type:4,loc:r,content:t,isStatic:e,constType:e?3:n}}function An(t,e=on){return{type:8,loc:e,children:t}}function Gt(t,e=[],r=on){return{type:14,loc:r,callee:t,arguments:e}}function Uo(t,e=void 0,r=!1,n=!1,s=on){return{type:18,params:t,returns:e,newline:r,isSlot:n,loc:s}}function $f(t,e,r,n=!0){return{type:19,test:t,consequent:e,alternate:r,newline:n,loc:on}}function FA(t,e,r=!1,n=!1){return{type:20,index:t,value:e,needPauseTracking:r,inVOnce:n,needArraySpread:!1,loc:on}}function UA(t){return{type:21,body:t,loc:on}}function jo(t,e){return t||e?em:tm}function Bo(t,e){return t||e?t_:r_}function pm(t,{helper:e,removeHelper:r,inSSR:n}){t.isBlock||(t.isBlock=!0,r(jo(n,t.isComponent)),e(Oi),e(Bo(n,t.isComponent)))}const uv=new Uint8Array([123,123]),dv=new Uint8Array([125,125]);function hv(t){return t>=97&&t<=122||t>=65&&t<=90}function Yr(t){return t===32||t===10||t===9||t===12||t===13}function ks(t){return t===47||t===62||Yr(t)}function Su(t){const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}const gr={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class jA{constructor(e,r){this.stack=e,this.cbs=r,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=uv,this.delimiterClose=dv,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=uv,this.delimiterClose=dv}getPos(e){let r=1,n=e+1;for(let s=this.newlines.length-1;s>=0;s--){const i=this.newlines[s];if(e>i){r=s+2,n=e-i;break}}return{column:n,line:r,offset:e}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(e){e===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&e===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e))}stateInterpolationOpen(e){if(e===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const r=this.index+1-this.delimiterOpen.length;r>this.sectionStart&&this.cbs.ontext(this.sectionStart,r),this.state=3,this.sectionStart=r}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(e)):(this.state=1,this.stateText(e))}stateInterpolation(e){e===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(e))}stateInterpolationClose(e){e===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(e))}stateSpecialStartSequence(e){const r=this.sequenceIndex===this.currentSequence.length;if(!(r?ks(e):(e|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!r){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(e)}stateInRCDATA(e){if(this.sequenceIndex===this.currentSequence.length){if(e===62||Yr(e)){const r=this.index-this.currentSequence.length;if(this.sectionStart<r){const n=this.index;this.index=r,this.cbs.ontext(this.sectionStart,r),this.index=n}this.sectionStart=r+2,this.stateInClosingTagName(e),this.inRCDATA=!1;return}this.sequenceIndex=0}(e|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===gr.TitleEnd||this.currentSequence===gr.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&e===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(e===60)}stateCDATASequence(e){e===gr.Cdata[this.sequenceIndex]?++this.sequenceIndex===gr.Cdata.length&&(this.state=28,this.currentSequence=gr.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(e))}fastForwardTo(e){for(;++this.index<this.buffer.length;){const r=this.buffer.charCodeAt(this.index);if(r===10&&this.newlines.push(this.index),r===e)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===gr.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(e,r){this.enterRCDATA(e,r),this.state=31}enterRCDATA(e,r){this.inRCDATA=!0,this.currentSequence=e,this.sequenceIndex=r}stateBeforeTagName(e){e===33?(this.state=22,this.sectionStart=this.index+1):e===63?(this.state=24,this.sectionStart=this.index+1):hv(e)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:e===116?this.state=30:this.state=e===115?29:6):e===47?this.state=8:(this.state=1,this.stateText(e))}stateInTagName(e){ks(e)&&this.handleTagName(e)}stateInSFCRootTagName(e){if(ks(e)){const r=this.buffer.slice(this.sectionStart,this.index);r!=="template"&&this.enterRCDATA(Su("</"+r),0),this.handleTagName(e)}}handleTagName(e){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)}stateBeforeClosingTagName(e){Yr(e)||(e===62?(this.state=1,this.sectionStart=this.index+1):(this.state=hv(e)?9:27,this.sectionStart=this.index))}stateInClosingTagName(e){(e===62||Yr(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(e))}stateAfterClosingTagName(e){e===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(e){e===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):e===47?this.state=7:e===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):Yr(e)||this.handleAttrStart(e)}handleAttrStart(e){e===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):e===46||e===58||e===64||e===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(e){e===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):Yr(e)||(this.state=11,this.stateBeforeAttrName(e))}stateInAttrName(e){(e===61||ks(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(e))}stateInDirName(e){e===61||ks(e)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):e===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(e){e===61||ks(e)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===91?this.state=15:e===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(e){e===93?this.state=14:(e===61||ks(e))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(e))}stateInDirModifier(e){e===61||ks(e)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(e){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(e)}stateAfterAttrName(e){e===61?this.state=18:e===47||e===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)):Yr(e)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(e))}stateBeforeAttrValue(e){e===34?(this.state=19,this.sectionStart=this.index+1):e===39?(this.state=20,this.sectionStart=this.index+1):Yr(e)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(e))}handleInAttrValue(e,r){(e===r||this.fastForwardTo(r))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(r===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(e){this.handleInAttrValue(e,34)}stateInAttrValueSingleQuotes(e){this.handleInAttrValue(e,39)}stateInAttrValueNoQuotes(e){Yr(e)||e===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(e)):(e===39||e===60||e===61||e===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(e){e===91?(this.state=26,this.sequenceIndex=0):this.state=e===45?25:23}stateInDeclaration(e){(e===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(e){(e===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(e){e===45?(this.state=28,this.currentSequence=gr.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(e){(e===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(e){e===gr.ScriptEnd[3]?this.startSpecial(gr.ScriptEnd,4):e===gr.StyleEnd[3]?this.startSpecial(gr.StyleEnd,4):(this.state=6,this.stateInTagName(e))}stateBeforeSpecialT(e){e===gr.TitleEnd[3]?this.startSpecial(gr.TitleEnd,4):e===gr.TextareaEnd[3]?this.startSpecial(gr.TextareaEnd,4):(this.state=6,this.stateInTagName(e))}startEntity(){}stateInEntity(){}parse(e){for(this.buffer=e;this.index<this.buffer.length;){const r=this.buffer.charCodeAt(this.index);switch(r===10&&this.newlines.push(this.index),this.state){case 1:{this.stateText(r);break}case 2:{this.stateInterpolationOpen(r);break}case 3:{this.stateInterpolation(r);break}case 4:{this.stateInterpolationClose(r);break}case 31:{this.stateSpecialStartSequence(r);break}case 32:{this.stateInRCDATA(r);break}case 26:{this.stateCDATASequence(r);break}case 19:{this.stateInAttrValueDoubleQuotes(r);break}case 12:{this.stateInAttrName(r);break}case 13:{this.stateInDirName(r);break}case 14:{this.stateInDirArg(r);break}case 15:{this.stateInDynamicDirArg(r);break}case 16:{this.stateInDirModifier(r);break}case 28:{this.stateInCommentLike(r);break}case 27:{this.stateInSpecialComment(r);break}case 11:{this.stateBeforeAttrName(r);break}case 6:{this.stateInTagName(r);break}case 34:{this.stateInSFCRootTagName(r);break}case 9:{this.stateInClosingTagName(r);break}case 5:{this.stateBeforeTagName(r);break}case 17:{this.stateAfterAttrName(r);break}case 20:{this.stateInAttrValueSingleQuotes(r);break}case 18:{this.stateBeforeAttrValue(r);break}case 8:{this.stateBeforeClosingTagName(r);break}case 10:{this.stateAfterClosingTagName(r);break}case 29:{this.stateBeforeSpecialS(r);break}case 30:{this.stateBeforeSpecialT(r);break}case 21:{this.stateInAttrValueNoQuotes(r);break}case 7:{this.stateInSelfClosingTag(r);break}case 23:{this.stateInDeclaration(r);break}case 22:{this.stateBeforeDeclaration(r);break}case 25:{this.stateBeforeComment(r);break}case 24:{this.stateInProcessingInstruction(r);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const e=this.buffer.length;this.sectionStart>=e||(this.state===28?this.currentSequence===gr.CdataEnd?this.cbs.oncdata(this.sectionStart,e):this.cbs.oncomment(this.sectionStart,e):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,e))}emitCodePoint(e,r){}}function fv(t,{compatConfig:e}){const r=e&&e[t];return t==="MODE"?r||3:r}function Ci(t,e){const r=fv("MODE",e),n=fv(t,e);return r===3?n===!0:n!==!1}function bl(t,e,r,...n){return Ci(t,e)}function mm(t){throw t}function a_(t){}function At(t,e,r,n){const s=`https://vuejs.org/error-reference/#compiler-${t}`,i=new SyntaxError(String(s));return i.code=t,i.loc=e,i}const Hr=t=>t.type===4&&t.isStatic;function l_(t){switch(t){case"Teleport":case"teleport":return Ja;case"Suspense":case"suspense":return Zp;case"KeepAlive":case"keep-alive":return Iu;case"BaseTransition":case"base-transition":return e_}}const BA=/^\d|[^\$\w\xA0-\uFFFF]/,gm=t=>!BA.test(t),qA=/[A-Za-z_$\xA0-\uFFFF]/,HA=/[\.\?\w$\xA0-\uFFFF]/,zA=/\s+[.[]\s*|\s*[.[]\s+/g,c_=t=>t.type===4?t.content:t.loc.source,WA=t=>{const e=c_(t).trim().replace(zA,a=>a.trim());let r=0,n=[],s=0,i=0,o=null;for(let a=0;a<e.length;a++){const l=e.charAt(a);switch(r){case 0:if(l==="[")n.push(r),r=1,s++;else if(l==="(")n.push(r),r=2,i++;else if(!(a===0?qA:HA).test(l))return!1;break;case 1:l==="'"||l==='"'||l==="`"?(n.push(r),r=3,o=l):l==="["?s++:l==="]"&&(--s||(r=n.pop()));break;case 2:if(l==="'"||l==='"'||l==="`")n.push(r),r=3,o=l;else if(l==="(")i++;else if(l===")"){if(a===e.length-1)return!1;--i||(r=n.pop())}break;case 3:l===o&&(r=n.pop(),o=null);break}}return!s&&!i},u_=WA,KA=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,GA=t=>KA.test(c_(t)),QA=GA;function un(t,e,r=!1){for(let n=0;n<t.props.length;n++){const s=t.props[n];if(s.type===7&&(r||s.exp)&&(Ue(e)?s.name===e:e.test(s.name)))return s}}function xd(t,e,r=!1,n=!1){for(let s=0;s<t.props.length;s++){const i=t.props[s];if(i.type===6){if(r)continue;if(i.name===e&&(i.value||n))return i}else if(i.name==="bind"&&(i.exp||n)&&xi(i.arg,e))return i}}function xi(t,e){return!!(t&&Hr(t)&&t.content===e)}function YA(t){return t.props.some(e=>e.type===7&&e.name==="bind"&&(!e.arg||e.arg.type!==4||!e.arg.isStatic))}function Vh(t){return t.type===5||t.type===2}function JA(t){return t.type===7&&t.name==="slot"}function Cu(t){return t.type===1&&t.tagType===3}function Pu(t){return t.type===1&&t.tagType===2}const XA=new Set([vl,jl]);function d_(t,e=[]){if(t&&!Ue(t)&&t.type===14){const r=t.callee;if(!Ue(r)&&XA.has(r))return d_(t.arguments[0],e.concat(t))}return[t,e]}function Ru(t,e,r){let n,s=t.type===13?t.props:t.arguments[2],i=[],o;if(s&&!Ue(s)&&s.type===14){const a=d_(s);s=a[0],i=a[1],o=i[i.length-1]}if(s==null||Ue(s))n=hn([e]);else if(s.type===14){const a=s.arguments[0];!Ue(a)&&a.type===15?pv(e,a)||a.properties.unshift(e):s.callee===dm?n=Gt(r.helper(Tu),[hn([e]),s]):s.arguments.unshift(hn([e])),!n&&(n=s)}else s.type===15?(pv(e,s)||s.properties.unshift(e),n=s):(n=Gt(r.helper(Tu),[hn([e]),s]),o&&o.callee===jl&&(o=i[i.length-2]));t.type===13?o?o.arguments[0]=n:t.props=n:o?o.arguments[0]=n:t.arguments[2]=n}function pv(t,e){let r=!1;if(t.key.type===4){const n=t.key.content;r=e.properties.some(s=>s.key.type===4&&s.key.content===n)}return r}function xl(t,e){return`_${e}_${t.replace(/[^\w]/g,(r,n)=>r==="-"?"_":t.charCodeAt(n).toString())}`}function ZA(t){return t.type===14&&t.callee===fm?t.arguments[1].returns:t}const eS=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,h_={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:Ra,isPreTag:Ra,isIgnoreNewlineTag:Ra,isCustomElement:Ra,onError:mm,onWarn:a_,comments:!1,prefixIdentifiers:!1};let ct=h_,_l=null,ns="",xr=null,tt=null,Fr="",Gn=-1,mi=-1,vm=0,$s=!1,Of=null;const It=[],Dt=new jA(It,{onerr:Wn,ontext(t,e){Pc(tr(t,e),t,e)},ontextentity(t,e,r){Pc(t,e,r)},oninterpolation(t,e){if($s)return Pc(tr(t,e),t,e);let r=t+Dt.delimiterOpen.length,n=e-Dt.delimiterClose.length;for(;Yr(ns.charCodeAt(r));)r++;for(;Yr(ns.charCodeAt(n-1));)n--;let s=tr(r,n);s.includes("&")&&(s=ct.decodeEntities(s,!1)),Df({type:5,content:Yc(s,!1,Mt(r,n)),loc:Mt(t,e)})},onopentagname(t,e){const r=tr(t,e);xr={type:1,tag:r,ns:ct.getNamespace(r,It[0],ct.ns),tagType:0,props:[],children:[],loc:Mt(t-1,e),codegenNode:void 0}},onopentagend(t){gv(t)},onclosetag(t,e){const r=tr(t,e);if(!ct.isVoidTag(r)){let n=!1;for(let s=0;s<It.length;s++)if(It[s].tag.toLowerCase()===r.toLowerCase()){n=!0,s>0&&Wn(24,It[0].loc.start.offset);for(let o=0;o<=s;o++){const a=It.shift();Qc(a,e,o<s)}break}n||Wn(23,f_(t,60))}},onselfclosingtag(t){const e=xr.tag;xr.isSelfClosing=!0,gv(t),It[0]&&It[0].tag===e&&Qc(It.shift(),t)},onattribname(t,e){tt={type:6,name:tr(t,e),nameLoc:Mt(t,e),value:void 0,loc:Mt(t)}},ondirname(t,e){const r=tr(t,e),n=r==="."||r===":"?"bind":r==="@"?"on":r==="#"?"slot":r.slice(2);if(!$s&&n===""&&Wn(26,t),$s||n==="")tt={type:6,name:r,nameLoc:Mt(t,e),value:void 0,loc:Mt(t)};else if(tt={type:7,name:n,rawName:r,exp:void 0,arg:void 0,modifiers:r==="."?[He("prop")]:[],loc:Mt(t)},n==="pre"){$s=Dt.inVPre=!0,Of=xr;const s=xr.props;for(let i=0;i<s.length;i++)s[i].type===7&&(s[i]=dS(s[i]))}},ondirarg(t,e){if(t===e)return;const r=tr(t,e);if($s)tt.name+=r,_i(tt.nameLoc,e);else{const n=r[0]!=="[";tt.arg=Yc(n?r:r.slice(1,-1),n,Mt(t,e),n?3:0)}},ondirmodifier(t,e){const r=tr(t,e);if($s)tt.name+="."+r,_i(tt.nameLoc,e);else if(tt.name==="slot"){const n=tt.arg;n&&(n.content+="."+r,_i(n.loc,e))}else{const n=He(r,!0,Mt(t,e));tt.modifiers.push(n)}},onattribdata(t,e){Fr+=tr(t,e),Gn<0&&(Gn=t),mi=e},onattribentity(t,e,r){Fr+=t,Gn<0&&(Gn=e),mi=r},onattribnameend(t){const e=tt.loc.start.offset,r=tr(e,t);tt.type===7&&(tt.rawName=r),xr.props.some(n=>(n.type===7?n.rawName:n.name)===r)&&Wn(2,e)},onattribend(t,e){if(xr&&tt){if(_i(tt.loc,e),t!==0)if(Fr.includes("&")&&(Fr=ct.decodeEntities(Fr,!0)),tt.type===6)tt.name==="class"&&(Fr=m_(Fr).trim()),t===1&&!Fr&&Wn(13,e),tt.value={type:2,content:Fr,loc:t===1?Mt(Gn,mi):Mt(Gn-1,mi+1)},Dt.inSFCRoot&&xr.tag==="template"&&tt.name==="lang"&&Fr&&Fr!=="html"&&Dt.enterRCDATA(Su("</template"),0);else{let r=0;tt.exp=Yc(Fr,!1,Mt(Gn,mi),0,r),tt.name==="for"&&(tt.forParseResult=rS(tt.exp));let n=-1;tt.name==="bind"&&(n=tt.modifiers.findIndex(s=>s.content==="sync"))>-1&&bl("COMPILER_V_BIND_SYNC",ct,tt.loc,tt.rawName)&&(tt.name="model",tt.modifiers.splice(n,1))}(tt.type!==7||tt.name!=="pre")&&xr.props.push(tt)}Fr="",Gn=mi=-1},oncomment(t,e){ct.comments&&Df({type:3,content:tr(t,e),loc:Mt(t-4,e+3)})},onend(){const t=ns.length;for(let e=0;e<It.length;e++)Qc(It[e],t-1),Wn(24,It[e].loc.start.offset)},oncdata(t,e){It[0].ns!==0?Pc(tr(t,e),t,e):Wn(1,t-9)},onprocessinginstruction(t){(It[0]?It[0].ns:ct.ns)===0&&Wn(21,t-1)}}),mv=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,tS=/^\(|\)$/g;function rS(t){const e=t.loc,r=t.content,n=r.match(eS);if(!n)return;const[,s,i]=n,o=(f,p,v=!1)=>{const b=e.start.offset+p,w=b+f.length;return Yc(f,!1,Mt(b,w),0,v?1:0)},a={source:o(i.trim(),r.indexOf(i,s.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let l=s.trim().replace(tS,"").trim();const d=s.indexOf(l),h=l.match(mv);if(h){l=l.replace(mv,"").trim();const f=h[1].trim();let p;if(f&&(p=r.indexOf(f,d+l.length),a.key=o(f,p,!0)),h[2]){const v=h[2].trim();v&&(a.index=o(v,r.indexOf(v,a.key?p+f.length:d+l.length),!0))}}return l&&(a.value=o(l,d,!0)),a}function tr(t,e){return ns.slice(t,e)}function gv(t){Dt.inSFCRoot&&(xr.innerLoc=Mt(t+1,t+1)),Df(xr);const{tag:e,ns:r}=xr;r===0&&ct.isPreTag(e)&&vm++,ct.isVoidTag(e)?Qc(xr,t):(It.unshift(xr),(r===1||r===2)&&(Dt.inXML=!0)),xr=null}function Pc(t,e,r){{const i=It[0]&&It[0].tag;i!=="script"&&i!=="style"&&t.includes("&")&&(t=ct.decodeEntities(t,!1))}const n=It[0]||_l,s=n.children[n.children.length-1];s&&s.type===2?(s.content+=t,_i(s.loc,r)):n.children.push({type:2,content:t,loc:Mt(e,r)})}function Qc(t,e,r=!1){r?_i(t.loc,f_(e,60)):_i(t.loc,nS(e,62)+1),Dt.inSFCRoot&&(t.children.length?t.innerLoc.end=Qe({},t.children[t.children.length-1].loc.end):t.innerLoc.end=Qe({},t.innerLoc.start),t.innerLoc.source=tr(t.innerLoc.start.offset,t.innerLoc.end.offset));const{tag:n,ns:s,children:i}=t;if($s||(n==="slot"?t.tagType=2:vv(t)?t.tagType=3:iS(t)&&(t.tagType=1)),Dt.inRCDATA||(t.children=p_(i)),s===0&&ct.isIgnoreNewlineTag(n)){const o=i[0];o&&o.type===2&&(o.content=o.content.replace(/^\r?\n/,""))}s===0&&ct.isPreTag(n)&&vm--,Of===t&&($s=Dt.inVPre=!1,Of=null),Dt.inXML&&(It[0]?It[0].ns:ct.ns)===0&&(Dt.inXML=!1);{const o=t.props;if(!Dt.inSFCRoot&&Ci("COMPILER_NATIVE_TEMPLATE",ct)&&t.tag==="template"&&!vv(t)){const l=It[0]||_l,d=l.children.indexOf(t);l.children.splice(d,1,...t.children)}const a=o.find(l=>l.type===6&&l.name==="inline-template");a&&bl("COMPILER_INLINE_TEMPLATE",ct,a.loc)&&t.children.length&&(a.value={type:2,content:tr(t.children[0].loc.start.offset,t.children[t.children.length-1].loc.end.offset),loc:a.loc})}}function nS(t,e){let r=t;for(;ns.charCodeAt(r)!==e&&r<ns.length-1;)r++;return r}function f_(t,e){let r=t;for(;ns.charCodeAt(r)!==e&&r>=0;)r--;return r}const sS=new Set(["if","else","else-if","for","slot"]);function vv({tag:t,props:e}){if(t==="template"){for(let r=0;r<e.length;r++)if(e[r].type===7&&sS.has(e[r].name))return!0}return!1}function iS({tag:t,props:e}){if(ct.isCustomElement(t))return!1;if(t==="component"||oS(t.charCodeAt(0))||l_(t)||ct.isBuiltInComponent&&ct.isBuiltInComponent(t)||ct.isNativeTag&&!ct.isNativeTag(t))return!0;for(let r=0;r<e.length;r++){const n=e[r];if(n.type===6){if(n.name==="is"&&n.value){if(n.value.content.startsWith("vue:"))return!0;if(bl("COMPILER_IS_ON_ELEMENT",ct,n.loc))return!0}}else if(n.name==="bind"&&xi(n.arg,"is")&&bl("COMPILER_IS_ON_ELEMENT",ct,n.loc))return!0}return!1}function oS(t){return t>64&&t<91}const aS=/\r\n/g;function p_(t,e){const r=ct.whitespace!=="preserve";let n=!1;for(let s=0;s<t.length;s++){const i=t[s];if(i.type===2)if(vm)i.content=i.content.replace(aS,`
`);else if(lS(i.content)){const o=t[s-1]&&t[s-1].type,a=t[s+1]&&t[s+1].type;!o||!a||r&&(o===3&&(a===3||a===1)||o===1&&(a===3||a===1&&cS(i.content)))?(n=!0,t[s]=null):i.content=" "}else r&&(i.content=m_(i.content))}return n?t.filter(Boolean):t}function lS(t){for(let e=0;e<t.length;e++)if(!Yr(t.charCodeAt(e)))return!1;return!0}function cS(t){for(let e=0;e<t.length;e++){const r=t.charCodeAt(e);if(r===10||r===13)return!0}return!1}function m_(t){let e="",r=!1;for(let n=0;n<t.length;n++)Yr(t.charCodeAt(n))?r||(e+=" ",r=!0):(e+=t[n],r=!1);return e}function Df(t){(It[0]||_l).children.push(t)}function Mt(t,e){return{start:Dt.getPos(t),end:e==null?e:Dt.getPos(e),source:e==null?e:tr(t,e)}}function uS(t){return Mt(t.start.offset,t.end.offset)}function _i(t,e){t.end=Dt.getPos(e),t.source=tr(t.start.offset,e)}function dS(t){const e={type:6,name:t.rawName,nameLoc:Mt(t.loc.start.offset,t.loc.start.offset+t.rawName.length),value:void 0,loc:t.loc};if(t.exp){const r=t.exp.loc;r.end.offset<t.loc.end.offset&&(r.start.offset--,r.start.column--,r.end.offset++,r.end.column++),e.value={type:2,content:t.exp.content,loc:r}}return e}function Yc(t,e=!1,r,n=0,s=0){return He(t,e,r,n)}function Wn(t,e,r){ct.onError(At(t,Mt(e,e)))}function hS(){Dt.reset(),xr=null,tt=null,Fr="",Gn=-1,mi=-1,It.length=0}function fS(t,e){if(hS(),ns=t,ct=Qe({},h_),e){let s;for(s in e)e[s]!=null&&(ct[s]=e[s])}Dt.mode=ct.parseMode==="html"?1:ct.parseMode==="sfc"?2:0,Dt.inXML=ct.ns===1||ct.ns===2;const r=e&&e.delimiters;r&&(Dt.delimiterOpen=Su(r[0]),Dt.delimiterClose=Su(r[1]));const n=_l=LA([],t);return Dt.parse(ns),n.loc=Mt(0,t.length),n.children=p_(n.children),_l=null,n}function pS(t,e){Jc(t,void 0,e,g_(t,t.children[0]))}function g_(t,e){const{children:r}=t;return r.length===1&&e.type===1&&!Pu(e)}function Jc(t,e,r,n=!1,s=!1){const{children:i}=t,o=[];for(let h=0;h<i.length;h++){const f=i[h];if(f.type===1&&f.tagType===0){const p=n?0:Jr(f,r);if(p>0){if(p>=2){f.codegenNode.patchFlag=-1,o.push(f);continue}}else{const v=f.codegenNode;if(v.type===13){const b=v.patchFlag;if((b===void 0||b===512||b===1)&&y_(f,r)>=2){const w=b_(f);w&&(v.props=r.hoist(w))}v.dynamicProps&&(v.dynamicProps=r.hoist(v.dynamicProps))}}}else if(f.type===12&&(n?0:Jr(f,r))>=2){o.push(f);continue}if(f.type===1){const p=f.tagType===1;p&&r.scopes.vSlot++,Jc(f,t,r,!1,s),p&&r.scopes.vSlot--}else if(f.type===11)Jc(f,t,r,f.children.length===1,!0);else if(f.type===9)for(let p=0;p<f.branches.length;p++)Jc(f.branches[p],t,r,f.branches[p].children.length===1,s)}let a=!1;if(o.length===i.length&&t.type===1){if(t.tagType===0&&t.codegenNode&&t.codegenNode.type===13&&ye(t.codegenNode.children))t.codegenNode.children=l(Si(t.codegenNode.children)),a=!0;else if(t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!ye(t.codegenNode.children)&&t.codegenNode.children.type===15){const h=d(t.codegenNode,"default");h&&(h.returns=l(Si(h.returns)),a=!0)}else if(t.tagType===3&&e&&e.type===1&&e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!ye(e.codegenNode.children)&&e.codegenNode.children.type===15){const h=un(t,"slot",!0),f=h&&h.arg&&d(e.codegenNode,h.arg);f&&(f.returns=l(Si(f.returns)),a=!0)}}if(!a)for(const h of o)h.codegenNode=r.cache(h.codegenNode);function l(h){const f=r.cache(h);return s&&r.hmr&&(f.needArraySpread=!0),f}function d(h,f){if(h.children&&!ye(h.children)&&h.children.type===15){const p=h.children.properties.find(v=>v.key===f||v.key.content===f);return p&&p.value}}o.length&&r.transformHoist&&r.transformHoist(i,r,t)}function Jr(t,e){const{constantCache:r}=e;switch(t.type){case 1:if(t.tagType!==0)return 0;const n=r.get(t);if(n!==void 0)return n;const s=t.codegenNode;if(s.type!==13||s.isBlock&&t.tag!=="svg"&&t.tag!=="foreignObject"&&t.tag!=="math")return 0;if(s.patchFlag===void 0){let o=3;const a=y_(t,e);if(a===0)return r.set(t,0),0;a<o&&(o=a);for(let l=0;l<t.children.length;l++){const d=Jr(t.children[l],e);if(d===0)return r.set(t,0),0;d<o&&(o=d)}if(o>1)for(let l=0;l<t.props.length;l++){const d=t.props[l];if(d.type===7&&d.name==="bind"&&d.exp){const h=Jr(d.exp,e);if(h===0)return r.set(t,0),0;h<o&&(o=h)}}if(s.isBlock){for(let l=0;l<t.props.length;l++)if(t.props[l].type===7)return r.set(t,0),0;e.removeHelper(Oi),e.removeHelper(Bo(e.inSSR,s.isComponent)),s.isBlock=!1,e.helper(jo(e.inSSR,s.isComponent))}return r.set(t,o),o}else return r.set(t,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Jr(t.content,e);case 4:return t.constType;case 8:let i=3;for(let o=0;o<t.children.length;o++){const a=t.children[o];if(Ue(a)||Kr(a))continue;const l=Jr(a,e);if(l===0)return 0;l<i&&(i=l)}return i;case 20:return 2;default:return 0}}const mS=new Set([cm,um,vl,jl]);function v_(t,e){if(t.type===14&&!Ue(t.callee)&&mS.has(t.callee)){const r=t.arguments[0];if(r.type===4)return Jr(r,e);if(r.type===14)return v_(r,e)}return 0}function y_(t,e){let r=3;const n=b_(t);if(n&&n.type===15){const{properties:s}=n;for(let i=0;i<s.length;i++){const{key:o,value:a}=s[i],l=Jr(o,e);if(l===0)return l;l<r&&(r=l);let d;if(a.type===4?d=Jr(a,e):a.type===14?d=v_(a,e):d=0,d===0)return d;d<r&&(r=d)}}return r}function b_(t){const e=t.codegenNode;if(e.type===13)return e.props}function gS(t,{filename:e="",prefixIdentifiers:r=!1,hoistStatic:n=!1,hmr:s=!1,cacheHandlers:i=!1,nodeTransforms:o=[],directiveTransforms:a={},transformHoist:l=null,isBuiltInComponent:d=sr,isCustomElement:h=sr,expressionPlugins:f=[],scopeId:p=null,slotted:v=!0,ssr:b=!1,inSSR:w=!1,ssrCssVars:_="",bindingMetadata:T=Ke,inline:S=!1,isTS:E=!1,onError:N=mm,onWarn:C=a_,compatConfig:F}){const I=e.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),y={filename:e,selfName:I&&Wi(kt(I[1])),prefixIdentifiers:r,hoistStatic:n,hmr:s,cacheHandlers:i,nodeTransforms:o,directiveTransforms:a,transformHoist:l,isBuiltInComponent:d,isCustomElement:h,expressionPlugins:f,scopeId:p,slotted:v,ssr:b,inSSR:w,ssrCssVars:_,bindingMetadata:T,inline:S,isTS:E,onError:N,onWarn:C,compatConfig:F,root:t,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:t,childIndex:0,inVOnce:!1,helper(m){const k=y.helpers.get(m)||0;return y.helpers.set(m,k+1),m},removeHelper(m){const k=y.helpers.get(m);if(k){const $=k-1;$?y.helpers.set(m,$):y.helpers.delete(m)}},helperString(m){return`_${Fo[y.helper(m)]}`},replaceNode(m){y.parent.children[y.childIndex]=y.currentNode=m},removeNode(m){const k=y.parent.children,$=m?k.indexOf(m):y.currentNode?y.childIndex:-1;!m||m===y.currentNode?(y.currentNode=null,y.onNodeRemoved()):y.childIndex>$&&(y.childIndex--,y.onNodeRemoved()),y.parent.children.splice($,1)},onNodeRemoved:sr,addIdentifiers(m){},removeIdentifiers(m){},hoist(m){Ue(m)&&(m=He(m)),y.hoists.push(m);const k=He(`_hoisted_${y.hoists.length}`,!1,m.loc,2);return k.hoisted=m,k},cache(m,k=!1,$=!1){const P=FA(y.cached.length,m,k,$);return y.cached.push(P),P}};return y.filters=new Set,y}function vS(t,e){const r=gS(t,e);_d(t,r),e.hoistStatic&&pS(t,r),e.ssr||yS(t,r),t.helpers=new Set([...r.helpers.keys()]),t.components=[...r.components],t.directives=[...r.directives],t.imports=r.imports,t.hoists=r.hoists,t.temps=r.temps,t.cached=r.cached,t.transformed=!0,t.filters=[...r.filters]}function yS(t,e){const{helper:r}=e,{children:n}=t;if(n.length===1){const s=n[0];if(g_(t,s)&&s.codegenNode){const i=s.codegenNode;i.type===13&&pm(i,e),t.codegenNode=i}else t.codegenNode=s}else if(n.length>1){let s=64;t.codegenNode=yl(e,r(gl),void 0,t.children,s,void 0,void 0,!0,void 0,!1)}}function bS(t,e){let r=0;const n=()=>{r--};for(;r<t.children.length;r++){const s=t.children[r];Ue(s)||(e.grandParent=e.parent,e.parent=t,e.childIndex=r,e.onNodeRemoved=n,_d(s,e))}}function _d(t,e){e.currentNode=t;const{nodeTransforms:r}=e,n=[];for(let i=0;i<r.length;i++){const o=r[i](t,e);if(o&&(ye(o)?n.push(...o):n.push(o)),e.currentNode)t=e.currentNode;else return}switch(t.type){case 3:e.ssr||e.helper(Ul);break;case 5:e.ssr||e.helper(bd);break;case 9:for(let i=0;i<t.branches.length;i++)_d(t.branches[i],e);break;case 10:case 11:case 1:case 0:bS(t,e);break}e.currentNode=t;let s=n.length;for(;s--;)n[s]()}function x_(t,e){const r=Ue(t)?n=>n===t:n=>t.test(n);return(n,s)=>{if(n.type===1){const{props:i}=n;if(n.tagType===3&&i.some(JA))return;const o=[];for(let a=0;a<i.length;a++){const l=i[a];if(l.type===7&&r(l.name)){i.splice(a,1),a--;const d=e(n,l,s);d&&o.push(d)}}return o}}}const wd="/*@__PURE__*/",__=t=>`${Fo[t]}: _${Fo[t]}`;function xS(t,{mode:e="function",prefixIdentifiers:r=e==="module",sourceMap:n=!1,filename:s="template.vue.html",scopeId:i=null,optimizeImports:o=!1,runtimeGlobalName:a="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:d="vue/server-renderer",ssr:h=!1,isTS:f=!1,inSSR:p=!1}){const v={mode:e,prefixIdentifiers:r,sourceMap:n,filename:s,scopeId:i,optimizeImports:o,runtimeGlobalName:a,runtimeModuleName:l,ssrRuntimeModuleName:d,ssr:h,isTS:f,inSSR:p,source:t.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(w){return`_${Fo[w]}`},push(w,_=-2,T){v.code+=w},indent(){b(++v.indentLevel)},deindent(w=!1){w?--v.indentLevel:b(--v.indentLevel)},newline(){b(v.indentLevel)}};function b(w){v.push(`
`+"  ".repeat(w),0)}return v}function _S(t,e={}){const r=xS(t,e);e.onContextCreated&&e.onContextCreated(r);const{mode:n,push:s,prefixIdentifiers:i,indent:o,deindent:a,newline:l,scopeId:d,ssr:h}=r,f=Array.from(t.helpers),p=f.length>0,v=!i&&n!=="module";wS(t,r);const w=h?"ssrRender":"render",T=(h?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(s(`function ${w}(${T}) {`),o(),v&&(s("with (_ctx) {"),o(),p&&(s(`const { ${f.map(__).join(", ")} } = _Vue
`,-1),l())),t.components.length&&(Lh(t.components,"component",r),(t.directives.length||t.temps>0)&&l()),t.directives.length&&(Lh(t.directives,"directive",r),t.temps>0&&l()),t.filters&&t.filters.length&&(l(),Lh(t.filters,"filter",r),l()),t.temps>0){s("let ");for(let S=0;S<t.temps;S++)s(`${S>0?", ":""}_temp${S}`)}return(t.components.length||t.directives.length||t.temps)&&(s(`
`,0),l()),h||s("return "),t.codegenNode?Tr(t.codegenNode,r):s("null"),v&&(a(),s("}")),a(),s("}"),{ast:t,code:r.code,preamble:"",map:r.map?r.map.toJSON():void 0}}function wS(t,e){const{ssr:r,prefixIdentifiers:n,push:s,newline:i,runtimeModuleName:o,runtimeGlobalName:a,ssrRuntimeModuleName:l}=e,d=a,h=Array.from(t.helpers);if(h.length>0&&(s(`const _Vue = ${d}
`,-1),t.hoists.length)){const f=[em,tm,Ul,rm,n_].filter(p=>h.includes(p)).map(__).join(", ");s(`const { ${f} } = _Vue
`,-1)}kS(t.hoists,e),i(),s("return ")}function Lh(t,e,{helper:r,push:n,newline:s,isTS:i}){const o=r(e==="filter"?om:e==="component"?nm:im);for(let a=0;a<t.length;a++){let l=t[a];const d=l.endsWith("__self");d&&(l=l.slice(0,-6)),n(`const ${xl(l,e)} = ${o}(${JSON.stringify(l)}${d?", true":""})${i?"!":""}`),a<t.length-1&&s()}}function kS(t,e){if(!t.length)return;e.pure=!0;const{push:r,newline:n}=e;n();for(let s=0;s<t.length;s++){const i=t[s];i&&(r(`const _hoisted_${s+1} = `),Tr(i,e),n())}e.pure=!1}function ym(t,e){const r=t.length>3||!1;e.push("["),r&&e.indent(),Bl(t,e,r),r&&e.deindent(),e.push("]")}function Bl(t,e,r=!1,n=!0){const{push:s,newline:i}=e;for(let o=0;o<t.length;o++){const a=t[o];Ue(a)?s(a,-3):ye(a)?ym(a,e):Tr(a,e),o<t.length-1&&(r?(n&&s(","),i()):n&&s(", "))}}function Tr(t,e){if(Ue(t)){e.push(t,-3);return}if(Kr(t)){e.push(e.helper(t));return}switch(t.type){case 1:case 9:case 11:Tr(t.codegenNode,e);break;case 2:ES(t,e);break;case 4:w_(t,e);break;case 5:IS(t,e);break;case 12:Tr(t.codegenNode,e);break;case 8:k_(t,e);break;case 3:AS(t,e);break;case 13:SS(t,e);break;case 14:PS(t,e);break;case 15:RS(t,e);break;case 17:NS(t,e);break;case 18:$S(t,e);break;case 19:OS(t,e);break;case 20:DS(t,e);break;case 21:Bl(t.body,e,!0,!1);break}}function ES(t,e){e.push(JSON.stringify(t.content),-3,t)}function w_(t,e){const{content:r,isStatic:n}=t;e.push(n?JSON.stringify(r):r,-3,t)}function IS(t,e){const{push:r,helper:n,pure:s}=e;s&&r(wd),r(`${n(bd)}(`),Tr(t.content,e),r(")")}function k_(t,e){for(let r=0;r<t.children.length;r++){const n=t.children[r];Ue(n)?e.push(n,-3):Tr(n,e)}}function TS(t,e){const{push:r}=e;if(t.type===8)r("["),k_(t,e),r("]");else if(t.isStatic){const n=gm(t.content)?t.content:JSON.stringify(t.content);r(n,-2,t)}else r(`[${t.content}]`,-3,t)}function AS(t,e){const{push:r,helper:n,pure:s}=e;s&&r(wd),r(`${n(Ul)}(${JSON.stringify(t.content)})`,-3,t)}function SS(t,e){const{push:r,helper:n,pure:s}=e,{tag:i,props:o,children:a,patchFlag:l,dynamicProps:d,directives:h,isBlock:f,disableTracking:p,isComponent:v}=t;let b;l&&(b=String(l)),h&&r(n(am)+"("),f&&r(`(${n(Oi)}(${p?"true":""}), `),s&&r(wd);const w=f?Bo(e.inSSR,v):jo(e.inSSR,v);r(n(w)+"(",-2,t),Bl(CS([i,o,a,b,d]),e),r(")"),f&&r(")"),h&&(r(", "),Tr(h,e),r(")"))}function CS(t){let e=t.length;for(;e--&&t[e]==null;);return t.slice(0,e+1).map(r=>r||"null")}function PS(t,e){const{push:r,helper:n,pure:s}=e,i=Ue(t.callee)?t.callee:n(t.callee);s&&r(wd),r(i+"(",-2,t),Bl(t.arguments,e),r(")")}function RS(t,e){const{push:r,indent:n,deindent:s,newline:i}=e,{properties:o}=t;if(!o.length){r("{}",-2,t);return}const a=o.length>1||!1;r(a?"{":"{ "),a&&n();for(let l=0;l<o.length;l++){const{key:d,value:h}=o[l];TS(d,e),r(": "),Tr(h,e),l<o.length-1&&(r(","),i())}a&&s(),r(a?"}":" }")}function NS(t,e){ym(t.elements,e)}function $S(t,e){const{push:r,indent:n,deindent:s}=e,{params:i,returns:o,body:a,newline:l,isSlot:d}=t;d&&r(`_${Fo[hm]}(`),r("(",-2,t),ye(i)?Bl(i,e):i&&Tr(i,e),r(") => "),(l||a)&&(r("{"),n()),o?(l&&r("return "),ye(o)?ym(o,e):Tr(o,e)):a&&Tr(a,e),(l||a)&&(s(),r("}")),d&&(t.isNonScopedSlot&&r(", undefined, true"),r(")"))}function OS(t,e){const{test:r,consequent:n,alternate:s,newline:i}=t,{push:o,indent:a,deindent:l,newline:d}=e;if(r.type===4){const f=!gm(r.content);f&&o("("),w_(r,e),f&&o(")")}else o("("),Tr(r,e),o(")");i&&a(),e.indentLevel++,i||o(" "),o("? "),Tr(n,e),e.indentLevel--,i&&d(),i||o(" "),o(": ");const h=s.type===19;h||e.indentLevel++,Tr(s,e),h||e.indentLevel--,i&&l(!0)}function DS(t,e){const{push:r,helper:n,indent:s,deindent:i,newline:o}=e,{needPauseTracking:a,needArraySpread:l}=t;l&&r("[...("),r(`_cache[${t.index}] || (`),a&&(s(),r(`${n(Au)}(-1`),t.inVOnce&&r(", true"),r("),"),o(),r("(")),r(`_cache[${t.index}] = `),Tr(t.value,e),a&&(r(`).cacheIndex = ${t.index},`),o(),r(`${n(Au)}(1),`),o(),r(`_cache[${t.index}]`),i()),r(")"),l&&r(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const MS=x_(/^(if|else|else-if)$/,(t,e,r)=>VS(t,e,r,(n,s,i)=>{const o=r.parent.children;let a=o.indexOf(n),l=0;for(;a-->=0;){const d=o[a];d&&d.type===9&&(l+=d.branches.length)}return()=>{if(i)n.codegenNode=bv(s,l,r);else{const d=LS(n.codegenNode);d.alternate=bv(s,l+n.branches.length-1,r)}}}));function VS(t,e,r,n){if(e.name!=="else"&&(!e.exp||!e.exp.content.trim())){const s=e.exp?e.exp.loc:t.loc;r.onError(At(28,e.loc)),e.exp=He("true",!1,s)}if(e.name==="if"){const s=yv(t,e),i={type:9,loc:uS(t.loc),branches:[s]};if(r.replaceNode(i),n)return n(i,s,!0)}else{const s=r.parent.children;let i=s.indexOf(t);for(;i-->=-1;){const o=s[i];if(o&&o.type===3){r.removeNode(o);continue}if(o&&o.type===2&&!o.content.trim().length){r.removeNode(o);continue}if(o&&o.type===9){e.name==="else-if"&&o.branches[o.branches.length-1].condition===void 0&&r.onError(At(30,t.loc)),r.removeNode();const a=yv(t,e);o.branches.push(a);const l=n&&n(o,a,!1);_d(a,r),l&&l(),r.currentNode=null}else r.onError(At(30,t.loc));break}}}function yv(t,e){const r=t.tagType===3;return{type:10,loc:t.loc,condition:e.name==="else"?void 0:e.exp,children:r&&!un(t,"for")?t.children:[t],userKey:xd(t,"key"),isTemplateIf:r}}function bv(t,e,r){return t.condition?$f(t.condition,xv(t,e,r),Gt(r.helper(Ul),['""',"true"])):xv(t,e,r)}function xv(t,e,r){const{helper:n}=r,s=Ft("key",He(`${e}`,!1,on,2)),{children:i}=t,o=i[0];if(i.length!==1||o.type!==1)if(i.length===1&&o.type===11){const l=o.codegenNode;return Ru(l,s,r),l}else return yl(r,n(gl),hn([s]),i,64,void 0,void 0,!0,!1,!1,t.loc);else{const l=o.codegenNode,d=ZA(l);return d.type===13&&pm(d,r),Ru(d,s,r),l}}function LS(t){for(;;)if(t.type===19)if(t.alternate.type===19)t=t.alternate;else return t;else t.type===20&&(t=t.value)}const FS=(t,e,r)=>{const{modifiers:n,loc:s}=t,i=t.arg;let{exp:o}=t;if(o&&o.type===4&&!o.content.trim()&&(o=void 0),!o){if(i.type!==4||!i.isStatic)return r.onError(At(52,i.loc)),{props:[Ft(i,He("",!0,s))]};E_(t),o=t.exp}return i.type!==4?(i.children.unshift("("),i.children.push(') || ""')):i.isStatic||(i.content=`${i.content} || ""`),n.some(a=>a.content==="camel")&&(i.type===4?i.isStatic?i.content=kt(i.content):i.content=`${r.helperString(Rf)}(${i.content})`:(i.children.unshift(`${r.helperString(Rf)}(`),i.children.push(")"))),r.inSSR||(n.some(a=>a.content==="prop")&&_v(i,"."),n.some(a=>a.content==="attr")&&_v(i,"^")),{props:[Ft(i,o)]}},E_=(t,e)=>{const r=t.arg,n=kt(r.content);t.exp=He(n,!1,r.loc)},_v=(t,e)=>{t.type===4?t.isStatic?t.content=e+t.content:t.content=`\`${e}\${${t.content}}\``:(t.children.unshift(`'${e}' + (`),t.children.push(")"))},US=x_("for",(t,e,r)=>{const{helper:n,removeHelper:s}=r;return jS(t,e,r,i=>{const o=Gt(n(lm),[i.source]),a=Cu(t),l=un(t,"memo"),d=xd(t,"key",!1,!0);d&&d.type===7&&!d.exp&&E_(d);let f=d&&(d.type===6?d.value?He(d.value.content,!0):void 0:d.exp);const p=d&&f?Ft("key",f):null,v=i.source.type===4&&i.source.constType>0,b=v?64:d?128:256;return i.codegenNode=yl(r,n(gl),void 0,o,b,void 0,void 0,!0,!v,!1,t.loc),()=>{let w;const{children:_}=i,T=_.length!==1||_[0].type!==1,S=Pu(t)?t:a&&t.children.length===1&&Pu(t.children[0])?t.children[0]:null;if(S?(w=S.codegenNode,a&&p&&Ru(w,p,r)):T?w=yl(r,n(gl),p?hn([p]):void 0,t.children,64,void 0,void 0,!0,void 0,!1):(w=_[0].codegenNode,a&&p&&Ru(w,p,r),w.isBlock!==!v&&(w.isBlock?(s(Oi),s(Bo(r.inSSR,w.isComponent))):s(jo(r.inSSR,w.isComponent))),w.isBlock=!v,w.isBlock?(n(Oi),n(Bo(r.inSSR,w.isComponent))):n(jo(r.inSSR,w.isComponent))),l){const E=Uo(Mf(i.parseResult,[He("_cached")]));E.body=UA([An(["const _memo = (",l.exp,")"]),An(["if (_cached",...f?[" && _cached.key === ",f]:[],` && ${r.helperString(o_)}(_cached, _memo)) return _cached`]),An(["const _item = ",w]),He("_item.memo = _memo"),He("return _item")]),o.arguments.push(E,He("_cache"),He(String(r.cached.length))),r.cached.push(null)}else o.arguments.push(Uo(Mf(i.parseResult),w,!0))}})});function jS(t,e,r,n){if(!e.exp){r.onError(At(31,e.loc));return}const s=e.forParseResult;if(!s){r.onError(At(32,e.loc));return}I_(s);const{addIdentifiers:i,removeIdentifiers:o,scopes:a}=r,{source:l,value:d,key:h,index:f}=s,p={type:11,loc:e.loc,source:l,valueAlias:d,keyAlias:h,objectIndexAlias:f,parseResult:s,children:Cu(t)?t.children:[t]};r.replaceNode(p),a.vFor++;const v=n&&n(p);return()=>{a.vFor--,v&&v()}}function I_(t,e){t.finalized||(t.finalized=!0)}function Mf({value:t,key:e,index:r},n=[]){return BS([t,e,r,...n])}function BS(t){let e=t.length;for(;e--&&!t[e];);return t.slice(0,e+1).map((r,n)=>r||He("_".repeat(n+1),!1))}const wv=He("undefined",!1),qS=(t,e)=>{if(t.type===1&&(t.tagType===1||t.tagType===3)){const r=un(t,"slot");if(r)return r.exp,e.scopes.vSlot++,()=>{e.scopes.vSlot--}}},HS=(t,e,r,n)=>Uo(t,r,!1,!0,r.length?r[0].loc:n);function zS(t,e,r=HS){e.helper(hm);const{children:n,loc:s}=t,i=[],o=[];let a=e.scopes.vSlot>0||e.scopes.vFor>0;const l=un(t,"slot",!0);if(l){const{arg:_,exp:T}=l;_&&!Hr(_)&&(a=!0),i.push(Ft(_||He("default",!0),r(T,void 0,n,s)))}let d=!1,h=!1;const f=[],p=new Set;let v=0;for(let _=0;_<n.length;_++){const T=n[_];let S;if(!Cu(T)||!(S=un(T,"slot",!0))){T.type!==3&&f.push(T);continue}if(l){e.onError(At(37,S.loc));break}d=!0;const{children:E,loc:N}=T,{arg:C=He("default",!0),exp:F,loc:I}=S;let y;Hr(C)?y=C?C.content:"default":a=!0;const m=un(T,"for"),k=r(F,m,E,N);let $,P;if($=un(T,"if"))a=!0,o.push($f($.exp,Rc(C,k,v++),wv));else if(P=un(T,/^else(-if)?$/,!0)){let R=_,le;for(;R--&&(le=n[R],le.type===3););if(le&&Cu(le)&&un(le,/^(else-)?if$/)){let Y=o[o.length-1];for(;Y.alternate.type===19;)Y=Y.alternate;Y.alternate=P.exp?$f(P.exp,Rc(C,k,v++),wv):Rc(C,k,v++)}else e.onError(At(30,P.loc))}else if(m){a=!0;const R=m.forParseResult;R?(I_(R),o.push(Gt(e.helper(lm),[R.source,Uo(Mf(R),Rc(C,k),!0)]))):e.onError(At(32,m.loc))}else{if(y){if(p.has(y)){e.onError(At(38,I));continue}p.add(y),y==="default"&&(h=!0)}i.push(Ft(C,k))}}if(!l){const _=(T,S)=>{const E=r(T,void 0,S,s);return e.compatConfig&&(E.isNonScopedSlot=!0),Ft("default",E)};d?f.length&&f.some(T=>T_(T))&&(h?e.onError(At(39,f[0].loc)):i.push(_(void 0,f))):i.push(_(void 0,n))}const b=a?2:Xc(t.children)?3:1;let w=hn(i.concat(Ft("_",He(b+"",!1))),s);return o.length&&(w=Gt(e.helper(i_),[w,Si(o)])),{slots:w,hasDynamicSlots:a}}function Rc(t,e,r){const n=[Ft("name",t),Ft("fn",e)];return r!=null&&n.push(Ft("key",He(String(r),!0))),hn(n)}function Xc(t){for(let e=0;e<t.length;e++){const r=t[e];switch(r.type){case 1:if(r.tagType===2||Xc(r.children))return!0;break;case 9:if(Xc(r.branches))return!0;break;case 10:case 11:if(Xc(r.children))return!0;break}}return!1}function T_(t){return t.type!==2&&t.type!==12?!0:t.type===2?!!t.content.trim():T_(t.content)}const A_=new WeakMap,WS=(t,e)=>function(){if(t=e.currentNode,!(t.type===1&&(t.tagType===0||t.tagType===1)))return;const{tag:n,props:s}=t,i=t.tagType===1;let o=i?KS(t,e):`"${n}"`;const a=ft(o)&&o.callee===sm;let l,d,h=0,f,p,v,b=a||o===Ja||o===Zp||!i&&(n==="svg"||n==="foreignObject"||n==="math");if(s.length>0){const w=S_(t,e,void 0,i,a);l=w.props,h=w.patchFlag,p=w.dynamicPropNames;const _=w.directives;v=_&&_.length?Si(_.map(T=>QS(T,e))):void 0,w.shouldUseBlock&&(b=!0)}if(t.children.length>0)if(o===Iu&&(b=!0,h|=1024),i&&o!==Ja&&o!==Iu){const{slots:_,hasDynamicSlots:T}=zS(t,e);d=_,T&&(h|=1024)}else if(t.children.length===1&&o!==Ja){const _=t.children[0],T=_.type,S=T===5||T===8;S&&Jr(_,e)===0&&(h|=1),S||T===2?d=_:d=t.children}else d=t.children;p&&p.length&&(f=YS(p)),t.codegenNode=yl(e,o,l,d,h===0?void 0:h,f,v,!!b,!1,i,t.loc)};function KS(t,e,r=!1){let{tag:n}=t;const s=Vf(n),i=xd(t,"is",!1,!0);if(i)if(s||Ci("COMPILER_IS_ON_ELEMENT",e)){let a;if(i.type===6?a=i.value&&He(i.value.content,!0):(a=i.exp,a||(a=He("is",!1,i.arg.loc))),a)return Gt(e.helper(sm),[a])}else i.type===6&&i.value.content.startsWith("vue:")&&(n=i.value.content.slice(4));const o=l_(n)||e.isBuiltInComponent(n);return o?(r||e.helper(o),o):(e.helper(nm),e.components.add(n),xl(n,"component"))}function S_(t,e,r=t.props,n,s,i=!1){const{tag:o,loc:a,children:l}=t;let d=[];const h=[],f=[],p=l.length>0;let v=!1,b=0,w=!1,_=!1,T=!1,S=!1,E=!1,N=!1;const C=[],F=k=>{d.length&&(h.push(hn(kv(d),a)),d=[]),k&&h.push(k)},I=()=>{e.scopes.vFor>0&&d.push(Ft(He("ref_for",!0),He("true")))},y=({key:k,value:$})=>{if(Hr(k)){const P=k.content,R=Hi(P);if(R&&(!n||s)&&P.toLowerCase()!=="onclick"&&P!=="onUpdate:modelValue"&&!Bs(P)&&(S=!0),R&&Bs(P)&&(N=!0),R&&$.type===14&&($=$.arguments[0]),$.type===20||($.type===4||$.type===8)&&Jr($,e)>0)return;P==="ref"?w=!0:P==="class"?_=!0:P==="style"?T=!0:P!=="key"&&!C.includes(P)&&C.push(P),n&&(P==="class"||P==="style")&&!C.includes(P)&&C.push(P)}else E=!0};for(let k=0;k<r.length;k++){const $=r[k];if($.type===6){const{loc:P,name:R,nameLoc:le,value:Y}=$;let L=!0;if(R==="ref"&&(w=!0,I()),R==="is"&&(Vf(o)||Y&&Y.content.startsWith("vue:")||Ci("COMPILER_IS_ON_ELEMENT",e)))continue;d.push(Ft(He(R,!0,le),He(Y?Y.content:"",L,Y?Y.loc:P)))}else{const{name:P,arg:R,exp:le,loc:Y,modifiers:L}=$,oe=P==="bind",G=P==="on";if(P==="slot"){n||e.onError(At(40,Y));continue}if(P==="once"||P==="memo"||P==="is"||oe&&xi(R,"is")&&(Vf(o)||Ci("COMPILER_IS_ON_ELEMENT",e))||G&&i)continue;if((oe&&xi(R,"key")||G&&p&&xi(R,"vue:before-update"))&&(v=!0),oe&&xi(R,"ref")&&I(),!R&&(oe||G)){if(E=!0,le)if(oe){if(I(),F(),Ci("COMPILER_V_BIND_OBJECT_ORDER",e)){h.unshift(le);continue}h.push(le)}else F({type:14,loc:Y,callee:e.helper(dm),arguments:n?[le]:[le,"true"]});else e.onError(At(oe?34:35,Y));continue}oe&&L.some(Se=>Se.content==="prop")&&(b|=32);const ge=e.directiveTransforms[P];if(ge){const{props:Se,needRuntime:Ie}=ge($,t,e);!i&&Se.forEach(y),G&&R&&!Hr(R)?F(hn(Se,a)):d.push(...Se),Ie&&(f.push($),Kr(Ie)&&A_.set($,Ie))}else nI(P)||(f.push($),p&&(v=!0))}}let m;if(h.length?(F(),h.length>1?m=Gt(e.helper(Tu),h,a):m=h[0]):d.length&&(m=hn(kv(d),a)),E?b|=16:(_&&!n&&(b|=2),T&&!n&&(b|=4),C.length&&(b|=8),S&&(b|=32)),!v&&(b===0||b===32)&&(w||N||f.length>0)&&(b|=512),!e.inSSR&&m)switch(m.type){case 15:let k=-1,$=-1,P=!1;for(let Y=0;Y<m.properties.length;Y++){const L=m.properties[Y].key;Hr(L)?L.content==="class"?k=Y:L.content==="style"&&($=Y):L.isHandlerKey||(P=!0)}const R=m.properties[k],le=m.properties[$];P?m=Gt(e.helper(vl),[m]):(R&&!Hr(R.value)&&(R.value=Gt(e.helper(cm),[R.value])),le&&(T||le.value.type===4&&le.value.content.trim()[0]==="["||le.value.type===17)&&(le.value=Gt(e.helper(um),[le.value])));break;case 14:break;default:m=Gt(e.helper(vl),[Gt(e.helper(jl),[m])]);break}return{props:m,directives:f,patchFlag:b,dynamicPropNames:C,shouldUseBlock:v}}function kv(t){const e=new Map,r=[];for(let n=0;n<t.length;n++){const s=t[n];if(s.key.type===8||!s.key.isStatic){r.push(s);continue}const i=s.key.content,o=e.get(i);o?(i==="style"||i==="class"||Hi(i))&&GS(o,s):(e.set(i,s),r.push(s))}return r}function GS(t,e){t.value.type===17?t.value.elements.push(e.value):t.value=Si([t.value,e.value],t.loc)}function QS(t,e){const r=[],n=A_.get(t);n?r.push(e.helperString(n)):(e.helper(im),e.directives.add(t.name),r.push(xl(t.name,"directive")));const{loc:s}=t;if(t.exp&&r.push(t.exp),t.arg&&(t.exp||r.push("void 0"),r.push(t.arg)),Object.keys(t.modifiers).length){t.arg||(t.exp||r.push("void 0"),r.push("void 0"));const i=He("true",!1,s);r.push(hn(t.modifiers.map(o=>Ft(o,i)),s))}return Si(r,t.loc)}function YS(t){let e="[";for(let r=0,n=t.length;r<n;r++)e+=JSON.stringify(t[r]),r<n-1&&(e+=", ");return e+"]"}function Vf(t){return t==="component"||t==="Component"}const JS=(t,e)=>{if(Pu(t)){const{children:r,loc:n}=t,{slotName:s,slotProps:i}=XS(t,e),o=[e.prefixIdentifiers?"_ctx.$slots":"$slots",s,"{}","undefined","true"];let a=2;i&&(o[2]=i,a=3),r.length&&(o[3]=Uo([],r,!1,!1,n),a=4),e.scopeId&&!e.slotted&&(a=5),o.splice(a),t.codegenNode=Gt(e.helper(s_),o,n)}};function XS(t,e){let r='"default"',n;const s=[];for(let i=0;i<t.props.length;i++){const o=t.props[i];if(o.type===6)o.value&&(o.name==="name"?r=JSON.stringify(o.value.content):(o.name=kt(o.name),s.push(o)));else if(o.name==="bind"&&xi(o.arg,"name")){if(o.exp)r=o.exp;else if(o.arg&&o.arg.type===4){const a=kt(o.arg.content);r=o.exp=He(a,!1,o.arg.loc)}}else o.name==="bind"&&o.arg&&Hr(o.arg)&&(o.arg.content=kt(o.arg.content)),s.push(o)}if(s.length>0){const{props:i,directives:o}=S_(t,e,s,!1,!1);n=i,o.length&&e.onError(At(36,o[0].loc))}return{slotName:r,slotProps:n}}const C_=(t,e,r,n)=>{const{loc:s,modifiers:i,arg:o}=t;!t.exp&&!i.length&&r.onError(At(35,s));let a;if(o.type===4)if(o.isStatic){let f=o.content;f.startsWith("vue:")&&(f=`vnode-${f.slice(4)}`);const p=e.tagType!==0||f.startsWith("vnode")||!/[A-Z]/.test(f)?To(kt(f)):`on:${f}`;a=He(p,!0,o.loc)}else a=An([`${r.helperString(Nf)}(`,o,")"]);else a=o,a.children.unshift(`${r.helperString(Nf)}(`),a.children.push(")");let l=t.exp;l&&!l.content.trim()&&(l=void 0);let d=r.cacheHandlers&&!l&&!r.inVOnce;if(l){const f=u_(l),p=!(f||QA(l)),v=l.content.includes(";");(p||d&&f)&&(l=An([`${p?"$event":"(...args)"} => ${v?"{":"("}`,l,v?"}":")"]))}let h={props:[Ft(a,l||He("() => {}",!1,s))]};return n&&(h=n(h)),d&&(h.props[0].value=r.cache(h.props[0].value)),h.props.forEach(f=>f.key.isHandlerKey=!0),h},ZS=(t,e)=>{if(t.type===0||t.type===1||t.type===11||t.type===10)return()=>{const r=t.children;let n,s=!1;for(let i=0;i<r.length;i++){const o=r[i];if(Vh(o)){s=!0;for(let a=i+1;a<r.length;a++){const l=r[a];if(Vh(l))n||(n=r[i]=An([o],o.loc)),n.children.push(" + ",l),r.splice(a,1),a--;else{n=void 0;break}}}}if(!(!s||r.length===1&&(t.type===0||t.type===1&&t.tagType===0&&!t.props.find(i=>i.type===7&&!e.directiveTransforms[i.name])&&t.tag!=="template")))for(let i=0;i<r.length;i++){const o=r[i];if(Vh(o)||o.type===8){const a=[];(o.type!==2||o.content!==" ")&&a.push(o),!e.ssr&&Jr(o,e)===0&&a.push("1"),r[i]={type:12,content:o,loc:o.loc,codegenNode:Gt(e.helper(rm),a)}}}}},Ev=new WeakSet,eC=(t,e)=>{if(t.type===1&&un(t,"once",!0))return Ev.has(t)||e.inVOnce||e.inSSR?void 0:(Ev.add(t),e.inVOnce=!0,e.helper(Au),()=>{e.inVOnce=!1;const r=e.currentNode;r.codegenNode&&(r.codegenNode=e.cache(r.codegenNode,!0,!0))})},P_=(t,e,r)=>{const{exp:n,arg:s}=t;if(!n)return r.onError(At(41,t.loc)),Nc();const i=n.loc.source.trim(),o=n.type===4?n.content:i,a=r.bindingMetadata[i];if(a==="props"||a==="props-aliased")return r.onError(At(44,n.loc)),Nc();if(!o.trim()||!u_(n))return r.onError(At(42,n.loc)),Nc();const l=s||He("modelValue",!0),d=s?Hr(s)?`onUpdate:${kt(s.content)}`:An(['"onUpdate:" + ',s]):"onUpdate:modelValue";let h;const f=r.isTS?"($event: any)":"$event";h=An([`${f} => ((`,n,") = $event)"]);const p=[Ft(l,t.exp),Ft(d,h)];if(t.modifiers.length&&e.tagType===1){const v=t.modifiers.map(w=>w.content).map(w=>(gm(w)?w:JSON.stringify(w))+": true").join(", "),b=s?Hr(s)?`${s.content}Modifiers`:An([s,' + "Modifiers"']):"modelModifiers";p.push(Ft(b,He(`{ ${v} }`,!1,t.loc,2)))}return Nc(p)};function Nc(t=[]){return{props:t}}const tC=/[\w).+\-_$\]]/,rC=(t,e)=>{Ci("COMPILER_FILTERS",e)&&(t.type===5?Nu(t.content,e):t.type===1&&t.props.forEach(r=>{r.type===7&&r.name!=="for"&&r.exp&&Nu(r.exp,e)}))};function Nu(t,e){if(t.type===4)Iv(t,e);else for(let r=0;r<t.children.length;r++){const n=t.children[r];typeof n=="object"&&(n.type===4?Iv(n,e):n.type===8?Nu(t,e):n.type===5&&Nu(n.content,e))}}function Iv(t,e){const r=t.content;let n=!1,s=!1,i=!1,o=!1,a=0,l=0,d=0,h=0,f,p,v,b,w=[];for(v=0;v<r.length;v++)if(p=f,f=r.charCodeAt(v),n)f===39&&p!==92&&(n=!1);else if(s)f===34&&p!==92&&(s=!1);else if(i)f===96&&p!==92&&(i=!1);else if(o)f===47&&p!==92&&(o=!1);else if(f===124&&r.charCodeAt(v+1)!==124&&r.charCodeAt(v-1)!==124&&!a&&!l&&!d)b===void 0?(h=v+1,b=r.slice(0,v).trim()):_();else{switch(f){case 34:s=!0;break;case 39:n=!0;break;case 96:i=!0;break;case 40:d++;break;case 41:d--;break;case 91:l++;break;case 93:l--;break;case 123:a++;break;case 125:a--;break}if(f===47){let T=v-1,S;for(;T>=0&&(S=r.charAt(T),S===" ");T--);(!S||!tC.test(S))&&(o=!0)}}b===void 0?b=r.slice(0,v).trim():h!==0&&_();function _(){w.push(r.slice(h,v).trim()),h=v+1}if(w.length){for(v=0;v<w.length;v++)b=nC(b,w[v],e);t.content=b,t.ast=void 0}}function nC(t,e,r){r.helper(om);const n=e.indexOf("(");if(n<0)return r.filters.add(e),`${xl(e,"filter")}(${t})`;{const s=e.slice(0,n),i=e.slice(n+1);return r.filters.add(s),`${xl(s,"filter")}(${t}${i!==")"?","+i:i}`}}const Tv=new WeakSet,sC=(t,e)=>{if(t.type===1){const r=un(t,"memo");return!r||Tv.has(t)?void 0:(Tv.add(t),()=>{const n=t.codegenNode||e.currentNode.codegenNode;n&&n.type===13&&(t.tagType!==1&&pm(n,e),t.codegenNode=Gt(e.helper(fm),[r.exp,Uo(void 0,n),"_cache",String(e.cached.length)]),e.cached.push(null))})}};function iC(t){return[[eC,MS,sC,US,rC,JS,WS,qS,ZS],{on:C_,bind:FS,model:P_}]}function oC(t,e={}){const r=e.onError||mm,n=e.mode==="module";e.prefixIdentifiers===!0?r(At(47)):n&&r(At(48));const s=!1;e.cacheHandlers&&r(At(49)),e.scopeId&&!n&&r(At(50));const i=Qe({},e,{prefixIdentifiers:s}),o=Ue(t)?fS(t,i):t,[a,l]=iC();return vS(o,Qe({},i,{nodeTransforms:[...a,...e.nodeTransforms||[]],directiveTransforms:Qe({},l,e.directiveTransforms||{})})),_S(o,i)}const aC=()=>({props:[]});/**
* @vue/compiler-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const R_=Symbol(""),N_=Symbol(""),$_=Symbol(""),O_=Symbol(""),Lf=Symbol(""),D_=Symbol(""),M_=Symbol(""),V_=Symbol(""),L_=Symbol(""),F_=Symbol("");VA({[R_]:"vModelRadio",[N_]:"vModelCheckbox",[$_]:"vModelText",[O_]:"vModelSelect",[Lf]:"vModelDynamic",[D_]:"withModifiers",[M_]:"withKeys",[V_]:"vShow",[L_]:"Transition",[F_]:"TransitionGroup"});let co;function lC(t,e=!1){return co||(co=document.createElement("div")),e?(co.innerHTML=`<div foo="${t.replace(/"/g,"&quot;")}">`,co.children[0].getAttribute("foo")):(co.innerHTML=t,co.textContent)}const cC={parseMode:"html",isVoidTag:xI,isNativeTag:t=>vI(t)||yI(t)||bI(t),isPreTag:t=>t==="pre",isIgnoreNewlineTag:t=>t==="pre"||t==="textarea",decodeEntities:lC,isBuiltInComponent:t=>{if(t==="Transition"||t==="transition")return L_;if(t==="TransitionGroup"||t==="transition-group")return F_},getNamespace(t,e,r){let n=e?e.ns:r;if(e&&n===2)if(e.tag==="annotation-xml"){if(t==="svg")return 1;e.props.some(s=>s.type===6&&s.name==="encoding"&&s.value!=null&&(s.value.content==="text/html"||s.value.content==="application/xhtml+xml"))&&(n=0)}else/^m(?:[ions]|text)$/.test(e.tag)&&t!=="mglyph"&&t!=="malignmark"&&(n=0);else e&&n===1&&(e.tag==="foreignObject"||e.tag==="desc"||e.tag==="title")&&(n=0);if(n===0){if(t==="svg")return 1;if(t==="math")return 2}return n}},uC=t=>{t.type===1&&t.props.forEach((e,r)=>{e.type===6&&e.name==="style"&&e.value&&(t.props[r]={type:7,name:"bind",arg:He("style",!0,e.loc),exp:dC(e.value.content,e.loc),modifiers:[],loc:e.loc})})},dC=(t,e)=>{const r=Xb(t);return He(JSON.stringify(r),!1,e,3)};function zs(t,e){return At(t,e)}const hC=(t,e,r)=>{const{exp:n,loc:s}=t;return n||r.onError(zs(53,s)),e.children.length&&(r.onError(zs(54,s)),e.children.length=0),{props:[Ft(He("innerHTML",!0,s),n||He("",!0))]}},fC=(t,e,r)=>{const{exp:n,loc:s}=t;return n||r.onError(zs(55,s)),e.children.length&&(r.onError(zs(56,s)),e.children.length=0),{props:[Ft(He("textContent",!0),n?Jr(n,r)>0?n:Gt(r.helperString(bd),[n],s):He("",!0))]}},pC=(t,e,r)=>{const n=P_(t,e,r);if(!n.props.length||e.tagType===1)return n;t.arg&&r.onError(zs(58,t.arg.loc));const{tag:s}=e,i=r.isCustomElement(s);if(s==="input"||s==="textarea"||s==="select"||i){let o=$_,a=!1;if(s==="input"||i){const l=xd(e,"type");if(l){if(l.type===7)o=Lf;else if(l.value)switch(l.value.content){case"radio":o=R_;break;case"checkbox":o=N_;break;case"file":a=!0,r.onError(zs(59,t.loc));break}}else YA(e)&&(o=Lf)}else s==="select"&&(o=O_);a||(n.needRuntime=r.helper(o))}else r.onError(zs(57,t.loc));return n.props=n.props.filter(o=>!(o.key.type===4&&o.key.content==="modelValue")),n},mC=nn("passive,once,capture"),gC=nn("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),vC=nn("left,right"),U_=nn("onkeyup,onkeydown,onkeypress"),yC=(t,e,r,n)=>{const s=[],i=[],o=[];for(let a=0;a<e.length;a++){const l=e[a].content;l==="native"&&bl("COMPILER_V_ON_NATIVE",r)||mC(l)?o.push(l):vC(l)?Hr(t)?U_(t.content.toLowerCase())?s.push(l):i.push(l):(s.push(l),i.push(l)):gC(l)?i.push(l):s.push(l)}return{keyModifiers:s,nonKeyModifiers:i,eventOptionModifiers:o}},Av=(t,e)=>Hr(t)&&t.content.toLowerCase()==="onclick"?He(e,!0):t.type!==4?An(["(",t,`) === "onClick" ? "${e}" : (`,t,")"]):t,bC=(t,e,r)=>C_(t,e,r,n=>{const{modifiers:s}=t;if(!s.length)return n;let{key:i,value:o}=n.props[0];const{keyModifiers:a,nonKeyModifiers:l,eventOptionModifiers:d}=yC(i,s,r,t.loc);if(l.includes("right")&&(i=Av(i,"onContextmenu")),l.includes("middle")&&(i=Av(i,"onMouseup")),l.length&&(o=Gt(r.helper(D_),[o,JSON.stringify(l)])),a.length&&(!Hr(i)||U_(i.content.toLowerCase()))&&(o=Gt(r.helper(M_),[o,JSON.stringify(a)])),d.length){const h=d.map(Wi).join("");i=Hr(i)?He(`${i.content}${h}`,!0):An(["(",i,`) + "${h}"`])}return{props:[Ft(i,o)]}}),xC=(t,e,r)=>{const{exp:n,loc:s}=t;return n||r.onError(zs(61,s)),{props:[],needRuntime:r.helper(V_)}},_C=(t,e)=>{t.type===1&&t.tagType===0&&(t.tag==="script"||t.tag==="style")&&e.removeNode()},wC=[uC],kC={cloak:aC,html:hC,text:fC,model:pC,on:bC,show:xC};function EC(t,e={}){return oC(t,Qe({},cC,e,{nodeTransforms:[_C,...wC,...e.nodeTransforms||[]],directiveTransforms:Qe({},kC,e.directiveTransforms||{}),transformHoist:null}))}/**
* vue v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Sv=Object.create(null);function IC(t,e){if(!Ue(t))if(t.nodeType)t=t.innerHTML;else return sr;const r=oI(t,e),n=Sv[r];if(n)return n;if(t[0]==="#"){const a=document.querySelector(t);t=a?a.innerHTML:""}const s=Qe({hoistStatic:!0,onError:void 0,onWarn:sr},e);!s.isCustomElement&&typeof customElements<"u"&&(s.isCustomElement=a=>!!customElements.get(a));const{code:i}=EC(t,s),o=new Function("Vue",i)(RA);return o._rc=!0,Sv[r]=o}Ax(IC);/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let j_;const kd=t=>j_=t,B_=Symbol();function Ff(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Xa;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Xa||(Xa={}));function TC(){const t=Pp(!0),e=t.run(()=>q({}));let r=[],n=[];const s=cd({install(i){kd(s),s._a=i,i.provide(B_,s),i.config.globalProperties.$pinia=s,n.forEach(o=>r.push(o)),n=[]},use(i){return this._a?r.push(i):n.push(i),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return s}const q_=()=>{};function Cv(t,e,r,n=q_){t.push(e);const s=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),n())};return!r&&Rp()&&r1(s),s}function uo(t,...e){t.slice().forEach(r=>{r(...e)})}const AC=t=>t(),Pv=Symbol(),Fh=Symbol();function Uf(t,e){t instanceof Map&&e instanceof Map?e.forEach((r,n)=>t.set(n,r)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r],s=t[r];Ff(s)&&Ff(n)&&t.hasOwnProperty(r)&&!Ct(n)&&!Tn(n)?t[r]=Uf(s,n):t[r]=n}return t}const SC=Symbol();function CC(t){return!Ff(t)||!t.hasOwnProperty(SC)}const{assign:Ss}=Object;function PC(t){return!!(Ct(t)&&t.effect)}function RC(t,e,r,n){const{state:s,actions:i,getters:o}=e,a=r.state.value[t];let l;function d(){a||(r.state.value[t]=s?s():{});const h=x1(r.state.value[t]);return Ss(h,i,Object.keys(o||{}).reduce((f,p)=>(f[p]=cd(re(()=>{kd(r);const v=r._s.get(t);return o[p].call(v,v)})),f),{}))}return l=H_(t,d,e,r,n,!0),l}function H_(t,e,r={},n,s,i){let o;const a=Ss({actions:{}},r),l={deep:!0};let d,h,f=[],p=[],v;const b=n.state.value[t];!i&&!b&&(n.state.value[t]={}),q({});let w;function _(y){let m;d=h=!1,typeof y=="function"?(y(n.state.value[t]),m={type:Xa.patchFunction,storeId:t,events:v}):(Uf(n.state.value[t],y),m={type:Xa.patchObject,payload:y,storeId:t,events:v});const k=w=Symbol();ir().then(()=>{w===k&&(d=!0)}),h=!0,uo(f,m,n.state.value[t])}const T=i?function(){const{state:m}=r,k=m?m():{};this.$patch($=>{Ss($,k)})}:q_;function S(){o.stop(),f=[],p=[],n._s.delete(t)}const E=(y,m="")=>{if(Pv in y)return y[Fh]=m,y;const k=function(){kd(n);const $=Array.from(arguments),P=[],R=[];function le(oe){P.push(oe)}function Y(oe){R.push(oe)}uo(p,{args:$,name:k[Fh],store:C,after:le,onError:Y});let L;try{L=y.apply(this&&this.$id===t?this:C,$)}catch(oe){throw uo(R,oe),oe}return L instanceof Promise?L.then(oe=>(uo(P,oe),oe)).catch(oe=>(uo(R,oe),Promise.reject(oe))):(uo(P,L),L)};return k[Pv]=!0,k[Fh]=m,k},N={_p:n,$id:t,$onAction:Cv.bind(null,p),$patch:_,$reset:T,$subscribe(y,m={}){const k=Cv(f,y,m.detached,()=>$()),$=o.run(()=>Rt(()=>n.state.value[t],P=>{(m.flush==="sync"?h:d)&&y({storeId:t,type:Xa.direct,events:v},P)},Ss({},l,m)));return k},$dispose:S},C=gn(N);n._s.set(t,C);const I=(n._a&&n._a.runWithContext||AC)(()=>n._e.run(()=>(o=Pp()).run(()=>e({action:E}))));for(const y in I){const m=I[y];if(Ct(m)&&!PC(m)||Tn(m))i||(b&&CC(m)&&(Ct(m)?m.value=b[y]:Uf(m,b[y])),n.state.value[t][y]=m);else if(typeof m=="function"){const k=E(m,y);I[y]=k,a.actions[y]=m}}return Ss(C,I),Ss(We(C),I),Object.defineProperty(C,"$state",{get:()=>n.state.value[t],set:y=>{_(m=>{Ss(m,y)})}}),n._p.forEach(y=>{Ss(C,o.run(()=>y({store:C,app:n._a,pinia:n,options:a})))}),b&&i&&r.hydrate&&r.hydrate(C.$state,b),d=!0,h=!0,C}/*! #__NO_SIDE_EFFECTS__ */function Ed(t,e,r){let n,s;const i=typeof e=="function";typeof t=="string"?(n=t,s=i?r:e):(s=t,n=t.id);function o(a,l){const d=Y1();return a=a||(d?it(B_,null):null),a&&kd(a),a=j_,a._s.has(n)||(i?H_(n,e,s,a):RC(n,s,a)),a._s.get(n)}return o.$id=n,o}function NC(t){{const e=We(t),r={};for(const n in e){const s=e[n];s.effect?r[n]=re({get:()=>t[n],set(i){t[n]=i}}):(Ct(s)||Tn(s))&&(r[n]=_1(t,n))}return r}}const bm=Ed("theme",()=>{const t=()=>{const s=localStorage.getItem("theme");return s||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")},e=q("light");typeof window<"u"&&(e.value=t(),r(e.value)),Rt(e,s=>{localStorage.setItem("theme",s),r(s)});function r(s){s==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}function n(){e.value=e.value==="light"?"dark":"light"}return{theme:e,toggleTheme:n}});/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const mo=typeof document<"u";function z_(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function $C(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&z_(t.default)}const ut=Object.assign;function Uh(t,e){const r={};for(const n in e){const s=e[n];r[n]=Cn(s)?s.map(t):t(s)}return r}const Za=()=>{},Cn=Array.isArray,W_=/#/g,OC=/&/g,DC=/\//g,MC=/=/g,VC=/\?/g,K_=/\+/g,LC=/%5B/g,FC=/%5D/g,G_=/%5E/g,UC=/%60/g,Q_=/%7B/g,jC=/%7C/g,Y_=/%7D/g,BC=/%20/g;function xm(t){return encodeURI(""+t).replace(jC,"|").replace(LC,"[").replace(FC,"]")}function qC(t){return xm(t).replace(Q_,"{").replace(Y_,"}").replace(G_,"^")}function jf(t){return xm(t).replace(K_,"%2B").replace(BC,"+").replace(W_,"%23").replace(OC,"%26").replace(UC,"`").replace(Q_,"{").replace(Y_,"}").replace(G_,"^")}function HC(t){return jf(t).replace(MC,"%3D")}function zC(t){return xm(t).replace(W_,"%23").replace(VC,"%3F")}function WC(t){return t==null?"":zC(t).replace(DC,"%2F")}function wl(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const KC=/\/$/,GC=t=>t.replace(KC,"");function jh(t,e,r="/"){let n,s={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(n=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),s=t(i)),a>-1&&(n=n||e.slice(0,a),o=e.slice(a,e.length)),n=XC(n??e,r),{fullPath:n+(i&&"?")+i+o,path:n,query:s,hash:wl(o)}}function QC(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function Rv(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function YC(t,e,r){const n=e.matched.length-1,s=r.matched.length-1;return n>-1&&n===s&&qo(e.matched[n],r.matched[s])&&J_(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function qo(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function J_(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!JC(t[r],e[r]))return!1;return!0}function JC(t,e){return Cn(t)?Nv(t,e):Cn(e)?Nv(e,t):t===e}function Nv(t,e){return Cn(e)?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function XC(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),n=t.split("/"),s=n[n.length-1];(s===".."||s===".")&&n.push("");let i=r.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")i>1&&i--;else break;return r.slice(0,i).join("/")+"/"+n.slice(o).join("/")}const Es={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var kl;(function(t){t.pop="pop",t.push="push"})(kl||(kl={}));var el;(function(t){t.back="back",t.forward="forward",t.unknown=""})(el||(el={}));function ZC(t){if(!t)if(mo){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),GC(t)}const e5=/^[^#]+#/;function t5(t,e){return t.replace(e5,"#")+e}function r5(t,e){const r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-r.left-(e.left||0),top:n.top-r.top-(e.top||0)}}const Id=()=>({left:window.scrollX,top:window.scrollY});function n5(t){let e;if("el"in t){const r=t.el,n=typeof r=="string"&&r.startsWith("#"),s=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!s)return;e=r5(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function $v(t,e){return(history.state?history.state.position-e:-1)+t}const Bf=new Map;function s5(t,e){Bf.set(t,e)}function i5(t){const e=Bf.get(t);return Bf.delete(t),e}let o5=()=>location.protocol+"//"+location.host;function X_(t,e){const{pathname:r,search:n,hash:s}=e,i=t.indexOf("#");if(i>-1){let a=s.includes(t.slice(i))?t.slice(i).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),Rv(l,"")}return Rv(r,t)+n+s}function a5(t,e,r,n){let s=[],i=[],o=null;const a=({state:p})=>{const v=X_(t,location),b=r.value,w=e.value;let _=0;if(p){if(r.value=v,e.value=p,o&&o===b){o=null;return}_=w?p.position-w.position:0}else n(v);s.forEach(T=>{T(r.value,b,{delta:_,type:kl.pop,direction:_?_>0?el.forward:el.back:el.unknown})})};function l(){o=r.value}function d(p){s.push(p);const v=()=>{const b=s.indexOf(p);b>-1&&s.splice(b,1)};return i.push(v),v}function h(){const{history:p}=window;p.state&&p.replaceState(ut({},p.state,{scroll:Id()}),"")}function f(){for(const p of i)p();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:l,listen:d,destroy:f}}function Ov(t,e,r,n=!1,s=!1){return{back:t,current:e,forward:r,replaced:n,position:window.history.length,scroll:s?Id():null}}function l5(t){const{history:e,location:r}=window,n={value:X_(t,r)},s={value:e.state};s.value||i(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,d,h){const f=t.indexOf("#"),p=f>-1?(r.host&&document.querySelector("base")?t:t.slice(f))+l:o5()+t+l;try{e[h?"replaceState":"pushState"](d,"",p),s.value=d}catch(v){console.error(v),r[h?"replace":"assign"](p)}}function o(l,d){const h=ut({},e.state,Ov(s.value.back,l,s.value.forward,!0),d,{position:s.value.position});i(l,h,!0),n.value=l}function a(l,d){const h=ut({},s.value,e.state,{forward:l,scroll:Id()});i(h.current,h,!0);const f=ut({},Ov(n.value,l,null),{position:h.position+1},d);i(l,f,!1),n.value=l}return{location:n,state:s,push:a,replace:o}}function c5(t){t=ZC(t);const e=l5(t),r=a5(t,e.state,e.location,e.replace);function n(i,o=!0){o||r.pauseListeners(),history.go(i)}const s=ut({location:"",base:t,go:n,createHref:t5.bind(null,t)},e,r);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function u5(t){return typeof t=="string"||t&&typeof t=="object"}function Z_(t){return typeof t=="string"||typeof t=="symbol"}const ew=Symbol("");var Dv;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Dv||(Dv={}));function Ho(t,e){return ut(new Error,{type:t,[ew]:!0},e)}function Kn(t,e){return t instanceof Error&&ew in t&&(e==null||!!(t.type&e))}const Mv="[^/]+?",d5={sensitive:!1,strict:!1,start:!0,end:!0},h5=/[.+*?^${}()[\]/\\]/g;function f5(t,e){const r=ut({},d5,e),n=[];let s=r.start?"^":"";const i=[];for(const d of t){const h=d.length?[]:[90];r.strict&&!d.length&&(s+="/");for(let f=0;f<d.length;f++){const p=d[f];let v=40+(r.sensitive?.25:0);if(p.type===0)f||(s+="/"),s+=p.value.replace(h5,"\\$&"),v+=40;else if(p.type===1){const{value:b,repeatable:w,optional:_,regexp:T}=p;i.push({name:b,repeatable:w,optional:_});const S=T||Mv;if(S!==Mv){v+=10;try{new RegExp(`(${S})`)}catch(N){throw new Error(`Invalid custom RegExp for param "${b}" (${S}): `+N.message)}}let E=w?`((?:${S})(?:/(?:${S}))*)`:`(${S})`;f||(E=_&&d.length<2?`(?:/${E})`:"/"+E),_&&(E+="?"),s+=E,v+=20,_&&(v+=-8),w&&(v+=-20),S===".*"&&(v+=-50)}h.push(v)}n.push(h)}if(r.strict&&r.end){const d=n.length-1;n[d][n[d].length-1]+=.7000000000000001}r.strict||(s+="/?"),r.end?s+="$":r.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,r.sensitive?"":"i");function a(d){const h=d.match(o),f={};if(!h)return null;for(let p=1;p<h.length;p++){const v=h[p]||"",b=i[p-1];f[b.name]=v&&b.repeatable?v.split("/"):v}return f}function l(d){let h="",f=!1;for(const p of t){(!f||!h.endsWith("/"))&&(h+="/"),f=!1;for(const v of p)if(v.type===0)h+=v.value;else if(v.type===1){const{value:b,repeatable:w,optional:_}=v,T=b in d?d[b]:"";if(Cn(T)&&!w)throw new Error(`Provided param "${b}" is an array but it is not repeatable (* or + modifiers)`);const S=Cn(T)?T.join("/"):T;if(!S)if(_)p.length<2&&(h.endsWith("/")?h=h.slice(0,-1):f=!0);else throw new Error(`Missing required param "${b}"`);h+=S}}return h||"/"}return{re:o,score:n,keys:i,parse:a,stringify:l}}function p5(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=e[r]-t[r];if(n)return n;r++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function tw(t,e){let r=0;const n=t.score,s=e.score;for(;r<n.length&&r<s.length;){const i=p5(n[r],s[r]);if(i)return i;r++}if(Math.abs(s.length-n.length)===1){if(Vv(n))return 1;if(Vv(s))return-1}return s.length-n.length}function Vv(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const m5={type:0,value:""},g5=/[a-zA-Z0-9_]/;function v5(t){if(!t)return[[]];if(t==="/")return[[m5]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(v){throw new Error(`ERR (${r})/"${d}": ${v}`)}let r=0,n=r;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,d="",h="";function f(){d&&(r===0?i.push({type:0,value:d}):r===1||r===2||r===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:d,regexp:h,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),d="")}function p(){d+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:l==="/"?(d&&f(),o()):l===":"?(f(),r=1):p();break;case 4:p(),r=n;break;case 1:l==="("?r=2:g5.test(l)?p():(f(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+l:r=3:h+=l;break;case 3:f(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,h="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${d}"`),f(),o(),s}function y5(t,e,r){const n=f5(v5(t.path),r),s=ut(n,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function b5(t,e){const r=[],n=new Map;e=jv({strict:!1,end:!0,sensitive:!1},e);function s(f){return n.get(f)}function i(f,p,v){const b=!v,w=Fv(f);w.aliasOf=v&&v.record;const _=jv(e,f),T=[w];if("alias"in f){const N=typeof f.alias=="string"?[f.alias]:f.alias;for(const C of N)T.push(Fv(ut({},w,{components:v?v.record.components:w.components,path:C,aliasOf:v?v.record:w})))}let S,E;for(const N of T){const{path:C}=N;if(p&&C[0]!=="/"){const F=p.record.path,I=F[F.length-1]==="/"?"":"/";N.path=p.record.path+(C&&I+C)}if(S=y5(N,p,_),v?v.alias.push(S):(E=E||S,E!==S&&E.alias.push(S),b&&f.name&&!Uv(S)&&o(f.name)),rw(S)&&l(S),w.children){const F=w.children;for(let I=0;I<F.length;I++)i(F[I],S,v&&v.children[I])}v=v||S}return E?()=>{o(E)}:Za}function o(f){if(Z_(f)){const p=n.get(f);p&&(n.delete(f),r.splice(r.indexOf(p),1),p.children.forEach(o),p.alias.forEach(o))}else{const p=r.indexOf(f);p>-1&&(r.splice(p,1),f.record.name&&n.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return r}function l(f){const p=w5(f,r);r.splice(p,0,f),f.record.name&&!Uv(f)&&n.set(f.record.name,f)}function d(f,p){let v,b={},w,_;if("name"in f&&f.name){if(v=n.get(f.name),!v)throw Ho(1,{location:f});_=v.record.name,b=ut(Lv(p.params,v.keys.filter(E=>!E.optional).concat(v.parent?v.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),f.params&&Lv(f.params,v.keys.map(E=>E.name))),w=v.stringify(b)}else if(f.path!=null)w=f.path,v=r.find(E=>E.re.test(w)),v&&(b=v.parse(w),_=v.record.name);else{if(v=p.name?n.get(p.name):r.find(E=>E.re.test(p.path)),!v)throw Ho(1,{location:f,currentLocation:p});_=v.record.name,b=ut({},p.params,f.params),w=v.stringify(b)}const T=[];let S=v;for(;S;)T.unshift(S.record),S=S.parent;return{name:_,path:w,params:b,matched:T,meta:_5(T)}}t.forEach(f=>i(f));function h(){r.length=0,n.clear()}return{addRoute:i,resolve:d,removeRoute:o,clearRoutes:h,getRoutes:a,getRecordMatcher:s}}function Lv(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function Fv(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:x5(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function x5(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const n in t.components)e[n]=typeof r=="object"?r[n]:r;return e}function Uv(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function _5(t){return t.reduce((e,r)=>ut(e,r.meta),{})}function jv(t,e){const r={};for(const n in t)r[n]=n in e?e[n]:t[n];return r}function w5(t,e){let r=0,n=e.length;for(;r!==n;){const i=r+n>>1;tw(t,e[i])<0?n=i:r=i+1}const s=k5(t);return s&&(n=e.lastIndexOf(s,n-1)),n}function k5(t){let e=t;for(;e=e.parent;)if(rw(e)&&tw(t,e)===0)return e}function rw({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function E5(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<n.length;++s){const i=n[s].replace(K_," "),o=i.indexOf("="),a=wl(o<0?i:i.slice(0,o)),l=o<0?null:wl(i.slice(o+1));if(a in e){let d=e[a];Cn(d)||(d=e[a]=[d]),d.push(l)}else e[a]=l}return e}function Bv(t){let e="";for(let r in t){const n=t[r];if(r=HC(r),n==null){n!==void 0&&(e+=(e.length?"&":"")+r);continue}(Cn(n)?n.map(i=>i&&jf(i)):[n&&jf(n)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+r,i!=null&&(e+="="+i))})}return e}function I5(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=Cn(n)?n.map(s=>s==null?null:""+s):n==null?n:""+n)}return e}const T5=Symbol(""),qv=Symbol(""),Td=Symbol(""),_m=Symbol(""),qf=Symbol("");function Ia(){let t=[];function e(n){return t.push(n),()=>{const s=t.indexOf(n);s>-1&&t.splice(s,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function Os(t,e,r,n,s,i=o=>o()){const o=n&&(n.enterCallbacks[s]=n.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const d=p=>{p===!1?l(Ho(4,{from:r,to:e})):p instanceof Error?l(p):u5(p)?l(Ho(2,{from:e,to:p})):(o&&n.enterCallbacks[s]===o&&typeof p=="function"&&o.push(p),a())},h=i(()=>t.call(n&&n.instances[s],e,r,d));let f=Promise.resolve(h);t.length<3&&(f=f.then(d)),f.catch(p=>l(p))})}function Bh(t,e,r,n,s=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(z_(l)){const h=(l.__vccOpts||l)[e];h&&i.push(Os(h,r,n,o,a,s))}else{let d=l();i.push(()=>d.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=$C(h)?h.default:h;o.mods[a]=h,o.components[a]=f;const v=(f.__vccOpts||f)[e];return v&&Os(v,r,n,o,a,s)()}))}}return i}function Hv(t){const e=it(Td),r=it(_m),n=re(()=>{const l=B(t.to);return e.resolve(l)}),s=re(()=>{const{matched:l}=n.value,{length:d}=l,h=l[d-1],f=r.matched;if(!h||!f.length)return-1;const p=f.findIndex(qo.bind(null,h));if(p>-1)return p;const v=zv(l[d-2]);return d>1&&zv(h)===v&&f[f.length-1].path!==v?f.findIndex(qo.bind(null,l[d-2])):p}),i=re(()=>s.value>-1&&P5(r.params,n.value.params)),o=re(()=>s.value>-1&&s.value===r.matched.length-1&&J_(r.params,n.value.params));function a(l={}){if(C5(l)){const d=e[B(t.replace)?"replace":"push"](B(t.to)).catch(Za);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>d),d}return Promise.resolve()}return{route:n,href:re(()=>n.value.href),isActive:i,isExactActive:o,navigate:a}}function A5(t){return t.length===1?t[0]:t}const S5=Ze({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Hv,setup(t,{slots:e}){const r=gn(Hv(t)),{options:n}=it(Td),s=re(()=>({[Wv(t.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[Wv(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const i=e.default&&A5(e.default(r));return t.custom?i:yt("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:s.value},i)}}}),vt=S5;function C5(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function P5(t,e){for(const r in e){const n=e[r],s=t[r];if(typeof n=="string"){if(n!==s)return!1}else if(!Cn(s)||s.length!==n.length||n.some((i,o)=>i!==s[o]))return!1}return!0}function zv(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Wv=(t,e,r)=>t??e??r,R5=Ze({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const n=it(qf),s=re(()=>t.route||n.value),i=it(qv,0),o=re(()=>{let d=B(i);const{matched:h}=s.value;let f;for(;(f=h[d])&&!f.components;)d++;return d}),a=re(()=>s.value.matched[o.value]);Ht(qv,re(()=>o.value+1)),Ht(T5,a),Ht(qf,s);const l=q();return Rt(()=>[l.value,a.value,t.name],([d,h,f],[p,v,b])=>{h&&(h.instances[f]=d,v&&v!==h&&d&&d===p&&(h.leaveGuards.size||(h.leaveGuards=v.leaveGuards),h.updateGuards.size||(h.updateGuards=v.updateGuards))),d&&h&&(!v||!qo(h,v)||!p)&&(h.enterCallbacks[f]||[]).forEach(w=>w(d))},{flush:"post"}),()=>{const d=s.value,h=t.name,f=a.value,p=f&&f.components[h];if(!p)return Kv(r.default,{Component:p,route:d});const v=f.props[h],b=v?v===!0?d.params:typeof v=="function"?v(d):v:null,_=yt(p,ut({},b,e,{onVnodeUnmounted:T=>{T.component.isUnmounted&&(f.instances[h]=null)},ref:l}));return Kv(r.default,{Component:_,route:d})||_}}});function Kv(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const N5=R5;function $5(t){const e=b5(t.routes,t),r=t.parseQuery||E5,n=t.stringifyQuery||Bv,s=t.history,i=Ia(),o=Ia(),a=Ia(),l=ud(Es);let d=Es;mo&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Uh.bind(null,z=>""+z),f=Uh.bind(null,WC),p=Uh.bind(null,wl);function v(z,D){let A,Z;return Z_(z)?(A=e.getRecordMatcher(z),Z=D):Z=z,e.addRoute(Z,A)}function b(z){const D=e.getRecordMatcher(z);D&&e.removeRoute(D)}function w(){return e.getRoutes().map(z=>z.record)}function _(z){return!!e.getRecordMatcher(z)}function T(z,D){if(D=ut({},D||l.value),typeof z=="string"){const j=jh(r,z,D.path),Q=e.resolve({path:j.path},D),ne=s.createHref(j.fullPath);return ut(j,Q,{params:p(Q.params),hash:wl(j.hash),redirectedFrom:void 0,href:ne})}let A;if(z.path!=null)A=ut({},z,{path:jh(r,z.path,D.path).path});else{const j=ut({},z.params);for(const Q in j)j[Q]==null&&delete j[Q];A=ut({},z,{params:f(j)}),D.params=f(D.params)}const Z=e.resolve(A,D),ee=z.hash||"";Z.params=h(p(Z.params));const Ce=QC(n,ut({},z,{hash:qC(ee),path:Z.path})),V=s.createHref(Ce);return ut({fullPath:Ce,hash:ee,query:n===Bv?I5(z.query):z.query||{}},Z,{redirectedFrom:void 0,href:V})}function S(z){return typeof z=="string"?jh(r,z,l.value.path):ut({},z)}function E(z,D){if(d!==z)return Ho(8,{from:D,to:z})}function N(z){return I(z)}function C(z){return N(ut(S(z),{replace:!0}))}function F(z){const D=z.matched[z.matched.length-1];if(D&&D.redirect){const{redirect:A}=D;let Z=typeof A=="function"?A(z):A;return typeof Z=="string"&&(Z=Z.includes("?")||Z.includes("#")?Z=S(Z):{path:Z},Z.params={}),ut({query:z.query,hash:z.hash,params:Z.path!=null?{}:z.params},Z)}}function I(z,D){const A=d=T(z),Z=l.value,ee=z.state,Ce=z.force,V=z.replace===!0,j=F(A);if(j)return I(ut(S(j),{state:typeof j=="object"?ut({},ee,j.state):ee,force:Ce,replace:V}),D||A);const Q=A;Q.redirectedFrom=D;let ne;return!Ce&&YC(n,Z,A)&&(ne=Ho(16,{to:Q,from:Z}),Ie(Z,Z,!0,!1)),(ne?Promise.resolve(ne):k(Q,Z)).catch(J=>Kn(J)?Kn(J,2)?J:Se(J):G(J,Q,Z)).then(J=>{if(J){if(Kn(J,2))return I(ut({replace:V},S(J.to),{state:typeof J.to=="object"?ut({},ee,J.to.state):ee,force:Ce}),D||Q)}else J=P(Q,Z,!0,V,ee);return $(Q,Z,J),J})}function y(z,D){const A=E(z,D);return A?Promise.reject(A):Promise.resolve()}function m(z){const D=ot.values().next().value;return D&&typeof D.runWithContext=="function"?D.runWithContext(z):z()}function k(z,D){let A;const[Z,ee,Ce]=O5(z,D);A=Bh(Z.reverse(),"beforeRouteLeave",z,D);for(const j of Z)j.leaveGuards.forEach(Q=>{A.push(Os(Q,z,D))});const V=y.bind(null,z,D);return A.push(V),mt(A).then(()=>{A=[];for(const j of i.list())A.push(Os(j,z,D));return A.push(V),mt(A)}).then(()=>{A=Bh(ee,"beforeRouteUpdate",z,D);for(const j of ee)j.updateGuards.forEach(Q=>{A.push(Os(Q,z,D))});return A.push(V),mt(A)}).then(()=>{A=[];for(const j of Ce)if(j.beforeEnter)if(Cn(j.beforeEnter))for(const Q of j.beforeEnter)A.push(Os(Q,z,D));else A.push(Os(j.beforeEnter,z,D));return A.push(V),mt(A)}).then(()=>(z.matched.forEach(j=>j.enterCallbacks={}),A=Bh(Ce,"beforeRouteEnter",z,D,m),A.push(V),mt(A))).then(()=>{A=[];for(const j of o.list())A.push(Os(j,z,D));return A.push(V),mt(A)}).catch(j=>Kn(j,8)?j:Promise.reject(j))}function $(z,D,A){a.list().forEach(Z=>m(()=>Z(z,D,A)))}function P(z,D,A,Z,ee){const Ce=E(z,D);if(Ce)return Ce;const V=D===Es,j=mo?history.state:{};A&&(Z||V?s.replace(z.fullPath,ut({scroll:V&&j&&j.scroll},ee)):s.push(z.fullPath,ee)),l.value=z,Ie(z,D,A,V),Se()}let R;function le(){R||(R=s.listen((z,D,A)=>{if(!Et.listening)return;const Z=T(z),ee=F(Z);if(ee){I(ut(ee,{replace:!0,force:!0}),Z).catch(Za);return}d=Z;const Ce=l.value;mo&&s5($v(Ce.fullPath,A.delta),Id()),k(Z,Ce).catch(V=>Kn(V,12)?V:Kn(V,2)?(I(ut(S(V.to),{force:!0}),Z).then(j=>{Kn(j,20)&&!A.delta&&A.type===kl.pop&&s.go(-1,!1)}).catch(Za),Promise.reject()):(A.delta&&s.go(-A.delta,!1),G(V,Z,Ce))).then(V=>{V=V||P(Z,Ce,!1),V&&(A.delta&&!Kn(V,8)?s.go(-A.delta,!1):A.type===kl.pop&&Kn(V,20)&&s.go(-1,!1)),$(Z,Ce,V)}).catch(Za)}))}let Y=Ia(),L=Ia(),oe;function G(z,D,A){Se(z);const Z=L.list();return Z.length?Z.forEach(ee=>ee(z,D,A)):console.error(z),Promise.reject(z)}function ge(){return oe&&l.value!==Es?Promise.resolve():new Promise((z,D)=>{Y.add([z,D])})}function Se(z){return oe||(oe=!z,le(),Y.list().forEach(([D,A])=>z?A(z):D()),Y.reset()),z}function Ie(z,D,A,Z){const{scrollBehavior:ee}=t;if(!mo||!ee)return Promise.resolve();const Ce=!A&&i5($v(z.fullPath,0))||(Z||!A)&&history.state&&history.state.scroll||null;return ir().then(()=>ee(z,D,Ce)).then(V=>V&&n5(V)).catch(V=>G(V,z,D))}const Te=z=>s.go(z);let Le;const ot=new Set,Et={currentRoute:l,listening:!0,addRoute:v,removeRoute:b,clearRoutes:e.clearRoutes,hasRoute:_,getRoutes:w,resolve:T,options:t,push:N,replace:C,go:Te,back:()=>Te(-1),forward:()=>Te(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:L.add,isReady:ge,install(z){const D=this;z.component("RouterLink",vt),z.component("RouterView",N5),z.config.globalProperties.$router=D,Object.defineProperty(z.config.globalProperties,"$route",{enumerable:!0,get:()=>B(l)}),mo&&!Le&&l.value===Es&&(Le=!0,N(s.location).catch(ee=>{}));const A={};for(const ee in Es)Object.defineProperty(A,ee,{get:()=>l.value[ee],enumerable:!0});z.provide(Td,D),z.provide(_m,Dp(A)),z.provide(qf,l);const Z=z.unmount;ot.add(z),z.unmount=function(){ot.delete(z),ot.size<1&&(d=Es,R&&R(),R=null,l.value=Es,Le=!1,oe=!1),Z()}}};function mt(z){return z.reduce((D,A)=>D.then(()=>m(A)),Promise.resolve())}return Et}function O5(t,e){const r=[],n=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(d=>qo(d,a))?n.push(a):r.push(a));const l=t.matched[o];l&&(e.matched.find(d=>qo(d,l))||s.push(l))}return[r,n,s]}function si(){return it(Td)}function Ad(t){return it(_m)}var Gv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);s<128?e[r++]=s:s<2048?(e[r++]=s>>6|192,e[r++]=s&63|128):(s&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=s>>18|240,e[r++]=s>>12&63|128,e[r++]=s>>6&63|128,e[r++]=s&63|128):(e[r++]=s>>12|224,e[r++]=s>>6&63|128,e[r++]=s&63|128)}return e},D5=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const s=t[r++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[r++];e[n++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[r++],o=t[r++],a=t[r++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const i=t[r++],o=t[r++];e[n++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},sw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,d=l?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|d>>6,v=d&63;l||(v=64,o||(p=64)),n.push(r[h],r[f],r[p],r[v])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(nw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):D5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<t.length;){const i=r[t.charAt(s++)],a=s<t.length?r[t.charAt(s)]:0;++s;const d=s<t.length?r[t.charAt(s)]:64;++s;const f=s<t.length?r[t.charAt(s)]:64;if(++s,i==null||a==null||d==null||f==null)throw new M5;const p=i<<2|a>>4;if(n.push(p),d!==64){const v=a<<4&240|d>>2;if(n.push(v),f!==64){const b=d<<6&192|f;n.push(b)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class M5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const V5=function(t){const e=nw(t);return sw.encodeByteArray(e,!0)},$u=function(t){return V5(t).replace(/\./g,"")},iw=function(t){try{return sw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F5=()=>L5().__FIREBASE_DEFAULTS__,U5=()=>{if(typeof process>"u"||typeof Gv>"u")return;const t=Gv.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},j5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&iw(t[1]);return e&&JSON.parse(e)},Sd=()=>{try{return F5()||U5()||j5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ow=t=>{var e,r;return(r=(e=Sd())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},wm=t=>{const e=ow(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},aw=()=>{var t;return(t=Sd())===null||t===void 0?void 0:t.config},lw=t=>{var e;return(e=Sd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[$u(JSON.stringify(r)),$u(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function q5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cr())}function H5(){var t;const e=(t=Sd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function z5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function uw(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function W5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function K5(){const t=Cr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function G5(){return!H5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function dw(){try{return typeof indexedDB=="object"}catch{return!1}}function hw(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){e(r)}})}function Q5(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y5="FirebaseError";class xn extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=Y5,Object.setPrototypeOf(this,xn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qi.prototype.create)}}class Qi{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?J5(i,n):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new xn(s,a,n)}}function J5(t,e){return t.replace(X5,(r,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const X5=/\{\$([^}]+)}/g;function Z5(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function El(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const s of r){if(!n.includes(s))return!1;const i=t[s],o=e[s];if(Qv(i)&&Qv(o)){if(!El(i,o))return!1}else if(i!==o)return!1}for(const s of n)if(!r.includes(s))return!1;return!0}function Qv(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(s=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Oa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[s,i]=n.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Da(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function e3(t,e){const r=new t3(t,e);return r.subscribe.bind(r)}class t3{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let s;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");r3(e,["next","error","complete"])?s=e:s={next:e,error:r,complete:n},s.next===void 0&&(s.next=qh),s.error===void 0&&(s.error=qh),s.complete===void 0&&(s.complete=qh);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function r3(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function qh(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n3=1e3,s3=2,i3=4*60*60*1e3,o3=.5;function Yv(t,e=n3,r=s3){const n=e*Math.pow(r,t),s=Math.round(o3*n*(Math.random()-.5)*2);return Math.min(i3,n+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xt(t){return t&&t._delegate?t._delegate:t}class rn{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a3{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new B5;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(c3(e))try{this.getOrInitializeService({instanceIdentifier:gi})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:s});n.resolve(i)}catch{}}}}clearInstance(e=gi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=gi){return this.instances.has(e)}getOptions(e=gi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);n===a&&o.resolve(s)}return s}onInit(e,r){var n;const s=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const s of n)try{s(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:l3(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=gi){return this.component?this.component.multipleInstances?e:gi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function l3(t){return t===gi?void 0:t}function c3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new a3(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Je||(Je={}));const d3={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},h3=Je.INFO,f3={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},p3=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),s=f3[e];if(s)console[s](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cd{constructor(e){this.name=e,this._logLevel=h3,this._logHandler=p3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?d3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}const m3=(t,e)=>e.some(r=>t instanceof r);let Jv,Xv;function g3(){return Jv||(Jv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function v3(){return Xv||(Xv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fw=new WeakMap,Hf=new WeakMap,pw=new WeakMap,Hh=new WeakMap,km=new WeakMap;function y3(t){const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{r(Ws(t.result)),s()},o=()=>{n(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&fw.set(r,t)}).catch(()=>{}),km.set(e,t),e}function b3(t){if(Hf.has(t))return;const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{r(),s()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Hf.set(t,e)}let zf={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Hf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||pw.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ws(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function x3(t){zf=t(zf)}function _3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(zh(this),e,...r);return pw.set(n,e.sort?e.sort():[e]),Ws(n)}:v3().includes(t)?function(...e){return t.apply(zh(this),e),Ws(fw.get(this))}:function(...e){return Ws(t.apply(zh(this),e))}}function w3(t){return typeof t=="function"?_3(t):(t instanceof IDBTransaction&&b3(t),m3(t,g3())?new Proxy(t,zf):t)}function Ws(t){if(t instanceof IDBRequest)return y3(t);if(Hh.has(t))return Hh.get(t);const e=w3(t);return e!==t&&(Hh.set(t,e),km.set(e,t)),e}const zh=t=>km.get(t);function mw(t,e,{blocked:r,upgrade:n,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Ws(o);return n&&o.addEventListener("upgradeneeded",l=>{n(Ws(o.result),l.oldVersion,l.newVersion,Ws(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const k3=["get","getKey","getAll","getAllKeys","count"],E3=["put","add","delete","clear"],Wh=new Map;function Zv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Wh.get(e))return Wh.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,s=E3.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||k3.includes(r)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let d=l.store;return n&&(d=d.index(a.shift())),(await Promise.all([d[r](...a),s&&l.done]))[0]};return Wh.set(e,i),i}x3(t=>({...t,get:(e,r,n)=>Zv(e,r)||t.get(e,r,n),has:(e,r)=>!!Zv(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(T3(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function T3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wf="@firebase/app",ey="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ls=new Cd("@firebase/app"),A3="@firebase/app-compat",S3="@firebase/analytics-compat",C3="@firebase/analytics",P3="@firebase/app-check-compat",R3="@firebase/app-check",N3="@firebase/auth",$3="@firebase/auth-compat",O3="@firebase/database",D3="@firebase/data-connect",M3="@firebase/database-compat",V3="@firebase/functions",L3="@firebase/functions-compat",F3="@firebase/installations",U3="@firebase/installations-compat",j3="@firebase/messaging",B3="@firebase/messaging-compat",q3="@firebase/performance",H3="@firebase/performance-compat",z3="@firebase/remote-config",W3="@firebase/remote-config-compat",K3="@firebase/storage",G3="@firebase/storage-compat",Q3="@firebase/firestore",Y3="@firebase/vertexai-preview",J3="@firebase/firestore-compat",X3="firebase",Z3="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf="[DEFAULT]",eP={[Wf]:"fire-core",[A3]:"fire-core-compat",[C3]:"fire-analytics",[S3]:"fire-analytics-compat",[R3]:"fire-app-check",[P3]:"fire-app-check-compat",[N3]:"fire-auth",[$3]:"fire-auth-compat",[O3]:"fire-rtdb",[D3]:"fire-data-connect",[M3]:"fire-rtdb-compat",[V3]:"fire-fn",[L3]:"fire-fn-compat",[F3]:"fire-iid",[U3]:"fire-iid-compat",[j3]:"fire-fcm",[B3]:"fire-fcm-compat",[q3]:"fire-perf",[H3]:"fire-perf-compat",[z3]:"fire-rc",[W3]:"fire-rc-compat",[K3]:"fire-gcs",[G3]:"fire-gcs-compat",[Q3]:"fire-fst",[J3]:"fire-fst-compat",[Y3]:"fire-vertex","fire-js":"fire-js",[X3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=new Map,tP=new Map,Gf=new Map;function ty(t,e){try{t.container.addComponent(e)}catch(r){ls.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function yn(t){const e=t.name;if(Gf.has(e))return ls.debug(`There were multiple attempts to register component ${e}.`),!1;Gf.set(e,t);for(const r of Il.values())ty(r,t);for(const r of tP.values())ty(r,t);return!0}function ms(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Mn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ks=new Qi("app","Firebase",rP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new rn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ks.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi=Z3;function Em(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Kf,automaticDataCollectionEnabled:!1},e),s=n.name;if(typeof s!="string"||!s)throw Ks.create("bad-app-name",{appName:String(s)});if(r||(r=aw()),!r)throw Ks.create("no-options");const i=Il.get(s);if(i){if(El(r,i.options)&&El(n,i.config))return i;throw Ks.create("duplicate-app",{appName:s})}const o=new u3(s);for(const l of Gf.values())o.addComponent(l);const a=new nP(r,n,o);return Il.set(s,a),a}function na(t=Kf){const e=Il.get(t);if(!e&&t===Kf&&aw())return Em();if(!e)throw Ks.create("no-app",{appName:t});return e}function sP(){return Array.from(Il.values())}function Ar(t,e,r){var n;let s=(n=eP[t])!==null&&n!==void 0?n:t;r&&(s+=`-${r}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ls.warn(a.join(" "));return}yn(new rn(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP="firebase-heartbeat-database",oP=1,Tl="firebase-heartbeat-store";let Kh=null;function gw(){return Kh||(Kh=mw(iP,oP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Tl)}catch(r){console.warn(r)}}}}).catch(t=>{throw Ks.create("idb-open",{originalErrorMessage:t.message})})),Kh}async function aP(t){try{const r=(await gw()).transaction(Tl),n=await r.objectStore(Tl).get(vw(t));return await r.done,n}catch(e){if(e instanceof xn)ls.warn(e.message);else{const r=Ks.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ls.warn(r.message)}}}async function ry(t,e){try{const n=(await gw()).transaction(Tl,"readwrite");await n.objectStore(Tl).put(e,vw(t)),await n.done}catch(r){if(r instanceof xn)ls.warn(r.message);else{const n=Ks.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});ls.warn(n.message)}}}function vw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP=1024,cP=30*24*60*60*1e3;class uP{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new hP(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=ny();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=cP}),this._storage.overwrite(this._heartbeatsCache))}catch(n){ls.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=ny(),{heartbeatsToSend:n,unsentEntries:s}=dP(this._heartbeatsCache.heartbeats),i=$u(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return ls.warn(r),""}}}function ny(){return new Date().toISOString().substring(0,10)}function dP(t,e=lP){const r=[];let n=t.slice();for(const s of t){const i=r.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),sy(r)>e){i.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),sy(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class hP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return dw()?hw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await aP(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return ry(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return ry(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function sy(t){return $u(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(t){yn(new rn("platform-logger",e=>new I3(e),"PRIVATE")),yn(new rn("heartbeat",e=>new uP(e),"PRIVATE")),Ar(Wf,ey,t),Ar(Wf,ey,"esm2017"),Ar("fire-js","")}fP("");function Im(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function yw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pP=yw,bw=new Qi("auth","Firebase",yw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ou=new Cd("@firebase/auth");function mP(t,...e){Ou.logLevel<=Je.WARN&&Ou.warn(`Auth (${Yi}): ${t}`,...e)}function Zc(t,...e){Ou.logLevel<=Je.ERROR&&Ou.error(`Auth (${Yi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(t,...e){throw Tm(t,...e)}function Vn(t,...e){return Tm(t,...e)}function xw(t,e,r){const n=Object.assign(Object.assign({},pP()),{[e]:r});return new Qi("auth","Firebase",n).create(e,{appName:t.name})}function ss(t){return xw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tm(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return bw.create(t,...e)}function Me(t,e,...r){if(!t)throw Tm(e,...r)}function Zn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Zc(e),new Error(e)}function cs(t,e){t||Zn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function gP(){return iy()==="http:"||iy()==="https:"}function iy(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gP()||uw()||"connection"in navigator)?navigator.onLine:!0}function yP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,r){this.shortDelay=e,this.longDelay=r,cs(r>e,"Short delay should be less than long delay!"),this.isMobile=q5()||W5()}get(){return vP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(t,e){cs(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP=new Hl(3e4,6e4);function ii(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function oi(t,e,r,n,s={}){return ww(t,s,async()=>{let i={},o={};n&&(e==="GET"?o=n:i={body:JSON.stringify(n)});const a=ql(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:l},i);return z5()||(d.referrerPolicy="no-referrer"),_w.fetch()(kw(t,t.config.apiHost,r,a),d)})}async function ww(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},bP),e);try{const s=new wP(t),i=await Promise.race([r(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw $c(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,d]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw $c(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw $c(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw $c(t,"user-disabled",o);const h=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw xw(t,h,d);Pn(t,h)}}catch(s){if(s instanceof xn)throw s;Pn(t,"network-request-failed",{message:String(s)})}}async function zl(t,e,r,n,s={}){const i=await oi(t,e,r,n,s);return"mfaPendingCredential"in i&&Pn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function kw(t,e,r,n){const s=`${e}${r}?${n}`;return t.config.emulator?Am(t.config,s):`${t.config.apiScheme}://${s}`}function _P(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Vn(this.auth,"network-request-failed")),xP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function $c(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const s=Vn(t,e,n);return s.customData._tokenResponse=r,s}function oy(t){return t!==void 0&&t.enterprise!==void 0}class kP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return _P(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function EP(t,e){return oi(t,"GET","/v2/recaptchaConfig",ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IP(t,e){return oi(t,"POST","/v1/accounts:delete",e)}async function Ew(t,e){return oi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function TP(t,e=!1){const r=xt(t),n=await r.getIdToken(e),s=Sm(n);Me(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:n,authTime:tl(Gh(s.auth_time)),issuedAtTime:tl(Gh(s.iat)),expirationTime:tl(Gh(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Gh(t){return Number(t)*1e3}function Sm(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return Zc("JWT malformed, contained fewer than 3 sections"),null;try{const s=iw(r);return s?JSON.parse(s):(Zc("Failed to decode base64 JWT payload"),null)}catch(s){return Zc("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function ay(t){const e=Sm(t);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Al(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof xn&&AP(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function AP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=tl(this.lastLoginAt),this.creationTime=tl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Du(t){var e;const r=t.auth,n=await t.getIdToken(),s=await Al(t,Ew(r,{idToken:n}));Me(s==null?void 0:s.users.length,r,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Iw(i.providerUserInfo):[],a=PP(t.providerData,o),l=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=l?d:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Yf(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function CP(t){const e=xt(t);await Du(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function PP(t,e){return[...t.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function Iw(t){return t.map(e=>{var{providerId:r}=e,n=Im(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RP(t,e){const r=await ww(t,{},async()=>{const n=ql({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=kw(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",_w.fetch()(o,{method:"POST",headers:a,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function NP(t,e){return oi(t,"POST","/v2/accounts:revokeToken",ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ay(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const r=ay(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:s,expiresIn:i}=await RP(e,r);this.updateTokensAndExpiration(n,s,Number(i))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:s,expirationTime:i}=r,o=new Po;return n&&(Me(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),s&&(Me(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Me(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Po,this.toJSON())}_performRefresh(){return Zn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(t,e){Me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class es{constructor(e){var{uid:r,auth:n,stsTokenManager:s}=e,i=Im(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new SP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Yf(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await Al(this,this.stsTokenManager.getToken(this.auth,e));return Me(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return TP(this,e)}reload(){return CP(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new es(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Du(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(ss(this.auth));const e=await this.getIdToken();return await Al(this,IP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,s,i,o,a,l,d,h;const f=(n=r.displayName)!==null&&n!==void 0?n:void 0,p=(s=r.email)!==null&&s!==void 0?s:void 0,v=(i=r.phoneNumber)!==null&&i!==void 0?i:void 0,b=(o=r.photoURL)!==null&&o!==void 0?o:void 0,w=(a=r.tenantId)!==null&&a!==void 0?a:void 0,_=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,T=(d=r.createdAt)!==null&&d!==void 0?d:void 0,S=(h=r.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:E,emailVerified:N,isAnonymous:C,providerData:F,stsTokenManager:I}=r;Me(E&&I,e,"internal-error");const y=Po.fromJSON(this.name,I);Me(typeof E=="string",e,"internal-error"),Is(f,e.name),Is(p,e.name),Me(typeof N=="boolean",e,"internal-error"),Me(typeof C=="boolean",e,"internal-error"),Is(v,e.name),Is(b,e.name),Is(w,e.name),Is(_,e.name),Is(T,e.name),Is(S,e.name);const m=new es({uid:E,auth:e,email:p,emailVerified:N,displayName:f,isAnonymous:C,photoURL:b,phoneNumber:v,tenantId:w,stsTokenManager:y,createdAt:T,lastLoginAt:S});return F&&Array.isArray(F)&&(m.providerData=F.map(k=>Object.assign({},k))),_&&(m._redirectEventId=_),m}static async _fromIdTokenResponse(e,r,n=!1){const s=new Po;s.updateFromServerResponse(r);const i=new es({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await Du(i),i}static async _fromGetAccountInfoResponse(e,r,n){const s=r.users[0];Me(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Iw(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Po;a.updateFromIdToken(n);const l=new es({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Yf(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,d),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly=new Map;function ts(t){cs(t instanceof Function,"Expected a class definition");let e=ly.get(t);return e?(cs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ly.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}Tw.type="NONE";const cy=Tw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(t,e,r){return`firebase:${t}:${e}:${r}`}class Ro{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:s,name:i}=this.auth;this.fullUserKey=eu(this.userKey,s.apiKey,i),this.fullPersistenceKey=eu("persistence",s.apiKey,i),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?es._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Ro(ts(cy),e,n);const s=(await Promise.all(r.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||ts(cy);const o=eu(n,e.config.apiKey,e.name);let a=null;for(const d of r)try{const h=await d._get(o);if(h){const f=es._fromJSON(e,h);d!==i&&(a=f),i=d;break}}catch{}const l=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Ro(i,e,n):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(r.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new Ro(i,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uy(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Pw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Aw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Nw(e))return"Blackberry";if($w(e))return"Webos";if(Sw(e))return"Safari";if((e.includes("chrome/")||Cw(e))&&!e.includes("edge/"))return"Chrome";if(Rw(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function Aw(t=Cr()){return/firefox\//i.test(t)}function Sw(t=Cr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Cw(t=Cr()){return/crios\//i.test(t)}function Pw(t=Cr()){return/iemobile/i.test(t)}function Rw(t=Cr()){return/android/i.test(t)}function Nw(t=Cr()){return/blackberry/i.test(t)}function $w(t=Cr()){return/webos/i.test(t)}function Cm(t=Cr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function $P(t=Cr()){var e;return Cm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function OP(){return K5()&&document.documentMode===10}function Ow(t=Cr()){return Cm(t)||Rw(t)||$w(t)||Nw(t)||/windows phone/i.test(t)||Pw(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dw(t,e=[]){let r;switch(t){case"Browser":r=uy(Cr());break;case"Worker":r=`${uy(Cr())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Yi}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});n.onAbort=r,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MP(t,e={}){return oi(t,"GET","/v2/passwordPolicy",ii(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP=6;class LP{constructor(e){var r,n,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:VP,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),s&&(r.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e,r,n,s){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new dy(this),this.idTokenSubscription=new dy(this),this.beforeStateQueue=new DP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=ts(r)),this._initializationPromise=this.queue(async()=>{var n,s;if(!this._deleted&&(this.persistenceManager=await Ro.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Ew(this,{idToken:e}),n=await es._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Mn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Du(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=yP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mn(this.app))return Promise.reject(ss(this));const r=e?xt(e):null;return r&&Me(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(ss(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mn(this.app)?Promise.reject(ss(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await MP(this),r=new LP(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Qi("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await NP(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&ts(e)||this._popupRedirectResolver;Me(r,this,"argument-error"),this.redirectPersistenceManager=await Ro.create(this,[ts(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,s){if(this._deleted)return()=>{};const i=typeof r=="function"?r:r.next.bind(r);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,s);return()=>{o=!0,l()}}else{const l=e.addObserver(r);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Dw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&mP(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Ji(t){return xt(t)}class dy{constructor(e){this.auth=e,this.observer=null,this.addObserver=e3(r=>this.observer=r)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UP(t){Pd=t}function Mw(t){return Pd.loadJS(t)}function jP(){return Pd.recaptchaEnterpriseScript}function BP(){return Pd.gapiScript}function qP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const HP="recaptcha-enterprise",zP="NO_RECAPTCHA";class WP{constructor(e){this.type=HP,this.auth=Ji(e)}async verify(e="verify",r=!1){async function n(i){if(!r){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{EP(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const d=new kP(l);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;oy(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(zP)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{n(this.auth).then(a=>{if(!r&&oy(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=jP();l.length!==0&&(l+=a),Mw(l).then(()=>{s(a,i,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})}}async function hy(t,e,r,n=!1){const s=new WP(t);let i;try{i=await s.verify(r)}catch{i=await s.verify(r,!0)}const o=Object.assign({},e);return n?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Jf(t,e,r,n){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await hy(t,e,r,r==="getOobCode");return n(t,i)}else return n(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await hy(t,e,r,r==="getOobCode");return n(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(t,e){const r=ms(t,"auth");if(r.isInitialized()){const s=r.getImmediate(),i=r.getOptions();if(El(i,e??{}))return s;Pn(s,"already-initialized")}return r.initialize({options:e})}function GP(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(ts);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function QP(t,e,r){const n=Ji(t);Me(n._canInitEmulator,n,"emulator-config-failed"),Me(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const s=!1,i=Vw(e),{host:o,port:a}=YP(e),l=a===null?"":`:${a}`;n.config.emulator={url:`${i}//${o}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),JP()}function Vw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function YP(t){const e=Vw(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const i=s[1];return{host:i,port:fy(n.substr(i.length+1))}}else{const[i,o]=n.split(":");return{host:i,port:fy(o)}}}function fy(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function JP(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Zn("not implemented")}_getIdTokenResponse(e){return Zn("not implemented")}_linkToIdToken(e,r){return Zn("not implemented")}_getReauthenticationResolver(e){return Zn("not implemented")}}async function XP(t,e){return oi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZP(t,e){return zl(t,"POST","/v1/accounts:signInWithPassword",ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eR(t,e){return zl(t,"POST","/v1/accounts:signInWithEmailLink",ii(t,e))}async function tR(t,e){return zl(t,"POST","/v1/accounts:signInWithEmailLink",ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl extends Pm{constructor(e,r,n,s=null){super("password",n),this._email=e,this._password=r,this._tenantId=s}static _fromEmailAndPassword(e,r){return new Sl(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Sl(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jf(e,r,"signInWithPassword",ZP);case"emailLink":return eR(e,{email:this._email,oobCode:this._password});default:Pn(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Jf(e,n,"signUpPassword",XP);case"emailLink":return tR(e,{idToken:r,email:this._email,oobCode:this._password});default:Pn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(t,e){return zl(t,"POST","/v1/accounts:signInWithIdp",ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR="http://localhost";class Di extends Pm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Di(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Pn("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:s}=r,i=Im(r,["providerId","signInMethod"]);if(!n||!s)return null;const o=new Di(n,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return No(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,No(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,No(e,r)}buildRequest(){const e={requestUri:rR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=ql(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nR(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function sR(t){const e=Oa(Da(t)).link,r=e?Oa(Da(e)).deep_link_id:null,n=Oa(Da(t)).deep_link_id;return(n?Oa(Da(n)).link:null)||n||r||e||t}class Rm{constructor(e){var r,n,s,i,o,a;const l=Oa(Da(e)),d=(r=l.apiKey)!==null&&r!==void 0?r:null,h=(n=l.oobCode)!==null&&n!==void 0?n:null,f=nR((s=l.mode)!==null&&s!==void 0?s:null);Me(d&&h&&f,"argument-error"),this.apiKey=d,this.operation=f,this.code=h,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const r=sR(e);try{return new Rm(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(){this.providerId=sa.PROVIDER_ID}static credential(e,r){return Sl._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=Rm.parseLink(r);return Me(n,"argument-error"),Sl._fromEmailAndCode(e,n.code,n.tenantId)}}sa.PROVIDER_ID="password";sa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";sa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl extends Lw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds extends Wl{constructor(){super("facebook.com")}static credential(e){return Di._fromParams({providerId:Ds.PROVIDER_ID,signInMethod:Ds.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ds.credentialFromTaggedObject(e)}static credentialFromError(e){return Ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ds.credential(e.oauthAccessToken)}catch{return null}}}Ds.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ds.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends Wl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Di._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Ms.credential(r,n)}catch{return null}}}Ms.GOOGLE_SIGN_IN_METHOD="google.com";Ms.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends Wl{constructor(){super("github.com")}static credential(e){return Di._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vs.credential(e.oauthAccessToken)}catch{return null}}}Vs.GITHUB_SIGN_IN_METHOD="github.com";Vs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends Wl{constructor(){super("twitter.com")}static credential(e,r){return Di._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Ls.credential(r,n)}catch{return null}}}Ls.TWITTER_SIGN_IN_METHOD="twitter.com";Ls.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iR(t,e){return zl(t,"POST","/v1/accounts:signUp",ii(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,s=!1){const i=await es._fromIdTokenResponse(e,n,s),o=py(n);return new Mi({user:i,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const s=py(n);return new Mi({user:e,providerId:s,_tokenResponse:n,operationType:r})}}function py(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends xn{constructor(e,r,n,s){var i;super(r.code,r.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,Mu.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,s){return new Mu(e,r,n,s)}}function Fw(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Mu._fromErrorAndOperation(t,i,e,n):i})}async function oR(t,e,r=!1){const n=await Al(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Mi._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aR(t,e,r=!1){const{auth:n}=t;if(Mn(n.app))return Promise.reject(ss(n));const s="reauthenticate";try{const i=await Al(t,Fw(n,s,e,t),r);Me(i.idToken,n,"internal-error");const o=Sm(i.idToken);Me(o,n,"internal-error");const{sub:a}=o;return Me(t.uid===a,n,"user-mismatch"),Mi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Pn(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uw(t,e,r=!1){if(Mn(t.app))return Promise.reject(ss(t));const n="signIn",s=await Fw(t,n,e),i=await Mi._fromIdTokenResponse(t,n,s);return r||await t._updateCurrentUser(i.user),i}async function lR(t,e){return Uw(Ji(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jw(t){const e=Ji(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Bw(t,e,r){if(Mn(t.app))return Promise.reject(ss(t));const n=Ji(t),o=await Jf(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iR).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&jw(t),l}),a=await Mi._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(a.user),a}function qw(t,e,r){return Mn(t.app)?Promise.reject(ss(t)):lR(xt(t),sa.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&jw(t),n})}function cR(t,e,r,n){return xt(t).onIdTokenChanged(e,r,n)}function uR(t,e,r){return xt(t).beforeAuthStateChanged(e,r)}function Hw(t,e,r,n){return xt(t).onAuthStateChanged(e,r,n)}function dR(t){return xt(t).signOut()}const Vu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Vu,"1"),this.storage.removeItem(Vu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=1e3,fR=10;class Ww extends zw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Ow(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),s=this.localCache[r];n!==s&&e(r,s,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},i=this.storage.getItem(n);OP()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,fR):s()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},hR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ww.type="LOCAL";const pR=Ww;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw extends zw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}Kw.type="SESSION";const Gw=Kw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(s=>s.isListeningto(e));if(r)return r;const n=new Rd(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:s,data:i}=r.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const a=Array.from(o).map(async d=>d(r.origin,i)),l=await mR(a);r.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Rd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const d=Nm("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:r},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(){return window}function vR(t){Ln().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qw(){return typeof Ln().WorkerGlobalScope<"u"&&typeof Ln().importScripts=="function"}async function yR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bR(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function xR(){return Qw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="firebaseLocalStorageDb",_R=1,Lu="firebaseLocalStorage",Jw="fbase_key";class Kl{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Nd(t,e){return t.transaction([Lu],e?"readwrite":"readonly").objectStore(Lu)}function wR(){const t=indexedDB.deleteDatabase(Yw);return new Kl(t).toPromise()}function Xf(){const t=indexedDB.open(Yw,_R);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Lu,{keyPath:Jw})}catch(s){r(s)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Lu)?e(n):(n.close(),await wR(),e(await Xf()))})})}async function my(t,e,r){const n=Nd(t,!0).put({[Jw]:e,value:r});return new Kl(n).toPromise()}async function kR(t,e){const r=Nd(t,!1).get(e),n=await new Kl(r).toPromise();return n===void 0?null:n.value}function gy(t,e){const r=Nd(t,!0).delete(e);return new Kl(r).toPromise()}const ER=800,IR=3;class Xw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xf(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>IR)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Qw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rd._getInstance(xR()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await yR(),!this.activeServiceWorker)return;this.sender=new gR(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xf();return await my(e,Vu,"1"),await gy(e,Vu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>my(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>kR(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>gy(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Nd(s,!1).getAll();return new Kl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),r.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ER)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Xw.type="LOCAL";const TR=Xw;new Hl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(t,e){return e?ts(e):(Me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m extends Pm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return No(e,this._buildIdpRequest())}_linkToIdToken(e,r){return No(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return No(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function SR(t){return Uw(t.auth,new $m(t),t.bypassAuthState)}function CR(t){const{auth:e,user:r}=t;return Me(r,e,"internal-error"),aR(r,new $m(t),t.bypassAuthState)}async function PR(t){const{auth:e,user:r}=t;return Me(r,e,"internal-error"),oR(r,new $m(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e,r,n,s,i=!1){this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SR;case"linkViaPopup":case"linkViaRedirect":return PR;case"reauthViaPopup":case"reauthViaRedirect":return CR;default:Pn(this.auth,"internal-error")}}resolve(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=new Hl(2e3,1e4);class _o extends Zw{constructor(e,r,n,s,i){super(e,r,s,i),this.provider=n,this.authWindow=null,this.pollId=null,_o.currentPopupAction&&_o.currentPopupAction.cancel(),_o.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){cs(this.filter.length===1,"Popup operations only handle one event");const e=Nm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Vn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Vn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_o.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,RR.get())};e()}}_o.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="pendingRedirect",tu=new Map;class $R extends Zw{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=tu.get(this.auth._key());if(!e){try{const n=await OR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}tu.set(this.auth._key(),e)}return this.bypassAuthState||tu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OR(t,e){const r=VR(e),n=MR(t);if(!await n._isAvailable())return!1;const s=await n._get(r)==="true";return await n._remove(r),s}function DR(t,e){tu.set(t._key(),e)}function MR(t){return ts(t._redirectPersistence)}function VR(t){return eu(NR,t.config.apiKey,t.name)}async function LR(t,e,r=!1){if(Mn(t.app))return Promise.reject(ss(t));const n=Ji(t),s=AR(n,e),o=await new $R(n,s,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=10*60*1e3;class UR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jR(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!ek(e)){const s=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Vn(this.auth,s))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FR&&this.cachedEventUids.clear(),this.cachedEventUids.has(vy(e))}saveEventToCache(e){this.cachedEventUids.add(vy(e)),this.lastProcessedEventTime=Date.now()}}function vy(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ek({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function jR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ek(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BR(t,e={}){return oi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HR=/^https?/;async function zR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await BR(t);for(const r of e)try{if(WR(r))return}catch{}Pn(t,"unauthorized-domain")}function WR(t){const e=Qf(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!HR.test(r))return!1;if(qR.test(t))return n===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=new Hl(3e4,6e4);function yy(){const t=Ln().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function GR(t){return new Promise((e,r)=>{var n,s,i;function o(){yy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{yy(),r(Vn(t,"network-request-failed"))},timeout:KR.get()})}if(!((s=(n=Ln().gapi)===null||n===void 0?void 0:n.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Ln().gapi)===null||i===void 0)&&i.load)o();else{const a=qP("iframefcb");return Ln()[a]=()=>{gapi.load?o():r(Vn(t,"network-request-failed"))},Mw(`${BP()}?onload=${a}`).catch(l=>r(l))}}).catch(e=>{throw ru=null,e})}let ru=null;function QR(t){return ru=ru||GR(t),ru}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=new Hl(5e3,15e3),JR="__/auth/iframe",XR="emulator/auth/iframe",ZR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},e6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function t6(t){const e=t.config;Me(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?Am(e,XR):`https://${t.config.authDomain}/${JR}`,n={apiKey:e.apiKey,appName:t.name,v:Yi},s=e6.get(t.config.apiHost);s&&(n.eid=s);const i=t._getFrameworks();return i.length&&(n.fw=i.join(",")),`${r}?${ql(n).slice(1)}`}async function r6(t){const e=await QR(t),r=Ln().gapi;return Me(r,t,"internal-error"),e.open({where:document.body,url:t6(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZR,dontclear:!0},n=>new Promise(async(s,i)=>{await n.restyle({setHideOnLeave:!1});const o=Vn(t,"network-request-failed"),a=Ln().setTimeout(()=>{i(o)},YR.get());function l(){Ln().clearTimeout(a),s(n)}n.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},s6=500,i6=600,o6="_blank",a6="http://localhost";class by{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function l6(t,e,r,n=s6,s=i6){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let a="";const l=Object.assign(Object.assign({},n6),{width:n.toString(),height:s.toString(),top:i,left:o}),d=Cr().toLowerCase();r&&(a=Cw(d)?o6:r),Aw(d)&&(e=e||a6,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[v,b])=>`${p}${v}=${b},`,"");if($P(d)&&a!=="_self")return c6(e||"",a),new by(null);const f=window.open(e||"",a,h);Me(f,t,"popup-blocked");try{f.focus()}catch{}return new by(f)}function c6(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6="__/auth/handler",d6="emulator/auth/handler",h6=encodeURIComponent("fac");async function xy(t,e,r,n,s,i){Me(t.config.authDomain,t,"auth-domain-config-required"),Me(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Yi,eventId:s};if(e instanceof Lw){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Z5(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Wl){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),d=l?`#${h6}=${encodeURIComponent(l)}`:"";return`${f6(t)}?${ql(a).slice(1)}${d}`}function f6({config:t}){return t.emulator?Am(t,d6):`https://${t.authDomain}/${u6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qh="webStorageSupport";class p6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gw,this._completeRedirectFn=LR,this._overrideRedirectResult=DR}async _openPopup(e,r,n,s){var i;cs((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await xy(e,r,n,Qf(),s);return l6(e,o,Nm())}async _openRedirect(e,r,n,s){await this._originValidation(e);const i=await xy(e,r,n,Qf(),s);return vR(i),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:s,promise:i}=this.eventManagers[r];return s?Promise.resolve(s):(cs(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await r6(e),n=new UR(e);return r.register("authEvent",s=>(Me(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Qh,{type:Qh},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Qh];o!==void 0&&r(!!o),Pn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=zR(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return Ow()||Sw()||Cm()}}const m6=p6;var _y="@firebase/auth",wy="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function y6(t){yn(new rn("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=n.options;Me(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Dw(t)},d=new FP(n,s,i,l);return GP(d,r),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),yn(new rn("auth-internal",e=>{const r=Ji(e.getProvider("auth").getImmediate());return(n=>new g6(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ar(_y,wy,v6(t)),Ar(_y,wy,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6=5*60,x6=lw("authIdTokenMaxAge")||b6;let ky=null;const _6=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>x6)return;const s=r==null?void 0:r.token;ky!==s&&(ky=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function ia(t=na()){const e=ms(t,"auth");if(e.isInitialized())return e.getImmediate();const r=KP(t,{popupRedirectResolver:m6,persistence:[TR,pR,Gw]}),n=lw("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const o=_6(i.toString());uR(r,o,()=>o(r.currentUser)),cR(r,a=>o(a))}}const s=ow("auth");return s&&QP(r,`http://${s}`),r}function w6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}UP({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=s=>{const i=Vn("internal-error");i.customData=s,r(i)},n.type="text/javascript",n.charset="UTF-8",w6().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});y6("Browser");var k6="firebase",E6="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ar(k6,E6,"app");var Ey=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Pi,tk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,y){function m(){}m.prototype=y.prototype,I.D=y.prototype,I.prototype=new m,I.prototype.constructor=I,I.C=function(k,$,P){for(var R=Array(arguments.length-2),le=2;le<arguments.length;le++)R[le-2]=arguments[le];return y.prototype[$].apply(k,R)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,y,m){m||(m=0);var k=Array(16);if(typeof y=="string")for(var $=0;16>$;++$)k[$]=y.charCodeAt(m++)|y.charCodeAt(m++)<<8|y.charCodeAt(m++)<<16|y.charCodeAt(m++)<<24;else for($=0;16>$;++$)k[$]=y[m++]|y[m++]<<8|y[m++]<<16|y[m++]<<24;y=I.g[0],m=I.g[1],$=I.g[2];var P=I.g[3],R=y+(P^m&($^P))+k[0]+3614090360&4294967295;y=m+(R<<7&4294967295|R>>>25),R=P+($^y&(m^$))+k[1]+3905402710&4294967295,P=y+(R<<12&4294967295|R>>>20),R=$+(m^P&(y^m))+k[2]+606105819&4294967295,$=P+(R<<17&4294967295|R>>>15),R=m+(y^$&(P^y))+k[3]+3250441966&4294967295,m=$+(R<<22&4294967295|R>>>10),R=y+(P^m&($^P))+k[4]+4118548399&4294967295,y=m+(R<<7&4294967295|R>>>25),R=P+($^y&(m^$))+k[5]+1200080426&4294967295,P=y+(R<<12&4294967295|R>>>20),R=$+(m^P&(y^m))+k[6]+2821735955&4294967295,$=P+(R<<17&4294967295|R>>>15),R=m+(y^$&(P^y))+k[7]+4249261313&4294967295,m=$+(R<<22&4294967295|R>>>10),R=y+(P^m&($^P))+k[8]+1770035416&4294967295,y=m+(R<<7&4294967295|R>>>25),R=P+($^y&(m^$))+k[9]+2336552879&4294967295,P=y+(R<<12&4294967295|R>>>20),R=$+(m^P&(y^m))+k[10]+4294925233&4294967295,$=P+(R<<17&4294967295|R>>>15),R=m+(y^$&(P^y))+k[11]+2304563134&4294967295,m=$+(R<<22&4294967295|R>>>10),R=y+(P^m&($^P))+k[12]+1804603682&4294967295,y=m+(R<<7&4294967295|R>>>25),R=P+($^y&(m^$))+k[13]+4254626195&4294967295,P=y+(R<<12&4294967295|R>>>20),R=$+(m^P&(y^m))+k[14]+2792965006&4294967295,$=P+(R<<17&4294967295|R>>>15),R=m+(y^$&(P^y))+k[15]+1236535329&4294967295,m=$+(R<<22&4294967295|R>>>10),R=y+($^P&(m^$))+k[1]+4129170786&4294967295,y=m+(R<<5&4294967295|R>>>27),R=P+(m^$&(y^m))+k[6]+3225465664&4294967295,P=y+(R<<9&4294967295|R>>>23),R=$+(y^m&(P^y))+k[11]+643717713&4294967295,$=P+(R<<14&4294967295|R>>>18),R=m+(P^y&($^P))+k[0]+3921069994&4294967295,m=$+(R<<20&4294967295|R>>>12),R=y+($^P&(m^$))+k[5]+3593408605&4294967295,y=m+(R<<5&4294967295|R>>>27),R=P+(m^$&(y^m))+k[10]+38016083&4294967295,P=y+(R<<9&4294967295|R>>>23),R=$+(y^m&(P^y))+k[15]+3634488961&4294967295,$=P+(R<<14&4294967295|R>>>18),R=m+(P^y&($^P))+k[4]+3889429448&4294967295,m=$+(R<<20&4294967295|R>>>12),R=y+($^P&(m^$))+k[9]+568446438&4294967295,y=m+(R<<5&4294967295|R>>>27),R=P+(m^$&(y^m))+k[14]+3275163606&4294967295,P=y+(R<<9&4294967295|R>>>23),R=$+(y^m&(P^y))+k[3]+4107603335&4294967295,$=P+(R<<14&4294967295|R>>>18),R=m+(P^y&($^P))+k[8]+1163531501&4294967295,m=$+(R<<20&4294967295|R>>>12),R=y+($^P&(m^$))+k[13]+2850285829&4294967295,y=m+(R<<5&4294967295|R>>>27),R=P+(m^$&(y^m))+k[2]+4243563512&4294967295,P=y+(R<<9&4294967295|R>>>23),R=$+(y^m&(P^y))+k[7]+1735328473&4294967295,$=P+(R<<14&4294967295|R>>>18),R=m+(P^y&($^P))+k[12]+2368359562&4294967295,m=$+(R<<20&4294967295|R>>>12),R=y+(m^$^P)+k[5]+4294588738&4294967295,y=m+(R<<4&4294967295|R>>>28),R=P+(y^m^$)+k[8]+2272392833&4294967295,P=y+(R<<11&4294967295|R>>>21),R=$+(P^y^m)+k[11]+1839030562&4294967295,$=P+(R<<16&4294967295|R>>>16),R=m+($^P^y)+k[14]+4259657740&4294967295,m=$+(R<<23&4294967295|R>>>9),R=y+(m^$^P)+k[1]+2763975236&4294967295,y=m+(R<<4&4294967295|R>>>28),R=P+(y^m^$)+k[4]+1272893353&4294967295,P=y+(R<<11&4294967295|R>>>21),R=$+(P^y^m)+k[7]+4139469664&4294967295,$=P+(R<<16&4294967295|R>>>16),R=m+($^P^y)+k[10]+3200236656&4294967295,m=$+(R<<23&4294967295|R>>>9),R=y+(m^$^P)+k[13]+681279174&4294967295,y=m+(R<<4&4294967295|R>>>28),R=P+(y^m^$)+k[0]+3936430074&4294967295,P=y+(R<<11&4294967295|R>>>21),R=$+(P^y^m)+k[3]+3572445317&4294967295,$=P+(R<<16&4294967295|R>>>16),R=m+($^P^y)+k[6]+76029189&4294967295,m=$+(R<<23&4294967295|R>>>9),R=y+(m^$^P)+k[9]+3654602809&4294967295,y=m+(R<<4&4294967295|R>>>28),R=P+(y^m^$)+k[12]+3873151461&4294967295,P=y+(R<<11&4294967295|R>>>21),R=$+(P^y^m)+k[15]+530742520&4294967295,$=P+(R<<16&4294967295|R>>>16),R=m+($^P^y)+k[2]+3299628645&4294967295,m=$+(R<<23&4294967295|R>>>9),R=y+($^(m|~P))+k[0]+4096336452&4294967295,y=m+(R<<6&4294967295|R>>>26),R=P+(m^(y|~$))+k[7]+1126891415&4294967295,P=y+(R<<10&4294967295|R>>>22),R=$+(y^(P|~m))+k[14]+2878612391&4294967295,$=P+(R<<15&4294967295|R>>>17),R=m+(P^($|~y))+k[5]+4237533241&4294967295,m=$+(R<<21&4294967295|R>>>11),R=y+($^(m|~P))+k[12]+1700485571&4294967295,y=m+(R<<6&4294967295|R>>>26),R=P+(m^(y|~$))+k[3]+2399980690&4294967295,P=y+(R<<10&4294967295|R>>>22),R=$+(y^(P|~m))+k[10]+4293915773&4294967295,$=P+(R<<15&4294967295|R>>>17),R=m+(P^($|~y))+k[1]+2240044497&4294967295,m=$+(R<<21&4294967295|R>>>11),R=y+($^(m|~P))+k[8]+1873313359&4294967295,y=m+(R<<6&4294967295|R>>>26),R=P+(m^(y|~$))+k[15]+4264355552&4294967295,P=y+(R<<10&4294967295|R>>>22),R=$+(y^(P|~m))+k[6]+2734768916&4294967295,$=P+(R<<15&4294967295|R>>>17),R=m+(P^($|~y))+k[13]+1309151649&4294967295,m=$+(R<<21&4294967295|R>>>11),R=y+($^(m|~P))+k[4]+4149444226&4294967295,y=m+(R<<6&4294967295|R>>>26),R=P+(m^(y|~$))+k[11]+3174756917&4294967295,P=y+(R<<10&4294967295|R>>>22),R=$+(y^(P|~m))+k[2]+718787259&4294967295,$=P+(R<<15&4294967295|R>>>17),R=m+(P^($|~y))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+y&4294967295,I.g[1]=I.g[1]+($+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+$&4294967295,I.g[3]=I.g[3]+P&4294967295}n.prototype.u=function(I,y){y===void 0&&(y=I.length);for(var m=y-this.blockSize,k=this.B,$=this.h,P=0;P<y;){if($==0)for(;P<=m;)s(this,I,P),P+=this.blockSize;if(typeof I=="string"){for(;P<y;)if(k[$++]=I.charCodeAt(P++),$==this.blockSize){s(this,k),$=0;break}}else for(;P<y;)if(k[$++]=I[P++],$==this.blockSize){s(this,k),$=0;break}}this.h=$,this.o+=y},n.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var y=1;y<I.length-8;++y)I[y]=0;var m=8*this.o;for(y=I.length-8;y<I.length;++y)I[y]=m&255,m/=256;for(this.u(I),I=Array(16),y=m=0;4>y;++y)for(var k=0;32>k;k+=8)I[m++]=this.g[y]>>>k&255;return I};function i(I,y){var m=a;return Object.prototype.hasOwnProperty.call(m,I)?m[I]:m[I]=y(I)}function o(I,y){this.h=y;for(var m=[],k=!0,$=I.length-1;0<=$;$--){var P=I[$]|0;k&&P==y||(m[$]=P,k=!1)}this.g=m}var a={};function l(I){return-128<=I&&128>I?i(I,function(y){return new o([y|0],0>y?-1:0)}):new o([I|0],0>I?-1:0)}function d(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return _(d(-I));for(var y=[],m=1,k=0;I>=m;k++)y[k]=I/m|0,m*=4294967296;return new o(y,0)}function h(I,y){if(I.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(I.charAt(0)=="-")return _(h(I.substring(1),y));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var m=d(Math.pow(y,8)),k=f,$=0;$<I.length;$+=8){var P=Math.min(8,I.length-$),R=parseInt(I.substring($,$+P),y);8>P?(P=d(Math.pow(y,P)),k=k.j(P).add(d(R))):(k=k.j(m),k=k.add(d(R)))}return k}var f=l(0),p=l(1),v=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-_(this).m();for(var I=0,y=1,m=0;m<this.g.length;m++){var k=this.i(m);I+=(0<=k?k:4294967296+k)*y,y*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(b(this))return"0";if(w(this))return"-"+_(this).toString(I);for(var y=d(Math.pow(I,6)),m=this,k="";;){var $=N(m,y).g;m=T(m,$.j(y));var P=((0<m.g.length?m.g[0]:m.h)>>>0).toString(I);if(m=$,b(m))return P+k;for(;6>P.length;)P="0"+P;k=P+k}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function b(I){if(I.h!=0)return!1;for(var y=0;y<I.g.length;y++)if(I.g[y]!=0)return!1;return!0}function w(I){return I.h==-1}t.l=function(I){return I=T(this,I),w(I)?-1:b(I)?0:1};function _(I){for(var y=I.g.length,m=[],k=0;k<y;k++)m[k]=~I.g[k];return new o(m,~I.h).add(p)}t.abs=function(){return w(this)?_(this):this},t.add=function(I){for(var y=Math.max(this.g.length,I.g.length),m=[],k=0,$=0;$<=y;$++){var P=k+(this.i($)&65535)+(I.i($)&65535),R=(P>>>16)+(this.i($)>>>16)+(I.i($)>>>16);k=R>>>16,P&=65535,R&=65535,m[$]=R<<16|P}return new o(m,m[m.length-1]&-2147483648?-1:0)};function T(I,y){return I.add(_(y))}t.j=function(I){if(b(this)||b(I))return f;if(w(this))return w(I)?_(this).j(_(I)):_(_(this).j(I));if(w(I))return _(this.j(_(I)));if(0>this.l(v)&&0>I.l(v))return d(this.m()*I.m());for(var y=this.g.length+I.g.length,m=[],k=0;k<2*y;k++)m[k]=0;for(k=0;k<this.g.length;k++)for(var $=0;$<I.g.length;$++){var P=this.i(k)>>>16,R=this.i(k)&65535,le=I.i($)>>>16,Y=I.i($)&65535;m[2*k+2*$]+=R*Y,S(m,2*k+2*$),m[2*k+2*$+1]+=P*Y,S(m,2*k+2*$+1),m[2*k+2*$+1]+=R*le,S(m,2*k+2*$+1),m[2*k+2*$+2]+=P*le,S(m,2*k+2*$+2)}for(k=0;k<y;k++)m[k]=m[2*k+1]<<16|m[2*k];for(k=y;k<2*y;k++)m[k]=0;return new o(m,0)};function S(I,y){for(;(I[y]&65535)!=I[y];)I[y+1]+=I[y]>>>16,I[y]&=65535,y++}function E(I,y){this.g=I,this.h=y}function N(I,y){if(b(y))throw Error("division by zero");if(b(I))return new E(f,f);if(w(I))return y=N(_(I),y),new E(_(y.g),_(y.h));if(w(y))return y=N(I,_(y)),new E(_(y.g),y.h);if(30<I.g.length){if(w(I)||w(y))throw Error("slowDivide_ only works with positive integers.");for(var m=p,k=y;0>=k.l(I);)m=C(m),k=C(k);var $=F(m,1),P=F(k,1);for(k=F(k,2),m=F(m,2);!b(k);){var R=P.add(k);0>=R.l(I)&&($=$.add(m),P=R),k=F(k,1),m=F(m,1)}return y=T(I,$.j(y)),new E($,y)}for($=f;0<=I.l(y);){for(m=Math.max(1,Math.floor(I.m()/y.m())),k=Math.ceil(Math.log(m)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),P=d(m),R=P.j(y);w(R)||0<R.l(I);)m-=k,P=d(m),R=P.j(y);b(P)&&(P=p),$=$.add(P),I=T(I,R)}return new E($,I)}t.A=function(I){return N(this,I).h},t.and=function(I){for(var y=Math.max(this.g.length,I.g.length),m=[],k=0;k<y;k++)m[k]=this.i(k)&I.i(k);return new o(m,this.h&I.h)},t.or=function(I){for(var y=Math.max(this.g.length,I.g.length),m=[],k=0;k<y;k++)m[k]=this.i(k)|I.i(k);return new o(m,this.h|I.h)},t.xor=function(I){for(var y=Math.max(this.g.length,I.g.length),m=[],k=0;k<y;k++)m[k]=this.i(k)^I.i(k);return new o(m,this.h^I.h)};function C(I){for(var y=I.g.length+1,m=[],k=0;k<y;k++)m[k]=I.i(k)<<1|I.i(k-1)>>>31;return new o(m,I.h)}function F(I,y){var m=y>>5;y%=32;for(var k=I.g.length-m,$=[],P=0;P<k;P++)$[P]=0<y?I.i(P+m)>>>y|I.i(P+m+1)<<32-y:I.i(P+m);return new o($,I.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,tk=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,Pi=o}).apply(typeof Ey<"u"?Ey:typeof self<"u"?self:typeof window<"u"?window:{});var Oc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var rk,Ma,nk,nu,Zf,sk,ik,ok;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,x){return u==Array.prototype||u==Object.prototype||(u[g]=x.value),u};function r(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Oc=="object"&&Oc];for(var g=0;g<u.length;++g){var x=u[g];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var n=r(this);function s(u,g){if(g)e:{var x=n;u=u.split(".");for(var O=0;O<u.length-1;O++){var K=u[O];if(!(K in x))break e;x=x[K]}u=u[u.length-1],O=x[u],g=g(O),g!=O&&g!=null&&e(x,u,{configurable:!0,writable:!0,value:g})}}function i(u,g){u instanceof String&&(u+="");var x=0,O=!1,K={next:function(){if(!O&&x<u.length){var X=x++;return{value:g(X,u[X]),done:!1}}return O=!0,{done:!0,value:void 0}}};return K[Symbol.iterator]=function(){return K},K}s("Array.prototype.values",function(u){return u||function(){return i(this,function(g,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function d(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function h(u,g,x){return u.call.apply(u.bind,arguments)}function f(u,g,x){if(!u)throw Error();if(2<arguments.length){var O=Array.prototype.slice.call(arguments,2);return function(){var K=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(K,O),u.apply(g,K)}}return function(){return u.apply(g,arguments)}}function p(u,g,x){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function v(u,g){var x=Array.prototype.slice.call(arguments,1);return function(){var O=x.slice();return O.push.apply(O,arguments),u.apply(this,O)}}function b(u,g){function x(){}x.prototype=g.prototype,u.aa=g.prototype,u.prototype=new x,u.prototype.constructor=u,u.Qb=function(O,K,X){for(var me=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)me[gt-2]=arguments[gt];return g.prototype[K].apply(O,me)}}function w(u){const g=u.length;if(0<g){const x=Array(g);for(let O=0;O<g;O++)x[O]=u[O];return x}return[]}function _(u,g){for(let x=1;x<arguments.length;x++){const O=arguments[x];if(l(O)){const K=u.length||0,X=O.length||0;u.length=K+X;for(let me=0;me<X;me++)u[K+me]=O[me]}else u.push(O)}}class T{constructor(g,x){this.i=g,this.j=x,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function S(u){return/^[\s\xa0]*$/.test(u)}function E(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function N(u){return N[" "](u),u}N[" "]=function(){};var C=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function F(u,g,x){for(const O in u)g.call(x,u[O],O,u)}function I(u,g){for(const x in u)g.call(void 0,u[x],x,u)}function y(u){const g={};for(const x in u)g[x]=u[x];return g}const m="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(u,g){let x,O;for(let K=1;K<arguments.length;K++){O=arguments[K];for(x in O)u[x]=O[x];for(let X=0;X<m.length;X++)x=m[X],Object.prototype.hasOwnProperty.call(O,x)&&(u[x]=O[x])}}function $(u){var g=1;u=u.split(":");const x=[];for(;0<g&&u.length;)x.push(u.shift()),g--;return u.length&&x.push(u.join(":")),x}function P(u){a.setTimeout(()=>{throw u},0)}function R(){var u=ge;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class le{constructor(){this.h=this.g=null}add(g,x){const O=Y.get();O.set(g,x),this.h?this.h.next=O:this.g=O,this.h=O}}var Y=new T(()=>new L,u=>u.reset());class L{constructor(){this.next=this.g=this.h=null}set(g,x){this.h=g,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let oe,G=!1,ge=new le,Se=()=>{const u=a.Promise.resolve(void 0);oe=()=>{u.then(Ie)}};var Ie=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(x){P(x)}var g=Y;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}G=!1};function Te(){this.s=this.s,this.C=this.C}Te.prototype.s=!1,Te.prototype.ma=function(){this.s||(this.s=!0,this.N())},Te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Le(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}Le.prototype.h=function(){this.defaultPrevented=!0};var ot=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const x=()=>{};a.addEventListener("test",x,g),a.removeEventListener("test",x,g)}catch{}return u}();function Et(u,g){if(Le.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var x=this.type=u.type,O=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(C){e:{try{N(g.nodeName);var K=!0;break e}catch{}K=!1}K||(g=null)}}else x=="mouseover"?g=u.fromElement:x=="mouseout"&&(g=u.toElement);this.relatedTarget=g,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:mt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Et.aa.h.call(this)}}b(Et,Le);var mt={2:"touch",3:"pen",4:"mouse"};Et.prototype.h=function(){Et.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var z="closure_listenable_"+(1e6*Math.random()|0),D=0;function A(u,g,x,O,K){this.listener=u,this.proxy=null,this.src=g,this.type=x,this.capture=!!O,this.ha=K,this.key=++D,this.da=this.fa=!1}function Z(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function ee(u){this.src=u,this.g={},this.h=0}ee.prototype.add=function(u,g,x,O,K){var X=u.toString();u=this.g[X],u||(u=this.g[X]=[],this.h++);var me=V(u,g,O,K);return-1<me?(g=u[me],x||(g.fa=!1)):(g=new A(g,this.src,X,!!O,K),g.fa=x,u.push(g)),g};function Ce(u,g){var x=g.type;if(x in u.g){var O=u.g[x],K=Array.prototype.indexOf.call(O,g,void 0),X;(X=0<=K)&&Array.prototype.splice.call(O,K,1),X&&(Z(g),u.g[x].length==0&&(delete u.g[x],u.h--))}}function V(u,g,x,O){for(var K=0;K<u.length;++K){var X=u[K];if(!X.da&&X.listener==g&&X.capture==!!x&&X.ha==O)return K}return-1}var j="closure_lm_"+(1e6*Math.random()|0),Q={};function ne(u,g,x,O,K){if(Array.isArray(g)){for(var X=0;X<g.length;X++)ne(u,g[X],x,O,K);return null}return x=Ae(x),u&&u[z]?u.K(g,x,d(O)?!!O.capture:!1,K):J(u,g,x,!1,O,K)}function J(u,g,x,O,K,X){if(!g)throw Error("Invalid event type");var me=d(K)?!!K.capture:!!K,gt=Ne(u);if(gt||(u[j]=gt=new ee(u)),x=gt.add(g,x,O,me,X),x.proxy)return x;if(O=se(),x.proxy=O,O.src=u,O.listener=x,u.addEventListener)ot||(K=me),K===void 0&&(K=!1),u.addEventListener(g.toString(),O,K);else if(u.attachEvent)u.attachEvent(pe(g.toString()),O);else if(u.addListener&&u.removeListener)u.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return x}function se(){function u(x){return g.call(u.src,u.listener,x)}const g=ce;return u}function fe(u,g,x,O,K){if(Array.isArray(g))for(var X=0;X<g.length;X++)fe(u,g[X],x,O,K);else O=d(O)?!!O.capture:!!O,x=Ae(x),u&&u[z]?(u=u.i,g=String(g).toString(),g in u.g&&(X=u.g[g],x=V(X,x,O,K),-1<x&&(Z(X[x]),Array.prototype.splice.call(X,x,1),X.length==0&&(delete u.g[g],u.h--)))):u&&(u=Ne(u))&&(g=u.g[g.toString()],u=-1,g&&(u=V(g,x,O,K)),(x=-1<u?g[u]:null)&&he(x))}function he(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[z])Ce(g.i,u);else{var x=u.type,O=u.proxy;g.removeEventListener?g.removeEventListener(x,O,u.capture):g.detachEvent?g.detachEvent(pe(x),O):g.addListener&&g.removeListener&&g.removeListener(O),(x=Ne(g))?(Ce(x,u),x.h==0&&(x.src=null,g[j]=null)):Z(u)}}}function pe(u){return u in Q?Q[u]:Q[u]="on"+u}function ce(u,g){if(u.da)u=!0;else{g=new Et(g,this);var x=u.listener,O=u.ha||u.src;u.fa&&he(u),u=x.call(O,g)}return u}function Ne(u){return u=u[j],u instanceof ee?u:null}var ve="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ae(u){return typeof u=="function"?u:(u[ve]||(u[ve]=function(g){return u.handleEvent(g)}),u[ve])}function _e(){Te.call(this),this.i=new ee(this),this.M=this,this.F=null}b(_e,Te),_e.prototype[z]=!0,_e.prototype.removeEventListener=function(u,g,x,O){fe(this,u,g,x,O)};function Oe(u,g){var x,O=u.F;if(O)for(x=[];O;O=O.F)x.push(O);if(u=u.M,O=g.type||g,typeof g=="string")g=new Le(g,u);else if(g instanceof Le)g.target=g.target||u;else{var K=g;g=new Le(O,u),k(g,K)}if(K=!0,x)for(var X=x.length-1;0<=X;X--){var me=g.g=x[X];K=at(me,O,!0,g)&&K}if(me=g.g=u,K=at(me,O,!0,g)&&K,K=at(me,O,!1,g)&&K,x)for(X=0;X<x.length;X++)me=g.g=x[X],K=at(me,O,!1,g)&&K}_e.prototype.N=function(){if(_e.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var x=u.g[g],O=0;O<x.length;O++)Z(x[O]);delete u.g[g],u.h--}}this.F=null},_e.prototype.K=function(u,g,x,O){return this.i.add(String(u),g,!1,x,O)},_e.prototype.L=function(u,g,x,O){return this.i.add(String(u),g,!0,x,O)};function at(u,g,x,O){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var K=!0,X=0;X<g.length;++X){var me=g[X];if(me&&!me.da&&me.capture==x){var gt=me.listener,er=me.ha||me.src;me.fa&&Ce(u.i,me),K=gt.call(er,O)!==!1&&K}}return K&&!O.defaultPrevented}function rt(u,g,x){if(typeof u=="function")x&&(u=p(u,x));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(u,g||0)}function hr(u){u.g=rt(()=>{u.g=null,u.i&&(u.i=!1,hr(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Jt extends Te{constructor(g,x){super(),this.m=g,this.l=x,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:hr(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zt(u){Te.call(this),this.h=u,this.g={}}b(Zt,Te);var fr=[];function ys(u){F(u.g,function(g,x){this.g.hasOwnProperty(x)&&he(g)},u),u.g={}}Zt.prototype.N=function(){Zt.aa.N.call(this),ys(this)},Zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var to=a.JSON.stringify,Pr=a.JSON.parse,an=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function ro(){}ro.prototype.h=null;function $g(u){return u.h||(u.h=u.i())}function Og(){}var ua={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function dh(){Le.call(this,"d")}b(dh,Le);function hh(){Le.call(this,"c")}b(hh,Le);var li={},Dg=null;function ic(){return Dg=Dg||new _e}li.La="serverreachability";function Mg(u){Le.call(this,li.La,u)}b(Mg,Le);function da(u){const g=ic();Oe(g,new Mg(g))}li.STAT_EVENT="statevent";function Vg(u,g){Le.call(this,li.STAT_EVENT,u),this.stat=g}b(Vg,Le);function Rr(u){const g=ic();Oe(g,new Vg(g,u))}li.Ma="timingevent";function Lg(u,g){Le.call(this,li.Ma,u),this.size=g}b(Lg,Le);function ha(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},g)}function fa(){this.g=!0}fa.prototype.xa=function(){this.g=!1};function RE(u,g,x,O,K,X){u.info(function(){if(u.g)if(X)for(var me="",gt=X.split("&"),er=0;er<gt.length;er++){var nt=gt[er].split("=");if(1<nt.length){var pr=nt[0];nt=nt[1];var mr=pr.split("_");me=2<=mr.length&&mr[1]=="type"?me+(pr+"="+nt+"&"):me+(pr+"=redacted&")}}else me=null;else me=X;return"XMLHTTP REQ ("+O+") [attempt "+K+"]: "+g+`
`+x+`
`+me})}function NE(u,g,x,O,K,X,me){u.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+K+"]: "+g+`
`+x+`
`+X+" "+me})}function no(u,g,x,O){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+OE(u,x)+(O?" "+O:"")})}function $E(u,g){u.info(function(){return"TIMEOUT: "+g})}fa.prototype.info=function(){};function OE(u,g){if(!u.g)return g;if(!g)return null;try{var x=JSON.parse(g);if(x){for(u=0;u<x.length;u++)if(Array.isArray(x[u])){var O=x[u];if(!(2>O.length)){var K=O[1];if(Array.isArray(K)&&!(1>K.length)){var X=K[0];if(X!="noop"&&X!="stop"&&X!="close")for(var me=1;me<K.length;me++)K[me]=""}}}}return to(x)}catch{return g}}var oc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Fg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},fh;function ac(){}b(ac,ro),ac.prototype.g=function(){return new XMLHttpRequest},ac.prototype.i=function(){return{}},fh=new ac;function bs(u,g,x,O){this.j=u,this.i=g,this.l=x,this.R=O||1,this.U=new Zt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ug}function Ug(){this.i=null,this.g="",this.h=!1}var jg={},ph={};function mh(u,g,x){u.L=1,u.v=dc(qn(g)),u.m=x,u.P=!0,Bg(u,null)}function Bg(u,g){u.F=Date.now(),lc(u),u.A=qn(u.v);var x=u.A,O=u.R;Array.isArray(O)||(O=[String(O)]),r0(x.i,"t",O),u.C=0,x=u.j.J,u.h=new Ug,u.g=x0(u.j,x?g:null,!u.m),0<u.O&&(u.M=new Jt(p(u.Y,u,u.g),u.O)),g=u.U,x=u.g,O=u.ca;var K="readystatechange";Array.isArray(K)||(K&&(fr[0]=K.toString()),K=fr);for(var X=0;X<K.length;X++){var me=ne(x,K[X],O||g.handleEvent,!1,g.h||g);if(!me)break;g.g[me.key]=me}g=u.H?y(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),da(),RE(u.i,u.u,u.A,u.l,u.R,u.m)}bs.prototype.ca=function(u){u=u.target;const g=this.M;g&&Hn(u)==3?g.j():this.Y(u)},bs.prototype.Y=function(u){try{if(u==this.g)e:{const mr=Hn(this.g);var g=this.g.Ba();const oo=this.g.Z();if(!(3>mr)&&(mr!=3||this.g&&(this.h.h||this.g.oa()||c0(this.g)))){this.J||mr!=4||g==7||(g==8||0>=oo?da(3):da(2)),gh(this);var x=this.g.Z();this.X=x;t:if(qg(this)){var O=c0(this.g);u="";var K=O.length,X=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ci(this),pa(this);var me="";break t}this.h.i=new a.TextDecoder}for(g=0;g<K;g++)this.h.h=!0,u+=this.h.i.decode(O[g],{stream:!(X&&g==K-1)});O.length=0,this.h.g+=u,this.C=0,me=this.h.g}else me=this.g.oa();if(this.o=x==200,NE(this.i,this.u,this.A,this.l,this.R,mr,x),this.o){if(this.T&&!this.K){t:{if(this.g){var gt,er=this.g;if((gt=er.g?er.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(gt)){var nt=gt;break t}}nt=null}if(x=nt)no(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vh(this,x);else{this.o=!1,this.s=3,Rr(12),ci(this),pa(this);break e}}if(this.P){x=!0;let _n;for(;!this.J&&this.C<me.length;)if(_n=DE(this,me),_n==ph){mr==4&&(this.s=4,Rr(14),x=!1),no(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==jg){this.s=4,Rr(15),no(this.i,this.l,me,"[Invalid Chunk]"),x=!1;break}else no(this.i,this.l,_n,null),vh(this,_n);if(qg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mr!=4||me.length!=0||this.h.h||(this.s=1,Rr(16),x=!1),this.o=this.o&&x,!x)no(this.i,this.l,me,"[Invalid Chunked Response]"),ci(this),pa(this);else if(0<me.length&&!this.W){this.W=!0;var pr=this.j;pr.g==this&&pr.ba&&!pr.M&&(pr.j.info("Great, no buffering proxy detected. Bytes received: "+me.length),kh(pr),pr.M=!0,Rr(11))}}else no(this.i,this.l,me,null),vh(this,me);mr==4&&ci(this),this.o&&!this.J&&(mr==4?g0(this.j,this):(this.o=!1,lc(this)))}else XE(this.g),x==400&&0<me.indexOf("Unknown SID")?(this.s=3,Rr(12)):(this.s=0,Rr(13)),ci(this),pa(this)}}}catch{}finally{}};function qg(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function DE(u,g){var x=u.C,O=g.indexOf(`
`,x);return O==-1?ph:(x=Number(g.substring(x,O)),isNaN(x)?jg:(O+=1,O+x>g.length?ph:(g=g.slice(O,O+x),u.C=O+x,g)))}bs.prototype.cancel=function(){this.J=!0,ci(this)};function lc(u){u.S=Date.now()+u.I,Hg(u,u.I)}function Hg(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ha(p(u.ba,u),g)}function gh(u){u.B&&(a.clearTimeout(u.B),u.B=null)}bs.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?($E(this.i,this.A),this.L!=2&&(da(),Rr(17)),ci(this),this.s=2,pa(this)):Hg(this,this.S-u)};function pa(u){u.j.G==0||u.J||g0(u.j,u)}function ci(u){gh(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,ys(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function vh(u,g){try{var x=u.j;if(x.G!=0&&(x.g==u||yh(x.h,u))){if(!u.K&&yh(x.h,u)&&x.G==3){try{var O=x.Da.g.parse(g)}catch{O=null}if(Array.isArray(O)&&O.length==3){var K=O;if(K[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<u.F)vc(x),mc(x);else break e;wh(x),Rr(18)}}else x.za=K[1],0<x.za-x.T&&37500>K[2]&&x.F&&x.v==0&&!x.C&&(x.C=ha(p(x.Za,x),6e3));if(1>=Kg(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else di(x,11)}else if((u.K||x.g==u)&&vc(x),!S(g))for(K=x.Da.g.parse(g),g=0;g<K.length;g++){let nt=K[g];if(x.T=nt[0],nt=nt[1],x.G==2)if(nt[0]=="c"){x.K=nt[1],x.ia=nt[2];const pr=nt[3];pr!=null&&(x.la=pr,x.j.info("VER="+x.la));const mr=nt[4];mr!=null&&(x.Aa=mr,x.j.info("SVER="+x.Aa));const oo=nt[5];oo!=null&&typeof oo=="number"&&0<oo&&(O=1.5*oo,x.L=O,x.j.info("backChannelRequestTimeoutMs_="+O)),O=x;const _n=u.g;if(_n){const bc=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bc){var X=O.h;X.g||bc.indexOf("spdy")==-1&&bc.indexOf("quic")==-1&&bc.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(bh(X,X.h),X.h=null))}if(O.D){const Eh=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;Eh&&(O.ya=Eh,_t(O.I,O.D,Eh))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-u.F,x.j.info("Handshake RTT: "+x.R+"ms")),O=x;var me=u;if(O.qa=b0(O,O.J?O.ia:null,O.W),me.K){Gg(O.h,me);var gt=me,er=O.L;er&&(gt.I=er),gt.B&&(gh(gt),lc(gt)),O.g=me}else p0(O);0<x.i.length&&gc(x)}else nt[0]!="stop"&&nt[0]!="close"||di(x,7);else x.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?di(x,7):_h(x):nt[0]!="noop"&&x.l&&x.l.ta(nt),x.v=0)}}da(4)}catch{}}var ME=class{constructor(u,g){this.g=u,this.map=g}};function zg(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Wg(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Kg(u){return u.h?1:u.g?u.g.size:0}function yh(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function bh(u,g){u.g?u.g.add(g):u.h=g}function Gg(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}zg.prototype.cancel=function(){if(this.i=Qg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Qg(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const x of u.g.values())g=g.concat(x.D);return g}return w(u.i)}function VE(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var g=[],x=u.length,O=0;O<x;O++)g.push(u[O]);return g}g=[],x=0;for(O in u)g[x++]=u[O];return g}function LE(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var g=[];u=u.length;for(var x=0;x<u;x++)g.push(x);return g}g=[],x=0;for(const O in u)g[x++]=O;return g}}}function Yg(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var x=LE(u),O=VE(u),K=O.length,X=0;X<K;X++)g.call(void 0,O[X],x&&x[X],u)}var Jg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function FE(u,g){if(u){u=u.split("&");for(var x=0;x<u.length;x++){var O=u[x].indexOf("="),K=null;if(0<=O){var X=u[x].substring(0,O);K=u[x].substring(O+1)}else X=u[x];g(X,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function ui(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ui){this.h=u.h,cc(this,u.j),this.o=u.o,this.g=u.g,uc(this,u.s),this.l=u.l;var g=u.i,x=new va;x.i=g.i,g.g&&(x.g=new Map(g.g),x.h=g.h),Xg(this,x),this.m=u.m}else u&&(g=String(u).match(Jg))?(this.h=!1,cc(this,g[1]||"",!0),this.o=ma(g[2]||""),this.g=ma(g[3]||"",!0),uc(this,g[4]),this.l=ma(g[5]||"",!0),Xg(this,g[6]||"",!0),this.m=ma(g[7]||"")):(this.h=!1,this.i=new va(null,this.h))}ui.prototype.toString=function(){var u=[],g=this.j;g&&u.push(ga(g,Zg,!0),":");var x=this.g;return(x||g=="file")&&(u.push("//"),(g=this.o)&&u.push(ga(g,Zg,!0),"@"),u.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&u.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&u.push("/"),u.push(ga(x,x.charAt(0)=="/"?BE:jE,!0))),(x=this.i.toString())&&u.push("?",x),(x=this.m)&&u.push("#",ga(x,HE)),u.join("")};function qn(u){return new ui(u)}function cc(u,g,x){u.j=x?ma(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function uc(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function Xg(u,g,x){g instanceof va?(u.i=g,zE(u.i,u.h)):(x||(g=ga(g,qE)),u.i=new va(g,u.h))}function _t(u,g,x){u.i.set(g,x)}function dc(u){return _t(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ma(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ga(u,g,x){return typeof u=="string"?(u=encodeURI(u).replace(g,UE),x&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function UE(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Zg=/[#\/\?@]/g,jE=/[#\?:]/g,BE=/[#\?]/g,qE=/[#\?@]/g,HE=/#/g;function va(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function xs(u){u.g||(u.g=new Map,u.h=0,u.i&&FE(u.i,function(g,x){u.add(decodeURIComponent(g.replace(/\+/g," ")),x)}))}t=va.prototype,t.add=function(u,g){xs(this),this.i=null,u=so(this,u);var x=this.g.get(u);return x||this.g.set(u,x=[]),x.push(g),this.h+=1,this};function e0(u,g){xs(u),g=so(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function t0(u,g){return xs(u),g=so(u,g),u.g.has(g)}t.forEach=function(u,g){xs(this),this.g.forEach(function(x,O){x.forEach(function(K){u.call(g,K,O,this)},this)},this)},t.na=function(){xs(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),x=[];for(let O=0;O<g.length;O++){const K=u[O];for(let X=0;X<K.length;X++)x.push(g[O])}return x},t.V=function(u){xs(this);let g=[];if(typeof u=="string")t0(this,u)&&(g=g.concat(this.g.get(so(this,u))));else{u=Array.from(this.g.values());for(let x=0;x<u.length;x++)g=g.concat(u[x])}return g},t.set=function(u,g){return xs(this),this.i=null,u=so(this,u),t0(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},t.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function r0(u,g,x){e0(u,g),0<x.length&&(u.i=null,u.g.set(so(u,g),w(x)),u.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var x=0;x<g.length;x++){var O=g[x];const X=encodeURIComponent(String(O)),me=this.V(O);for(O=0;O<me.length;O++){var K=X;me[O]!==""&&(K+="="+encodeURIComponent(String(me[O]))),u.push(K)}}return this.i=u.join("&")};function so(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function zE(u,g){g&&!u.j&&(xs(u),u.i=null,u.g.forEach(function(x,O){var K=O.toLowerCase();O!=K&&(e0(this,O),r0(this,K,x))},u)),u.j=g}function WE(u,g){const x=new fa;if(a.Image){const O=new Image;O.onload=v(_s,x,"TestLoadImage: loaded",!0,g,O),O.onerror=v(_s,x,"TestLoadImage: error",!1,g,O),O.onabort=v(_s,x,"TestLoadImage: abort",!1,g,O),O.ontimeout=v(_s,x,"TestLoadImage: timeout",!1,g,O),a.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=u}else g(!1)}function KE(u,g){const x=new fa,O=new AbortController,K=setTimeout(()=>{O.abort(),_s(x,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:O.signal}).then(X=>{clearTimeout(K),X.ok?_s(x,"TestPingServer: ok",!0,g):_s(x,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(K),_s(x,"TestPingServer: error",!1,g)})}function _s(u,g,x,O,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),O(x)}catch{}}function GE(){this.g=new an}function QE(u,g,x){const O=x||"";try{Yg(u,function(K,X){let me=K;d(K)&&(me=to(K)),g.push(O+X+"="+encodeURIComponent(me))})}catch(K){throw g.push(O+"type="+encodeURIComponent("_badmap")),K}}function hc(u){this.l=u.Ub||null,this.j=u.eb||!1}b(hc,ro),hc.prototype.g=function(){return new fc(this.l,this.j)},hc.prototype.i=function(u){return function(){return u}}({});function fc(u,g){_e.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(fc,_e),t=fc.prototype,t.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,ba(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ya(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ba(this)),this.g&&(this.readyState=3,ba(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;n0(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function n0(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?ya(this):ba(this),this.readyState==3&&n0(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,ya(this))},t.Qa=function(u){this.g&&(this.response=u,ya(this))},t.ga=function(){this.g&&ya(this)};function ya(u){u.readyState=4,u.l=null,u.j=null,u.v=null,ba(u)}t.setRequestHeader=function(u,g){this.u.append(u,g)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var x=g.next();!x.done;)x=x.value,u.push(x[0]+": "+x[1]),x=g.next();return u.join(`\r
`)};function ba(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(fc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function s0(u){let g="";return F(u,function(x,O){g+=O,g+=":",g+=x,g+=`\r
`}),g}function xh(u,g,x){e:{for(O in x){var O=!1;break e}O=!0}O||(x=s0(x),typeof u=="string"?x!=null&&encodeURIComponent(String(x)):_t(u,g,x))}function Ot(u){_e.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Ot,_e);var YE=/^https?$/i,JE=["POST","PUT"];t=Ot.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,g,x,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():fh.g(),this.v=this.o?$g(this.o):$g(fh),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(X){i0(this,X);return}if(u=x||"",x=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var K in O)x.set(K,O[K]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const X of O.keys())x.set(X,O.get(X));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(x.keys()).find(X=>X.toLowerCase()=="content-type"),K=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(JE,g,void 0))||O||K||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,me]of x)this.g.setRequestHeader(X,me);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{l0(this),this.u=!0,this.g.send(u),this.u=!1}catch(X){i0(this,X)}};function i0(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,o0(u),pc(u)}function o0(u){u.A||(u.A=!0,Oe(u,"complete"),Oe(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Oe(this,"complete"),Oe(this,"abort"),pc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pc(this,!0)),Ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?a0(this):this.bb())},t.bb=function(){a0(this)};function a0(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Hn(u)!=4||u.Z()!=2)){if(u.u&&Hn(u)==4)rt(u.Ea,0,u);else if(Oe(u,"readystatechange"),Hn(u)==4){u.h=!1;try{const me=u.Z();e:switch(me){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var x;if(!(x=g)){var O;if(O=me===0){var K=String(u.D).match(Jg)[1]||null;!K&&a.self&&a.self.location&&(K=a.self.location.protocol.slice(0,-1)),O=!YE.test(K?K.toLowerCase():"")}x=O}if(x)Oe(u,"complete"),Oe(u,"success");else{u.m=6;try{var X=2<Hn(u)?u.g.statusText:""}catch{X=""}u.l=X+" ["+u.Z()+"]",o0(u)}}finally{pc(u)}}}}function pc(u,g){if(u.g){l0(u);const x=u.g,O=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||Oe(u,"ready");try{x.onreadystatechange=O}catch{}}}function l0(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Hn(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),Pr(g)}};function c0(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function XE(u){const g={};u=(u.g&&2<=Hn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<u.length;O++){if(S(u[O]))continue;var x=$(u[O]);const K=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const X=g[K]||[];g[K]=X,X.push(x)}I(g,function(O){return O.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xa(u,g,x){return x&&x.internalChannelParams&&x.internalChannelParams[u]||g}function u0(u){this.Aa=0,this.i=[],this.j=new fa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xa("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xa("baseRetryDelayMs",5e3,u),this.cb=xa("retryDelaySeedMs",1e4,u),this.Wa=xa("forwardChannelMaxRetries",2,u),this.wa=xa("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new zg(u&&u.concurrentRequestLimit),this.Da=new GE,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=u0.prototype,t.la=8,t.G=1,t.connect=function(u,g,x,O){Rr(0),this.W=u,this.H=g||{},x&&O!==void 0&&(this.H.OSID=x,this.H.OAID=O),this.F=this.X,this.I=b0(this,null,this.W),gc(this)};function _h(u){if(d0(u),u.G==3){var g=u.U++,x=qn(u.I);if(_t(x,"SID",u.K),_t(x,"RID",g),_t(x,"TYPE","terminate"),_a(u,x),g=new bs(u,u.j,g),g.L=2,g.v=dc(qn(x)),x=!1,a.navigator&&a.navigator.sendBeacon)try{x=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!x&&a.Image&&(new Image().src=g.v,x=!0),x||(g.g=x0(g.j,null),g.g.ea(g.v)),g.F=Date.now(),lc(g)}y0(u)}function mc(u){u.g&&(kh(u),u.g.cancel(),u.g=null)}function d0(u){mc(u),u.u&&(a.clearTimeout(u.u),u.u=null),vc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function gc(u){if(!Wg(u.h)&&!u.s){u.s=!0;var g=u.Ga;oe||Se(),G||(oe(),G=!0),ge.add(g,u),u.B=0}}function ZE(u,g){return Kg(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ha(p(u.Ga,u,g),v0(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const K=new bs(this,this.j,u);let X=this.o;if(this.S&&(X?(X=y(X),k(X,this.S)):X=this.S),this.m!==null||this.O||(K.H=X,X=null),this.P)e:{for(var g=0,x=0;x<this.i.length;x++){t:{var O=this.i[x];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(g+=O,4096<g){g=x;break e}if(g===4096||x===this.i.length-1){g=x+1;break e}}g=1e3}else g=1e3;g=f0(this,K,g),x=qn(this.I),_t(x,"RID",u),_t(x,"CVER",22),this.D&&_t(x,"X-HTTP-Session-Id",this.D),_a(this,x),X&&(this.O?g="headers="+encodeURIComponent(String(s0(X)))+"&"+g:this.m&&xh(x,this.m,X)),bh(this.h,K),this.Ua&&_t(x,"TYPE","init"),this.P?(_t(x,"$req",g),_t(x,"SID","null"),K.T=!0,mh(K,x,null)):mh(K,x,g),this.G=2}}else this.G==3&&(u?h0(this,u):this.i.length==0||Wg(this.h)||h0(this))};function h0(u,g){var x;g?x=g.l:x=u.U++;const O=qn(u.I);_t(O,"SID",u.K),_t(O,"RID",x),_t(O,"AID",u.T),_a(u,O),u.m&&u.o&&xh(O,u.m,u.o),x=new bs(u,u.j,x,u.B+1),u.m===null&&(x.H=u.o),g&&(u.i=g.D.concat(u.i)),g=f0(u,x,1e3),x.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),bh(u.h,x),mh(x,O,g)}function _a(u,g){u.H&&F(u.H,function(x,O){_t(g,O,x)}),u.l&&Yg({},function(x,O){_t(g,O,x)})}function f0(u,g,x){x=Math.min(u.i.length,x);var O=u.l?p(u.l.Na,u.l,u):null;e:{var K=u.i;let X=-1;for(;;){const me=["count="+x];X==-1?0<x?(X=K[0].g,me.push("ofs="+X)):X=0:me.push("ofs="+X);let gt=!0;for(let er=0;er<x;er++){let nt=K[er].g;const pr=K[er].map;if(nt-=X,0>nt)X=Math.max(0,K[er].g-100),gt=!1;else try{QE(pr,me,"req"+nt+"_")}catch{O&&O(pr)}}if(gt){O=me.join("&");break e}}}return u=u.i.splice(0,x),g.D=u,O}function p0(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;oe||Se(),G||(oe(),G=!0),ge.add(g,u),u.v=0}}function wh(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ha(p(u.Fa,u),v0(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,m0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ha(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rr(10),mc(this),m0(this))};function kh(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function m0(u){u.g=new bs(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=qn(u.qa);_t(g,"RID","rpc"),_t(g,"SID",u.K),_t(g,"AID",u.T),_t(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&_t(g,"TO",u.ja),_t(g,"TYPE","xmlhttp"),_a(u,g),u.m&&u.o&&xh(g,u.m,u.o),u.L&&(u.g.I=u.L);var x=u.g;u=u.ia,x.L=1,x.v=dc(qn(g)),x.m=null,x.P=!0,Bg(x,u)}t.Za=function(){this.C!=null&&(this.C=null,mc(this),wh(this),Rr(19))};function vc(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function g0(u,g){var x=null;if(u.g==g){vc(u),kh(u),u.g=null;var O=2}else if(yh(u.h,g))x=g.D,Gg(u.h,g),O=1;else return;if(u.G!=0){if(g.o)if(O==1){x=g.m?g.m.length:0,g=Date.now()-g.F;var K=u.B;O=ic(),Oe(O,new Lg(O,x)),gc(u)}else p0(u);else if(K=g.s,K==3||K==0&&0<g.X||!(O==1&&ZE(u,g)||O==2&&wh(u)))switch(x&&0<x.length&&(g=u.h,g.i=g.i.concat(x)),K){case 1:di(u,5);break;case 4:di(u,10);break;case 3:di(u,6);break;default:di(u,2)}}}function v0(u,g){let x=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(x*=2),x*g}function di(u,g){if(u.j.info("Error code "+g),g==2){var x=p(u.fb,u),O=u.Xa;const K=!O;O=new ui(O||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||cc(O,"https"),dc(O),K?WE(O.toString(),x):KE(O.toString(),x)}else Rr(2);u.G=0,u.l&&u.l.sa(g),y0(u),d0(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Rr(2)):(this.j.info("Failed to ping google.com"),Rr(1))};function y0(u){if(u.G=0,u.ka=[],u.l){const g=Qg(u.h);(g.length!=0||u.i.length!=0)&&(_(u.ka,g),_(u.ka,u.i),u.h.i.length=0,w(u.i),u.i.length=0),u.l.ra()}}function b0(u,g,x){var O=x instanceof ui?qn(x):new ui(x);if(O.g!="")g&&(O.g=g+"."+O.g),uc(O,O.s);else{var K=a.location;O=K.protocol,g=g?g+"."+K.hostname:K.hostname,K=+K.port;var X=new ui(null);O&&cc(X,O),g&&(X.g=g),K&&uc(X,K),x&&(X.l=x),O=X}return x=u.D,g=u.ya,x&&g&&_t(O,x,g),_t(O,"VER",u.la),_a(u,O),O}function x0(u,g,x){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Ot(new hc({eb:x})):new Ot(u.pa),g.Ha(u.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function _0(){}t=_0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function yc(){}yc.prototype.g=function(u,g){return new Qr(u,g)};function Qr(u,g){_e.call(this),this.g=new u0(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!S(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!S(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new io(this)}b(Qr,_e),Qr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qr.prototype.close=function(){_h(this.g)},Qr.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var x={};x.__data__=u,u=x}else this.u&&(x={},x.__data__=to(u),u=x);g.i.push(new ME(g.Ya++,u)),g.G==3&&gc(g)},Qr.prototype.N=function(){this.g.l=null,delete this.j,_h(this.g),delete this.g,Qr.aa.N.call(this)};function w0(u){dh.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const x in g){u=x;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}b(w0,dh);function k0(){hh.call(this),this.status=1}b(k0,hh);function io(u){this.g=u}b(io,_0),io.prototype.ua=function(){Oe(this.g,"a")},io.prototype.ta=function(u){Oe(this.g,new w0(u))},io.prototype.sa=function(u){Oe(this.g,new k0)},io.prototype.ra=function(){Oe(this.g,"b")},yc.prototype.createWebChannel=yc.prototype.g,Qr.prototype.send=Qr.prototype.o,Qr.prototype.open=Qr.prototype.m,Qr.prototype.close=Qr.prototype.close,ok=function(){return new yc},ik=function(){return ic()},sk=li,Zf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},oc.NO_ERROR=0,oc.TIMEOUT=8,oc.HTTP_ERROR=6,nu=oc,Fg.COMPLETE="complete",nk=Fg,Og.EventType=ua,ua.OPEN="a",ua.CLOSE="b",ua.ERROR="c",ua.MESSAGE="d",_e.prototype.listen=_e.prototype.K,Ma=Og,Ot.prototype.listenOnce=Ot.prototype.L,Ot.prototype.getLastError=Ot.prototype.Ka,Ot.prototype.getLastErrorCode=Ot.prototype.Ba,Ot.prototype.getStatus=Ot.prototype.Z,Ot.prototype.getResponseJson=Ot.prototype.Oa,Ot.prototype.getResponseText=Ot.prototype.oa,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Ha,rk=Ot}).apply(typeof Oc<"u"?Oc:typeof self<"u"?self:typeof window<"u"?window:{});const Iy="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_r.UNAUTHENTICATED=new _r(null),_r.GOOGLE_CREDENTIALS=new _r("google-credentials-uid"),_r.FIRST_PARTY=new _r("first-party-uid"),_r.MOCK_USER=new _r("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oa="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new Cd("@firebase/firestore");function Ta(){return Vi.logLevel}function we(t,...e){if(Vi.logLevel<=Je.DEBUG){const r=e.map(Om);Vi.debug(`Firestore (${oa}): ${t}`,...r)}}function us(t,...e){if(Vi.logLevel<=Je.ERROR){const r=e.map(Om);Vi.error(`Firestore (${oa}): ${t}`,...r)}}function zo(t,...e){if(Vi.logLevel<=Je.WARN){const r=e.map(Om);Vi.warn(`Firestore (${oa}): ${t}`,...r)}}function Om(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(t="Unexpected state"){const e=`FIRESTORE (${oa}) INTERNAL ASSERTION FAILED: `+t;throw us(e),new Error(e)}function ht(t,e){t||Ve()}function Be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class be extends xn{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class I6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(_r.UNAUTHENTICATED))}shutdown(){}}class T6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class A6{constructor(e){this.t=e,this.currentUser=_r.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){ht(this.o===void 0);let n=this.i;const s=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let i=new is;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new is,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new is)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(ht(typeof n.accessToken=="string"),new ak(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ht(e===null||typeof e=="string"),new _r(e)}}class S6{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=_r.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class C6{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new S6(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(_r.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class P6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R6{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){ht(this.o===void 0);const n=i=>{i.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,we("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>n(i))};const s=i=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(ht(typeof r.token=="string"),this.R=r.token,new P6(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const s=N6(40);for(let i=0;i<s.length;++i)n.length<20&&s[i]<r&&(n+=e.charAt(s[i]%e.length))}return n}}function st(t,e){return t<e?-1:t>e?1:0}function Wo(t,e,r){return t.length===e.length&&t.every((n,s)=>r(n,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new be(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new be(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new be(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new be(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return zt.fromMillis(Date.now())}static fromDate(e){return zt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new zt(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?st(this.nanoseconds,e.nanoseconds):st(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new zt(0,0))}static max(){return new Fe(new zt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cl{constructor(e,r,n){r===void 0?r=0:r>e.length&&Ve(),n===void 0?n=e.length-r:n>e.length-r&&Ve(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Cl.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Cl?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let s=0;s<n;s++){const i=e.get(s),o=r.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class wt extends Cl{construct(e,r,n){return new wt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new be(ie.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(s=>s.length>0))}return new wt(r)}static emptyPath(){return new wt([])}}const $6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nr extends Cl{construct(e,r,n){return new nr(e,r,n)}static isValidIdentifier(e){return $6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new nr(["__name__"])}static fromServerFormat(e){const r=[];let n="",s=0;const i=()=>{if(n.length===0)throw new be(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new be(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new be(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(n+=a,s++):(i(),s++)}if(i(),o)throw new be(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nr(r)}static emptyPath(){return new nr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(wt.fromString(e))}static fromName(e){return new Re(wt.fromString(e).popFirst(5))}static empty(){return new Re(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return wt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new wt(e.slice()))}}function O6(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,s=Fe.fromTimestamp(n===1e9?new zt(r+1,0):new zt(r,n));return new Zs(s,Re.empty(),e)}function D6(t){return new Zs(t.readTime,t.key,-1)}class Zs{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Zs(Fe.min(),Re.empty(),-1)}static max(){return new Zs(Fe.max(),Re.empty(),-1)}}function M6(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Re.comparator(t.documentKey,e.documentKey),r!==0?r:st(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class L6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gl(t){if(t.code!==ie.FAILED_PRECONDITION||t.message!==V6)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ae((n,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(n,s)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,s)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ae?r:ae.resolve(r)}catch(r){return ae.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ae.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ae.reject(r)}static resolve(e){return new ae((r,n)=>{r(e)})}static reject(e){return new ae((r,n)=>{n(e)})}static waitFor(e){return new ae((r,n)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&r()},l=>n(l))}),o=!0,i===s&&r()})}static or(e){let r=ae.resolve(!1);for(const n of e)r=r.next(s=>s?ae.resolve(s):n());return r}static forEach(e,r){const n=[];return e.forEach((s,i)=>{n.push(r.call(this,s,i))}),this.waitFor(n)}static mapArray(e,r){return new ae((n,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const d=l;r(e[d]).next(h=>{o[d]=h,++a,a===i&&n(o)},h=>s(h))}})}static doWhile(e,r){return new ae((n,s)=>{const i=()=>{e()===!0?r().next(()=>{i()},s):n()};i()})}}function F6(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Ql(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Dm.oe=-1;function $d(t){return t==null}function Fu(t){return t===0&&1/t==-1/0}function U6(t){return typeof t=="number"&&Number.isInteger(t)&&!Fu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Xi(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function ck(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,r){this.comparator=e,this.root=r||rr.EMPTY}insert(e,r){return new Nt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,rr.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return r+n.left.size;s<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dc(this.root,e,this.comparator,!0)}}class Dc{constructor(e,r,n,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=r?n(e.key,r):1,r&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rr{constructor(e,r,n,s,i){this.key=e,this.value=r,this.color=n??rr.RED,this.left=s??rr.EMPTY,this.right=i??rr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,s,i){return new rr(e??this.key,r??this.value,n??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let s=this;const i=n(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,r,n),null):i===0?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(e,r,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return rr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,s=this;if(r(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,r),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),r(e,s.key)===0){if(s.right.isEmpty())return rr.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,r))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ve();const e=this.left.check();if(e!==this.right.check())throw Ve();return e+(this.isRed()?0:1)}}rr.EMPTY=null,rr.RED=!0,rr.BLACK=!1;rr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve()}get value(){throw Ve()}get color(){throw Ve()}get left(){throw Ve()}get right(){throw Ve()}copy(e,r,n,s,i){return this}insert(e,r,n){return new rr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;r(s.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Ay(this.data.getIterator())}getIteratorFrom(e){return new Ay(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof or)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const s=r.getNext().key,i=n.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new or(this.comparator);return r.data=e,r}}class Ay{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.fields=e,e.sort(nr.comparator)}static empty(){return new Xr([])}unionWith(e){let r=new or(nr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Xr(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Wo(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new uk("Invalid base64 string: "+i):i}}(e);return new cr(r)}static fromUint8Array(e){const r=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new cr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let s=0;s<r.length;s++)n[s]=r.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return st(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cr.EMPTY_BYTE_STRING=new cr("");const j6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ei(t){if(ht(!!t),typeof t=="string"){let e=0;const r=j6.exec(t);if(ht(!!r),r[1]){let s=r[1];s=(s+"000000000").substr(0,9),e=Number(s)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Vt(t.seconds),nanos:Vt(t.nanos)}}function Vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Li(t){return typeof t=="string"?cr.fromBase64String(t):cr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function Vm(t){const e=t.mapValue.fields.__previous_value__;return Mm(e)?Vm(e):e}function Pl(t){const e=ei(t.mapValue.fields.__local_write_time__.timestampValue);return new zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e,r,n,s,i,o,a,l,d){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=d}}class Rl{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new Rl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Rl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mc={mapValue:{}};function Fi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Mm(t)?4:H6(t)?9007199254740991:q6(t)?10:11:Ve()}function jn(t,e){if(t===e)return!0;const r=Fi(t);if(r!==Fi(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Pl(t).isEqual(Pl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ei(s.timestampValue),a=ei(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Li(s.bytesValue).isEqual(Li(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Vt(s.geoPointValue.latitude)===Vt(i.geoPointValue.latitude)&&Vt(s.geoPointValue.longitude)===Vt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Vt(s.integerValue)===Vt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Vt(s.doubleValue),a=Vt(i.doubleValue);return o===a?Fu(o)===Fu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Wo(t.arrayValue.values||[],e.arrayValue.values||[],jn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Ty(o)!==Ty(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!jn(o[l],a[l])))return!1;return!0}(t,e);default:return Ve()}}function Nl(t,e){return(t.values||[]).find(r=>jn(r,e))!==void 0}function Ko(t,e){if(t===e)return 0;const r=Fi(t),n=Fi(e);if(r!==n)return st(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return st(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Vt(i.integerValue||i.doubleValue),l=Vt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Sy(t.timestampValue,e.timestampValue);case 4:return Sy(Pl(t),Pl(e));case 5:return st(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Li(i),l=Li(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let d=0;d<a.length&&d<l.length;d++){const h=st(a[d],l[d]);if(h!==0)return h}return st(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=st(Vt(i.latitude),Vt(o.latitude));return a!==0?a:st(Vt(i.longitude),Vt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Cy(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,d,h;const f=i.fields||{},p=o.fields||{},v=(a=f.value)===null||a===void 0?void 0:a.arrayValue,b=(l=p.value)===null||l===void 0?void 0:l.arrayValue,w=st(((d=v==null?void 0:v.values)===null||d===void 0?void 0:d.length)||0,((h=b==null?void 0:b.values)===null||h===void 0?void 0:h.length)||0);return w!==0?w:Cy(v,b)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Mc.mapValue&&o===Mc.mapValue)return 0;if(i===Mc.mapValue)return 1;if(o===Mc.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),d=o.fields||{},h=Object.keys(d);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const p=st(l[f],h[f]);if(p!==0)return p;const v=Ko(a[l[f]],d[h[f]]);if(v!==0)return v}return st(l.length,h.length)}(t.mapValue,e.mapValue);default:throw Ve()}}function Sy(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return st(t,e);const r=ei(t),n=ei(e),s=st(r.seconds,n.seconds);return s!==0?s:st(r.nanos,n.nanos)}function Cy(t,e){const r=t.values||[],n=e.values||[];for(let s=0;s<r.length&&s<n.length;++s){const i=Ko(r[s],n[s]);if(i)return i}return st(r.length,n.length)}function Go(t){return ep(t)}function ep(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=ei(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Li(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Re.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",s=!0;for(const i of r.values||[])s?s=!1:n+=",",n+=ep(i);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let s="{",i=!0;for(const o of n)i?i=!1:s+=",",s+=`${o}:${ep(r.fields[o])}`;return s+"}"}(t.mapValue):Ve()}function Py(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function tp(t){return!!t&&"integerValue"in t}function Lm(t){return!!t&&"arrayValue"in t}function Ry(t){return!!t&&"nullValue"in t}function Ny(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function su(t){return!!t&&"mapValue"in t}function q6(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function rl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Xi(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=rl(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=rl(t.arrayValue.values[r]);return e}return Object.assign({},t)}function H6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.value=e}static empty(){return new qr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!su(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=rl(r)}setAll(e){let r=nr.emptyPath(),n={},s=[];e.forEach((o,a)=>{if(!r.isImmediateParentOf(a)){const l=this.getFieldsMap(r);this.applyChanges(l,n,s),n={},s=[],r=a.popLast()}o?n[a.lastSegment()]=rl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(r);this.applyChanges(i,n,s)}delete(e){const r=this.field(e.popLast());su(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return jn(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=r.mapValue.fields[e.get(n)];su(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=s),r=s}return r.mapValue.fields}applyChanges(e,r,n){Xi(r,(s,i)=>e[s]=i);for(const s of n)delete e[s]}clone(){return new qr(rl(this.value))}}function dk(t){const e=[];return Xi(t.fields,(r,n)=>{const s=new nr([r]);if(su(n)){const i=dk(n.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Xr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,r,n,s,i,o,a){this.key=e,this.documentType=r,this.version=n,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Er(e,0,Fe.min(),Fe.min(),Fe.min(),qr.empty(),0)}static newFoundDocument(e,r,n,s){return new Er(e,1,r,Fe.min(),n,s,0)}static newNoDocument(e,r){return new Er(e,2,r,Fe.min(),Fe.min(),qr.empty(),0)}static newUnknownDocument(e,r){return new Er(e,3,r,Fe.min(),Fe.min(),qr.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Er&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Er(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,r){this.position=e,this.inclusive=r}}function $y(t,e,r){let n=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?n=Re.comparator(Re.fromName(o.referenceValue),r.key):n=Ko(o,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function Oy(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!jn(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,r="asc"){this.field=e,this.dir=r}}function z6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{}class qt extends hk{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new K6(e,r,n):r==="array-contains"?new Y6(e,n):r==="in"?new J6(e,n):r==="not-in"?new X6(e,n):r==="array-contains-any"?new Z6(e,n):new qt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new G6(e,n):new Q6(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Ko(r,this.value)):r!==null&&Fi(this.value)===Fi(r)&&this.matchesComparison(Ko(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Rn extends hk{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Rn(e,r)}matches(e){return fk(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function fk(t){return t.op==="and"}function pk(t){return W6(t)&&fk(t)}function W6(t){for(const e of t.filters)if(e instanceof Rn)return!1;return!0}function rp(t){if(t instanceof qt)return t.field.canonicalString()+t.op.toString()+Go(t.value);if(pk(t))return t.filters.map(e=>rp(e)).join(",");{const e=t.filters.map(r=>rp(r)).join(",");return`${t.op}(${e})`}}function mk(t,e){return t instanceof qt?function(n,s){return s instanceof qt&&n.op===s.op&&n.field.isEqual(s.field)&&jn(n.value,s.value)}(t,e):t instanceof Rn?function(n,s){return s instanceof Rn&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((i,o,a)=>i&&mk(o,s.filters[a]),!0):!1}(t,e):void Ve()}function gk(t){return t instanceof qt?function(r){return`${r.field.canonicalString()} ${r.op} ${Go(r.value)}`}(t):t instanceof Rn?function(r){return r.op.toString()+" {"+r.getFilters().map(gk).join(" ,")+"}"}(t):"Filter"}class K6 extends qt{constructor(e,r,n){super(e,r,n),this.key=Re.fromName(n.referenceValue)}matches(e){const r=Re.comparator(e.key,this.key);return this.matchesComparison(r)}}class G6 extends qt{constructor(e,r){super(e,"in",r),this.keys=vk("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Q6 extends qt{constructor(e,r){super(e,"not-in",r),this.keys=vk("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function vk(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Re.fromName(n.referenceValue))}class Y6 extends qt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Lm(r)&&Nl(r.arrayValue,this.value)}}class J6 extends qt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Nl(this.value.arrayValue,r)}}class X6 extends qt{constructor(e,r){super(e,"not-in",r)}matches(e){if(Nl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Nl(this.value.arrayValue,r)}}class Z6 extends qt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Lm(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Nl(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,r=null,n=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function Dy(t,e=null,r=[],n=[],s=null,i=null,o=null){return new eN(t,e,r,n,s,i,o)}function Fm(t){const e=Be(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>rp(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),$d(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Go(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Go(n)).join(",")),e.ue=r}return e.ue}function Um(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!z6(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!mk(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Oy(t.startAt,e.startAt)&&Oy(t.endAt,e.endAt)}function np(t){return Re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,r=null,n=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function tN(t,e,r,n,s,i,o,a){return new aa(t,e,r,n,s,i,o,a)}function Od(t){return new aa(t)}function My(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function yk(t){return t.collectionGroup!==null}function nl(t){const e=Be(t);if(e.ce===null){e.ce=[];const r=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),r.add(i.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new or(nr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{r.has(i.canonicalString())||i.isKeyField()||e.ce.push(new $l(i,n))}),r.has(nr.keyField().canonicalString())||e.ce.push(new $l(nr.keyField(),n))}return e.ce}function Fn(t){const e=Be(t);return e.le||(e.le=rN(e,nl(t))),e.le}function rN(t,e){if(t.limitType==="F")return Dy(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new $l(s.field,i)});const r=t.endAt?new Uu(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Uu(t.startAt.position,t.startAt.inclusive):null;return Dy(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function sp(t,e){const r=t.filters.concat([e]);return new aa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function ju(t,e,r){return new aa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Dd(t,e){return Um(Fn(t),Fn(e))&&t.limitType===e.limitType}function bk(t){return`${Fm(Fn(t))}|lt:${t.limitType}`}function go(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(s=>gk(s)).join(", ")}]`),$d(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(s=>Go(s)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(s=>Go(s)).join(",")),`Target(${n})`}(Fn(t))}; limitType=${t.limitType})`}function Md(t,e){return e.isFoundDocument()&&function(n,s){const i=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Re.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,s){for(const i of nl(n))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const i of n.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(o,a,l){const d=$y(o,a,l);return o.inclusive?d<=0:d<0}(n.startAt,nl(n),s)||n.endAt&&!function(o,a,l){const d=$y(o,a,l);return o.inclusive?d>=0:d>0}(n.endAt,nl(n),s))}(t,e)}function nN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function xk(t){return(e,r)=>{let n=!1;for(const s of nl(t)){const i=sN(s,e,r);if(i!==0)return i;n=n||s.field.isKeyField()}return 0}}function sN(t,e,r){const n=t.field.isKeyField()?Re.comparator(e.key,r.key):function(i,o,a){const l=o.data.field(i),d=a.data.field(i);return l!==null&&d!==null?Ko(l,d):Ve()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[s,i]of n)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,r]);s.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[r]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Xi(this.inner,(r,n)=>{for(const[s,i]of n)e(s,i)})}isEmpty(){return ck(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=new Nt(Re.comparator);function ds(){return iN}const _k=new Nt(Re.comparator);function Va(...t){let e=_k;for(const r of t)e=e.insert(r.key,r);return e}function wk(t){let e=_k;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function wi(){return sl()}function kk(){return sl()}function sl(){return new la(t=>t.toString(),(t,e)=>t.isEqual(e))}const oN=new Nt(Re.comparator),aN=new or(Re.comparator);function Ge(...t){let e=aN;for(const r of t)e=e.add(r);return e}const lN=new or(st);function cN(){return lN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Fu(e)?"-0":e}}function Ek(t){return{integerValue:""+t}}function uN(t,e){return U6(e)?Ek(e):jm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(){this._=void 0}}function dN(t,e,r){return t instanceof Ol?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Mm(i)&&(i=Vm(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(r,e):t instanceof Dl?Tk(t,e):t instanceof Ml?Ak(t,e):function(s,i){const o=Ik(s,i),a=Vy(o)+Vy(s.Pe);return tp(o)&&tp(s.Pe)?Ek(a):jm(s.serializer,a)}(t,e)}function hN(t,e,r){return t instanceof Dl?Tk(t,e):t instanceof Ml?Ak(t,e):r}function Ik(t,e){return t instanceof Bu?function(n){return tp(n)||function(i){return!!i&&"doubleValue"in i}(n)}(e)?e:{integerValue:0}:null}class Ol extends Vd{}class Dl extends Vd{constructor(e){super(),this.elements=e}}function Tk(t,e){const r=Sk(e);for(const n of t.elements)r.some(s=>jn(s,n))||r.push(n);return{arrayValue:{values:r}}}class Ml extends Vd{constructor(e){super(),this.elements=e}}function Ak(t,e){let r=Sk(e);for(const n of t.elements)r=r.filter(s=>!jn(s,n));return{arrayValue:{values:r}}}class Bu extends Vd{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function Vy(t){return Vt(t.integerValue||t.doubleValue)}function Sk(t){return Lm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,r){this.field=e,this.transform=r}}function pN(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof Dl&&s instanceof Dl||n instanceof Ml&&s instanceof Ml?Wo(n.elements,s.elements,jn):n instanceof Bu&&s instanceof Bu?jn(n.Pe,s.Pe):n instanceof Ol&&s instanceof Ol}(t.transform,e.transform)}class mN{constructor(e,r){this.version=e,this.transformResults=r}}class mn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new mn}static exists(e){return new mn(void 0,e)}static updateTime(e){return new mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function iu(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Ld{}function Ck(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Bm(t.key,mn.none()):new Yl(t.key,t.data,mn.none());{const r=t.data,n=qr.empty();let s=new or(nr.comparator);for(let i of e.fields)if(!s.has(i)){let o=r.field(i);o===null&&i.length>1&&(i=i.popLast(),o=r.field(i)),o===null?n.delete(i):n.set(i,o),s=s.add(i)}return new ai(t.key,n,new Xr(s.toArray()),mn.none())}}function gN(t,e,r){t instanceof Yl?function(s,i,o){const a=s.value.clone(),l=Fy(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,r):t instanceof ai?function(s,i,o){if(!iu(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=Fy(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(Pk(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,r):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function il(t,e,r,n){return t instanceof Yl?function(i,o,a,l){if(!iu(i.precondition,o))return a;const d=i.value.clone(),h=Uy(i.fieldTransforms,l,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,r,n):t instanceof ai?function(i,o,a,l){if(!iu(i.precondition,o))return a;const d=Uy(i.fieldTransforms,l,o),h=o.data;return h.setAll(Pk(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,r,n):function(i,o,a){return iu(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,r)}function vN(t,e){let r=null;for(const n of t.fieldTransforms){const s=e.data.field(n.field),i=Ik(n.transform,s||null);i!=null&&(r===null&&(r=qr.empty()),r.set(n.field,i))}return r||null}function Ly(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Wo(n,s,(i,o)=>pN(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Yl extends Ld{constructor(e,r,n,s=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ai extends Ld{constructor(e,r,n,s,i=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Pk(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function Fy(t,e,r){const n=new Map;ht(t.length===r.length);for(let s=0;s<r.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);n.set(i.field,hN(o,a,r[s]))}return n}function Uy(t,e,r){const n=new Map;for(const s of t){const i=s.transform,o=r.data.field(s.field);n.set(s.field,dN(i,o,e))}return n}class Bm extends Ld{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yN extends Ld{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,r,n,s){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&gN(i,e,n[s])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=il(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=il(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=kk();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=r.has(s.key)?null:a;const l=Ck(o,a);l!==null&&n.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Fe.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Ge())}isEqual(e){return this.batchId===e.batchId&&Wo(this.mutations,e.mutations,(r,n)=>Ly(r,n))&&Wo(this.baseMutations,e.baseMutations,(r,n)=>Ly(r,n))}}class qm{constructor(e,r,n,s){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=s}static from(e,r,n){ht(e.mutations.length===n.length);let s=function(){return oN}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,n[o].version);return new qm(e,r,n,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,et;function wN(t){switch(t){default:return Ve();case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0}}function Rk(t){if(t===void 0)return us("GRPC error has no .code"),ie.UNKNOWN;switch(t){case Ut.OK:return ie.OK;case Ut.CANCELLED:return ie.CANCELLED;case Ut.UNKNOWN:return ie.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return ie.INTERNAL;case Ut.UNAVAILABLE:return ie.UNAVAILABLE;case Ut.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case Ut.NOT_FOUND:return ie.NOT_FOUND;case Ut.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case Ut.ABORTED:return ie.ABORTED;case Ut.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case Ut.DATA_LOSS:return ie.DATA_LOSS;default:return Ve()}}(et=Ut||(Ut={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=new Pi([4294967295,4294967295],0);function jy(t){const e=kN().encode(t),r=new tk;return r.update(e),new Uint8Array(r.digest())}function By(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Pi([r,n],0),new Pi([s,i],0)]}class Hm{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new La(`Invalid padding: ${r}`);if(n<0)throw new La(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new La(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new La(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Pi.fromNumber(this.Ie)}Ee(e,r,n){let s=e.add(r.multiply(Pi.fromNumber(n)));return s.compare(EN)===1&&(s=new Pi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=jy(e),[n,s]=By(r);for(let i=0;i<this.hashCount;i++){const o=this.Ee(n,s,i);if(!this.de(o))return!1}return!0}static create(e,r,n){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Hm(i,s,r);return n.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const r=jy(e),[n,s]=By(r);for(let i=0;i<this.hashCount;i++){const o=this.Ee(n,s,i);this.Ae(o)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class La extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,r,n,s,i){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const s=new Map;return s.set(e,Jl.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Fd(Fe.min(),s,new Nt(st),ds(),Ge())}}class Jl{constructor(e,r,n,s,i){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Jl(n,r,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,r,n,s){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=s}}class Nk{constructor(e,r){this.targetId=e,this.me=r}}class $k{constructor(e,r,n=cr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=s}}class qy{constructor(){this.fe=0,this.ge=zy(),this.pe=cr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ge(),r=Ge(),n=Ge();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:r=r.add(s);break;case 1:n=n.add(s);break;default:Ve()}}),new Jl(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=zy()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ht(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class IN{constructor(e){this.Le=e,this.Be=new Map,this.ke=ds(),this.qe=Hy(),this.Qe=new Nt(st)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:Ve()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,s)=>{this.ze(s)&&r(s)})}He(e){const r=e.targetId,n=e.me.count,s=this.Je(r);if(s){const i=s.target;if(np(i))if(n===0){const o=new Re(i.path);this.Ue(r,o,Er.newNoDocument(o,Fe.min()))}else ht(n===1);else{const o=this.Ye(r);if(o!==n){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(r);const d=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,d)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:i=0}=r;let o,a;try{o=Li(n).toUint8Array()}catch(l){if(l instanceof uk)return zo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Hm(o,s,i)}catch(l){return zo(l instanceof La?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let s=0;return n.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(r,i,null),s++)}),s}rt(e){const r=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&np(a.target)){const l=new Re(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Er.newNoDocument(l,e))}i.be&&(r.set(o,i.ve()),i.Ce())}});let n=Ge();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const d=this.Je(l);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(n=n.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new Fd(e,r,this.Qe,this.ke,n);return this.ke=ds(),this.qe=Hy(),this.Qe=new Nt(st),s}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,r)?s.Fe(r,1):s.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new qy,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new or(st),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||we("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new qy),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Hy(){return new Nt(Re.comparator)}function zy(){return new Nt(Re.comparator)}const TN={asc:"ASCENDING",desc:"DESCENDING"},AN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SN={and:"AND",or:"OR"};class CN{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function ip(t,e){return t.useProto3Json||$d(e)?e:{value:e}}function qu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ok(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function PN(t,e){return qu(t,e.toTimestamp())}function Un(t){return ht(!!t),Fe.fromTimestamp(function(r){const n=ei(r);return new zt(n.seconds,n.nanos)}(t))}function zm(t,e){return op(t,e).canonicalString()}function op(t,e){const r=function(s){return new wt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?r:r.child(e)}function Dk(t){const e=wt.fromString(t);return ht(Uk(e)),e}function ap(t,e){return zm(t.databaseId,e.path)}function Yh(t,e){const r=Dk(e);if(r.get(1)!==t.databaseId.projectId)throw new be(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new be(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Re(Vk(r))}function Mk(t,e){return zm(t.databaseId,e)}function RN(t){const e=Dk(t);return e.length===4?wt.emptyPath():Vk(e)}function lp(t){return new wt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Vk(t){return ht(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Wy(t,e,r){return{name:ap(t,e),fields:r.value.mapValue.fields}}function NN(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(ht(h===void 0||typeof h=="string"),cr.fromBase64String(h||"")):(ht(h===void 0||h instanceof Buffer||h instanceof Uint8Array),cr.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const h=d.code===void 0?ie.UNKNOWN:Rk(d.code);return new be(h,d.message||"")}(o);r=new $k(n,s,i,a||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const s=Yh(t,n.document.name),i=Un(n.document.updateTime),o=n.document.createTime?Un(n.document.createTime):Fe.min(),a=new qr({mapValue:{fields:n.document.fields}}),l=Er.newFoundDocument(s,i,o,a),d=n.targetIds||[],h=n.removedTargetIds||[];r=new ou(d,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const s=Yh(t,n.document),i=n.readTime?Un(n.readTime):Fe.min(),o=Er.newNoDocument(s,i),a=n.removedTargetIds||[];r=new ou([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const s=Yh(t,n.document),i=n.removedTargetIds||[];r=new ou([],i,s,null)}else{if(!("filter"in e))return Ve();{e.filter;const n=e.filter;n.targetId;const{count:s=0,unchangedNames:i}=n,o=new _N(s,i),a=n.targetId;r=new Nk(a,o)}}return r}function $N(t,e){let r;if(e instanceof Yl)r={update:Wy(t,e.key,e.value)};else if(e instanceof Bm)r={delete:ap(t,e.key)};else if(e instanceof ai)r={update:Wy(t,e.key,e.data),updateMask:BN(e.fieldMask)};else{if(!(e instanceof yN))return Ve();r={verify:ap(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(i,o){const a=o.transform;if(a instanceof Ol)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Dl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ml)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Bu)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Ve()}(0,n))),e.precondition.isNone||(r.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:PN(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ve()}(t,e.precondition)),r}function ON(t,e){return t&&t.length>0?(ht(e!==void 0),t.map(r=>function(s,i){let o=s.updateTime?Un(s.updateTime):Un(i);return o.isEqual(Fe.min())&&(o=Un(i)),new mN(o,s.transformResults||[])}(r,e))):[]}function DN(t,e){return{documents:[Mk(t,e.path)]}}function MN(t,e){const r={structuredQuery:{}},n=e.path;let s;e.collectionGroup!==null?(s=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=Mk(t,s);const i=function(d){if(d.length!==0)return Fk(Rn.create(d,"and"))}(e.filters);i&&(r.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(p){return{field:vo(p.field),direction:FN(p.dir)}}(h))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const a=ip(t,e.limit);return a!==null&&(r.structuredQuery.limit=a),e.startAt&&(r.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:r,parent:s}}function VN(t){let e=RN(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let s=null;if(n>0){ht(n===1);const h=r.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];r.where&&(i=function(f){const p=Lk(f);return p instanceof Rn&&pk(p)?p.getFilters():[p]}(r.where));let o=[];r.orderBy&&(o=function(f){return f.map(p=>function(b){return new $l(yo(b.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(p))}(r.orderBy));let a=null;r.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,$d(p)?null:p}(r.limit));let l=null;r.startAt&&(l=function(f){const p=!!f.before,v=f.values||[];return new Uu(v,p)}(r.startAt));let d=null;return r.endAt&&(d=function(f){const p=!f.before,v=f.values||[];return new Uu(v,p)}(r.endAt)),tN(e,s,o,i,a,"F",l,d)}function LN(t,e){const r=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function Lk(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=yo(r.unaryFilter.field);return qt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=yo(r.unaryFilter.field);return qt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=yo(r.unaryFilter.field);return qt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=yo(r.unaryFilter.field);return qt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ve()}}(t):t.fieldFilter!==void 0?function(r){return qt.create(yo(r.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ve()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Rn.create(r.compositeFilter.filters.map(n=>Lk(n)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ve()}}(r.compositeFilter.op))}(t):Ve()}function FN(t){return TN[t]}function UN(t){return AN[t]}function jN(t){return SN[t]}function vo(t){return{fieldPath:t.canonicalString()}}function yo(t){return nr.fromServerFormat(t.fieldPath)}function Fk(t){return t instanceof qt?function(r){if(r.op==="=="){if(Ny(r.value))return{unaryFilter:{field:vo(r.field),op:"IS_NAN"}};if(Ry(r.value))return{unaryFilter:{field:vo(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Ny(r.value))return{unaryFilter:{field:vo(r.field),op:"IS_NOT_NAN"}};if(Ry(r.value))return{unaryFilter:{field:vo(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vo(r.field),op:UN(r.op),value:r.value}}}(t):t instanceof Rn?function(r){const n=r.getFilters().map(s=>Fk(s));return n.length===1?n[0]:{compositeFilter:{op:jN(r.op),filters:n}}}(t):Ve()}function BN(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Uk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,r,n,s,i=Fe.min(),o=Fe.min(),a=cr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.ct=e}}function HN(t){const e=VN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ju(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this.un=new WN}addToCollectionParentIndex(e,r){return this.un.add(r),ae.resolve()}getCollectionParents(e,r){return ae.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return ae.resolve()}deleteFieldIndex(e,r){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,r){return ae.resolve()}getDocumentsMatchingTarget(e,r){return ae.resolve(null)}getIndexType(e,r){return ae.resolve(0)}getFieldIndexes(e,r){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,r){return ae.resolve(Zs.min())}getMinOffsetFromCollectionGroup(e,r){return ae.resolve(Zs.min())}updateCollectionGroup(e,r,n){return ae.resolve()}updateIndexEntries(e,r){return ae.resolve()}}class WN{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r]||new or(wt.comparator),i=!s.has(n);return this.index[r]=s.add(n),i}has(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r];return s&&s.has(n)}getEntries(e){return(this.index[e]||new or(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Qo(0)}static kn(){return new Qo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(){this.changes=new la(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Er.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?ae.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,r,n,s){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(s=>(n=s,this.remoteDocumentCache.getEntry(e,r))).next(s=>(n!==null&&il(n.mutation,s,Xr.empty(),zt.now()),s))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Ge()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Ge()){const s=wi();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,n).next(i=>{let o=Va();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=wi();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Ge()))}populateOverlays(e,r,n){const s=[];return n.forEach(i=>{r.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{r.set(o,a)})})}computeViews(e,r,n,s){let i=ds();const o=sl(),a=function(){return sl()}();return r.forEach((l,d)=>{const h=n.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof ai)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),il(h.mutation,d,h.mutation.getFieldMask(),zt.now())):o.set(d.key,Xr.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((d,h)=>o.set(d,h)),r.forEach((d,h)=>{var f;return a.set(d,new GN(h,(f=o.get(d))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,r){const n=sl();let s=new Nt((o,a)=>o-a),i=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const a of o)a.keys().forEach(l=>{const d=r.get(l);if(d===null)return;let h=n.get(l)||Xr.empty();h=a.applyToLocalView(d,h),n.set(l,h);const f=(s.get(a.batchId)||Ge()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),d=l.key,h=l.value,f=kk();h.forEach(p=>{if(!i.has(p)){const v=Ck(r.get(p),n.get(p));v!==null&&f.set(p,v),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return ae.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,s){return function(o){return Re.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):yk(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,s):this.getDocumentsMatchingCollectionQuery(e,r,n,s)}getNextDocuments(e,r,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,s-i.size):ae.resolve(wi());let a=-1,l=i;return o.next(d=>ae.forEach(d,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?ae.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{l=l.insert(h,p)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,l,d,Ge())).next(h=>({batchId:a,changes:wk(h)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Re(r)).next(n=>{let s=Va();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s})}getDocumentsMatchingCollectionGroupQuery(e,r,n,s){const i=r.collectionGroup;let o=Va();return this.indexManager.getCollectionParents(e,i).next(a=>ae.forEach(a,l=>{const d=function(f,p){return new aa(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,n,s).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,i,s))).next(o=>{i.forEach((l,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,Er.newInvalidDocument(h)))});let a=Va();return o.forEach((l,d)=>{const h=i.get(l);h!==void 0&&il(h.mutation,d,Xr.empty(),zt.now()),Md(r,d)&&(a=a.insert(l,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return ae.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(s){return{id:s.id,version:s.version,createTime:Un(s.createTime)}}(r)),ae.resolve()}getNamedQuery(e,r){return ae.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(s){return{name:s.name,query:HN(s.bundledQuery),readTime:Un(s.readTime)}}(r)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(){this.overlays=new Nt(Re.comparator),this.Ir=new Map}getOverlay(e,r){return ae.resolve(this.overlays.get(r))}getOverlays(e,r){const n=wi();return ae.forEach(r,s=>this.getOverlay(e,s).next(i=>{i!==null&&n.set(s,i)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((s,i)=>{this.ht(e,r,i)}),ae.resolve()}removeOverlaysForBatchId(e,r,n){const s=this.Ir.get(n);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(n)),ae.resolve()}getOverlaysForCollection(e,r,n){const s=wi(),i=r.length+1,o=new Re(r.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,d=l.getKey();if(!r.isPrefixOf(d.path))break;d.path.length===i&&l.largestBatchId>n&&s.set(l.getKey(),l)}return ae.resolve(s)}getOverlaysForCollectionGroup(e,r,n,s){let i=new Nt((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===r&&d.largestBatchId>n){let h=i.get(d.largestBatchId);h===null&&(h=wi(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=wi(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=s)););return ae.resolve(a)}ht(e,r,n){const s=this.overlays.get(n.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(n.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new xN(r,n));let i=this.Ir.get(r);i===void 0&&(i=Ge(),this.Ir.set(r,i)),this.Ir.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(){this.sessionToken=cr.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(){this.Tr=new or(Xt.Er),this.dr=new or(Xt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new Xt(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new Xt(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new Re(new wt([])),n=new Xt(r,e),s=new Xt(r,e+1),i=[];return this.dr.forEachInRange([n,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Re(new wt([])),n=new Xt(r,e),s=new Xt(r,e+1);let i=Ge();return this.dr.forEachInRange([n,s],o=>{i=i.add(o.key)}),i}containsKey(e){const r=new Xt(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Xt{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Re.comparator(e.key,r.key)||st(e.wr,r.wr)}static Ar(e,r){return st(e.wr,r.wr)||Re.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new or(Xt.Er)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new bN(i,r,n,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new Xt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ae.resolve(o)}lookupMutationBatch(e,r){return ae.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,s=this.vr(n),i=s<0?0:s;return ae.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Xt(r,0),s=new Xt(r,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,s],o=>{const a=this.Dr(o.wr);i.push(a)}),ae.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new or(st);return r.forEach(s=>{const i=new Xt(s,0),o=new Xt(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{n=n.add(a.wr)})}),ae.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,s=n.length+1;let i=n;Re.isDocumentKey(i)||(i=i.child(""));const o=new Xt(new Re(i),0);let a=new or(st);return this.br.forEachWhile(l=>{const d=l.key.path;return!!n.isPrefixOf(d)&&(d.length===s&&(a=a.add(l.wr)),!0)},o),ae.resolve(this.Cr(a))}Cr(e){const r=[];return e.forEach(n=>{const s=this.Dr(n);s!==null&&r.push(s)}),r}removeMutationBatch(e,r){ht(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return ae.forEach(r.mutations,s=>{const i=new Xt(s.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new Xt(r,0),s=this.br.firstAfterOrEqual(n);return ae.resolve(r.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(e){this.Mr=e,this.docs=function(){return new Nt(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,s=this.docs.get(n),i=s?s.size:0,o=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return ae.resolve(n?n.document.mutableCopy():Er.newInvalidDocument(r))}getEntries(e,r){let n=ds();return r.forEach(s=>{const i=this.docs.get(s);n=n.insert(s,i?i.document.mutableCopy():Er.newInvalidDocument(s))}),ae.resolve(n)}getDocumentsMatchingQuery(e,r,n,s){let i=ds();const o=r.path,a=new Re(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:d,value:{document:h}}=l.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||M6(D6(h),n)<=0||(s.has(h.key)||Md(r,h))&&(i=i.insert(h.key,h.mutableCopy()))}return ae.resolve(i)}getAllFromCollectionGroup(e,r,n,s){Ve()}Or(e,r){return ae.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new t$(this)}getSize(e){return ae.resolve(this.size)}}class t$ extends KN{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,s)=>{s.isValidDocument()?r.push(this.cr.addEntry(e,s)):this.cr.removeEntry(n)}),ae.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${constructor(e){this.persistence=e,this.Nr=new la(r=>Fm(r),Um),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Wm,this.targetCount=0,this.kr=Qo.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,s)=>r(s)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),ae.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Qo(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,ae.resolve()}updateTargetData(e,r){return this.Kn(r),ae.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,r,n){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=r&&n.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),ae.waitFor(i).next(()=>s)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return ae.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),ae.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const s=this.persistence.referenceDelegate,i=[];return s&&r.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),ae.waitFor(i)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),ae.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return ae.resolve(n)}containsKey(e,r){return ae.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(e,r){this.qr={},this.overlays={},this.Qr=new Dm(0),this.Kr=!1,this.Kr=!0,this.$r=new XN,this.referenceDelegate=e(this),this.Ur=new r$(this),this.indexManager=new zN,this.remoteDocumentCache=function(s){return new e$(s)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new qN(r),this.Gr=new YN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new JN,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new ZN(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){we("MemoryPersistence","Starting transaction:",e);const s=new s$(this.Qr.next());return this.referenceDelegate.zr(),n(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,r){return ae.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class s$ extends L6{constructor(e){super(),this.currentSequenceNumber=e}}class Km{constructor(e){this.persistence=e,this.Jr=new Wm,this.Yr=null}static Zr(e){return new Km(e)}get Xr(){if(this.Yr)return this.Yr;throw Ve()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),ae.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),ae.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),ae.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(s=>this.Xr.add(s.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Xr,n=>{const s=Re.fromPath(n);return this.ei(e,s).next(i=>{i||r.removeEntry(s,Fe.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return ae.or([()=>ae.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,r,n,s){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=s}static Wi(e,r){let n=Ge(),s=Ge();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Gm(e,r.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return G5()?8:F6(Cr())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,s){const i={result:null};return this.Yi(e,r).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,r,s,n).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new i$;return this.Xi(e,r,o).next(a=>{if(i.result=a,this.zi)return this.es(e,r,o,a.size)})}).next(()=>i.result)}es(e,r,n,s){return n.documentReadCount<this.ji?(Ta()<=Je.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",go(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ae.resolve()):(Ta()<=Je.DEBUG&&we("QueryEngine","Query:",go(r),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.Hi*s?(Ta()<=Je.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",go(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fn(r))):ae.resolve())}Yi(e,r){if(My(r))return ae.resolve(null);let n=Fn(r);return this.indexManager.getIndexType(e,n).next(s=>s===0?null:(r.limit!==null&&s===1&&(r=ju(r,null,"F"),n=Fn(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(i=>{const o=Ge(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,n).next(l=>{const d=this.ts(r,a);return this.ns(r,d,o,l.readTime)?this.Yi(e,ju(r,null,"F")):this.rs(e,d,r,l)}))})))}Zi(e,r,n,s){return My(r)||s.isEqual(Fe.min())?ae.resolve(null):this.Ji.getDocuments(e,n).next(i=>{const o=this.ts(r,i);return this.ns(r,o,n,s)?ae.resolve(null):(Ta()<=Je.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),go(r)),this.rs(e,o,r,O6(s,-1)).next(a=>a))})}ts(e,r){let n=new or(xk(e));return r.forEach((s,i)=>{Md(e,i)&&(n=n.add(i))}),n}ns(e,r,n,s){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const i=e.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,r,n){return Ta()<=Je.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",go(r)),this.Ji.getDocumentsMatchingQuery(e,r,Zs.min(),n)}rs(e,r,n,s){return this.Ji.getDocumentsMatchingQuery(e,n,s).next(i=>(r.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${constructor(e,r,n,s){this.persistence=e,this.ss=r,this.serializer=s,this.os=new Nt(st),this._s=new la(i=>Fm(i),Um),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QN(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function l$(t,e,r,n){return new a$(t,e,r,n)}async function jk(t,e){const r=Be(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let s;return r.mutationQueue.getAllMutationBatches(n).next(i=>(s=i,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(i=>{const o=[],a=[];let l=Ge();for(const d of s){o.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}for(const d of i){a.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}return r.localDocuments.getDocuments(n,l).next(d=>({hs:d,removedBatchIds:o,addedBatchIds:a}))})})}function c$(t,e){const r=Be(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const s=e.batch.keys(),i=r.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,d,h){const f=d.batch,p=f.keys();let v=ae.resolve();return p.forEach(b=>{v=v.next(()=>h.getEntry(l,b)).next(w=>{const _=d.docVersions.get(b);ht(_!==null),w.version.compareTo(_)<0&&(f.applyToRemoteDocument(w,d),w.isValidDocument()&&(w.setReadTime(d.commitVersion),h.addEntry(w)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(r,n,e,i).next(()=>i.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,s,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(a){let l=Ge();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(l=l.add(a.batch.mutations[d].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,s))})}function Bk(t){const e=Be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function u$(t,e){const r=Be(t),n=e.snapshotVersion;let s=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=r.cs.newChangeBuffer({trackRemovals:!0});s=r.os;const a=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;a.push(r.Ur.removeMatchingKeys(i,h.removedDocuments,f).next(()=>r.Ur.addMatchingKeys(i,h.addedDocuments,f)));let v=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?v=v.withResumeToken(cr.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,n)),s=s.insert(f,v),function(w,_,T){return w.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(p,v,h)&&a.push(r.Ur.updateTargetData(i,v))});let l=ds(),d=Ge();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(r.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(d$(i,o,e.documentUpdates).next(h=>{l=h.Ps,d=h.Is})),!n.isEqual(Fe.min())){const h=r.Ur.getLastRemoteSnapshotVersion(i).next(f=>r.Ur.setTargetsMetadata(i,i.currentSequenceNumber,n));a.push(h)}return ae.waitFor(a).next(()=>o.apply(i)).next(()=>r.localDocuments.getLocalViewOfDocuments(i,l,d)).next(()=>l)}).then(i=>(r.os=s,i))}function d$(t,e,r){let n=Ge(),s=Ge();return r.forEach(i=>n=n.add(i)),e.getEntries(t,n).next(i=>{let o=ds();return r.forEach((a,l)=>{const d=i.get(a);l.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Fe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||l.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):we("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function h$(t,e){const r=Be(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function f$(t,e){const r=Be(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let s;return r.Ur.getTargetData(n,e).next(i=>i?(s=i,ae.resolve(s)):r.Ur.allocateTargetId(n).next(o=>(s=new Us(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,s).next(()=>s))))}).then(n=>{const s=r.os.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function cp(t,e,r){const n=Be(t),s=n.os.get(e),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,o=>n.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ql(o))throw o;we("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}n.os=n.os.remove(e),n._s.delete(s.target)}function Ky(t,e,r){const n=Be(t);let s=Fe.min(),i=Ge();return n.persistence.runTransaction("Execute query","readwrite",o=>function(l,d,h){const f=Be(l),p=f._s.get(h);return p!==void 0?ae.resolve(f.os.get(p)):f.Ur.getTargetData(d,h)}(n,o,Fn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>n.ss.getDocumentsMatchingQuery(o,e,r?s:Fe.min(),r?i:Ge())).next(a=>(p$(n,nN(e),a),{documents:a,Ts:i})))}function p$(t,e,r){let n=t.us.get(e)||Fe.min();r.forEach((s,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),t.us.set(e,n)}class Gy{constructor(){this.activeTargetIds=cN()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class m${constructor(){this.so=new Gy,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Gy,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g${_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){we("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){we("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vc=null;function Jh(){return Vc===null?Vc=function(){return 268435456+Math.round(2147483648*Math.random())}():Vc++,"0x"+Vc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y${constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vr="WebChannelConnection";class b$ extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(r,n,s,i,o){const a=Jh(),l=this.xo(r,n.toUriEncodedString());we("RestConnection",`Sending RPC '${r}' ${a}:`,l,s);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,i,o),this.No(r,l,d,s).then(h=>(we("RestConnection",`Received RPC '${r}' ${a}: `,h),h),h=>{throw zo("RestConnection",`RPC '${r}' ${a} failed with error: `,h,"url: ",l,"request:",s),h})}Lo(r,n,s,i,o,a){return this.Mo(r,n,s,i,o)}Oo(r,n,s){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+oa}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>r[o]=i),s&&s.headers.forEach((i,o)=>r[o]=i)}xo(r,n){const s=v$[r];return`${this.Do}/v1/${n}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,s){const i=Jh();return new Promise((o,a)=>{const l=new rk;l.setWithCredentials(!0),l.listenOnce(nk.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case nu.NO_ERROR:const h=l.getResponseJson();we(vr,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case nu.TIMEOUT:we(vr,`RPC '${e}' ${i} timed out`),a(new be(ie.DEADLINE_EXCEEDED,"Request time out"));break;case nu.HTTP_ERROR:const f=l.getStatus();if(we(vr,`RPC '${e}' ${i} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const v=p==null?void 0:p.error;if(v&&v.status&&v.message){const b=function(_){const T=_.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(T)>=0?T:ie.UNKNOWN}(v.status);a(new be(b,v.message))}else a(new be(ie.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new be(ie.UNAVAILABLE,"Connection failed."));break;default:Ve()}}finally{we(vr,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(s);we(vr,`RPC '${e}' ${i} sending request:`,s),l.send(r,"POST",d,n,15)})}Bo(e,r,n){const s=Jh(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ok(),a=ik(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(l.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const h=i.join("");we(vr,`Creating RPC '${e}' stream ${s}: ${h}`,l);const f=o.createWebChannel(h,l);let p=!1,v=!1;const b=new y$({Io:_=>{v?we(vr,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(p||(we(vr,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),we(vr,`RPC '${e}' stream ${s} sending:`,_),f.send(_))},To:()=>f.close()}),w=(_,T,S)=>{_.listen(T,E=>{try{S(E)}catch(N){setTimeout(()=>{throw N},0)}})};return w(f,Ma.EventType.OPEN,()=>{v||(we(vr,`RPC '${e}' stream ${s} transport opened.`),b.yo())}),w(f,Ma.EventType.CLOSE,()=>{v||(v=!0,we(vr,`RPC '${e}' stream ${s} transport closed`),b.So())}),w(f,Ma.EventType.ERROR,_=>{v||(v=!0,zo(vr,`RPC '${e}' stream ${s} transport errored:`,_),b.So(new be(ie.UNAVAILABLE,"The operation could not be completed")))}),w(f,Ma.EventType.MESSAGE,_=>{var T;if(!v){const S=_.data[0];ht(!!S);const E=S,N=E.error||((T=E[0])===null||T===void 0?void 0:T.error);if(N){we(vr,`RPC '${e}' stream ${s} received error:`,N);const C=N.status;let F=function(m){const k=Ut[m];if(k!==void 0)return Rk(k)}(C),I=N.message;F===void 0&&(F=ie.INTERNAL,I="Unknown error status: "+C+" with message "+N.message),v=!0,b.So(new be(F,I)),f.close()}else we(vr,`RPC '${e}' stream ${s} received:`,S),b.bo(S)}}),w(a,sk.STAT_EVENT,_=>{_.stat===Zf.PROXY?we(vr,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===Zf.NOPROXY&&we(vr,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.wo()},0),b}}function Xh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ud(t){return new CN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e,r,n=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),s=Math.max(0,r-n);s>0&&we("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(e,r,n,s,i,o,a,l){this.ui=e,this.Ho=n,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new qk(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===ie.RESOURCE_EXHAUSTED?(us(r.toString()),us("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,s])=>{this.Yo===r&&this.P_(n,s)},n=>{e(()=>{const s=new be(ie.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(s)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{n(()=>this.I_(s))}),this.stream.onMessage(s=>{n(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return we("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(we("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class x$ extends Hk{constructor(e,r,n,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,s,o),this.serializer=i}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=NN(this.serializer,e),n=function(i){if(!("targetChange"in i))return Fe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Fe.min():o.readTime?Un(o.readTime):Fe.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=lp(this.serializer),r.addTarget=function(i,o){let a;const l=o.target;if(a=np(l)?{documents:DN(i,l)}:{query:MN(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Ok(i,o.resumeToken);const d=ip(i,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(Fe.min())>0){a.readTime=qu(i,o.snapshotVersion.toTimestamp());const d=ip(i,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const n=LN(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=lp(this.serializer),r.removeTarget=e,this.a_(r)}}class _$ extends Hk{constructor(e,r,n,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return ht(!!e.streamToken),this.lastStreamToken=e.streamToken,ht(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ht(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=ON(e.writeResults,e.commitTime),n=Un(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=lp(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>$N(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w$ extends class{}{constructor(e,r,n,s){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new be(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,op(r,n),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new be(ie.UNKNOWN,i.toString())})}Lo(e,r,n,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,op(r,n),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new be(ie.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class k${constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(us(r),this.D_=!1):we("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E${constructor(e,r,n,s,i){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{n.enqueueAndForget(async()=>{Zi(this)&&(we("RemoteStore","Restarting streams for network reachability change."),await async function(l){const d=Be(l);d.L_.add(4),await Xl(d),d.q_.set("Unknown"),d.L_.delete(4),await jd(d)}(this))})}),this.q_=new k$(n,s)}}async function jd(t){if(Zi(t))for(const e of t.B_)await e(!0)}async function Xl(t){for(const e of t.B_)await e(!1)}function zk(t,e){const r=Be(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),Xm(r)?Jm(r):ca(r).r_()&&Ym(r,e))}function Qm(t,e){const r=Be(t),n=ca(r);r.N_.delete(e),n.r_()&&Wk(r,e),r.N_.size===0&&(n.r_()?n.o_():Zi(r)&&r.q_.set("Unknown"))}function Ym(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}ca(t).A_(e)}function Wk(t,e){t.Q_.xe(e),ca(t).R_(e)}function Jm(t){t.Q_=new IN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ca(t).start(),t.q_.v_()}function Xm(t){return Zi(t)&&!ca(t).n_()&&t.N_.size>0}function Zi(t){return Be(t).L_.size===0}function Kk(t){t.Q_=void 0}async function I$(t){t.q_.set("Online")}async function T$(t){t.N_.forEach((e,r)=>{Ym(t,e)})}async function A$(t,e){Kk(t),Xm(t)?(t.q_.M_(e),Jm(t)):t.q_.set("Unknown")}async function S$(t,e,r){if(t.q_.set("Online"),e instanceof $k&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(n){we("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Hu(t,n)}else if(e instanceof ou?t.Q_.Ke(e):e instanceof Nk?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Fe.min()))try{const n=await Bk(t.localStore);r.compareTo(n)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.N_.get(d);h&&i.N_.set(d,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,d)=>{const h=i.N_.get(l);if(!h)return;i.N_.set(l,h.withResumeToken(cr.EMPTY_BYTE_STRING,h.snapshotVersion)),Wk(i,l);const f=new Us(h.target,l,d,h.sequenceNumber);Ym(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,r)}catch(n){we("RemoteStore","Failed to raise snapshot:",n),await Hu(t,n)}}async function Hu(t,e,r){if(!Ql(e))throw e;t.L_.add(1),await Xl(t),t.q_.set("Offline"),r||(r=()=>Bk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{we("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await jd(t)})}function Gk(t,e){return e().catch(r=>Hu(t,r,e))}async function Bd(t){const e=Be(t),r=ti(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;C$(e);)try{const s=await h$(e.localStore,n);if(s===null){e.O_.length===0&&r.o_();break}n=s.batchId,P$(e,s)}catch(s){await Hu(e,s)}Qk(e)&&Yk(e)}function C$(t){return Zi(t)&&t.O_.length<10}function P$(t,e){t.O_.push(e);const r=ti(t);r.r_()&&r.V_&&r.m_(e.mutations)}function Qk(t){return Zi(t)&&!ti(t).n_()&&t.O_.length>0}function Yk(t){ti(t).start()}async function R$(t){ti(t).p_()}async function N$(t){const e=ti(t);for(const r of t.O_)e.m_(r.mutations)}async function $$(t,e,r){const n=t.O_.shift(),s=qm.from(n,e,r);await Gk(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Bd(t)}async function O$(t,e){e&&ti(t).V_&&await async function(n,s){if(function(o){return wN(o)&&o!==ie.ABORTED}(s.code)){const i=n.O_.shift();ti(n).s_(),await Gk(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Bd(n)}}(t,e),Qk(t)&&Yk(t)}async function Yy(t,e){const r=Be(t);r.asyncQueue.verifyOperationInProgress(),we("RemoteStore","RemoteStore received new credentials");const n=Zi(r);r.L_.add(3),await Xl(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await jd(r)}async function D$(t,e){const r=Be(t);e?(r.L_.delete(2),await jd(r)):e||(r.L_.add(2),await Xl(r),r.q_.set("Unknown"))}function ca(t){return t.K_||(t.K_=function(r,n,s){const i=Be(r);return i.w_(),new x$(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:I$.bind(null,t),Ro:T$.bind(null,t),mo:A$.bind(null,t),d_:S$.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Xm(t)?Jm(t):t.q_.set("Unknown")):(await t.K_.stop(),Kk(t))})),t.K_}function ti(t){return t.U_||(t.U_=function(r,n,s){const i=Be(r);return i.w_(),new _$(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:R$.bind(null,t),mo:O$.bind(null,t),f_:N$.bind(null,t),g_:$$.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Bd(t)):(await t.U_.stop(),t.O_.length>0&&(we("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,r,n,s,i){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=s,this.removalCallback=i,this.deferred=new is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,s,i){const o=Date.now()+n,a=new Zm(e,r,o,s,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new be(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function eg(t,e){if(us("AsyncQueue",`${e}: ${t}`),Ql(t))return new be(ie.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $o{constructor(e){this.comparator=e?(r,n)=>e(r,n)||Re.comparator(r.key,n.key):(r,n)=>Re.comparator(r.key,n.key),this.keyedMap=Va(),this.sortedSet=new Nt(this.comparator)}static emptySet(e){return new $o(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof $o)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const s=r.getNext().key,i=n.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new $o;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(){this.W_=new Nt(Re.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Ve():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class Yo{constructor(e,r,n,s,i,o,a,l,d){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(e,r,n,s,i){const o=[];return r.forEach(a=>{o.push({type:0,doc:a})}),new Yo(e,r,$o.emptySet(r),o,n,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++)if(r[s].type!==n[s].type||!r[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class V${constructor(){this.queries=Xy(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const s=Be(r),i=s.queries;s.queries=Xy(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(n)})})(this,new be(ie.ABORTED,"Firestore shutting down"))}}function Xy(){return new la(t=>bk(t),Dd)}async function tg(t,e){const r=Be(t);let n=3;const s=e.query;let i=r.queries.get(s);i?!i.H_()&&e.J_()&&(n=2):(i=new M$,n=e.J_()?0:1);try{switch(n){case 0:i.z_=await r.onListen(s,!0);break;case 1:i.z_=await r.onListen(s,!1);break;case 2:await r.onFirstRemoteStoreListen(s)}}catch(o){const a=eg(o,`Initialization of query '${go(e.query)}' failed`);return void e.onError(a)}r.queries.set(s,i),i.j_.push(e),e.Z_(r.onlineState),i.z_&&e.X_(i.z_)&&ng(r)}async function rg(t,e){const r=Be(t),n=e.query;let s=3;const i=r.queries.get(n);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function L$(t,e){const r=Be(t);let n=!1;for(const s of e){const i=s.query,o=r.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(n=!0);o.z_=s}}n&&ng(r)}function F$(t,e,r){const n=Be(t),s=n.queries.get(e);if(s)for(const i of s.j_)i.onError(r);n.queries.delete(e)}function ng(t){t.Y_.forEach(e=>{e.next()})}var up,Zy;(Zy=up||(up={})).ea="default",Zy.Cache="cache";class sg{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const s of e.docChanges)s.type!==3&&n.push(s);e=new Yo(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=Yo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==up.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(e){this.key=e}}class Xk{constructor(e){this.key=e}}class U${constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ge(),this.mutatedKeys=Ge(),this.Aa=xk(e),this.Ra=new $o(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new Jy,s=r?r.Ra:this.Ra;let i=r?r.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),v=Md(this.query,f)?f:null,b=!!p&&this.mutatedKeys.has(p.key),w=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let _=!1;p&&v?p.data.isEqual(v.data)?b!==w&&(n.track({type:3,doc:v}),_=!0):this.ga(p,v)||(n.track({type:2,doc:v}),_=!0,(l&&this.Aa(v,l)>0||d&&this.Aa(v,d)<0)&&(a=!0)):!p&&v?(n.track({type:0,doc:v}),_=!0):p&&!v&&(n.track({type:1,doc:p}),_=!0,(l||d)&&(a=!0)),_&&(v?(o=o.add(v),i=w?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),n.track({type:1,doc:h})}return{Ra:o,fa:n,ns:a,mutatedKeys:i}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,f)=>function(v,b){const w=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve()}};return w(v)-w(b)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(n),s=s!=null&&s;const a=r&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,d=l!==this.Ea;return this.Ea=l,o.length!==0||d?{snapshot:new Yo(this.query,e.Ra,i,o,e.mutatedKeys,l===0,d,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Jy,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ge(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new Xk(n))}),this.da.forEach(n=>{e.has(n)||r.push(new Jk(n))}),r}ba(e){this.Ta=e.Ts,this.da=Ge();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return Yo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class j${constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class B${constructor(e){this.key=e,this.va=!1}}class q${constructor(e,r,n,s,i,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new la(a=>bk(a),Dd),this.Ma=new Map,this.xa=new Set,this.Oa=new Nt(Re.comparator),this.Na=new Map,this.La=new Wm,this.Ba={},this.ka=new Map,this.qa=Qo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function H$(t,e,r=!0){const n=s2(t);let s;const i=n.Fa.get(e);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await Zk(n,e,r,!0),s}async function z$(t,e){const r=s2(t);await Zk(r,e,!0,!1)}async function Zk(t,e,r,n){const s=await f$(t.localStore,Fn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,r);let a;return n&&(a=await W$(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&r&&zk(t.remoteStore,s),a}async function W$(t,e,r,n,s){t.Ka=(f,p,v)=>async function(w,_,T,S){let E=_.view.ma(T);E.ns&&(E=await Ky(w.localStore,_.query,!1).then(({documents:I})=>_.view.ma(I,E)));const N=S&&S.targetChanges.get(_.targetId),C=S&&S.targetMismatches.get(_.targetId)!=null,F=_.view.applyChanges(E,w.isPrimaryClient,N,C);return tb(w,_.targetId,F.wa),F.snapshot}(t,f,p,v);const i=await Ky(t.localStore,e,!0),o=new U$(e,i.Ts),a=o.ma(i.documents),l=Jl.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",s),d=o.applyChanges(a,t.isPrimaryClient,l);tb(t,r,d.wa);const h=new j$(e,r,o);return t.Fa.set(e,h),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),d.snapshot}async function K$(t,e,r){const n=Be(t),s=n.Fa.get(e),i=n.Ma.get(s.targetId);if(i.length>1)return n.Ma.set(s.targetId,i.filter(o=>!Dd(o,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await cp(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),r&&Qm(n.remoteStore,s.targetId),dp(n,s.targetId)}).catch(Gl)):(dp(n,s.targetId),await cp(n.localStore,s.targetId,!0))}async function G$(t,e){const r=Be(t),n=r.Fa.get(e),s=r.Ma.get(n.targetId);r.isPrimaryClient&&s.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Qm(r.remoteStore,n.targetId))}async function Q$(t,e,r){const n=rO(t);try{const s=await function(o,a){const l=Be(o),d=zt.now(),h=a.reduce((v,b)=>v.add(b.key),Ge());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",v=>{let b=ds(),w=Ge();return l.cs.getEntries(v,h).next(_=>{b=_,b.forEach((T,S)=>{S.isValidDocument()||(w=w.add(T))})}).next(()=>l.localDocuments.getOverlayedDocuments(v,b)).next(_=>{f=_;const T=[];for(const S of a){const E=vN(S,f.get(S.key).overlayedDocument);E!=null&&T.push(new ai(S.key,E,dk(E.value.mapValue),mn.exists(!0)))}return l.mutationQueue.addMutationBatch(v,d,T,a)}).next(_=>{p=_;const T=_.applyToLocalDocumentSet(f,w);return l.documentOverlayCache.saveOverlays(v,_.batchId,T)})}).then(()=>({batchId:p.batchId,changes:wk(f)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let d=o.Ba[o.currentUser.toKey()];d||(d=new Nt(st)),d=d.insert(a,l),o.Ba[o.currentUser.toKey()]=d}(n,s.batchId,r),await Zl(n,s.changes),await Bd(n.remoteStore)}catch(s){const i=eg(s,"Failed to persist write");r.reject(i)}}async function e2(t,e){const r=Be(t);try{const n=await u$(r.localStore,e);e.targetChanges.forEach((s,i)=>{const o=r.Na.get(i);o&&(ht(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?ht(o.va):s.removedDocuments.size>0&&(ht(o.va),o.va=!1))}),await Zl(r,n,e)}catch(n){await Gl(n)}}function eb(t,e,r){const n=Be(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const s=[];n.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Be(o);l.onlineState=a;let d=!1;l.queries.forEach((h,f)=>{for(const p of f.j_)p.Z_(a)&&(d=!0)}),d&&ng(l)}(n.eventManager,e),s.length&&n.Ca.d_(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Y$(t,e,r){const n=Be(t);n.sharedClientState.updateQueryState(e,"rejected",r);const s=n.Na.get(e),i=s&&s.key;if(i){let o=new Nt(Re.comparator);o=o.insert(i,Er.newNoDocument(i,Fe.min()));const a=Ge().add(i),l=new Fd(Fe.min(),new Map,new Nt(st),o,a);await e2(n,l),n.Oa=n.Oa.remove(i),n.Na.delete(e),ig(n)}else await cp(n.localStore,e,!1).then(()=>dp(n,e,r)).catch(Gl)}async function J$(t,e){const r=Be(t),n=e.batch.batchId;try{const s=await c$(r.localStore,e);r2(r,n,null),t2(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Zl(r,s)}catch(s){await Gl(s)}}async function X$(t,e,r){const n=Be(t);try{const s=await function(o,a){const l=Be(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return l.mutationQueue.lookupMutationBatch(d,a).next(f=>(ht(f!==null),h=f.keys(),l.mutationQueue.removeMutationBatch(d,f))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>l.localDocuments.getDocuments(d,h))})}(n.localStore,e);r2(n,e,r),t2(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Zl(n,s)}catch(s){await Gl(s)}}function t2(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function r2(t,e,r){const n=Be(t);let s=n.Ba[n.currentUser.toKey()];if(s){const i=s.get(e);i&&(r?i.reject(r):i.resolve(),s=s.remove(e)),n.Ba[n.currentUser.toKey()]=s}}function dp(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||n2(t,n)})}function n2(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(Qm(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),ig(t))}function tb(t,e,r){for(const n of r)n instanceof Jk?(t.La.addReference(n.key,e),Z$(t,n)):n instanceof Xk?(we("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||n2(t,n.key)):Ve()}function Z$(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(we("SyncEngine","New document in limbo: "+r),t.xa.add(n),ig(t))}function ig(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new Re(wt.fromString(e)),n=t.qa.next();t.Na.set(n,new B$(r)),t.Oa=t.Oa.insert(r,n),zk(t.remoteStore,new Us(Fn(Od(r.path)),n,"TargetPurposeLimboResolution",Dm.oe))}}async function Zl(t,e,r){const n=Be(t),s=[],i=[],o=[];n.Fa.isEmpty()||(n.Fa.forEach((a,l)=>{o.push(n.Ka(l,e,r).then(d=>{var h;if((d||r)&&n.isPrimaryClient){const f=d?!d.fromCache:(h=r==null?void 0:r.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(d){s.push(d);const f=Gm.Wi(l.targetId,d);i.push(f)}}))}),await Promise.all(o),n.Ca.d_(s),await async function(l,d){const h=Be(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ae.forEach(d,p=>ae.forEach(p.$i,v=>h.persistence.referenceDelegate.addReference(f,p.targetId,v)).next(()=>ae.forEach(p.Ui,v=>h.persistence.referenceDelegate.removeReference(f,p.targetId,v)))))}catch(f){if(!Ql(f))throw f;we("LocalStore","Failed to update sequence numbers: "+f)}for(const f of d){const p=f.targetId;if(!f.fromCache){const v=h.os.get(p),b=v.snapshotVersion,w=v.withLastLimboFreeSnapshotVersion(b);h.os=h.os.insert(p,w)}}}(n.localStore,i))}async function eO(t,e){const r=Be(t);if(!r.currentUser.isEqual(e)){we("SyncEngine","User change. New user:",e.toKey());const n=await jk(r.localStore,e);r.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new be(ie.CANCELLED,o))})}),i.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Zl(r,n.hs)}}function tO(t,e){const r=Be(t),n=r.Na.get(e);if(n&&n.va)return Ge().add(n.key);{let s=Ge();const i=r.Ma.get(e);if(!i)return s;for(const o of i){const a=r.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function s2(t){const e=Be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=e2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Y$.bind(null,e),e.Ca.d_=L$.bind(null,e.eventManager),e.Ca.$a=F$.bind(null,e.eventManager),e}function rO(t){const e=Be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=J$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=X$.bind(null,e),e}class zu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ud(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return l$(this.persistence,new o$,e.initialUser,this.serializer)}Ga(e){return new n$(Km.Zr,this.serializer)}Wa(e){return new m$}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zu.provider={build:()=>new zu};class hp{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>eb(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=eO.bind(null,this.syncEngine),await D$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new V$}()}createDatastore(e){const r=Ud(e.databaseInfo.databaseId),n=function(i){return new b$(i)}(e.databaseInfo);return function(i,o,a,l){return new w$(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,s,i,o,a){return new E$(n,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,r=>eb(this.syncEngine,r,0),function(){return Qy.D()?new Qy:new g$}())}createSyncEngine(e,r){return function(s,i,o,a,l,d,h){const f=new q$(s,i,o,a,l,d);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(s){const i=Be(s);we("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await Xl(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}hp.provider={build:()=>new hp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):us("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,r,n,s,i){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=s,this.user=_r.UNAUTHENTICATED,this.clientId=lk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async o=>{we("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(we("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=eg(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Zh(t,e){t.asyncQueue.verifyOperationInProgress(),we("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async s=>{n.isEqual(s)||(await jk(e.localStore,s),n=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function rb(t,e){t.asyncQueue.verifyOperationInProgress();const r=await sO(t);we("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>Yy(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,s)=>Yy(e.remoteStore,s)),t._onlineComponents=e}async function sO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we("FirestoreClient","Using user provided OfflineComponentProvider");try{await Zh(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(s){return s.name==="FirebaseError"?s.code===ie.FAILED_PRECONDITION||s.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(r))throw r;zo("Error using user provided cache. Falling back to memory cache: "+r),await Zh(t,new zu)}}else we("FirestoreClient","Using default OfflineComponentProvider"),await Zh(t,new zu);return t._offlineComponents}async function i2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we("FirestoreClient","Using user provided OnlineComponentProvider"),await rb(t,t._uninitializedComponentsProvider._online)):(we("FirestoreClient","Using default OnlineComponentProvider"),await rb(t,new hp))),t._onlineComponents}function iO(t){return i2(t).then(e=>e.syncEngine)}async function Wu(t){const e=await i2(t),r=e.eventManager;return r.onListen=H$.bind(null,e.syncEngine),r.onUnlisten=K$.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=z$.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=G$.bind(null,e.syncEngine),r}function oO(t,e,r={}){const n=new is;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,d){const h=new og({next:p=>{h.Za(),o.enqueueAndForget(()=>rg(i,f));const v=p.docs.has(a);!v&&p.fromCache?d.reject(new be(ie.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&p.fromCache&&l&&l.source==="server"?d.reject(new be(ie.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new sg(Od(a.path),h,{includeMetadataChanges:!0,_a:!0});return tg(i,f)}(await Wu(t),t.asyncQueue,e,r,n)),n.promise}function aO(t,e,r={}){const n=new is;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,d){const h=new og({next:p=>{h.Za(),o.enqueueAndForget(()=>rg(i,f)),p.fromCache&&l.source==="server"?d.reject(new be(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new sg(a,h,{includeMetadataChanges:!0,_a:!0});return tg(i,f)}(await Wu(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(t,e,r){if(!r)throw new be(ie.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function lO(t,e,r,n){if(e===!0&&n===!0)throw new be(ie.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function sb(t){if(!Re.isDocumentKey(t))throw new be(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ib(t){if(Re.isDocumentKey(t))throw new be(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function qd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ve()}function zr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new be(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=qd(t);throw new be(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function cO(t,e){if(e<=0)throw new be(ie.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new be(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new be(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=o2((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new be(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new be(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new be(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,s){return n.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Hd{constructor(e,r,n,s){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ob({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new be(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new be(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ob(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new I6;switch(n.type){case"firstParty":return new C6(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new be(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=nb.get(r);n&&(we("ComponentProvider","Removing Datastore"),nb.delete(r),n.terminate())}(this),Promise.resolve()}}function uO(t,e,r,n={}){var s;const i=(t=zr(t,Hd))._getSettings(),o=`${e}:${r}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&zo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),n.mockUserToken){let a,l;if(typeof n.mockUserToken=="string")a=n.mockUserToken,l=_r.MOCK_USER;else{a=cw(n.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const d=n.mockUserToken.sub||n.mockUserToken.user_id;if(!d)throw new be(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new _r(d)}t._authCredentials=new T6(new ak(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new gs(this.firestore,e,this._query)}}class Sr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sr(this.firestore,e,this._key)}}class Gs extends gs{constructor(e,r,n){super(e,r,Od(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sr(this.firestore,null,new Re(e))}withConverter(e){return new Gs(this.firestore,e,this._path)}}function br(t,e,...r){if(t=xt(t),a2("collection","path",e),t instanceof Hd){const n=wt.fromString(e,...r);return ib(n),new Gs(t,null,n)}{if(!(t instanceof Sr||t instanceof Gs))throw new be(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(wt.fromString(e,...r));return ib(n),new Gs(t.firestore,null,n)}}function $r(t,e,...r){if(t=xt(t),arguments.length===1&&(e=lk.newId()),a2("doc","path",e),t instanceof Hd){const n=wt.fromString(e,...r);return sb(n),new Sr(t,null,new Re(n))}{if(!(t instanceof Sr||t instanceof Gs))throw new be(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(wt.fromString(e,...r));return sb(n),new Sr(t.firestore,t instanceof Gs?t.converter:null,new Re(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new qk(this,"async_queue_retry"),this.Vu=()=>{const n=Xh();n&&we("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=Xh();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Xh();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new is;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Ql(e))throw e;we("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(n);throw us("INTERNAL UNHANDLED ERROR: ",s),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const s=Zm.createAndSchedule(this,e,r,n,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&Ve()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function lb(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const s=r;for(const i of n)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class hs extends Hd{constructor(e,r,n,s){super(e,r,n,s),this.type="firestore",this._queue=new ab,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ab(e),this._firestoreClient=void 0,await e}}}function l2(t,e){const r=typeof t=="object"?t:na(),n=typeof t=="string"?t:"(default)",s=ms(r,"firestore").getImmediate({identifier:n});if(!s._initialized){const i=wm("firestore");i&&uO(s,...i)}return s}function zd(t){if(t._terminated)throw new be(ie.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||dO(t),t._firestoreClient}function dO(t){var e,r,n;const s=t._freezeSettings(),i=function(a,l,d,h){return new B6(a,l,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,o2(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((r=s.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=s.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new nO(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jo(cr.fromBase64String(e))}catch(r){throw new be(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Jo(cr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wd{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new be(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new be(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new be(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return st(this._lat,e._lat)||st(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,s){if(n.length!==s.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=/^__.*__$/;class fO{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new ai(e,this.data,this.fieldMask,r,this.fieldTransforms):new Yl(e,this.data,r,this.fieldTransforms)}}class c2{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new ai(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function u2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve()}}class cg{constructor(e,r,n,s,i,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new cg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.Fu({path:n,xu:!1});return s.Ou(e),s}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.Fu({path:n,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Ku(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(u2(this.Cu)&&hO.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class pO{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Ud(e)}Qu(e,r,n,s=!1){return new cg({Cu:e,methodName:r,qu:n,path:nr.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gd(t){const e=t._freezeSettings(),r=Ud(t._databaseId);return new pO(t._databaseId,!!e.ignoreUndefinedProperties,r)}function d2(t,e,r,n,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,r,s);dg("Data must be an object, but it was:",o,n);const a=h2(n,o);let l,d;if(i.merge)l=new Xr(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=fp(e,f,r);if(!o.contains(p))throw new be(ie.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);p2(h,p)||h.push(p)}l=new Xr(h),d=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,d=o.fieldTransforms;return new fO(new qr(a),l,d)}class Qd extends Kd{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qd}}class ug extends Kd{_toFieldTransform(e){return new fN(e.path,new Ol)}isEqual(e){return e instanceof ug}}function mO(t,e,r,n){const s=t.Qu(1,e,r);dg("Data must be an object, but it was:",s,n);const i=[],o=qr.empty();Xi(n,(l,d)=>{const h=hg(e,l,r);d=xt(d);const f=s.Nu(h);if(d instanceof Qd)i.push(h);else{const p=ec(d,f);p!=null&&(i.push(h),o.set(h,p))}});const a=new Xr(i);return new c2(o,a,s.fieldTransforms)}function gO(t,e,r,n,s,i){const o=t.Qu(1,e,r),a=[fp(e,n,r)],l=[s];if(i.length%2!=0)throw new be(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(fp(e,i[p])),l.push(i[p+1]);const d=[],h=qr.empty();for(let p=a.length-1;p>=0;--p)if(!p2(d,a[p])){const v=a[p];let b=l[p];b=xt(b);const w=o.Nu(v);if(b instanceof Qd)d.push(v);else{const _=ec(b,w);_!=null&&(d.push(v),h.set(v,_))}}const f=new Xr(d);return new c2(h,f,o.fieldTransforms)}function vO(t,e,r,n=!1){return ec(r,t.Qu(n?4:3,e))}function ec(t,e){if(f2(t=xt(t)))return dg("Unsupported field value:",e,t),h2(t,e);if(t instanceof Kd)return function(n,s){if(!u2(s.Cu))throw s.Bu(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,s){const i=[];let o=0;for(const a of n){let l=ec(a,s.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,s){if((n=xt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return uN(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=zt.fromDate(n);return{timestampValue:qu(s.serializer,i)}}if(n instanceof zt){const i=new zt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:qu(s.serializer,i)}}if(n instanceof ag)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Jo)return{bytesValue:Ok(s.serializer,n._byteString)};if(n instanceof Sr){const i=s.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:zm(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof lg)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return jm(a.serializer,l)})}}}}}}(n,s);throw s.Bu(`Unsupported field value: ${qd(n)}`)}(t,e)}function h2(t,e){const r={};return ck(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Xi(t,(n,s)=>{const i=ec(s,e.Mu(n));i!=null&&(r[n]=i)}),{mapValue:{fields:r}}}function f2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof zt||t instanceof ag||t instanceof Jo||t instanceof Sr||t instanceof Kd||t instanceof lg)}function dg(t,e,r){if(!f2(r)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(r)){const n=qd(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function fp(t,e,r){if((e=xt(e))instanceof Wd)return e._internalPath;if(typeof e=="string")return hg(t,e);throw Ku("Field path arguments must be of type string or ",t,!1,void 0,r)}const yO=new RegExp("[~\\*/\\[\\]]");function hg(t,e,r){if(e.search(yO)>=0)throw Ku(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Wd(...e.split("."))._internalPath}catch{throw Ku(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Ku(t,e,r,n,s){const i=n&&!n.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;r&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${n}`),o&&(l+=` in document ${s}`),l+=")"),new be(ie.INVALID_ARGUMENT,a+t+l)}function p2(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,r,n,s,i){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Sr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Yd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class bO extends m2{data(){return super.data()}}function Yd(t,e){return typeof e=="string"?hg(t,e):e instanceof Wd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new be(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fg{}class pg extends fg{}function vi(t,e,...r){let n=[];e instanceof fg&&n.push(e),n=n.concat(r),function(i){const o=i.filter(l=>l instanceof mg).length,a=i.filter(l=>l instanceof Jd).length;if(o>1||o>0&&a>0)throw new be(ie.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)t=s._apply(t);return t}class Jd extends pg{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Jd(e,r,n)}_apply(e){const r=this._parse(e);return v2(e._query,r),new gs(e.firestore,e.converter,sp(e._query,r))}_parse(e){const r=Gd(e.firestore);return function(i,o,a,l,d,h,f){let p;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new be(ie.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){ub(f,h);const v=[];for(const b of f)v.push(cb(l,i,b));p={arrayValue:{values:v}}}else p=cb(l,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||ub(f,h),p=vO(a,o,f,h==="in"||h==="not-in");return qt.create(d,h,p)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Fa(t,e,r){const n=e,s=Yd("where",t);return Jd._create(s,n,r)}class mg extends fg{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new mg(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Rn.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)v2(o,l),o=sp(o,l)}(e._query,r),new gs(e.firestore,e.converter,sp(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class gg extends pg{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new gg(e,r)}_apply(e){const r=function(s,i,o){if(s.startAt!==null)throw new be(ie.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new be(ie.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new $l(i,o)}(e._query,this._field,this._direction);return new gs(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new aa(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,r))}}function Ua(t,e="asc"){const r=e,n=Yd("orderBy",t);return gg._create(n,r)}class vg extends pg{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new vg(e,r,n)}_apply(e){return new gs(e.firestore,e.converter,ju(e._query,this._limit,this._limitType))}}function xO(t){return cO("limit",t),vg._create("limit",t,"F")}function cb(t,e,r){if(typeof(r=xt(r))=="string"){if(r==="")throw new be(ie.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yk(e)&&r.indexOf("/")!==-1)throw new be(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(wt.fromString(r));if(!Re.isDocumentKey(n))throw new be(ie.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Py(t,new Re(n))}if(r instanceof Sr)return Py(t,r._key);throw new be(ie.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${qd(r)}.`)}function ub(t,e){if(!Array.isArray(t)||t.length===0)throw new be(ie.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function v2(t,e){const r=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new be(ie.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new be(ie.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class _O{convertValue(e,r="none"){switch(Fi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Li(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Xi(e,(s,i)=>{n[s]=this.convertValue(i,r)}),n}convertVectorValue(e){var r,n,s;const i=(s=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||s===void 0?void 0:s.map(o=>Vt(o.doubleValue));return new lg(i)}convertGeoPoint(e){return new ag(Vt(e.latitude),Vt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=Vm(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Pl(e));default:return null}}convertTimestamp(e){const r=ei(e);return new zt(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=wt.fromString(e);ht(Uk(n));const s=new Rl(n.get(1),n.get(3)),i=new Re(n.popFirst(5));return s.isEqual(r)||us(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ja{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class b2 extends m2{constructor(e,r,n,s,i,o){super(e,r,n,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new au(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(Yd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class au extends b2{data(e={}){return super.data(e)}}class x2{constructor(e,r,n,s){this._firestore=e,this._userDataWriter=r,this._snapshot=s,this.metadata=new ja(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new au(this._firestore,this._userDataWriter,n.key,n,new ja(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new be(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new au(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ja(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new au(s._firestore,s._userDataWriter,a.doc.key,a.doc,new ja(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:wO(a.type),doc:l,oldIndex:d,newIndex:h}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function wO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(t){t=zr(t,Sr);const e=zr(t.firestore,hs);return oO(zd(e),t._key).then(r=>_2(e,t,r))}class yg extends _O{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jo(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Sr(this.firestore,null,r)}}function wn(t){t=zr(t,gs);const e=zr(t.firestore,hs),r=zd(e),n=new yg(e);return g2(t._query),aO(r,t._query).then(s=>new x2(e,n,t,s))}function Lc(t,e,r){t=zr(t,Sr);const n=zr(t.firestore,hs),s=y2(t.converter,e,r);return Xd(n,[d2(Gd(n),"setDoc",t._key,s,t.converter!==null,r).toMutation(t._key,mn.none())])}function Ba(t,e,r,...n){t=zr(t,Sr);const s=zr(t.firestore,hs),i=Gd(s);let o;return o=typeof(e=xt(e))=="string"||e instanceof Wd?gO(i,"updateDoc",t._key,e,r,n):mO(i,"updateDoc",t._key,e),Xd(s,[o.toMutation(t._key,mn.exists(!0))])}function db(t){return Xd(zr(t.firestore,hs),[new Bm(t._key,mn.none())])}function bo(t,e){const r=zr(t.firestore,hs),n=$r(t),s=y2(t.converter,e);return Xd(r,[d2(Gd(t.firestore),"addDoc",n._key,s,t.converter!==null,{}).toMutation(n._key,mn.exists(!1))]).then(()=>n)}function kO(t,...e){var r,n,s;t=xt(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||lb(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(lb(e[o])){const f=e[o];e[o]=(r=f.next)===null||r===void 0?void 0:r.bind(f),e[o+1]=(n=f.error)===null||n===void 0?void 0:n.bind(f),e[o+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let l,d,h;if(t instanceof Sr)d=zr(t.firestore,hs),h=Od(t._key.path),l={next:f=>{e[o]&&e[o](_2(d,t,f))},error:e[o+1],complete:e[o+2]};else{const f=zr(t,gs);d=zr(f.firestore,hs),h=f._query;const p=new yg(d);l={next:v=>{e[o]&&e[o](new x2(d,p,f,v))},error:e[o+1],complete:e[o+2]},g2(t._query)}return function(p,v,b,w){const _=new og(w),T=new sg(v,_,b);return p.asyncQueue.enqueueAndForget(async()=>tg(await Wu(p),T)),()=>{_.Za(),p.asyncQueue.enqueueAndForget(async()=>rg(await Wu(p),T))}}(zd(d),h,a,l)}function Xd(t,e){return function(n,s){const i=new is;return n.asyncQueue.enqueueAndForget(async()=>Q$(await iO(n),s,i)),i.promise}(zd(t),e)}function _2(t,e,r){const n=r.docs.get(e._key),s=new yg(t);return new b2(t,s,e._key,n,new ja(r.hasPendingWrites,r.fromCache),e.converter)}function yr(){return new ug("serverTimestamp")}(function(e,r=!0){(function(s){oa=s})(Yi),yn(new rn("firestore",(n,{instanceIdentifier:s,options:i})=>{const o=n.getProvider("app").getImmediate(),a=new hs(new A6(n.getProvider("auth-internal")),new R6(n.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new be(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rl(d.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:r},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Ar(Iy,"4.7.3",e),Ar(Iy,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2="firebasestorage.googleapis.com",k2="storageBucket",EO=2*60*1e3,IO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends xn{constructor(e,r,n=0){super(ef(e),`Firebase Storage: ${r} (${ef(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,dr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ef(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ur;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ur||(ur={}));function ef(t){return"storage/"+t}function TO(){const t="An unknown error occurred, please check the error payload for server response.";return new dr(ur.UNKNOWN,t)}function AO(t){return new dr(ur.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function SO(t){return new dr(ur.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function CO(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new dr(ur.UNAUTHENTICATED,t)}function PO(){return new dr(ur.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function RO(t){return new dr(ur.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function NO(){return new dr(ur.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function $O(){return new dr(ur.CANCELED,"User canceled the upload/download.")}function OO(t){return new dr(ur.INVALID_URL,"Invalid URL '"+t+"'.")}function DO(t){return new dr(ur.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function MO(){return new dr(ur.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+k2+"' property when initializing the app?")}function pp(t){return new dr(ur.INVALID_ARGUMENT,t)}function E2(){return new dr(ur.APP_DELETED,"The Firebase app was deleted.")}function VO(t){return new dr(ur.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Aa(t){throw new dr(ur.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=fn.makeFromUrl(e,r)}catch{return new fn(e,"")}if(n.path==="")return n;throw DO(e)}static makeFromUrl(e,r){let n=null;const s="([A-Za-z0-9.\\-_]+)";function i(N){N.path.charAt(N.path.length-1)==="/"&&(N.path_=N.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function d(N){N.path_=decodeURIComponent(N.path)}const h="v[A-Za-z0-9_]+",f=r.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",v=new RegExp(`^https?://${f}/${h}/b/${s}/o${p}`,"i"),b={bucket:1,path:3},w=r===w2?"(?:storage.googleapis.com|storage.cloud.google.com)":r,_="([^?#]*)",T=new RegExp(`^https?://${w}/${s}/${_}`,"i"),E=[{regex:a,indices:l,postModify:i},{regex:v,indices:b,postModify:d},{regex:T,indices:{bucket:1,path:2},postModify:d}];for(let N=0;N<E.length;N++){const C=E[N],F=C.regex.exec(e);if(F){const I=F[C.indices.bucket];let y=F[C.indices.path];y||(y=""),n=new fn(I,y),C.postModify(n);break}}if(n==null)throw OO(e);return n}}class LO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(t,e,r){let n=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let d=!1;function h(..._){d||(d=!0,e.apply(null,_))}function f(_){s=setTimeout(()=>{s=null,t(v,l())},_)}function p(){i&&clearTimeout(i)}function v(_,...T){if(d){p();return}if(_){p(),h.call(null,_,...T);return}if(l()||o){p(),h.call(null,_,...T);return}n<64&&(n*=2);let E;a===1?(a=2,E=0):E=(n+Math.random())*1e3,f(E)}let b=!1;function w(_){b||(b=!0,p(),!d&&(s!==null?(_||(a=2),clearTimeout(s),f(0)):_||(a=1)))}return f(0),i=setTimeout(()=>{o=!0,w(!0)},r),w}function UO(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(t){return t!==void 0}function hb(t,e,r,n){if(n<e)throw pp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw pp(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function qO(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const s=e(n)+"="+e(t[n]);r=r+s+"&"}return r=r.slice(0,-1),r}var Ri;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ri||(Ri={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(t,e){const r=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return r||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,r,n,s,i,o,a,l,d,h,f,p=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((v,b)=>{this.resolve_=v,this.reject_=b,this.start_()})}start_(){const e=(n,s)=>{if(s){n(!1,new Fc(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,d=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,d)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Ri.NO_ERROR,l=i.getStatus();if(!a||HO(l,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===Ri.ABORT;n(!1,new Fc(!1,null,h));return}const d=this.successCodes_.indexOf(l)!==-1;n(!0,new Fc(d,i))})},r=(n,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());jO(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=TO();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?E2():$O();o(l)}else{const l=NO();o(l)}};this.canceled_?r(!1,new Fc(!1,null,!0)):this.backoffId_=FO(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&UO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Fc{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function WO(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function KO(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function GO(t,e){e&&(t["X-Firebase-GMPID"]=e)}function QO(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function YO(t,e,r,n,s,i,o=!0){const a=qO(t.urlParams),l=t.url+a,d=Object.assign({},t.headers);return GO(d,e),WO(d,r),KO(d,i),QO(d,n),new zO(l,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function XO(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function ZO(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class eD{constructor(e,r,n,s){this.url=e,this.method=r,this.handler=n,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function tD(t){function e(r,n){let s;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?s=PO():s=CO():r.getStatus()===402?s=SO(t.bucket):r.getStatus()===403?s=RO(t.path):s=n,s.status=r.getStatus(),s.serverResponse=n.serverResponse,s}return e}function rD(t){const e=tD(t);function r(n,s){let i=e(n,s);return n.getStatus()===404&&(i=AO(t.path)),i.serverResponse=s.serverResponse,i}return r}function nD(t,e){const r=e.fullServerUrl(),n=BO(r,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(l,d){}const a=new eD(n,s,o,i);return a.successCodes=[200,204],a.errorHandler=rD(e),a}class sD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ri.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ri.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ri.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,s){if(this.sent_)throw Aa("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Aa("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Aa("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Aa("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Aa("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class iD extends sD{initXhr(){this.xhr_.responseType="text"}}function oD(){return new iD}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,r){this._service=e,r instanceof fn?this._location=r:this._location=fn.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new Ui(e,r)}get root(){const e=new fn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ZO(this._location.path)}get storage(){return this._service}get parent(){const e=JO(this._location.path);if(e===null)return null;const r=new fn(this._location.bucket,e);return new Ui(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw VO(e)}}function aD(t){t._throwIfRoot("deleteObject");const e=nD(t.storage,t._location);return t.storage.makeRequestWithTokens(e,oD)}function lD(t,e){const r=XO(t._location.path,e),n=new fn(t._location.bucket,r);return new Ui(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(t){return/^[A-Za-z]+:\/\//.test(t)}function uD(t,e){return new Ui(t,e)}function I2(t,e){if(t instanceof bg){const r=t;if(r._bucket==null)throw MO();const n=new Ui(r,r._bucket);return e!=null?I2(n,e):n}else return e!==void 0?lD(t,e):t}function dD(t,e){if(e&&cD(e)){if(t instanceof bg)return uD(t,e);throw pp("To use ref(service, url), the first argument must be a Storage instance.")}else return I2(t,e)}function fb(t,e){const r=e==null?void 0:e[k2];return r==null?null:fn.makeFromBucketSpec(r,t)}function hD(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:s}=n;s&&(t._overrideAuthToken=typeof s=="string"?s:cw(s,t.app.options.projectId))}class bg{constructor(e,r,n,s,i){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=w2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=EO,this._maxUploadRetryTime=IO,this._requests=new Set,s!=null?this._bucket=fn.makeFromBucketSpec(s,this._host):this._bucket=fb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=fn.makeFromBucketSpec(this._url,e):this._bucket=fb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){hb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){hb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ui(this,e)}_makeRequest(e,r,n,s,i=!0){if(this._deleted)return new LO(E2());{const o=YO(e,this._appId,n,s,r,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[n,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,s).getPromise()}}const pb="@firebase/storage",mb="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2="storage";function fD(t){return t=xt(t),aD(t)}function pD(t,e){return t=xt(t),dD(t,e)}function A2(t=na(),e){t=xt(t);const n=ms(t,T2).getImmediate({identifier:e}),s=wm("storage");return s&&mD(n,...s),n}function mD(t,e,r,n={}){hD(t,e,r,n)}function gD(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new bg(r,n,s,e,Yi)}function vD(){yn(new rn(T2,gD,"PUBLIC").setMultipleInstances(!0)),Ar(pb,mb,""),Ar(pb,mb,"esm2017")}vD();const yD=[{id:"1",name:"Diamond Engagement Ring",description:"Beautiful 1-carat diamond set in 18k rose gold with pavé band",price:2499.99,image:"https://images.unsplash.com/photo-1605100804763-247f67b3557e?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",category:"rings",metal:"rose-gold",tags:["luxury","new-arrivals"],inStock:!0},{id:"2",name:"Pearl Pendant Necklace",description:"Elegant freshwater pearl pendant on sterling silver chain",price:89.99,image:"https://images.unsplash.com/photo-1599643478518-a784e5dc4c8f?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",category:"necklaces",metal:"silver",tags:["under-100","trending"],inStock:!0},{id:"3",name:"Gold Hoop Earrings",description:"Classic 14k gold hoop earrings, perfect for everyday wear",price:349.99,image:"https://images.unsplash.com/photo-1610694955371-d4a3f5146182?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",category:"earrings",metal:"gold",tags:["100-500","trending"],inStock:!0},{id:"4",name:"Platinum Wedding Band",description:"Simple and elegant platinum wedding band with matte finish",price:899.99,image:"https://images.unsplash.com/photo-1575224526797-5730d09d781d?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",category:"rings",metal:"platinum",tags:["500-1000","luxury"],inStock:!0},{id:"5",name:"Silver Charm Bracelet",description:"Adjustable sterling silver bracelet with various charms",price:129.99,image:"https://images.unsplash.com/photo-1618019309815-e5698a9a900a?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",category:"bracelets",metal:"silver",tags:["100-500","trending"],inStock:!0},{id:"6",name:"Luxury Diamond Watch",description:"Premium watch with diamond accents and leather strap",price:3299.99,image:"https://images.unsplash.com/photo-1587836374828-4dbafa94cf0e?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",category:"watches",metal:"gold",tags:["1000-plus","luxury","new-arrivals"],inStock:!0},{id:"7",name:"Rose Gold Tennis Bracelet",description:"Stunning rose gold tennis bracelet with cubic zirconia stones",price:799.99,image:"https://images.unsplash.com/photo-1602173574767-37ac01994b2c?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",category:"bracelets",metal:"rose-gold",tags:["500-1000","new-arrivals"],inStock:!0},{id:"8",name:"Silver Drop Earrings",description:"Elegant sterling silver drop earrings with blue topaz",price:79.99,image:"https://images.unsplash.com/photo-1600721391689-2564bb8055de?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",category:"earrings",metal:"silver",tags:["under-100","sale"],inStock:!0},{id:"9",name:"Platinum Diamond Necklace",description:"Exquisite platinum necklace with 2-carat diamond pendant",price:4999.99,image:"https://images.unsplash.com/photo-1608043152269-423dbba4e7e1?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",category:"necklaces",metal:"platinum",tags:["1000-plus","luxury"],inStock:!0}],Sa={products:yD},bD=[{id:"default-1",name:"Classic Pearl Necklace",description:"Elegant freshwater pearl necklace, perfect for any occasion.",price:129.99,image:"https://via.placeholder.com/400x400?text=Pearl+Necklace",category:"necklaces",material:"Freshwater pearls",beadSize:"8mm",length:"18 inches",closure:"Silver lobster clasp"},{id:"default-2",name:"Amethyst Beaded Bracelet",description:"Stunning amethyst beads with sterling silver accents.",price:79.99,image:"https://via.placeholder.com/400x400?text=Amethyst+Bracelet",category:"bracelets",material:"Amethyst",beadSize:"6mm",length:"7.5 inches",closure:"Toggle clasp"}],wo={getProducts(){return new Promise(t=>{setTimeout(()=>{const e=Sa!=null&&Sa.products&&Sa.products.length>0?Sa.products:bD;t(e)},500)})},getProductById(t){return new Promise(async(e,r)=>{try{const n=await this.getProducts(),s=String(t).toLowerCase();let i=n.find(o=>String(o.id).toLowerCase()===s||String(o.id).toLowerCase().includes(s)||s.includes(String(o.id).toLowerCase()));!i&&n.length>0&&(console.warn(`Product with ID ${t} not found. Using first product as fallback.`),i=n[0]),i?e(i):r(new Error(`Product with ID ${t} not found and no fallbacks available`))}catch(n){r(n)}})},getProduct(t){return this.getProductById(t)},getAllProducts(){return this.getProducts()}},Ts={email:"admin@beabedart.com",password:"Admin@123!",userData:{firstName:"System",lastName:"Administrator",isAdmin:!0,isSuperAdmin:!0,createdAt:new Date}},xD={apiKey:"AIzaSyBPm5bQCfdebLEJlhI_75ytU8eZ_XMhhhs",authDomain:"beadingart-ca4ba.firebaseapp.com",projectId:"beadingart-ca4ba",storageBucket:"beadingart-ca4ba.firebasestorage.app",messagingSenderId:"589402844834",appId:"1:589402844834:web:65a0e51343ab650fc071fb"},S2=Em(xD),pt=l2(S2),_D=A2(S2),ze={async createUserProfile(t,e){const r=$r(pt,"users",t),n={...e,isAdmin:!!e.isAdmin,createdAt:yr(),adminUpdatedAt:yr()};await Lc(r,n),console.log("Created user profile with admin status:",n.isAdmin)},async getUserProfile(t){try{const e=$r(pt,"users",t),r=await ho(e),n=$r(pt,"users","default-admin"),s=await ho(n);if(s.exists()&&s.data().uid===t)return{...s.data(),id:t,isAdmin:!0,isSuperAdmin:!0};if(!r.exists()){const o=localStorage.getItem("userIsAdmin")==="true";return console.log("No user profile found, using stored admin status:",o),o?(await this.createUserProfile(t,{isAdmin:!0}),{id:t,isAdmin:!0}):null}const i=r.data();return i.isAdmin=!!i.isAdmin,i.isAdmin&&localStorage.setItem("userIsAdmin","true"),{id:t,...i,isAdmin:i.isAdmin}}catch(e){console.error("Error getting user profile:",e);const r=localStorage.getItem("userIsAdmin")==="true";return{id:t,isAdmin:r}}},async updateUserProfile(t,e){const r=$r(pt,"users",t);await Lc(r,e,{merge:!0})},async setUserAdminStatus(t,e){try{const r=$r(pt,"users","default-admin"),n=await ho(r);if(n.exists()&&n.data().uid===t)return console.warn("Cannot modify super admin status"),!1;const s=$r(pt,"users",t);return await Ba(s,{isAdmin:!!e,updatedAt:yr(),adminUpdatedAt:yr()}),console.log(`Updated admin status for user ${t} to:`,e),!0}catch(r){throw console.error("Error updating admin status:",r),r}},async submitVariantRequest(t){try{const e=br(pt,"variantRequests"),r={productId:t.productId,productName:t.productName,suggestion:t.suggestion,requestedColors:t.colors||[],userId:t.userId||null,userEmail:t.userEmail||"Anonymous",status:"pending",createdAt:yr(),updatedAt:yr()};return{id:(await bo(e,r)).id,...r}}catch(e){throw console.error("Error submitting variant request:",e),e}},async getVariantRequests(){try{const t=br(pt,"variantRequests"),e=vi(t,Ua("createdAt","desc"));return(await wn(e)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){throw console.error("Error getting variant requests:",t),t}},async getProducts(){try{const t=br(pt,"products"),e=await wn(t);if(e.empty)throw new Error("No products found");return e.docs.map(r=>({id:r.id,...r.data()}))}catch{return console.log("Firebase: falling back to mock data for all products"),wo.getProducts()}},async getFeaturedProducts(t=4){try{const e=br(pt,"products"),r=vi(e,Fa("featured","==",!0),Ua("createdAt","desc")),n=await wn(r);return n.empty?wo.getFeaturedProducts(t):n.docs.map(s=>({id:s.id,...s.data()})).slice(0,t)}catch{return console.log("Firebase: falling back to mock data for featured products"),wo.getFeaturedProducts(t)}},async getProduct(t){try{const e=$r(pt,"products",t),r=await ho(e);if(!r.exists())throw new Error(`Product with ID: ${t} not found`);let n=r.data();return n.variants||(n.variants=[{name:"Default",colors:["#ffffff","#000000"]}]),{id:r.id,...n}}catch{return console.log(`Firebase: falling back to mock data for product ${t}`),wo.getProductById(t)}},async createProduct(t){try{const e=yr(),n={...{materials:"",dimensions:"",careInstructions:`Store in a cool, dry place away from direct sunlight
Avoid contact with perfumes, lotions, and chemicals
Clean gently with a soft, lint-free cloth
Remove before swimming or bathing`,sizingAndFit:"Our standard bracelet length is 7.5 inches. Necklaces are available in 16, 18, and 20 inch lengths. Please contact us for custom sizing.",shippingInfo:"Handmade to order. Please allow 1-3 business days for production plus shipping time.",returnPolicy:"We accept returns within 14 days of delivery for unworn items in original packaging.",...t},createdAt:e,updatedAt:e},s=br(pt,"products");return{id:(await bo(s,n)).id,...n}}catch(e){throw console.error("Error creating product:",e),e}},async updateProduct(t,e){try{const r=$r(pt,"products",t),n={...e,updatedAt:yr()};return await Ba(r,n),{id:t,...n}}catch(r){throw console.error(`Error updating product ${t}:`,r),r}},async deleteProduct(t){try{const e=$r(pt,"products",t),r=await ho(e);if(!r.exists())throw new Error(`Product with ID: ${t} not found`);const n=r.data();if(await db(e),n.images&&Array.isArray(n.images)){const s=n.images.filter(i=>i.startsWith("gs://")||i.includes("firebasestorage.googleapis.com"));for(const i of s)try{let o=i;if(i.includes("firebasestorage.googleapis.com")){const d=new URL(i).pathname.match(/\/o\/(.+)\?/);if(d&&d[1])o=decodeURIComponent(d[1]);else{console.warn(`Could not extract path from URL: ${i}`);continue}}const a=pD(_D,o);await fD(a)}catch(o){console.warn(`Failed to delete image ${i}:`,o)}}return!0}catch(e){throw console.error(`Error deleting product ${t}:`,e),e}},async uploadProductImage(t){try{const r=`${Date.now()}_${t.name}`,n=await this.resizeImage(t,{maxWidth:800,maxHeight:800,quality:.85});if(n.size>500*1024){const s=await this.resizeImage(t,{maxWidth:600,maxHeight:600,quality:.7});if(s.size>500*1024)throw new Error("Image still too large after resizing. Please use a smaller image or reduce its quality.");return this.blobToBase64(s)}return this.blobToBase64(n)}catch(e){throw console.error("Error processing image:",e),new Error(`Failed to process image: ${e.message||"Unknown error"}`)}},blobToBase64(t){return new Promise((e,r)=>{const n=new FileReader;n.onload=()=>{const s=n.result;e(`base64://${s}`)},n.onerror=()=>{r(new Error("Failed to read the image file"))},n.readAsDataURL(t)})},resizeImage(t,e={}){const{maxWidth:r=800,maxHeight:n=800,quality:s=.85}=e;return new Promise((i,o)=>{const a=new FileReader;a.onload=l=>{const d=new Image;d.onload=()=>{let h=d.width,f=d.height;h>r&&(f=Math.round(f*(r/h)),h=r),f>n&&(h=Math.round(h*(n/f)),f=n);const p=document.createElement("canvas");p.width=h,p.height=f,p.getContext("2d").drawImage(d,0,0,h,f);let b=t.type;["image/jpeg","image/png","image/webp"].includes(b)||(b="image/jpeg"),p.toBlob(w=>{w?i(w):o(new Error("Failed to create image blob"))},b,s)},d.onerror=()=>{o(new Error("Failed to load image"))},d.src=l.target.result},a.onerror=()=>{o(new Error("Failed to read file"))},a.readAsDataURL(t)})},async getCategories(){try{const t=br(pt,"categories");return(await wn(t)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){return console.error("Error getting categories:",t),[{id:"beaded",name:"Beaded Jewelry",slug:"beaded-jewelry"},{id:"string",name:"String Jewelry",slug:"string-jewelry"},{id:"metal",name:"Metal Jewelry",slug:"metal-jewelry"},{id:"gemstones",name:"Gemstones",slug:"gemstones"},{id:"earrings",name:"Earrings",slug:"earrings"},{id:"necklaces",name:"Necklaces",slug:"necklaces"},{id:"bracelets",name:"Bracelets",slug:"bracelets"},{id:"rings",name:"Rings",slug:"rings"}]}},async createCategory(t){try{const e=br(pt,"categories");return{id:(await bo(e,{...t,createdAt:yr()})).id,...t}}catch(e){throw console.error("Error creating category:",e),e}},async getAllUsers(){try{const t=br(pt,"users");return(await wn(t)).docs.map(r=>{var n;return{id:r.id,...r.data(),createdAt:((n=r.data().createdAt)==null?void 0:n.toDate())||new Date}})}catch(t){throw console.error("Error getting all users:",t),t}},async updateUser(t,e){try{const r=$r(pt,"users",t);return await Ba(r,{...e,updatedAt:yr()}),!0}catch(r){throw console.error("Error updating user:",r),r}},async deleteUser(t){try{const e=$r(pt,"users",t);return await db(e),!0}catch(e){throw console.error("Error deleting user:",e),e}},async createOrder(t){try{const e=yr(),r={...t,createdAt:e,orderDate:t.orderDate||e,status:t.status||"processing",items:Array.isArray(t.items)?t.items:[]};console.log("Creating order with data:",r);const n=br(pt,"orders");return await bo(n,r)}catch(e){throw console.error("Error creating order:",e),e}},async getUserOrders(t){try{const e=br(pt,"orders"),r=vi(e,Fa("userId","==",t),Ua("createdAt","desc")),n=await wn(r);return n.empty?(console.log(`No orders found for user: ${t}`),[]):n.docs.map(s=>({id:s.id,...s.data()}))}catch(e){if(e.code==="failed-precondition"){console.warn("Creating required index for orders query...");const r=br(pt,"orders"),n=vi(r,Fa("userId","==",t));return(await wn(n)).docs.map(i=>({id:i.id,...i.data()}))}throw e}},async getAllOrders(){try{const t=br(pt,"orders");let e;try{const n=vi(t,Ua("createdAt","desc"));e=await wn(n)}catch(n){console.warn("Index error, using fallback query:",n),e=await wn(t)}return await Promise.all(e.docs.map(async n=>{const s=n.data();let i=s.email,o="";if(s.userId)try{const l=await this.getUserProfile(s.userId);i=i||(l==null?void 0:l.email),(l!=null&&l.firstName||l!=null&&l.lastName)&&(o=`${l.firstName||""} ${l.lastName||""}`.trim())}catch(l){console.warn(`Could not fetch details for user ${s.userId}:`,l)}(s.firstName||s.lastName)&&(o=`${s.firstName||""} ${s.lastName||""}`.trim());let a=[];return Array.isArray(s.items)&&(a=await Promise.all(s.items.map(async l=>{var d;if(l.productId)try{const h=await this.getProduct(l.productId);return{...l,name:h.name||l.name||"Product Not Found",image:((d=h.images)==null?void 0:d[0])||l.image||"/assets/placeholder.jpg"}}catch(h){return console.warn(`Could not fetch product details for ${l.productId}:`,h),l}return l}))),{id:n.id,...s,items:a,customerName:o||"N/A",email:i||"N/A",orderNumber:s.orderNumber||`ORD-${n.id.substring(0,6)}`,status:s.status||"processing"}}))}catch(t){return console.error("Error getting all orders:",t),[]}},async updateOrderStatus(t,e){try{const r=$r(pt,"orders",t);return await Ba(r,{status:e,updatedAt:yr()}),!0}catch(r){throw console.error(`Error updating order ${t}:`,r),r}},getFirestore(){return pt},getCollection(t){return br(pt,t)},async getDocuments(t){return await wn(t)},async seedDefaultAdmin(){try{const t=ia(),e=$r(pt,"users","default-admin");if(!(await ho(e)).exists())try{const n=await Bw(t,Ts.email,Ts.password);await Lc(e,{...Ts.userData,uid:n.user.uid,email:Ts.email,adminCreatedAt:yr()}),console.log("Default admin account created successfully")}catch(n){if(n.code==="auth/email-already-in-use"){const{user:s}=await qw(t,Ts.email,Ts.password);await Lc(e,{...Ts.userData,uid:s.uid,email:Ts.email,adminCreatedAt:yr()},{merge:!0}),console.log("Default admin profile updated")}else throw n}return!0}catch(t){throw console.error("Error seeding default admin:",t),t}},async subscribeToNewsletter(t,e){try{const r=br(pt,"newsletters"),n=vi(r,Fa("email","==",t));if(!(await wn(n)).empty)return{success:!1,message:"This email is already subscribed."};const i={email:t,name:e||"",subscriptionDate:yr(),status:"active"};return{success:!0,message:"Subscription successful!",id:(await bo(r,i)).id}}catch(r){throw console.error("Error subscribing to newsletter:",r),r}}},wD="modulepreload",kD=function(t){return"/"+t},gb={},vb=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=kD(l),l in gb)return;gb[l]=!0;const d=l.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":wD,d||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),d)return new Promise((p,v)=>{f.addEventListener("load",p),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},eo=Ed("cart",()=>{const t=q(JSON.parse(localStorage.getItem("cart"))||[]),e=re(()=>t.value.reduce((l,d)=>l+d.quantity,0)),r=re(()=>t.value.reduce((l,d)=>l+d.price*d.quantity,0)),n=(l,d=1)=>{const h=t.value.find(f=>f.id===l.id);h?h.quantity+=d:t.value.push({id:l.id,name:l.name,price:l.price,image:l.image,quantity:d}),a()},s=l=>{const d=t.value.findIndex(h=>h.id===l);d>-1&&(t.value.splice(d,1),a())},i=(l,d)=>{const h=t.value.find(f=>f.id===l);h&&(h.quantity=d,a())},o=()=>{t.value=[],a()},a=()=>{localStorage.setItem("cart",JSON.stringify(t.value))};return{cart:t,itemCount:e,subtotal:r,addToCart:n,removeFromCart:s,updateQuantity:i,clearCart:o}}),Ye=t=>`KES ${t.toFixed(2)}`,ED="/assets/main-kDEvDXks.css",ID="/assets/placeholder-k9fHw5HI.jpg",C2="/";function Pt(t){if(!t)return new URL("/assets/placeholder-k9fHw5HI.jpg",import.meta.url).href;if(t.startsWith("http"))return t;const e=t.startsWith("/")?t.substring(1):t;try{return new URL(Object.assign({"../assets/main.css":ED,"../assets/placeholder.jpg":ID})[`../assets/${e}`],import.meta.url).href}catch{return`${C2}${e}`}}function cn(t){if(!t)return null;if(t.startsWith("http"))return t;const e=t.startsWith("/")?t.substring(1):t;return`${C2}${e}`}const Gr=(t,e)=>{const r=t.__vccOpts||t;for(const[n,s]of e)r[n]=s;return r},TD={class:"group relative bg-light-primary dark:bg-dark-primary rounded-lg shadow hover:shadow-lg transition-all duration-300"},AD={class:"aspect-h-1 aspect-w-1 w-full overflow-hidden rounded-t-lg bg-light-neutral-100 dark:bg-dark-neutral-800"},SD=["src","alt"],CD={class:"p-4"},PD={class:"items-start"},RD={class:"text-light-text-primary dark:text-dark-text-primary text-lg font-medium hover:text-btn-primary"},ND={class:"text-light-text-secondary dark:text-dark-text-secondary text-sm"},$D={class:"mt-2 flex items-center justify-between"},OD={class:"text-lg font-medium text-purple-700 dark:text-accent-primary"},DD={class:"px-4 pb-4"},MD={__name:"ProductCard",props:{product:{type:Object,required:!0},processImageUrl:{type:Function,default:t=>t}},setup(t){const e=t,r=eo(),n=q(null),s=q(null),i=()=>{const d=Pt("placeholder.jpg");if(e.product.images&&e.product.images.length>0){const h=e.product.images[0];if(typeof h=="string")return o(h);if(h.main)return o(h.main);if(h.url)return o(h.url)}return e.product.image?o(e.product.image):e.product.imageUrl?o(e.product.imageUrl):d},o=d=>d?typeof d=="string"&&d.startsWith("base64://")?d.replace("base64://",""):d:null,a=d=>{console.error("Image failed to load:",d.target.src),d.target.src=Pt("placeholder.jpg"),d.target.onerror=function(){const h=d.target.parentNode;if(h){const f=document.createElement("div");f.innerHTML=`
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="100%" height="100%">
          <rect width="100%" height="100%" fill="#f0f0f0"/>
          <path d="M12 6v12M6 12h12" stroke="#aaa" stroke-width="2" stroke-linecap="round"/>
        </svg>
      `,f.className="broken-image",h.replaceChild(f,d.target)}}},l=async d=>{const h=event.target.getBoundingClientRect(),f=h.left+h.width/2,p=h.top+h.height/2,v=document.querySelector(".group-hover\\:text-gray-500")||document.querySelector('a[href="/cart"] svg');let b=window.innerWidth-60,w=20;if(v){const _=v.getBoundingClientRect();b=_.left+_.width/2,w=_.top+_.height/2}n.value=d,await ir(),s.value?(s.value.style.top=`${p}px`,s.value.style.left=`${f}px`,s.value.style.opacity="1",s.value.style.transform="scale(1)",setTimeout(()=>{s.value.style.top=`${w}px`,s.value.style.left=`${b}px`,s.value.style.opacity="0",s.value.style.transform="scale(0.3)"},50),setTimeout(()=>{r.addToCart(d,1),n.value=null},600)):r.addToCart(d,1)};return(d,h)=>{var p,v;const f=Lr("router-link");return M(),U("div",TD,[n.value?(M(),U("div",{key:0,class:"cart-animation fixed pointer-events-none z-50",ref_key:"cartAnimationEl",ref:s,style:St({backgroundImage:`url(${((p=n.value)==null?void 0:p.imageUrl)||((v=n.value)==null?void 0:v.image)})`})},null,4)):de("",!0),H(f,{to:`/product/${t.product.id}`,class:"cursor-pointer block"},{default:te(()=>[c("div",AD,[c("img",{src:i(),alt:t.product.name,class:"h-60 w-full object-cover object-center group-hover:opacity-90",onError:a},null,40,SD)]),c("div",CD,[c("div",PD,[c("h3",RD,W(t.product.name),1),c("p",ND,W(t.product.category),1),c("div",$D,[c("p",OD,W(B(Ye)(t.product.price)),1)])])])]),_:1},8,["to"]),c("div",DD,[c("button",{onClick:h[0]||(h[0]=b=>l(t.product)),class:"w-full bg-btn-primary hover:bg-btn-primary-hover active:bg-btn-primary-dark text-white py-2 rounded-btn shadow-btn hover:shadow-btn-hover transition-btn text-sm font-medium"}," Add to cart ")])])}}},P2=Gr(MD,[["__scopeId","data-v-3d7a655a"]]),VD={class:"min-h-screen bg-light-primary dark:bg-dark-primary"},LD={class:"relative overflow-hidden bg-light-secondary dark:bg-dark-secondary"},FD={class:"pt-16 pb-80 sm:pt-24 sm:pb-40 lg:pt-40 lg:pb-48"},UD={class:"relative mx-auto max-w-7xl px-4 sm:static sm:px-6 lg:px-8"},jD={class:"sm:max-w-lg fade-slide-up"},BD={class:"text-2xl sm:text-4xl font-bold tracking-tight text-light-text-primary dark:text-dark-text-primary"},qD={class:"animated-text-wrapper"},HD={class:"mt-6 block lg:hidden"},zD={class:"mt-10"},WD={class:"py-16 bg-light-primary dark:bg-dark-primary w-full"},KD={class:"w-full px-4 sm:px-6 lg:px-8 max-w-none mx-auto"},GD={class:"max-w-7xl mx-auto"},QD={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"},YD=["src","alt"],JD={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-300 flex flex-col justify-center items-center p-6"},XD={class:"text-center transform translate-y-8 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-500"},ZD={class:"text-white text-2xl font-bold mb-2"},eM={class:"text-white text-sm mb-4"},tM={class:"bg-light-secondary dark:bg-dark-secondary py-16"},rM={class:"container mx-auto px-4"},nM={class:"flex justify-between items-center mb-10 fade-slide-up"},sM={key:0,class:"flex justify-center py-12"},iM={key:1,class:"text-center py-12"},oM={key:2,class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-6"},aM={class:"bg-light-secondary dark:bg-dark-secondary"},lM={class:"mx-auto grid max-w-2xl grid-cols-1 items-center gap-x-8 gap-y-16 px-4 py-24 sm:px-6 sm:py-32 lg:max-w-7xl lg:grid-cols-2 lg:px-8"},cM={class:"mt-16 grid grid-cols-1 gap-x-6 gap-y-10 sm:grid-cols-2 sm:gap-y-16 lg:gap-x-8"},uM={class:"font-medium text-light-text-primary dark:text-dark-text-primary"},dM={class:"mt-2 text-sm text-light-text-secondary dark:text-dark-text-secondary"},hM={class:"grid grid-cols-2 grid-rows-2 gap-4 sm:gap-6 lg:gap-8"},fM=["src"],pM=["src"],mM=["src"],gM=["src"],vM={class:"relative py-16 overflow-hidden"},yM={class:"mx-auto max-w-2xl lg:max-w-7xl px-4 sm:px-6 lg:px-8"},bM={class:"bg-gradient-to-r from-accent-quaternary to-accent-secondary rounded-xl shadow-xl overflow-hidden"},xM={class:"relative py-10 px-6 md:px-10"},_M={class:"flex flex-col md:flex-row gap-8"},wM={class:"w-full md:w-1/2"},kM={class:"bg-white rounded-xl shadow-md p-6"},EM={class:"pt-2"},IM=["disabled"],TM={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},AM={__name:"HomeView",setup(t){const e=N=>N?typeof N=="string"&&N.startsWith("base64://")?N.replace("base64://",""):(typeof N=="string"&&N.includes("firebasestorage.googleapis.com"),N):"https://via.placeholder.com/300x300?text=No+Image",r=N=>{console.error("Image failed to load:",N.target.src),N.target.src=Pt("placeholder.jpg"),N.target.onerror=function(){const C=N.target.parentNode;if(C){const F=document.createElement("div");F.innerHTML=`
        <svg xmlns="http://www.w3.org/200/svg" viewBox="0 0 24 24" width="100%" height="100%">
          <rect width="100%" height="100%" fill="#f0f0f0"/>
          <path d="M12 6v12M6 12h12" stroke="#aaa" stroke-width="2" stroke-linecap="round"/>
        </svg>
      `,F.className="broken-image",C.replaceChild(F,N.target)}}},n=q([]),s=q([]),i=q([]),o=q(!0);eo();const a=q(null),l=q(null);q([{id:1,title:"Blog Post 1",excerpt:"Lorem ipsum dolor sit amet...",image:"https://via.placeholder.com/400x200?text=Blog+1"},{id:2,title:"Blog Post 2",excerpt:"Consectetur adipiscing elit...",image:"https://via.placeholder.com/400x200?text=Blog+2"},{id:3,title:"Blog Post 3",excerpt:"Sed do eiusmod tempor...",image:"https://via.placeholder.com/400x200?text=Blog+3"}]);const d=[{name:"Materials",description:"Premium glass beads, natural gemstones, and sterling silver components"},{name:"Craftsmanship",description:"Each piece handcrafted by skilled artisans using traditional techniques"},{name:"Customization",description:"Available in various sizes, colors, and custom designs upon request"},{name:"Durability",description:"Double-knotted silk thread and reinforced clasps for everyday wear"},{name:"Care",description:"Store in provided pouch, avoid water exposure, and clean with soft dry cloth"},{name:"Sustainability",description:"Ethically sourced materials and eco-friendly packaging"}],h=q([{name:"Rings",description:"Exquisite engagement rings, wedding bands, and statement pieces crafted with precision and passion.",image:cn("images/Golden Green.jpeg"),category:"rings"},{name:"Necklaces",description:"Elegant pendants and chains designed to complement any outfit and occasion.",image:cn("images/Neeon Moon.jpeg"),category:"necklaces"},{name:"Earrings",description:"From subtle studs to dramatic drops, find the perfect accent for your personal style.",image:cn("images/Auqa Sand.jpeg"),category:"earrings"},{name:"Bracelets",description:"Add sparkle to your wrist with our selection of charm bracelets, bangles, and cuffs.",image:cn("images/Golden black.jpeg"),category:"bracelets"},{name:"Watches",description:"Precision timepieces that combine functionality with sophisticated design.",image:cn("images/Neeon Moon 2.jpeg"),category:"watches"},{name:"Luxury Collection",description:"Exclusive high-end pieces for those special moments that deserve extraordinary jewelry.",image:cn("images/Neeon Moon 3.jpeg"),category:"luxury"}]);function f(){return[{id:"fallback-1",name:"Diamond Ring",category:"rings",price:1299.99,imageUrl:"https://images.unsplash.com/photo-1605100804763-247f67b3557e?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:"fallback-2",name:"Pearl Necklace",category:"necklaces",price:499.99,imageUrl:"https://images.unsplash.com/photo-1608043152269-423dbba4e7e1?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:"fallback-3",name:"Gold Earrings",category:"earrings",price:299.99,imageUrl:"https://images.unsplash.com/photo-1610694955371-d4a3f5146182?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:"fallback-4",name:"Silver Bracelet",category:"bracelets",price:199.99,imageUrl:"https://images.unsplash.com/photo-1602173574767-37ac01994b2c?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"}]}je(async()=>{try{let N;try{const C=await p();C.length>0?(console.log("Loaded products from Firestore:",C.length),N=C):(console.log("No products in Firestore, using service fallback"),N=await ze.getProducts())}catch(C){console.warn("Firebase fetch failed, using mock data:",C),N=await wo.getProducts()}(!N||N.length===0)&&(console.warn("No products found in any source, using fallback data"),N=f()),console.log("Total products loaded:",N.length),n.value=N.slice(0,4),s.value=N.slice(4,8),i.value=N.filter(C=>C.featured||Math.random()>.5).slice(0,8)}catch(N){console.error("Error loading products:",N),i.value=f()}finally{o.value=!1}});const p=async()=>{try{if(!ze.getFirestore())return[];const C=ze.getCollection("products"),F=await ze.getDocuments(C);return F.empty?[]:F.docs.map(I=>{const y=I.data();return{id:I.id,...y,name:y.name||"Unnamed Product",price:y.price||0,category:y.category||"Uncategorized",description:y.description||"",images:y.images||[],image:y.images&&y.images.length>0?y.images[0].startsWith("base64://")?y.images[0].replace("base64://",""):y.images[0]:"https://via.placeholder.com/300x300?text=No+Image"}})}catch(N){return console.error("Error loading products from Firestore:",N),[]}},v=q({name:"",email:"",loading:!1,success:!1,message:""}),b=async()=>{if(v.value.email){v.value.loading=!0,v.value.message="";try{const N=await ze.subscribeToNewsletter(v.value.email,v.value.name);v.value.success=N.success,v.value.message=N.message||"Thank you for subscribing to our newsletter!",N.success&&(v.value.name="",v.value.email="")}catch(N){console.error("Error subscribing to newsletter:",N),v.value.success=!1,v.value.message="Failed to subscribe. Please try again later."}finally{v.value.loading=!1}}},w=q(0),_=["That Elevates Style","With Timeless Beauty","For Every Moment","That Tells Stories","With Perfect Detail","For Your Journey"];je(()=>{setInterval(()=>{w.value=(w.value+1)%_.length},3e3),window.addEventListener("scroll",E)}),Gi(()=>{window.removeEventListener("scroll",E)});const T=q(!1),S=()=>{window.scrollTo({top:0,behavior:"smooth"})},E=()=>{T.value=window.scrollY>500};return(N,C)=>{var I,y;const F=Lr("router-link");return M(),U("div",VD,[a.value?(M(),U("div",{key:0,class:"cart-animation fixed pointer-events-none z-50",ref_key:"cartAnimationEl",ref:l,style:St({backgroundImage:`url(${((I=a.value)==null?void 0:I.image)||((y=a.value)==null?void 0:y.imageUrl)||B(Pt)("placeholder.jpg")})`})},null,4)):de("",!0),ke(c("button",{onClick:S,class:"scroll-to-top-btn fixed bottom-6 right-6 bg-accent-primary hover:bg-accent-secondary text-white rounded-full w-12 h-12 flex items-center justify-center shadow-lg transition-all duration-300 z-50","aria-label":"Scroll to top"},C[2]||(C[2]=[c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",class:"w-6 h-6"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 10l7-7m0 0l7 7m-7-7v18"})],-1)]),512),[[Jp,T.value]]),c("div",LD,[c("div",FD,[c("div",UD,[c("div",jD,[c("h1",BD,[C[3]||(C[3]=ue(" Discover Handcrafted Jewelry ")),c("span",qD,[(M(),U(xe,null,qe(_,(m,k)=>c("span",{key:m,class:$e(["animated-text-item",{active:w.value===k}])},W(m),3)),64))])]),C[5]||(C[5]=c("p",{class:"mt-4 text-xl text-light-text-secondary dark:text-dark-text-secondary"},"Our handcrafted beaded jewelry pieces combine artistry and elegance, adding the perfect colorful accent to enhance any outfit.",-1)),c("div",HD,[H(F,{to:"/products",class:"inline-block rounded-md border border-transparent bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark px-8 py-3 text-center font-medium text-white"},{default:te(()=>C[4]||(C[4]=[ue("Shop Collection")])),_:1})])]),c("div",null,[c("div",zD,[C[7]||(C[7]=Tt('<div aria-hidden="true" class="pointer-events-none lg:absolute lg:inset-y-0 lg:mx-auto lg:w-full lg:max-w-7xl" data-v-338c8e43><div class="absolute transform sm:top-0 sm:left-1/2 sm:translate-x-8 lg:top-1/2 lg:left-1/2 lg:-translate-y-1/2 lg:translate-x-8" data-v-338c8e43><div class="flex items-center justify-center space-x-3 sm:space-x-6 lg:space-x-8 overflow-hidden w-full max-w-screen-sm mx-auto px-4 sm:px-0" data-v-338c8e43><div class="scroll-container w-1/2 sm:w-auto max-w-[45vw] sm:max-w-none" data-v-338c8e43><div class="scroll-content scroll-up" data-v-338c8e43><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-01.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-02.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-03.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-04.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-01.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-02.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-03.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-04.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div></div></div><div class="scroll-container w-1/2 sm:w-auto" data-v-338c8e43><div class="scroll-content scroll-down" data-v-338c8e43><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-04.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-05.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-06.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-07.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-04.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-05.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-06.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-07.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div></div></div><div class="scroll-container hidden sm:block" data-v-338c8e43><div class="scroll-content scroll-up-slow" data-v-338c8e43><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-01.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-02.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-03.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-06.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-01.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-02.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-03.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-06.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div></div></div></div></div></div>',1)),H(F,{to:"/products",class:"hidden lg:inline-block rounded-md border border-transparent bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark px-8 py-3 text-center font-medium text-white"},{default:te(()=>C[6]||(C[6]=[ue("Shop Collection")])),_:1})])])])])]),c("section",WD,[C[9]||(C[9]=c("div",{class:"text-center mb-12 fade-slide-up"},[c("h2",{class:"text-3xl font-bold text-light-text-primary dark:text-dark-text-primary"},"Our Collections")],-1)),c("div",KD,[c("div",GD,[c("div",QD,[(M(!0),U(xe,null,qe(h.value,(m,k)=>(M(),U("div",{key:m.name,class:"collection-card relative overflow-hidden rounded-lg shadow-lg group h-80 fade-slide-up",style:St({animationDelay:k*100+"ms"})},[c("img",{src:e(m.image),alt:m.name,class:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",onError:r},null,40,YD),c("div",JD,[c("div",XD,[c("h3",ZD,W(m.name),1),c("p",eM,W(m.description),1),H(F,{to:`/products?category=${m.category}`,class:"inline-block bg-btn-primary hover:bg-btn-primary-hover text-white font-semibold py-2 px-4 rounded-md transition duration-300"},{default:te(()=>C[8]||(C[8]=[ue(" View Collection ")])),_:2},1032,["to"])])])],4))),128))])])])]),c("section",tM,[c("div",rM,[c("div",nM,[C[11]||(C[11]=c("h2",{class:"text-3xl font-bold text-light-text-primary dark:text-dark-text-primary"},"Featured Products",-1)),H(F,{to:"/products",class:"text-btn-primary hover:text-accent-secondary font-medium"},{default:te(()=>C[10]||(C[10]=[ue(" View all products "),c("span",{"aria-hidden":"true"},"→",-1)])),_:1})]),o.value?(M(),U("div",sM,C[12]||(C[12]=[c("div",{class:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-accent-primary"},null,-1)]))):i.value.length===0?(M(),U("div",iM,C[13]||(C[13]=[c("p",{class:"text-light-neutral-600 dark:text-dark-neutral-600"},"No products found. Please check back later.",-1)]))):(M(),U("div",oM,[(M(!0),U(xe,null,qe(i.value,(m,k)=>(M(),U("div",{key:m.id,class:"relative fade-slide-up",style:St({animationDelay:k*100+"ms"})},[H(P2,{product:m,processImageUrl:e},null,8,["product"])],4))),128))]))])]),c("section",aM,[c("div",lM,[c("div",null,[C[14]||(C[14]=c("h2",{class:"text-3xl font-bold tracking-tight text-light-text-primary dark:text-dark-text-primary sm:text-4xl"},"Craftsmanship Details",-1)),C[15]||(C[15]=c("p",{class:"mt-4 text-light-text-secondary dark:text-dark-text-secondary"},"Our handcrafted beaded jewelry combines traditional techniques with modern design. Each piece is meticulously created using premium materials, ensuring both beauty and durability for everyday wear.",-1)),c("dl",cM,[(M(),U(xe,null,qe(d,m=>c("div",{key:m.name,class:"border-t border-light-neutral-300 dark:border-dark-neutral-700 pt-4"},[c("dt",uM,W(m.name),1),c("dd",dM,W(m.description),1)])),64))])]),c("div",hM,[c("img",{src:B(cn)("images/Auqa Sand.jpeg"),alt:"Close-up of beaded bracelet showing intricate pattern work.",class:"rounded-lg bg-light-neutral-100 dark:bg-dark-neutral-800",onError:r},null,40,fM),c("img",{src:B(cn)("images/Golden black.jpeg"),alt:"Detail view of beaded necklace clasp and finishing.",class:"rounded-lg bg-light-neutral-100 dark:bg-dark-neutral-800",onError:r},null,40,pM),c("img",{src:B(cn)("images/Golden Green.jpeg"),alt:"Arrangement of colorful beads used in our jewelry collection.",class:"rounded-lg bg-light-neutral-100 dark:bg-dark-neutral-800",onError:r},null,40,mM),c("img",{src:B(cn)("images/Neeon Moon 3.jpeg"),alt:"Handcrafting process showing artisan creating a beaded piece.",class:"rounded-lg bg-light-neutral-100 dark:bg-dark-neutral-800",onError:r},null,40,gM)])])]),c("section",vM,[c("div",yM,[c("div",bM,[C[22]||(C[22]=c("div",{class:"absolute inset-0 opacity-10"},[c("div",{class:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmZmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48cGF0aCBkPSJNMzYgMzRjMC0yLjIgMS44LTQgNC00czQgMS44IDQgNC0xLjggNC00IDQtNC0xLjgtNC00TTAgMGg0djRIMHoiLz48L2c+PC9nPjwvZz48L2c+PC9nPjwvZz48L2c+PC9nPjwvZz48L2c+PC9nPjwvZz48L3N2Zz4=')]"})],-1)),c("div",xM,[c("div",_M,[C[21]||(C[21]=Tt('<div class="w-full md:w-1/2 text-white" data-v-338c8e43><span class="inline-block px-3 py-1 bg-white bg-opacity-20 rounded-full text-sm font-semibold mb-4" data-v-338c8e43> Stay Connected </span><h3 class="text-2xl md:text-3xl font-bold mb-4" data-v-338c8e43>Join Our Jewelry Community</h3><p class="text-white text-opacity-90 mb-6" data-v-338c8e43> Subscribe to receive updates on new collections, exclusive offers, and styling tips. </p><div class="flex flex-wrap gap-4 mb-6" data-v-338c8e43><div class="flex items-center" data-v-338c8e43><div class="flex-shrink-0 mr-2" data-v-338c8e43><svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20" data-v-338c8e43><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" data-v-338c8e43></path></svg></div><p class="text-sm" data-v-338c8e43>Early access to sales</p></div><div class="flex items-center" data-v-338c8e43><div class="flex-shrink-0 mr-2" data-v-338c8e43><svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20" data-v-338c8e43><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" data-v-338c8e43></path></svg></div><p class="text-sm" data-v-338c8e43>Exclusive offers</p></div></div></div>',1)),c("div",wM,[c("div",kM,[c("form",{onSubmit:Vr(b,["prevent"]),class:"space-y-4"},[C[19]||(C[19]=c("h4",{class:"text-gray-800 text-xl font-semibold mb-4"},"Subscribe to our newsletter",-1)),c("div",null,[C[16]||(C[16]=c("label",{for:"fullName",class:"block text-sm font-medium text-gray-700 mb-1"},"Full Name",-1)),ke(c("input",{type:"text",id:"fullName","onUpdate:modelValue":C[0]||(C[0]=m=>v.value.name=m),placeholder:"Enter your name",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all"},null,512),[[Pe,v.value.name]])]),c("div",null,[C[17]||(C[17]=c("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-1"},"Email Address",-1)),ke(c("input",{type:"email",id:"email","onUpdate:modelValue":C[1]||(C[1]=m=>v.value.email=m),required:"",placeholder:"Enter your email",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all"},null,512),[[Pe,v.value.email]])]),c("div",EM,[c("button",{type:"submit",class:$e(["w-full bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-medium py-3 px-4 rounded-md transition-all duration-300 flex items-center justify-center",{"opacity-75 cursor-not-allowed":v.value.loading}]),disabled:v.value.loading},[v.value.loading?(M(),U("svg",TM,C[18]||(C[18]=[c("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),c("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):de("",!0),c("span",null,W(v.value.loading?"Subscribing...":"Subscribe Now"),1)],10,IM)]),v.value.message?(M(),U("p",{key:0,class:$e([{"text-green-600":v.value.success,"text-red-600":!v.value.success},"text-sm mt-2 text-center"])},W(v.value.message),3)):de("",!0),C[20]||(C[20]=c("p",{class:"text-xs text-gray-500 text-center mt-4"}," By subscribing, you agree to our Privacy Policy. ",-1))],32)])])])])])])])])}}},yb=Gr(AM,[["__scopeId","data-v-338c8e43"]]),SM=(t,e,r)=>{var s,i;const n=Nn();if(console.log("Checking admin status:",{user:n.user,isAdmin:(s=n.user)==null?void 0:s.isAdmin,authenticated:n.isAuthenticated}),!n.isAuthenticated||!((i=n.user)!=null&&i.isAdmin)){console.log("Access denied: User is not admin"),r("/login");return}r()};function CM(t,e,r){let n=q(r==null?void 0:r.value),s=re(()=>t.value!==void 0);return[re(()=>s.value?t.value:n.value),function(i){return s.value||(n.value=i),e==null?void 0:e(i)}]}function Zd(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function tc(){let t=[],e={addEventListener(r,n,s,i){return r.addEventListener(n,s,i),e.add(()=>r.removeEventListener(n,s,i))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);e.add(()=>cancelAnimationFrame(n))},nextFrame(...r){e.requestAnimationFrame(()=>{e.requestAnimationFrame(...r)})},setTimeout(...r){let n=setTimeout(...r);e.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return Zd(()=>{n.current&&r[0]()}),e.add(()=>{n.current=!1})},style(r,n,s){let i=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:s}),this.add(()=>{Object.assign(r.style,{[n]:i})})},group(r){let n=tc();return r(n),this.add(()=>n.dispose())},add(r){return t.push(r),()=>{let n=t.indexOf(r);if(n>=0)for(let s of t.splice(n,1))s()}},dispose(){for(let r of t.splice(0))r()}};return e}var bb;let PM=Symbol("headlessui.useid"),RM=0;const bn=(bb=V1)!=null?bb:function(){return it(PM,()=>`${++RM}`)()};function Ee(t){var e;if(t==null||t.value==null)return null;let r=(e=t.value.$el)!=null?e:t.value;return r instanceof Node?r:null}function ar(t,e,...r){if(t in e){let s=e[t];return typeof s=="function"?s(...r):s}let n=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ar),n}var NM=Object.defineProperty,$M=(t,e,r)=>e in t?NM(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,xb=(t,e,r)=>($M(t,typeof e!="symbol"?e+"":e,r),r);let OM=class{constructor(){xb(this,"current",this.detect()),xb(this,"currentId",0)}set(e){this.current!==e&&(this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},rc=new OM;function vs(t){if(rc.isServer)return null;if(t instanceof Node)return t.ownerDocument;if(t!=null&&t.hasOwnProperty("value")){let e=Ee(t);if(e)return e.ownerDocument}return document}let mp=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var jt=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(jt||{}),ko=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(ko||{}),DM=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(DM||{});function R2(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(mp)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var xg=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(xg||{});function _g(t,e=0){var r;return t===((r=vs(t))==null?void 0:r.body)?!1:ar(e,{0(){return t.matches(mp)},1(){let n=t;for(;n!==null;){if(n.matches(mp))return!0;n=n.parentElement}return!1}})}function N2(t){let e=vs(t);ir(()=>{e&&!_g(e.activeElement,0)&&Qs(t)})}var MM=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(MM||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Qs(t){t==null||t.focus({preventScroll:!0})}let VM=["textarea","input"].join(",");function LM(t){var e,r;return(r=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,VM))!=null?r:!1}function yi(t,e=r=>r){return t.slice().sort((r,n)=>{let s=e(r),i=e(n);if(s===null||i===null)return 0;let o=s.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function FM(t,e){return kn(R2(),e,{relativeTo:t})}function kn(t,e,{sorted:r=!0,relativeTo:n=null,skipElements:s=[]}={}){var i;let o=(i=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t==null?void 0:t.ownerDocument)!=null?i:document,a=Array.isArray(t)?r?yi(t):t:R2(t);s.length>0&&a.length>1&&(a=a.filter(b=>!s.includes(b))),n=n??o.activeElement;let l=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,a.indexOf(n))-1;if(e&4)return Math.max(0,a.indexOf(n))+1;if(e&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),h=e&32?{preventScroll:!0}:{},f=0,p=a.length,v;do{if(f>=p||f+p<=0)return 0;let b=d+f;if(e&16)b=(b+p)%p;else{if(b<0)return 3;if(b>=p)return 1}v=a[b],v==null||v.focus(h),f+=l}while(v!==o.activeElement);return e&6&&LM(v)&&v.select(),2}function $2(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function UM(){return/Android/gi.test(window.navigator.userAgent)}function jM(){return $2()||UM()}function Uc(t,e,r){rc.isServer||lr(n=>{document.addEventListener(t,e,r),n(()=>document.removeEventListener(t,e,r))})}function O2(t,e,r){rc.isServer||lr(n=>{window.addEventListener(t,e,r),n(()=>window.removeEventListener(t,e,r))})}function D2(t,e,r=re(()=>!0)){function n(i,o){if(!r.value||i.defaultPrevented)return;let a=o(i);if(a===null||!a.getRootNode().contains(a))return;let l=function d(h){return typeof h=="function"?d(h()):Array.isArray(h)||h instanceof Set?h:[h]}(t);for(let d of l){if(d===null)continue;let h=d instanceof HTMLElement?d:Ee(d);if(h!=null&&h.contains(a)||i.composed&&i.composedPath().includes(h))return}return!_g(a,xg.Loose)&&a.tabIndex!==-1&&i.preventDefault(),e(i,a)}let s=q(null);Uc("pointerdown",i=>{var o,a;r.value&&(s.value=((a=(o=i.composedPath)==null?void 0:o.call(i))==null?void 0:a[0])||i.target)},!0),Uc("mousedown",i=>{var o,a;r.value&&(s.value=((a=(o=i.composedPath)==null?void 0:o.call(i))==null?void 0:a[0])||i.target)},!0),Uc("click",i=>{jM()||s.value&&(n(i,()=>s.value),s.value=null)},!0),Uc("touchend",i=>n(i,()=>i.target instanceof HTMLElement?i.target:null),!0),O2("blur",i=>n(i,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function _b(t,e){if(t)return t;let r=e??"button";if(typeof r=="string"&&r.toLowerCase()==="button")return"button"}function eh(t,e){let r=q(_b(t.value.type,t.value.as));return je(()=>{r.value=_b(t.value.type,t.value.as)}),lr(()=>{var n;r.value||Ee(e)&&Ee(e)instanceof HTMLButtonElement&&!((n=Ee(e))!=null&&n.hasAttribute("type"))&&(r.value="button")}),r}function wb(t){return[t.screenX,t.screenY]}function BM(){let t=q([-1,-1]);return{wasMoved(e){let r=wb(e);return t.value[0]===r[0]&&t.value[1]===r[1]?!1:(t.value=r,!0)},update(e){t.value=wb(e)}}}function qM({container:t,accept:e,walk:r,enabled:n}){lr(()=>{let s=t.value;if(!s||n!==void 0&&!n.value)return;let i=vs(t);if(!i)return;let o=Object.assign(l=>e(l),{acceptNode:e}),a=i.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,o,!1);for(;a.nextNode();)r(a.currentNode)})}var Bn=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Bn||{}),js=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(js||{});function $t({visible:t=!0,features:e=0,ourProps:r,theirProps:n,...s}){var i;let o=V2(n,r),a=Object.assign(s,{props:o});if(t||e&2&&o.static)return tf(a);if(e&1){let l=(i=o.unmount)==null||i?0:1;return ar(l,{0(){return null},1(){return tf({...s,props:{...o,hidden:!0,style:{display:"none"}}})}})}return tf(a)}function tf({props:t,attrs:e,slots:r,slot:n,name:s}){var i,o;let{as:a,...l}=th(t,["unmount","static"]),d=(i=r.default)==null?void 0:i.call(r,n),h={};if(n){let f=!1,p=[];for(let[v,b]of Object.entries(n))typeof b=="boolean"&&(f=!0),b===!0&&p.push(v);f&&(h["data-headlessui-state"]=p.join(" "))}if(a==="template"){if(d=M2(d??[]),Object.keys(l).length>0||Object.keys(e).length>0){let[f,...p]=d??[];if(!zM(f)||p.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${s} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(l).concat(Object.keys(e)).map(w=>w.trim()).filter((w,_,T)=>T.indexOf(w)===_).sort((w,_)=>w.localeCompare(_)).map(w=>`  - ${w}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(w=>`  - ${w}`).join(`
`)].join(`
`));let v=V2((o=f.props)!=null?o:{},l,h),b=Sn(f,v,!0);for(let w in v)w.startsWith("on")&&(b.props||(b.props={}),b.props[w]=v[w]);return b}return Array.isArray(d)&&d.length===1?d[0]:d}return yt(a,Object.assign({},l,h),{default:()=>d})}function M2(t){return t.flatMap(e=>e.type===xe?M2(e.children):[e])}function V2(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let s in n)s.startsWith("on")&&typeof n[s]=="function"?(r[s]!=null||(r[s]=[]),r[s].push(n[s])):e[s]=n[s];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(r).map(n=>[n,void 0])));for(let n in r)Object.assign(e,{[n](s,...i){let o=r[n];for(let a of o){if(s instanceof Event&&s.defaultPrevented)return;a(s,...i)}}});return e}function HM(t){let e=Object.assign({},t);for(let r in e)e[r]===void 0&&delete e[r];return e}function th(t,e=[]){let r=Object.assign({},t);for(let n of e)n in r&&delete r[n];return r}function zM(t){return t==null?!1:typeof t.type=="string"||typeof t.type=="object"||typeof t.type=="function"}var Xo=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(Xo||{});let Zo=Ze({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(t,{slots:e,attrs:r}){return()=>{var n;let{features:s,...i}=t,o={"aria-hidden":(s&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(s&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(s&4)===4&&(s&2)!==2&&{display:"none"}}};return $t({ourProps:o,theirProps:i,slot:{},attrs:r,slots:e,name:"Hidden"})}}}),L2=Symbol("Context");var Lt=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Lt||{});function WM(){return nc()!==null}function nc(){return it(L2,null)}function wg(t){Ht(L2,t)}var Xe=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Xe||{});function KM(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let bi=[];KM(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&bi[0]!==e.target&&(bi.unshift(e.target),bi=bi.filter(r=>r!=null&&r.isConnected),bi.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function GM(t){throw new Error("Unexpected object: "+t)}var Zr=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(Zr||{});function QM(t,e){let r=e.resolveItems();if(r.length<=0)return null;let n=e.resolveActiveIndex(),s=n??-1;switch(t.focus){case 0:{for(let i=0;i<r.length;++i)if(!e.resolveDisabled(r[i],i,r))return i;return n}case 1:{s===-1&&(s=r.length);for(let i=s-1;i>=0;--i)if(!e.resolveDisabled(r[i],i,r))return i;return n}case 2:{for(let i=s+1;i<r.length;++i)if(!e.resolveDisabled(r[i],i,r))return i;return n}case 3:{for(let i=r.length-1;i>=0;--i)if(!e.resolveDisabled(r[i],i,r))return i;return n}case 4:{for(let i=0;i<r.length;++i)if(e.resolveId(r[i],i,r)===t.id)return i;return n}case 5:return null;default:GM(t)}}function YM(t){var e,r;let n=(e=t==null?void 0:t.form)!=null?e:t.closest("form");if(n){for(let s of n.elements)if(s!==t&&(s.tagName==="INPUT"&&s.type==="submit"||s.tagName==="BUTTON"&&s.type==="submit"||s.nodeName==="INPUT"&&s.type==="image")){s.click();return}(r=n.requestSubmit)==null||r.call(n)}}function F2(t,e,r,n){rc.isServer||lr(s=>{t=t??window,t.addEventListener(e,r,n),s(()=>t.removeEventListener(e,r,n))})}var qa=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(qa||{});function JM(){let t=q(0);return O2("keydown",e=>{e.key==="Tab"&&(t.value=e.shiftKey?1:0)}),t}function U2(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let r of t.value){let n=Ee(r);n instanceof HTMLElement&&e.add(n)}return e}var j2=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(j2||{});let Ca=Object.assign(Ze({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:q(new Set)}},inheritAttrs:!1,setup(t,{attrs:e,slots:r,expose:n}){let s=q(null);n({el:s,$el:s});let i=re(()=>vs(s)),o=q(!1);je(()=>o.value=!0),Wt(()=>o.value=!1),ZM({ownerDocument:i},re(()=>o.value&&!!(t.features&16)));let a=e9({ownerDocument:i,container:s,initialFocus:re(()=>t.initialFocus)},re(()=>o.value&&!!(t.features&2)));t9({ownerDocument:i,container:s,containers:t.containers,previousActiveElement:a},re(()=>o.value&&!!(t.features&8)));let l=JM();function d(v){let b=Ee(s);b&&(w=>w())(()=>{ar(l.value,{[qa.Forwards]:()=>{kn(b,jt.First,{skipElements:[v.relatedTarget]})},[qa.Backwards]:()=>{kn(b,jt.Last,{skipElements:[v.relatedTarget]})}})})}let h=q(!1);function f(v){v.key==="Tab"&&(h.value=!0,requestAnimationFrame(()=>{h.value=!1}))}function p(v){if(!o.value)return;let b=U2(t.containers);Ee(s)instanceof HTMLElement&&b.add(Ee(s));let w=v.relatedTarget;w instanceof HTMLElement&&w.dataset.headlessuiFocusGuard!=="true"&&(B2(b,w)||(h.value?kn(Ee(s),ar(l.value,{[qa.Forwards]:()=>jt.Next,[qa.Backwards]:()=>jt.Previous})|jt.WrapAround,{relativeTo:v.target}):v.target instanceof HTMLElement&&Qs(v.target)))}return()=>{let v={},b={ref:s,onKeydown:f,onFocusout:p},{features:w,initialFocus:_,containers:T,...S}=t;return yt(xe,[!!(w&4)&&yt(Zo,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:Xo.Focusable}),$t({ourProps:b,theirProps:{...e,...S},slot:v,attrs:e,slots:r,name:"FocusTrap"}),!!(w&4)&&yt(Zo,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:Xo.Focusable})])}}}),{features:j2});function XM(t){let e=q(bi.slice());return Rt([t],([r],[n])=>{n===!0&&r===!1?Zd(()=>{e.value.splice(0)}):n===!1&&r===!0&&(e.value=bi.slice())},{flush:"post"}),()=>{var r;return(r=e.value.find(n=>n!=null&&n.isConnected))!=null?r:null}}function ZM({ownerDocument:t},e){let r=XM(e);je(()=>{lr(()=>{var n,s;e.value||((n=t.value)==null?void 0:n.activeElement)===((s=t.value)==null?void 0:s.body)&&Qs(r())},{flush:"post"})}),Wt(()=>{e.value&&Qs(r())})}function e9({ownerDocument:t,container:e,initialFocus:r},n){let s=q(null),i=q(!1);return je(()=>i.value=!0),Wt(()=>i.value=!1),je(()=>{Rt([e,r,n],(o,a)=>{if(o.every((d,h)=>(a==null?void 0:a[h])===d)||!n.value)return;let l=Ee(e);l&&Zd(()=>{var d,h;if(!i.value)return;let f=Ee(r),p=(d=t.value)==null?void 0:d.activeElement;if(f){if(f===p){s.value=p;return}}else if(l.contains(p)){s.value=p;return}f?Qs(f):kn(l,jt.First|jt.NoScroll)===ko.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),s.value=(h=t.value)==null?void 0:h.activeElement})},{immediate:!0,flush:"post"})}),s}function t9({ownerDocument:t,container:e,containers:r,previousActiveElement:n},s){var i;F2((i=t.value)==null?void 0:i.defaultView,"focus",o=>{if(!s.value)return;let a=U2(r);Ee(e)instanceof HTMLElement&&a.add(Ee(e));let l=n.value;if(!l)return;let d=o.target;d&&d instanceof HTMLElement?B2(a,d)?(n.value=d,Qs(d)):(o.preventDefault(),o.stopPropagation(),Qs(l)):Qs(n.value)},!0)}function B2(t,e){for(let r of t)if(r.contains(e))return!0;return!1}function r9(t){let e=ud(t.getSnapshot());return Wt(t.subscribe(()=>{e.value=t.getSnapshot()})),e}function n9(t,e){let r=t(),n=new Set;return{getSnapshot(){return r},subscribe(s){return n.add(s),()=>n.delete(s)},dispatch(s,...i){let o=e[s].call(r,...i);o&&(r=o,n.forEach(a=>a()))}}}function s9(){let t;return{before({doc:e}){var r;let n=e.documentElement;t=((r=e.defaultView)!=null?r:window).innerWidth-n.clientWidth},after({doc:e,d:r}){let n=e.documentElement,s=n.clientWidth-n.offsetWidth,i=t-s;r.style(n,"paddingRight",`${i}px`)}}}function i9(){return $2()?{before({doc:t,d:e,meta:r}){function n(s){return r.containers.flatMap(i=>i()).some(i=>i.contains(s))}e.microTask(()=>{var s;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=tc();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let i=(s=window.scrollY)!=null?s:window.pageYOffset,o=null;e.addEventListener(t,"click",a=>{if(a.target instanceof HTMLElement)try{let l=a.target.closest("a");if(!l)return;let{hash:d}=new URL(l.href),h=t.querySelector(d);h&&!n(h)&&(o=h)}catch{}},!0),e.addEventListener(t,"touchstart",a=>{if(a.target instanceof HTMLElement)if(n(a.target)){let l=a.target;for(;l.parentElement&&n(l.parentElement);)l=l.parentElement;e.style(l,"overscrollBehavior","contain")}else e.style(a.target,"touchAction","none")}),e.addEventListener(t,"touchmove",a=>{if(a.target instanceof HTMLElement){if(a.target.tagName==="INPUT")return;if(n(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;i!==l&&window.scrollTo(0,i),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function o9(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function a9(t){let e={};for(let r of t)Object.assign(e,r(e));return e}let ki=n9(()=>new Map,{PUSH(t,e){var r;let n=(r=this.get(t))!=null?r:{doc:t,count:0,d:tc(),meta:new Set};return n.count++,n.meta.add(e),this.set(t,n),this},POP(t,e){let r=this.get(t);return r&&(r.count--,r.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:r}){let n={doc:t,d:e,meta:a9(r)},s=[i9(),s9(),o9()];s.forEach(({before:i})=>i==null?void 0:i(n)),s.forEach(({after:i})=>i==null?void 0:i(n))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});ki.subscribe(()=>{let t=ki.getSnapshot(),e=new Map;for(let[r]of t)e.set(r,r.documentElement.style.overflow);for(let r of t.values()){let n=e.get(r.doc)==="hidden",s=r.count!==0;(s&&!n||!s&&n)&&ki.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&ki.dispatch("TEARDOWN",r)}});function l9(t,e,r){let n=r9(ki),s=re(()=>{let i=t.value?n.value.get(t.value):void 0;return i?i.count>0:!1});return Rt([t,e],([i,o],[a],l)=>{if(!i||!o)return;ki.dispatch("PUSH",i,r);let d=!1;l(()=>{d||(ki.dispatch("POP",a??i,r),d=!0)})},{immediate:!0}),s}let rf=new Map,Pa=new Map;function kb(t,e=q(!0)){lr(r=>{var n;if(!e.value)return;let s=Ee(t);if(!s)return;r(function(){var o;if(!s)return;let a=(o=Pa.get(s))!=null?o:1;if(a===1?Pa.delete(s):Pa.set(s,a-1),a!==1)return;let l=rf.get(s);l&&(l["aria-hidden"]===null?s.removeAttribute("aria-hidden"):s.setAttribute("aria-hidden",l["aria-hidden"]),s.inert=l.inert,rf.delete(s))});let i=(n=Pa.get(s))!=null?n:0;Pa.set(s,i+1),i===0&&(rf.set(s,{"aria-hidden":s.getAttribute("aria-hidden"),inert:s.inert}),s.setAttribute("aria-hidden","true"),s.inert=!0)})}function c9({defaultContainers:t=[],portals:e,mainTreeNodeRef:r}={}){let n=q(null),s=vs(n);function i(){var o,a,l;let d=[];for(let h of t)h!==null&&(h instanceof HTMLElement?d.push(h):"value"in h&&h.value instanceof HTMLElement&&d.push(h.value));if(e!=null&&e.value)for(let h of e.value)d.push(h);for(let h of(o=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?o:[])h!==document.body&&h!==document.head&&h instanceof HTMLElement&&h.id!=="headlessui-portal-root"&&(h.contains(Ee(n))||h.contains((l=(a=Ee(n))==null?void 0:a.getRootNode())==null?void 0:l.host)||d.some(f=>h.contains(f))||d.push(h));return d}return{resolveContainers:i,contains(o){return i().some(a=>a.contains(o))},mainTreeNodeRef:n,MainTreeNode(){return r!=null?null:yt(Zo,{features:Xo.Hidden,ref:n})}}}let q2=Symbol("ForcePortalRootContext");function u9(){return it(q2,!1)}let Eb=Ze({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(t,{slots:e,attrs:r}){return Ht(q2,t.force),()=>{let{force:n,...s}=t;return $t({theirProps:s,ourProps:{},slot:{},slots:e,attrs:r,name:"ForcePortalRoot"})}}}),H2=Symbol("StackContext");var gp=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(gp||{});function d9(){return it(H2,()=>{})}function h9({type:t,enabled:e,element:r,onUpdate:n}){let s=d9();function i(...o){n==null||n(...o),s(...o)}je(()=>{Rt(e,(o,a)=>{o?i(0,t,r):a===!0&&i(1,t,r)},{immediate:!0,flush:"sync"})}),Wt(()=>{e.value&&i(1,t,r)}),Ht(H2,i)}let f9=Symbol("DescriptionContext");function p9({slot:t=q({}),name:e="Description",props:r={}}={}){let n=q([]);function s(i){return n.value.push(i),()=>{let o=n.value.indexOf(i);o!==-1&&n.value.splice(o,1)}}return Ht(f9,{register:s,slot:t,name:e,props:r}),re(()=>n.value.length>0?n.value.join(" "):void 0)}function m9(t){let e=vs(t);if(!e){if(t===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${t}`)}let r=e.getElementById("headlessui-portal-root");if(r)return r;let n=e.createElement("div");return n.setAttribute("id","headlessui-portal-root"),e.body.appendChild(n)}const vp=new WeakMap;function g9(t){var e;return(e=vp.get(t))!=null?e:0}function Ib(t,e){let r=e(g9(t));return r<=0?vp.delete(t):vp.set(t,r),r}let v9=Ze({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(t,{slots:e,attrs:r}){let n=q(null),s=re(()=>vs(n)),i=u9(),o=it(z2,null),a=q(i===!0||o==null?m9(n.value):o.resolveTarget());a.value&&Ib(a.value,p=>p+1);let l=q(!1);je(()=>{l.value=!0}),lr(()=>{i||o!=null&&(a.value=o.resolveTarget())});let d=it(yp,null),h=!1,f=sn();return Rt(n,()=>{if(h||!d)return;let p=Ee(n);p&&(Wt(d.register(p),f),h=!0)}),Wt(()=>{var p,v;let b=(p=s.value)==null?void 0:p.getElementById("headlessui-portal-root");!b||a.value!==b||Ib(a.value,w=>w-1)||a.value.children.length>0||(v=a.value.parentElement)==null||v.removeChild(a.value)}),()=>{if(!l.value||a.value===null)return null;let p={ref:n,"data-headlessui-portal":""};return yt(Fp,{to:a.value},$t({ourProps:p,theirProps:t,slot:{},attrs:r,slots:e,name:"Portal"}))}}}),yp=Symbol("PortalParentContext");function y9(){let t=it(yp,null),e=q([]);function r(i){return e.value.push(i),t&&t.register(i),()=>n(i)}function n(i){let o=e.value.indexOf(i);o!==-1&&e.value.splice(o,1),t&&t.unregister(i)}let s={register:r,unregister:n,portals:e};return[e,Ze({name:"PortalWrapper",setup(i,{slots:o}){return Ht(yp,s),()=>{var a;return(a=o.default)==null?void 0:a.call(o)}}})]}let z2=Symbol("PortalGroupContext"),b9=Ze({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(t,{attrs:e,slots:r}){let n=gn({resolveTarget(){return t.target}});return Ht(z2,n),()=>{let{target:s,...i}=t;return $t({theirProps:i,ourProps:{},slot:{},attrs:e,slots:r,name:"PortalGroup"})}}});var x9=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(x9||{});let bp=Symbol("DialogContext");function kg(t){let e=it(bp,null);if(e===null){let r=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,kg),r}return e}let jc="DC8F892D-2EBD-447C-A4C8-A03058436FF4",rh=Ze({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:jc},initialFocus:{type:Object,default:null},id:{type:String,default:null},role:{type:String,default:"dialog"}},emits:{close:t=>!0},setup(t,{emit:e,attrs:r,slots:n,expose:s}){var i,o;let a=(i=t.id)!=null?i:`headlessui-dialog-${bn()}`,l=q(!1);je(()=>{l.value=!0});let d=!1,h=re(()=>t.role==="dialog"||t.role==="alertdialog"?t.role:(d||(d=!0,console.warn(`Invalid role [${h}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")),f=q(0),p=nc(),v=re(()=>t.open===jc&&p!==null?(p.value&Lt.Open)===Lt.Open:t.open),b=q(null),w=re(()=>vs(b));if(s({el:b,$el:b}),!(t.open!==jc||p!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof v.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${v.value===jc?void 0:t.open}`);let _=re(()=>l.value&&v.value?0:1),T=re(()=>_.value===0),S=re(()=>f.value>1),E=it(bp,null)!==null,[N,C]=y9(),{resolveContainers:F,mainTreeNodeRef:I,MainTreeNode:y}=c9({portals:N,defaultContainers:[re(()=>{var Ie;return(Ie=oe.panelRef.value)!=null?Ie:b.value})]}),m=re(()=>S.value?"parent":"leaf"),k=re(()=>p!==null?(p.value&Lt.Closing)===Lt.Closing:!1),$=re(()=>E||k.value?!1:T.value),P=re(()=>{var Ie,Te,Le;return(Le=Array.from((Te=(Ie=w.value)==null?void 0:Ie.querySelectorAll("body > *"))!=null?Te:[]).find(ot=>ot.id==="headlessui-portal-root"?!1:ot.contains(Ee(I))&&ot instanceof HTMLElement))!=null?Le:null});kb(P,$);let R=re(()=>S.value?!0:T.value),le=re(()=>{var Ie,Te,Le;return(Le=Array.from((Te=(Ie=w.value)==null?void 0:Ie.querySelectorAll("[data-headlessui-portal]"))!=null?Te:[]).find(ot=>ot.contains(Ee(I))&&ot instanceof HTMLElement))!=null?Le:null});kb(le,R),h9({type:"Dialog",enabled:re(()=>_.value===0),element:b,onUpdate:(Ie,Te)=>{if(Te==="Dialog")return ar(Ie,{[gp.Add]:()=>f.value+=1,[gp.Remove]:()=>f.value-=1})}});let Y=p9({name:"DialogDescription",slot:re(()=>({open:v.value}))}),L=q(null),oe={titleId:L,panelRef:q(null),dialogState:_,setTitleId(Ie){L.value!==Ie&&(L.value=Ie)},close(){e("close",!1)}};Ht(bp,oe);let G=re(()=>!(!T.value||S.value));D2(F,(Ie,Te)=>{Ie.preventDefault(),oe.close(),ir(()=>Te==null?void 0:Te.focus())},G);let ge=re(()=>!(S.value||_.value!==0));F2((o=w.value)==null?void 0:o.defaultView,"keydown",Ie=>{ge.value&&(Ie.defaultPrevented||Ie.key===Xe.Escape&&(Ie.preventDefault(),Ie.stopPropagation(),oe.close()))});let Se=re(()=>!(k.value||_.value!==0||E));return l9(w,Se,Ie=>{var Te;return{containers:[...(Te=Ie.containers)!=null?Te:[],F]}}),lr(Ie=>{if(_.value!==0)return;let Te=Ee(b);if(!Te)return;let Le=new ResizeObserver(ot=>{for(let Et of ot){let mt=Et.target.getBoundingClientRect();mt.x===0&&mt.y===0&&mt.width===0&&mt.height===0&&oe.close()}});Le.observe(Te),Ie(()=>Le.disconnect())}),()=>{let{open:Ie,initialFocus:Te,...Le}=t,ot={...r,ref:b,id:a,role:h.value,"aria-modal":_.value===0?!0:void 0,"aria-labelledby":L.value,"aria-describedby":Y.value},Et={open:_.value===0};return yt(Eb,{force:!0},()=>[yt(v9,()=>yt(b9,{target:b.value},()=>yt(Eb,{force:!1},()=>yt(Ca,{initialFocus:Te,containers:F,features:T.value?ar(m.value,{parent:Ca.features.RestoreFocus,leaf:Ca.features.All&~Ca.features.FocusLock}):Ca.features.None},()=>yt(C,{},()=>$t({ourProps:ot,theirProps:{...Le,...r},slot:Et,attrs:r,slots:n,visible:_.value===0,features:Bn.RenderStrategy|Bn.Static,name:"Dialog"})))))),yt(y)])}}}),nh=Ze({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:null}},setup(t,{attrs:e,slots:r,expose:n}){var s;let i=(s=t.id)!=null?s:`headlessui-dialog-panel-${bn()}`,o=kg("DialogPanel");n({el:o.panelRef,$el:o.panelRef});function a(l){l.stopPropagation()}return()=>{let{...l}=t,d={id:i,ref:o.panelRef,onClick:a};return $t({ourProps:d,theirProps:l,slot:{open:o.dialogState.value===0},attrs:e,slots:r,name:"DialogPanel"})}}}),W2=Ze({name:"DialogTitle",props:{as:{type:[Object,String],default:"h2"},id:{type:String,default:null}},setup(t,{attrs:e,slots:r}){var n;let s=(n=t.id)!=null?n:`headlessui-dialog-title-${bn()}`,i=kg("DialogTitle");return je(()=>{i.setTitleId(s),Wt(()=>i.setTitleId(null))}),()=>{let{...o}=t;return $t({ourProps:{id:s},theirProps:o,slot:{open:i.dialogState.value===0},attrs:e,slots:r,name:"DialogTitle"})}}});var _9=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(_9||{});let K2=Symbol("DisclosureContext");function Eg(t){let e=it(K2,null);if(e===null){let r=new Error(`<${t} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Eg),r}return e}let G2=Symbol("DisclosurePanelContext");function w9(){return it(G2,null)}let Gu=Ze({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(t,{slots:e,attrs:r}){let n=q(t.defaultOpen?0:1),s=q(null),i=q(null),o={buttonId:q(`headlessui-disclosure-button-${bn()}`),panelId:q(`headlessui-disclosure-panel-${bn()}`),disclosureState:n,panel:s,button:i,toggleDisclosure(){n.value=ar(n.value,{0:1,1:0})},closeDisclosure(){n.value!==1&&(n.value=1)},close(a){o.closeDisclosure();let l=a?a instanceof HTMLElement?a:a.value instanceof HTMLElement?Ee(a):Ee(o.button):Ee(o.button);l==null||l.focus()}};return Ht(K2,o),wg(re(()=>ar(n.value,{0:Lt.Open,1:Lt.Closed}))),()=>{let{defaultOpen:a,...l}=t,d={open:n.value===0,close:o.close};return $t({theirProps:l,ourProps:{},slot:d,slots:e,attrs:r,name:"Disclosure"})}}}),Qu=Ze({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(t,{attrs:e,slots:r,expose:n}){let s=Eg("DisclosureButton"),i=w9(),o=re(()=>i===null?!1:i.value===s.panelId.value);je(()=>{o.value||t.id!==null&&(s.buttonId.value=t.id)}),Wt(()=>{o.value||(s.buttonId.value=null)});let a=q(null);n({el:a,$el:a}),o.value||lr(()=>{s.button.value=a.value});let l=eh(re(()=>({as:t.as,type:e.type})),a);function d(){var p;t.disabled||(o.value?(s.toggleDisclosure(),(p=Ee(s.button))==null||p.focus()):s.toggleDisclosure())}function h(p){var v;if(!t.disabled)if(o.value)switch(p.key){case Xe.Space:case Xe.Enter:p.preventDefault(),p.stopPropagation(),s.toggleDisclosure(),(v=Ee(s.button))==null||v.focus();break}else switch(p.key){case Xe.Space:case Xe.Enter:p.preventDefault(),p.stopPropagation(),s.toggleDisclosure();break}}function f(p){switch(p.key){case Xe.Space:p.preventDefault();break}}return()=>{var p;let v={open:s.disclosureState.value===0},{id:b,...w}=t,_=o.value?{ref:a,type:l.value,onClick:d,onKeydown:h}:{id:(p=s.buttonId.value)!=null?p:b,ref:a,type:l.value,"aria-expanded":s.disclosureState.value===0,"aria-controls":s.disclosureState.value===0||Ee(s.panel)?s.panelId.value:void 0,disabled:t.disabled?!0:void 0,onClick:d,onKeydown:h,onKeyup:f};return $t({ourProps:_,theirProps:w,slot:v,attrs:e,slots:r,name:"DisclosureButton"})}}}),Yu=Ze({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(t,{attrs:e,slots:r,expose:n}){let s=Eg("DisclosurePanel");je(()=>{t.id!==null&&(s.panelId.value=t.id)}),Wt(()=>{s.panelId.value=null}),n({el:s.panel,$el:s.panel}),Ht(G2,s.panelId);let i=nc(),o=re(()=>i!==null?(i.value&Lt.Open)===Lt.Open:s.disclosureState.value===0);return()=>{var a;let l={open:s.disclosureState.value===0,close:s.close},{id:d,...h}=t,f={id:(a=s.panelId.value)!=null?a:d,ref:s.panel};return $t({ourProps:f,theirProps:h,slot:l,attrs:e,slots:r,features:Bn.RenderStrategy|Bn.Static,visible:o.value,name:"DisclosurePanel"})}}}),Tb=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Ab(t){var e,r;let n=(e=t.innerText)!=null?e:"",s=t.cloneNode(!0);if(!(s instanceof HTMLElement))return n;let i=!1;for(let a of s.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),i=!0;let o=i?(r=s.innerText)!=null?r:"":n;return Tb.test(o)&&(o=o.replace(Tb,"")),o}function k9(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let r=t.getAttribute("aria-labelledby");if(r){let n=r.split(" ").map(s=>{let i=document.getElementById(s);if(i){let o=i.getAttribute("aria-label");return typeof o=="string"?o.trim():Ab(i).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return Ab(t).trim()}function E9(t){let e=q(""),r=q("");return()=>{let n=Ee(t);if(!n)return"";let s=n.innerText;if(e.value===s)return r.value;let i=k9(n).trim().toLowerCase();return e.value=s,r.value=i,i}}var I9=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(I9||{}),T9=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(T9||{});function A9(t){requestAnimationFrame(()=>requestAnimationFrame(t))}let Q2=Symbol("MenuContext");function sh(t){let e=it(Q2,null);if(e===null){let r=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,sh),r}return e}let Y2=Ze({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(t,{slots:e,attrs:r}){let n=q(1),s=q(null),i=q(null),o=q([]),a=q(""),l=q(null),d=q(1);function h(p=v=>v){let v=l.value!==null?o.value[l.value]:null,b=yi(p(o.value.slice()),_=>Ee(_.dataRef.domRef)),w=v?b.indexOf(v):null;return w===-1&&(w=null),{items:b,activeItemIndex:w}}let f={menuState:n,buttonRef:s,itemsRef:i,items:o,searchQuery:a,activeItemIndex:l,activationTrigger:d,closeMenu:()=>{n.value=1,l.value=null},openMenu:()=>n.value=0,goToItem(p,v,b){let w=h(),_=QM(p===Zr.Specific?{focus:Zr.Specific,id:v}:{focus:p},{resolveItems:()=>w.items,resolveActiveIndex:()=>w.activeItemIndex,resolveId:T=>T.id,resolveDisabled:T=>T.dataRef.disabled});a.value="",l.value=_,d.value=b??1,o.value=w.items},search(p){let v=a.value!==""?0:1;a.value+=p.toLowerCase();let b=(l.value!==null?o.value.slice(l.value+v).concat(o.value.slice(0,l.value+v)):o.value).find(_=>_.dataRef.textValue.startsWith(a.value)&&!_.dataRef.disabled),w=b?o.value.indexOf(b):-1;w===-1||w===l.value||(l.value=w,d.value=1)},clearSearch(){a.value=""},registerItem(p,v){let b=h(w=>[...w,{id:p,dataRef:v}]);o.value=b.items,l.value=b.activeItemIndex,d.value=1},unregisterItem(p){let v=h(b=>{let w=b.findIndex(_=>_.id===p);return w!==-1&&b.splice(w,1),b});o.value=v.items,l.value=v.activeItemIndex,d.value=1}};return D2([s,i],(p,v)=>{var b;f.closeMenu(),_g(v,xg.Loose)||(p.preventDefault(),(b=Ee(s))==null||b.focus())},re(()=>n.value===0)),Ht(Q2,f),wg(re(()=>ar(n.value,{0:Lt.Open,1:Lt.Closed}))),()=>{let p={open:n.value===0,close:f.closeMenu};return $t({ourProps:{},theirProps:t,slot:p,slots:e,attrs:r,name:"Menu"})}}}),J2=Ze({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(t,{attrs:e,slots:r,expose:n}){var s;let i=(s=t.id)!=null?s:`headlessui-menu-button-${bn()}`,o=sh("MenuButton");n({el:o.buttonRef,$el:o.buttonRef});function a(f){switch(f.key){case Xe.Space:case Xe.Enter:case Xe.ArrowDown:f.preventDefault(),f.stopPropagation(),o.openMenu(),ir(()=>{var p;(p=Ee(o.itemsRef))==null||p.focus({preventScroll:!0}),o.goToItem(Zr.First)});break;case Xe.ArrowUp:f.preventDefault(),f.stopPropagation(),o.openMenu(),ir(()=>{var p;(p=Ee(o.itemsRef))==null||p.focus({preventScroll:!0}),o.goToItem(Zr.Last)});break}}function l(f){switch(f.key){case Xe.Space:f.preventDefault();break}}function d(f){t.disabled||(o.menuState.value===0?(o.closeMenu(),ir(()=>{var p;return(p=Ee(o.buttonRef))==null?void 0:p.focus({preventScroll:!0})})):(f.preventDefault(),o.openMenu(),A9(()=>{var p;return(p=Ee(o.itemsRef))==null?void 0:p.focus({preventScroll:!0})})))}let h=eh(re(()=>({as:t.as,type:e.type})),o.buttonRef);return()=>{var f;let p={open:o.menuState.value===0},{...v}=t,b={ref:o.buttonRef,id:i,type:h.value,"aria-haspopup":"menu","aria-controls":(f=Ee(o.itemsRef))==null?void 0:f.id,"aria-expanded":o.menuState.value===0,onKeydown:a,onKeyup:l,onClick:d};return $t({ourProps:b,theirProps:v,slot:p,attrs:e,slots:r,name:"MenuButton"})}}}),X2=Ze({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(t,{attrs:e,slots:r,expose:n}){var s;let i=(s=t.id)!=null?s:`headlessui-menu-items-${bn()}`,o=sh("MenuItems"),a=q(null);n({el:o.itemsRef,$el:o.itemsRef}),qM({container:re(()=>Ee(o.itemsRef)),enabled:re(()=>o.menuState.value===0),accept(p){return p.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:p.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(p){p.setAttribute("role","none")}});function l(p){var v;switch(a.value&&clearTimeout(a.value),p.key){case Xe.Space:if(o.searchQuery.value!=="")return p.preventDefault(),p.stopPropagation(),o.search(p.key);case Xe.Enter:if(p.preventDefault(),p.stopPropagation(),o.activeItemIndex.value!==null){let b=o.items.value[o.activeItemIndex.value];(v=Ee(b.dataRef.domRef))==null||v.click()}o.closeMenu(),N2(Ee(o.buttonRef));break;case Xe.ArrowDown:return p.preventDefault(),p.stopPropagation(),o.goToItem(Zr.Next);case Xe.ArrowUp:return p.preventDefault(),p.stopPropagation(),o.goToItem(Zr.Previous);case Xe.Home:case Xe.PageUp:return p.preventDefault(),p.stopPropagation(),o.goToItem(Zr.First);case Xe.End:case Xe.PageDown:return p.preventDefault(),p.stopPropagation(),o.goToItem(Zr.Last);case Xe.Escape:p.preventDefault(),p.stopPropagation(),o.closeMenu(),ir(()=>{var b;return(b=Ee(o.buttonRef))==null?void 0:b.focus({preventScroll:!0})});break;case Xe.Tab:p.preventDefault(),p.stopPropagation(),o.closeMenu(),ir(()=>FM(Ee(o.buttonRef),p.shiftKey?jt.Previous:jt.Next));break;default:p.key.length===1&&(o.search(p.key),a.value=setTimeout(()=>o.clearSearch(),350));break}}function d(p){switch(p.key){case Xe.Space:p.preventDefault();break}}let h=nc(),f=re(()=>h!==null?(h.value&Lt.Open)===Lt.Open:o.menuState.value===0);return()=>{var p,v;let b={open:o.menuState.value===0},{...w}=t,_={"aria-activedescendant":o.activeItemIndex.value===null||(p=o.items.value[o.activeItemIndex.value])==null?void 0:p.id,"aria-labelledby":(v=Ee(o.buttonRef))==null?void 0:v.id,id:i,onKeydown:l,onKeyup:d,role:"menu",tabIndex:0,ref:o.itemsRef};return $t({ourProps:_,theirProps:w,slot:b,attrs:e,slots:r,features:Bn.RenderStrategy|Bn.Static,visible:f.value,name:"MenuItems"})}}}),Ha=Ze({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(t,{slots:e,attrs:r,expose:n}){var s;let i=(s=t.id)!=null?s:`headlessui-menu-item-${bn()}`,o=sh("MenuItem"),a=q(null);n({el:a,$el:a});let l=re(()=>o.activeItemIndex.value!==null?o.items.value[o.activeItemIndex.value].id===i:!1),d=E9(a),h=re(()=>({disabled:t.disabled,get textValue(){return d()},domRef:a}));je(()=>o.registerItem(i,h)),Wt(()=>o.unregisterItem(i)),lr(()=>{o.menuState.value===0&&l.value&&o.activationTrigger.value!==0&&ir(()=>{var T,S;return(S=(T=Ee(a))==null?void 0:T.scrollIntoView)==null?void 0:S.call(T,{block:"nearest"})})});function f(T){if(t.disabled)return T.preventDefault();o.closeMenu(),N2(Ee(o.buttonRef))}function p(){if(t.disabled)return o.goToItem(Zr.Nothing);o.goToItem(Zr.Specific,i)}let v=BM();function b(T){v.update(T)}function w(T){v.wasMoved(T)&&(t.disabled||l.value||o.goToItem(Zr.Specific,i,0))}function _(T){v.wasMoved(T)&&(t.disabled||l.value&&o.goToItem(Zr.Nothing))}return()=>{let{disabled:T,...S}=t,E={active:l.value,disabled:T,close:o.closeMenu};return $t({ourProps:{id:i,ref:a,role:"menuitem",tabIndex:T===!0?void 0:-1,"aria-disabled":T===!0?!0:void 0,onClick:f,onFocus:p,onPointerenter:b,onMouseenter:b,onPointermove:w,onMousemove:w,onPointerleave:_,onMouseleave:_},theirProps:{...r,...S},slot:E,attrs:r,slots:e,name:"MenuItem"})}}}),S9=Symbol("GroupContext"),C9=Ze({name:"Switch",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:null},disabled:{type:Boolean,default:!1},tabIndex:{type:Number,default:0}},inheritAttrs:!1,setup(t,{emit:e,attrs:r,slots:n,expose:s}){var i;let o=(i=t.id)!=null?i:`headlessui-switch-${bn()}`,a=it(S9,null),[l,d]=CM(re(()=>t.modelValue),S=>e("update:modelValue",S),re(()=>t.defaultChecked));function h(){d(!l.value)}let f=q(null),p=a===null?f:a.switchRef,v=eh(re(()=>({as:t.as,type:r.type})),p);s({el:p,$el:p});function b(S){S.preventDefault(),h()}function w(S){S.key===Xe.Space?(S.preventDefault(),h()):S.key===Xe.Enter&&YM(S.currentTarget)}function _(S){S.preventDefault()}let T=re(()=>{var S,E;return(E=(S=Ee(p))==null?void 0:S.closest)==null?void 0:E.call(S,"form")});return je(()=>{Rt([T],()=>{if(!T.value||t.defaultChecked===void 0)return;function S(){d(t.defaultChecked)}return T.value.addEventListener("reset",S),()=>{var E;(E=T.value)==null||E.removeEventListener("reset",S)}},{immediate:!0})}),()=>{let{name:S,value:E,form:N,tabIndex:C,...F}=t,I={checked:l.value},y={id:o,ref:p,role:"switch",type:v.value,tabIndex:C===-1?0:C,"aria-checked":l.value,"aria-labelledby":a==null?void 0:a.labelledby.value,"aria-describedby":a==null?void 0:a.describedby.value,onClick:b,onKeyup:w,onKeypress:_};return yt(xe,[S!=null&&l.value!=null?yt(Zo,HM({features:Xo.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:l.value,form:N,disabled:F.disabled,name:S,value:E})):null,$t({ourProps:y,theirProps:{...r,...th(F,["modelValue","defaultChecked"])},slot:I,attrs:r,slots:n,name:"Switch"})])}}}),P9=Ze({props:{onFocus:{type:Function,required:!0}},setup(t){let e=q(!0);return()=>e.value?yt(Zo,{as:"button",type:"button",features:Xo.Focusable,onFocus(r){r.preventDefault();let n,s=50;function i(){var o;if(s--<=0){n&&cancelAnimationFrame(n);return}if((o=t.onFocus)!=null&&o.call(t)){e.value=!1,cancelAnimationFrame(n);return}n=requestAnimationFrame(i)}n=requestAnimationFrame(i)}}):null}});var R9=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(R9||{}),N9=(t=>(t[t.Less=-1]="Less",t[t.Equal=0]="Equal",t[t.Greater=1]="Greater",t))(N9||{});let Z2=Symbol("TabsContext");function sc(t){let e=it(Z2,null);if(e===null){let r=new Error(`<${t} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,sc),r}return e}let Ig=Symbol("TabsSSRContext"),$9=Ze({name:"TabGroup",emits:{change:t=>!0},props:{as:{type:[Object,String],default:"template"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(t,{slots:e,attrs:r,emit:n}){var s;let i=q((s=t.selectedIndex)!=null?s:t.defaultIndex),o=q([]),a=q([]),l=re(()=>t.selectedIndex!==null),d=re(()=>l.value?t.selectedIndex:i.value);function h(w){var _;let T=yi(f.tabs.value,Ee),S=yi(f.panels.value,Ee),E=T.filter(N=>{var C;return!((C=Ee(N))!=null&&C.hasAttribute("disabled"))});if(w<0||w>T.length-1){let N=ar(i.value===null?0:Math.sign(w-i.value),{[-1]:()=>1,0:()=>ar(Math.sign(w),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0}),C=ar(N,{0:()=>T.indexOf(E[0]),1:()=>T.indexOf(E[E.length-1])});C!==-1&&(i.value=C),f.tabs.value=T,f.panels.value=S}else{let N=T.slice(0,w),C=[...T.slice(w),...N].find(I=>E.includes(I));if(!C)return;let F=(_=T.indexOf(C))!=null?_:f.selectedIndex.value;F===-1&&(F=f.selectedIndex.value),i.value=F,f.tabs.value=T,f.panels.value=S}}let f={selectedIndex:re(()=>{var w,_;return(_=(w=i.value)!=null?w:t.defaultIndex)!=null?_:null}),orientation:re(()=>t.vertical?"vertical":"horizontal"),activation:re(()=>t.manual?"manual":"auto"),tabs:o,panels:a,setSelectedIndex(w){d.value!==w&&n("change",w),l.value||h(w)},registerTab(w){var _;if(o.value.includes(w))return;let T=o.value[i.value];if(o.value.push(w),o.value=yi(o.value,Ee),!l.value){let S=(_=o.value.indexOf(T))!=null?_:i.value;S!==-1&&(i.value=S)}},unregisterTab(w){let _=o.value.indexOf(w);_!==-1&&o.value.splice(_,1)},registerPanel(w){a.value.includes(w)||(a.value.push(w),a.value=yi(a.value,Ee))},unregisterPanel(w){let _=a.value.indexOf(w);_!==-1&&a.value.splice(_,1)}};Ht(Z2,f);let p=q({tabs:[],panels:[]}),v=q(!1);je(()=>{v.value=!0}),Ht(Ig,re(()=>v.value?null:p.value));let b=re(()=>t.selectedIndex);return je(()=>{Rt([b],()=>{var w;return h((w=t.selectedIndex)!=null?w:t.defaultIndex)},{immediate:!0})}),lr(()=>{if(!l.value||d.value==null||f.tabs.value.length<=0)return;let w=yi(f.tabs.value,Ee);w.some((_,T)=>Ee(f.tabs.value[T])!==Ee(_))&&f.setSelectedIndex(w.findIndex(_=>Ee(_)===Ee(f.tabs.value[d.value])))}),()=>{let w={selectedIndex:i.value};return yt(xe,[o.value.length<=0&&yt(P9,{onFocus:()=>{for(let _ of o.value){let T=Ee(_);if((T==null?void 0:T.tabIndex)===0)return T.focus(),!0}return!1}}),$t({theirProps:{...r,...th(t,["selectedIndex","defaultIndex","manual","vertical","onChange"])},ourProps:{},slot:w,slots:e,attrs:r,name:"TabGroup"})])}}}),O9=Ze({name:"TabList",props:{as:{type:[Object,String],default:"div"}},setup(t,{attrs:e,slots:r}){let n=sc("TabList");return()=>{let s={selectedIndex:n.selectedIndex.value},i={role:"tablist","aria-orientation":n.orientation.value};return $t({ourProps:i,theirProps:t,slot:s,attrs:e,slots:r,name:"TabList"})}}}),Sb=Ze({name:"Tab",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(t,{attrs:e,slots:r,expose:n}){var s;let i=(s=t.id)!=null?s:`headlessui-tabs-tab-${bn()}`,o=sc("Tab"),a=q(null);n({el:a,$el:a}),je(()=>o.registerTab(a)),Wt(()=>o.unregisterTab(a));let l=it(Ig),d=re(()=>{if(l.value){let S=l.value.tabs.indexOf(i);return S===-1?l.value.tabs.push(i)-1:S}return-1}),h=re(()=>{let S=o.tabs.value.indexOf(a);return S===-1?d.value:S}),f=re(()=>h.value===o.selectedIndex.value);function p(S){var E;let N=S();if(N===ko.Success&&o.activation.value==="auto"){let C=(E=vs(a))==null?void 0:E.activeElement,F=o.tabs.value.findIndex(I=>Ee(I)===C);F!==-1&&o.setSelectedIndex(F)}return N}function v(S){let E=o.tabs.value.map(N=>Ee(N)).filter(Boolean);if(S.key===Xe.Space||S.key===Xe.Enter){S.preventDefault(),S.stopPropagation(),o.setSelectedIndex(h.value);return}switch(S.key){case Xe.Home:case Xe.PageUp:return S.preventDefault(),S.stopPropagation(),p(()=>kn(E,jt.First));case Xe.End:case Xe.PageDown:return S.preventDefault(),S.stopPropagation(),p(()=>kn(E,jt.Last))}if(p(()=>ar(o.orientation.value,{vertical(){return S.key===Xe.ArrowUp?kn(E,jt.Previous|jt.WrapAround):S.key===Xe.ArrowDown?kn(E,jt.Next|jt.WrapAround):ko.Error},horizontal(){return S.key===Xe.ArrowLeft?kn(E,jt.Previous|jt.WrapAround):S.key===Xe.ArrowRight?kn(E,jt.Next|jt.WrapAround):ko.Error}}))===ko.Success)return S.preventDefault()}let b=q(!1);function w(){var S;b.value||(b.value=!0,!t.disabled&&((S=Ee(a))==null||S.focus({preventScroll:!0}),o.setSelectedIndex(h.value),Zd(()=>{b.value=!1})))}function _(S){S.preventDefault()}let T=eh(re(()=>({as:t.as,type:e.type})),a);return()=>{var S,E;let N={selected:f.value,disabled:(S=t.disabled)!=null?S:!1},{...C}=t,F={ref:a,onKeydown:v,onMousedown:_,onClick:w,id:i,role:"tab",type:T.value,"aria-controls":(E=Ee(o.panels.value[h.value]))==null?void 0:E.id,"aria-selected":f.value,tabIndex:f.value?0:-1,disabled:t.disabled?!0:void 0};return $t({ourProps:F,theirProps:C,slot:N,attrs:e,slots:r,name:"Tab"})}}}),D9=Ze({name:"TabPanels",props:{as:{type:[Object,String],default:"div"}},setup(t,{slots:e,attrs:r}){let n=sc("TabPanels");return()=>{let s={selectedIndex:n.selectedIndex.value};return $t({theirProps:t,ourProps:{},slot:s,attrs:r,slots:e,name:"TabPanels"})}}}),Cb=Ze({name:"TabPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null},tabIndex:{type:Number,default:0}},setup(t,{attrs:e,slots:r,expose:n}){var s;let i=(s=t.id)!=null?s:`headlessui-tabs-panel-${bn()}`,o=sc("TabPanel"),a=q(null);n({el:a,$el:a}),je(()=>o.registerPanel(a)),Wt(()=>o.unregisterPanel(a));let l=it(Ig),d=re(()=>{if(l.value){let p=l.value.panels.indexOf(i);return p===-1?l.value.panels.push(i)-1:p}return-1}),h=re(()=>{let p=o.panels.value.indexOf(a);return p===-1?d.value:p}),f=re(()=>h.value===o.selectedIndex.value);return()=>{var p;let v={selected:f.value},{tabIndex:b,...w}=t,_={ref:a,id:i,role:"tabpanel","aria-labelledby":(p=Ee(o.tabs.value[h.value]))==null?void 0:p.id,tabIndex:f.value?b:-1};return!f.value&&t.unmount&&!t.static?yt(Zo,{as:"span","aria-hidden":!0,..._}):$t({ourProps:_,theirProps:w,slot:v,attrs:e,slots:r,features:Bn.Static|Bn.RenderStrategy,visible:f.value,name:"TabPanel"})}}});function M9(t){let e={called:!1};return(...r)=>{if(!e.called)return e.called=!0,t(...r)}}function nf(t,...e){t&&e.length>0&&t.classList.add(...e)}function Bc(t,...e){t&&e.length>0&&t.classList.remove(...e)}var xp=(t=>(t.Finished="finished",t.Cancelled="cancelled",t))(xp||{});function V9(t,e){let r=tc();if(!t)return r.dispose;let{transitionDuration:n,transitionDelay:s}=getComputedStyle(t),[i,o]=[n,s].map(a=>{let[l=0]=a.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,h)=>h-d);return l});return i!==0?r.setTimeout(()=>e("finished"),i+o):e("finished"),r.add(()=>e("cancelled")),r.dispose}function Pb(t,e,r,n,s,i){let o=tc(),a=i!==void 0?M9(i):()=>{};return Bc(t,...s),nf(t,...e,...r),o.nextFrame(()=>{Bc(t,...r),nf(t,...n),o.add(V9(t,l=>(Bc(t,...n,...e),nf(t,...s),a(l))))}),o.add(()=>Bc(t,...e,...r,...n,...s)),o.add(()=>a("cancelled")),o.dispose}function pi(t=""){return t.split(/\s+/).filter(e=>e.length>1)}let Tg=Symbol("TransitionContext");var L9=(t=>(t.Visible="visible",t.Hidden="hidden",t))(L9||{});function F9(){return it(Tg,null)!==null}function U9(){let t=it(Tg,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}function j9(){let t=it(Ag,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}let Ag=Symbol("NestingContext");function ih(t){return"children"in t?ih(t.children):t.value.filter(({state:e})=>e==="visible").length>0}function eE(t){let e=q([]),r=q(!1);je(()=>r.value=!0),Wt(()=>r.value=!1);function n(i,o=js.Hidden){let a=e.value.findIndex(({id:l})=>l===i);a!==-1&&(ar(o,{[js.Unmount](){e.value.splice(a,1)},[js.Hidden](){e.value[a].state="hidden"}}),!ih(e)&&r.value&&(t==null||t()))}function s(i){let o=e.value.find(({id:a})=>a===i);return o?o.state!=="visible"&&(o.state="visible"):e.value.push({id:i,state:"visible"}),()=>n(i,js.Unmount)}return{children:e,register:s,unregister:n}}let tE=Bn.RenderStrategy,fs=Ze({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:r,slots:n,expose:s}){let i=q(0);function o(){i.value|=Lt.Opening,e("beforeEnter")}function a(){i.value&=~Lt.Opening,e("afterEnter")}function l(){i.value|=Lt.Closing,e("beforeLeave")}function d(){i.value&=~Lt.Closing,e("afterLeave")}if(!F9()&&WM())return()=>yt(dn,{...t,onBeforeEnter:o,onAfterEnter:a,onBeforeLeave:l,onAfterLeave:d},n);let h=q(null),f=re(()=>t.unmount?js.Unmount:js.Hidden);s({el:h,$el:h});let{show:p,appear:v}=U9(),{register:b,unregister:w}=j9(),_=q(p.value?"visible":"hidden"),T={value:!0},S=bn(),E={value:!1},N=eE(()=>{!E.value&&_.value!=="hidden"&&(_.value="hidden",w(S),d())});je(()=>{let R=b(S);Wt(R)}),lr(()=>{if(f.value===js.Hidden&&S){if(p.value&&_.value!=="visible"){_.value="visible";return}ar(_.value,{hidden:()=>w(S),visible:()=>b(S)})}});let C=pi(t.enter),F=pi(t.enterFrom),I=pi(t.enterTo),y=pi(t.entered),m=pi(t.leave),k=pi(t.leaveFrom),$=pi(t.leaveTo);je(()=>{lr(()=>{if(_.value==="visible"){let R=Ee(h);if(R instanceof Comment&&R.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function P(R){let le=T.value&&!v.value,Y=Ee(h);!Y||!(Y instanceof HTMLElement)||le||(E.value=!0,p.value&&o(),p.value||l(),R(p.value?Pb(Y,C,F,I,y,L=>{E.value=!1,L===xp.Finished&&a()}):Pb(Y,m,k,$,y,L=>{E.value=!1,L===xp.Finished&&(ih(N)||(_.value="hidden",w(S),d()))})))}return je(()=>{Rt([p],(R,le,Y)=>{P(Y),T.value=!1},{immediate:!0})}),Ht(Ag,N),wg(re(()=>ar(_.value,{visible:Lt.Open,hidden:Lt.Closed})|i.value)),()=>{let{appear:R,show:le,enter:Y,enterFrom:L,enterTo:oe,entered:G,leave:ge,leaveFrom:Se,leaveTo:Ie,...Te}=t,Le={ref:h},ot={...Te,...v.value&&p.value&&rc.isServer?{class:$e([r.class,Te.class,...C,...F])}:{}};return $t({theirProps:ot,ourProps:Le,slot:{},slots:n,attrs:r,features:tE,visible:_.value==="visible",name:"TransitionChild"})}}}),B9=fs,dn=Ze({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:r,slots:n}){let s=nc(),i=re(()=>t.show===null&&s!==null?(s.value&Lt.Open)===Lt.Open:t.show);lr(()=>{if(![!0,!1].includes(i.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let o=q(i.value?"visible":"hidden"),a=eE(()=>{o.value="hidden"}),l=q(!0),d={show:i,appear:re(()=>t.appear||!l.value)};return je(()=>{lr(()=>{l.value=!1,i.value?o.value="visible":ih(a)||(o.value="hidden")})}),Ht(Ag,a),Ht(Tg,d),()=>{let h=th(t,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),f={unmount:t.unmount};return $t({ourProps:{...f,as:"template"},theirProps:{},slot:{},slots:{...n,default:()=>[yt(B9,{onBeforeEnter:()=>e("beforeEnter"),onAfterEnter:()=>e("afterEnter"),onBeforeLeave:()=>e("beforeLeave"),onAfterLeave:()=>e("afterLeave"),...r,...f,...h},n.default)]},attrs:{},features:tE,visible:o.value==="visible",name:"Transition"})}}});function q9(t,e){return M(),U("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})])}function H9(t,e){return M(),U("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})])}function z9(t,e){return M(),U("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"})])}function W9(t,e){return M(),U("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"})])}function K9(t,e){return M(),U("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})])}function Ju(t,e){return M(),U("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function Rb(t,e){return M(),U("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 12.75 6 6 9-13.5"})])}function G9(t,e){return M(),U("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})])}function rE(t,e){return M(),U("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})])}function Q9(t,e){return M(),U("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"})])}function Y9(t,e){return M(),U("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function J9(t,e){return M(),U("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})])}function X9(t,e){return M(),U("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})])}function Z9(t,e){return M(),U("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})])}function e7(t,e){return M(),U("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.182 16.318A4.486 4.486 0 0 0 12.016 15a4.486 4.486 0 0 0-3.198 1.318M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0ZM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Z"})])}function t7(t,e){return M(),U("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})])}function r7(t,e){return M(),U("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})])}function n7(t,e){return M(),U("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})])}function sf(t,e){return M(),U("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})])}function Nb(t,e){return M(),U("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"})])}function nE(t,e){return M(),U("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"})])}function s7(t,e){return M(),U("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"})])}function lu(t,e){return M(),U("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})])}function $b(t,e){return M(),U("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"})])}function i7(t,e){return M(),U("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})])}function oh(t,e){return M(),U("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})])}function o7(t,e){return M(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"fill-rule":"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})])}function sE(t,e){return M(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{d:"M3 4a2 2 0 0 0-2 2v1.161l8.441 4.221a1.25 1.25 0 0 0 1.118 0L19 7.162V6a2 2 0 0 0-2-2H3Z"}),c("path",{d:"m19 8.839-7.77 3.885a2.75 2.75 0 0 1-2.46 0L1 8.839V14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.839Z"})])}function _p(t,e){return M(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm-8-5a.75.75 0 0 1 .75.75v4.5a.75.75 0 0 1-1.5 0v-4.5A.75.75 0 0 1 10 5Zm0 10a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z","clip-rule":"evenodd"})])}function a7(t,e){return M(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"fill-rule":"evenodd",d:"M2.628 1.601C5.028 1.206 7.49 1 10 1s4.973.206 7.372.601a.75.75 0 0 1 .628.74v2.288a2.25 2.25 0 0 1-.659 1.59l-4.682 4.683a2.25 2.25 0 0 0-.659 1.59v3.037c0 .684-.31 1.33-.844 1.757l-1.937 1.55A.75.75 0 0 1 8 18.25v-5.757a2.25 2.25 0 0 0-.659-1.591L2.659 6.22A2.25 2.25 0 0 1 2 4.629V2.34a.75.75 0 0 1 .628-.74Z","clip-rule":"evenodd"})])}function wp(t,e){return M(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"fill-rule":"evenodd",d:"M10 1a4.5 4.5 0 0 0-4.5 4.5V9H5a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2h-.5V5.5A4.5 4.5 0 0 0 10 1Zm3 8V5.5a3 3 0 1 0-6 0V9h6Z","clip-rule":"evenodd"})])}function Ob(t,e){return M(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"fill-rule":"evenodd",d:"M4 10a.75.75 0 0 1 .75-.75h10.5a.75.75 0 0 1 0 1.5H4.75A.75.75 0 0 1 4 10Z","clip-rule":"evenodd"})])}function Db(t,e){return M(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{d:"M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5Z"})])}function l7(t,e){return M(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"fill-rule":"evenodd",d:"M4.25 2A2.25 2.25 0 0 0 2 4.25v2.5A2.25 2.25 0 0 0 4.25 9h2.5A2.25 2.25 0 0 0 9 6.75v-2.5A2.25 2.25 0 0 0 6.75 2h-2.5Zm0 9A2.25 2.25 0 0 0 2 13.25v2.5A2.25 2.25 0 0 0 4.25 18h2.5A2.25 2.25 0 0 0 9 15.75v-2.5A2.25 2.25 0 0 0 6.75 11h-2.5Zm9-9A2.25 2.25 0 0 0 11 4.25v2.5A2.25 2.25 0 0 0 13.25 9h2.5A2.25 2.25 0 0 0 18 6.75v-2.5A2.25 2.25 0 0 0 15.75 2h-2.5Zm0 9A2.25 2.25 0 0 0 11 13.25v2.5A2.25 2.25 0 0 0 13.25 18h2.5A2.25 2.25 0 0 0 18 15.75v-2.5A2.25 2.25 0 0 0 15.75 11h-2.5Z","clip-rule":"evenodd"})])}function Mb(t,e){return M(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{d:"M10 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM3.465 14.493a1.23 1.23 0 0 0 .41 1.412A9.957 9.957 0 0 0 10 18c2.31 0 4.438-.784 6.131-2.1.43-.333.604-.903.408-1.41a7.002 7.002 0 0 0-13.074.003Z"})])}const c7={class:"min-h-screen bg-light-primary dark:bg-dark-secondary"},u7={class:"fixed inset-0 z-40 flex"},d7={class:"flex items-center justify-between px-4"},h7={class:"mt-4 border-t border-light-neutral-200 dark:border-dark-neutral-700"},f7={role:"list",class:"px-2 py-3 font-medium text-light-text-primary dark:text-dark-text-primary"},p7=["onClick"],m7={class:"-mx-2 -my-3 flow-root"},g7={class:"font-medium text-light-text-primary dark:text-dark-text-primary"},v7={class:"ml-6 flex items-center"},y7={class:"space-y-6"},b7={class:"flex h-5 shrink-0 items-center"},x7={class:"group grid size-4 grid-cols-1"},_7=["id","name","value","checked","onChange"],w7=["for"],k7={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},E7={class:"flex items-baseline justify-between border-b border-light-neutral-200 dark:border-dark-neutral-700 pt-24 pb-6"},I7={class:"flex items-center"},T7={class:"py-1"},A7=["onClick"],S7={type:"button",class:"-m-2 ml-5 p-2 text-light-neutral-400 dark:text-dark-neutral-600 hover:text-light-neutral-500 dark:hover:text-dark-neutral-500 sm:ml-7"},C7={"aria-labelledby":"products-heading",class:"pt-6 pb-24"},P7={class:"grid grid-cols-1 gap-x-8 gap-y-10 lg:grid-cols-4"},R7={class:"hidden lg:block"},N7={role:"list",class:"space-y-4 border-b border-light-neutral-200 dark:border-dark-neutral-700 pb-6 text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},$7=["onClick"],O7={class:"mt-2"},D7={class:"-my-3 flow-root"},M7={class:"font-medium text-light-text-primary dark:text-dark-text-primary"},V7={class:"ml-6 flex items-center"},L7={class:"space-y-4"},F7={class:"flex h-5 shrink-0 items-center"},U7={class:"group grid size-4 grid-cols-1"},j7=["id","name","value","checked","onChange"],B7=["for"],q7={class:"lg:col-span-3"},H7={key:0,class:"text-center py-8"},z7={key:1,class:"text-center py-8"},W7={key:2,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},K7={__name:"ProductsView",setup(t){const e=q([]),r=q([]),n=q(!0);eo();const s=q(!1),i=q(null),o=q(null),a=gn({metal:[],category:[],price:[]}),l=[{name:"Most Popular",href:"#",current:!0},{name:"Best Rating",href:"#",current:!1},{name:"Newest",href:"#",current:!1},{name:"Price: Low to High",href:"#",current:!1,sort:(S,E)=>S.price-E.price},{name:"Price: High to Low",href:"#",current:!1,sort:(S,E)=>E.price-S.price}],d=q(l[0]),h=[{name:"Beaded Jewelry",href:"#",value:"Beaded Jewelry"},{name:"String Jewelry",href:"#",value:"String Jewelry"},{name:"Metal Jewelry",href:"#",value:"Metal Jewelry"},{name:"Gemstones",href:"#",value:"Gemstones"},{name:"Earrings",href:"#",value:"Earrings"},{name:"Necklaces",href:"#",value:"Necklaces"},{name:"Bracelets",href:"#",value:"Bracelets"},{name:"Rings",href:"#",value:"Rings"}],f=[{id:"metal",name:"Metal Type",options:[{value:"gold",label:"Gold",checked:!1},{value:"silver",label:"Sterling Silver",checked:!1},{value:"rose-gold",label:"Rose Gold",checked:!1},{value:"beads",label:"Glass Beads",checked:!1},{value:"gemstones",label:"Gemstones",checked:!1},{value:"pearls",label:"Pearls",checked:!1}]},{id:"style",name:"Style",options:[{value:"handcrafted",label:"Handcrafted",checked:!1},{value:"modern",label:"Modern",checked:!1},{value:"traditional",label:"Traditional",checked:!1},{value:"luxury",label:"Luxury",checked:!1}]},{id:"price",name:"Price Range",options:[{value:"under-5000",label:"Under KES 5,000",checked:!1},{value:"5000-10000",label:"KES 5,000 - 10,000",checked:!1},{value:"10000-20000",label:"KES 10,000 - 20,000",checked:!1},{value:"20000-plus",label:"KES 20,000+",checked:!1}]}],p=re(()=>{let S=[...r.value];return a.metal.length>0&&(S=S.filter(E=>a.metal.includes(E.metal))),a.category.length>0&&(S=S.filter(E=>E.tags&&E.tags.some(N=>a.category.includes(N)))),a.price.length>0&&(S=S.filter(E=>{const N=E.price;return a.price.some(C=>C==="under-5000"?N<5e3:C==="5000-10000"?N>=5e3&&N<=1e4:C==="10000-20000"?N>=1e4&&N<=2e4:C==="20000-plus"?N>2e4:!1)})),d.value.sort&&(S=[...S].sort(d.value.sort)),S}),v=()=>{e.value=p.value},b=(S,E)=>{const N=a[S],C=N.indexOf(E);C===-1?N.push(E):N.splice(C,1),f.forEach(F=>{F.id===S&&F.options.forEach(I=>{I.checked=N.includes(I.value)})}),v()},w=S=>{a.category=[],e.value=r.value.filter(E=>E.category===S)},_=S=>{l.forEach(E=>E.current=E===S),d.value=S,v()};je(async()=>{n.value=!0;try{const S=await T();if(S.length>0)console.log("Loaded products from Firestore:",S.length),r.value=S,e.value=S;else{console.log("No products in Firestore, using mock data");const E=await wo.getProducts();r.value=E||[],e.value=E||[]}console.log("Total products loaded:",e.value.length)}catch(S){console.error("Error loading products:",S),r.value=[],e.value=[]}finally{n.value=!1}});const T=async()=>{try{if(!ze.getFirestore())return[];const E=ze.getCollection("products"),N=await ze.getDocuments(E);return N.empty?[]:N.docs.map(C=>{const F=C.data();return{id:C.id,...F,name:F.name||"Unnamed Product",price:F.price||0,category:F.category||"Uncategorized",description:F.description||"",images:F.images||[],image:F.images&&F.images.length>0?F.images[0].startsWith("base64://")?F.images[0].replace("base64://",""):F.images[0]:"https://via.placeholder.com/300x300?text=No+Image"}})}catch(S){return console.error("Error loading products from Firestore:",S),[]}};return(S,E)=>{var N;return M(),U("div",c7,[i.value?(M(),U("div",{key:0,class:"cart-animation fixed pointer-events-none z-50",ref_key:"cartAnimationEl",ref:o,style:St({backgroundImage:`url(${(N=i.value)==null?void 0:N.image})`})},null,4)):de("",!0),c("div",null,[H(B(dn),{as:"template",show:s.value},{default:te(()=>[H(B(rh),{class:"relative z-40 lg:hidden",onClose:E[1]||(E[1]=C=>s.value=!1)},{default:te(()=>[H(B(fs),{as:"template",enter:"transition-opacity ease-linear duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-linear duration-300","leave-from":"opacity-100","leave-to":"opacity-0"},{default:te(()=>E[4]||(E[4]=[c("div",{class:"fixed inset-0 bg-black/25"},null,-1)])),_:1}),c("div",u7,[H(B(fs),{as:"template",enter:"transition ease-in-out duration-300 transform","enter-from":"translate-x-full","enter-to":"translate-x-0",leave:"transition ease-in-out duration-300 transform","leave-from":"translate-x-0","leave-to":"translate-x-full"},{default:te(()=>[H(B(nh),{class:"relative ml-auto flex size-full max-w-xs flex-col overflow-y-auto bg-light-secondary dark:bg-dark-secondary py-4 pb-12 shadow-xl"},{default:te(()=>[c("div",d7,[E[6]||(E[6]=c("h2",{class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary"},"Filters",-1)),c("button",{type:"button",class:"-mr-2 flex size-10 items-center justify-center rounded-md bg-light-secondary dark:bg-dark-secondary p-2 text-light-neutral-500 dark:text-dark-neutral-500",onClick:E[0]||(E[0]=C=>s.value=!1)},[E[5]||(E[5]=c("span",{class:"sr-only"},"Close menu",-1)),H(B(oh),{class:"size-6","aria-hidden":"true"})])]),c("form",h7,[E[8]||(E[8]=c("h3",{class:"sr-only"},"Categories",-1)),c("ul",f7,[(M(),U(xe,null,qe(h,C=>c("li",{key:C.name},[c("a",{href:"#",onClick:Vr(F=>w(C.value),["prevent"]),class:"block px-2 py-3"},W(C.name),9,p7)])),64))]),(M(),U(xe,null,qe(f,C=>H(B(Gu),{as:"div",key:C.id,class:"border-t border-light-neutral-200 dark:border-dark-neutral-700 px-4 py-6"},{default:te(({open:F})=>[c("h3",m7,[H(B(Qu),{class:"flex w-full items-center justify-between bg-light-secondary dark:bg-dark-secondary px-2 py-3 text-light-neutral-500 dark:text-dark-neutral-500 hover:text-light-neutral-700 dark:hover:text-dark-neutral-300"},{default:te(()=>[c("span",g7,W(C.name),1),c("span",v7,[F?(M(),dt(B(Ob),{key:1,class:"size-5","aria-hidden":"true"})):(M(),dt(B(Db),{key:0,class:"size-5","aria-hidden":"true"}))])]),_:2},1024)]),H(B(Yu),{class:"pt-6"},{default:te(()=>[c("div",y7,[(M(!0),U(xe,null,qe(C.options,(I,y)=>(M(),U("div",{key:I.value,class:"flex gap-3"},[c("div",b7,[c("div",x7,[c("input",{id:`filter-mobile-${C.id}-${y}`,name:`${C.id}[]`,value:I.value,type:"checkbox",checked:I.checked,onChange:m=>b(C.id,I.value),class:"col-start-1 row-start-1 appearance-none rounded-sm border border-light-neutral-300 dark:border-dark-neutral-700 bg-light-secondary dark:bg-dark-secondary checked:border-accent-primary checked:bg-accent-primary focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent-primary disabled:border-light-neutral-300 dark:disabled:border-dark-neutral-700 disabled:bg-light-neutral-100 dark:disabled:bg-dark-neutral-800"},null,40,_7),E[7]||(E[7]=c("svg",{class:"pointer-events-none col-start-1 row-start-1 size-3.5 self-center justify-self-center stroke-white group-has-disabled:stroke-light-neutral-900/25 dark:group-has-disabled:stroke-dark-neutral-100/25",viewBox:"0 0 14 14",fill:"none"},[c("path",{class:"opacity-0 group-has-checked:opacity-100",d:"M3 8L6 11L11 3.5","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),c("path",{class:"opacity-0 group-has-indeterminate:opacity-100",d:"M3 7H11","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1))])]),c("label",{for:`filter-mobile-${C.id}-${y}`,class:"min-w-0 flex-1 text-light-neutral-600 dark:text-dark-neutral-400"},W(I.label),9,w7)]))),128))])]),_:2},1024)]),_:2},1024)),64))])]),_:1})]),_:1})])]),_:1})]),_:1},8,["show"]),c("main",k7,[c("div",E7,[E[12]||(E[12]=c("h1",{class:"text-4xl font-bold tracking-tight text-light-text-primary dark:text-dark-text-primary"},"Our Jewelry Collection",-1)),c("div",I7,[H(B(Y2),{as:"div",class:"relative inline-block text-left"},{default:te(()=>[c("div",null,[H(B(J2),{class:"group inline-flex justify-center text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary"},{default:te(()=>[E[9]||(E[9]=ue(" Sort ")),H(B(o7),{class:"-mr-1 ml-1 size-5 shrink-0 text-light-neutral-400 dark:text-dark-neutral-600 group-hover:text-light-neutral-500 dark:group-hover:text-dark-neutral-500","aria-hidden":"true"})]),_:1})]),H(Fs,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:te(()=>[H(B(X2),{class:"absolute right-0 z-10 mt-2 w-40 origin-top-right rounded-md bg-light-secondary dark:bg-dark-secondary ring-1 shadow-2xl ring-black/5 focus:outline-hidden"},{default:te(()=>[c("div",T7,[(M(),U(xe,null,qe(l,C=>H(B(Ha),{key:C.name},{default:te(({active:F})=>[c("a",{href:"#",onClick:Vr(I=>_(C),["prevent"]),class:$e([C.current?"font-medium text-light-text-primary dark:text-dark-text-primary":"text-light-text-secondary dark:text-dark-text-secondary",F?"bg-light-neutral-100 dark:bg-dark-neutral-800 outline-hidden":"","block px-4 py-2 text-sm"])},W(C.name),11,A7)]),_:2},1024)),64))])]),_:1})]),_:1})]),_:1}),c("button",S7,[E[10]||(E[10]=c("span",{class:"sr-only"},"View grid",-1)),H(B(l7),{class:"size-5","aria-hidden":"true"})]),c("button",{type:"button",class:"-m-2 ml-4 p-2 text-light-neutral-400 dark:text-dark-neutral-600 hover:text-light-neutral-500 dark:hover:text-dark-neutral-500 sm:ml-6 lg:hidden",onClick:E[2]||(E[2]=C=>s.value=!0)},[E[11]||(E[11]=c("span",{class:"sr-only"},"Filters",-1)),H(B(a7),{class:"size-5","aria-hidden":"true"})])])]),c("section",C7,[E[17]||(E[17]=c("h2",{id:"products-heading",class:"sr-only"},"Products",-1)),c("div",P7,[c("form",R7,[E[14]||(E[14]=c("h3",{class:"sr-only"},"Categories",-1)),c("ul",N7,[(M(),U(xe,null,qe(h,C=>c("li",{key:C.name},[c("a",{href:"#",onClick:Vr(F=>w(C.value),["prevent"])},W(C.name),9,$7)])),64)),c("li",O7,[c("a",{href:"#",onClick:E[3]||(E[3]=Vr(C=>e.value=r.value,["prevent"])),class:"text-accent-primary hover:text-accent-secondary"}," View All ")])]),(M(),U(xe,null,qe(f,C=>H(B(Gu),{as:"div",key:C.id,class:"border-b border-light-neutral-200 dark:border-dark-neutral-700 py-6"},{default:te(({open:F})=>[c("h3",D7,[H(B(Qu),{class:"flex w-full items-center justify-between dark:bg-dark-secondary py-3 text-sm text-light-neutral-400 dark:text-dark-neutral-600 hover:text-light-neutral-500 dark:hover:text-dark-neutral-500"},{default:te(()=>[c("span",M7,W(C.name),1),c("span",V7,[F?(M(),dt(B(Ob),{key:1,class:"size-5","aria-hidden":"true"})):(M(),dt(B(Db),{key:0,class:"size-5","aria-hidden":"true"}))])]),_:2},1024)]),H(B(Yu),{class:"pt-6"},{default:te(()=>[c("div",L7,[(M(!0),U(xe,null,qe(C.options,(I,y)=>(M(),U("div",{key:I.value,class:"flex gap-3"},[c("div",F7,[c("div",U7,[c("input",{id:`filter-${C.id}-${y}`,name:`${C.id}[]`,value:I.value,type:"checkbox",checked:I.checked,onChange:m=>b(C.id,I.value),class:"col-start-1 row-start-1 appearance-none rounded-sm border border-light-neutral-300 dark:border-dark-neutral-700 bg-light-secondary dark:bg-dark-secondary checked:border-accent-primary checked:bg-accent-primary focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent-primary disabled:border-light-neutral-300 dark:disabled:border-dark-neutral-700 disabled:bg-light-neutral-100 dark:disabled:bg-dark-neutral-800"},null,40,j7),E[13]||(E[13]=c("svg",{class:"pointer-events-none col-start-1 row-start-1 size-3.5 self-center justify-self-center stroke-white group-has-disabled:stroke-light-neutral-900/25 dark:group-has-disabled:stroke-dark-neutral-100/25",viewBox:"0 0 14 14",fill:"none"},[c("path",{class:"opacity-0 group-has-checked:opacity-100",d:"M3 8L6 11L11 3.5","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),c("path",{class:"opacity-0 group-has-indeterminate:opacity-100",d:"M3 7H11","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1))])]),c("label",{for:`filter-${C.id}-${y}`,class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},W(I.label),9,B7)]))),128))])]),_:2},1024)]),_:2},1024)),64))]),c("div",q7,[n.value?(M(),U("div",H7,E[15]||(E[15]=[c("p",{class:"text-light-text-secondary dark:text-dark-text-secondary"},"Loading products...",-1)]))):e.value.length===0?(M(),U("div",z7,E[16]||(E[16]=[c("p",{class:"text-light-text-secondary dark:text-dark-text-secondary"},"No products found.",-1)]))):(M(),U("div",W7,[(M(!0),U(xe,null,qe(e.value,C=>(M(),dt(P2,{key:C.id,product:C},null,8,["product"]))),128))]))])])])])])])}}},G7=Gr(K7,[["__scopeId","data-v-0e030521"]]),Q7={class:"flex h-full items-center justify-center p-4"},Y7=["src","alt"],J7={__name:"ImageViewer",props:{images:{type:Array,required:!0},currentIndex:{type:Number,required:!0},isOpen:{type:Boolean,required:!0},alt:{type:String,default:"Product image"}},emits:["update:currentIndex","close"],setup(t,{emit:e}){const r=t,n=e,s=q(r.images[r.currentIndex]);Rt(()=>r.currentIndex,l=>{s.value=r.images[l]});const i=()=>{const l=(r.currentIndex+1)%r.images.length;n("update:currentIndex",l)},o=()=>{const l=(r.currentIndex-1+r.images.length)%r.images.length;n("update:currentIndex",l)},a=()=>{n("close")};return(l,d)=>t.isOpen?(M(),U("div",{key:0,class:"fixed inset-0 z-50 bg-black/80",onClick:Vr(a,["self"])},[c("div",{class:"absolute top-4 right-4 z-50"},[c("button",{onClick:a,class:"p-2 text-white hover:text-accent-primary"},d[0]||(d[0]=[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),c("div",Q7,[c("button",{onClick:o,class:"absolute left-4 p-2 text-white hover:text-accent-primary"},d[1]||(d[1]=[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),c("img",{src:s.value,alt:t.alt,class:"max-h-full max-w-full object-contain"},null,8,Y7),c("button",{onClick:i,class:"absolute right-4 p-2 text-white hover:text-accent-primary"},d[2]||(d[2]=[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))])])):de("",!0)}},X7={class:"flex mb-4","aria-label":"Breadcrumb"},Z7={class:"inline-flex items-center space-x-1 md:space-x-3"},e8={key:1,class:"text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},ah={__name:"Breadcrumbs",props:{items:{type:Array,required:!0}},setup(t){return(e,r)=>{const n=Lr("router-link");return M(),U("nav",X7,[c("ol",Z7,[(M(!0),U(xe,null,qe(t.items,(s,i)=>(M(),U("li",{key:i,class:"inline-flex items-center"},[i===0?(M(),dt(n,{key:0,to:s.path,class:"inline-flex items-center text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary hover:text-accent-primary dark:hover:text-accent-primary"},{default:te(()=>[H(B(t7),{class:"w-4 h-4 mr-2"}),ue(" "+W(s.text),1)]),_:2},1032,["to"])):(M(),U(xe,{key:1},[H(B(rE),{class:"w-4 h-4 mx-1 text-light-neutral-400 dark:text-dark-neutral-600"}),s.path?(M(),dt(n,{key:0,to:s.path,class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary hover:text-accent-primary dark:hover:text-accent-primary"},{default:te(()=>[ue(W(s.text),1)]),_:2},1032,["to"])):(M(),U("span",e8,W(s.text),1))],64))]))),128))])])}}},t8={class:"bg-light-primary dark:bg-dark-primary"},r8={class:"pt-6"},n8={class:"mx-auto max-w-2xl px-4 sm:px-6 lg:max-w-7xl lg:px-8"},s8={key:0,class:"text-center py-8"},i8={key:1,class:"mx-auto max-w-2xl px-4 sm:px-6 lg:max-w-7xl lg:px-8"},o8={class:"bg-red-100 dark:bg-red-900/20 p-4 rounded mb-6"},a8={class:"text-red-700 dark:text-red-400"},l8={class:"mx-auto mt-6 max-w-2xl sm:px-6 lg:max-w-7xl lg:px-8"},c8={class:"hidden sm:block lg:grid lg:grid-cols-3 lg:gap-4"},u8={class:"lg:grid lg:grid-rows-2 lg:gap-4"},d8=["src","alt"],h8=["src","alt"],f8={class:"lg:grid lg:grid-rows-2 lg:gap-4"},p8=["src","alt"],m8=["src","alt"],g8={class:"lg:grid lg:grid-rows-2 lg:gap-4"},v8=["src","alt"],y8=["src","alt"],b8={class:"block sm:hidden relative"},x8={class:"relative overflow-hidden h-[70vh] rounded-lg bg-light-secondary dark:bg-dark-secondary"},_8=["src","alt"],w8={class:"flex justify-center mt-4"},k8=["onClick","aria-label"],E8={class:"mx-auto max-w-2xl px-4 pb-16 pt-10 sm:px-6 lg:grid lg:max-w-7xl lg:grid-cols-3 lg:grid-rows-[auto,auto,1fr] lg:gap-x-8 lg:px-8 lg:pb-24 lg:pt-16"},I8={class:"lg:col-span-2"},T8={class:"text-2xl font-bold tracking-tight text-light-text-primary dark:text-dark-text-primary"},A8={class:"mt-4 lg:row-span-3 lg:mt-0 lg:border-l lg:border-accent-primary/30 dark:lg:border-accent-primary/20 lg:pl-8"},S8={key:0,class:"bg-accent-primary/10 border border-accent-primary/30 text-accent-primary dark:text-dark-text-primary px-4 py-3 rounded mb-4"},C8={class:"mb-6"},P8={class:"text-3xl font-semibold tracking-tight text-purple-700 dark:text-white"},R8={key:0,class:"text-sm text-purple-600 dark:text-dark-text-secondary mt-1"},N8={class:"mt-10"},$8={class:"flex items-center justify-between mb-4"},O8={class:"grid grid-cols-2 gap-3 mb-6"},D8=["onClick"],M8={key:0,class:"absolute -top-2 -left-1 text-xs px-1.5 py-0.5 bg-amber-500 text-white rounded-full"},V8={class:"absolute -top-1 -right-1 flex -space-x-1"},L8={class:"bg-white dark:bg-dark-primary rounded-lg p-6 max-w-md w-full"},F8={class:"mb-4"},U8={class:"mb-4"},j8={class:"flex flex-wrap gap-2 items-center"},B8=["onUpdate:modelValue"],q8=["onClick"],H8=["disabled","title"],z8={key:0,class:"mt-2 text-sm text-red-500"},W8={class:"flex justify-end gap-3"},K8=["disabled"],G8={class:"mb-6"},Q8={class:"flex items-center justify-center border border-light-neutral-200 dark:border-dark-neutral-700 rounded-lg bg-light-secondary dark:bg-dark-secondary"},Y8=["max"],J8={class:"py-10 lg:col-span-2 lg:col-start-1 lg:pb-16 lg:pr-8 lg:pt-6"},X8={class:"space-y-6"},Z8={class:"text-base text-light-text-primary dark:text-dark-text-primary"},eV={key:0,class:"mt-10"},tV={class:"list-disc space-y-2 pl-4 text-sm"},rV={key:0,class:"text-light-text-secondary dark:text-dark-text-secondary"},nV={key:1,class:"text-light-text-secondary dark:text-dark-text-secondary"},sV={key:1,class:"mt-10"},iV={class:"list-disc space-y-2 pl-4 text-sm"},oV={key:2,class:"mt-10"},aV={class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},lV={key:3,class:"mt-10"},cV={class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},uV={key:4,class:"mt-10"},dV={class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},hV={key:3,class:"text-center py-8"},fV={__name:"ProductDetailView",setup(t){const e=Ad(),r=si(),n=eo(),s=Nn(),i=q(null),o=q(!0),a=q(null),l=q(1),d=q(0),h=q(!1),f=q(0),p=q(null),v=q(null),b=q(!1),w=q(""),_=q(["#ffffff"]),T=q(""),S=q([]),E=q(!1),N=q(0),C=re(()=>e.params.id),F=re(()=>i.value?i.value.price*l.value:0),I=re(()=>{var z,D;return((D=(z=i.value)==null?void 0:z.images)==null?void 0:D.map(A=>k(A.main)||Pt("placeholder.jpg")))||[]}),y=re(()=>{var z,D;return((D=(z=i.value)==null?void 0:z.careInstructions)==null?void 0:D.split(`
`).filter(A=>A.trim()))||[]}),m=re(()=>{var z,D;return((D=(z=i.value)==null?void 0:z.images)==null?void 0:D.some(A=>{var Z;return(Z=A.main)==null?void 0:Z.startsWith("temp://")}))||!1}),k=z=>z?typeof z=="string"&&z.startsWith("base64://")?z.replace("base64://",""):z:Pt("placeholder.jpg"),$=async()=>{o.value=!0,a.value=null;try{const z=await ze.getProduct(C.value);i.value={...z,careInstructions:z.careInstructions||"",sizingAndFit:z.sizingAndFit||"Standard sizing available. Contact for custom sizes.",shippingInfo:z.shippingInfo||"Standard shipping available.",returnPolicy:z.returnPolicy||"Standard return policy applies.",materials:z.materials||"",dimensions:z.dimensions||"",variants:z.variants||[{name:"Default",colors:["#000000"]}],images:P(z.images)},await Te()}catch(z){console.error("Error fetching product:",z),a.value="Failed to load product details"}finally{o.value=!1}},P=z=>!Array.isArray(z)||z.length===0?[{main:Pt("placeholder.jpg"),thumb:Pt("placeholder.jpg")}]:z.map(D=>({main:k(D.main||D)||Pt("placeholder.jpg"),thumb:k(D.thumb||D)||Pt("placeholder.jpg")})),R=z=>{console.error("Image failed to load:",z.target.src),z.target.src=Pt("placeholder.jpg"),z.target.onerror=()=>{const D=z.target.parentNode;if(D){const A=document.createElement("div");A.innerHTML=`
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="100%" height="100%">
          <rect width="100%" height="100%" fill="#f0f0f0"/>
          <path d="M12 6v12M6 12h12" stroke="#aaa" stroke-width="2" stroke-linecap="round"/>
        </svg>
      `,A.className="broken-image",D.replaceChild(A,z.target)}}},le=async z=>{if(!i.value)return;const D=z.target.getBoundingClientRect(),A=D.left+D.width/2,Z=D.top+D.height/2,ee=document.querySelector(".group-hover\\:text-gray-500")||document.querySelector('a[href="/cart"] svg');let Ce=window.innerWidth-60,V=20;if(ee){const j=ee.getBoundingClientRect();Ce=j.left+j.width/2,V=j.top+j.height/2}p.value=i.value,await ir(),v.value?(v.value.style.top=`${Z}px`,v.value.style.left=`${A}px`,v.value.style.opacity="1",v.value.style.transform="scale(1)",setTimeout(()=>{v.value.style.top=`${V}px`,v.value.style.left=`${Ce}px`,v.value.style.opacity="0",v.value.style.transform="scale(0.3)"},50),setTimeout(()=>{n.addToCart(i.value,l.value),p.value=null},600)):n.addToCart(i.value,l.value)},Y=()=>r.back(),L=z=>{f.value=z,h.value=!0},oe=()=>{h.value=!1},G=()=>{_.value.length<5?(_.value.push("#ffffff"),T.value=""):T.value="Maximum 5 colors allowed"},ge=z=>{_.value.length>1&&(_.value.splice(z,1),T.value="")},Se=()=>{b.value=!1,w.value="",_.value=["#ffffff"],T.value=""},Ie=async()=>{if(w.value.trim())try{const z=s.getUser;await ze.submitVariantRequest({productId:i.value.id,productName:i.value.name,suggestion:w.value,colors:_.value,userId:(z==null?void 0:z.uid)||null,userEmail:(z==null?void 0:z.email)||"Anonymous",timestamp:new Date}),alert("Thank you! Your custom variant request has been submitted."),Se()}catch(z){console.error("Error submitting variant request:",z),alert("Failed to submit request. Please try again.")}},Te=async()=>{var z;if((z=i.value)!=null&&z.id){E.value=!0;try{const D=await ze.getVariantRequests();S.value=D.filter(A=>A.productId===i.value.id).map(A=>{var Z,ee;return{name:A.suggestion.length>20?A.suggestion.substring(0,20)+"...":A.suggestion,colors:A.requestedColors||[],fullSuggestion:A.suggestion,isSuggested:!0,userEmail:A.userEmail,createdAt:((ee=(Z=A.createdAt)==null?void 0:Z.toDate)==null?void 0:ee.call(Z))||new Date}})}catch(D){console.error("Error fetching variant suggestions:",D)}finally{E.value=!1}}},Le=re(()=>{var D;return[...((D=i.value)==null?void 0:D.variants.map(A=>({...A,isSuggested:!1})))||[],...S.value]}),ot=re(()=>{if(!i.value)return[{text:"Home",path:"/"},{text:"Products",path:"/products"}];const z=[{text:"Home",path:"/"},{text:"Products",path:"/products"}];return i.value.category&&z.push({text:i.value.category,path:`/products?category=${encodeURIComponent(i.value.category)}`}),z.push({text:i.value.name}),z}),Et=()=>{var z,D;(D=(z=i.value)==null?void 0:z.images)!=null&&D.length&&(N.value=(N.value+1)%i.value.images.length)},mt=()=>{var z,D;(D=(z=i.value)==null?void 0:z.images)!=null&&D.length&&(N.value=(N.value-1+i.value.images.length)%i.value.images.length)};return je($),Rt(()=>e.params.id,$),(z,D)=>{var A,Z,ee,Ce,V,j,Q,ne;return M(),U("div",t8,[c("div",r8,[c("div",n8,[H(ah,{items:ot.value},null,8,["items"])]),o.value?(M(),U("div",s8,D[13]||(D[13]=[c("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-accent-primary mb-2"},null,-1),c("p",{class:"text-light-text-primary dark:text-dark-text-primary"},"Loading your beautiful jewelry...",-1)]))):a.value?(M(),U("div",i8,[c("div",o8,[c("p",a8,W(a.value),1),c("button",{onClick:Y,class:"mt-2 text-sm text-accent-primary hover:underline"},"← Return to previous page")])])):i.value?(M(),U(xe,{key:2},[c("div",l8,[c("div",c8,[c("div",u8,[c("div",{class:"aspect-square overflow-hidden rounded-lg cursor-pointer bg-light-secondary dark:bg-dark-secondary",onClick:D[0]||(D[0]=J=>L(0))},[c("img",{src:k((A=i.value.images[0])==null?void 0:A.main)||B(Pt)("placeholder.jpg"),alt:i.value.name,class:"h-full w-full object-cover",onError:R},null,40,d8)]),c("div",{class:"aspect-square overflow-hidden rounded-lg cursor-pointer bg-light-secondary dark:bg-dark-secondary",onClick:D[1]||(D[1]=J=>L(1))},[c("img",{src:k((Z=i.value.images[1])==null?void 0:Z.main)||B(Pt)("placeholder.jpg"),alt:i.value.name,class:"h-full w-full object-cover",onError:R},null,40,h8)])]),c("div",f8,[c("div",{class:"aspect-square overflow-hidden rounded-lg cursor-pointer bg-light-secondary dark:bg-dark-secondary",onClick:D[2]||(D[2]=J=>L(2))},[c("img",{src:k((ee=i.value.images[2])==null?void 0:ee.main)||B(Pt)("placeholder.jpg"),alt:i.value.name,class:"h-full w-full object-cover",onError:R},null,40,p8)]),c("div",{class:"aspect-square overflow-hidden rounded-lg cursor-pointer bg-light-secondary dark:bg-dark-secondary",onClick:D[3]||(D[3]=J=>L(3))},[c("img",{src:k((Ce=i.value.images[3])==null?void 0:Ce.main)||B(Pt)("placeholder.jpg"),alt:i.value.name,class:"h-full w-full object-cover",onError:R},null,40,m8)])]),c("div",g8,[c("div",{class:"aspect-square overflow-hidden rounded-lg cursor-pointer bg-light-secondary dark:bg-dark-secondary",onClick:D[4]||(D[4]=J=>L(4))},[c("img",{src:k((V=i.value.images[4])==null?void 0:V.main)||B(Pt)("placeholder.jpg"),alt:i.value.name,class:"h-full w-full object-cover",onError:R},null,40,v8)]),c("div",{class:"aspect-square overflow-hidden rounded-lg cursor-pointer bg-light-secondary dark:bg-dark-secondary",onClick:D[5]||(D[5]=J=>L(5))},[c("img",{src:k((j=i.value.images[5])==null?void 0:j.main)||B(Pt)("placeholder.jpg"),alt:i.value.name,class:"h-full w-full object-cover",onError:R},null,40,y8)])])]),c("div",b8,[c("div",x8,[c("img",{src:k((Q=i.value.images[N.value])==null?void 0:Q.main)||B(Pt)("placeholder.jpg"),alt:i.value.name,class:"h-full w-full object-contain",onError:R},null,40,_8),c("button",{onClick:mt,class:"absolute left-2 top-1/2 -translate-y-1/2 bg-white/70 dark:bg-black/60 rounded-full p-2 shadow-lg text-accent-primary hover:bg-white hover:text-btn-primary-hover transition-colors"},D[14]||(D[14]=[c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})],-1)])),c("button",{onClick:Et,class:"absolute right-2 top-1/2 -translate-y-1/2 bg-white/70 dark:bg-black/60 rounded-full p-2 shadow-lg text-accent-primary hover:bg-white hover:text-btn-primary-hover transition-colors"},D[15]||(D[15]=[c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})],-1)])),c("button",{onClick:D[6]||(D[6]=J=>L(N.value)),class:"absolute right-2 top-2 bg-white/70 dark:bg-black/60 rounded-full p-2 shadow-lg text-accent-primary hover:bg-white hover:text-btn-primary-hover transition-colors"},D[16]||(D[16]=[c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 3.75v4.5m0-4.5h4.5m9 0h4.5m-4.5 0v4.5m-9 18.75h4.5m-4.5 0v-4.5m4.5 0h9m-9 0v4.5m0 0h4.5"})],-1)]))]),c("div",w8,[(M(!0),U(xe,null,qe(I.value,(J,se)=>(M(),U("button",{key:se,onClick:fe=>N.value=se,class:$e(["w-2 h-2 mx-1 rounded-full transition-colors",N.value===se?"bg-accent-primary":"bg-gray-300 dark:bg-dark-neutral-600"]),"aria-label":`View image ${se+1}`},null,10,k8))),128))])])]),i.value?(M(),dt(J7,{key:0,images:I.value,"current-index":f.value,"is-open":h.value,alt:i.value.name,"onUpdate:currentIndex":D[7]||(D[7]=J=>f.value=J),onClose:oe},null,8,["images","current-index","is-open","alt"])):de("",!0),p.value?(M(),U("div",{key:1,class:"cart-animation",ref_key:"cartAnimationEl",ref:v,style:St({backgroundImage:`url(${k((ne=p.value.images[0])==null?void 0:ne.main)||B(Pt)("placeholder.jpg")})`})},null,4)):de("",!0),c("div",E8,[c("div",I8,[c("h1",T8,W(i.value.name),1)]),c("div",A8,[m.value?(M(),U("div",S8,D[17]||(D[17]=[c("strong",{class:"font-bold"},"Warning:",-1),ue(" Some images are temporarily stored locally. ")]))):de("",!0),c("div",C8,[D[18]||(D[18]=c("h2",{class:"sr-only"},"Product information",-1)),c("p",P8,W(B(Ye)(F.value)),1),l.value>1?(M(),U("p",R8,W(B(Ye)(i.value.price))+" each",1)):de("",!0)]),c("div",N8,[c("div",$8,[D[19]||(D[19]=c("h3",{class:"text-sm font-medium text-gray-900 dark:text-dark-text-primary"},"Variants",-1)),c("button",{onClick:D[8]||(D[8]=J=>b.value=!0),class:"text-sm text-btn-primary hover:text-btn-primary-hover transition-colors"},"Request Custom Variant")]),c("div",O8,[(M(!0),U(xe,null,qe(Le.value,(J,se)=>(M(),U("button",{key:se,onClick:fe=>d.value=se,class:$e(["relative flex items-center justify-center rounded-lg border-2 py-3 px-4 text-sm font-medium transition-all duration-200",d.value===se?"border-purple-600 bg-purple-50 text-purple-700 dark:border-accent-primary dark:bg-accent-primary/10 dark:text-accent-primary shadow-sm":"border-gray-300 dark:border-dark-neutral-700 text-purple-700 dark:text-dark-text-primary hover:border-purple-600/50"])},[c("span",null,W(J.name),1),J.isSuggested?(M(),U("span",M8," Suggested ")):de("",!0),c("div",V8,[(M(!0),U(xe,null,qe(J.colors,(fe,he)=>(M(),U("div",{key:he,class:"w-3 h-3 rounded-full border border-white dark:border-dark-neutral-800",style:St({backgroundColor:fe})},null,4))),128))])],10,D8))),128))]),b.value?(M(),U("div",{key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:Vr(Se,["self"])},[c("div",L8,[c("div",{class:"flex justify-between items-center mb-4"},[D[20]||(D[20]=c("h3",{class:"text-lg font-medium text-gray-900 dark:text-dark-text-primary"},"Request Custom Variant",-1)),c("button",{onClick:Se,class:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"},"✕")]),c("div",F8,[D[21]||(D[21]=c("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Describe your desired variant",-1)),ke(c("textarea",{"onUpdate:modelValue":D[9]||(D[9]=J=>w.value=J),rows:"4",placeholder:"Example: I'd love this in blue crystal beads with silver threading",class:"w-full p-3 border rounded-lg bg-white dark:bg-dark-secondary text-gray-700 dark:text-gray-200 border-gray-300 dark:border-dark-neutral-600 focus:ring-2 focus:ring-purple-500 focus:border-purple-500"},null,512),[[Pe,w.value]])]),c("div",U8,[D[22]||(D[22]=c("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Select Colors (Max 5)",-1)),c("div",j8,[(M(!0),U(xe,null,qe(_.value,(J,se)=>(M(),U("div",{key:se,class:"flex items-center gap-2 bg-accent-primary/20 p-2 rounded-lg shadow-sm"},[ke(c("input",{type:"color","onUpdate:modelValue":fe=>_.value[se]=fe,class:"w-8 h-8 rounded cursor-pointer border-0"},null,8,B8),[[Pe,_.value[se]]]),_.value.length>1?(M(),U("button",{key:0,onClick:fe=>ge(se),class:"text-gray-400 hover:text-red-500 transition-colors",title:"Remove color"},"✕",8,q8)):de("",!0)]))),128)),c("button",{onClick:G,disabled:_.value.length>=5,class:$e(["w-8 h-8 rounded-lg border-2 border-dashed flex items-center justify-center transition-colors",_.value.length>=5?"border-gray-300 text-gray-300 cursor-not-allowed":"border-gray-400 text-gray-400 hover:border-accent-primary hover:text-accent-primary"]),title:_.value.length>=5?"Maximum colors reached":"Add color"},"+",10,H8)]),T.value?(M(),U("p",z8,W(T.value),1)):de("",!0)]),c("div",W8,[c("button",{onClick:Se,class:"px-4 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-dark-neutral-800 rounded-lg"},"Cancel"),c("button",{onClick:Ie,disabled:!w.value.trim(),class:"px-4 py-2 bg-btn-primary hover:bg-btn-primary-hover active:bg-btn-primary-dark text-white rounded-lg"},"Submit Request",8,K8)])])])):de("",!0)]),c("div",G8,[D[23]||(D[23]=c("h3",{class:"text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-3"},"Quantity",-1)),c("div",Q8,[c("button",{onClick:D[10]||(D[10]=J=>l.value>1?l.value--:null),class:"w-12 h-12 flex items-center justify-center text-light-text-primary dark:text-dark-text-primary hover:bg-light-neutral-100 dark:hover:bg-dark-neutral-800 rounded-l-lg"},"−"),ke(c("input",{"onUpdate:modelValue":D[11]||(D[11]=J=>l.value=J),type:"number",min:"1",max:i.value.stock,class:"w-16 h-12 text-center border-x border-light-neutral-200 dark:border-dark-neutral-700 bg-transparent text-light-text-primary dark:text-dark-text-primary"},null,8,Y8),[[Pe,l.value]]),c("button",{onClick:D[12]||(D[12]=J=>l.value<i.value.stock?l.value++:null),class:"w-12 h-12 flex items-center justify-center text-light-text-primary dark:text-dark-text-primary hover:bg-light-neutral-100 dark:hover:bg-dark-neutral-800 rounded-r-lg"},"+")])]),c("button",{onClick:le,class:"w-full h-12 flex items-center justify-center rounded-lg bg-btn-primary hover:bg-btn-primary-hover active:bg-btn-primary-dark text-white font-medium shadow-btn hover:shadow-btn-hover transition-all"},"Add to bag")]),c("div",J8,[c("div",null,[D[24]||(D[24]=c("h3",{class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary mb-4"},"Description",-1)),c("div",X8,[c("p",Z8,W(i.value.description),1)])]),i.value.materials||i.value.dimensions?(M(),U("div",eV,[D[27]||(D[27]=c("h3",{class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary mb-4"},"Materials & Dimensions",-1)),c("ul",tV,[i.value.materials?(M(),U("li",rV,[D[25]||(D[25]=c("span",{class:"font-medium text-light-text-primary dark:text-dark-text-primary"},"Materials:",-1)),ue(" "+W(i.value.materials),1)])):de("",!0),i.value.dimensions?(M(),U("li",nV,[D[26]||(D[26]=c("span",{class:"font-medium text-light-text-primary dark:text-dark-text-primary"},"Dimensions:",-1)),ue(" "+W(i.value.dimensions),1)])):de("",!0)])])):de("",!0),i.value.careInstructions?(M(),U("div",sV,[D[28]||(D[28]=c("h3",{class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary mb-4"},"Care Instructions",-1)),c("ul",iV,[(M(!0),U(xe,null,qe(y.value,(J,se)=>(M(),U("li",{key:se,class:"text-light-text-secondary dark:text-dark-text-secondary"},W(J),1))),128))])])):de("",!0),i.value.sizingAndFit?(M(),U("div",oV,[D[29]||(D[29]=c("h3",{class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary mb-4"},"Sizing & Fit",-1)),c("p",aV,W(i.value.sizingAndFit),1)])):de("",!0),i.value.shippingInfo?(M(),U("div",lV,[D[30]||(D[30]=c("h3",{class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary mb-4"},"Shipping",-1)),c("p",cV,W(i.value.shippingInfo),1)])):de("",!0),i.value.returnPolicy?(M(),U("div",uV,[D[31]||(D[31]=c("h3",{class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary mb-4"},"Return Policy",-1)),c("p",dV,W(i.value.returnPolicy),1)])):de("",!0)])])],64)):(M(),U("div",hV,[D[32]||(D[32]=c("p",{class:"text-light-text-primary dark:text-dark-text-primary"},"Product not found.",-1)),c("button",{onClick:Y,class:"mt-4 bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark text-white px-4 py-2 rounded"},"Return to Shop")]))])])}}},pV=Gr(fV,[["__scopeId","data-v-9a2d6ee9"]]),mV={class:"min-h-full flex flex-col justify-center py-12 sm:px-6 lg:px-8 bg-light-primary dark:bg-dark-primary"},gV={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},vV={class:"bg-light-secondary dark:bg-dark-secondary py-8 px-4 shadow sm:rounded-lg sm:px-10 border border-light-neutral-300 dark:border-dark-neutral-600"},yV={key:0,class:"rounded-md bg-red-50 p-4 mb-6"},bV={class:"flex"},xV={class:"flex-shrink-0"},_V={class:"ml-3"},wV={class:"mt-2 text-sm text-red-700"},kV={class:"mt-1 relative rounded-md shadow-sm"},EV={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},IV={class:"mt-1 relative rounded-md shadow-sm"},TV={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},AV=["disabled"],SV={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},CV={class:"mt-6"},PV={class:"mt-2 text-center"},RV={__name:"LoginView",setup(t){const e=Nn(),r=si(),n=Ad(),s=q(""),i=q(""),o=q(""),a=q(!1),l=q("");je(()=>{if(e.isAuthenticated){const h=n.query.redirect||"/account";r.replace(h)}});const d=async()=>{if(!s.value||!i.value){o.value="Please enter both email and password.";return}try{a.value=!0,o.value=null,l.value="Signing in...";const h=await e.login(s.value,i.value);l.value="Redirecting...",r.replace(h)}catch(h){console.error("Login error:",h),o.value=h.message||"Failed to sign in. Please check your credentials.",l.value=""}finally{a.value=!1}};return(h,f)=>{const p=Lr("RouterLink");return M(),U("div",mV,[f[9]||(f[9]=c("div",{class:"sm:mx-auto sm:w-full sm:max-w-md"},[c("h2",{class:"text-center text-3xl font-extrabold text-light-text-primary dark:text-dark-text-primary"},"Sign in to your account")],-1)),c("div",gV,[c("div",vV,[H(B(dn),{appear:"",show:!!o.value},{default:te(()=>[o.value?(M(),U("div",yV,[c("div",bV,[c("div",xV,[H(B(_p),{class:"h-5 w-5 text-red-400","aria-hidden":"true"})]),c("div",_V,[f[2]||(f[2]=c("h3",{class:"text-sm font-medium text-red-800"},"Authentication Error",-1)),c("div",wV,[c("p",null,W(o.value),1)])])])])):de("",!0)]),_:1},8,["show"]),c("form",{onSubmit:Vr(d,["prevent"]),class:"space-y-6"},[c("div",null,[f[3]||(f[3]=c("label",{for:"email",class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},"Email address",-1)),c("div",kV,[c("div",EV,[H(B(sE),{class:"h-5 w-5 text-light-neutral-500 dark:text-dark-neutral-500","aria-hidden":"true"})]),ke(c("input",{id:"email","onUpdate:modelValue":f[0]||(f[0]=v=>s.value=v),type:"email",required:"",class:"appearance-none block w-full pl-10 pr-3 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded-md shadow-sm bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary placeholder-light-neutral-400 dark:placeholder-dark-neutral-500 focus:ring-2 focus:ring-accent-primary focus:border-accent-primary",placeholder:"Your email"},null,512),[[Pe,s.value]])])]),c("div",null,[f[4]||(f[4]=c("label",{for:"password",class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},"Password",-1)),c("div",IV,[c("div",TV,[H(B(wp),{class:"h-5 w-5 text-light-neutral-500 dark:text-dark-neutral-500","aria-hidden":"true"})]),ke(c("input",{id:"password","onUpdate:modelValue":f[1]||(f[1]=v=>i.value=v),type:"password",required:"",class:"appearance-none block w-full pl-10 pr-3 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded-md shadow-sm bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary placeholder-light-neutral-400 dark:placeholder-dark-neutral-500 focus:ring-2 focus:ring-accent-primary focus:border-accent-primary",placeholder:"Your password"},null,512),[[Pe,i.value]])])]),f[6]||(f[6]=Tt('<div class="flex items-center justify-between"><div class="flex items-center"><input id="remember-me" name="remember-me" type="checkbox" class="h-4 w-4 text-orange-500 focus:ring-orange-500 border-light-neutral-300 dark:border-dark-neutral-600 rounded"><label for="remember-me" class="ml-2 block text-sm text-light-text-primary dark:text-dark-text-primary">Remember me</label></div><div class="text-sm"><a href="#" class="font-medium text-orange-500 hover:text-orange-600 dark:text-orange-400 dark:hover:text-orange-500">Forgot your password?</a></div></div>',1)),c("div",null,[c("button",{type:"submit",class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-orange-500 hover:bg-orange-600 dark:bg-orange-600 dark:hover:bg-orange-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",disabled:a.value},[a.value?(M(),U("svg",SV,f[5]||(f[5]=[c("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),c("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):de("",!0),ue(" "+W(a.value?l.value:"Sign in"),1)],8,AV)])],32),c("div",CV,[f[8]||(f[8]=Tt('<div class="relative"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-light-neutral-300 dark:border-dark-neutral-600"></div></div><div class="relative flex justify-center text-sm"><span class="px-2 bg-light-secondary dark:bg-dark-secondary text-light-text-secondary dark:text-dark-text-secondary">Don&#39;t have an account?</span></div></div>',1)),c("div",PV,[H(p,{to:"/register",class:"font-medium text-orange-500 hover:text-orange-600 dark:text-orange-400 dark:hover:text-orange-500"},{default:te(()=>f[7]||(f[7]=[ue("Create an account")])),_:1})])])])])])}}},NV={class:"min-h-full flex flex-col justify-center py-12 sm:px-6 lg:px-8 bg-light-primary dark:bg-dark-primary"},$V={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},OV={class:"bg-light-secondary dark:bg-dark-secondary py-8 px-4 shadow sm:rounded-lg sm:px-10 border border-light-neutral-300 dark:border-dark-neutral-600"},DV={key:0,class:"rounded-md bg-red-50 p-4 mb-6"},MV={class:"flex"},VV={class:"flex-shrink-0"},LV={class:"ml-3"},FV={class:"mt-2 text-sm text-red-700"},UV={class:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-2"},jV={class:"mt-1 relative rounded-md shadow-sm"},BV={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},qV={class:"mt-1 relative rounded-md shadow-sm"},HV={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},zV={class:"mt-1 relative rounded-md shadow-sm"},WV={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},KV={class:"mt-1 relative rounded-md shadow-sm"},GV={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},QV={class:"mt-1 relative rounded-md shadow-sm"},YV={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},JV={key:0,class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},XV={key:0,class:"mt-2 text-sm text-red-600"},ZV=["disabled"],eL={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},tL={class:"mt-6"},rL={class:"mt-2 text-center"},nL={__name:"RegisterView",setup(t){const e=Nn(),r=si(),n=q(""),s=q(""),i=q(""),o=q(""),a=q(""),l=q(""),d=q(!1),h=q(!1),f=()=>{i.value&&s.value!==i.value?h.value=!0:h.value=!1},p=async()=>{if(l.value="",d.value=!0,s.value!==i.value){l.value="Passwords do not match",d.value=!1;return}try{await e.register(n.value,s.value,{firstName:o.value,lastName:a.value,email:n.value}),r.push("/")}catch(v){l.value=v.message||"Failed to register. Please try again."}finally{d.value=!1}};return(v,b)=>{const w=Lr("RouterLink");return M(),U("div",NV,[b[15]||(b[15]=c("div",{class:"sm:mx-auto sm:w-full sm:max-w-md"},[c("h2",{class:"text-center text-3xl font-extrabold text-light-text-primary dark:text-dark-text-primary"},"Create your account"),c("p",{class:"mt-2 text-center text-sm text-light-text-secondary dark:text-dark-text-secondary"}," Join our jewelry community today ")],-1)),c("div",$V,[c("div",OV,[H(B(dn),{appear:"",show:!!l.value},{default:te(()=>[l.value?(M(),U("div",DV,[c("div",MV,[c("div",VV,[H(B(_p),{class:"h-5 w-5 text-red-400","aria-hidden":"true"})]),c("div",LV,[b[5]||(b[5]=c("h3",{class:"text-sm font-medium text-red-800"},"Registration Error",-1)),c("div",FV,[c("p",null,W(l.value),1)])])])])):de("",!0)]),_:1},8,["show"]),c("form",{onSubmit:Vr(p,["prevent"]),class:"space-y-6"},[c("div",UV,[c("div",null,[b[6]||(b[6]=c("label",{for:"firstName",class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},"First name",-1)),c("div",jV,[c("div",BV,[H(B(Mb),{class:"h-5 w-5 text-light-neutral-500 dark:text-dark-neutral-500","aria-hidden":"true"})]),ke(c("input",{id:"firstName","onUpdate:modelValue":b[0]||(b[0]=_=>o.value=_),type:"text",required:"",class:"appearance-none block w-full pl-10 pr-3 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded-md shadow-sm bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary placeholder-light-neutral-400 dark:placeholder-dark-neutral-500 focus:ring-2 focus:ring-accent-primary focus:border-accent-primary",placeholder:"First name"},null,512),[[Pe,o.value]])])]),c("div",null,[b[7]||(b[7]=c("label",{for:"lastName",class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},"Last name",-1)),c("div",qV,[c("div",HV,[H(B(Mb),{class:"h-5 w-5 text-light-neutral-500 dark:text-dark-neutral-500","aria-hidden":"true"})]),ke(c("input",{id:"lastName","onUpdate:modelValue":b[1]||(b[1]=_=>a.value=_),type:"text",required:"",class:"appearance-none block w-full pl-10 pr-3 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded-md shadow-sm bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary placeholder-light-neutral-400 dark:placeholder-dark-neutral-500 focus:ring-2 focus:ring-accent-primary focus:border-accent-primary",placeholder:"Last name"},null,512),[[Pe,a.value]])])])]),c("div",null,[b[8]||(b[8]=c("label",{for:"email",class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},"Email address",-1)),c("div",zV,[c("div",WV,[H(B(sE),{class:"h-5 w-5 text-light-neutral-500 dark:text-dark-neutral-500","aria-hidden":"true"})]),ke(c("input",{id:"email","onUpdate:modelValue":b[2]||(b[2]=_=>n.value=_),type:"email",required:"",class:"appearance-none block w-full pl-10 pr-3 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded-md shadow-sm bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary placeholder-light-neutral-400 dark:placeholder-dark-neutral-500 focus:ring-2 focus:ring-accent-primary focus:border-accent-primary",placeholder:"Your email"},null,512),[[Pe,n.value]])])]),c("div",null,[b[9]||(b[9]=c("label",{for:"password",class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},"Password",-1)),c("div",KV,[c("div",GV,[H(B(wp),{class:"h-5 w-5 text-light-neutral-500 dark:text-dark-neutral-500","aria-hidden":"true"})]),ke(c("input",{id:"password","onUpdate:modelValue":b[3]||(b[3]=_=>s.value=_),type:"password",required:"",minlength:"6",class:"appearance-none block w-full pl-10 pr-3 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded-md shadow-sm bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary placeholder-light-neutral-400 dark:placeholder-dark-neutral-500 focus:ring-2 focus:ring-accent-primary focus:border-accent-primary",placeholder:"Create password"},null,512),[[Pe,s.value]])]),b[10]||(b[10]=c("p",{class:"mt-1 text-xs text-light-text-secondary dark:text-dark-text-secondary"},"Password must be at least 6 characters",-1))]),c("div",null,[b[11]||(b[11]=c("label",{for:"confirmPassword",class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},"Confirm Password",-1)),c("div",QV,[c("div",YV,[H(B(wp),{class:"h-5 w-5 text-light-neutral-500 dark:text-dark-neutral-500","aria-hidden":"true"})]),ke(c("input",{id:"confirmPassword","onUpdate:modelValue":b[4]||(b[4]=_=>i.value=_),type:"password",required:"",minlength:"6",onInput:f,class:$e(["appearance-none block w-full pl-10 pr-3 py-2 border rounded-md shadow-sm placeholder-light-neutral-400 dark:placeholder-dark-neutral-500 focus:ring-2 focus:outline-none",h.value?"border-red-300 text-red-900 focus:ring-red-500 focus:border-red-500":"border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary"]),placeholder:"Confirm password"},null,34),[[Pe,i.value]]),h.value?(M(),U("div",JV,[H(B(_p),{class:"h-5 w-5 text-red-500","aria-hidden":"true"})])):de("",!0)]),h.value?(M(),U("p",XV,"Passwords don't match")):de("",!0)]),c("div",null,[c("button",{type:"submit",class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-orange-500 hover:bg-orange-600 dark:bg-orange-600 dark:hover:bg-orange-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",disabled:d.value||h.value},[d.value?(M(),U("svg",eL,b[12]||(b[12]=[c("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),c("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):de("",!0),ue(" "+W(d.value?"Creating Account...":"Create Account"),1)],8,ZV)])],32),c("div",tL,[b[14]||(b[14]=Tt('<div class="relative"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-light-neutral-300 dark:border-dark-neutral-600"></div></div><div class="relative flex justify-center text-sm"><span class="px-2 bg-light-secondary dark:bg-dark-secondary text-light-text-secondary dark:text-dark-text-secondary">Already have an account?</span></div></div>',1)),c("div",rL,[H(w,{to:"/login",class:"font-medium text-orange-500 hover:text-orange-600 dark:text-orange-400 dark:hover:text-orange-500"},{default:te(()=>b[13]||(b[13]=[ue("Sign in instead")])),_:1})])])])])])}}},sL={class:"min-h-screen bg-light-primary dark:bg-dark-primary"},iL={class:"max-w-4xl mx-auto px-4 py-8"},oL={key:0,class:"space-y-6 animate-pulse"},aL={class:"bg-white shadow rounded-lg p-6"},lL={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},cL={class:"bg-white shadow rounded-lg p-6"},uL={class:"bg-green-50 border-l-4 border-green-500 p-4 rounded-md shadow-sm flex items-center"},dL={class:"text-green-700"},hL={class:"bg-red-50 border-l-4 border-red-500 p-4 rounded-md shadow-sm flex items-center"},fL={class:"text-red-700"},pL={key:0,class:"ml-2 bg-accent-secondary/20 text-accent-primary text-xs px-2 py-0.5 rounded-full"},mL={class:"bg-white dark:bg-dark-neutral-800 shadow-sm rounded-lg overflow-hidden ring-1 ring-gray-900/5 dark:ring-dark-neutral-700"},gL={class:"bg-gradient-to-r from-accent-quaternary to-accent-secondary px-6 py-4"},vL={class:"flex justify-between items-center"},yL={class:"p-6"},bL={key:0,class:"grid md:grid-cols-2 gap-y-6 gap-x-8"},xL={class:"profile-field"},_L={class:"text-gray-800"},wL={class:"profile-field"},kL={class:"text-gray-800"},EL={class:"profile-field"},IL={class:"text-gray-800"},TL={class:"profile-field"},AL={class:"text-gray-800"},SL={class:"space-y-2"},CL={class:"space-y-2"},PL={class:"space-y-2"},RL={class:"space-y-2"},NL={class:"md:col-span-2 space-y-2"},$L={class:"md:col-span-2 flex justify-end space-x-4 pt-4"},OL={type:"submit",class:"px-4 py-2.5 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-medium rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200 flex items-center"},DL={class:"bg-white dark:bg-dark-neutral-800 shadow-sm rounded-lg overflow-hidden ring-1 ring-gray-900/5 dark:ring-dark-neutral-700"},ML={class:"p-6"},VL={key:0,class:"text-center py-12 bg-gray-50 dark:bg-indigo-900/20 rounded-lg"},LL={key:1,class:"space-y-6"},FL={class:"flex items-start space-x-4"},UL={class:"bg-indigo-100 rounded-full p-2 hidden sm:block"},jL={class:"font-medium text-gray-900 dark:text-gray-100"},BL={class:"flex items-center text-sm text-gray-600 mt-1"},qL={class:"flex flex-col items-end mt-2 sm:mt-0"},HL={class:"font-semibold text-lg text-gray-900 dark:text-gray-100"},zL={key:0,class:"text-sm italic text-gray-800"},WL={key:1,class:"space-y-2 mb-4"},KL={class:"flex items-center"},GL={class:"h-14 w-14 rounded-md overflow-hidden border border-gray-200 mr-3 flex-shrink-0 bg-gray-50"},QL=["src","alt"],YL={class:"text-gray-800 font-medium"},JL={class:"flex items-center mt-1"},XL={class:"bg-indigo-100 text-indigo-800 rounded-full w-5 h-5 flex items-center justify-center mr-2 text-xs"},ZL={class:"text-xs text-gray-500 md:hidden"},eF={class:"flex flex-col items-end"},tF={class:"text-gray-900 font-medium"},rF={class:"text-xs text-gray-500 hidden md:block"},nF={class:"mt-4 flex flex-col space-y-2 text-sm"},sF={class:"flex justify-between text-gray-800 pt-2 border-t"},iF={class:"text-gray-800"},oF={class:"flex justify-between text-gray-800"},aF={class:"text-gray-800"},lF={__name:"AccountView",setup(t){const e=Nn(),r=q(null),n=q([]),s=q(!0),i=q(!1),o=q(""),a=q("");q("profile"),q(!1);const l=q({firstName:"",lastName:"",email:"",phone:"",address:""}),d=q(!1);je(async()=>{if(e.user)try{const _=await ze.getUserProfile(e.user.uid);r.value=_,_&&(l.value={firstName:_.firstName||"",lastName:_.lastName||"",email:_.email||e.user.email,phone:_.phone||"",address:_.address||""});try{console.log("Fetching orders for user:",e.user.uid);const T=await ze.getUserOrders(e.user.uid);console.log("Orders received:",T.length,T),T&&T.length>0?(n.value=T.map(S=>({...S,formattedDate:h(S.orderDate),displayTotal:typeof S.total=="number"?S.total.toFixed(2):"0.00",orderNumber:S.orderNumber||`ORD-${S.id.substring(0,6)}`,items:Array.isArray(S.items)?S.items:[]})),console.log("Processed orders:",n.value)):(console.log("No orders found or empty array returned"),n.value=[])}catch(T){console.error("Error fetching orders:",T),n.value=[],a.value="Could not load order history"}}catch(_){a.value="Error loading user data",console.error("Error in account view:",_)}finally{s.value=!1,setTimeout(()=>{d.value=!0},100)}else s.value=!1,setTimeout(()=>{d.value=!0},100)});const h=_=>{if(!_)return"N/A";try{let T;if(_.toDate&&typeof _.toDate=="function")T=_.toDate();else if(_.seconds)T=new Date(_.seconds*1e3);else if(_ instanceof Date)T=_;else if(typeof _=="string")T=new Date(_);else if(typeof _=="number")T=new Date(_);else return"Invalid date";return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(T)}catch(T){return console.error("Error formatting date:",T,_),"Date error"}},f=async()=>{a.value="",o.value="";try{await ze.updateUserProfile(e.user.uid,l.value),r.value={...r.value,...l.value},i.value=!1,o.value="Profile updated successfully!",setTimeout(()=>{o.value=""},3e3)}catch(_){a.value="Failed to update profile",console.error("Error updating profile:",_)}},p=_=>({Processing:"bg-amber-100 text-amber-800 border border-amber-300",Shipped:"bg-blue-100 text-blue-800 border border-blue-300",Delivered:"bg-emerald-100 text-emerald-800 border border-emerald-300",Cancelled:"bg-red-100 text-red-800 border border-red-300"})[_]||"bg-gray-100 text-gray-800 border border-gray-300",v=(_=0)=>({"transition-all duration-500 ease-out":!0,"opacity-0 translate-y-4":!d.value,"opacity-100 translate-y-0":d.value,[`delay-${_}`]:_>0}),b=_=>{if(!_)return Pt("placeholder.jpg");if(typeof _=="string"){if(_.startsWith("base64://"))return _.replace("base64://","");if(_.startsWith("temp://"))return _.replace("temp://","")}return _},w=_=>{console.error("Image failed to load:",_.target.src),_.target.src=Pt("placeholder.jpg"),_.target.onerror=function(){const T=_.target.parentNode;if(T){T.classList.add("flex","items-center","justify-center","bg-gray-100"),_.target.style.display="none";const S=document.createElement("div");S.innerHTML=`
        <svg xmlns="http://www.w3.org/200/svg" viewBox="0 0 24 24" width="100%" height="100%">
          <rect width="100%" height="100%" fill="#f0f0f0"/>
          <path d="M12 6v12M6 12h12" stroke="#aaa" stroke-width="2" stroke-linecap="round"/>
        </svg>
      `,S.className="broken-image",T.appendChild(S)}}};return(_,T)=>{const S=Lr("router-link");return M(),U("div",sL,[c("div",iL,[T[31]||(T[31]=c("h1",{class:"text-3xl font-bold mb-8 text-light-text-primary dark:text-dark-text-primary"},"My Account",-1)),s.value?(M(),U("div",oL,[c("div",aL,[T[8]||(T[8]=c("div",{class:"h-6 bg-gray-200 rounded w-1/3 mb-6"},null,-1)),c("div",lL,[(M(),U(xe,null,qe(4,E=>c("div",{key:E,class:"space-y-2"},T[7]||(T[7]=[c("div",{class:"h-4 bg-gray-200 rounded w-1/4"},null,-1),c("div",{class:"h-6 bg-gray-200 rounded"},null,-1)]))),64))])]),c("div",cL,[T[10]||(T[10]=c("div",{class:"h-6 bg-gray-200 rounded w-1/3 mb-6"},null,-1)),(M(),U(xe,null,qe(3,E=>c("div",{key:E,class:"mb-4 pb-4 border-b last:border-b-0"},T[9]||(T[9]=[c("div",{class:"flex justify-between mb-2"},[c("div",{class:"h-6 bg-gray-200 rounded w-1/4"}),c("div",{class:"h-6 bg-gray-200 rounded w-20"})],-1),c("div",{class:"h-4 bg-gray-200 rounded w-2/3"},null,-1)]))),64))])])):de("",!0),H(B(dn),{appear:"",show:!s.value,as:"div",enter:"transition-opacity duration-500","enter-from":"opacity-0","enter-to":"opacity-100"},{default:te(()=>[c("div",null,[H(B(dn),{appear:"",show:!!o.value,as:"div",enter:"transform transition duration-300 ease-out","enter-from":"-translate-y-4 opacity-0","enter-to":"translate-y-0 opacity-100",leave:"transform transition duration-200 ease-in","leave-from":"translate-y-0 opacity-100","leave-to":"-translate-y-4 opacity-0",class:"mb-6"},{default:te(()=>[c("div",uL,[H(B(Rb),{class:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),c("p",dL,W(o.value),1)])]),_:1},8,["show"]),H(B(dn),{appear:"",show:!!a.value,as:"div",enter:"transform transition duration-300 ease-out","enter-from":"-translate-y-4 opacity-0","enter-to":"translate-y-0 opacity-100",leave:"transform transition duration-200 ease-in","leave-from":"translate-y-0 opacity-100","leave-to":"-translate-y-4 opacity-0",class:"mb-6"},{default:te(()=>[c("div",hL,[H(B(oh),{class:"w-5 h-5 text-red-500 mr-3 flex-shrink-0"}),c("p",fL,W(a.value),1)])]),_:1},8,["show"]),H(B($9),{defaultIndex:0,as:"div",class:$e(v(100))},{default:te(()=>[H(B(O9),{class:"flex border-b border-light-neutral-300 dark:border-dark-neutral-700 mb-6 space-x-2"},{default:te(()=>[H(B(Sb),{as:"template"},{default:te(({selected:E})=>[c("button",{class:$e(["py-3 px-6 font-medium focus:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary rounded-t-md transition-colors",[E?"text-accent-primary border-b-2 border-accent-primary bg-accent-secondary/10":"text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary hover:bg-light-secondary dark:hover:bg-dark-secondary"]])}," Profile Information ",2)]),_:1}),H(B(Sb),{as:"template"},{default:te(({selected:E})=>[c("button",{class:$e(["py-3 px-6 font-medium focus:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary rounded-t-md transition-colors flex items-center",[E?"text-accent-primary border-b-2 border-accent-primary bg-accent-secondary/10":"text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary hover:bg-light-secondary dark:hover:bg-dark-secondary"]])},[T[11]||(T[11]=ue(" Order History ")),n.value.length?(M(),U("span",pL,W(n.value.length),1)):de("",!0)],2)]),_:1})]),_:1}),H(B(D9),{class:"focus:outline-none"},{default:te(()=>[H(B(Cb),{class:$e([v(200),"focus:outline-none"])},{default:te(()=>{var E,N,C,F,I;return[c("div",mL,[c("div",gL,[c("div",vL,[T[13]||(T[13]=c("h2",{class:"text-xl font-semibold text-white"},"Personal Details",-1)),i.value?de("",!0):(M(),U("button",{key:0,onClick:T[0]||(T[0]=y=>i.value=!0),class:"btn-white focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-offset-2 focus-visible:ring-offset-indigo-600","aria-label":"Edit profile"},[H(B(nE),{class:"w-4 h-4 mr-1"}),T[12]||(T[12]=ue(" Edit "))]))])]),c("div",yL,[i.value?de("",!0):(M(),U("div",bL,[c("div",xL,[T[14]||(T[14]=c("p",{class:"text-gray-800"},"Full Name",-1)),c("p",_L,W(((E=r.value)==null?void 0:E.firstName)||"-")+" "+W(((N=r.value)==null?void 0:N.lastName)||""),1)]),c("div",wL,[T[15]||(T[15]=c("p",{class:"text-gray-800"},"Email",-1)),c("p",kL,W(((C=r.value)==null?void 0:C.email)||B(e).user.email),1)]),c("div",EL,[T[16]||(T[16]=c("p",{class:"text-gray-800"},"Phone",-1)),c("p",IL,W(((F=r.value)==null?void 0:F.phone)||"Not provided"),1)]),c("div",TL,[T[17]||(T[17]=c("p",{class:"text-gray-800"},"Address",-1)),c("p",AL,W(((I=r.value)==null?void 0:I.address)||"Not provided"),1)])])),H(B(dn),{appear:"",show:i.value,enter:"transition-opacity ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0",as:"div"},{default:te(()=>[c("form",{onSubmit:Vr(f,["prevent"]),class:"grid md:grid-cols-2 gap-6"},[c("div",SL,[T[18]||(T[18]=c("label",{class:"text-sm font-medium field-label",for:"firstName"},"First Name",-1)),ke(c("input",{id:"firstName","onUpdate:modelValue":T[1]||(T[1]=y=>l.value.firstName=y),type:"text",class:"w-full px-4 py-2.5 bg-white border border-gray-300 dark:border-dark-neutral-600 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 placeholder-gray-400 dark:placeholder-gray-500 text-gray-900 dark:text-gray-500 transition-colors duration-200",placeholder:"Enter your first name"},null,512),[[Pe,l.value.firstName]])]),c("div",CL,[T[19]||(T[19]=c("label",{class:"text-sm font-medium field-label",for:"lastName"},"Last Name",-1)),ke(c("input",{id:"lastName","onUpdate:modelValue":T[2]||(T[2]=y=>l.value.lastName=y),type:"text",class:"w-full px-4 py-2.5 bg-white border border-gray-300 dark:border-dark-neutral-600 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 placeholder-gray-400 dark:placeholder-gray-500 text-gray-900 dark:text-gray-500 transition-colors duration-200",placeholder:"Enter your last name"},null,512),[[Pe,l.value.lastName]])]),c("div",PL,[T[20]||(T[20]=c("label",{class:"text-sm font-medium field-label",for:"email"},"Email",-1)),ke(c("input",{id:"email","onUpdate:modelValue":T[3]||(T[3]=y=>l.value.email=y),type:"email",class:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 dark:border-dark-neutral-700 rounded-lg shadow-sm cursor-not-allowed text-gray-500 dark:text-gray-400",disabled:"","aria-disabled":"true"},null,512),[[Pe,l.value.email]]),T[21]||(T[21]=c("p",{class:"text-xs text-gray-500 mt-1.5"},"Email cannot be changed",-1))]),c("div",RL,[T[22]||(T[22]=c("label",{class:"text-sm font-medium field-label",for:"phone"},"Phone",-1)),ke(c("input",{id:"phone","onUpdate:modelValue":T[4]||(T[4]=y=>l.value.phone=y),type:"tel",class:"w-full px-4 py-2.5 bg-white border border-gray-300 dark:border-dark-neutral-600 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 placeholder-gray-400 dark:placeholder-gray-500 text-gray-900 dark:text-white transition-colors duration-200",placeholder:"Enter your phone number"},null,512),[[Pe,l.value.phone]])]),c("div",NL,[T[23]||(T[23]=c("label",{class:"text-sm font-medium field-label",for:"address"},"Address",-1)),ke(c("textarea",{id:"address","onUpdate:modelValue":T[5]||(T[5]=y=>l.value.address=y),class:"w-full px-4 py-2.5 bg-white border border-gray-300 dark:border-dark-neutral-600 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 placeholder-gray-400 dark:placeholder-gray-500 text-gray-900 dark:text-white transition-colors duration-200 min-h-[100px] resize-y",placeholder:"Enter your address"},null,512),[[Pe,l.value.address]])]),c("div",$L,[c("button",{type:"button",onClick:T[6]||(T[6]=y=>i.value=!1),class:"px-4 py-2.5 border border-gray-300 dark:border-dark-neutral-600 rounded-lg shadow-sm text-gray-700 dark:text-gray-200 bg-white dark:bg-dark-neutral-700 hover:bg-gray-50 dark:hover:bg-dark-neutral-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors duration-200"}," Cancel "),c("button",OL,[H(B(Rb),{class:"w-4 h-4 mr-1.5"}),T[24]||(T[24]=ue(" Save Changes "))])])],32)]),_:1},8,["show"])])])]}),_:1},8,["class"]),H(B(Cb),{class:$e([v(300),"focus:outline-none"])},{default:te(()=>[c("div",DL,[T[30]||(T[30]=c("div",{class:"bg-gradient-to-r from-accent-quaternary to-accent-secondary px-6 py-4"},[c("h2",{class:"text-xl font-semibold text-white"},"Order History")],-1)),c("div",ML,[n.value.length===0?(M(),U("div",VL,[H(B(lu),{class:"w-16 h-16 text-gray-400 mx-auto mb-4"}),T[26]||(T[26]=c("p",{class:"text-gray-500 mb-4"},"You haven't placed any orders yet.",-1)),H(S,{to:"/products",class:"btn btn-primary inline-flex items-center justify-center"},{default:te(()=>[H(B(lu),{class:"w-4 h-4 mr-2"}),T[25]||(T[25]=ue(" Start Shopping "))]),_:1})])):(M(),U("div",LL,[H(B(dn),{appear:"",show:!0,enter:"transition-opacity ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",as:"div",class:"space-y-6"},{default:te(()=>[(M(!0),U(xe,null,qe(n.value,(E,N)=>(M(),U("div",{key:E.id,class:$e(["bg-white dark:bg-dark-neutral-800 border border-gray-200 dark:border-dark-neutral-700 rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-all duration-200",{"delay-100":N===0,"delay-150":N===1,"delay-200":N>=2}])},[H(B(Gu),{as:"div",defaultOpen:""},{default:te(({open:C})=>[H(B(Qu),{class:"w-full bg-gray-50 dark:bg-indigo-900/20 p-4 flex flex-wrap justify-between items-center border-b dark:border-dark-neutral-600 text-left focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500"},{default:te(()=>[c("div",FL,[c("div",UL,[H(B(lu),{class:"w-5 h-5 text-indigo-600"})]),c("div",null,[c("p",jL," Order #"+W(E.orderNumber),1),c("div",BL,[H(B(W9),{class:"w-3.5 h-3.5 mr-1.5"}),ue(" "+W(E.formattedDate),1)])])]),c("div",qL,[c("p",HL,W(B(Ye)(E.total)),1),c("span",{class:$e(["text-xs px-3 py-1 rounded-full mt-1 inline-flex items-center",p(E.status||"Processing")])},[c("span",{class:$e(["w-1.5 h-1.5 rounded-full mr-1",{"bg-amber-500":(E.status||"Processing")==="Processing","bg-blue-500":E.status==="Shipped","bg-emerald-500":E.status==="Delivered","bg-red-500":E.status==="Cancelled"}])},null,2),ue(" "+W(E.status||"Processing"),1)],2),H(B(rE),{class:$e(["w-5 h-5 text-gray-400 mt-1.5 transition-transform duration-200",{"transform rotate-90":C}])},null,8,["class"])])]),_:2},1024),H(B(Yu),{class:"p-4 bg-white dark:bg-dark-neutral-800/50"},{default:te(()=>[T[29]||(T[29]=c("div",{class:"mb-2 pb-2 border-b border-dashed"},[c("h4",{class:"text-sm font-medium text-gray-800 mb-2"},"Items")],-1)),!E.items||E.items.length===0?(M(),U("p",zL," No items found in this order ")):(M(),U("div",WL,[(M(!0),U(xe,null,qe(E.items,(F,I)=>(M(),U("div",{key:I,class:"flex justify-between text-sm py-2 border-b border-gray-100 last:border-b-0"},[c("div",KL,[c("div",GL,[c("img",{src:b(F.imageUrl||F.image),alt:F.name,class:"h-full w-full object-cover object-center",onError:w,loading:"lazy"},null,40,QL)]),c("div",null,[c("span",YL,W(F.name),1),c("div",JL,[c("span",XL,W(F.quantity),1),c("span",ZL,W(B(Ye)(F.price))+" each ",1)])])]),c("div",eF,[c("span",tF,W(B(Ye)(F.price*F.quantity)),1),c("span",rF,W(B(Ye)(F.price))+" each ",1)])]))),128))])),c("div",nF,[c("div",sF,[T[27]||(T[27]=c("span",null,"Order date:",-1)),c("span",iF,W(E.formattedDate),1)]),c("div",oF,[T[28]||(T[28]=c("span",null,"Total:",-1)),c("span",aF,W(B(Ye)(E.total)),1)])])]),_:2},1024)]),_:2},1024)],2))),128))]),_:1})]))])])]),_:1},8,["class"])]),_:1})]),_:1},8,["class"])])]),_:1},8,["show"])])])}}},cF=Gr(lF,[["__scopeId","data-v-35895029"]]),uF={class:"container mx-auto px-4 py-8 max-w-6xl"},dF={key:0,class:"text-center py-12 bg-light-secondary dark:bg-dark-secondary rounded-lg shadow-sm border border-light-neutral-300 dark:border-dark-neutral-600"},hF={key:1,class:"grid grid-cols-1 md:grid-cols-3 gap-8"},fF={class:"md:col-span-2","aria-labelledby":"cart-items-heading"},pF={class:"space-y-2 text-sm"},mF={class:"flex justify-between text-light-text-primary dark:text-dark-text-primary"},gF={class:"flex justify-between"},vF={key:0,class:"text-light-text-primary dark:text-dark-text-primary"},yF={key:1,class:"text-accent-tertiary"},bF={key:0,class:"text-sm bg-accent-quaternary/10 text-accent-quaternary p-3 rounded-md mt-3"},xF={class:"mt-1"},_F={class:"border-t border-light-neutral-300 dark:border-dark-neutral-600 pt-2 mt-2"},wF={class:"flex justify-between font-bold text-light-text-primary dark:text-dark-text-primary"},kF={class:"mt-4 space-y-3"},EF={class:"relative"},IF=["src","alt"],TF={class:"ml-6 flex-grow"},AF={class:"text-light-text-secondary dark:text-dark-text-secondary mt-1"},SF={class:"flex items-center mt-3"},CF={class:"flex items-center border border-light-neutral-300 dark:border-dark-neutral-600 rounded-md shadow-sm"},PF=["onClick"],RF={class:"px-4 py-1 min-w-[40px] text-center text-light-text-primary dark:text-dark-text-primary","aria-label":"Quantity"},NF=["onClick"],$F=["onClick"],OF={class:"text-right"},DF={class:"font-semibold text-light-text-primary dark:text-dark-text-primary"},MF={class:"bg-light-secondary dark:bg-dark-secondary p-6 rounded-lg shadow-sm h-fit md:sticky md:top-24 hidden md:block border border-light-neutral-300 dark:border-dark-neutral-600","aria-labelledby":"order-summary-heading"},VF={class:"space-y-4"},LF={class:"flex justify-between text-light-text-primary dark:text-dark-text-primary"},FF={class:"flex justify-between text-light-text-primary dark:text-dark-text-primary"},UF={key:0},jF={key:1,class:"text-accent-tertiary font-medium"},BF={key:0,class:"text-sm bg-accent-quaternary/10 text-accent-quaternary p-3 rounded-md"},qF={class:"mt-1"},HF={class:"border-t border-light-neutral-300 dark:border-dark-neutral-600 pt-4 mt-2"},zF={class:"flex justify-between font-bold text-lg text-light-text-primary dark:text-dark-text-primary"},WF={class:"mt-8 space-y-4"},KF={class:"fixed inset-0 overflow-y-auto"},GF={class:"flex min-h-full items-center justify-center p-4 text-center"},QF={class:"mt-2"},YF={class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},JF={class:"mt-6 flex space-x-3 justify-end"},XF={__name:"CartView",setup(t){const e=eo(),r=q(!1),n=q(!1),s=q(null),i=re(()=>e.cart),o=re(()=>e.subtotal),a=re(()=>e.itemCount),l=re(()=>o.value>=1e4?0:1e3),d=re(()=>o.value+l.value),h=async(v,b)=>{r.value=!0,b<=0?await e.removeFromCart(v):await e.updateQuantity(v,b),setTimeout(()=>{r.value=!1},300)},f=v=>{s.value=v,n.value=!0},p=()=>{s.value&&(e.removeFromCart(s.value.id),n.value=!1,s.value=null)};return(v,b)=>{const w=Lr("router-link");return M(),U("main",uF,[b[21]||(b[21]=c("h1",{class:"text-3xl font-bold mb-8 text-light-text-primary dark:text-dark-text-primary"},"Shopping Cart",-1)),i.value.length===0?(M(),U("div",dF,[b[3]||(b[3]=Tt('<div class="w-40 h-40 mx-auto mb-6" data-v-392a5ccd><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" class="w-full h-full text-light-neutral-400 dark:text-dark-neutral-500" data-v-392a5ccd><circle cx="9" cy="21" r="1" fill="currentColor" data-v-392a5ccd></circle><circle cx="20" cy="21" r="1" fill="currentColor" data-v-392a5ccd></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6" stroke-linecap="round" stroke-linejoin="round" data-v-392a5ccd></path><line x1="5" y1="5" x2="22" y2="5" class="text-red-500" stroke-width="1.5" data-v-392a5ccd></line></svg></div><p class="text-xl mb-6 text-light-text-secondary dark:text-dark-text-secondary" data-v-392a5ccd>Your cart is empty</p>',2)),H(w,{to:"/products",class:"bg-orange-500 hover:bg-orange-600 dark:bg-orange-600 dark:hover:bg-orange-500 text-white px-6 py-3 rounded-md inline-block transition-colors focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 focus:outline-none"},{default:te(()=>b[2]||(b[2]=[ue(" Browse Products ")])),_:1})])):(M(),U("div",hF,[c("section",fF,[b[12]||(b[12]=c("h2",{id:"cart-items-heading",class:"sr-only"},"Cart Items",-1)),H(B(Gu),{as:"div",class:"mb-6 md:hidden"},{default:te(()=>[H(B(Qu),{class:"flex w-full justify-between rounded-lg bg-light-secondary dark:bg-dark-secondary px-4 py-3 text-left text-sm font-medium text-light-text-primary dark:text-dark-text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary"},{default:te(()=>[c("span",null,"Order Summary ("+W(a.value)+" items)",1),H(B(Q9),{class:"h-5 w-5 ui-open:rotate-180 ui-open:transform transition-transform"})]),_:1}),H(B(Yu),{class:"px-4 pt-4 pb-5 bg-light-secondary dark:bg-dark-secondary rounded-b-lg"},{default:te(()=>[c("div",pF,[c("div",mF,[b[4]||(b[4]=c("span",null,"Subtotal",-1)),c("span",null,W(B(Ye)(o.value)),1)]),c("div",gF,[b[5]||(b[5]=c("span",{class:"text-light-text-primary dark:text-dark-text-primary"},"Shipping",-1)),l.value>0?(M(),U("span",vF,W(B(Ye)(l.value)),1)):(M(),U("span",yF,"Free"))]),l.value>0?(M(),U("div",bF,[b[6]||(b[6]=c("p",null,"Free shipping on orders over KES 10,000",-1)),c("p",xF,"Add "+W(B(Ye)(1e4-o.value))+" more to qualify",1)])):de("",!0),c("div",_F,[c("div",wF,[b[7]||(b[7]=c("span",null,"Total",-1)),c("span",null,W(B(Ye)(d.value)),1)])])]),c("div",kF,[H(w,{to:"/checkout",class:"bg-orange-500 hover:bg-orange-600 dark:bg-orange-600 dark:hover:bg-orange-500 text-white w-full py-2 block text-center rounded-md transition-colors focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 focus:outline-none text-sm disabled:opacity-50 disabled:cursor-not-allowed",disabled:i.value.length===0,"aria-disabled":i.value.length===0},{default:te(()=>b[8]||(b[8]=[ue(" Proceed to Checkout ")])),_:1},8,["disabled","aria-disabled"]),H(w,{to:"/products",class:"text-accent-quaternary hover:text-accent-quaternary/80 transition-colors text-center block focus:outline-none focus:underline text-sm"},{default:te(()=>b[9]||(b[9]=[ue(" Continue Shopping ")])),_:1})])]),_:1})]),_:1}),H(qx,{name:"cart-item",tag:"ul",class:"divide-y divide-light-neutral-300 dark:divide-dark-neutral-600"},{default:te(()=>[(M(!0),U(xe,null,qe(i.value,_=>(M(),U("li",{key:_.id,class:$e(["flex py-6 first:pt-0 items-center cart-item-transition",{"opacity-50":r.value}])},[c("div",EF,[c("img",{src:_.image,alt:_.name,class:"w-24 h-24 object-cover rounded-md shadow-sm",loading:"lazy"},null,8,IF)]),c("div",TF,[H(w,{to:`/product/${_.id}`,class:"text-lg font-semibold text-light-text-primary dark:text-dark-text-primary hover:text-orange-500 dark:hover:text-orange-400 focus:outline-none focus:underline","aria-label":`View ${_.name} details`},{default:te(()=>[ue(W(_.name),1)]),_:2},1032,["to","aria-label"]),c("p",AF,W(B(Ye)(_.price))+" each",1),c("div",SF,[c("div",CF,[c("button",{onClick:T=>h(_.id,_.quantity-1),class:"px-3 py-1 text-light-text-primary dark:text-dark-text-primary hover:bg-light-neutral-100 dark:hover:bg-dark-neutral-700 transition-colors rounded-l-md focus:outline-none focus:ring-2 focus:ring-accent-primary focus:ring-inset","aria-label":"Decrease quantity"},b[10]||(b[10]=[c("span",{"aria-hidden":"true"},"−",-1)]),8,PF),c("span",RF,W(_.quantity),1),c("button",{onClick:T=>h(_.id,_.quantity+1),class:"px-3 py-1 text-light-text-primary dark:text-dark-text-primary hover:bg-light-neutral-100 dark:hover:bg-dark-neutral-700 transition-colors rounded-r-md focus:outline-none focus:ring-2 focus:ring-accent-primary focus:ring-inset","aria-label":"Increase quantity"},b[11]||(b[11]=[c("span",{"aria-hidden":"true"},"+",-1)]),8,NF)]),c("button",{onClick:T=>f(_),class:"ml-4 text-red-500 hover:text-red-700 transition-colors focus:outline-none focus:underline","aria-label":"Remove item from cart"}," Remove ",8,$F)])]),c("div",OF,[c("p",DF,W(B(Ye)(_.price*_.quantity)),1)])],2))),128))]),_:1})]),c("section",MF,[b[18]||(b[18]=c("h2",{id:"order-summary-heading",class:"text-xl font-bold mb-6 border-b border-light-neutral-300 dark:border-dark-neutral-600 pb-3 text-light-text-primary dark:text-dark-text-primary"},"Order Summary",-1)),c("div",VF,[c("div",LF,[c("span",null,"Subtotal ("+W(a.value)+" "+W(a.value===1?"item":"items")+")",1),c("span",null,W(B(Ye)(o.value)),1)]),c("div",FF,[b[13]||(b[13]=c("span",null,"Shipping",-1)),l.value>0?(M(),U("span",UF,W(B(Ye)(l.value)),1)):(M(),U("span",jF,"Free"))]),l.value>0?(M(),U("div",BF,[b[14]||(b[14]=c("p",null,"Free shipping on orders over KES 10,000",-1)),c("p",qF,"Add "+W(B(Ye)(1e4-o.value))+" more to qualify",1)])):de("",!0),c("div",HF,[c("div",zF,[b[15]||(b[15]=c("span",null,"Total",-1)),c("span",null,W(B(Ye)(d.value)),1)])])]),c("div",WF,[H(w,{to:"/checkout",class:"bg-orange-500 hover:bg-orange-600 dark:bg-orange-600 dark:hover:bg-orange-500 text-white w-full py-3 block text-center rounded-md transition-colors focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed",disabled:i.value.length===0,"aria-disabled":i.value.length===0},{default:te(()=>b[16]||(b[16]=[ue(" Proceed to Checkout ")])),_:1},8,["disabled","aria-disabled"]),H(w,{to:"/products",class:"text-accent-quaternary hover:text-accent-quaternary/80 transition-colors text-center block focus:outline-none focus:underline"},{default:te(()=>b[17]||(b[17]=[ue(" Continue Shopping ")])),_:1})])])])),H(B(dn),{appear:"",show:n.value,as:"template"},{default:te(()=>[H(B(rh),{as:"div",onClose:b[1]||(b[1]=_=>n.value=!1),class:"relative z-10"},{default:te(()=>[H(B(fs),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:te(()=>b[19]||(b[19]=[c("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)])),_:1}),c("div",KF,[c("div",GF,[H(B(fs),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:te(()=>[H(B(nh),{class:"w-full max-w-md transform overflow-hidden rounded-lg bg-light-secondary dark:bg-dark-secondary p-6 text-left align-middle shadow-xl transition-all"},{default:te(()=>{var _;return[H(B(W2),{as:"h3",class:"text-lg font-medium leading-6 text-light-text-primary dark:text-dark-text-primary"},{default:te(()=>b[20]||(b[20]=[ue(" Remove Item ")])),_:1}),c("div",QF,[c("p",YF,' Are you sure you want to remove "'+W((_=s.value)==null?void 0:_.name)+'" from your cart? ',1)]),c("div",JF,[c("button",{type:"button",class:"inline-flex justify-center rounded-md border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary px-4 py-2 text-sm font-medium text-light-text-primary dark:text-dark-text-primary hover:bg-light-neutral-100 dark:hover:bg-dark-neutral-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:ring-offset-2",onClick:b[0]||(b[0]=T=>n.value=!1)}," Cancel "),c("button",{type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-red-500 px-4 py-2 text-sm font-medium text-white hover:bg-red-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-red-500 focus-visible:ring-offset-2",onClick:p}," Remove ")])]}),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}}},ZF=Gr(XF,[["__scopeId","data-v-392a5ccd"]]);/*!
 * paypal-js v8.2.0 (2025-01-23T17:26:53.747Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eU(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function tU(t,e){var r=document.querySelector('script[src="'.concat(t,'"]'));if(r===null)return null;var n=iE(t,e),s=r.cloneNode();if(delete s.dataset.uidAuto,Object.keys(s.dataset).length!==Object.keys(n.dataset).length)return null;var i=!0;return Object.keys(s.dataset).forEach(function(o){s.dataset[o]!==n.dataset[o]&&(i=!1)}),i?r:null}function rU(t){var e=t.url,r=t.attributes,n=t.onSuccess,s=t.onError,i=iE(e,r);i.onerror=s,i.onload=n,document.head.insertBefore(i,document.head.firstElementChild)}function nU(t){var e=t.sdkBaseUrl,r=t.environment,n=eU(t,["sdkBaseUrl","environment"]),s=e||oU(r),i=n,o=Object.keys(i).filter(function(d){return typeof i[d]<"u"&&i[d]!==null&&i[d]!==""}).reduce(function(d,h){var f=i[h].toString();return h=sU(h),h.substring(0,4)==="data"||h==="crossorigin"?d.attributes[h]=f:d.queryParams[h]=f,d},{queryParams:{},attributes:{}}),a=o.queryParams,l=o.attributes;return a["merchant-id"]&&a["merchant-id"].indexOf(",")!==-1&&(l["data-merchant-id"]=a["merchant-id"],a["merchant-id"]="*"),{url:"".concat(s,"?").concat(iU(a)),attributes:l}}function sU(t){var e=function(r,n){return(n?"-":"")+r.toLowerCase()};return t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,e)}function iU(t){var e="";return Object.keys(t).forEach(function(r){e.length!==0&&(e+="&"),e+=r+"="+t[r]}),e}function oU(t){return t==="sandbox"?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"}function iE(t,e){e===void 0&&(e={});var r=document.createElement("script");return r.src=t,Object.keys(e).forEach(function(n){r.setAttribute(n,e[n]),n==="data-csp-nonce"&&r.setAttribute("nonce",e["data-csp-nonce"])}),r}function aU(t,e){if(e===void 0&&(e=Promise),oE(t,e),typeof document>"u")return e.resolve(null);var r=nU(t),n=r.url,s=r.attributes,i=s["data-namespace"]||"paypal",o=Vb(i);return s["data-js-sdk-library"]||(s["data-js-sdk-library"]="paypal-js"),tU(n,s)&&o?e.resolve(o):lU({url:n,attributes:s},e).then(function(){var a=Vb(i);if(a)return a;throw new Error("The window.".concat(i," global variable is not available."))})}function lU(t,e){e===void 0&&(e=Promise),oE(t,e);var r=t.url,n=t.attributes;if(typeof r!="string"||r.length===0)throw new Error("Invalid url.");if(typeof n<"u"&&typeof n!="object")throw new Error("Expected attributes to be an object.");return new e(function(s,i){if(typeof document>"u")return s();rU({url:r,attributes:n,onSuccess:function(){return s()},onError:function(){var o=new Error('The script "'.concat(r,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return i(o)}})})}function Vb(t){return window[t]}function oE(t,e){if(typeof t!="object"||t===null)throw new Error("Expected an options object.");var r=t.environment;if(r&&r!=="production"&&r!=="sandbox")throw new Error('The `environment` option must be either "production" or "sandbox".');if(typeof e<"u"&&typeof e!="function")throw new Error("Expected PromisePonyfill to be a function.")}const cU="YOUR_PAYPAL_CLIENT_ID",qc={async initializePayPal(){try{return await aU({"client-id":cU,currency:"USD",intent:"capture"})}catch(t){throw console.error("Failed to load PayPal JS SDK:",t),t}},createOrder(t,e){return{purchase_units:[{amount:{currency_code:"USD",value:t.toFixed(2),breakdown:{item_total:{currency_code:"USD",value:t.toFixed(2)}}},items:e.map(r=>({name:r.name,unit_amount:{currency_code:"USD",value:r.price.toFixed(2)},quantity:r.quantity.toString()}))}]}},async handlePayPalError(t){throw console.error("PayPal Error:",t),t}},uU={class:"bg-light-primary dark:bg-dark-primary min-h-screen pb-16"},dU={key:0,class:"container mx-auto px-4"},hU={class:"max-w-3xl mx-auto bg-light-secondary dark:bg-dark-secondary shadow-lg rounded-lg overflow-hidden"},fU={class:"bg-green-50 dark:bg-green-900 p-6 sm:p-10 text-center"},pU={class:"text-green-700 dark:text-green-300 text-lg"},mU={class:"mt-8 flex justify-center"},gU={key:1,class:"container mx-auto px-4 mb-8"},vU={class:"max-w-3xl mx-auto bg-red-50 dark:bg-red-900 border border-red-200 dark:border-red-800 p-4 rounded-lg flex items-start"},yU={class:"ml-3"},bU={class:"text-red-700 dark:text-red-300 font-medium"},xU={key:2,class:"container mx-auto px-4"},_U={class:"grid grid-cols-1 lg:grid-cols-3 lg:gap-8"},wU={class:"lg:col-span-2"},kU={class:"bg-light-secondary dark:bg-dark-secondary shadow rounded-lg overflow-hidden mb-8"},EU={class:"p-6"},IU={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},TU={class:"mb-6"},AU={class:"mb-6"},SU=["value"],CU={key:0,class:"mb-6"},PU=["value"],RU={key:1,class:"mb-6"},NU={class:"mt-6"},$U={class:"flex items-center"},OU={class:"bg-light-secondary dark:bg-dark-secondary shadow rounded-lg overflow-hidden mb-8"},DU={class:"p-6"},MU={class:"border-b border-light-neutral-200 dark:border-dark-neutral-700"},VU={class:"-mb-px flex space-x-8"},LU=["onClick"],FU={key:0,class:"mt-6"},UU={class:"mb-6"},jU={key:1,class:"mt-6"},BU={class:"bg-light-neutral-100 dark:bg-dark-neutral-800 p-4 rounded-md"},qU={class:"mt-4"},HU={class:"flex items-center"},zU={class:"ml-2 text-sm text-light-text-primary dark:text-dark-text-primary"},WU={key:2,class:"mt-6"},KU={class:"p-6"},GU={class:"mb-6"},QU={class:"mb-6"},YU={class:"relative"},JU={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},XU={class:"relative"},ZU={class:"absolute inset-y-0 right-0 pr-3 flex items-center"},ej={key:0,class:"mt-1 text-sm text-light-neutral-500 dark:text-dark-neutral-500"},tj={key:3,class:"mt-6"},rj={class:"bg-light-neutral-100 dark:bg-dark-neutral-800 p-4 rounded-md text-center"},nj={class:"mx-auto max-w-[200px] mb-4"},sj=["disabled"],ij={key:0,class:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},oj={class:"mt-10 lg:mt-0"},aj={class:"bg-light-secondary dark:bg-dark-secondary shadow rounded-lg overflow-hidden sticky top-6"},lj={class:"px-6 py-4"},cj={class:"flow-root"},uj={class:"-my-4 divide-y divide-light-neutral-200 dark:divide-dark-neutral-700"},dj={class:"flex-shrink-0 w-16 h-16 border border-light-neutral-200 dark:border-dark-neutral-700 rounded-md overflow-hidden"},hj=["src","alt"],fj={class:"ml-4 flex-1 flex flex-col"},pj={class:"flex justify-between text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},mj={class:"ml-4"},gj={class:"mt-1 text-sm text-light-text-secondary dark:text-dark-text-secondary"},vj={class:"flex-1 flex items-end justify-between text-sm"},yj={class:"text-light-text-secondary dark:text-dark-text-secondary"},bj={class:"border-t border-light-neutral-200 dark:border-dark-neutral-700 px-6 py-4 space-y-3"},xj={class:"flex justify-between text-sm text-light-text-secondary dark:text-dark-text-secondary"},_j={class:"flex justify-between text-sm text-light-text-secondary dark:text-dark-text-secondary"},wj={key:0},kj={key:1,class:"text-green-600 dark:text-green-400"},Ej={class:"flex justify-between text-sm text-light-text-secondary dark:text-dark-text-secondary"},Ij={class:"pt-3 border-t border-light-neutral-200 dark:border-dark-neutral-700"},Tj={class:"flex justify-between text-base font-medium text-light-text-primary dark:text-dark-text-primary"},Aj={__name:"CheckoutView",setup(t){const e=si(),r=Nn(),n=eo(),s=q(!1),i=q(""),o=q(""),a=q(null),l=q(!1),d=q(!0),h=["Nairobi","Mombasa","Kisumu","Nakuru","Eldoret","Kitengela","Thika","Machakos","Kahawa","Ruiru","Athi River","Kiambu","Rongai"],f={Nairobi:["CBD - Kencom House","CBD - Archives","CBD - Afya Centre","Westlands - The Mall","Eastleigh - First Avenue","South B - Capital Center","Karen - Karen Hub"],Kitengela:["Kitengela Mall","EPZ Plaza","Milestone Mall"],Kahawa:["Kahawa West Shopping Center","Kahawa Sukari Mall","Kahawa Wendani Plaza"]},p=q({firstName:"",lastName:"",email:"",phone:"",deliveryMethod:"",city:"",pickupPoint:"",address:""}),v=q([]),b=()=>{p.value.pickupPoint="",p.value.address=""},w=()=>{p.value.pickupPoint="",p.value.city&&f[p.value.city]?v.value=f[p.value.city]:v.value=[]},_=q({cardName:"",cardNumber:"",expirationDate:"",cvv:""}),T=[{id:"mobile-money",name:"M-Pesa"},{id:"cash",name:"Cash on Delivery"},{id:"card",name:"Card Payment"},{id:"paypal",name:"PayPal"}],S=q("mobile-money"),E=q({phoneNumber:""}),N=q(!1),C=q(null),F=q(!1),I=q(!1);q(1),Rt(S,async D=>{D==="paypal"&&!F.value&&await y()});const y=async()=>{try{const D=await qc.initializePayPal();C.value&&(D.Buttons({style:{layout:"vertical",color:"blue",shape:"rect",label:"paypal"},createOrder:async(A,Z)=>{const ee=qc.createOrder(G.value+L.value*.08,Y.value);return Z.order.create(ee)},onApprove:async(A,Z)=>{I.value=!0;try{const ee=await Z.order.capture();await m(ee)}catch(ee){await qc.handlePayPalError(ee)}finally{I.value=!1}},onError:async A=>{await qc.handlePayPalError(A)}}).render(C.value),F.value=!0)}catch(D){console.error("Failed to initialize PayPal:",D),i.value="Failed to initialize PayPal. Please try another payment method."}},m=async D=>{try{const A={...k(),paymentMethod:"paypal",paymentDetails:{paypal:!0,orderId:D.id,status:D.status,payerEmail:D.payer.email_address},status:"paid"};await ze.createOrder(A),n.clearCart(),o.value="Order placed successfully! Payment completed via PayPal.",setTimeout(()=>{e.push("/account")},3e3)}catch(A){console.error("Error processing PayPal order:",A),i.value="Failed to process PayPal payment. Please contact support."}},k=()=>({userId:r.user.uid,orderNumber:`ORD-${Date.now().toString().slice(-6)}`,items:Y.value,subtotal:L.value,shipping:oe.value,total:G.value+L.value*.08,shippingInfo:{...p.value},orderDate:new Date,estimatedDelivery:new Date(Date.now()+7*24*60*60*1e3)}),$=re(()=>{switch(S.value){case"mobile-money":return/^254[0-9]{9}$/.test(E.value.phoneNumber);case"cash":return N.value;case"card":return _.value.cardNumber&&_.value.cardName&&_.value.expirationDate&&_.value.cvv;case"paypal":return!0;default:return!1}}),P=()=>{if(s.value)return"Processing...";switch(S.value){case"mobile-money":return`Pay with M-Pesa - ${Ye(G.value+L.value*.08)}`;case"cash":return`Place Order - Pay ${Ye(G.value+L.value*.08)} on Delivery`;case"card":return`Pay ${Ye(G.value+L.value*.08)}`;case"paypal":return`Proceed to PayPal - ${Ye(G.value+L.value*.08)}`;default:return`Complete Order - ${Ye(G.value+L.value*.08)}`}},R=()=>{console.log("Redirecting to PayPal...")},le=()=>{window.open("/digital-wallet/ways-to-pay/add-payment-method","WIPaypal","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=yes, resizable=yes, width=1060, height=700")},Y=re(()=>n.cart),L=re(()=>n.subtotal),oe=re(()=>L.value>=100?0:10),G=re(()=>L.value+oe.value);je(async()=>{if(r.user)try{const D=await ze.getUserProfile(r.user.uid);a.value=D,D&&(p.value={...p.value,firstName:D.firstName||"",lastName:D.lastName||"",email:D.email||r.user.email,phone:D.phone||"",address:D.address||""})}catch(D){console.error("Error loading user profile:",D)}else e.push("/login?redirect=checkout");Y.value.length===0&&e.push("/cart")});const ge=async()=>{if(s.value=!0,i.value="",Y.value.length===0){i.value="Your cart is empty",s.value=!1;return}try{const D=new Date,A=`ORD-${Date.now().toString().slice(-6)}`,Z={userId:r.user.uid,orderNumber:A,items:Y.value,subtotal:L.value,shipping:oe.value,total:G.value,shippingInfo:{...p.value},paymentMethod:S.value,paymentDetails:Se(),status:Ie(),orderDate:D,estimatedDelivery:new Date(D.setDate(D.getDate()+7))},ee=await ze.createOrder(Z);S.value==="mobile-money"&&await Le(ee.id),n.clearCart(),o.value=Te(A),setTimeout(()=>{e.push("/account")},3e3)}catch(D){i.value="Failed to place order. Please try again.",console.error("Error placing order:",D)}finally{s.value=!1}},Se=()=>{switch(S.value){case"mobile-money":return{phoneNumber:E.value.phoneNumber};case"cash":return{cashOnDelivery:!0};case"card":return{cardName:_.value.cardName,lastFourDigits:_.value.cardNumber.slice(-4),cardType:ot(_.value.cardNumber)};case"paypal":return{paypal:!0};default:return{}}},Ie=()=>{switch(S.value){case"mobile-money":return"awaiting_payment";case"cash":return"pending";case"card":case"paypal":return"processing";default:return"pending"}},Te=D=>{switch(S.value){case"mobile-money":return`Order ${D} placed! Please check your phone for the M-Pesa payment prompt.`;case"cash":return`Order ${D} placed! Please have ${Ye(G.value+L.value*.08)} ready for delivery.`;case"card":return`Order ${D} placed successfully! Your card has been charged.`;case"paypal":return`Order ${D} placed successfully! Payment completed via PayPal.`;default:return`Order placed successfully! Your order number is ${D}.`}},Le=async D=>{try{console.log("Initiating M-Pesa payment for order:",D)}catch(A){throw console.error("Error initiating M-Pesa payment:",A),A}},ot=D=>{const A=D.replace(/\D/g,"");return/^4/.test(A)?"Visa":/^5[1-5]/.test(A)?"MasterCard":/^3[47]/.test(A)?"American Express":/^6(?:011|5)/.test(A)?"Discover":"Unknown"},Et={mounted(D,A){D.addEventListener("input",Z=>{const{value:ee}=A;if(!ee||!ee.value)return;const Ce=Z.target.value.replace(/\D/g,""),V=ee.value;let j="",Q=0;for(let ne=0;ne<V.length&&Q<Ce.length;ne++)V[ne]==="#"?(j+=Ce[Q],Q++):j+=V[ne];Z.target.value=j})}},z={mounted(D,A){A&&A.value&&Et.mounted(D,A)}};return(D,A)=>{const Z=Lr("router-link");return M(),U("div",uU,[A[57]||(A[57]=Tt('<div class="bg-light-secondary dark:bg-dark-secondary shadow-sm py-8 mb-8" data-v-ce49e11e><div class="container mx-auto px-4" data-v-ce49e11e><div class="max-w-4xl mx-auto" data-v-ce49e11e><div class="flex flex-col sm:flex-row items-center justify-between gap-4" data-v-ce49e11e><div class="flex items-center w-full sm:w-auto" data-v-ce49e11e><div class="relative" data-v-ce49e11e><div class="w-12 h-12 rounded-full bg-btn-primary text-white flex items-center justify-center font-semibold text-lg" data-v-ce49e11e> 1 </div><div class="absolute -right-4 top-1/2 h-1 w-8 bg-btn-primary hidden sm:block" data-v-ce49e11e></div></div><div class="ml-4" data-v-ce49e11e><p class="font-medium text-btn-primary" data-v-ce49e11e>Cart</p><p class="text-sm text-light-text-secondary dark:text-dark-text-secondary" data-v-ce49e11e>Review items</p></div></div><div class="flex items-center w-full sm:w-auto" data-v-ce49e11e><div class="relative" data-v-ce49e11e><div class="w-12 h-12 rounded-full bg-btn-primary text-white flex items-center justify-center font-semibold text-lg" data-v-ce49e11e> 2 </div><div class="absolute -right-4 top-1/2 h-1 w-8 bg-btn-primary hidden sm:block" data-v-ce49e11e></div><div class="absolute -left-4 top-1/2 h-1 w-8 bg-btn-primary hidden sm:block" data-v-ce49e11e></div></div><div class="ml-4" data-v-ce49e11e><p class="font-medium text-btn-primary" data-v-ce49e11e>Checkout</p><p class="text-sm text-light-text-secondary dark:text-dark-text-secondary" data-v-ce49e11e>Payment details</p></div></div><div class="flex items-center w-full sm:w-auto" data-v-ce49e11e><div class="relative" data-v-ce49e11e><div class="w-12 h-12 rounded-full bg-light-neutral-300 dark:bg-dark-neutral-600 text-light-neutral-600 dark:text-dark-neutral-300 flex items-center justify-center font-semibold text-lg" data-v-ce49e11e> 3 </div><div class="absolute -left-4 top-1/2 h-1 w-8 bg-light-neutral-300 dark:bg-dark-neutral-600 hidden sm:block" data-v-ce49e11e></div></div><div class="ml-4" data-v-ce49e11e><p class="font-medium text-light-neutral-500 dark:text-dark-neutral-400" data-v-ce49e11e>Confirmation</p><p class="text-sm text-light-text-secondary dark:text-dark-text-secondary" data-v-ce49e11e>Order complete</p></div></div></div></div></div></div>',1)),o.value?(M(),U("div",dU,[c("div",hU,[c("div",fU,[A[18]||(A[18]=Tt('<div class="flex justify-center mb-5" data-v-ce49e11e><div class="rounded-full bg-green-100 dark:bg-green-800 p-3" data-v-ce49e11e><svg class="h-10 w-10 text-green-600 dark:text-green-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-ce49e11e><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" data-v-ce49e11e></path></svg></div></div><h2 class="text-2xl font-bold text-green-800 dark:text-green-200 mb-2" data-v-ce49e11e>Order Placed Successfully!</h2>',2)),c("p",pU,W(o.value),1),A[19]||(A[19]=c("p",{class:"mt-4 text-light-text-secondary dark:text-dark-text-secondary"},"Redirecting to your account page...",-1)),c("div",mU,[H(Z,{to:"/account",class:"px-6 py-3 bg-accent-primary hover:bg-accent-secondary text-white font-medium rounded-md transition-all"},{default:te(()=>A[17]||(A[17]=[ue(" View order details ")])),_:1})])])])])):i.value?(M(),U("div",gU,[c("div",vU,[A[21]||(A[21]=c("div",{class:"flex-shrink-0 mt-0.5"},[c("svg",{class:"h-5 w-5 text-red-600 dark:text-red-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),c("div",yU,[c("p",bU,W(i.value),1)]),c("button",{onClick:A[0]||(A[0]=ee=>i.value=""),class:"ml-auto text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300"},A[20]||(A[20]=[c("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])])):(M(),U("div",xU,[c("div",_U,[c("div",wU,[c("form",{onSubmit:Vr(ge,["prevent"])},[c("div",kU,[A[35]||(A[35]=Tt('<div class="bg-light-neutral-100 dark:bg-dark-neutral-800 py-4 px-6 border-b border-light-neutral-200 dark:border-dark-neutral-700" data-v-ce49e11e><div class="flex items-center" data-v-ce49e11e><div class="bg-accent-primary rounded-full h-8 w-8 flex items-center justify-center mr-3" data-v-ce49e11e><svg class="h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-ce49e11e><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" data-v-ce49e11e></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" data-v-ce49e11e></path></svg></div><h2 class="text-xl font-bold text-light-text-primary dark:text-dark-text-primary" data-v-ce49e11e>Shipping Information</h2></div></div>',1)),c("div",EU,[c("div",IU,[c("div",null,[A[22]||(A[22]=c("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"First Name",-1)),ke(c("input",{"onUpdate:modelValue":A[1]||(A[1]=ee=>p.value.firstName=ee),type:"text",required:"",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all",placeholder:"Your first name"},null,512),[[Pe,p.value.firstName]])]),c("div",null,[A[23]||(A[23]=c("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"Last Name",-1)),ke(c("input",{"onUpdate:modelValue":A[2]||(A[2]=ee=>p.value.lastName=ee),type:"text",required:"",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all",placeholder:"Your last name"},null,512),[[Pe,p.value.lastName]])]),c("div",null,[A[24]||(A[24]=c("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"Email",-1)),ke(c("input",{"onUpdate:modelValue":A[3]||(A[3]=ee=>p.value.email=ee),type:"email",required:"",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all",placeholder:"your.email@example.com"},null,512),[[Pe,p.value.email]])]),c("div",null,[A[25]||(A[25]=c("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"Phone",-1)),ke(c("input",{"onUpdate:modelValue":A[4]||(A[4]=ee=>p.value.phone=ee),type:"tel",required:"",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all",placeholder:"254XXXXXXXXX"},null,512),[[Pe,p.value.phone]])])]),c("div",TU,[A[27]||(A[27]=c("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"Delivery Method",-1)),ke(c("select",{"onUpdate:modelValue":A[5]||(A[5]=ee=>p.value.deliveryMethod=ee),required:"",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all",onChange:b},A[26]||(A[26]=[c("option",{value:""},"Select delivery method",-1),c("option",{value:"delivery"},"Home/Office Delivery",-1),c("option",{value:"pickup"},"Pickup Point",-1)]),544),[[rs,p.value.deliveryMethod]])]),c("div",AU,[A[29]||(A[29]=c("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"City",-1)),ke(c("select",{"onUpdate:modelValue":A[6]||(A[6]=ee=>p.value.city=ee),required:"",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all",onChange:w},[A[28]||(A[28]=c("option",{value:""},"Select city",-1)),(M(),U(xe,null,qe(h,ee=>c("option",{key:ee,value:ee},W(ee),9,SU)),64))],544),[[rs,p.value.city]])]),p.value.deliveryMethod==="pickup"?(M(),U("div",CU,[A[31]||(A[31]=c("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"Pickup Point",-1)),ke(c("select",{"onUpdate:modelValue":A[7]||(A[7]=ee=>p.value.pickupPoint=ee),required:"",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all"},[A[30]||(A[30]=c("option",{value:""},"Select pickup point",-1)),(M(!0),U(xe,null,qe(v.value,ee=>(M(),U("option",{key:ee,value:ee},W(ee),9,PU))),128))],512),[[rs,p.value.pickupPoint]])])):de("",!0),p.value.deliveryMethod==="delivery"?(M(),U("div",RU,[A[32]||(A[32]=c("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"Detailed Address",-1)),ke(c("textarea",{"onUpdate:modelValue":A[8]||(A[8]=ee=>p.value.address=ee),required:"",rows:"3",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all",placeholder:"Enter your detailed address (e.g., House/Apartment number, Street name, Estate/Area)"},null,512),[[Pe,p.value.address]]),A[33]||(A[33]=c("p",{class:"mt-1 text-sm text-light-text-secondary dark:text-dark-text-secondary"}," Please provide landmarks or additional directions to help locate your address ",-1))])):de("",!0),c("div",NU,[c("div",$U,[ke(c("input",{id:"save-info",type:"checkbox","onUpdate:modelValue":A[9]||(A[9]=ee=>d.value=ee),class:"h-4 w-4 text-accent-primary focus:ring-accent-primary border-light-neutral-300 dark:border-dark-neutral-600 rounded"},null,512),[[Vo,d.value]]),A[34]||(A[34]=c("label",{for:"save-info",class:"ml-2 block text-sm text-light-text-primary dark:text-dark-text-primary"}," Save this information for next time ",-1))])])])]),c("div",OU,[A[48]||(A[48]=Tt('<div class="bg-light-neutral-100 dark:bg-dark-neutral-800 py-4 px-6 border-b border-light-neutral-200 dark:border-dark-neutral-700" data-v-ce49e11e><div class="flex items-center" data-v-ce49e11e><div class="bg-accent-primary rounded-full h-8 w-8 flex items-center justify-center mr-3" data-v-ce49e11e><svg class="h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-ce49e11e><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z" data-v-ce49e11e></path></svg></div><h2 class="text-xl font-bold text-light-text-primary dark:text-dark-text-primary" data-v-ce49e11e>Payment Method</h2></div></div>',1)),c("div",DU,[c("div",MU,[c("nav",VU,[(M(),U(xe,null,qe(T,ee=>c("button",{key:ee.id,onClick:Ce=>S.value=ee.id,class:$e([S.value===ee.id?"border-accent-primary text-accent-primary":"border-transparent text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary hover:border-light-neutral-300 dark:hover:border-dark-neutral-700","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])},W(ee.name),11,LU)),64))])]),S.value==="mobile-money"?(M(),U("div",FU,[c("div",UU,[A[36]||(A[36]=c("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"Phone Number",-1)),ke(c("input",{"onUpdate:modelValue":A[10]||(A[10]=ee=>E.value.phoneNumber=ee),type:"tel",required:"",placeholder:"254XXXXXXXXX",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all"},null,512),[[Pe,E.value.phoneNumber]])]),A[37]||(A[37]=c("p",{class:"text-sm text-light-text-secondary dark:text-dark-text-secondary mt-2"}," You will receive an M-Pesa prompt on your phone to complete the payment. ",-1))])):de("",!0),S.value==="cash"?(M(),U("div",jU,[c("div",BU,[A[38]||(A[38]=c("p",{class:"text-sm text-light-text-primary dark:text-dark-text-primary"}," You will pay in cash when your order is delivered. Please have the exact amount ready. ",-1)),c("div",qU,[c("label",HU,[ke(c("input",{type:"checkbox","onUpdate:modelValue":A[11]||(A[11]=ee=>N.value=ee),class:"h-4 w-4 text-accent-primary focus:ring-accent-primary border-light-neutral-300 dark:border-dark-neutral-600 rounded"},null,512),[[Vo,N.value]]),c("span",zU," I agree to pay the full amount of "+W(B(Ye)(G.value+L.value*.08))+" upon delivery ",1)])])])])):de("",!0),S.value==="card"?(M(),U("div",WU,[c("div",KU,[A[45]||(A[45]=Tt('<div class="mb-8" data-v-ce49e11e><div class="flex items-center justify-between mb-4" data-v-ce49e11e><p class="text-sm font-medium text-light-text-primary dark:text-dark-text-primary" data-v-ce49e11e>Accepted Cards</p><div class="flex space-x-2" data-v-ce49e11e><div class="h-8 w-12 rounded border bg-light-neutral-100 dark:bg-dark-neutral-800 flex items-center justify-center" data-v-ce49e11e><span class="text-xs font-bold text-blue-700" data-v-ce49e11e>VISA</span></div><div class="h-8 w-12 rounded border bg-light-neutral-100 dark:bg-dark-neutral-800 flex items-center justify-center" data-v-ce49e11e><span class="text-xs font-bold text-red-700" data-v-ce49e11e>MC</span></div><div class="h-8 w-12 rounded border bg-light-neutral-100 dark:bg-dark-neutral-800 flex items-center justify-center" data-v-ce49e11e><span class="text-xs font-bold text-blue-900" data-v-ce49e11e>AMEX</span></div></div></div></div>',1)),c("div",GU,[A[39]||(A[39]=c("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"Name on Card",-1)),ke(c("input",{"onUpdate:modelValue":A[12]||(A[12]=ee=>_.value.cardName=ee),type:"text",required:"",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all"},null,512),[[Pe,_.value.cardName]])]),c("div",QU,[A[41]||(A[41]=c("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"Card Number",-1)),c("div",YU,[ke(c("input",{"onUpdate:modelValue":A[13]||(A[13]=ee=>_.value.cardNumber=ee),type:"text",required:"",placeholder:"1234 5678 9012 3456",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all"},null,512),[[Pe,_.value.cardNumber],[B(z),"#### #### #### ####"]]),A[40]||(A[40]=c("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[c("svg",{class:"h-5 w-5 text-light-neutral-400 dark:text-dark-neutral-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})])],-1))])]),c("div",JU,[c("div",null,[A[42]||(A[42]=c("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"Expiration Date",-1)),ke(c("input",{"onUpdate:modelValue":A[14]||(A[14]=ee=>_.value.expirationDate=ee),type:"text",required:"",placeholder:"MM/YY",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all"},null,512),[[Pe,_.value.expirationDate],[B(z),"##/##"]])]),c("div",null,[A[44]||(A[44]=c("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"CVV",-1)),c("div",XU,[ke(c("input",{"onUpdate:modelValue":A[15]||(A[15]=ee=>_.value.cvv=ee),type:"text",required:"",placeholder:"123",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all",maxlength:"3"},null,512),[[Pe,_.value.cvv],[B(z),"###"]]),c("div",ZU,[c("button",{type:"button",onClick:A[16]||(A[16]=ee=>l.value=!l.value),class:"text-light-neutral-400 dark:text-dark-neutral-600 hover:text-light-neutral-500 dark:hover:text-dark-neutral-500 focus:outline-none"},A[43]||(A[43]=[c("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)]))])]),l.value?(M(),U("div",ej," The CVV is a 3-digit security code found on the back of your card. ")):de("",!0)])])])])):de("",!0),S.value==="paypal"?(M(),U("div",tj,[c("div",rj,[c("div",nj,[c("a",{href:"/digital-wallet/ways-to-pay/add-payment-method",title:"How PayPal Works",onClick:Vr(le,["prevent"]),class:"inline-block"},A[46]||(A[46]=[c("img",{src:"https://www.paypalobjects.com/webstatic/mktg/logo/pp_cc_mark_74x46.jpg",alt:"PayPal Logo",class:"mx-auto"},null,-1)]))]),A[47]||(A[47]=c("p",{class:"text-sm text-light-text-primary dark:text-dark-text-primary my-4"}," You will be redirected to PayPal to complete your payment securely. ",-1)),c("div",{ref_key:"paypalButtonsContainer",ref:C},null,512),c("button",{type:"button",onClick:R,class:"w-full py-3 bg-btn-primary hover:bg-btn-primary-hover active:bg-btn-primary-dark text-white font-medium rounded-md transition-all"}," Checkout with PayPal ")])])):de("",!0)])]),c("button",{type:"submit",class:$e(["w-full py-4 bg-btn-primary hover:bg-btn-primary-hover active:bg-btn-primary-dark text-white text-lg font-medium rounded-md transition-all flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent-primary",{"opacity-75 cursor-not-allowed":s.value||!$.value}]),disabled:s.value||!$.value},[s.value?(M(),U("svg",ij,A[49]||(A[49]=[c("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),c("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):de("",!0),ue(" "+W(P()),1)],10,sj)],32)]),c("div",oj,[c("div",aj,[A[55]||(A[55]=c("div",{class:"bg-light-neutral-100 dark:bg-dark-neutral-800 py-4 px-6 border-b border-light-neutral-200 dark:border-dark-neutral-700"},[c("h2",{class:"text-lg font-bold text-light-text-primary dark:text-dark-text-primary"},"Order Summary")],-1)),c("div",lj,[c("div",cj,[c("ul",uj,[(M(!0),U(xe,null,qe(Y.value,ee=>(M(),U("li",{key:ee.id,class:"py-4 flex"},[c("div",dj,[c("img",{src:ee.imageUrl||ee.image||"https://placehold.co/64",alt:ee.name,class:"w-full h-full object-center object-cover"},null,8,hj)]),c("div",fj,[c("div",null,[c("div",pj,[c("h3",null,W(ee.name),1),c("p",mj,W(B(Ye)(ee.price*ee.quantity)),1)]),c("p",gj,W(ee.category||"Jewelry"),1)]),c("div",vj,[c("p",yj,"Qty "+W(ee.quantity),1)])])]))),128))])])]),c("div",bj,[c("div",xj,[A[50]||(A[50]=c("p",null,"Subtotal",-1)),c("p",null,W(B(Ye)(L.value)),1)]),c("div",_j,[A[51]||(A[51]=c("p",null,"Shipping",-1)),oe.value>0?(M(),U("p",wj,W(B(Ye)(oe.value)),1)):(M(),U("p",kj,"Free"))]),c("div",Ej,[A[52]||(A[52]=c("p",null,"Taxes (estimated)",-1)),c("p",null,W(B(Ye)(L.value*.08)),1)]),c("div",Ij,[c("div",Tj,[A[53]||(A[53]=c("p",null,"Total",-1)),c("p",null,W(B(Ye)(G.value+L.value*.08)),1)]),A[54]||(A[54]=c("p",{class:"mt-1 text-sm text-light-text-secondary dark:text-dark-text-secondary"},"Shipping and taxes calculated at checkout",-1))])]),A[56]||(A[56]=Tt('<div class="px-6 pb-6 pt-2" data-v-ce49e11e><div class="mt-2" data-v-ce49e11e><div class="border border-light-neutral-300 dark:border-dark-neutral-600 rounded-md p-4 bg-light-neutral-100 dark:bg-dark-neutral-800" data-v-ce49e11e><div class="flex" data-v-ce49e11e><div class="flex-shrink-0" data-v-ce49e11e><svg class="h-5 w-5 text-green-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-ce49e11e><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" data-v-ce49e11e></path></svg></div><div class="ml-3" data-v-ce49e11e><p class="text-sm text-light-text-primary dark:text-dark-text-primary" data-v-ce49e11e><strong data-v-ce49e11e>Secure checkout</strong> - Your payment information is protected </p></div></div></div></div><div class="mt-4 flex justify-center" data-v-ce49e11e><div class="flex items-center space-x-2" data-v-ce49e11e><svg class="h-5 w-5 text-light-neutral-400 dark:text-dark-neutral-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-ce49e11e><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" data-v-ce49e11e></path></svg><span class="text-xs text-light-text-secondary dark:text-dark-text-secondary" data-v-ce49e11e>SSL Secure Payment</span></div></div></div>',1))])])])]))])}}},Sj=Gr(Aj,[["__scopeId","data-v-ce49e11e"]]),Cj="/images/Neeon%20Moon%201.jpeg",Pj="/images/Golden%20black.jpeg",Rj={class:"bg-light-primary dark:bg-dark-primary min-h-screen"},Nj={class:"bg-light-primary dark:bg-dark-primary py-24 sm:py-32"},$j={class:"mx-auto max-w-7xl px-6 lg:px-8"},Oj={class:"mx-auto mt-16 max-w-2xl sm:mt-20 lg:mt-24 lg:max-w-4xl"},Dj={class:"grid max-w-xl grid-cols-1 gap-x-8 gap-y-10 lg:max-w-none lg:grid-cols-2 lg:gap-y-16"},Mj={class:"text-base font-semibold leading-7 text-light-text-primary dark:text-dark-text-primary"},Vj={class:"absolute left-0 top-0 flex h-10 w-10 items-center justify-center rounded-lg bg-accent-primary"},Lj={class:"mt-2 text-base leading-7 text-light-text-secondary dark:text-dark-text-secondary"},Fj={class:"bg-light-secondary dark:bg-dark-secondary py-24 sm:py-32"},Uj={class:"mx-auto max-w-7xl px-6 lg:px-8"},jj={role:"list",class:"mx-auto mt-20 grid max-w-2xl grid-cols-1 gap-x-8 gap-y-16 sm:grid-cols-2 lg:mx-0 lg:max-w-none lg:grid-cols-3"},Bj=["src","alt"],qj={class:"mt-6"},Hj={class:"text-lg font-semibold leading-8 tracking-tight text-light-text-primary dark:text-dark-text-primary"},zj={class:"text-base leading-7 text-accent-primary"},Wj={class:"mt-4 text-base leading-7 text-light-text-secondary dark:text-dark-text-secondary"},Kj={class:"bg-light-primary dark:bg-dark-primary"},Gj={class:"mx-auto max-w-7xl py-24 sm:px-6 sm:py-32 lg:px-8"},Qj={class:"relative isolate overflow-hidden bg-accent-primary px-6 pt-16 shadow-2xl sm:rounded-3xl sm:px-16 md:pt-24 lg:flex lg:gap-x-20 lg:px-24 lg:pt-0 fade-in",style:{"animation-delay":"0.3s"}},Yj={class:"mx-auto max-w-md text-center lg:mx-0 lg:flex-auto lg:py-32 lg:text-left"},Jj={class:"mt-10 flex items-center justify-center gap-x-6 lg:justify-start"},Xj={__name:"AboutUs",setup(t){je(()=>{const n=new IntersectionObserver(s=>{s.forEach(i=>{i.isIntersecting&&(i.target.style.visibility="visible")})},{threshold:.1});document.querySelectorAll(".fade-in, .slide-up, .slide-in-right, .stagger-item").forEach(s=>{s.style.visibility="hidden",n.observe(s)})});const e=[{title:"Quality Craftsmanship",description:"Every piece is crafted to the highest standards, using premium materials and meticulous attention to detail.",icon:Ze({template:`
        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0012 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52l2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 01-2.031.352 5.988 5.988 0 01-2.031-.352c-.483-.174-.711-.703-.59-1.202L18.75 4.971zm-16.5.52c.99-.203 1.99-.377 3-.52m0 0l2.62 10.726c.122.499-.106 1.028-.589 1.202a5.989 5.989 0 01-2.031.352 5.989 5.989 0 01-2.031-.352c-.483-.174-.711-.703-.59-1.202L5.25 4.971z" />
        </svg>
      `})},{title:"Artistic Innovation",description:"We blend traditional techniques with contemporary design to create unique pieces that stand out.",icon:Ze({template:`
        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z" />
        </svg>
      `})},{title:"Personalized Experience",description:"We believe in creating personal connections with our customers and offering jewelry that tells their unique story.",icon:Ze({template:`
        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" />
        </svg>
      `})},{title:"Sustainable Practices",description:"We're committed to environmentally responsible practices, from ethically sourced materials to eco-friendly packaging.",icon:Ze({template:`
        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M12.75 3.03v.568c0 .334.148.65.405.864l1.068.89c.442.369.535 1.01.216 1.49l-.51.766a2.25 2.25 0 01-1.161.886l-.143.048a1.107 1.107 0 00-.57 1.664c.369.555.169 1.307-.427 1.605L9 13.125l.423 1.059a.956.956 0 01-1.652.928l-.679-.906a1.125 1.125 0 00-1.906.172L4.5 15.75l-.612.153M12.75 3.031a9 9 0 00-8.862 12.872M12.75 3.031a9 9 0 016.69 14.036m0 0l-.177-.529A2.25 2.25 0 0017.128 15H16.5l-.324-.324a1.453 1.453 0 00-2.328.377l-.036.073a1.586 1.586 0 01-.982.816l-.99.282c-.55.157-.894.702-.8 1.267l.073.438c.08.474.49.821.97.821.846 0 1.598.542 1.865 1.345l.215.643m5.276-3.67a9.012 9.012 0 01-5.276 3.67m0 0a9 9 0 01-10.275-4.835M15.75 9c0 .896-.393 1.7-1.016 2.25" />
        </svg>
      `})}],r=[{name:"Emma Anderson",role:"Founder & Lead Designer",description:"Emma brings over 15 years of jewelry design experience and a passion for creating pieces that tell stories.",image:"https://images.unsplash.com/photo-1580489944761-15a19d654956?ixlib=rb-1.2.1&auto=format&fit=crop&w=1061&q=80"},{name:"Daniel Martinez",role:"Master Craftsman",description:"Daniel's precision and attention to detail ensure that every piece meets our exacting quality standards.",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-1.2.1&auto=format&fit=crop&w=987&q=80"},{name:"Sophia Chen",role:"Materials Specialist",description:"Sophia sources the finest materials from around the world, ensuring both quality and ethical practices.",image:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-1.2.1&auto=format&fit=crop&w=928&q=80"}];return(n,s)=>(M(),U("div",Rj,[s[8]||(s[8]=Tt('<div class="relative overflow-hidden" data-v-d3447e6c><div class="absolute inset-0 fade-in" data-v-d3447e6c><img src="'+Cj+'" alt="Jewelry crafting" class="h-full w-full object-cover object-center" data-v-d3447e6c><div class="absolute inset-0 bg-gray-900 opacity-60" data-v-d3447e6c></div></div><div class="relative px-6 py-32 sm:py-40 lg:px-8" data-v-d3447e6c><div class="mx-auto max-w-2xl text-center slide-up" data-v-d3447e6c><h1 class="text-4xl font-bold tracking-tight text-white sm:text-6xl" data-v-d3447e6c>About Beabed Art</h1><p class="mt-6 text-lg leading-8 text-white" data-v-d3447e6c>Crafting uniquely beautiful jewelry to celebrate life&#39;s special moments</p></div></div></div><div class="overflow-hidden bg-light-secondary dark:bg-dark-secondary py-24 sm:py-32" data-v-d3447e6c><div class="mx-auto max-w-7xl px-6 lg:px-8" data-v-d3447e6c><div class="mx-auto grid max-w-2xl grid-cols-1 gap-x-8 gap-y-16 sm:gap-y-20 lg:mx-0 lg:max-w-none lg:grid-cols-2" data-v-d3447e6c><div class="lg:pr-8 lg:pt-4 slide-up" style="animation-delay:0.3s;" data-v-d3447e6c><div class="lg:max-w-lg" data-v-d3447e6c><h2 class="text-base font-semibold leading-7 text-accent-primary" data-v-d3447e6c>Our Story</h2><p class="mt-2 text-3xl font-bold tracking-tight text-light-text-primary dark:text-dark-text-primary sm:text-4xl" data-v-d3447e6c>Handcrafted with passion</p><p class="mt-6 text-lg leading-8 text-light-text-secondary dark:text-dark-text-secondary" data-v-d3447e6c> Beabed Art was born from a simple love of creating beautiful things. What started as a hobby in a small home workshop has grown into a passionate pursuit of craftsmanship and artistic expression. </p><p class="mt-6 text-lg leading-8 text-light-text-secondary dark:text-dark-text-secondary" data-v-d3447e6c> Every piece in our collection is handcrafted with meticulous attention to detail, using traditional techniques passed down through generations alongside innovative modern approaches. </p><p class="mt-6 text-lg leading-8 text-light-text-secondary dark:text-dark-text-secondary" data-v-d3447e6c> We believe jewelry should be as unique as the person wearing it, telling a story and creating a connection that lasts a lifetime. </p></div></div><img src="https://images.unsplash.com/photo-1617038260897-41a1f14a8ca0?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=987&amp;q=80" alt="Jewelry making process" class="slide-in-right w-[48rem] max-h-[30rem] object-cover rounded-xl shadow-xl ring-1 ring-light-neutral-300 dark:ring-dark-neutral-700 sm:w-[57rem] md:-ml-4 lg:-ml-0" style="animation-delay:0.6s;" width="2432" height="1442" data-v-d3447e6c></div></div></div>',2)),c("div",Nj,[c("div",$j,[s[0]||(s[0]=c("div",{class:"mx-auto max-w-2xl lg:text-center slide-up",style:{"animation-delay":"0.3s"}},[c("h2",{class:"text-base font-semibold leading-7 text-accent-primary"},"Our Values"),c("p",{class:"mt-2 text-3xl font-bold tracking-tight text-light-text-primary dark:text-dark-text-primary sm:text-4xl"}," What guides our craft "),c("p",{class:"mt-6 text-lg leading-8 text-light-text-secondary dark:text-dark-text-secondary"}," At Beabed Art, these principles guide everything we do, from design to customer service. ")],-1)),c("div",Oj,[c("dl",Dj,[(M(),U(xe,null,qe(e,(i,o)=>c("div",{key:o,class:"relative pl-16 stagger-item",style:St({animationDelay:`${.3+o*.2}s`})},[c("dt",Mj,[c("div",Vj,[(M(),dt(md(i.icon),{class:"h-6 w-6 text-light-text-primary dark:text-dark-text-primary"}))]),ue(" "+W(i.title),1)]),c("dd",Lj,W(i.description),1)],4)),64))])])])]),c("div",Fj,[c("div",Uj,[s[1]||(s[1]=c("div",{class:"mx-auto max-w-2xl lg:mx-0 slide-up",style:{"animation-delay":"0.3s"}},[c("h2",{class:"text-3xl font-bold tracking-tight text-light-text-primary dark:text-dark-text-primary sm:text-4xl"},"Our Team"),c("p",{class:"mt-6 text-lg leading-8 text-light-text-secondary dark:text-dark-text-secondary"}," Meet the creative minds and skilled hands behind every Beabed Art creation. ")],-1)),c("ul",jj,[(M(),U(xe,null,qe(r,(i,o)=>c("li",{key:i.name,class:"group stagger-item",style:St({animationDelay:`${.5+o*.2}s`})},[c("img",{class:$e(["aspect-[3/2] w-full rounded-2xl object-cover transition-all duration-300 group-hover:opacity-90","ring-1 ring-light-neutral-300 dark:ring-dark-neutral-700"]),src:i.image,alt:i.name},null,8,Bj),c("div",qj,[c("h3",Hj,W(i.name),1),c("p",zj,W(i.role),1),c("p",Wj,W(i.description),1)])],4)),64))])])]),c("div",Kj,[c("div",Gj,[c("div",Qj,[s[6]||(s[6]=Tt('<svg viewBox="0 0 1024 1024" class="absolute left-1/2 top-1/2 -z-10 h-[64rem] w-[64rem] -translate-y-1/2 [mask-image:radial-gradient(closest-side,white,transparent)] sm:left-full sm:-ml-80 lg:left-1/2 lg:ml-0 lg:-translate-x-1/2 lg:translate-y-0" aria-hidden="true" data-v-d3447e6c><circle cx="512" cy="512" r="512" fill="url(#759c1415-0410-454c-8f7c-9a820de03641)" fill-opacity="0.7" data-v-d3447e6c></circle><defs data-v-d3447e6c><radialGradient id="759c1415-0410-454c-8f7c-9a820de03641" data-v-d3447e6c><stop stop-color="#7775D6" data-v-d3447e6c></stop><stop offset="1" stop-color="#E935C1" data-v-d3447e6c></stop></radialGradient></defs></svg>',1)),c("div",Yj,[s[4]||(s[4]=c("h2",{class:"text-3xl font-bold tracking-tight text-light-text-primary sm:text-4xl"},"Visit Our Workshop",-1)),s[5]||(s[5]=c("p",{class:"mt-6 text-lg leading-8 text-light-text-primary/80"}," See our jewelry making process firsthand and discuss custom pieces with our designers. ",-1)),c("div",Jj,[H(B(vt),{to:"/contact",class:"rounded-btn bg-btn-primary px-3.5 py-2.5 text-sm font-semibold text-white shadow-btn hover:bg-btn-primary-hover hover:shadow-btn-hover transition-btn"},{default:te(()=>s[2]||(s[2]=[ue(" Schedule a Visit ")])),_:1}),H(B(vt),{to:"/products",class:"text-sm font-semibold leading-6 text-light-text-primary hover:text-accent-secondary transition-colors"},{default:te(()=>s[3]||(s[3]=[ue(" Shop Our Collection "),c("span",{"aria-hidden":"true"},"→",-1)])),_:1})])]),s[7]||(s[7]=c("div",{class:"relative my-8"},[c("img",{class:"w-[48rem] max-h-[30rem] object-cover rounded-xl shadow-xl ring-1 ring-light-neutral-300 dark:ring-dark-neutral-700 sm:w-[57rem] md:-ml-4 lg:-ml-0",src:Pj,alt:"Jewelry workshop"})],-1))])])])]))}},Zj=Gr(Xj,[["__scopeId","data-v-d3447e6c"]]),eB="/images/Auqu%20Sand%20varients.jpeg",tB={class:"min-h-screen bg-light-primary dark:bg-dark-primary"},rB={class:"relative isolate bg-light-secondary dark:bg-dark-secondary"},nB={class:"relative mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},sB={class:"mx-auto mt-16 grid max-w-7xl grid-cols-1 gap-x-8 gap-y-20 lg:grid-cols-12"},iB={class:"lg:col-span-5 space-y-8 animate-slideInLeft"},oB={class:"bg-light-primary dark:bg-dark-primary rounded-xl shadow-lg ring-1 ring-light-neutral-300 dark:ring-dark-neutral-700 p-8 hover:shadow-xl transition-all duration-300"},aB={class:"space-y-6 text-sm leading-6"},lB={class:"flex items-center gap-x-4 group"},cB={class:"flex-none"},uB={class:"flex items-center gap-x-4 group"},dB={class:"flex-none"},hB={class:"flex items-center gap-x-4 group"},fB={class:"flex-none"},pB={class:"bg-light-primary dark:bg-dark-primary rounded-xl shadow-lg ring-1 ring-light-neutral-300 dark:ring-dark-neutral-700 p-8 hover:shadow-xl transition-all duration-300"},mB={class:"space-y-4 text-sm leading-6"},gB={class:"flex items-center gap-x-4"},vB={class:"flex-none"},yB={class:"bg-light-primary dark:bg-dark-primary rounded-xl shadow-lg ring-1 ring-light-neutral-300 dark:ring-dark-neutral-700 overflow-hidden hover:shadow-xl transition-all duration-300"},bB={class:"p-8"},xB={class:"text-xl font-semibold leading-7 text-light-text-primary dark:text-dark-text-primary mb-6 flex items-center"},_B={class:"mt-6"},wB={href:"https://www.google.com/maps/dir/?api=1&destination=-1.4774,36.9584&destination_place_id=Kitengela+Nairobi+Kenya",target:"_blank",rel:"noopener noreferrer",class:"inline-flex items-center justify-center gap-2 bg-accent-primary hover:bg-accent-primary-dark text-white px-4 py-2 rounded-md transition-colors"},kB={class:"lg:col-span-7 animate-slideInRight"},EB={class:"bg-light-primary dark:bg-dark-primary rounded-xl shadow-lg ring-1 ring-light-neutral-300 dark:ring-dark-neutral-700 p-8"},IB={class:"grid grid-cols-1 gap-y-6 sm:grid-cols-2 sm:gap-x-6"},TB={class:"mt-2"},AB={key:0,class:"mt-2 text-sm text-red-600"},SB={class:"mt-2"},CB={key:0,class:"mt-2 text-sm text-red-600"},PB={class:"mt-2"},RB={key:0,class:"mt-2 text-sm text-red-600"},NB={class:"mt-2"},$B={key:0,class:"mt-2 text-sm text-red-600"},OB={class:"mt-2"},DB={key:0,class:"mt-2 text-sm text-red-600"},MB={class:"flex justify-end"},VB=["disabled"],LB={key:0,class:"mt-6 rounded-md bg-green-50 dark:bg-dark-neutral-800 p-4"},FB={class:"flex"},UB={class:"flex-shrink-0"},jB={__name:"ContactView",setup(t){const e=gn({firstName:"",lastName:"",email:"",subject:"",message:""}),r=gn({firstName:"",lastName:"",email:"",subject:"",message:""}),n=q(!1),s=q(!1),i=()=>{let a=!0;return Object.keys(r).forEach(l=>r[l]=""),e.firstName.trim()||(r.firstName="First name is required",a=!1),e.lastName.trim()||(r.lastName="Last name is required",a=!1),e.email.trim()?/^\S+@\S+\.\S+$/.test(e.email)||(r.email="Please enter a valid email address",a=!1):(r.email="Email is required",a=!1),e.subject.trim()||(r.subject="Subject is required",a=!1),e.message.trim()||(r.message="Message is required",a=!1),a},o=async()=>{if(i()){n.value=!0;try{await new Promise(a=>setTimeout(a,1500)),Object.keys(e).forEach(a=>e[a]=""),s.value=!0,setTimeout(()=>{s.value=!1},5e3)}catch(a){console.error("Error submitting form:",a)}finally{n.value=!1}}};return(a,l)=>(M(),U("div",tB,[c("div",rB,[l[24]||(l[24]=Tt('<div class="relative" data-v-61629d39><div class="absolute inset-0" data-v-61629d39><img src="'+eB+'" alt="Jewelry crafting" class="h-full w-full object-cover object-center" data-v-61629d39><div class="absolute inset-0 bg-gray-900 opacity-60" data-v-61629d39></div></div><div class="relative mx-auto max-w-7xl px-4 py-24 sm:px-6 lg:px-8" data-v-61629d39><div class="text-center animate-fadeIn" data-v-61629d39><h2 class="text-4xl font-bold tracking-tight text-white sm:text-5xl mb-6" data-v-61629d39> Get in Touch </h2><p class="mt-4 text-lg leading-8 text-gray-200 max-w-2xl mx-auto" data-v-61629d39> We&#39;re here to help bring your jewelry dreams to life. Reach out to us for any questions, custom orders, or collaborations. </p></div></div></div>',1)),c("div",nB,[c("div",sB,[c("div",iB,[c("div",oB,[l[11]||(l[11]=c("h3",{class:"text-xl font-semibold leading-7 text-light-text-primary dark:text-dark-text-primary mb-6"}," Contact Details ",-1)),c("dl",aB,[c("div",lB,[c("dt",cB,[l[5]||(l[5]=c("span",{class:"sr-only"},"Address",-1)),H(B(sf),{class:"h-6 w-6 text-accent-primary group-hover:scale-110 transition-transform","aria-hidden":"true"})]),l[6]||(l[6]=c("dd",{class:"text-light-text-secondary dark:text-dark-text-secondary"},[c("p",{class:"font-medium"},"Nairobi Kenya"),c("p",null,"Kitengela")],-1))]),c("div",uB,[c("dt",dB,[l[7]||(l[7]=c("span",{class:"sr-only"},"Telephone",-1)),H(B(s7),{class:"h-6 w-6 text-accent-primary group-hover:scale-110 transition-transform","aria-hidden":"true"})]),l[8]||(l[8]=c("dd",null,[c("a",{class:"text-light-text-primary dark:text-dark-text-primary hover:text-accent-primary transition-colors",href:"tel:+2547 4141 4271"}," +2547 4141 4261 ")],-1))]),c("div",hB,[c("dt",fB,[l[9]||(l[9]=c("span",{class:"sr-only"},"Email",-1)),H(B(J9),{class:"h-6 w-6 text-accent-primary group-hover:scale-110 transition-transform","aria-hidden":"true"})]),l[10]||(l[10]=c("dd",null,[c("a",{class:"text-light-text-primary dark:text-dark-text-primary hover:text-accent-primary transition-colors",href:"mailto:hello@kreativekanvas.shop"}," hello@kreativekanvas.shop ")],-1))])])]),c("div",pB,[l[13]||(l[13]=c("h3",{class:"text-xl font-semibold leading-7 text-light-text-primary dark:text-dark-text-primary mb-6"}," Studio Hours ",-1)),c("dl",mB,[c("div",gB,[c("dt",vB,[H(B(Y9),{class:"h-6 w-6 text-accent-primary","aria-hidden":"true"})]),l[12]||(l[12]=Tt('<dd class="text-light-text-secondary dark:text-dark-text-secondary space-y-2" data-v-61629d39><div class="flex justify-between items-center" data-v-61629d39><span data-v-61629d39>Monday - Friday</span><span class="font-medium" data-v-61629d39>9AM - 6PM</span></div><div class="flex justify-between items-center" data-v-61629d39><span data-v-61629d39>Saturday</span><span class="font-medium" data-v-61629d39>10AM - 4PM</span></div><div class="flex justify-between items-center text-light-neutral-500 dark:text-dark-neutral-400" data-v-61629d39><span data-v-61629d39>Sunday</span><span data-v-61629d39>Closed</span></div></dd>',1))])])]),c("div",yB,[c("div",bB,[c("h3",xB,[H(B(sf),{class:"h-6 w-6 text-accent-primary mr-2"}),l[14]||(l[14]=ue(" Our Location "))]),l[16]||(l[16]=c("div",{class:"text-light-text-secondary dark:text-dark-text-secondary"},[c("p",{class:"font-medium text-lg mb-2"},"Kreative Kanvas Jewelry"),c("p",{class:"mb-1"},"Kitengela, Nairobi"),c("p",null,"Kenya")],-1)),c("div",_B,[c("a",wB,[H(B(sf),{class:"h-5 w-5"}),l[15]||(l[15]=c("span",{class:"font-medium"},"View on Google Maps",-1))])])])])]),c("div",kB,[c("div",EB,[l[23]||(l[23]=c("h3",{class:"text-xl font-semibold leading-7 text-light-text-primary dark:text-dark-text-primary mb-6"}," Send us a Message ",-1)),c("form",{onSubmit:Vr(o,["prevent"]),class:"space-y-6"},[c("div",IB,[c("div",null,[l[17]||(l[17]=c("label",{for:"first-name",class:"block text-sm font-medium leading-6 text-light-text-primary dark:text-dark-text-primary"},"First name",-1)),c("div",TB,[ke(c("input",{"onUpdate:modelValue":l[0]||(l[0]=d=>e.firstName=d),type:"text",id:"first-name",autocomplete:"given-name",class:$e(["block w-full rounded-md border-0 py-1.5 text-light-text-primary dark:text-dark-text-primary shadow-sm ring-1 ring-inset ring-light-neutral-300 dark:ring-dark-neutral-700 placeholder:text-light-neutral-400 dark:placeholder:text-dark-neutral-400 focus:ring-2 focus:ring-inset focus:ring-accent-primary sm:text-sm sm:leading-6",{"ring-red-500":r.firstName}])},null,2),[[Pe,e.firstName]]),r.firstName?(M(),U("p",AB,W(r.firstName),1)):de("",!0)])]),c("div",null,[l[18]||(l[18]=c("label",{for:"last-name",class:"block text-sm font-medium leading-6 text-light-text-primary dark:text-dark-text-primary"},"Last name",-1)),c("div",SB,[ke(c("input",{"onUpdate:modelValue":l[1]||(l[1]=d=>e.lastName=d),type:"text",id:"last-name",autocomplete:"family-name",class:$e(["block w-full rounded-md border-0 py-1.5 text-light-text-primary dark:text-dark-text-primary shadow-sm ring-1 ring-inset ring-light-neutral-300 dark:ring-dark-neutral-700 placeholder:text-light-neutral-400 dark:placeholder:text-dark-neutral-400 focus:ring-2 focus:ring-inset focus:ring-accent-primary sm:text-sm sm:leading-6",{"ring-red-500":r.lastName}])},null,2),[[Pe,e.lastName]]),r.lastName?(M(),U("p",CB,W(r.lastName),1)):de("",!0)])])]),c("div",null,[l[19]||(l[19]=c("label",{for:"email",class:"block text-sm font-medium leading-6 text-light-text-primary dark:text-dark-text-primary"},"Email",-1)),c("div",PB,[ke(c("input",{"onUpdate:modelValue":l[2]||(l[2]=d=>e.email=d),id:"email",name:"email",type:"email",autocomplete:"email",class:$e(["block w-full rounded-md border-0 py-1.5 text-light-text-primary dark:text-dark-text-primary shadow-sm ring-1 ring-inset ring-light-neutral-300 dark:ring-dark-neutral-700 placeholder:text-light-neutral-400 dark:placeholder:text-dark-neutral-400 focus:ring-2 focus:ring-inset focus:ring-accent-primary sm:text-sm sm:leading-6",{"ring-red-500":r.email}])},null,2),[[Pe,e.email]]),r.email?(M(),U("p",RB,W(r.email),1)):de("",!0)])]),c("div",null,[l[20]||(l[20]=c("label",{for:"subject",class:"block text-sm font-medium leading-6 text-light-text-primary dark:text-dark-text-primary"},"Subject",-1)),c("div",NB,[ke(c("input",{"onUpdate:modelValue":l[3]||(l[3]=d=>e.subject=d),type:"text",id:"subject",class:$e(["block w-full rounded-md border-0 py-1.5 text-light-text-primary dark:text-dark-text-primary shadow-sm ring-1 ring-inset ring-light-neutral-300 dark:ring-dark-neutral-700 placeholder:text-light-neutral-400 dark:placeholder:text-dark-neutral-400 focus:ring-2 focus:ring-inset focus:ring-accent-primary sm:text-sm sm:leading-6",{"ring-red-500":r.subject}])},null,2),[[Pe,e.subject]]),r.subject?(M(),U("p",$B,W(r.subject),1)):de("",!0)])]),c("div",null,[l[21]||(l[21]=c("label",{for:"message",class:"block text-sm font-medium leading-6 text-light-text-primary dark:text-dark-text-primary"},"Message",-1)),c("div",OB,[ke(c("textarea",{"onUpdate:modelValue":l[4]||(l[4]=d=>e.message=d),id:"message",rows:"4",class:$e(["block w-full rounded-md border-0 py-1.5 text-light-text-primary dark:text-dark-text-primary shadow-sm ring-1 ring-inset ring-light-neutral-300 dark:ring-dark-neutral-700 placeholder:text-light-neutral-400 dark:placeholder:text-dark-neutral-400 focus:ring-2 focus:ring-inset focus:ring-accent-primary sm:text-sm sm:leading-6",{"ring-red-500":r.message}])},null,2),[[Pe,e.message]]),r.message?(M(),U("p",DB,W(r.message),1)):de("",!0)])]),c("div",MB,[c("button",{type:"submit",disabled:n.value,class:"rounded-btn bg-btn-primary hover:bg-btn-primary-hover active:bg-btn-primary-dark text-white py-2.5 px-3.5 text-sm font-semibold shadow-btn hover:shadow-btn-hover transition-btn disabled:bg-light-neutral-300 dark:disabled:bg-dark-neutral-600"},W(n.value?"Sending...":"Send Message"),9,VB)])],32),s.value?(M(),U("div",LB,[c("div",FB,[c("div",UB,[H(B(Ju),{class:"h-5 w-5 text-green-400","aria-hidden":"true"})]),l[22]||(l[22]=c("div",{class:"ml-3"},[c("div",{class:"text-sm font-medium text-green-800 dark:text-green-200 text-justify"},"Thank you for your message! We'll get back to you soon.")],-1))])])):de("",!0)])])])])])]))}},BB=Gr(jB,[["__scopeId","data-v-61629d39"]]),qB={class:"admin-dashboard min-h-screen bg-light-primary dark:bg-dark-primary transition-colors duration-300"},HB={class:"container mx-auto px-4 py-8"},zB={class:"flex justify-between items-center mb-12 bg-light-secondary dark:bg-dark-secondary p-6 rounded-xl shadow-lg"},WB={class:"text-light-text-secondary dark:text-dark-text-secondary text-lg"},KB={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-light-text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},GB={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-dark-text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},QB={class:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12"},YB={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-accent-primary/10 dark:from-dark-secondary dark:to-accent-primary/20 rounded-xl shadow-lg p-6 border-2 border-accent-primary/20 hover:border-accent-primary transition-all duration-300"},JB={class:"flex-1 flex flex-col"},XB={class:"text-3xl font-bold mb-4 text-accent-primary"},ZB={class:"text-sm text-light-text-secondary dark:text-dark-text-secondary mb-4"},eq={class:"mt-auto"},tq={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-accent-secondary/10 dark:from-dark-secondary dark:to-accent-secondary/20 rounded-xl shadow-lg p-6 border-2 border-accent-secondary/20 hover:border-accent-secondary transition-all duration-300"},rq={class:"flex-1 flex flex-col"},nq={class:"text-3xl font-bold mb-4 text-accent-secondary"},sq={class:"mb-4 flex-1"},iq={class:"flex justify-between mb-2"},oq={class:"text-sm font-medium text-accent-secondary"},aq={class:"w-full bg-light-neutral-200 dark:bg-dark-neutral-700 rounded-full h-2"},lq={class:"mt-auto"},cq={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-accent-quaternary/10 dark:from-dark-secondary dark:to-accent-quaternary/20 rounded-xl shadow-lg p-6 border-2 border-accent-quaternary/20 hover:border-accent-quaternary transition-all duration-300"},uq={class:"flex-1 flex flex-col"},dq={class:"text-3xl font-bold mb-4 text-accent-quaternary"},hq={class:"mb-4 flex-1"},fq={class:"flex w-full justify-between mb-2"},pq={class:"text-sm font-medium text-accent-quaternary"},mq={class:"w-full bg-light-neutral-200 dark:bg-dark-neutral-700 rounded-full h-2"},gq={class:"mt-auto"},vq={class:"mb-12"},yq={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},bq={class:"flex flex-col"},xq={class:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},_q={class:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8"},wq={class:"overflow-hidden border border-light-neutral-300 dark:border-dark-neutral-700 md:rounded-xl"},kq={class:"flex justify-between items-center p-4 bg-light-secondary dark:bg-dark-secondary"},Eq={class:"flex items-center space-x-2"},Iq={class:"text-sm px-3 py-1 rounded-full bg-accent-primary/10 text-accent-primary"},Tq={class:"min-w-full divide-y divide-light-neutral-300 dark:divide-dark-neutral-700"},Aq={class:"bg-white divide-y divide-light-neutral-300 dark:divide-dark-neutral-700 dark:bg-dark-secondary"},Sq={key:0,class:"animate-pulse"},Cq={class:"px-4 py-4 text-sm whitespace-nowrap"},Pq={class:"flex items-center"},Rq={class:"px-4 py-4 text-sm whitespace-nowrap"},Nq={class:"text-light-text-primary dark:text-dark-text-primary"},$q={class:"text-light-text-secondary dark:text-dark-text-secondary"},Oq={class:"px-4 py-4 text-sm text-light-text-secondary dark:text-dark-text-secondary whitespace-nowrap"},Dq={__name:"AdminDashboard",setup(t){const e=Nn(),r=bm(),n=si(),s=q(!0),i=q(null),o=gn({products:{total:0,stockPercentage:0},orders:{total:0,pending:0},users:{total:0,active:0}}),a=q([]),l=re(()=>o.orders.total&&o.orders.pending/o.orders.total*100||0),d=re(()=>o.users.total&&o.users.active/o.users.total*100||0),h=async()=>{try{s.value=!0,i.value=null;const[w,_,T]=await Promise.all([ze.getProducts(),ze.getAllOrders(),ze.getAllUsers()]),S=Array.isArray(w)?w:[],E=Array.isArray(_)?_:[],N=Array.isArray(T)?T:[];o.products={total:S.length,stockPercentage:f(S)},o.orders={total:E.length,pending:E.filter(C=>C.status==="processing").length},o.users={total:N.length,active:N.filter(C=>!C.disabled).length},a.value=[...E,...N].filter(C=>C&&(C.createdAt||C.orderNumber||C.email)).sort((C,F)=>{const I=y=>{var m;return(m=y==null?void 0:y.createdAt)!=null&&m.toDate?y.createdAt.toDate():y!=null&&y.createdAt?new Date(y.createdAt):new Date};return I(F)-I(C)}).slice(0,5).map(C=>{var F,I;return{type:C.orderNumber?"order":"user",data:{...C,orderNumber:C.orderNumber||(C.id?`ORD-${C.id.slice(0,6)}`:"N/A"),email:C.email||"N/A"},date:((I=(F=C.createdAt)==null?void 0:F.toDate)==null?void 0:I.call(F))||new Date(C.createdAt||Date.now())}})}catch(w){console.error("Error fetching dashboard data:",w),i.value="Failed to load dashboard data",o.products={total:0,stockPercentage:0},o.orders={total:0,pending:0},o.users={total:0,active:0},a.value=[]}finally{s.value=!1}},f=w=>{if(!w.length)return 0;const _=w.filter(T=>(T.quantity||0)>0).length;return Math.round(_/w.length*100)},p=()=>{r.toggleTheme()},v=()=>{n.push("/")},b=()=>{console.log("Bulk action not implemented yet")};return je(async()=>{if(!e.user){console.log("No user found, redirecting to login"),n.push("/login");return}if(!e.user.isAdmin){console.log("User is not admin, redirecting to home"),n.push("/");return}console.log("Admin user confirmed:",e.user),await h()}),re(()=>{var _;const w=!!((_=e.user)!=null&&_.isAdmin);return console.log("Current admin status:",w),w}),(w,_)=>{var S,E;const T=Lr("router-link");return M(),U("div",qB,[c("div",HB,[c("div",zB,[c("div",null,[_[0]||(_[0]=c("h1",{class:"text-4xl font-bold text-light-text-primary dark:text-dark-text-primary mb-2"},"Shop Manager",-1)),c("p",WB," Welcome back, "+W(((E=(S=B(e))==null?void 0:S.user)==null?void 0:E.displayName)||"Admin"),1)]),c("button",{onClick:p,class:"p-2 rounded-full bg-light-secondary dark:bg-dark-secondary hover:bg-light-neutral-200 dark:hover:bg-dark-neutral-600 transition-colors","aria-label":"Toggle dark mode"},[B(r).theme==="light"?(M(),U("svg",KB,_[1]||(_[1]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1)]))):(M(),U("svg",GB,_[2]||(_[2]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)])))])]),c("div",QB,[c("div",YB,[c("div",JB,[_[4]||(_[4]=c("h2",{class:"text-xl font-semibold mb-2 text-light-text-primary dark:text-dark-text-primary"},"Products",-1)),c("p",XB,W(s.value?"Loading...":`${o.products.total}`),1),c("p",ZB,W(s.value?"":`${o.products.stockPercentage}% in stock`),1),c("div",eq,[H(T,{to:"/admin/products",class:"inline-flex items-center text-accent-primary hover:text-orange-500 font-medium transition-colors duration-200"},{default:te(()=>_[3]||(_[3]=[ue(" Manage Products "),c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])),_:1})])])]),c("div",tq,[c("div",rq,[_[7]||(_[7]=c("h2",{class:"text-xl font-semibold mb-2 text-light-text-primary dark:text-dark-text-primary"},"Orders",-1)),c("p",nq,W(s.value?"...":o.orders.total),1),c("div",sq,[c("div",iq,[_[5]||(_[5]=c("span",{class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},"Pending Orders",-1)),c("span",oq,W(s.value?"...":o.orders.pending),1)]),c("div",aq,[c("div",{class:"bg-accent-secondary h-2 rounded-full transition-all duration-300",style:St(s.value?"width: 0%":`width: ${l.value}%`)},null,4)])]),c("div",lq,[H(T,{to:"/admin/orders",class:"inline-flex items-center text-accent-secondary hover:text-accent-secondary/80 font-medium transition-colors duration-200"},{default:te(()=>_[6]||(_[6]=[ue(" Manage Orders "),c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])),_:1})])])]),c("div",cq,[c("div",uq,[_[10]||(_[10]=c("h2",{class:"text-xl font-semibold mb-2 text-light-text-primary dark:text-dark-text-primary"},"Users",-1)),c("p",dq,W(s.value?"Loading...":`${o.users.total}`),1),c("div",hq,[c("div",fq,[_[8]||(_[8]=c("span",{class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},"Active Users",-1)),c("span",pq,W(s.value?"...":`${o.users.active}`),1)]),c("div",mq,[c("div",{class:"bg-accent-quaternary h-2 rounded-full transition-all duration-300",style:St(s.value?"width: 0%":`width: ${d.value}%`)},null,4)])]),c("div",gq,[H(T,{to:"/admin/users",class:"inline-flex items-center text-accent-quaternary hover:text-accent-quaternary/80 font-medium transition-colors duration-200"},{default:te(()=>_[9]||(_[9]=[ue(" Manage Users "),c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])),_:1})])])])]),c("div",vq,[_[13]||(_[13]=c("h2",{class:"text-2xl font-semibold text-light-text-primary dark:text-dark-text-primary mb-6"},"Quick Actions",-1)),c("div",yq,[H(T,{to:"/admin/products/new",class:"group flex items-center p-6 bg-light-secondary dark:bg-dark-secondary rounded-xl shadow-md hover:shadow-xl border-2 border-transparent hover:border-accent-primary transition-all duration-300"},{default:te(()=>_[11]||(_[11]=[c("div",{class:"p-3 bg-gradient-to-br from-accent-primary to-orange-500 rounded-xl mr-4 group-hover:scale-110 transition-transform duration-300"},[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})])],-1),c("div",null,[c("span",{class:"block text-lg font-semibold text-light-text-primary dark:text-dark-text-primary"},"Add Product"),c("span",{class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},"Create new listing")],-1)])),_:1}),c("button",{onClick:v,class:"flex items-center p-6 bg-light-secondary dark:bg-dark-secondary rounded-xl shadow-md hover:shadow-xl border-2 border-transparent hover:border-accent-secondary transition-all duration-300"},_[12]||(_[12]=[Tt('<div class="p-3 bg-accent-secondary rounded-xl mr-4 group-hover:scale-110 transition-transform duration-300" data-v-bec82c26><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-bec82c26><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" data-v-bec82c26></path></svg></div><div data-v-bec82c26><span class="block text-lg font-semibold text-light-text-primary dark:text-dark-text-primary" data-v-bec82c26>View Store</span><span class="text-sm text-light-text-secondary dark:text-dark-text-secondary" data-v-bec82c26>Go to shop</span></div>',2)]))])]),c("div",bq,[c("div",xq,[c("div",_q,[c("div",wq,[c("div",kq,[_[14]||(_[14]=c("div",null,[c("h2",{class:"text-xl font-semibold text-light-text-primary dark:text-dark-text-primary"},"Recent Activity"),c("p",{class:"mt-1 text-sm text-light-text-secondary dark:text-dark-text-secondary"}," Latest actions and updates in your shop ")],-1)),c("div",Eq,[c("span",Iq,W(a.value.length)+" items ",1),a.value.length?(M(),U("button",{key:0,onClick:b,class:"px-4 py-2 bg-accent-primary text-white rounded-lg hover:bg-accent-primary/90 transition-all duration-300"}," Bulk Action ")):de("",!0)])]),c("table",Tq,[_[17]||(_[17]=c("thead",{class:"bg-light-secondary dark:bg-dark-secondary"},[c("tr",null,[c("th",{scope:"col",class:"py-3.5 px-4 text-sm font-normal text-left text-light-text-secondary dark:text-dark-text-secondary"},[c("button",{class:"flex items-center gap-x-2"},[c("span",null,"Type"),c("svg",{class:"h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[c("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),c("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"})])])]),c("th",{scope:"col",class:"px-4 py-3.5 text-sm font-normal text-left text-light-text-secondary dark:text-dark-text-secondary"},"Details"),c("th",{scope:"col",class:"px-4 py-3.5 text-sm font-normal text-left text-light-text-secondary dark:text-dark-text-secondary"},"Date"),c("th",{scope:"col",class:"relative py-3.5 px-4"},[c("span",{class:"sr-only"},"Actions")])])],-1)),c("tbody",Aq,[s.value?(M(),U("tr",Sq,_[15]||(_[15]=[c("td",{colspan:"4",class:"text-center p-4 text-light-text-secondary dark:text-dark-text-secondary"}," Loading... ",-1)]))):a.value.length?(M(!0),U(xe,{key:1},qe(a.value,(N,C)=>(M(),U("tr",{key:C,class:"hover:bg-light-neutral-100 dark:hover:bg-dark-neutral-700 transition-colors"},[c("td",Cq,[c("div",Pq,[c("div",{class:$e(`inline px-3 py-1 text-sm font-normal rounded-full ${N.type==="order"?"text-accent-secondary bg-accent-secondary/10":"text-accent-quaternary bg-accent-quaternary/10"}`)},W(N.type),3)])]),c("td",Rq,[c("div",null,[c("h4",Nq,W(N.type==="order"?`Order #${N.data.orderNumber}`:N.data.email),1),c("p",$q,W(N.type==="order"?"New order placed":"User activity"),1)])]),c("td",Oq,W(new Date(N.date).toLocaleString()),1),_[16]||(_[16]=c("td",{class:"px-4 py-4 text-sm whitespace-nowrap"},[c("button",{class:"px-1 py-1 text-light-text-secondary dark:text-dark-text-secondary transition-colors duration-200 rounded-lg hover:bg-light-neutral-200 dark:hover:bg-dark-neutral-600"},[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M12 6.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 18.75a.75.75 0 110-1.5.75.75 0 010 1.5z"})])])],-1))]))),128)):de("",!0)])]),_[18]||(_[18]=Tt('<div class="flex items-center justify-between p-4 border-t border-light-neutral-300 dark:border-dark-neutral-700" data-v-bec82c26><button class="flex items-center gap-x-2 px-4 py-2 text-sm text-light-text-secondary dark:text-dark-text-secondary rounded-md hover:bg-light-neutral-200 dark:hover:bg-dark-neutral-600 transition-colors" data-v-bec82c26><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-bec82c26><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 19l-7-7 7-7" data-v-bec82c26></path></svg> Previous </button><button class="flex items-center gap-x-2 px-4 py-2 text-sm text-light-text-secondary dark:text-dark-text-secondary rounded-md hover:bg-light-neutral-200 dark:hover:bg-dark-neutral-600 transition-colors" data-v-bec82c26> Next <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-bec82c26><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 5l7 7-7 7" data-v-bec82c26></path></svg></button></div>',1))])])])])])])}}},Mq=Gr(Dq,[["__scopeId","data-v-bec82c26"]]),Vq={class:"flex justify-center items-center"},Lq={__name:"LoadingSpinner",props:{size:{type:String,default:"md",validator:t=>["sm","md","lg"].includes(t)},color:{type:String,default:"black"}},setup(t){return(e,r)=>(M(),U("div",Vq,[(M(),U("svg",{class:$e(["animate-spin",{"h-4 w-4":t.size==="sm","h-8 w-8":t.size==="md","h-12 w-12":t.size==="lg"}]),style:St({color:t.color}),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},r[0]||(r[0]=[c("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),c("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]),6))]))}},Fq={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},Uq={class:"flex justify-between items-center p-4 border-b"},jq={class:"text-lg font-medium"},Bq={class:"p-4"},qq={key:0,class:"p-4 border-t bg-gray-50"},Hq={__name:"Modal",props:{show:{type:Boolean,default:!1},title:{type:String,default:""}},emits:["close"],setup(t,{emit:e}){const r=t,n=e,s=q(null),i=a=>{a.key==="Escape"&&r.show&&n("close")},o=a=>{s.value&&!s.value.contains(a.target)&&r.show&&n("close")};return je(()=>{document.addEventListener("keydown",i),document.addEventListener("mousedown",o)}),Gi(()=>{document.removeEventListener("keydown",i),document.removeEventListener("mousedown",o)}),Rt(()=>r.show,a=>{a?document.body.style.overflow="hidden":document.body.style.overflow=""}),(a,l)=>(M(),dt(Fp,{to:"body"},[t.show?(M(),U("div",Fq,[c("div",{class:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:l[0]||(l[0]=d=>n("close"))}),c("div",{ref_key:"modal",ref:s,class:"bg-white rounded-lg shadow-xl w-full max-w-md z-10 overflow-hidden transform transition-all"},[c("div",Uq,[c("h3",jq,W(t.title),1),c("button",{onClick:l[1]||(l[1]=d=>n("close")),class:"text-gray-500 hover:text-gray-700"},l[2]||(l[2]=[c("span",{class:"sr-only"},"Close",-1),c("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),c("div",Bq,[mu(a.$slots,"default")]),a.$slots.footer?(M(),U("div",qq,[mu(a.$slots,"footer")])):de("",!0)],512)])):de("",!0)]))}},zq=["type","disabled"],Lb={__name:"Button",props:{type:{type:String,default:"button"},variant:{type:String,default:"primary",validator:t=>["primary","secondary","outline","danger"].includes(t)},size:{type:String,default:"md",validator:t=>["sm","md","lg"].includes(t)},disabled:{type:Boolean,default:!1},fullWidth:{type:Boolean,default:!1}},setup(t){return(e,r)=>(M(),U("button",{type:t.type,disabled:t.disabled,class:$e(["inline-flex items-center justify-center rounded-btn shadow-btn transition-btn focus:outline-none focus:ring-2 focus:ring-offset-2",{"bg-orange-500 text-white hover:bg-orange-600 active:bg-orange-700 focus:ring-orange-500 dark:bg-orange-600 dark:hover:bg-orange-500 dark:active:bg-orange-700":t.variant==="primary","bg-light-neutral-200 text-light-neutral-800 hover:bg-light-neutral-300 dark:bg-dark-neutral-700 dark:text-dark-neutral-100 dark:hover:bg-dark-neutral-600":t.variant==="secondary","bg-white dark:bg-transparent text-light-text-primary dark:text-dark-text-primary border border-light-neutral-300 dark:border-dark-neutral-600 hover:bg-light-neutral-100 dark:hover:bg-dark-secondary":t.variant==="outline","bg-red-600 text-white hover:bg-red-700 focus:ring-red-500":t.variant==="danger","px-3 py-1.5 text-sm":t.size==="sm","px-4 py-2":t.size==="md","px-6 py-3 text-lg":t.size==="lg","w-full":t.fullWidth,"opacity-50 cursor-not-allowed pointer-events-none":t.disabled}])},[mu(e.$slots,"default")],10,zq))}},Wq={class:"admin-products min-h-screen bg-light-primary dark:bg-dark-primary transition-colors duration-300"},Kq={class:"container mx-auto px-4 py-8"},Gq={class:"flex justify-between items-center mb-12 bg-light-secondary dark:bg-dark-secondary p-6 rounded-xl shadow-lg"},Qq={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},Yq={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-accent-primary/10 dark:from-dark-secondary dark:to-accent-primary/20 rounded-xl shadow-lg p-6 border-2 border-accent-primary/20"},Jq={class:"text-3xl font-bold text-accent-primary"},Xq={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-orange-500/10 dark:from-dark-secondary dark:to-orange-500/20 rounded-xl shadow-lg p-6 border-2 border-orange-500/20"},Zq={class:"text-3xl font-bold text-orange-500"},eH={class:"flex items-center mt-2"},tH={class:"h-2 flex-grow rounded-full bg-light-neutral-200 dark:bg-dark-neutral-700"},rH={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-blue-500/10 dark:from-dark-secondary dark:to-blue-500/20 rounded-xl shadow-lg p-6 border-2 border-blue-500/20"},nH={class:"text-3xl font-bold text-blue-500"},sH={class:"text-xs text-accent-tertiary mt-1"},iH={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-cyan-500/10 dark:from-dark-secondary dark:to-cyan-500/20 rounded-xl shadow-lg p-6 border-2 border-cyan-500/20"},oH={class:"text-3xl font-bold text-cyan-500"},aH={class:"bg-light-secondary dark:bg-dark-secondary rounded-xl shadow-lg p-6 mb-6 border border-light-neutral-300 dark:border-dark-neutral-700"},lH={class:"flex flex-wrap items-center gap-4"},cH={class:"flex-1"},uH=["value"],dH={class:"bg-light-secondary dark:bg-dark-secondary rounded-xl shadow-lg overflow-hidden border border-light-neutral-300 dark:border-dark-neutral-700"},hH={class:"overflow-x-auto"},fH={class:"min-w-full bg-light-secondary dark:bg-dark-secondary"},pH={class:"bg-light-neutral-100 dark:bg-dark-neutral-700"},mH={class:"py-3 px-4 text-left text-light-text-primary dark:text-dark-text-primary"},gH={class:"py-3 px-4 text-left text-light-text-primary dark:text-dark-text-primary"},vH={class:"py-3 px-4 text-left text-light-text-primary dark:text-dark-text-primary"},yH={class:"py-3 px-4 text-left text-light-text-primary dark:text-dark-text-primary"},bH={class:"py-3 px-4 text-left text-light-text-primary dark:text-dark-text-primary"},xH={class:"py-3 px-4 text-left text-light-text-primary dark:text-dark-text-primary"},_H={class:"py-3 px-4 text-left text-light-text-primary dark:text-dark-text-primary"},wH={key:0},kH={colspan:"7",class:"py-4 text-center"},EH={key:1},IH={class:"py-3 px-4"},TH={class:"relative w-16 h-16 rounded overflow-hidden bg-light-neutral-100 dark:bg-dark-neutral-800"},AH=["src","alt"],SH={class:"py-3 px-4 text-light-text-primary dark:text-dark-text-primary"},CH={class:"py-3 px-4 text-light-text-primary dark:text-dark-text-primary"},PH={class:"py-3 px-4 text-light-text-primary dark:text-dark-text-primary"},RH={class:"py-3 px-4 text-light-text-primary dark:text-dark-text-primary"},NH={class:"py-3 px-4"},$H={key:0,class:"text-accent-tertiary dark:text-accent-tertiary"},OH={key:1,class:"text-light-neutral-500 dark:text-dark-neutral-500"},DH={class:"py-3 px-4"},MH={class:"flex space-x-2"},VH=["onClick"],LH=["onClick"],FH={class:"text-light-text-secondary dark:text-dark-text-secondary"},UH={class:"flex justify-end space-x-3"},jH={__name:"AdminProductsView",setup(t){const e=si(),r=q([]),n=q(!0),s=q(""),i=q(!1),o=q(null);q({});const a=F=>{if(!F)return Pt("placeholder.jpg");if(typeof F=="string"){if(F.startsWith("data:image"))return F;if(F.startsWith("/9j/")||F.startsWith("iVBOR"))return`data:image/jpeg;base64,${F}`;if(F.startsWith("base64://"))return F.replace("base64://","")}return F},l=F=>{console.error("Image failed to load:",F.target.src),F.target.src=Pt("placeholder.jpg"),F.target.onerror=function(){const I=F.target.parentNode;if(I){const y=document.createElement("div");y.innerHTML=`
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-full h-full">
          <rect width="100%" height="100%" fill="#f0f0f0"/>
          <path d="M12 6v12M6 12h12" stroke="#aaa" stroke-width="2" stroke-linecap="round"/>
        </svg>
      `,y.className="broken-image rounded w-16 h-16 flex items-center justify-center bg-light-neutral-200 dark:bg-dark-neutral-200",I.replaceChild(y,F.target)}}},d=async()=>{try{n.value=!0;const F=await ze.getProducts();r.value=F.map(I=>({...I,images:Array.isArray(I.images)?I.images:[I.imageUrl||I.image]}))}catch(F){console.error("Failed to load products:",F)}finally{n.value=!1}},h=q("name"),f=q("asc"),p=q("all"),v=re(()=>r.value.filter(F=>F.stock<5).length),b=re(()=>r.value.filter(F=>F.featured).length),w=re(()=>r.value.reduce((F,I)=>F+I.price*I.stock,0)),_=re(()=>[...new Set(r.value.map(F=>F.category))]),T=re(()=>{let F=[...r.value];if(p.value!=="all"&&(F=F.filter(y=>y.category===p.value)),s.value){const y=s.value.toLowerCase();F=F.filter(m=>m.name.toLowerCase().includes(y)||m.category.toLowerCase().includes(y)||m.description.toLowerCase().includes(y))}const I=(y,m)=>typeof y[h.value]=="string"?y[h.value].localeCompare(m[h.value]):Number(y[h.value])-Number(m[h.value]);return F.sort((y,m)=>f.value==="asc"?I(y,m):I(m,y)),F}),S=async()=>{if(o.value)try{await ze.deleteProduct(o.value.id);const F=r.value.findIndex(I=>I.id===o.value.id);F!==-1&&r.value.splice(F,1),i.value=!1,o.value=null}catch(F){console.error("Failed to delete product:",F)}},E=F=>{e.push(`/admin/products/edit/${F.id}`)},N=F=>{o.value=F,i.value=!0},C=F=>{h.value===F?f.value=f.value==="asc"?"desc":"asc":(h.value=F,f.value="asc")};return je(d),(F,I)=>{const y=Lr("router-link");return M(),U("div",Wq,[c("div",Kq,[c("div",Gq,[c("div",null,[H(ah,{items:[{text:"Dashboard",path:"/admin"},{text:"Products"}]}),I[11]||(I[11]=c("h1",{class:"text-4xl font-bold text-light-text-primary dark:text-dark-text-primary mt-2"},"Manage Products",-1))]),H(y,{to:"/admin/products/new",class:"bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark text-white py-2 px-4 rounded-btn flex items-center shadow-btn hover:shadow-btn-hover transition-btn duration-200"},{default:te(()=>I[12]||(I[12]=[c("span",{class:"mr-2"},"Add New Product",-1),c("span",{class:"text-xl"},"+",-1)])),_:1})]),c("div",Qq,[c("div",Yq,[I[13]||(I[13]=c("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Total Products",-1)),c("p",Jq,W(r.value.length),1),I[14]||(I[14]=c("p",{class:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-1"},"Active listings",-1))]),c("div",Xq,[I[15]||(I[15]=c("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Low Stock",-1)),c("p",Zq,W(v.value),1),c("div",eH,[c("div",tH,[c("div",{class:"h-2 rounded-full bg-orange-500 transition-all duration-300",style:St(`width: ${v.value/r.value.length*100}%`)},null,4)])])]),c("div",rH,[I[16]||(I[16]=c("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Featured",-1)),c("p",nH,W(b.value),1),c("p",sH,W((b.value/r.value.length*100).toFixed(1))+"% of products ",1)]),c("div",iH,[I[17]||(I[17]=c("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Total Value",-1)),c("p",oH,W(B(Ye)(w.value)),1),I[18]||(I[18]=c("p",{class:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-1"},"Inventory worth",-1))])]),c("div",aH,[c("div",lH,[c("div",cH,[ke(c("input",{type:"text","onUpdate:modelValue":I[0]||(I[0]=m=>s.value=m),placeholder:"Search products...",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-accent-primary focus:border-accent-primary"},null,512),[[Pe,s.value]])]),c("div",null,[ke(c("select",{"onUpdate:modelValue":I[1]||(I[1]=m=>p.value=m),class:"p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-accent-primary focus:border-accent-primary"},[I[19]||(I[19]=c("option",{value:"all"},"All Categories",-1)),(M(!0),U(xe,null,qe(_.value,m=>(M(),U("option",{key:m,value:m},W(m),9,uH))),128))],512),[[rs,p.value]])])])]),c("div",dH,[c("div",hH,[c("table",fH,[c("thead",pH,[c("tr",null,[c("th",mH,[c("button",{onClick:I[2]||(I[2]=m=>C("image"))}," Image ")]),c("th",gH,[c("button",{onClick:I[3]||(I[3]=m=>C("name"))}," Name ")]),c("th",vH,[c("button",{onClick:I[4]||(I[4]=m=>C("category"))}," Category ")]),c("th",yH,[c("button",{onClick:I[5]||(I[5]=m=>C("price"))}," Price ")]),c("th",bH,[c("button",{onClick:I[6]||(I[6]=m=>C("stock"))}," Stock ")]),c("th",xH,[c("button",{onClick:I[7]||(I[7]=m=>C("featured"))}," Featured ")]),c("th",_H,[c("button",{onClick:I[8]||(I[8]=m=>C("actions"))}," Actions ")])])]),c("tbody",null,[n.value?(M(),U("tr",wH,[c("td",kH,[H(Lq)])])):T.value.length===0?(M(),U("tr",EH,I[20]||(I[20]=[c("td",{colspan:"7",class:"py-4 text-center text-light-text-secondary dark:text-dark-text-secondary"}," No products found ",-1)]))):de("",!0),(M(!0),U(xe,null,qe(T.value,m=>{var k;return M(),U("tr",{key:m.id,class:"border-b border-light-neutral-200 dark:border-dark-neutral-600 hover:bg-light-neutral-100 dark:hover:bg-dark-neutral-800 transition-colors"},[c("td",IH,[c("div",TH,[c("img",{src:a(((k=m.images)==null?void 0:k[0])||m.imageUrl||m.image),alt:m.name,class:"w-full h-full object-cover",onError:l},null,40,AH)])]),c("td",SH,W(m.name),1),c("td",CH,W(m.category),1),c("td",PH,"$"+W(m.price.toFixed(2)),1),c("td",RH,W(m.stock),1),c("td",NH,[m.featured?(M(),U("span",$H,"Yes")):(M(),U("span",OH,"No"))]),c("td",DH,[c("div",MH,[c("button",{onClick:$=>E(m),class:"text-accent-quaternary dark:text-accent-quaternary hover:text-accent-quaternary/80 dark:hover:text-accent-quaternary/80 transition-colors"}," Edit ",8,VH),c("button",{onClick:$=>N(m),class:"text-orange-600 dark:text-orange-500 hover:text-orange-700 dark:hover:text-orange-400 transition-colors"}," Delete ",8,LH)])])])}),128))])])])]),i.value?(M(),dt(Hq,{key:0,onClose:I[10]||(I[10]=m=>i.value=!1)},{header:te(()=>I[21]||(I[21]=[c("h3",{class:"text-xl font-medium text-light-text-primary dark:text-dark-text-primary"},"Confirm Delete",-1)])),body:te(()=>{var m;return[c("p",FH,' Are you sure you want to delete "'+W((m=o.value)==null?void 0:m.name)+'"? This action cannot be undone. ',1)]}),footer:te(()=>[c("div",UH,[H(Lb,{variant:"secondary",onClick:I[9]||(I[9]=m=>i.value=!1)},{default:te(()=>I[22]||(I[22]=[ue(" Cancel ")])),_:1}),H(Lb,{variant:"danger",onClick:S},{default:te(()=>I[23]||(I[23]=[ue(" Delete ")])),_:1})])]),_:1})):de("",!0)])])}}},BH=Gr(jH,[["__scopeId","data-v-3f08fffb"]]),qH={class:"admin-product-form container mx-auto px-4 py-8 bg-light-primary dark:bg-dark-primary min-h-screen"},HH={class:"flex justify-between items-center mb-6"},zH={class:"text-2xl font-bold text-light-text-primary dark:text-dark-text-primary"},WH={class:"bg-light-secondary dark:bg-dark-secondary rounded-lg shadow-md p-6 mb-6 border border-light-neutral-300 dark:border-dark-neutral-700"},KH={class:"mb-6"},GH={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},QH={class:"mb-6"},YH={class:"mb-6"},JH={class:"mb-4"},XH={class:"bg-light-neutral-50 dark:bg-dark-neutral-800 rounded-lg p-4 border border-light-neutral-200 dark:border-dark-neutral-700"},ZH={key:0,class:"flex flex-col items-center justify-center py-8"},ez={key:1,class:"relative"},tz={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3"},rz=["src","alt","onError"],nz={class:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex flex-col justify-end p-2"},sz={class:"flex justify-between items-center"},iz={class:"text-white text-xs bg-black/50 px-1.5 py-0.5 rounded"},oz={class:"flex space-x-1"},az=["onClick"],lz=["onClick"],cz=["onClick"],uz=["onClick"],dz={key:0,class:"absolute top-2 left-2 bg-accent-quaternary text-white text-xs px-1.5 py-0.5 rounded"},hz={class:"absolute -top-3 -right-3 bg-accent-primary text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center shadow-sm"},fz={class:"bg-light-secondary dark:bg-dark-secondary rounded-lg border border-light-neutral-300 dark:border-dark-neutral-700 overflow-hidden"},pz={class:"p-4"},mz={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},gz={class:"bg-light-neutral-50/50 dark:bg-dark-neutral-800/50 rounded-lg border border-dashed border-light-neutral-400 dark:border-dark-neutral-500 p-4 relative"},vz={class:"flex flex-col items-center justify-center"},yz={class:"bg-light-neutral-50/50 dark:bg-dark-neutral-800/50 rounded-lg border border-light-neutral-300 dark:border-dark-neutral-600 p-4"},bz={class:"space-y-3"},xz={class:"flex"},_z=["disabled"],wz={key:0,class:"mt-4 bg-accent-quaternary/10 text-accent-quaternary px-4 py-3 rounded border border-accent-quaternary/20 flex items-center"},kz={class:"mb-6"},Ez={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},Iz={class:"space-y-4"},Tz={class:"mt-4"},Az={class:"flex items-center"},Sz={class:"mb-6"},Cz={key:0,class:"mb-4 bg-light-neutral-50 dark:bg-dark-neutral-800 rounded-lg p-4 border border-light-neutral-200 dark:border-dark-neutral-700"},Pz={class:"space-y-2"},Rz={class:"flex items-center"},Nz={class:"font-medium text-light-text-primary dark:text-dark-text-primary"},$z={class:"ml-3 flex items-center gap-1"},Oz=["title"],Dz=["onClick"],Mz={class:"bg-light-secondary dark:bg-dark-secondary rounded-lg p-5 border border-light-neutral-300 dark:border-dark-neutral-700"},Vz={class:"space-y-4"},Lz={class:"flex flex-wrap items-center gap-2 mb-3"},Fz={class:"flex flex-col items-center"},Uz=["onUpdate:modelValue","onInput","aria-label"],jz=["onClick"],Bz={class:"mt-2"},qz={class:"flex flex-wrap gap-1.5"},Hz=["onClick","disabled","aria-label"],zz={class:"mt-5 flex"},Wz=["disabled"],Kz={key:0,class:"ml-2 text-sm text-accent-tertiary flex items-center"},Gz={class:"border-t border-light-neutral-300 dark:border-dark-neutral-700 pt-6 flex justify-end space-x-4"},Qz=["disabled"],Yz={key:0,class:"bg-orange-100 dark:bg-orange-900/30 border border-orange-400 dark:border-orange-700 text-orange-700 dark:text-orange-400 px-4 py-3 rounded mb-4 relative"},Jz={class:"block sm:inline"},Xz={key:1,class:"bg-accent-primary/10 dark:bg-accent-primary/20 border border-accent-primary/30 dark:border-accent-primary/30 text-light-text-primary dark:text-dark-text-primary px-4 py-3 rounded mb-4"},Zz={key:2,class:"bg-accent-primary/10 dark:bg-accent-primary/20 border border-accent-primary/30 dark:border-accent-primary/30 text-light-text-primary dark:text-dark-text-primary px-4 py-3 rounded mb-4"},eW={__name:"AdminProductForm",setup(t){const e=si(),r=Ad(),n=re(()=>r.params.id),s=re(()=>!!n.value),i=q({name:"",category:"",description:"",price:0,stock:1,images:[],featured:!1,materials:"",dimensions:"",variants:[],careInstructions:`Store in a cool, dry place away from direct sunlight
Avoid contact with perfumes, lotions, and chemicals
Clean gently with a soft, lint-free cloth
Remove before swimming or bathing`,sizingAndFit:"Our standard bracelet length is 7.5 inches. Necklaces are available in 16, 18, and 20 inch lengths. Please contact us for custom sizing.",shippingInfo:"Handmade to order. Please allow 1-3 business days for production plus shipping time.",returnPolicy:"We accept returns within 14 days of delivery for unworn items in original packaging."}),o=q(""),a=q(!1),l=q(!1),d=q(null),h=q(!1),f=re(()=>s.value?`product_edit_${n.value}`:"product_new"),p=q("Processing image..."),v=re(()=>i.value.images.some(Y=>Y.startsWith("temp://")));je(async()=>{if(s.value)try{const Y=await ze.getProduct(n.value);Y?i.value={...Y}:(console.error("Product not found"),e.push("/admin/products"))}catch(Y){console.error("Error loading product:",Y),d.value="Failed to load product"}else{const Y=localStorage.getItem(f.value);if(Y)try{i.value=JSON.parse(Y)}catch(L){console.error("Error parsing saved form data:",L)}}}),Rt(()=>i.value,Y=>{localStorage.setItem(f.value,JSON.stringify(Y))},{deep:!0}),Gi(()=>{!d.value&&!a.value&&localStorage.removeItem(f.value)});const b=()=>{o.value.trim()&&(i.value.images.push(o.value.trim()),o.value="")},w=Y=>{i.value.images.splice(Y,1)},_=Y=>Y.startsWith("base64://")?Y.replace("base64://",""):Y.startsWith("temp://")?Y.replace("temp://",""):Y,T=async Y=>{const L=Y.target.files[0];if(L){if(!L.type.match("image.*")){d.value="Please select an image file";return}l.value=!0,d.value=null;try{const oe=(L.size/1048576).toFixed(2);L.size>1024*1024?p.value=`Resizing ${oe}MB image for optimal performance...`:p.value=`Processing ${oe}MB image...`;const G=await ze.uploadProductImage(L);i.value.images.push(G),G.startsWith("base64://")&&(h.value=!0),Y.target.value=""}catch(oe){console.error("Error processing image:",oe),d.value=`Failed to process image: ${oe.message||"Unknown error"}`}finally{l.value=!1}}},S=async()=>{a.value=!0,d.value=null;try{if(!i.value.name||!i.value.category||!i.value.description||i.value.images.length===0)throw new Error("Please fill out all required fields and add at least one image");const Y=i.value.images.filter(L=>L.startsWith("base64://"));if(Y.length>0){const oe=Y.reduce((G,ge)=>G+ge.length,0)/1024;if(oe>700&&!confirm(`Warning: Your product has approximately ${oe.toFixed(0)}KB of image data, which is approaching Firestore's limit. Continue anyway?`)){a.value=!1;return}}s.value?await ze.updateProduct(n.value,i.value):await ze.createProduct(i.value),localStorage.removeItem(f.value),e.push("/admin/products")}catch(Y){console.error("Error saving product:",Y),d.value=Y.message}finally{a.value=!1}},E=q(""),N=q([]),C=()=>{N.value.push("#ffffff")},F=(Y,L)=>{N.value[Y]=L.target.value},I=Y=>{N.value.splice(Y,1)},y=()=>{E.value.trim()&&N.value.length&&(i.value.variants.push({name:E.value.trim(),colors:[...N.value]}),E.value="",N.value=[])},m=["#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#000000","#FFFFFF"],k=Y=>{N.value.length<5&&N.value.push(Y)},$=re(()=>E.value.trim()&&N.value.length>0),P=(Y,L)=>{const oe=i.value.images[Y];i.value.images.splice(Y,1),i.value.images.splice(L,0,oe)},R=Y=>{if(Y<=0||Y>=i.value.images.length)return;const L=i.value.images[Y];i.value.images.splice(Y,1),i.value.images.unshift(L)},le=(Y,L)=>{Y.target.src="/images/no-image.jpg",console.warn(`Image at index ${L} failed to load:`,i.value.images[L])};return(Y,L)=>{const oe=Lr("router-link");return M(),U("div",qH,[c("div",HH,[c("h1",zH,W(s.value?"Edit Product":"Add New Product"),1),H(oe,{to:"/admin/products",class:"text-light-text-secondary dark:text-dark-text-secondary hover:text-accent-primary dark:hover:text-accent-primary transition-colors"},{default:te(()=>L[17]||(L[17]=[ue(" Back to Products ")])),_:1})]),c("div",WH,[c("form",{onSubmit:Vr(S,["prevent"])},[c("div",KH,[L[23]||(L[23]=c("h2",{class:"text-lg font-semibold mb-4 text-light-text-primary dark:text-dark-text-primary"},"Basic Information",-1)),c("div",GH,[c("div",null,[L[18]||(L[18]=c("label",{for:"name",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Product Name",-1)),ke(c("input",{type:"text",id:"name","onUpdate:modelValue":L[0]||(L[0]=G=>i.value.name=G),required:"",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary"},null,512),[[Pe,i.value.name]])]),c("div",null,[L[20]||(L[20]=c("label",{for:"category",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Category",-1)),ke(c("select",{id:"category","onUpdate:modelValue":L[1]||(L[1]=G=>i.value.category=G),required:"",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary"},L[19]||(L[19]=[Tt('<option value="" data-v-41ec0c1f>Select a category</option><option value="Beaded Jewelry" data-v-41ec0c1f>Beaded Jewelry</option><option value="String Jewelry" data-v-41ec0c1f>String Jewelry</option><option value="Metal Jewelry" data-v-41ec0c1f>Metal Jewelry</option><option value="Gemstones" data-v-41ec0c1f>Gemstones</option><option value="Earrings" data-v-41ec0c1f>Earrings</option><option value="Necklaces" data-v-41ec0c1f>Necklaces</option><option value="Bracelets" data-v-41ec0c1f>Bracelets</option><option value="Rings" data-v-41ec0c1f>Rings</option><option value="Other" data-v-41ec0c1f>Other</option>',10)]),512),[[rs,i.value.category]])]),c("div",null,[L[21]||(L[21]=c("label",{for:"price",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Price (KES)",-1)),ke(c("input",{type:"number",id:"price","onUpdate:modelValue":L[2]||(L[2]=G=>i.value.price=G),min:"0.01",step:"0.01",required:"",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary"},null,512),[[Pe,i.value.price,void 0,{number:!0}]])]),c("div",null,[L[22]||(L[22]=c("label",{for:"stock",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Stock Quantity",-1)),ke(c("input",{type:"number",id:"stock","onUpdate:modelValue":L[3]||(L[3]=G=>i.value.stock=G),min:"0",required:"",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary"},null,512),[[Pe,i.value.stock,void 0,{number:!0}]])])])]),c("div",QH,[L[24]||(L[24]=c("label",{for:"description",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Description",-1)),ke(c("textarea",{id:"description","onUpdate:modelValue":L[4]||(L[4]=G=>i.value.description=G),rows:"4",required:"",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary resize-y"},null,512),[[Pe,i.value.description]])]),c("div",YH,[L[39]||(L[39]=c("h2",{class:"text-lg font-semibold mb-4 text-light-text-primary dark:text-dark-text-primary flex items-center"},[c("span",null,"Product Images"),c("span",{class:"ml-2 text-xs text-light-text-secondary dark:text-dark-text-secondary font-normal bg-accent-primary/10 dark:bg-accent-primary/20 text-accent-primary dark:text-accent-primary px-2 py-0.5 rounded-full"},"Required")],-1)),c("div",JH,[L[30]||(L[30]=c("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-2"},"Gallery Preview",-1)),c("div",XH,[i.value.images.length===0?(M(),U("div",ZH,L[25]||(L[25]=[c("svg",{class:"w-12 h-12 text-light-neutral-400 dark:text-dark-neutral-500 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1),c("p",{class:"text-light-neutral-500 dark:text-dark-neutral-400 text-center"},[ue(" No images added yet"),c("br"),c("span",{class:"text-sm"},"Add at least one product image below")],-1)]))):(M(),U("div",ez,[c("div",tz,[(M(!0),U(xe,null,qe(i.value.images,(G,ge)=>(M(),U("div",{key:ge,class:"group relative aspect-square rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-all bg-light-neutral-200 dark:bg-dark-neutral-700"},[c("img",{src:_(G),class:"w-full h-full object-cover transition-transform group-hover:scale-105",alt:`Product image ${ge+1}`,onError:Se=>le(Se,ge)},null,40,rz),c("div",nz,[c("div",sz,[c("span",iz," Image #"+W(ge+1),1),c("div",oz,[ge!==0?(M(),U("button",{key:0,type:"button",onClick:Se=>R(ge),class:"bg-light-primary/90 text-accent-primary rounded-full w-6 h-6 flex items-center justify-center hover:bg-light-primary transition-colors",title:"Set as primary image"},L[26]||(L[26]=[c("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})],-1)]),8,az)):de("",!0),ge>0?(M(),U("button",{key:1,type:"button",onClick:Se=>P(ge,ge-1),class:"bg-light-primary/90 text-light-text-primary rounded-full w-6 h-6 flex items-center justify-center hover:bg-light-primary transition-colors",title:"Move left"},L[27]||(L[27]=[c("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)]),8,lz)):de("",!0),ge<i.value.images.length-1?(M(),U("button",{key:2,type:"button",onClick:Se=>P(ge,ge+1),class:"bg-light-primary/90 text-light-text-primary rounded-full w-6 h-6 flex items-center justify-center hover:bg-light-primary transition-colors",title:"Move right"},L[28]||(L[28]=[c("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]),8,cz)):de("",!0),c("button",{type:"button",onClick:Se=>w(ge),class:"bg-accent-tertiary rounded-full w-6 h-6 flex items-center justify-center hover:bg-accent-tertiary/90 transition-colors",title:"Remove image"},L[29]||(L[29]=[c("svg",{class:"w-3.5 h-3.5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,uz)])])]),ge===0?(M(),U("div",dz," Primary ")):de("",!0)]))),128))]),c("div",hz,W(i.value.images.length),1)]))])]),c("div",fz,[c("div",pz,[L[37]||(L[37]=c("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-3"},"Add Product Images",-1)),c("div",mz,[c("div",gz,[c("div",vz,[L[32]||(L[32]=Tt('<svg class="w-10 h-10 text-light-neutral-400 dark:text-dark-neutral-500 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-41ec0c1f><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" data-v-41ec0c1f></path></svg><div class="text-center mb-3" data-v-41ec0c1f><p class="text-sm text-light-text-secondary dark:text-dark-text-secondary font-medium" data-v-41ec0c1f> Drag and drop or click to upload </p><p class="text-xs text-light-neutral-500 dark:text-dark-neutral-400 mt-1" data-v-41ec0c1f> PNG, JPG or JPEG (max. 5MB) </p></div>',2)),c("input",{type:"file",id:"image-upload",onChange:T,accept:"image/png, image/jpeg, image/jpg",class:"cursor-pointer opacity-0 absolute inset-0 w-full h-full","aria-label":"Upload product image"},null,32),c("button",{type:"button",class:"flex items-center text-sm bg-accent-quaternary hover:bg-accent-quaternary/90 text-white py-1.5 px-3 rounded-btn shadow-btn hover:shadow-btn-hover transition-all z-10",onClick:L[5]||(L[5]=G=>Y.document.getElementById("image-upload").click())},L[31]||(L[31]=[c("svg",{class:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})],-1),ue(" Browse Files ")]))])]),c("div",yz,[c("div",bz,[L[34]||(L[34]=c("label",{class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary"}," Or add image from URL ",-1)),c("div",xz,[ke(c("input",{type:"url","onUpdate:modelValue":L[6]||(L[6]=G=>o.value=G),placeholder:"https://example.com/image.jpg",class:"flex-1 p-2 border border-r-0 border-light-neutral-300 dark:border-dark-neutral-600 rounded-l bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary"},null,512),[[Pe,o.value]]),c("button",{type:"button",onClick:b,class:"bg-accent-quaternary hover:bg-accent-quaternary/90 text-white py-2 px-3 rounded-r shadow-btn hover:shadow-btn-hover transition-all flex items-center",disabled:l.value||!o.value.trim()},L[33]||(L[33]=[c("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),ue(" Add ")]),8,_z)]),L[35]||(L[35]=c("p",{class:"text-xs text-light-neutral-500 dark:text-dark-neutral-400"}," Enter a direct link to an image file (CORS restrictions may apply) ",-1))])])]),l.value?(M(),U("div",wz,[L[36]||(L[36]=c("div",{class:"animate-spin mr-2 w-4 h-4 border-2 border-accent-quaternary border-t-transparent rounded-full"},null,-1)),c("span",null,W(p.value),1)])):de("",!0)]),L[38]||(L[38]=Tt('<div class="bg-light-neutral-100 dark:bg-dark-neutral-900/50 px-4 py-3 border-t border-light-neutral-200 dark:border-dark-neutral-700" data-v-41ec0c1f><div class="flex items-start" data-v-41ec0c1f><svg class="w-5 h-5 text-accent-tertiary mr-2 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-41ec0c1f><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" data-v-41ec0c1f></path></svg><div class="text-sm text-light-text-secondary dark:text-dark-text-secondary space-y-1" data-v-41ec0c1f><p data-v-41ec0c1f><span class="font-medium" data-v-41ec0c1f>Tips:</span> Add at least one product image. For best results, use images with a 1:1 aspect ratio. </p><ul class="list-disc list-inside text-xs text-light-neutral-500 dark:text-dark-neutral-400 pl-1 space-y-0.5" data-v-41ec0c1f><li data-v-41ec0c1f>The first image will be the primary product image shown in listings</li><li data-v-41ec0c1f>You can rearrange images by using the arrow buttons</li><li data-v-41ec0c1f>High-resolution images will be automatically resized to optimize performance</li></ul></div></div></div>',1))])]),c("div",kz,[L[47]||(L[47]=c("h2",{class:"text-lg font-semibold mb-4 text-light-text-primary dark:text-dark-text-primary"},"Additional Details",-1)),c("div",Ez,[c("div",null,[L[40]||(L[40]=c("label",{for:"materials",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Materials",-1)),ke(c("input",{type:"text",id:"materials","onUpdate:modelValue":L[7]||(L[7]=G=>i.value.materials=G),placeholder:"e.g. Sterling silver, glass beads, etc.",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary"},null,512),[[Pe,i.value.materials]])]),c("div",null,[L[41]||(L[41]=c("label",{for:"dimensions",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Dimensions",-1)),ke(c("input",{type:"text",id:"dimensions","onUpdate:modelValue":L[8]||(L[8]=G=>i.value.dimensions=G),placeholder:"e.g. 18 inches, 2.5cm diameter, etc.",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary"},null,512),[[Pe,i.value.dimensions]])])]),c("div",Iz,[c("div",null,[L[42]||(L[42]=c("label",{class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Care Instructions",-1)),ke(c("textarea",{"onUpdate:modelValue":L[9]||(L[9]=G=>i.value.careInstructions=G),rows:"4",placeholder:"Enter care instructions, one per line",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary resize-y"},null,512),[[Pe,i.value.careInstructions]])]),c("div",null,[L[43]||(L[43]=c("label",{class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Sizing & Fit",-1)),ke(c("textarea",{"onUpdate:modelValue":L[10]||(L[10]=G=>i.value.sizingAndFit=G),rows:"3",placeholder:"Enter sizing and fit information",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary resize-y"},null,512),[[Pe,i.value.sizingAndFit]])]),c("div",null,[L[44]||(L[44]=c("label",{class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Shipping Information",-1)),ke(c("textarea",{"onUpdate:modelValue":L[11]||(L[11]=G=>i.value.shippingInfo=G),rows:"2",placeholder:"Enter shipping information",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary resize-y"},null,512),[[Pe,i.value.shippingInfo]])]),c("div",null,[L[45]||(L[45]=c("label",{class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Return Policy",-1)),ke(c("textarea",{"onUpdate:modelValue":L[12]||(L[12]=G=>i.value.returnPolicy=G),rows:"2",placeholder:"Enter return policy",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary resize-y"},null,512),[[Pe,i.value.returnPolicy]])])]),c("div",Tz,[c("div",Az,[ke(c("input",{type:"checkbox",id:"featured","onUpdate:modelValue":L[13]||(L[13]=G=>i.value.featured=G),class:"h-4 w-4 text-accent-primary focus:ring-accent-primary border-light-neutral-300 dark:border-dark-neutral-600 rounded"},null,512),[[Vo,i.value.featured]]),L[46]||(L[46]=c("label",{for:"featured",class:"ml-2 block text-sm text-light-text-primary dark:text-dark-text-primary"}," Featured product (display on homepage) ",-1))])])]),c("div",Sz,[L[58]||(L[58]=c("h2",{class:"text-lg font-semibold mb-4 text-light-text-primary dark:text-dark-text-primary flex items-center"},[c("span",null,"Product Variants"),c("span",{class:"ml-2 text-xs text-light-text-secondary dark:text-dark-text-secondary font-normal bg-light-neutral-100 dark:bg-dark-neutral-700 px-2 py-0.5 rounded-full"},"Optional")],-1)),i.value.variants.length?(M(),U("div",Cz,[L[49]||(L[49]=c("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-3"},"Saved Variants",-1)),c("ul",Pz,[(M(!0),U(xe,null,qe(i.value.variants,(G,ge)=>(M(),U("li",{key:ge,class:"flex items-center justify-between p-3 rounded-lg border border-light-neutral-200 dark:border-dark-neutral-600 bg-light-primary dark:bg-dark-primary hover:shadow-sm transition-shadow"},[c("div",Rz,[c("span",Nz,W(G.name),1),c("div",$z,[(M(!0),U(xe,null,qe(G.colors,(Se,Ie)=>(M(),U("div",{key:Ie,class:"w-5 h-5 rounded-full border border-light-neutral-300 dark:border-dark-neutral-600 transition-transform hover:scale-110 cursor-pointer flex justify-center items-center",style:St({backgroundColor:Se}),title:Se},null,12,Oz))),128))])]),c("button",{type:"button",onClick:Se=>i.value.variants.splice(ge,1),class:"text-light-neutral-500 dark:text-dark-neutral-400 hover:text-accent-tertiary dark:hover:text-accent-tertiary flex items-center transition-colors"},L[48]||(L[48]=[c("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),c("span",{class:"ml-1 text-sm"},"Remove",-1)]),8,Dz)]))),128))])])):de("",!0),c("div",Mz,[L[57]||(L[57]=c("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-4"},"Add New Variant",-1)),c("div",Vz,[c("div",null,[L[50]||(L[50]=c("label",{for:"variant-name",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"}," Variant Name ",-1)),ke(c("input",{type:"text",id:"variant-name","onUpdate:modelValue":L[14]||(L[14]=G=>E.value=G),placeholder:"e.g. 'Silver & Blue', 'Rose Gold', 'Extra Large'",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary"},null,512),[[Pe,E.value]]),L[51]||(L[51]=c("p",{class:"mt-1 text-xs text-light-neutral-500 dark:text-dark-neutral-400"}," Name that describes this product variant (color, size, material, style, etc.) ",-1))]),c("div",null,[L[54]||(L[54]=c("label",{class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},[ue(" Color Palette "),c("span",{class:"ml-1 text-xs text-light-neutral-500 dark:text-dark-neutral-400 font-normal"}," (up to 5 colors) ")],-1)),c("div",Lz,[(M(!0),U(xe,null,qe(N.value,(G,ge)=>(M(),U("div",{key:ge,class:"relative group"},[c("div",Fz,[c("div",{class:"w-8 h-8 rounded-full border border-light-neutral-300 dark:border-dark-neutral-600 shadow-sm flex items-center justify-center",style:St({backgroundColor:G})},null,4),ke(c("input",{type:"color","onUpdate:modelValue":Se=>N.value[ge]=Se,onInput:Se=>F(ge,Se),class:"w-5 h-5 mt-1 p-0 border-0 cursor-pointer","aria-label":`Color ${ge+1}`},null,40,Uz),[[Pe,N.value[ge]]]),c("button",{type:"button",onClick:Se=>I(ge),class:"absolute -top-1 -right-1 w-5 h-5 rounded-full flex items-center justify-center bg-accent-tertiary text-white opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Remove color"}," × ",8,jz)])]))),128)),N.value.length<5?(M(),U("button",{key:0,type:"button",onClick:C,class:"w-8 h-8 rounded-full border-2 border-dashed border-light-neutral-400 dark:border-dark-neutral-500 flex items-center justify-center hover:border-accent-primary dark:hover:border-accent-primary transition-colors","aria-label":"Add color"},L[52]||(L[52]=[c("span",{class:"text-light-neutral-500 dark:text-dark-neutral-400 text-xl"},"+",-1)]))):de("",!0)]),c("div",Bz,[L[53]||(L[53]=c("p",{class:"text-xs text-light-neutral-500 dark:text-dark-neutral-400 mb-2"},"Common colors:",-1)),c("div",qz,[(M(),U(xe,null,qe(m,(G,ge)=>c("button",{key:ge,type:"button",onClick:Se=>k(G),style:St({backgroundColor:G}),disabled:N.value.length>=5,class:"w-6 h-6 rounded-full border border-light-neutral-300 dark:border-dark-neutral-600 hover:scale-110 transition-transform","aria-label":`Add ${G} color`},null,12,Hz)),64))])])])]),c("div",zz,[c("button",{type:"button",onClick:y,disabled:!$.value,class:"flex items-center px-4 py-2 rounded-btn shadow-btn text-white bg-accent-quaternary hover:bg-accent-quaternary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-all"},L[55]||(L[55]=[c("svg",{class:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),ue(" Add Variant ")]),8,Wz),$.value?de("",!0):(M(),U("div",Kz,L[56]||(L[56]=[c("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),ue(" Please add a name and at least one color ")])))])])]),c("div",Gz,[c("button",{type:"button",onClick:L[15]||(L[15]=G=>Y.$router.go(-1)),class:"py-2 px-4 border border-light-neutral-300 dark:border-dark-neutral-600 rounded-btn shadow-btn text-sm font-medium text-light-text-primary dark:text-dark-text-primary hover:bg-light-neutral-100 dark:hover:bg-dark-neutral-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent-primary transition-all"}," Cancel "),c("button",{type:"submit",class:"py-2 px-4 border border-transparent rounded-btn shadow-btn text-sm font-medium text-white bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-btn-primary transition-all",disabled:a.value},W(a.value?"Saving...":"Save Product"),9,Qz)])],32)]),d.value?(M(),U("div",Yz,[L[60]||(L[60]=c("strong",{class:"font-bold mr-1"},"Error:",-1)),c("span",Jz,W(d.value),1),c("span",{class:"absolute top-0 bottom-0 right-0 px-4 py-3 cursor-pointer",onClick:L[16]||(L[16]=G=>d.value=null)},L[59]||(L[59]=[c("span",{class:"text-xl"},"×",-1)]))])):de("",!0),v.value?(M(),U("div",Xz,L[61]||(L[61]=[c("strong",{class:"font-bold"},"Warning:",-1),c("span",{class:"block sm:inline"}," Some images are temporarily stored locally due to CORS restrictions. They will be lost if you refresh the page. Please check the CORS settings for your Firebase Storage. ",-1)]))):de("",!0),h.value?(M(),U("div",Zz,L[62]||(L[62]=[c("strong",{class:"font-bold"},"Warning:",-1),c("span",{class:"block sm:inline"}," Some uploaded images may be stored as base64 strings in the database, which has size limitations. Very large images may cause problems when saving the product. ",-1)]))):de("",!0)])}}},Fb=Gr(eW,[["__scopeId","data-v-41ec0c1f"]]),tW={class:"admin-orders min-h-screen bg-light-primary dark:bg-dark-primary transition-colors duration-300"},rW={class:"container mx-auto px-4 py-8"},nW={class:"flex justify-between items-center mb-12 bg-light-secondary dark:bg-dark-secondary p-6 rounded-xl shadow-lg"},sW={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},iW={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-accent-primary/10 dark:from-dark-secondary dark:to-accent-primary/20 rounded-xl shadow-lg p-6 border-2 border-accent-primary/20"},oW={class:"text-3xl font-bold text-accent-primary"},aW={class:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-1"},lW={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-orange-500/10 dark:from-dark-secondary dark:to-orange-500/20 rounded-xl shadow-lg p-6 border-2 border-orange-500/20"},cW={class:"text-3xl font-bold text-orange-500"},uW={class:"flex items-center mt-2"},dW={class:"h-2 flex-grow rounded-full bg-light-neutral-200 dark:bg-dark-neutral-700"},hW={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-blue-500/10 dark:from-dark-secondary dark:to-blue-500/20 rounded-xl shadow-lg p-6 border-2 border-blue-500/20"},fW={class:"text-3xl font-bold text-blue-500"},pW={class:"text-xs text-accent-tertiary mt-1"},mW={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-cyan-500/10 dark:from-dark-secondary dark:to-cyan-500/20 rounded-xl shadow-lg p-6 border-2 border-cyan-500/20"},gW={class:"text-3xl font-bold text-cyan-500"},vW={class:"bg-light-secondary dark:bg-dark-secondary rounded-xl shadow-lg p-6 mb-6 border border-light-neutral-300 dark:border-dark-neutral-700"},yW={class:"flex flex-wrap items-center gap-4"},bW={key:0,class:"flex justify-center items-center h-64"},xW={key:1,class:"bg-light-secondary dark:bg-dark-secondary rounded-xl shadow-lg overflow-hidden border border-light-neutral-300 dark:border-dark-neutral-700"},_W={class:"w-full text-left"},wW={class:"bg-light-neutral-100 dark:bg-dark-neutral-800 border-b border-light-neutral-300 dark:border-dark-neutral-700"},kW={class:"flex items-center"},EW={class:"flex items-center"},IW={class:"flex items-center"},TW={class:"flex items-center"},AW={class:"flex items-center"},SW={class:"flex items-center"},CW={class:"px-6 py-4 font-medium"},PW={class:"px-6 py-4"},RW={class:"px-6 py-4"},NW={class:"px-6 py-4"},$W={class:"px-6 py-4"},OW={class:"px-6 py-4"},DW={class:"px-6 py-4"},MW=["onClick"],VW=["onClick"],LW={key:2,class:"bg-white rounded-lg shadow-md p-8 text-center"},FW={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},UW={class:"bg-light-primary dark:bg-dark-primary rounded-xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto transform"},jW={class:"p-6 border-b border-light-neutral-300 dark:border-dark-neutral-700"},BW={class:"flex justify-between items-center"},qW={class:"p-6"},HW={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},zW={class:"bg-light-secondary dark:bg-dark-secondary p-4 rounded-lg"},WW={class:"bg-light-secondary dark:bg-dark-secondary p-4 rounded-lg"},KW={key:0},GW={key:1},QW={key:0,class:"mb-6 bg-light-secondary dark:bg-dark-secondary p-4 rounded-lg"},YW={class:"mb-6"},JW={class:"border border-light-neutral-300 dark:border-dark-neutral-700 rounded-lg overflow-hidden"},XW={class:"w-full text-sm"},ZW={class:"bg-light-secondary dark:bg-dark-secondary"},eK={class:"px-4 py-3"},tK={class:"flex items-center"},rK=["src"],nK={class:"pl-2"},sK={class:"px-4 py-3"},iK={class:"px-4 py-3"},oK={class:"px-4 py-3 text-right"},aK={class:"bg-light-neutral-100 dark:bg-dark-neutral-800"},lK={class:"px-4 py-2 text-right font-bold"},cK={class:"flex justify-end"},uK={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},dK={class:"bg-light-primary dark:bg-dark-primary rounded-xl shadow-xl p-6 w-full max-w-md transform"},hK={class:"mb-4"},fK={class:"text-light-text-secondary dark:text-dark-text-secondary mb-2"},pK={class:"flex justify-end gap-2"},mK=["disabled"],gK={key:0,class:"inline-block animate-spin mr-2"},vK={__name:"AdminOrders",setup(t){const e=q([]),r=q(!0),n=q("all"),s=q(""),i=q(!1),o=q(!1),a=q(null),l=q(""),d=q(!1),h=q("orderNumber"),f=q("asc"),p=q(0),v=re(()=>e.value.filter(y=>y.status==="processing").length),b=re(()=>e.value.reduce((y,m)=>y+(m.total||0),0)),w=re(()=>e.value.length?b.value/e.value.length:0),_=q(15),T=re(()=>{let y=[...e.value];if(n.value!=="all"&&(y=y.filter(m=>m.status===n.value)),s.value.trim()){const m=s.value.toLowerCase();y=y.filter(k=>{var Y,L,oe,G;const $=((Y=k.orderNumber)==null?void 0:Y.toLowerCase())||k.id.toLowerCase(),P=((L=k.firstName)==null?void 0:L.toLowerCase())||"",R=((oe=k.lastName)==null?void 0:oe.toLowerCase())||"",le=((G=k.email)==null?void 0:G.toLowerCase())||"";return $.includes(m)||P.includes(m)||R.includes(m)||le.includes(m)||`${P} ${R}`.includes(m)})}return y.sort((m,k)=>{let $=m[h.value],P=k[h.value];h.value==="orderDate"&&($=($==null?void 0:$.seconds)||0,P=(P==null?void 0:P.seconds)||0);const R=$>P?1:$<P?-1:0;return f.value==="asc"?R:-R}),y}),S=async()=>{r.value=!0;try{const y=await ze.getAllOrders();e.value=y.map(m=>{var le,Y,L;const k=m.firstName||((le=m.shippingInfo)==null?void 0:le.firstName)||"",$=m.lastName||((Y=m.shippingInfo)==null?void 0:Y.lastName)||"",P=`${k} ${$}`.trim()||m.customerName||"N/A",R=m.email||((L=m.shippingInfo)==null?void 0:L.email)||"N/A";return{...m,customerName:P,email:R}})}catch(y){console.error("Error loading orders:",y)}finally{r.value=!1}},E=async y=>{var m,k,$,P,R,le,Y,L,oe;try{if(y.userId){const G=await ze.getUserProfile(y.userId),ge=y.firstName||((m=y.shippingInfo)==null?void 0:m.firstName)||(G==null?void 0:G.firstName)||"",Se=y.lastName||((k=y.shippingInfo)==null?void 0:k.lastName)||(G==null?void 0:G.lastName)||"",Ie=`${ge} ${Se}`.trim(),Te=y.email||(($=y.shippingInfo)==null?void 0:$.email)||(G==null?void 0:G.email)||"N/A";a.value={...y,customerDetails:G,customerName:Ie||"N/A",email:Te}}else{const G=y.firstName||((P=y.shippingInfo)==null?void 0:P.firstName)||"",ge=y.lastName||((R=y.shippingInfo)==null?void 0:R.lastName)||"",Se=`${G} ${ge}`.trim(),Ie=y.email||((le=y.shippingInfo)==null?void 0:le.email)||"N/A";a.value={...y,customerName:Se||"Guest User",email:Ie}}i.value=!0}catch(G){console.error("Error loading customer details:",G);const ge=y.firstName||((Y=y.shippingInfo)==null?void 0:Y.firstName)||"",Se=y.lastName||((L=y.shippingInfo)==null?void 0:L.lastName)||"",Ie=`${ge} ${Se}`.trim(),Te=y.email||((oe=y.shippingInfo)==null?void 0:oe.email)||"N/A";a.value={...y,customerName:Ie||"N/A",email:Te},i.value=!0}},N=y=>{a.value=y,l.value=y.status||"processing",o.value=!0},C=async()=>{if(!(!a.value||!l.value)){d.value=!0;try{await ze.updateOrderStatus(a.value.id,l.value);const y=e.value.findIndex(m=>m.id===a.value.id);y!==-1&&(e.value[y].status=l.value),a.value&&(a.value.status=l.value),o.value=!1}catch(y){console.error("Error updating order status:",y)}finally{d.value=!1}}},F=y=>{if(!y)return"N/A";const m=y.toDate?y.toDate():new Date(y);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(m)},I=y=>y?y.charAt(0).toUpperCase()+y.slice(1):"";return je(()=>{S()}),(y,m)=>{const k=Lr("ArrowPathIcon"),$=Lr("SortIndicator");return M(),U("div",tW,[c("div",rW,[c("div",nW,[c("div",null,[H(ah,{items:[{text:"Dashboard",path:"/admin"},{text:"Orders"}]}),m[13]||(m[13]=c("h1",{class:"text-4xl font-bold text-light-text-primary dark:text-dark-text-primary mt-2"},"Order Management",-1)),m[14]||(m[14]=c("p",{class:"text-light-text-secondary dark:text-dark-text-secondary mt-1"},"View and manage customer orders",-1))]),c("button",{onClick:S,class:"bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark text-light-text-inverted neutral py-2 px-4 rounded-btn flex items-center shadow-btn hover:shadow-btn-hover transition-btn duration-200"},[H(k,{class:"h-5 w-5 mr-2"}),m[15]||(m[15]=ue(" Refresh "))])]),c("div",sW,[c("div",iW,[m[16]||(m[16]=c("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Total Orders",-1)),c("p",oW,W(e.value.length),1),c("p",aW,"Last 30 days: +"+W(p.value),1)]),c("div",lW,[m[17]||(m[17]=c("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Processing",-1)),c("p",cW,W(v.value),1),c("div",uW,[c("div",dW,[c("div",{class:"h-2 rounded-full bg-orange-500 transition-all duration-300",style:St(`width: ${v.value/e.value.length*100}%`)},null,4)])])]),c("div",hW,[m[19]||(m[19]=c("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Revenue",-1)),c("p",fW,W(B(Ye)(b.value)),1),c("p",pW,[m[18]||(m[18]=c("span",{class:"inline-block transform rotate-45"},"↗",-1)),ue(" "+W(_.value)+"% from last month ",1)])]),c("div",mW,[m[20]||(m[20]=c("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Avg. Order Value",-1)),c("p",gW,W(B(Ye)(w.value)),1),m[21]||(m[21]=c("p",{class:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-1"},"Per order",-1))])]),c("div",vW,[c("div",yW,[c("div",null,[m[23]||(m[23]=c("label",{class:"text-sm text-light-text-secondary dark:text-dark-text-secondary block mb-1"},"Filter by Status:",-1)),ke(c("select",{"onUpdate:modelValue":m[0]||(m[0]=P=>n.value=P),class:"border border-light-neutral-300 dark:border-dark-neutral-600 rounded-lg px-3 py-2 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-accent-primary focus:border-accent-primary"},m[22]||(m[22]=[Tt('<option value="all" data-v-b1d280b8>All Orders</option><option value="processing" data-v-b1d280b8>Processing</option><option value="shipped" data-v-b1d280b8>Shipped</option><option value="delivered" data-v-b1d280b8>Delivered</option><option value="cancelled" data-v-b1d280b8>Cancelled</option>',5)]),512),[[rs,n.value]])]),c("div",null,[m[24]||(m[24]=c("label",{class:"text-sm text-light-text-secondary dark:text-dark-text-secondary block mb-1"},"Search:",-1)),ke(c("input",{"onUpdate:modelValue":m[1]||(m[1]=P=>s.value=P),type:"text",placeholder:"Search by Order ID, name, or email",class:"border border-light-neutral-300 dark:border-dark-neutral-600 rounded-lg px-3 py-2 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-accent-primary focus:border-accent-primary"},null,512),[[Pe,s.value]])])])]),r.value?(M(),U("div",bW,m[25]||(m[25]=[c("div",{class:"animate-spin rounded-full h-16 w-16 border-t-4 border-blue-600 border-opacity-75"},null,-1)]))):T.value.length>0?(M(),U("div",xW,[c("table",_W,[c("thead",wW,[c("tr",null,[c("th",{class:"px-6 py-3 text-light-text-secondary dark:text-dark-text-secondary font-medium cursor-pointer",onClick:m[2]||(m[2]=P=>y.sortOrders("orderNumber"))},[c("div",kW,[m[26]||(m[26]=c("span",null,"Order ID",-1)),H($,{active:h.value==="orderNumber",direction:f.value},null,8,["active","direction"])])]),c("th",{class:"px-6 py-3 text-light-text-secondary dark:text-dark-text-secondary font-medium cursor-pointer",onClick:m[3]||(m[3]=P=>y.sortOrders("orderDate"))},[c("div",EW,[m[27]||(m[27]=c("span",null,"Date",-1)),H($,{active:h.value==="orderDate",direction:f.value},null,8,["active","direction"])])]),c("th",{class:"px-6 py-3 text-light-text-secondary dark:text-dark-text-secondary font-medium cursor-pointer",onClick:m[4]||(m[4]=P=>y.sortOrders("customerName"))},[c("div",IW,[m[28]||(m[28]=c("span",null,"Customer Name",-1)),H($,{active:h.value==="customerName",direction:f.value},null,8,["active","direction"])])]),c("th",{class:"px-6 py-3 text-light-text-secondary dark:text-dark-text-secondary font-medium cursor-pointer",onClick:m[5]||(m[5]=P=>y.sortOrders("email"))},[c("div",TW,[m[29]||(m[29]=c("span",null,"Email",-1)),H($,{active:h.value==="email",direction:f.value},null,8,["active","direction"])])]),c("th",{class:"px-6 py-3 text-light-text-secondary dark:text-dark-text-secondary font-medium cursor-pointer",onClick:m[6]||(m[6]=P=>y.sortOrders("total"))},[c("div",AW,[m[30]||(m[30]=c("span",null,"Total",-1)),H($,{active:h.value==="total",direction:f.value},null,8,["active","direction"])])]),c("th",{class:"px-6 py-3 text-light-text-secondary dark:text-dark-text-secondary font-medium cursor-pointer",onClick:m[7]||(m[7]=P=>y.sortOrders("status"))},[c("div",SW,[m[31]||(m[31]=c("span",null,"Status",-1)),H($,{active:h.value==="status",direction:f.value},null,8,["active","direction"])])]),m[32]||(m[32]=c("th",{class:"px-6 py-3 text-light-text-secondary dark:text-dark-text-secondary font-medium"},"Actions",-1))])]),c("tbody",null,[(M(!0),U(xe,null,qe(T.value,P=>(M(),U("tr",{key:P.id,class:"border-b hover:bg-gray-50"},[c("td",CW,W(P.orderNumber||`#${P.id.substring(0,6)}`),1),c("td",PW,W(F(P.orderDate)),1),c("td",RW,W(P.customerName||"Unknown"),1),c("td",NW,W(P.email||"N/A"),1),c("td",$W,W(B(Ye)(P.total)),1),c("td",OW,[c("span",{class:$e([{"bg-yellow-100 text-yellow-800":P.status==="processing","bg-blue-100 text-blue-800":P.status==="shipped","bg-green-100 text-green-800":P.status==="delivered","bg-red-100 text-red-800":P.status==="cancelled"},"px-3 py-1 rounded-full text-sm font-medium"])},W(I(P.status)),3)]),c("td",DW,[c("button",{onClick:R=>E(P),class:"text-blue-600 hover:text-blue-900 mr-3"}," View ",8,MW),c("button",{onClick:R=>N(P),class:"text-green-600 hover:text-green-900"}," Update ",8,VW)])]))),128))])])])):(M(),U("div",LW,m[33]||(m[33]=[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-16 w-16 text-gray-400 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),c("h2",{class:"text-xl font-semibold text-gray-700"},"No orders found",-1),c("p",{class:"text-gray-500 mt-1"},"No orders match your current filters.",-1)]))),H(Fs,{"enter-active-class":"duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:te(()=>[i.value?(M(),U("div",FW,[H(Fs,{"enter-active-class":"duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:te(()=>{var P,R,le,Y,L,oe,G,ge,Se,Ie,Te,Le,ot,Et,mt,z,D,A,Z,ee;return[c("div",UW,[c("div",jW,[c("div",BW,[m[35]||(m[35]=c("h2",{class:"text-2xl font-bold text-light-text-primary dark:text-dark-text-primary"},"Order Details",-1)),c("button",{onClick:m[8]||(m[8]=Ce=>i.value=!1),class:"text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary"},m[34]||(m[34]=[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])]),c("div",qW,[c("div",HW,[c("div",zW,[m[40]||(m[40]=c("h3",{class:"font-medium text-light-text-primary dark:text-dark-text-primary mb-2"},"Order Information",-1)),c("p",null,[m[36]||(m[36]=c("span",{class:"text-gray-500"},"Order ID:",-1)),ue(" "+W(((P=a.value)==null?void 0:P.orderNumber)||`#${(R=a.value)==null?void 0:R.id.substring(0,6)}`),1)]),c("p",null,[m[37]||(m[37]=c("span",{class:"text-gray-500"},"Date:",-1)),ue(" "+W(F((le=a.value)==null?void 0:le.orderDate)),1)]),c("p",null,[m[38]||(m[38]=c("span",{class:"text-gray-500"},"Status:",-1)),c("span",{class:$e([{"bg-yellow-100 text-yellow-800":((Y=a.value)==null?void 0:Y.status)==="processing","bg-blue-100 text-blue-800":((L=a.value)==null?void 0:L.status)==="shipped","bg-green-100 text-green-800":((oe=a.value)==null?void 0:oe.status)==="delivered","bg-red-100 text-red-800":((G=a.value)==null?void 0:G.status)==="cancelled"},"px-3 py-1 rounded-full text-sm font-medium ml-1"])},W(I((ge=a.value)==null?void 0:ge.status)),3)]),c("p",null,[m[39]||(m[39]=c("span",{class:"text-gray-500"},"Total:",-1)),ue(" "+W(B(Ye)((Se=a.value)==null?void 0:Se.total)),1)])]),c("div",WW,[m[46]||(m[46]=c("h3",{class:"font-medium text-light-text-primary dark:text-dark-text-primary mb-2"},"Customer Information",-1)),c("p",null,[m[41]||(m[41]=c("span",{class:"text-gray-500"},"Name:",-1)),ue(" "+W((Ie=a.value)==null?void 0:Ie.customerName),1)]),c("p",null,[m[42]||(m[42]=c("span",{class:"text-gray-500"},"Email:",-1)),ue(" "+W(((Te=a.value)==null?void 0:Te.email)||"N/A"),1)]),c("p",null,[m[43]||(m[43]=c("span",{class:"text-gray-500"},"Phone:",-1)),ue(" "+W(((Le=a.value)==null?void 0:Le.phone)||"N/A"),1)]),(ot=a.value)!=null&&ot.shippingAddress?(M(),U("p",KW,[m[44]||(m[44]=c("span",{class:"text-gray-500"},"Address:",-1)),ue(" "+W((Et=a.value)==null?void 0:Et.shippingAddress),1)])):de("",!0),(mt=a.value)!=null&&mt.userId?(M(),U("p",GW,[m[45]||(m[45]=c("span",{class:"text-gray-500"},"Customer ID:",-1)),ue(" "+W((z=a.value)==null?void 0:z.userId),1)])):de("",!0)])]),(D=a.value)!=null&&D.shippingAddress?(M(),U("div",QW,[m[47]||(m[47]=c("h3",{class:"font-medium text-light-text-primary dark:text-dark-text-primary mb-2"},"Shipping Address",-1)),c("p",null,W(a.value.shippingAddress.street)+", "+W(a.value.shippingAddress.city),1),c("p",null,W(a.value.shippingAddress.state)+", "+W(a.value.shippingAddress.zip),1),c("p",null,W(a.value.shippingAddress.country),1)])):de("",!0),c("div",YW,[m[50]||(m[50]=c("h3",{class:"font-medium text-light-text-primary dark:text-dark-text-primary mb-2"},"Order Items",-1)),c("div",JW,[c("table",XW,[m[49]||(m[49]=c("thead",{class:"bg-light-neutral-100 dark:bg-dark-neutral-800"},[c("tr",null,[c("th",{class:"px-4 py-2 text-left"},"Product"),c("th",{class:"px-4 py-2 text-left"},"Price"),c("th",{class:"px-4 py-2 text-left"},"Quantity"),c("th",{class:"px-4 py-2 text-right"},"Subtotal")])],-1)),c("tbody",ZW,[(M(!0),U(xe,null,qe((A=a.value)==null?void 0:A.items,(Ce,V)=>{var j;return M(),U("tr",{key:V,class:"border-t"},[c("td",eK,[c("div",tK,[c("img",{src:Ce.image||"https://via.placeholder.com/80",alt:"Product",class:"w-16 h-16 object-cover rounded-lg shadow-card"},null,8,rK),c("span",nK,W(Ce.name),1)])]),c("td",sK,W((j=Ce.price)==null?void 0:j.toFixed(2)),1),c("td",iK,W(Ce.quantity),1),c("td",oK,"$"+W((Ce.price*Ce.quantity).toFixed(2)),1)])}),128))]),c("tfoot",aK,[c("tr",null,[m[48]||(m[48]=c("td",{colspan:"3",class:"px-4 py-2 text-right font-medium"},"Total:",-1)),c("td",lK,"$"+W((ee=(Z=a.value)==null?void 0:Z.total)==null?void 0:ee.toFixed(2)),1)])])])])]),c("div",cK,[c("button",{onClick:m[9]||(m[9]=Ce=>N(a.value)),class:"bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark text-light-text-inverted px-4 py-2 rounded-btn shadow-btn hover:shadow-btn-hover transition-btn duration-200 mr-2"}," Update Status "),c("button",{onClick:m[10]||(m[10]=Ce=>i.value=!1),class:"bg-light-neutral-200 dark:bg-dark-neutral-700 text-light-text-primary dark:text-dark-text-primary px-4 py-2 rounded-btn hover:bg-light-neutral-300 dark:hover:bg-dark-neutral-600 transition-colors duration-200"}," Close ")])])])]}),_:1})])):de("",!0)]),_:1}),H(Fs,{"enter-active-class":"duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:te(()=>[o.value?(M(),U("div",uK,[H(Fs,{"enter-active-class":"duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:te(()=>{var P,R;return[c("div",dK,[m[54]||(m[54]=c("h2",{class:"text-xl font-bold mb-4 text-light-text-primary dark:text-dark-text-primary"},"Update Order Status",-1)),c("div",hK,[c("p",fK," Order: "+W(((P=a.value)==null?void 0:P.orderNumber)||`#${(R=a.value)==null?void 0:R.id.substring(0,6)}`),1),m[52]||(m[52]=c("label",{class:"block text-light-text-primary dark:text-dark-text-primary mb-2"},"Status:",-1)),ke(c("select",{"onUpdate:modelValue":m[11]||(m[11]=le=>l.value=le),class:"w-full border border-light-neutral-300 dark:border-dark-neutral-700 rounded-lg px-3 py-2 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-accent-primary focus:border-accent-primary"},m[51]||(m[51]=[c("option",{value:"processing"},"Processing",-1),c("option",{value:"shipped"},"Shipped",-1),c("option",{value:"delivered"},"Delivered",-1),c("option",{value:"cancelled"},"Cancelled",-1)]),512),[[rs,l.value]])]),c("div",pK,[c("button",{onClick:m[12]||(m[12]=le=>o.value=!1),class:"bg-light-neutral-200 dark:bg-dark-neutral-700 text-light-text-primary dark:text-dark-text-primary px-4 py-2 rounded-btn hover:bg-light-neutral-300 dark:hover:bg-dark-neutral-600 transition-colors duration-200"}," Cancel "),c("button",{onClick:C,class:"bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark text-light-text-inverted px-4 py-2 rounded-btn shadow-btn hover:shadow-btn-hover transition-btn duration-200",disabled:d.value},[d.value?(M(),U("span",gK,"⌛")):de("",!0),m[53]||(m[53]=ue(" Update "))],8,mK)])])]}),_:1})])):de("",!0)]),_:1})])])}}},yK=Gr(vK,[["__scopeId","data-v-b1d280b8"]]),bK={class:"admin-users min-h-screen bg-light-primary dark:bg-dark-primary transition-colors duration-300"},xK={class:"container mx-auto px-4 py-8"},_K={class:"flex justify-between items-center mb-12 bg-light-secondary dark:bg-dark-secondary p-6 rounded-xl shadow-lg"},wK={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},kK={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-accent-primary/10 dark:from-dark-secondary dark:to-accent-primary/20 rounded-xl shadow-lg p-6 border-2 border-accent-primary/20"},EK={class:"text-3xl font-bold text-accent-primary"},IK={class:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-1"},TK={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-orange-500/10 dark:from-dark-secondary dark:to-orange-500/20 rounded-xl shadow-lg p-6 border-2 border-orange-500/20"},AK={class:"text-3xl font-bold text-orange-500"},SK={class:"flex items-center mt-2"},CK={class:"h-2 flex-grow rounded-full bg-light-neutral-200 dark:bg-dark-neutral-700"},PK={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-blue-500/10 dark:from-dark-secondary dark:to-blue-500/20 rounded-xl shadow-lg p-6 border-2 border-blue-500/20"},RK={class:"text-3xl font-bold text-blue-500"},NK={class:"text-xs text-accent-tertiary mt-1"},$K={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-cyan-500/10 dark:from-dark-secondary dark:to-cyan-500/20 rounded-xl shadow-lg p-6 border-2 border-cyan-500/20"},OK={class:"text-3xl font-bold text-cyan-500"},DK={key:0,class:"mb-4 flex items-center space-x-2"},MK={class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},VK={class:"bg-light-secondary dark:bg-dark-secondary rounded-xl shadow-lg overflow-hidden border border-light-neutral-300 dark:border-dark-neutral-700"},LK={class:"overflow-x-auto"},FK={class:"min-w-full divide-y divide-light-neutral-300 dark:divide-dark-neutral-700"},UK={class:"bg-light-neutral-100 dark:bg-dark-neutral-800"},jK={scope:"col",class:"px-6 py-3"},BK=["checked"],qK={class:"flex items-center"},HK={class:"flex items-center"},zK={class:"flex items-center"},WK={class:"bg-light-secondary dark:bg-dark-secondary divide-y divide-light-neutral-300 dark:divide-dark-neutral-700"},KK={key:0,class:"animate-pulse"},GK={key:1},QK={colspan:"5",class:"px-6 py-12 text-center"},YK={class:"flex flex-col items-center"},JK={class:"px-6 py-4"},XK=["checked","onChange"],ZK={class:"px-6 py-4 whitespace-nowrap"},eG={class:"flex items-center"},tG={class:"flex-shrink-0 h-10 w-10 rounded-full bg-accent-primary/10 dark:bg-accent-primary/20 flex items-center justify-center text-accent-primary"},rG={class:"ml-4"},nG={class:"text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},sG={key:0,class:"ml-1 text-xs text-accent-quaternary dark:text-accent-quaternary font-normal"},iG={class:"px-6 py-4 whitespace-nowrap"},oG={class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},aG={class:"px-6 py-4 whitespace-nowrap"},lG={class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},cG={class:"px-6 py-4 whitespace-nowrap"},uG={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},dG={class:"flex items-center justify-end space-x-2"},hG=["onClick"],fG=["onClick"],pG=["onClick"],mG={key:1,class:"fixed bottom-4 right-4 bg-accent-tertiary/10 border border-accent-tertiary/20 text-accent-tertiary dark:text-accent-tertiary px-4 py-2 rounded-lg shadow-lg flex items-center"},gG={class:"fixed inset-0 overflow-y-auto"},vG={class:"flex min-h-full items-center justify-center p-4 text-center"},yG={class:"flex justify-between items-center mb-4"},bG={key:0,class:"mb-4 bg-accent-tertiary/10 border-accent-tertiary/20 text-accent-tertiary dark:text-accent-tertiary border px-4 py-2 rounded flex items-center"},xG={class:"mt-4 space-y-4"},_G={class:"grid grid-cols-2 gap-4"},wG={class:"flex items-center"},kG={class:"mt-6 flex justify-end space-x-3"},EG=["disabled"],IG={key:0,class:"inline-block animate-spin mr-2"},TG={__name:"AdminUsersView",setup(t){const e=q([]),r=q([]),n=q(!0),s=q(""),i=q(!1),o=q(null),a=q({}),l=q(!1),d=q(null),h=q(!1),f=gn({show:!1,message:"",timeout:null}),p=q(0),v=q(0),b=q(12),w=q("24:15"),_=re(()=>r.value.length===Y.value.length),T=q("name"),S=q("asc"),E=q("all"),N=[{text:"Dashboard",path:"/admin"},{text:"User Management"}],C=D=>{D.target.checked?r.value=Y.value.map(A=>A.id):r.value=[]},F=D=>{const A=r.value.indexOf(D);A===-1?r.value.push(D):r.value.splice(A,1)},I=q(null);je(async()=>{try{n.value=!0;const D=ia();d.value=D.currentUser,e.value=await ze.getAllUsers()}catch(D){console.error("Failed to load users:",D),I.value="Failed to load users. Please try again later."}finally{n.value=!1}});const y=D=>{if(!D)return"?";const A=D.firstName?D.firstName[0]:"",Z=D.lastName?D.lastName[0]:"";return(A+Z).toUpperCase()||"?"},m=D=>{if(!D||!d.value)return!1;const A=D.id===d.value.uid||D.uid===d.value.uid||D.email===d.value.email;return A&&!D.email&&d.value.email&&(D.email=d.value.email),A},k=D=>{f.timeout&&clearTimeout(f.timeout),f.message=D,f.show=!0,f.timeout=setTimeout(()=>{f.show=!1},3e3)},$=D=>{T.value===D?S.value=S.value==="asc"?"desc":"asc":(T.value=D,S.value="asc")},P=()=>{s.value="",E.value="all"},R=re(()=>e.value.filter(D=>D.isAdmin).length),le=Ze({props:{active:Boolean,direction:String},setup(D){return()=>D.active?yt("span",{class:"ml-1 text-gray-700"},D.direction==="asc"?"↑":"↓"):yt("span",{class:"ml-1 text-gray-300"},"↕")}}),Y=re(()=>{let D=[...e.value];if(E.value!=="all"){const A=E.value==="admin";D=D.filter(Z=>Z.isAdmin===A)}if(s.value){const A=s.value.toLowerCase();D=D.filter(Z=>{var ee;return((ee=Z.email)==null?void 0:ee.toLowerCase().includes(A))||`${Z.firstName} ${Z.lastName}`.toLowerCase().includes(A)})}return D.sort((A,Z)=>{var j,Q,ne,J;let ee,Ce;T.value==="name"?(ee=`${A.firstName} ${A.lastName}`.toLowerCase(),Ce=`${Z.firstName} ${Z.lastName}`.toLowerCase()):T.value==="email"?(ee=((j=A.email)==null?void 0:j.toLowerCase())||"",Ce=((Q=Z.email)==null?void 0:Q.toLowerCase())||""):T.value==="createdAt"&&(ee=((ne=A.createdAt)==null?void 0:ne.seconds)||0,Ce=((J=Z.createdAt)==null?void 0:J.seconds)||0);const V=ee>Ce?1:ee<Ce?-1:0;return S.value==="asc"?V:-V}),D}),L=D=>{if(!D)return"N/A";try{let A;if(D.toDate&&typeof D.toDate=="function")A=D.toDate();else if(D.seconds)A=new Date(D.seconds*1e3);else if(D instanceof Date)A=D;else if(typeof D=="string")A=new Date(D);else return"N/A";return A.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch(A){return console.error("Error formatting date:",A),"N/A"}},oe=async D=>{try{if(!D||!D.id){console.error("Invalid user object:",D);return}const A={id:D.id,firstName:D.firstName||"",lastName:D.lastName||"",email:D.email||"",phone:D.phone||"",isAdmin:!!D.isAdmin,createdAt:D.createdAt||null};o.value=A.id,await ir(),a.value={...A},i.value=!0}catch(A){console.error("Error opening user details:",A),alert("Could not open user details. Please try again.")}},G=()=>{i.value=!1,a.value={},o.value=null,h.value=!1},ge=async()=>{if(o.value)try{l.value=!0,I.value=null;const D={firstName:a.value.firstName||"",lastName:a.value.lastName||"",phone:a.value.phone||"",isAdmin:!!a.value.isAdmin,email:a.value.email};await ze.updateUser(o.value,D);const A=e.value.findIndex(Z=>Z.id===o.value);A!==-1&&(e.value[A]={...e.value[A],...D}),h.value=!0,k(`User ${D.firstName} ${D.lastName} updated successfully`),setTimeout(()=>{G()},1500)}catch(D){console.error("Failed to update user:",D),I.value="Failed to update user. Please try again."}finally{l.value=!1}},Se=[{value:"all",label:"All Roles"},{value:"admin",label:"Admins"},{value:"customer",label:"Customers"}];re(()=>{var D;return((D=Se.find(A=>A.value===E.value))==null?void 0:D.label)||"All Roles"});const Ie=async()=>{if(confirm(`Are you sure you want to delete ${r.value.length} users?`))try{await Promise.all(r.value.map(D=>ze.deleteUser(D))),e.value=e.value.filter(D=>!r.value.includes(D.id)),r.value=[],k("Users deleted successfully")}catch(D){console.error("Failed to delete users:",D)}},Te=async()=>{const D=confirm("Make selected users admins? Click OK for Admin, Cancel for Customer");try{await Promise.all(r.value.map(A=>ze.updateUser(A,{isAdmin:D}))),e.value=e.value.map(A=>r.value.includes(A.id)?{...A,isAdmin:D}:A),r.value=[],k("Users' roles updated successfully")}catch(A){console.error("Failed to update users:",A)}},Le=D=>{console.log("View activity for user:",D.id),k("User activity feature coming soon")},ot=q(null);q(!1);const Et=q(!1),mt=D=>{if(m(D)){k("You cannot delete your own account");return}ot.value=D,confirm(`Are you sure you want to delete user ${D.firstName} ${D.lastName}?`)&&z(D.id)},z=async D=>{try{Et.value=!0,await ze.deleteUser(D),e.value=e.value.filter(A=>A.id!==D),r.value.includes(D)&&(r.value=r.value.filter(A=>A!==D)),k("User deleted successfully")}catch(A){console.error("Error deleting user:",A),k("Failed to delete user. Please try again.")}finally{Et.value=!1,ot.value=null}};return(D,A)=>(M(),U("div",bK,[c("div",xK,[c("div",_K,[c("div",null,[H(ah,{items:N}),A[7]||(A[7]=c("h1",{class:"text-4xl font-bold text-light-text-primary dark:text-dark-text-primary mt-2"},"User Management",-1)),A[8]||(A[8]=c("p",{class:"text-light-text-secondary dark:text-dark-text-secondary mt-1"},"View and manage system users",-1))]),c("button",{onClick:P,class:"bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark text-white py-2 px-4 rounded-btn flex items-center shadow-btn hover:shadow-btn-hover transition-btn duration-200"},[H(B(q9),{class:"h-5 w-5 mr-2"}),A[9]||(A[9]=ue(" Reset Filters "))])]),c("div",wK,[c("div",kK,[A[10]||(A[10]=c("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Total Users",-1)),c("p",EK,W(e.value.length),1),c("p",IK,"Last 30 days: +"+W(p.value),1)]),c("div",TK,[A[11]||(A[11]=c("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Admins",-1)),c("p",AK,W(R.value),1),c("div",SK,[c("div",CK,[c("div",{class:"h-2 rounded-full bg-orange-500 transition-all duration-300",style:St(`width: ${R.value/e.value.length*100}%`)},null,4)])])]),c("div",PK,[A[13]||(A[13]=c("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Active Users",-1)),c("p",RK,W(v.value),1),c("p",NK,[A[12]||(A[12]=c("span",{class:"inline-block transform rotate-45"},"↗",-1)),ue(" "+W(b.value)+"% from last month ",1)])]),c("div",$K,[A[14]||(A[14]=c("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Avg. Session",-1)),c("p",OK,W(w.value),1),A[15]||(A[15]=c("p",{class:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-1"},"Minutes per user",-1))])]),r.value.length>0?(M(),U("div",DK,[c("span",MK,W(r.value.length)+" selected ",1),c("button",{onClick:Ie,class:"text-red-500 hover:text-red-600 text-sm font-medium"}," Delete Selected "),c("button",{onClick:Te,class:"text-accent-quaternary hover:text-accent-quaternary/80 text-sm font-medium"}," Change Role ")])):de("",!0),c("div",VK,[c("div",LK,[c("table",FK,[c("thead",UK,[c("tr",null,[c("th",jK,[c("input",{type:"checkbox",onChange:C,checked:_.value,class:"rounded border-light-neutral-300 dark:border-dark-neutral-600 text-accent-primary focus:ring-accent-primary"},null,40,BK)]),c("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-light-text-secondary dark:text-dark-text-secondary uppercase tracking-wider cursor-pointer",onClick:A[0]||(A[0]=Z=>$("name"))},[c("div",qK,[A[16]||(A[16]=c("span",null,"Name",-1)),H(B(le),{active:T.value==="name",direction:S.value},null,8,["active","direction"])])]),c("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-light-text-secondary dark:text-dark-text-secondary uppercase tracking-wider cursor-pointer",onClick:A[1]||(A[1]=Z=>$("email"))},[c("div",HK,[A[17]||(A[17]=c("span",null,"Email",-1)),H(B(le),{active:T.value==="email",direction:S.value},null,8,["active","direction"])])]),c("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-light-text-secondary dark:text-dark-text-secondary uppercase tracking-wider cursor-pointer",onClick:A[2]||(A[2]=Z=>$("createdAt"))},[c("div",zK,[A[18]||(A[18]=c("span",null,"Joined",-1)),H(B(le),{active:T.value==="createdAt",direction:S.value},null,8,["active","direction"])])]),A[19]||(A[19]=c("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-light-text-secondary dark:text-dark-text-secondary uppercase tracking-wider"}," Role ",-1)),A[20]||(A[20]=c("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-light-text-secondary dark:text-dark-text-secondary uppercase tracking-wider"}," Actions ",-1))])]),c("tbody",WK,[n.value?(M(),U("tr",KK,A[21]||(A[21]=[c("td",{colspan:"5",class:"px-6 py-12 text-center text-light-text-secondary dark:text-dark-text-secondary"}," Loading users... ",-1)]))):Y.value.length===0?(M(),U("tr",GK,[c("td",QK,[c("div",YK,[H(B(e7),{class:"h-12 w-12 text-light-neutral-400 dark:text-dark-neutral-600 mb-2"}),A[22]||(A[22]=c("h3",{class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary"},"No users found",-1)),A[23]||(A[23]=c("p",{class:"text-light-text-secondary dark:text-dark-text-secondary mt-1"},"Try adjusting your search or filter criteria",-1))])])])):de("",!0),(M(!0),U(xe,null,qe(Y.value,Z=>(M(),U("tr",{key:Z.id,class:$e(["hover:bg-light-neutral-100 dark:hover:bg-dark-neutral-800 transition-colors",r.value.includes(Z.id)?"bg-accent-primary/5":""])},[c("td",JK,[c("input",{type:"checkbox",checked:r.value.includes(Z.id),onChange:ee=>F(Z.id),class:"rounded border-light-neutral-300 dark:border-dark-neutral-600 text-accent-primary focus:ring-accent-primary"},null,40,XK)]),c("td",ZK,[c("div",eG,[c("div",tG,W(y(Z)),1),c("div",rG,[c("div",nG,[ue(W(Z.firstName)+" "+W(Z.lastName)+" ",1),m(Z)?(M(),U("span",sG,"(You)")):de("",!0)])])])]),c("td",iG,[c("div",oG,W(Z.email||"No email"),1)]),c("td",aG,[c("div",lG,W(L(Z.createdAt)),1)]),c("td",cG,[c("span",{class:$e([Z.isAdmin?"bg-accent-primary/10 text-accent-primary":"bg-light-neutral-100 dark:bg-dark-neutral-700 text-light-text-secondary dark:text-dark-text-secondary","px-2 py-1 text-xs rounded-full"])},W(Z.isAdmin?"Admin":"Customer"),3)]),c("td",uG,[c("div",dG,[c("button",{onClick:ee=>Le(Z),class:"text-accent-quaternary hover:text-accent-quaternary/80 transition-colors",title:"View Activity"},[H(B(K9),{class:"h-5 w-5"})],8,hG),c("button",{onClick:ee=>oe(Z),class:"text-accent-quaternary hover:text-accent-quaternary/80 transition-colors",title:"Edit User"},[H(B(nE),{class:"h-5 w-5"})],8,fG),c("button",{onClick:ee=>mt(Z),class:"text-red-500 hover:text-red-600 transition-colors",title:"Delete User"},[H(B(i7),{class:"h-5 w-5"})],8,pG)])])],2))),128))])])])]),f.show?(M(),U("div",mG,[H(B(Ju),{class:"h-5 w-5 mr-2"}),c("span",null,W(f.message),1)])):de("",!0)]),H(B(dn),{appear:"",show:i.value,as:"template"},{default:te(()=>[H(B(rh),{as:"div",onClose:G,class:"relative z-50"},{default:te(()=>[H(B(fs),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:te(()=>A[24]||(A[24]=[c("div",{class:"fixed inset-0 bg-black bg-opacity-50 transition-opacity"},null,-1)])),_:1}),c("div",gG,[c("div",vG,[H(B(fs),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:te(()=>[H(B(nh),{class:"w-full max-w-md transform overflow-hidden rounded-2xl bg-light-secondary dark:bg-dark-secondary p-6 text-left align-middle shadow-xl transition-all border border-light-neutral-300 dark:border-dark-neutral-700"},{default:te(()=>[c("div",yG,[H(B(W2),{as:"h3",class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary"},{default:te(()=>A[25]||(A[25]=[ue(" Edit User ")])),_:1}),c("button",{onClick:G,class:"text-light-neutral-500 dark:text-dark-neutral-500 hover:text-light-text-primary dark:hover:text-dark-text-primary focus:outline-none","aria-label":"Close"},[H(B(oh),{class:"h-6 w-6"})])]),h.value?(M(),U("div",bG,[H(B(Ju),{class:"h-5 w-5 mr-2"}),A[26]||(A[26]=c("span",null,"User updated successfully!",-1))])):de("",!0),c("div",xG,[c("div",_G,[c("div",null,[A[27]||(A[27]=c("label",{for:"firstName",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary"}," First name ",-1)),ke(c("input",{type:"text",id:"firstName","onUpdate:modelValue":A[3]||(A[3]=Z=>a.value.firstName=Z),class:"mt-1 block w-full rounded-md border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary px-3 py-2 focus:border-accent-primary focus:ring-accent-primary focus:outline-none sm:text-sm"},null,512),[[Pe,a.value.firstName]])]),c("div",null,[A[28]||(A[28]=c("label",{for:"lastName",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary"}," Last name ",-1)),ke(c("input",{type:"text",id:"lastName","onUpdate:modelValue":A[4]||(A[4]=Z=>a.value.lastName=Z),class:"mt-1 block w-full rounded-md border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary px-3 py-2 focus:border-accent-primary focus:ring-accent-primary focus:outline-none sm:text-sm"},null,512),[[Pe,a.value.lastName]])])]),c("div",null,[A[29]||(A[29]=c("label",{for:"email",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary"}," Email ",-1)),ke(c("input",{type:"email",id:"email","onUpdate:modelValue":A[5]||(A[5]=Z=>a.value.email=Z),disabled:"",class:"mt-1 block w-full rounded-md border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-neutral-100 dark:bg-dark-neutral-800 text-light-neutral-500 dark:text-dark-neutral-500 px-3 py-2 cursor-not-allowed sm:text-sm"},null,512),[[Pe,a.value.email]])]),c("div",wG,[H(B(C9),{modelValue:a.value.isAdmin,"onUpdate:modelValue":A[6]||(A[6]=Z=>a.value.isAdmin=Z),class:$e([a.value.isAdmin?"bg-accent-primary":"bg-light-neutral-300 dark:bg-dark-neutral-600","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-accent-primary focus:ring-offset-2"])},{default:te(()=>[A[30]||(A[30]=c("span",{class:"sr-only"},"Admin status",-1)),c("span",{"aria-hidden":"true",class:$e([a.value.isAdmin?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out"])},null,2)]),_:1},8,["modelValue","class"]),A[31]||(A[31]=c("span",{class:"ml-3 text-sm text-light-text-primary dark:text-dark-text-primary"}," Admin privileges ",-1))])]),c("div",kG,[c("button",{type:"button",class:"inline-flex justify-center rounded-md border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-primary dark:bg-dark-primary px-4 py-2 text-sm font-medium text-light-text-primary dark:text-dark-text-primary hover:bg-light-neutral-100 dark:hover:bg-dark-neutral-800 focus:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:ring-offset-2",onClick:G}," Cancel "),c("button",{type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark px-4 py-2 text-sm font-medium text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-btn-primary focus-visible:ring-offset-2",onClick:ge,disabled:l.value},[l.value?(M(),U("span",IG,"⟳")):de("",!0),ue(" "+W(l.value?"Saving...":"Save Changes"),1)],8,EG)])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])]))}},AG=Gr(TG,[["__scopeId","data-v-fe9bfe02"]]),SG=[{path:"/",name:"home",component:yb},{path:"/products",name:"products",component:G7},{path:"/product/:id",name:"product-detail",component:pV},{path:"/login",name:"login",component:RV},{path:"/register",name:"register",component:nL},{path:"/account",name:"account",component:cF,meta:{requiresAuth:!0}},{path:"/cart",name:"cart",component:ZF},{path:"/checkout",name:"checkout",component:Sj,meta:{requiresAuth:!0}},{path:"/about",name:"about",component:Zj},{path:"/contact",name:"contact",component:BB},{path:"/admin",name:"admin",component:Mq,meta:{requiresAuth:!0,isAdmin:!0}},{path:"/admin/products",name:"admin-products",component:BH,meta:{requiresAuth:!0,isAdmin:!0}},{path:"/admin/products/new",name:"admin-product-new",component:Fb,meta:{requiresAuth:!0,isAdmin:!0}},{path:"/admin/products/edit/:id",name:"admin-product-edit",component:Fb,meta:{requiresAuth:!0,isAdmin:!0}},{path:"/admin/orders",name:"admin-orders",component:yK,meta:{requiresAuth:!0,isAdmin:!0}},{path:"/admin/users",name:"admin-users",component:AG,meta:{requiresAuth:!0,isAdmin:!0},beforeEnter:SM},{path:"/notification-test",name:"NotificationTest",component:()=>vb(()=>import("./NotificationTest-qYgHeMmM.js"),[]),meta:{title:"Notification Test"}},{path:"/account/notifications",name:"AccountNotifications",component:()=>vb(()=>import("./Notifications-C1-bw5Fe.js"),[]),meta:{requiresAuth:!0,title:"Notifications"}},{path:"/:pathMatch(.*)*",name:"not-found",component:yb,beforeEnter:(t,e,r)=>{var n;if(console.log(`Not-found route triggered for: ${t.fullPath}`),t.query&&Object.keys(t.query).length>0&&((n=t.query[0])!=null&&n.startsWith("/"))){console.log("Detected GitHub Pages SPA redirect, handling specially"),r(!1);return}r("/")}}],ea=$5({history:c5("/"),routes:SG,strict:!0,scrollBehavior(t,e,r){return r||{top:0}}});ea.beforeEach(async(t,e,r)=>{const n=Nn();if(window.location.search&&window.location.search.startsWith("?/")){console.log("GitHub Pages redirect in progress, skipping auth check"),r();return}if(!n.user&&!n.authChecked)try{console.log("Initializing auth..."),await n.initAuth()}catch(s){console.error("Error initializing auth:",s)}if(t.matched.some(s=>s.meta.requiresAuth)){if(!n.isAuthenticated){console.log(`Auth required for ${t.path}, redirecting to login`),r({path:"/login",query:{redirect:t.fullPath}});return}if(t.matched.some(s=>s.meta.isAdmin)&&!n.isAdmin){console.log("Admin access denied"),r("/");return}}if((t.path==="/login"||t.path==="/register")&&n.isAuthenticated){const s=t.query.redirect||"/account";console.log(`Already logged in, redirecting to ${s}`),r(s);return}r()});const CG={adminEmails:["your-admin-email@example.com"],async initializeAdminStatus(){const e=ia().currentUser;if(!e)return console.log("No user logged in"),!1;try{const r=this.adminEmails.includes(e.email);return await ze.setUserAdminStatus(e.uid,r),console.log(`Admin status set for ${e.email}:`,r),r}catch(r){return console.error("Error setting admin status:",r),!1}}},Hc=ia(),Nn=Ed("auth",{state:()=>({user:null,isInitializing:!0,loading:!0,error:null,authChecked:!1}),actions:{async initialize(){console.log("Initializing auth state"),this.isInitializing=!0;try{const t=localStorage.getItem("userData");t&&(this.user=JSON.parse(t))}catch(t){console.error("Auth initialization error:",t)}finally{this.isInitializing=!1}},async initAuth(){console.log("Initializing auth state"),this.isInitializing=!0;try{const t=localStorage.getItem("userData");if(t)try{const e=JSON.parse(t);if(console.log(`Restored auth from localStorage: ${(e==null?void 0:e.email)||"unknown"}`),e&&e.uid)return this.user=e,localStorage.getItem("userIsAdmin")&&!this.user.isAdmin&&(this.user.isAdmin=!0),this.authChecked=!0,this.loading=!1,!0}catch(e){console.error("Error parsing stored user data:",e)}return new Promise(e=>{const r=Hw(Hc,async n=>{if(r(),n){console.log("Firebase user found:",n.email);try{const s=await ze.getUserProfile(n.uid);this.user={uid:n.uid,email:n.email,displayName:n.displayName||(s==null?void 0:s.displayName),isAdmin:!!(s!=null&&s.isAdmin),...s},localStorage.setItem("userData",JSON.stringify(this.user)),this.user.isAdmin&&localStorage.setItem("userIsAdmin","true"),e(!0)}catch(s){console.error("Error getting user profile:",s),this.user=null,e(!1)}}else console.log("No Firebase user found"),this.user=null,e(!1);this.authChecked=!0,this.loading=!1,this.isInitializing=!1},n=>{console.error("Firebase auth state error:",n),this.authChecked=!0,this.loading=!1,this.isInitializing=!1,e(!1)});setTimeout(()=>{this.authChecked=!0,this.loading=!1,this.isInitializing=!1,e(!1)},3e3)})}catch(t){return console.error("Error in auth initialization:",t),localStorage.removeItem("userData"),this.user=null,this.loading=!1,this.isInitializing=!1,this.authChecked=!0,!1}},async login(t,e){try{this.loading=!0,this.error=null;const r=await qw(Hc,t,e);this.user={uid:r.user.uid,email:r.user.email,displayName:r.user.displayName,isAdmin:!1},localStorage.setItem("userData",JSON.stringify(this.user));const n=sessionStorage.getItem("redirectAfterLogin")||"/account";return sessionStorage.removeItem("redirectAfterLogin"),this.loadUserProfileInBackground(r.user.uid),n}catch(r){throw console.error("Login error:",r),this.error=r.message,r}finally{this.loading=!1}},async loadUserProfileInBackground(t){try{const e=await ze.getUserProfile(t);if(e!=null&&e.adminUpdatedAt)this.user={...this.user,...e,isAdmin:!!(e!=null&&e.isAdmin)};else{await CG.initializeAdminStatus();const r=await ze.getUserProfile(t);this.user={...this.user,...r,isAdmin:!!(r!=null&&r.isAdmin)}}localStorage.setItem("userData",JSON.stringify(this.user)),this.user.isAdmin&&localStorage.setItem("userIsAdmin","true"),console.log("User profile loaded in background")}catch(e){console.error("Error loading user profile in background:",e)}},async logout(){try{await dR(Hc),this.user=null,localStorage.removeItem("userIsAdmin"),localStorage.removeItem("userData"),ea.push("/")}catch(t){throw this.error=t.message,t}},async register(t,e,r){try{this.error=null;const n=await Bw(Hc,t,e);return r&&await ze.createUserProfile(n.user.uid,r),ea.push("/"),n}catch(n){throw this.error=n.message,n}},async setUser(t){if(t){const e=await ze.getUserProfile(t.uid);console.log("User profile loaded:",e),this.user={...t,isAdmin:!!(e!=null&&e.isAdmin),...e},console.log("Updated user state:",this.user)}else this.user=null},async restoreSession(t){if(!t)return null;try{const e=await ze.getUserProfile(t.uid);return this.user={uid:t.uid,email:t.email,displayName:t.displayName,isAdmin:!!(e!=null&&e.isAdmin),...e},this.user.isAdmin&&localStorage.setItem("userIsAdmin","true"),this.user}catch(e){return console.error("Error restoring session:",e),null}}},getters:{isAdmin:t=>{var e;return!!((e=t.user)!=null&&e.isAdmin)},isAuthenticated:t=>!!t.user,getUser:t=>t.user}}),aE="@firebase/installations",Sg="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE=1e4,cE=`w:${Sg}`,uE="FIS_v2",PG="https://firebaseinstallations.googleapis.com/v1",RG=60*60*1e3,NG="installations",$G="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OG={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ji=new Qi(NG,$G,OG);function dE(t){return t instanceof xn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE({projectId:t}){return`${PG}/projects/${t}/installations`}function fE(t){return{token:t.token,requestStatus:2,expiresIn:MG(t.expiresIn),creationTime:Date.now()}}async function pE(t,e){const n=(await e.json()).error;return ji.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function mE({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function DG(t,{refreshToken:e}){const r=mE(t);return r.append("Authorization",VG(e)),r}async function gE(t){const e=await t();return e.status>=500&&e.status<600?t():e}function MG(t){return Number(t.replace("s","000"))}function VG(t){return`${uE} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LG({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=hE(t),s=mE(t),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={fid:r,authVersion:uE,appId:t.appId,sdkVersion:cE},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await gE(()=>fetch(n,a));if(l.ok){const d=await l.json();return{fid:d.fid||r,registrationStatus:2,refreshToken:d.refreshToken,authToken:fE(d.authToken)}}else throw await pE("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FG(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UG=/^[cdef][\w-]{21}$/,kp="";function jG(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=BG(t);return UG.test(r)?r:kp}catch{return kp}}function BG(t){return FG(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=new Map;function bE(t,e){const r=lh(t);xE(r,e),qG(r,e)}function xE(t,e){const r=yE.get(t);if(r)for(const n of r)n(e)}function qG(t,e){const r=HG();r&&r.postMessage({key:t,fid:e}),zG()}let Ei=null;function HG(){return!Ei&&"BroadcastChannel"in self&&(Ei=new BroadcastChannel("[Firebase] FID Change"),Ei.onmessage=t=>{xE(t.data.key,t.data.fid)}),Ei}function zG(){yE.size===0&&Ei&&(Ei.close(),Ei=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WG="firebase-installations-database",KG=1,Bi="firebase-installations-store";let of=null;function Cg(){return of||(of=mw(WG,KG,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Bi)}}})),of}async function Xu(t,e){const r=lh(t),s=(await Cg()).transaction(Bi,"readwrite"),i=s.objectStore(Bi),o=await i.get(r);return await i.put(e,r),await s.done,(!o||o.fid!==e.fid)&&bE(t,e.fid),e}async function _E(t){const e=lh(t),n=(await Cg()).transaction(Bi,"readwrite");await n.objectStore(Bi).delete(e),await n.done}async function ch(t,e){const r=lh(t),s=(await Cg()).transaction(Bi,"readwrite"),i=s.objectStore(Bi),o=await i.get(r),a=e(o);return a===void 0?await i.delete(r):await i.put(a,r),await s.done,a&&(!o||o.fid!==a.fid)&&bE(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Pg(t){let e;const r=await ch(t.appConfig,n=>{const s=GG(n),i=QG(t,s);return e=i.registrationPromise,i.installationEntry});return r.fid===kp?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function GG(t){const e=t||{fid:jG(),registrationStatus:0};return wE(e)}function QG(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(ji.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=YG(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:JG(t)}:{installationEntry:e}}async function YG(t,e){try{const r=await LG(t,e);return Xu(t.appConfig,r)}catch(r){throw dE(r)&&r.customData.serverCode===409?await _E(t.appConfig):await Xu(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function JG(t){let e=await Ub(t.appConfig);for(;e.registrationStatus===1;)await vE(100),e=await Ub(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await Pg(t);return n||r}return e}function Ub(t){return ch(t,e=>{if(!e)throw ji.create("installation-not-found");return wE(e)})}function wE(t){return XG(t)?{fid:t.fid,registrationStatus:0}:t}function XG(t){return t.registrationStatus===1&&t.registrationTime+lE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZG({appConfig:t,heartbeatServiceProvider:e},r){const n=eQ(t,r),s=DG(t,r),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={installation:{sdkVersion:cE,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await gE(()=>fetch(n,a));if(l.ok){const d=await l.json();return fE(d)}else throw await pE("Generate Auth Token",l)}function eQ(t,{fid:e}){return`${hE(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rg(t,e=!1){let r;const n=await ch(t.appConfig,i=>{if(!kE(i))throw ji.create("not-registered");const o=i.authToken;if(!e&&nQ(o))return i;if(o.requestStatus===1)return r=tQ(t,e),i;{if(!navigator.onLine)throw ji.create("app-offline");const a=iQ(i);return r=rQ(t,a),a}});return r?await r:n.authToken}async function tQ(t,e){let r=await jb(t.appConfig);for(;r.authToken.requestStatus===1;)await vE(100),r=await jb(t.appConfig);const n=r.authToken;return n.requestStatus===0?Rg(t,e):n}function jb(t){return ch(t,e=>{if(!kE(e))throw ji.create("not-registered");const r=e.authToken;return oQ(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function rQ(t,e){try{const r=await ZG(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await Xu(t.appConfig,n),r}catch(r){if(dE(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await _E(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Xu(t.appConfig,n)}throw r}}function kE(t){return t!==void 0&&t.registrationStatus===2}function nQ(t){return t.requestStatus===2&&!sQ(t)}function sQ(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+RG}function iQ(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function oQ(t){return t.requestStatus===1&&t.requestTime+lE<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aQ(t){const e=t,{installationEntry:r,registrationPromise:n}=await Pg(e);return n?n.catch(console.error):Rg(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lQ(t,e=!1){const r=t;return await cQ(r),(await Rg(r,e)).token}async function cQ(t){const{registrationPromise:e}=await Pg(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uQ(t){if(!t||!t.options)throw af("App Configuration");if(!t.name)throw af("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw af(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function af(t){return ji.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE="installations",dQ="installations-internal",hQ=t=>{const e=t.getProvider("app").getImmediate(),r=uQ(e),n=ms(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},fQ=t=>{const e=t.getProvider("app").getImmediate(),r=ms(e,EE).getImmediate();return{getId:()=>aQ(r),getToken:s=>lQ(r,s)}};function pQ(){yn(new rn(EE,hQ,"PUBLIC")),yn(new rn(dQ,fQ,"PRIVATE"))}pQ();Ar(aE,Sg);Ar(aE,Sg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zu="analytics",mQ="firebase_id",gQ="origin",vQ=60*1e3,yQ="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ng="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=new Cd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bQ={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},tn=new Qi("analytics","Analytics",bQ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xQ(t){if(!t.startsWith(Ng)){const e=tn.create("invalid-gtag-resource",{gtagURL:t});return Wr.warn(e.message),""}return t}function IE(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function _Q(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function wQ(t,e){const r=_Q("firebase-js-sdk-policy",{createScriptURL:xQ}),n=document.createElement("script"),s=`${Ng}?l=${t}&id=${e}`;n.src=r?r==null?void 0:r.createScriptURL(s):s,n.async=!0,document.head.appendChild(n)}function kQ(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function EQ(t,e,r,n,s,i){const o=n[s];try{if(o)await e[o];else{const l=(await IE(r)).find(d=>d.measurementId===s);l&&await e[l.appId]}}catch(a){Wr.error(a)}t("config",s,i)}async function IQ(t,e,r,n,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await IE(r);for(const l of o){const d=a.find(f=>f.measurementId===l),h=d&&e[d.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",n,s||{})}catch(i){Wr.error(i)}}function TQ(t,e,r,n){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await IQ(t,e,r,a,l)}else if(i==="config"){const[a,l]=o;await EQ(t,e,r,n,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,d]=o;t("get",a,l,d)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){Wr.error(a)}}return s}function AQ(t,e,r,n,s){let i=function(...o){window[n].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=TQ(i,t,e,r),{gtagCore:i,wrappedGtag:window[s]}}function SQ(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(Ng)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CQ=30,PQ=1e3;class RQ{constructor(e={},r=PQ){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const TE=new RQ;function NQ(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function $Q(t){var e;const{appId:r,apiKey:n}=t,s={method:"GET",headers:NQ(n)},i=yQ.replace("{app-id}",r),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw tn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function OQ(t,e=TE,r){const{appId:n,apiKey:s,measurementId:i}=t.options;if(!n)throw tn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:n};throw tn.create("no-api-key")}const o=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new VQ;return setTimeout(async()=>{a.abort()},vQ),AE({appId:n,apiKey:s,measurementId:i},o,a,e)}async function AE(t,{throttleEndTimeMillis:e,backoffCount:r},n,s=TE){var i;const{appId:o,measurementId:a}=t;try{await DQ(n,e)}catch(l){if(a)return Wr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await $Q(t);return s.deleteThrottleMetadata(o),l}catch(l){const d=l;if(!MQ(d)){if(s.deleteThrottleMetadata(o),a)return Wr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:o,measurementId:a};throw l}const h=Number((i=d==null?void 0:d.customData)===null||i===void 0?void 0:i.httpStatus)===503?Yv(r,s.intervalMillis,CQ):Yv(r,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:r+1};return s.setThrottleMetadata(o,f),Wr.debug(`Calling attemptFetch again in ${h} millis`),AE(t,f,n,s)}}function DQ(t,e){return new Promise((r,n)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(r,s);t.addEventListener(()=>{clearTimeout(i),n(tn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function MQ(t){if(!(t instanceof xn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class VQ{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function LQ(t,e,r,n,s){if(s&&s.global){t("event",r,n);return}else{const i=await e,o=Object.assign(Object.assign({},n),{send_to:i});t("event",r,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FQ(){if(dw())try{await hw()}catch(t){return Wr.warn(tn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Wr.warn(tn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function UQ(t,e,r,n,s,i,o){var a;const l=OQ(t);l.then(v=>{r[v.measurementId]=v.appId,t.options.measurementId&&v.measurementId!==t.options.measurementId&&Wr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${v.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(v=>Wr.error(v)),e.push(l);const d=FQ().then(v=>{if(v)return n.getId()}),[h,f]=await Promise.all([l,d]);SQ(i)||wQ(i,h.measurementId),s("js",new Date);const p=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return p[gQ]="firebase",p.update=!0,f!=null&&(p[mQ]=f),s("config",h.measurementId,p),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jQ{constructor(e){this.app=e}_delete(){return delete ol[this.app.options.appId],Promise.resolve()}}let ol={},Bb=[];const qb={};let lf="dataLayer",BQ="gtag",Hb,SE,zb=!1;function qQ(){const t=[];if(uw()&&t.push("This is a browser extension environment."),Q5()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,s)=>`(${s+1}) ${n}`).join(" "),r=tn.create("invalid-analytics-context",{errorInfo:e});Wr.warn(r.message)}}function HQ(t,e,r){qQ();const n=t.options.appId;if(!n)throw tn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Wr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw tn.create("no-api-key");if(ol[n]!=null)throw tn.create("already-exists",{id:n});if(!zb){kQ(lf);const{wrappedGtag:i,gtagCore:o}=AQ(ol,Bb,qb,lf,BQ);SE=i,Hb=o,zb=!0}return ol[n]=UQ(t,Bb,qb,e,Hb,lf,r),new jQ(t)}function zQ(t=na()){t=xt(t);const e=ms(t,Zu);return e.isInitialized()?e.getImmediate():WQ(t)}function WQ(t,e={}){const r=ms(t,Zu);if(r.isInitialized()){const s=r.getImmediate();if(El(e,r.getOptions()))return s;throw tn.create("already-initialized")}return r.initialize({options:e})}function KQ(t,e,r,n){t=xt(t),LQ(SE,ol[t.app.options.appId],e,r,n).catch(s=>Wr.error(s))}const Wb="@firebase/analytics",Kb="0.10.8";function GQ(){yn(new rn(Zu,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return HQ(n,s,r)},"PUBLIC")),yn(new rn("analytics-internal",t,"PRIVATE")),Ar(Wb,Kb),Ar(Wb,Kb,"esm2017");function t(e){try{const r=e.getProvider(Zu).getImmediate();return{logEvent:(n,s,i)=>KQ(r,n,s,i)}}catch(r){throw tn.create("interop-component-reg-failed",{reason:r})}}}GQ();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QQ{constructor(e,r,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||e.get().then(s=>this.auth=s,()=>{}),this.messaging||r.get().then(s=>this.messaging=s,()=>{}),this.appCheck||n.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const r=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return r.error?null:r.token}return null}async getContext(e){const r=await this.getAuthToken(),n=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:r,messagingToken:n,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="us-central1";class YQ{constructor(e,r,n,s,i=Ep,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new QQ(r,n,s),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(i);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=Ep}catch{this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const r=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${r}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${r}.cloudfunctions.net/${e}`}}function JQ(t,e,r){t.emulatorOrigin=`http://${e}:${r}`}const Gb="@firebase/functions",Qb="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XQ="auth-internal",ZQ="app-check-internal",eY="messaging-internal";function tY(t,e){const r=(n,{instanceIdentifier:s})=>{const i=n.getProvider("app").getImmediate(),o=n.getProvider(XQ),a=n.getProvider(eY),l=n.getProvider(ZQ);return new YQ(i,o,a,l,s,t)};yn(new rn(CE,r,"PUBLIC").setMultipleInstances(!0)),Ar(Gb,Qb,e),Ar(Gb,Qb,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rY(t=na(),e=Ep){const n=ms(xt(t),CE).getImmediate({identifier:e}),s=wm("functions");return s&&nY(n,...s),n}function nY(t,e,r){JQ(xt(t),e,r)}tY(fetch.bind(self));const sY={apiKey:"AIzaSyBPm5bQCfdebLEJlhI_75ytU8eZ_XMhhhs",authDomain:"beadingart-ca4ba.firebaseapp.com",projectId:"beadingart-ca4ba",storageBucket:"beadingart-ca4ba.firebasestorage.app",messagingSenderId:"589402844834",appId:"1:589402844834:web:65a0e51343ab650fc071fb",measurementId:"G-HM50GF0DN0"};let qi;sP().length===0?(qi=Em(sY),console.log("Firebase initialized")):(qi=na(),console.log("Using existing Firebase app"));zQ(qi);const cf=l2(qi),uf=ia(qi);rY(qi);A2(qi);const PE=Ed("notification",()=>{const t=q([]),e=q([]);let r=0,n=null;const s=q(!1),i=q(null),o=b=>{const w=r++;return t.value.push({id:w,type:"info",timeout:5e3,...b,timestamp:new Date}),b.timeout&&setTimeout(()=>{a(w)},b.timeout),w},a=b=>{const w=t.value.findIndex(_=>_.id===b);w!==-1&&t.value.splice(w,1)},l=async(b,w=null)=>{try{const _=uf.currentUser;if(!w&&_&&(w=_.uid),!w)return console.error("No user ID provided for notification"),null;const T={...b,userId:w,type:b.type||"info",read:!1,createdAt:yr()},S=await bo(br(cf,"notifications"),T);return o(b),S.id}catch(_){return console.error("Error adding notification:",_),o({title:"Error",message:"Failed to save notification",type:"error"}),null}},d=b=>{const w=b.message.match(/https:\/\/console\.firebase\.google\.com[^"'\s]+/);return w?w[0]:null};return{notifications:t,userNotifications:e,addNotification:o,removeNotification:a,addPersistedNotification:l,loadUserNotifications:(b=20)=>{try{const w=uf.currentUser;if(!w){console.log("No authenticated user to load notifications for"),e.value=[];return}if(n&&(n(),n=null),s.value){console.log("Skipping notification query because required index is missing");return}const _=vi(br(cf,"notifications"),Fa("userId","==",w.uid),Ua("createdAt","desc"),xO(b));n=kO(_,T=>{e.value=T.docs.map(S=>{const E=S.data();return{id:S.id,...E,createdAt:E.createdAt instanceof zt?E.createdAt.toDate():E.createdAt?new Date(E.createdAt):new Date}}),s.value&&(s.value=!1,i.value=null,console.log("Index is now available, notifications loaded successfully")),console.log("Loaded notifications:",e.value)},T=>{var S;console.error("Error loading notifications:",T),T.message.includes("The query requires an index")?(s.value=!0,i.value=d(T),console.log("Missing Firestore index. Please create the index at:",i.value),(S=uf.currentUser)!=null&&S.isAdmin&&o({title:"Database Setup Required",message:"The notification system needs a database index to be created. Please check the console for instructions.",type:"warning",timeout:1e4})):o({title:"Error",message:"Failed to load notifications",type:"error"})})}catch(w){console.error("Error setting up notifications listener:",w)}},markAsRead:async b=>{try{console.log("Marking notification as read:",b);const w=$r(cf,"notifications",b);await Ba(w,{read:!0});const _=e.value.findIndex(T=>T.id===b);return _!==-1&&(e.value[_].read=!0),!0}catch(w){return console.error("Error marking notification as read:",w),o({title:"Error",message:"Failed to update notification",type:"error"}),!1}},cleanup:()=>{n&&(n(),n=null)},indexMissing:s,indexCreationUrl:i,openIndexCreationUrl:()=>i.value?(window.open(i.value,"_blank"),!0):!1}}),iY={class:"bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary transition-colors duration-200"},oY={class:"fixed inset-0 z-40 flex"},aY={class:"flex px-4 pt-5 pb-2"},lY={class:"space-y-6 px-4 py-6"},cY={class:"flow-root"},uY={class:"flow-root"},dY={class:"flow-root"},hY={class:"space-y-6 border-t border-light-neutral-300 dark:border-dark-neutral-600 px-4 py-6"},fY={class:"flow-root"},pY={key:1,class:"space-y-2"},mY={class:"-m-2 block p-2 font-medium text-light-text-primary dark:text-dark-text-primary"},gY={class:"flow-root"},vY={class:"sticky top-0 z-40 bg-light-primary dark:bg-dark-primary transition-colors duration-200"},yY={"aria-label":"Top",class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},bY={class:"flex h-16 items-center"},xY=["aria-label"],_Y={class:"ml-4 flex lg:ml-0"},wY=["src"],kY={class:"hidden lg:ml-8 lg:block lg:self-stretch"},EY={class:"flex h-full space-x-8"},IY={class:"ml-auto flex items-center"},TY={class:"hidden lg:flex lg:flex-1 lg:items-center lg:justify-end lg:space-x-6"},AY={class:"flex lg:ml-6"},SY={href:"#",class:"p-2 text-light-neutral-500 dark:text-dark-neutral-500 hover:text-accent-primary dark:hover:text-accent-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md"},CY={class:"ml-4 flow-root lg:ml-6"},PY={key:0,class:"absolute top-0 right-0 inline-flex items-center justify-center w-4 h-4 text-xs font-bold text-white bg-red-500 rounded-full"},RY={class:"ml-4 flow-root lg:ml-6"},NY={key:0,class:"absolute top-0 right-0 inline-flex items-center justify-center w-4 h-4 text-xs font-bold text-white bg-red-500 rounded-full pointer-events-none"},$Y={key:0,class:"absolute right-4 top-20 z-50 mt-2 w-80 origin-top-right rounded-md bg-light-secondary dark:bg-dark-secondary py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},OY={class:"max-h-80 overflow-y-auto"},DY={key:0,class:"px-4 py-6 text-center text-light-text-secondary dark:text-dark-neutral-700"},MY={key:1,class:"divide-y divide-light-neutral-200 dark:divide-dark-neutral-700"},VY={class:"flex items-start"},LY={class:"shrink-0 pt-0.5"},FY={class:"ml-3 w-0 flex-1"},UY={class:"text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},jY={class:"mt-1 text-sm text-light-text-secondary dark:text-dark-neutral-700"},BY={class:"mt-1 text-xs text-light-text-tertiary dark:text-dark-neutral-600"},qY={class:"ml-4 flex shrink-0"},HY=["onClick"],zY={key:0},WY={key:1},KY={class:"px-4 py-2 border-t border-light-neutral-300 dark:border-dark-neutral-600 text-center"},GY={__name:"TheHeader",setup(t){const e=si(),r=Ad(),n=Nn(),s=eo(),i=bm(),o=PE(),a=q(!1),l=q(!1),d=q(!1),h=re(()=>s.itemCount),f=re(()=>o.userNotifications.filter(m=>!m.read).length),p={success:Ju,error:X9,info:r7,warning:Z9},v={success:"text-green-500",error:"text-red-500",info:"text-blue-500",warning:"text-yellow-500"},b=()=>{a.value=!a.value,a.value&&(l.value=!1)},w=()=>{l.value=!l.value,l.value&&(a.value=!1)},_=()=>{a.value=!1},T=()=>{i.toggleTheme(),_()},S=async()=>{await n.logout(),_(),e.push("/")},E=m=>{m.read||o.markAsRead(m.id)},N=m=>{if(!m)return"";const k=new Date,$=new Date(m);return $.toDateString()===k.toDateString()?$.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):$.getFullYear()===k.getFullYear()?$.toLocaleDateString([],{month:"short",day:"numeric"}):$.toLocaleDateString()},C=m=>r.path===m||m!=="/"&&r.path.startsWith(m),F=()=>{d.value=window.scrollY>20},I=re(()=>{var m;return((m=n.user)==null?void 0:m.isAdmin)===!0}),y=m=>{l.value&&!m.target.closest('[aria-label="View notifications"]')&&!m.target.closest(".notifications-panel")&&(l.value=!1)};return Rt(()=>n.user,m=>{m&&o.loadUserNotifications()},{immediate:!0}),je(()=>{window.addEventListener("resize",()=>{window.innerWidth>=1024&&(a.value=!1)}),window.addEventListener("scroll",F),window.addEventListener("click",y)}),Wt(()=>{window.removeEventListener("scroll",F),window.removeEventListener("click",y)}),(m,k)=>(M(),U("div",iY,[H(B(dn),{as:"template",show:a.value},{default:te(()=>[H(B(rh),{class:"relative z-40 lg:hidden",onClose:k[0]||(k[0]=$=>a.value=!1)},{default:te(()=>[H(B(fs),{as:"template",enter:"transition-opacity ease-linear duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-linear duration-300","leave-from":"opacity-100","leave-to":"opacity-0"},{default:te(()=>k[2]||(k[2]=[c("div",{class:"fixed inset-0 bg-black/25"},null,-1)])),_:1}),c("div",oY,[H(B(fs),{as:"template",enter:"transition ease-in-out duration-300 transform","enter-from":"-translate-x-full","enter-to":"translate-x-0",leave:"transition ease-in-out duration-300 transform","leave-from":"translate-x-0","leave-to":"-translate-x-full"},{default:te(()=>[H(B(nh),{class:"relative flex w-full max-w-xs flex-col overflow-y-auto bg-light-secondary dark:bg-dark-secondary pb-12 shadow-xl"},{default:te(()=>[c("div",aY,[c("button",{type:"button",class:"relative -m-2 inline-flex items-center justify-center rounded-md p-2 text-light-neutral-500 dark:text-dark-neutral-500",onClick:_},[k[3]||(k[3]=c("span",{class:"absolute -inset-0.5"},null,-1)),k[4]||(k[4]=c("span",{class:"sr-only"},"Close menu",-1)),H(B(oh),{class:"size-6","aria-hidden":"true"})])]),c("div",lY,[c("div",cY,[H(B(vt),{to:"/products",class:"-m-2 block p-2 font-medium text-light-text-primary dark:text-dark-text-primary",onClick:_},{default:te(()=>k[5]||(k[5]=[ue("Shop")])),_:1})]),c("div",uY,[H(B(vt),{to:"/about",class:"-m-2 block p-2 font-medium text-light-text-primary dark:text-dark-text-primary",onClick:_},{default:te(()=>k[6]||(k[6]=[ue("About Us")])),_:1})]),c("div",dY,[H(B(vt),{to:"/contact",class:"-m-2 block p-2 font-medium text-light-text-primary dark:text-dark-text-primary",onClick:_},{default:te(()=>k[7]||(k[7]=[ue("Contact")])),_:1})])]),c("div",hY,[c("div",fY,[B(n).user?(M(),U("div",pY,[c("div",mY,W(B(n).user.displayName||B(n).user.email),1),H(B(vt),{to:"/account",class:"-m-2 block p-2 text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-light-text-primary dark:hover:text-dark-text-primary pl-4",onClick:_},{default:te(()=>k[9]||(k[9]=[ue("Account")])),_:1}),I.value?(M(),dt(B(vt),{key:0,to:"/admin",class:"-m-2 block p-2 text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-light-text-primary dark:hover:text-dark-text-primary pl-4",onClick:_},{default:te(()=>k[10]||(k[10]=[ue("Shop Manager")])),_:1})):de("",!0),I.value?(M(),dt(B(vt),{key:1,to:"/admin/users",class:"-m-2 block p-2 text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-light-text-primary dark:hover:text-dark-text-primary pl-4",onClick:_},{default:te(()=>k[11]||(k[11]=[ue("User Manager")])),_:1})):de("",!0),c("button",{onClick:S,class:"-m-2 block p-2 text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-light-text-primary dark:hover:text-dark-text-primary pl-4 w-full text-left"},"Logout")])):(M(),dt(B(vt),{key:0,to:"/login",class:"-m-2 block p-2 font-medium text-light-text-primary dark:text-dark-text-primary",onClick:_},{default:te(()=>k[8]||(k[8]=[ue("Sign in")])),_:1}))]),c("div",gY,[c("button",{onClick:T,class:"-m-2 flex items-center p-2 font-medium text-light-text-secondary dark:text-dark-neutral-700 hover:text-light-text-primary dark:hover:text-dark-text-primary"},[B(i).theme==="dark"?(M(),dt(B($b),{key:0,class:"h-5 w-5 mr-2 text-accent-primary"})):(M(),dt(B(Nb),{key:1,class:"h-5 w-5 mr-2 text-dark-primary"})),c("span",null,W(B(i).theme==="dark"?"Light Mode":"Dark Mode"),1)])])])]),_:1})]),_:1})])]),_:1})]),_:1},8,["show"]),c("header",vY,[k[26]||(k[26]=c("p",{class:"flex h-10 items-center justify-center bg-orange-600 dark:bg-orange-700 px-4 text-sm font-medium text-white sm:px-6 lg:px-8","aria-live":"polite"},"Free shipping on orders over KES 10,000",-1)),c("div",{class:$e(["border-b border-light-neutral-300 dark:border-dark-neutral-600 bg-light-primary dark:bg-dark-primary shadow-sm transition-shadow duration-300",{"shadow-md":d.value}])},[c("nav",yY,[c("div",bY,[c("button",{type:"button",class:"relative rounded-md bg-light-primary dark:bg-transparent p-2 text-light-neutral-500 dark:text-dark-neutral-500 hover:text-light-text-primary dark:hover:text-dark-text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md lg:hidden",onClick:b,"aria-expanded":"false","aria-label":a.value?"Close menu":"Open menu"},[k[12]||(k[12]=c("span",{class:"absolute -inset-0.5"},null,-1)),k[13]||(k[13]=c("span",{class:"sr-only"},"Toggle menu",-1)),H(B(H9),{class:"size-6","aria-hidden":"true"})],8,xY),c("div",_Y,[H(B(vt),{to:"/",class:"inline-block focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md"},{default:te(()=>[k[14]||(k[14]=c("span",{class:"sr-only"},"Beabed Art",-1)),c("img",{src:B(cn)("images/sticky.PNG"),alt:"Beaded Art Logo",class:"h-8 w-auto"},null,8,wY)]),_:1})]),c("div",kY,[c("div",EY,[H(B(vt),{to:"/products",class:$e(["flex items-center text-sm font-medium transition-colors duration-200 border-b-2 border-transparent hover:border-accent-primary dark:hover:border-accent-primary py-2 text-light-text-primary dark:text-dark-neutral-700 hover:text-light-text-primary dark:hover:text-dark-text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md",{"border-orange-500 dark:border-orange-500 text-light-text-primary dark:text-dark-text-primary":C("/products")}]),"active-class":"border-orange-500 dark:border-orange-500 text-light-text-primary dark:text-dark-text-primary"},{default:te(()=>k[15]||(k[15]=[ue("Shop")])),_:1},8,["class"]),H(B(vt),{to:"/about",class:$e(["flex items-center text-sm font-medium transition-colors duration-200 border-b-2 border-transparent hover:border-accent-primary dark:hover:border-accent-primary py-2 text-light-text-primary dark:text-dark-neutral-700 hover:text-light-text-primary dark:hover:text-dark-text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md",{"border-orange-500 dark:border-orange-500 text-light-text-primary dark:text-dark-text-primary":C("/about")}]),"active-class":"border-orange-500 dark:border-orange-500 text-light-text-primary dark:text-dark-text-primary"},{default:te(()=>k[16]||(k[16]=[ue("About Us")])),_:1},8,["class"]),H(B(vt),{to:"/contact",class:$e(["flex items-center text-sm font-medium transition-colors duration-200 border-b-2 border-transparent hover:border-accent-primary dark:hover:border-accent-primary py-2 text-light-text-primary dark:text-dark-neutral-700 hover:text-light-text-primary dark:hover:text-dark-text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md",{"border-orange-500 dark:border-orange-500 text-light-text-primary dark:text-dark-text-primary":C("/contact")}]),"active-class":"border-orange-500 dark:border-orange-500 text-light-text-primary dark:text-dark-text-primary"},{default:te(()=>k[17]||(k[17]=[ue("Contact")])),_:1},8,["class"]),I.value?(M(),dt(B(vt),{key:0,to:"/admin/users",class:$e(["flex items-center text-sm font-medium transition-colors duration-200 border-b-2 border-transparent hover:border-accent-primary dark:hover:border-accent-primary py-2 text-light-text-primary dark:text-dark-neutral-700 hover:text-light-text-primary dark:hover:text-dark-text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md",{"border-orange-500 dark:border-orange-500 text-light-text-primary dark:text-dark-text-primary":C("/admin/users")}]),"active-class":"border-orange-500 dark:border-orange-500 text-light-text-primary dark:text-dark-text-primary"},{default:te(()=>k[18]||(k[18]=[ue("User Manager")])),_:1},8,["class"])):de("",!0)])]),c("div",IY,[c("div",TY,[B(n).user?(M(),dt(B(Y2),{key:1,as:"div",class:"relative ml-3"},{default:te(()=>[c("div",null,[H(B(J2),{class:"flex items-center text-sm font-medium text-light-text-primary dark:text-dark-neutral-700 hover:text-light-text-primary dark:hover:text-dark-text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md transition-colors duration-200"},{default:te(()=>[k[20]||(k[20]=c("span",{class:"sr-only"},"Open user menu for ",-1)),ue(" "+W(B(n).user.displayName||B(n).user.email)+" ",1),H(B(G9),{class:"ml-1 h-5 w-5","aria-hidden":"true"})]),_:1})]),H(Fs,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:te(()=>[H(B(X2),{class:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-light-secondary dark:bg-dark-secondary py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:te(()=>[H(B(Ha),null,{default:te(({active:$})=>[H(B(vt),{to:"/account",class:$e([$?"bg-light-neutral-100 dark:bg-dark-neutral-700":"","block px-4 py-2 text-sm text-light-text-primary dark:text-dark-text-primary"])},{default:te(()=>k[21]||(k[21]=[ue("Account")])),_:2},1032,["class"])]),_:1}),I.value?(M(),dt(B(Ha),{key:0},{default:te(({active:$})=>[H(B(vt),{to:"/admin",class:$e([$?"bg-light-neutral-100 dark:bg-dark-neutral-700":"","block px-4 py-2 text-sm text-light-text-primary dark:text-dark-text-primary"])},{default:te(()=>k[22]||(k[22]=[ue("Shop Manager")])),_:2},1032,["class"])]),_:1})):de("",!0),I.value?(M(),dt(B(Ha),{key:1},{default:te(({active:$})=>[H(B(vt),{to:"/admin/users",class:$e([$?"bg-light-neutral-100 dark:bg-dark-neutral-700":"","block px-4 py-2 text-sm text-light-text-primary dark:text-dark-text-primary"])},{default:te(()=>k[23]||(k[23]=[ue("User Manager")])),_:2},1032,["class"])]),_:1})):de("",!0),H(B(Ha),null,{default:te(({active:$})=>[c("button",{onClick:S,class:$e([$?"bg-light-neutral-100 dark:bg-dark-neutral-700":"","block w-full text-left px-4 py-2 text-sm text-light-text-primary dark:text-dark-text-primary"])},"Logout",2)]),_:1})]),_:1})]),_:1})]),_:1})):(M(),dt(B(vt),{key:0,to:"/login",class:"text-sm font-medium text-light-text-primary dark:text-dark-neutral-700 hover:text-light-text-primary dark:hover:text-dark-text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md transition-colors duration-200"},{default:te(()=>k[19]||(k[19]=[ue("Sign in")])),_:1})),c("button",{onClick:T,class:"p-2 text-light-neutral-500 dark:text-dark-neutral-500 hover:text-accent-primary dark:hover:text-accent-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md transition-colors duration-200","aria-label":"Toggle theme"},[B(i).theme==="dark"?(M(),dt(B($b),{key:0,class:"h-5 w-5","aria-hidden":"true"})):(M(),dt(B(Nb),{key:1,class:"h-5 w-5","aria-hidden":"true"}))])]),c("div",AY,[c("a",SY,[k[24]||(k[24]=c("span",{class:"sr-only"},"Search",-1)),H(B(n7),{class:"size-6","aria-hidden":"true"})])]),c("div",CY,[c("button",{onClick:w,class:"group -m-2 flex items-center p-2 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md relative","aria-label":"View notifications"},[H(B(z9),{class:"size-6 shrink-0 text-light-neutral-500 dark:text-dark-neutral-500 group-hover:text-accent-primary dark:group-hover:text-accent-primary","aria-hidden":"true"}),f.value>0?(M(),U("span",PY,W(f.value),1)):de("",!0)])]),c("div",RY,[H(B(vt),{to:"/cart",class:"group -m-2 flex items-center p-2 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md relative"},{default:te(()=>[H(B(lu),{class:"size-6 shrink-0 text-light-neutral-500 dark:text-dark-neutral-500 group-hover:text-accent-primary dark:group-hover:text-accent-primary","aria-hidden":"true"}),h.value>0?(M(),U("span",NY,W(h.value),1)):de("",!0),k[25]||(k[25]=c("span",{class:"sr-only"},"items in cart, view bag",-1))]),_:1})])])])])],2)]),H(Fs,{"enter-active-class":"transition ease-out duration-300","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-200","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:te(()=>[l.value?(M(),U("div",$Y,[k[28]||(k[28]=c("div",{class:"px-4 py-2 border-b border-light-neutral-300 dark:border-dark-neutral-600"},[c("h3",{class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary"},"Notifications")],-1)),c("div",OY,[B(o).userNotifications.length===0?(M(),U("div",DY," You have no notifications. ")):(M(),U("div",MY,[(M(!0),U(xe,null,qe(B(o).userNotifications,$=>(M(),U("div",{key:$.id,class:$e(["px-4 py-3",$.read?"bg-light-primary dark:bg-dark-primary":"bg-light-neutral-50 dark:bg-dark-neutral-800"])},[c("div",VY,[c("div",LY,[(M(),dt(md(p[$.type]||p.info),{class:$e(["h-5 w-5",v[$.type]||v.info]),"aria-hidden":"true"},null,8,["class"]))]),c("div",FY,[c("p",UY,W($.title),1),c("p",jY,W($.message),1),c("p",BY,W(N($.createdAt)),1)]),c("div",qY,[c("button",{onClick:P=>E($),type:"button",class:"text-light-text-secondary dark:text-dark-neutral-700 hover:text-light-text-primary dark:hover:text-dark-text-primary"},[$.read?(M(),U("span",WY,"Mark as unread")):(M(),U("span",zY,"Mark as read"))],8,HY)])])],2))),128))]))]),c("div",KY,[H(B(vt),{to:"/account/notifications",class:"text-sm text-orange-600 hover:text-orange-700",onClick:k[1]||(k[1]=$=>l.value=!1)},{default:te(()=>k[27]||(k[27]=[ue(" View all notifications ")])),_:1})])])):de("",!0)]),_:1})]))}},QY={class:"bg-light-secondary dark:bg-dark-secondary py-10 mt-auto border-t border-light-neutral-200 dark:border-dark-neutral-600 transition-colors duration-200"},YY={class:"container mx-auto px-4"},JY={class:"grid grid-cols-1 md:grid-cols-4 gap-8"},XY={class:"flex items-center mb-4"},ZY=["src"],eJ={class:"space-y-2"},tJ={class:"space-y-2"},rJ={class:"mt-10 pt-8 border-t border-light-neutral-200 dark:border-dark-neutral-600 text-center"},nJ={class:"text-sm text-light-neutral-600 dark:text-dark-neutral-600"},sJ={__name:"TheFooter",setup(t){return(e,r)=>(M(),U("footer",QY,[c("div",YY,[c("div",JY,[c("div",null,[c("div",XY,[c("img",{src:B(cn)("images/sticky.PNG"),alt:"Kreative Kanvas Logo",class:"h-16 w-auto mr-2"},null,8,ZY)]),r[0]||(r[0]=c("p",{class:"text-sm text-light-text-secondary dark:text-dark-neutral-700 leading-relaxed"}," Exquisite handcrafted jewelry for every occasion. Quality materials, timeless designs that capture your unique style. ",-1))]),c("div",null,[r[6]||(r[6]=c("h3",{class:"font-bold text-lg mb-4 text-light-text-primary dark:text-dark-text-primary border-b-2 border-orange-500 dark:border-orange-500 inline-block pb-1"},"Shop",-1)),c("ul",eJ,[c("li",null,[H(B(vt),{to:"/products",class:"text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},{default:te(()=>r[1]||(r[1]=[ue("All Products")])),_:1})]),c("li",null,[H(B(vt),{to:"/products?category=rings",class:"text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},{default:te(()=>r[2]||(r[2]=[ue("Rings")])),_:1})]),c("li",null,[H(B(vt),{to:"/products?category=necklaces",class:"text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},{default:te(()=>r[3]||(r[3]=[ue("Necklaces")])),_:1})]),c("li",null,[H(B(vt),{to:"/products?category=bracelets",class:"text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},{default:te(()=>r[4]||(r[4]=[ue("Bracelets")])),_:1})]),c("li",null,[H(B(vt),{to:"/products?category=earrings",class:"text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},{default:te(()=>r[5]||(r[5]=[ue("Earrings")])),_:1})])])]),c("div",null,[r[11]||(r[11]=c("h3",{class:"font-bold text-lg mb-4 text-light-text-primary dark:text-dark-text-primary border-b-2 border-orange-500 dark:border-orange-500 inline-block pb-1"},"Customer Service",-1)),c("ul",tJ,[c("li",null,[H(B(vt),{to:"/contact",class:"text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},{default:te(()=>r[7]||(r[7]=[ue("Contact Us")])),_:1})]),r[8]||(r[8]=c("li",null,[c("a",{href:"#",class:"text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},"Shipping Policy")],-1)),r[9]||(r[9]=c("li",null,[c("a",{href:"#",class:"text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},"Returns & Exchanges")],-1)),r[10]||(r[10]=c("li",null,[c("a",{href:"#",class:"text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},"FAQs")],-1))])]),r[12]||(r[12]=Tt('<div><h3 class="font-bold text-lg mb-4 text-light-text-primary dark:text-dark-text-primary border-b-2 border-orange-500 dark:border-orange-500 inline-block pb-1">Connect With Us</h3><div class="flex space-x-4 mb-4"><a href="#" class="text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"><span class="sr-only">Facebook</span><svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z" clip-rule="evenodd"></path></svg></a><a href="#" class="text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"><span class="sr-only">Instagram</span><svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465.66.254 1.216.598 1.772 1.153a4.974 4.974 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.974 4.974 0 01-1.153 1.772 4.974 4.974 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.974 4.974 0 01-1.772-1.153 4.974 4.974 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.974 4.974 0 011.153-1.772A4.974 4.974 0 015.45 3.525c.636-.247 1.363-.416 2.427-.465C8.901 3.013 9.256 3 11.685 3h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z" clip-rule="evenodd"></path></svg></a><a href="#" class="text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"><span class="sr-only">Twitter</span><svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"></path></svg></a></div><div class="text-sm text-light-text-secondary dark:text-dark-neutral-700 space-y-1"><p>Kitengela</p><p>Nairobi Kenya, Kitengela</p><p class="mt-2">hello@kreativekanvas.shop</p><p>+2547 4141 4261</p></div></div>',1))]),c("div",rJ,[c("p",nJ,"© "+W(new Date().getFullYear())+" Sticky Kreation . All rights reserved.",1),r[13]||(r[13]=c("div",{class:"mt-2 flex justify-center space-x-6 text-xs"},[c("a",{href:"#",class:"text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},"Privacy Policy"),c("a",{href:"#",class:"text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},"Terms of Service"),c("a",{href:"#",class:"text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},"Accessibility")],-1))])])]))}};function iJ(t,e){return M(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z","clip-rule":"evenodd"})])}function oJ(t,e){return M(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z","clip-rule":"evenodd"})])}function aJ(t,e){return M(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"fill-rule":"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z","clip-rule":"evenodd"})])}function lJ(t,e){return M(),U("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 0 1 .67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 1 1-.671-1.34l.041-.022ZM12 9a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z","clip-rule":"evenodd"})])}const cJ={class:"shrink-0"},uJ={class:"flex-1"},dJ={key:0,class:"font-medium"},hJ={class:"text-sm"},fJ={__name:"NotificationItem",props:{notification:{type:Object,required:!0},index:{type:Number,required:!0}},emits:["close"],setup(t,{emit:e}){const r=t,n=e,s=q(!1),i={success:iJ,error:oJ,info:lJ,warning:aJ},o={success:"bg-green-50 text-green-800",error:"bg-red-50 text-red-800",info:"bg-blue-50 text-blue-800",warning:"bg-yellow-50 text-yellow-800"},a=()=>{s.value=!0,setTimeout(()=>{n("close",r.notification.id)},300)};return je(()=>{r.notification.timeout&&setTimeout(()=>{a()},r.notification.timeout)}),(l,d)=>(M(),U("div",{class:$e(["fixed w-72 p-4 rounded-lg shadow-lg transform transition-all duration-300","right-4 flex items-center gap-3",o[t.notification.type]||o.info,{"opacity-0 translate-x-full":s.value}]),style:St({top:`${4+t.index*5}rem`})},[c("div",cJ,[(M(),dt(md(i[t.notification.type]||i.info),{class:"h-5 w-5"}))]),c("div",uJ,[t.notification.title?(M(),U("p",dJ,W(t.notification.title),1)):de("",!0),c("p",hJ,W(t.notification.message),1)]),c("button",{onClick:a,class:"text-sm font-medium hover:opacity-75"}," ✕ ")],6))}},pJ={class:"fixed top-0 right-0 z-50 pointer-events-none"},mJ={class:"pointer-events-auto"},gJ={__name:"NotificationContainer",setup(t){const e=PE(),{notifications:r}=NC(e),{removeNotification:n}=e;return(s,i)=>(M(),U("div",pJ,[c("div",mJ,[(M(!0),U(xe,null,qe(B(r),(o,a)=>(M(),dt(fJ,{key:o.id,notification:o,index:a,onClose:B(n)},null,8,["notification","index","onClose"]))),128))])]))}},vJ={class:"min-h-screen flex flex-col bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary transition-colors duration-200"},yJ={class:"flex-grow"},bJ={__name:"App",setup(t){const e=bm(),r=ia(),n=Nn();return je(async()=>{e.theme==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");try{await ze.seedDefaultAdmin()}catch(s){console.error("Failed to seed default admin:",s)}Hw(r,async s=>{s?await n.restoreSession(s):n.logout()}),document.addEventListener("click",s=>{const i=s.target.closest("a");i&&i.href&&(i.href.includes(window.location.origin+"/")||i.getAttribute("href")==="/")&&(window.__navIsUserAction=!0,console.log("User clicked a link:",i.href),setTimeout(()=>{window.__navIsUserAction=!1},500))}),document.addEventListener("click",s=>{s.target.closest('a[href="/"]')&&(console.log("User clicked home link, marking as user action"),window.__navIsUserAction=!0)})}),(s,i)=>{const o=Lr("RouterView");return M(),U("div",vJ,[H(GY),c("main",yJ,[H(o)]),H(sJ),H(gJ)])}}};function xJ(){return"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiB2aWV3Qm94PSIwIDAgMjAwIDIwMCI+CiAgPHJlY3QgZmlsbD0iI2YwZjBmMCIgd2lkdGg9IjIwMCIgaGVpZ2h0PSIyMDAiLz4KICA8dGV4dCBmaWxsPSIjODg4ODg4IiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMjAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjEwMCIgeT0iMTA1Ij5JbWFnZSBOb3QgRm91bmQ8L3RleHQ+CiAgPGcgc3Ryb2tlPSIjODg4ODg4IiBzdHJva2Utd2lkdGg9IjIiPgogICAgPHJlY3QgeD0iNjAiIHk9IjUwIiB3aWR0aD0iODAiIGhlaWdodD0iNjAiIGZpbGw9Im5vbmUiLz4KICAgIDxsaW5lIHgxPSI2MCIgeTE9IjUwIiB4Mj0iMTQwIiB5Mj0iMTEwIi8+CiAgICA8bGluZSB4MT0iMTQwIiB5MT0iNTAiIHgyPSI2MCIgeTI9IjExMCIvPgogIDwvZz4KPC9zdmc+"}const _J={mounted(t){t.onerror=()=>{t.src=xJ(),t.onerror=null}}},uh=Eu(bJ),wJ=TC();uh.use(wJ);uh.use(ea);uh.directive("img-fallback",_J);const kJ=()=>{const t=sessionStorage.getItem("spaNavTimestamp"),e=sessionStorage.getItem("spaPath"),r=sessionStorage.getItem("spaSearch")||"",n=sessionStorage.getItem("spaHash")||"";if(!(!e||!t)&&(console.log(`SPA Navigation: Found saved path ${e}${r}${n}`),sessionStorage.removeItem("spaNavTimestamp"),sessionStorage.removeItem("spaPath"),sessionStorage.removeItem("spaSearch"),sessionStorage.removeItem("spaHash"),Date.now()-parseInt(t)<6e4)){const s=e+r+n;window.location.pathname!==e&&(console.log(`SPA Navigation: Redirecting to ${s}`),ea.replace(s).catch(i=>{console.error("SPA Navigation error:",i)}))}},EJ=async()=>{const t=Nn();console.log("Starting app initialization");try{const e=await t.initAuth();console.log(`Auth initialization complete: ${e?"User loaded":"No user"}`)}catch(e){console.error("Auth initialization error:",e)}await ea.isReady(),console.log("Router is ready"),uh.mount("#app"),console.log("App mounted"),setTimeout(()=>{kJ()},50)};EJ().catch(t=>{console.error("App initialization error:",t)});export{Ju as A,xe as F,vt as R,PE as a,c as b,U as c,de as d,B as e,H as f,Z9 as g,ke as h,rs as i,qe as j,M as k,re as l,te as m,$e as n,je as o,z9 as p,ue as q,q as r,dt as s,W as t,Nn as u,Pe as v,Rt as w,md as x,r7 as y,X9 as z};
//# sourceMappingURL=index-DzR321y4.js.map
