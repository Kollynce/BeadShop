(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function nn(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const Ke={},To=[],sr=()=>{},$a=()=>!1,Wi=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Tp=t=>t.startsWith("onUpdate:"),Qe=Object.assign,Ap=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},tI=Object.prototype.hasOwnProperty,lt=(t,e)=>tI.call(t,e),xe=Array.isArray,Ao=t=>ra(t)==="[object Map]",Ki=t=>ra(t)==="[object Set]",I0=t=>ra(t)==="[object Date]",rI=t=>ra(t)==="[object RegExp]",De=t=>typeof t=="function",Ue=t=>typeof t=="string",Kr=t=>typeof t=="symbol",ht=t=>t!==null&&typeof t=="object",Sp=t=>(ht(t)||De(t))&&De(t.then)&&De(t.catch),Xb=Object.prototype.toString,ra=t=>Xb.call(t),nI=t=>ra(t).slice(8,-1),td=t=>ra(t)==="[object Object]",Cp=t=>Ue(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,qs=nn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),sI=nn("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),rd=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},iI=/-(\w)/g,kt=rd(t=>t.replace(iI,(e,r)=>r?r.toUpperCase():"")),oI=/\B([A-Z])/g,Br=rd(t=>t.replace(oI,"-$1").toLowerCase()),Gi=rd(t=>t.charAt(0).toUpperCase()+t.slice(1)),So=rd(t=>t?`on${Gi(t)}`:""),Dr=(t,e)=>!Object.is(t,e),Co=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},Zb=(t,e,r,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:r})},uu=t=>{const e=parseFloat(t);return isNaN(e)?t:e},du=t=>{const e=Ue(t)?Number(t):NaN;return isNaN(e)?t:e};let T0;const nd=()=>T0||(T0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function aI(t,e){return t+JSON.stringify(e,(r,n)=>typeof n=="function"?n.toString():n)}const lI="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",cI=nn(lI);function St(t){if(xe(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],s=Ue(n)?e1(n):St(n);if(s)for(const i in s)e[i]=s[i]}return e}else if(Ue(t)||ht(t))return t}const uI=/;(?![^(]*\))/g,dI=/:([^]+)/,hI=/\/\*[^]*?\*\//g;function e1(t){const e={};return t.replace(hI,"").split(uI).forEach(r=>{if(r){const n=r.split(dI);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function $e(t){let e="";if(Ue(t))e=t;else if(xe(t))for(let r=0;r<t.length;r++){const n=$e(t[r]);n&&(e+=n+" ")}else if(ht(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}function fI(t){if(!t)return null;let{class:e,style:r}=t;return e&&!Ue(e)&&(t.class=$e(e)),r&&(t.style=St(r)),t}const pI="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",mI="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",gI="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",yI="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",vI=nn(pI),bI=nn(mI),xI=nn(gI),_I=nn(yI),wI="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",kI=nn(wI);function t1(t){return!!t||t===""}function EI(t,e){if(t.length!==e.length)return!1;let r=!0;for(let n=0;r&&n<t.length;n++)r=Js(t[n],e[n]);return r}function Js(t,e){if(t===e)return!0;let r=I0(t),n=I0(e);if(r||n)return r&&n?t.getTime()===e.getTime():!1;if(r=Kr(t),n=Kr(e),r||n)return t===e;if(r=xe(t),n=xe(e),r||n)return r&&n?EI(t,e):!1;if(r=ht(t),n=ht(e),r||n){if(!r||!n)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),l=e.hasOwnProperty(o);if(a&&!l||!a&&l||!Js(t[o],e[o]))return!1}}return String(t)===String(e)}function sd(t,e){return t.findIndex(r=>Js(r,e))}const r1=t=>!!(t&&t.__v_isRef===!0),K=t=>Ue(t)?t:t==null?"":xe(t)||ht(t)&&(t.toString===Xb||!De(t.toString))?r1(t)?K(t.value):JSON.stringify(t,n1,2):String(t),n1=(t,e)=>r1(e)?n1(t,e.value):Ao(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,s],i)=>(r[Th(n,i)+" =>"]=s,r),{})}:Ki(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>Th(r))}:Kr(e)?Th(e):ht(e)&&!xe(e)&&!td(e)?String(e):e,Th=(t,e="")=>{var r;return Kr(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Or;class Pp{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Or,!e&&Or&&(this.index=(Or.scopes||(Or.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=Or;try{return Or=this,e()}finally{Or=r}}}on(){Or=this}off(){Or=this.parent}stop(e){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Rp(t){return new Pp(t)}function Np(){return Or}function s1(t,e=!1){Or&&Or.cleanups.push(t)}let vt;const Ah=new WeakSet;class cl{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Or&&Or.active&&Or.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Ah.has(this)&&(Ah.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||o1(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,A0(this),a1(this);const e=vt,r=Tn;vt=this,Tn=!0;try{return this.fn()}finally{l1(this),vt=e,Tn=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Dp(e);this.deps=this.depsTail=void 0,A0(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Ah.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){hf(this)&&this.run()}get dirty(){return hf(this)}}let i1=0,Ka,Ga;function o1(t,e=!1){if(t.flags|=8,e){t.next=Ga,Ga=t;return}t.next=Ka,Ka=t}function $p(){i1++}function Op(){if(--i1>0)return;if(Ga){let e=Ga;for(Ga=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;Ka;){let e=Ka;for(Ka=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=r}}if(t)throw t}function a1(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function l1(t){let e,r=t.depsTail,n=r;for(;n;){const s=n.prevDep;n.version===-1?(n===r&&(r=s),Dp(n),II(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=s}t.deps=e,t.depsTail=r}function hf(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(c1(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function c1(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===ul))return;t.globalVersion=ul;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!hf(t)){t.flags&=-3;return}const r=vt,n=Tn;vt=t,Tn=!0;try{a1(t);const s=t.fn(t._value);(e.version===0||Dr(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{vt=r,Tn=n,l1(t),t.flags&=-3}}function Dp(t,e=!1){const{dep:r,prevSub:n,nextSub:s}=t;if(n&&(n.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=n,t.nextSub=void 0),r.subs===t&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let i=r.computed.deps;i;i=i.nextDep)Dp(i,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function II(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}function TI(t,e){t.effect instanceof cl&&(t=t.effect.fn);const r=new cl(t);e&&Qe(r,e);try{r.run()}catch(s){throw r.stop(),s}const n=r.run.bind(r);return n.effect=r,n}function AI(t){t.effect.stop()}let Tn=!0;const u1=[];function ni(){u1.push(Tn),Tn=!1}function si(){const t=u1.pop();Tn=t===void 0?!0:t}function A0(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=vt;vt=void 0;try{e()}finally{vt=r}}}let ul=0;class SI{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class id{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!vt||!Tn||vt===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==vt)r=this.activeLink=new SI(vt,this),vt.deps?(r.prevDep=vt.depsTail,vt.depsTail.nextDep=r,vt.depsTail=r):vt.deps=vt.depsTail=r,d1(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=vt.depsTail,r.nextDep=void 0,vt.depsTail.nextDep=r,vt.depsTail=r,vt.deps===r&&(vt.deps=n)}return r}trigger(e){this.version++,ul++,this.notify(e)}notify(e){$p();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{Op()}}}function d1(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)d1(n)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const hu=new WeakMap,Ti=Symbol(""),ff=Symbol(""),dl=Symbol("");function wr(t,e,r){if(Tn&&vt){let n=hu.get(t);n||hu.set(t,n=new Map);let s=n.get(r);s||(n.set(r,s=new id),s.map=n,s.key=r),s.track()}}function Jn(t,e,r,n,s,i){const o=hu.get(t);if(!o){ul++;return}const a=l=>{l&&l.trigger()};if($p(),e==="clear")o.forEach(a);else{const l=xe(t),d=l&&Cp(r);if(l&&r==="length"){const h=Number(n);o.forEach((f,p)=>{(p==="length"||p===dl||!Kr(p)&&p>=h)&&a(f)})}else switch((r!==void 0||o.has(void 0))&&a(o.get(r)),d&&a(o.get(dl)),e){case"add":l?d&&a(o.get("length")):(a(o.get(Ti)),Ao(t)&&a(o.get(ff)));break;case"delete":l||(a(o.get(Ti)),Ao(t)&&a(o.get(ff)));break;case"set":Ao(t)&&a(o.get(Ti));break}}Op()}function CI(t,e){const r=hu.get(t);return r&&r.get(e)}function co(t){const e=We(t);return e===t?e:(wr(e,"iterate",dl),en(t)?e:e.map(kr))}function od(t){return wr(t=We(t),"iterate",dl),t}const PI={__proto__:null,[Symbol.iterator](){return Sh(this,Symbol.iterator,kr)},concat(...t){return co(this).concat(...t.map(e=>xe(e)?co(e):e))},entries(){return Sh(this,"entries",t=>(t[1]=kr(t[1]),t))},every(t,e){return Wn(this,"every",t,e,void 0,arguments)},filter(t,e){return Wn(this,"filter",t,e,r=>r.map(kr),arguments)},find(t,e){return Wn(this,"find",t,e,kr,arguments)},findIndex(t,e){return Wn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Wn(this,"findLast",t,e,kr,arguments)},findLastIndex(t,e){return Wn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Wn(this,"forEach",t,e,void 0,arguments)},includes(...t){return Ch(this,"includes",t)},indexOf(...t){return Ch(this,"indexOf",t)},join(t){return co(this).join(t)},lastIndexOf(...t){return Ch(this,"lastIndexOf",t)},map(t,e){return Wn(this,"map",t,e,void 0,arguments)},pop(){return ka(this,"pop")},push(...t){return ka(this,"push",t)},reduce(t,...e){return S0(this,"reduce",t,e)},reduceRight(t,...e){return S0(this,"reduceRight",t,e)},shift(){return ka(this,"shift")},some(t,e){return Wn(this,"some",t,e,void 0,arguments)},splice(...t){return ka(this,"splice",t)},toReversed(){return co(this).toReversed()},toSorted(t){return co(this).toSorted(t)},toSpliced(...t){return co(this).toSpliced(...t)},unshift(...t){return ka(this,"unshift",t)},values(){return Sh(this,"values",kr)}};function Sh(t,e,r){const n=od(t),s=n[e]();return n!==t&&!en(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=r(i.value)),i}),s}const RI=Array.prototype;function Wn(t,e,r,n,s,i){const o=od(t),a=o!==t&&!en(t),l=o[e];if(l!==RI[e]){const f=l.apply(t,i);return a?kr(f):f}let d=r;o!==t&&(a?d=function(f,p){return r.call(this,kr(f),p,t)}:r.length>2&&(d=function(f,p){return r.call(this,f,p,t)}));const h=l.call(o,d,n);return a&&s?s(h):h}function S0(t,e,r,n){const s=od(t);let i=r;return s!==t&&(en(t)?r.length>3&&(i=function(o,a,l){return r.call(this,o,a,l,t)}):i=function(o,a,l){return r.call(this,o,kr(a),l,t)}),s[e](i,...n)}function Ch(t,e,r){const n=We(t);wr(n,"iterate",dl);const s=n[e](...r);return(s===-1||s===!1)&&cd(r[0])?(r[0]=We(r[0]),n[e](...r)):s}function ka(t,e,r=[]){ni(),$p();const n=We(t)[e].apply(t,r);return Op(),si(),n}const NI=nn("__proto__,__v_isRef,__isVue"),h1=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Kr));function $I(t){Kr(t)||(t=String(t));const e=We(this);return wr(e,"has",t),e.hasOwnProperty(t)}class f1{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,n){if(r==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(r==="__v_isReactive")return!s;if(r==="__v_isReadonly")return s;if(r==="__v_isShallow")return i;if(r==="__v_raw")return n===(s?i?b1:v1:i?y1:g1).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=xe(e);if(!s){let l;if(o&&(l=PI[r]))return l;if(r==="hasOwnProperty")return $I}const a=Reflect.get(e,r,Ct(e)?e:n);return(Kr(r)?h1.has(r):NI(r))||(s||wr(e,"get",r),i)?a:Ct(a)?o&&Cp(r)?a:a.value:ht(a)?s?Vp(a):gn(a):a}}class p1 extends f1{constructor(e=!1){super(!1,e)}set(e,r,n,s){let i=e[r];if(!this._isShallow){const l=Xs(i);if(!en(n)&&!Xs(n)&&(i=We(i),n=We(n)),!xe(e)&&Ct(i)&&!Ct(n))return l?!1:(i.value=n,!0)}const o=xe(e)&&Cp(r)?Number(r)<e.length:lt(e,r),a=Reflect.set(e,r,n,Ct(e)?e:s);return e===We(s)&&(o?Dr(n,i)&&Jn(e,"set",r,n):Jn(e,"add",r,n)),a}deleteProperty(e,r){const n=lt(e,r);e[r];const s=Reflect.deleteProperty(e,r);return s&&n&&Jn(e,"delete",r,void 0),s}has(e,r){const n=Reflect.has(e,r);return(!Kr(r)||!h1.has(r))&&wr(e,"has",r),n}ownKeys(e){return wr(e,"iterate",xe(e)?"length":Ti),Reflect.ownKeys(e)}}class m1 extends f1{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const OI=new p1,DI=new m1,MI=new p1(!0),VI=new m1(!0),pf=t=>t,wc=t=>Reflect.getPrototypeOf(t);function LI(t,e,r){return function(...n){const s=this.__v_raw,i=We(s),o=Ao(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,d=s[t](...n),h=r?pf:e?mf:kr;return!e&&wr(i,"iterate",l?ff:Ti),{next(){const{value:f,done:p}=d.next();return p?{value:f,done:p}:{value:a?[h(f[0]),h(f[1])]:h(f),done:p}},[Symbol.iterator](){return this}}}}function kc(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function FI(t,e){const r={get(s){const i=this.__v_raw,o=We(i),a=We(s);t||(Dr(s,a)&&wr(o,"get",s),wr(o,"get",a));const{has:l}=wc(o),d=e?pf:t?mf:kr;if(l.call(o,s))return d(i.get(s));if(l.call(o,a))return d(i.get(a));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&wr(We(s),"iterate",Ti),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,o=We(i),a=We(s);return t||(Dr(s,a)&&wr(o,"has",s),wr(o,"has",a)),s===a?i.has(s):i.has(s)||i.has(a)},forEach(s,i){const o=this,a=o.__v_raw,l=We(a),d=e?pf:t?mf:kr;return!t&&wr(l,"iterate",Ti),a.forEach((h,f)=>s.call(i,d(h),d(f),o))}};return Qe(r,t?{add:kc("add"),set:kc("set"),delete:kc("delete"),clear:kc("clear")}:{add(s){!e&&!en(s)&&!Xs(s)&&(s=We(s));const i=We(this);return wc(i).has.call(i,s)||(i.add(s),Jn(i,"add",s,s)),this},set(s,i){!e&&!en(i)&&!Xs(i)&&(i=We(i));const o=We(this),{has:a,get:l}=wc(o);let d=a.call(o,s);d||(s=We(s),d=a.call(o,s));const h=l.call(o,s);return o.set(s,i),d?Dr(i,h)&&Jn(o,"set",s,i):Jn(o,"add",s,i),this},delete(s){const i=We(this),{has:o,get:a}=wc(i);let l=o.call(i,s);l||(s=We(s),l=o.call(i,s)),a&&a.call(i,s);const d=i.delete(s);return l&&Jn(i,"delete",s,void 0),d},clear(){const s=We(this),i=s.size!==0,o=s.clear();return i&&Jn(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{r[s]=LI(s,t,e)}),r}function ad(t,e){const r=FI(t,e);return(n,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?n:Reflect.get(lt(r,s)&&s in n?r:n,s,i)}const UI={get:ad(!1,!1)},jI={get:ad(!1,!0)},BI={get:ad(!0,!1)},qI={get:ad(!0,!0)},g1=new WeakMap,y1=new WeakMap,v1=new WeakMap,b1=new WeakMap;function HI(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function zI(t){return t.__v_skip||!Object.isExtensible(t)?0:HI(nI(t))}function gn(t){return Xs(t)?t:ld(t,!1,OI,UI,g1)}function Mp(t){return ld(t,!1,MI,jI,y1)}function Vp(t){return ld(t,!0,DI,BI,v1)}function WI(t){return ld(t,!0,VI,qI,b1)}function ld(t,e,r,n,s){if(!ht(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=zI(t);if(o===0)return t;const a=new Proxy(t,o===2?n:r);return s.set(t,a),a}function An(t){return Xs(t)?An(t.__v_raw):!!(t&&t.__v_isReactive)}function Xs(t){return!!(t&&t.__v_isReadonly)}function en(t){return!!(t&&t.__v_isShallow)}function cd(t){return t?!!t.__v_raw:!1}function We(t){const e=t&&t.__v_raw;return e?We(e):t}function ud(t){return!lt(t,"__v_skip")&&Object.isExtensible(t)&&Zb(t,"__v_skip",!0),t}const kr=t=>ht(t)?gn(t):t,mf=t=>ht(t)?Vp(t):t;function Ct(t){return t?t.__v_isRef===!0:!1}function H(t){return x1(t,!1)}function dd(t){return x1(t,!0)}function x1(t,e){return Ct(t)?t:new KI(t,e)}class KI{constructor(e,r){this.dep=new id,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:We(e),this._value=r?e:kr(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,n=this.__v_isShallow||en(e)||Xs(e);e=n?e:We(e),Dr(e,r)&&(this._rawValue=e,this._value=n?e:kr(e),this.dep.trigger())}}function GI(t){t.dep&&t.dep.trigger()}function q(t){return Ct(t)?t.value:t}function QI(t){return De(t)?t():q(t)}const YI={get:(t,e,r)=>e==="__v_raw"?t:q(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const s=t[e];return Ct(s)&&!Ct(r)?(s.value=r,!0):Reflect.set(t,e,r,n)}};function Lp(t){return An(t)?t:new Proxy(t,YI)}class JI{constructor(e){this.__v_isRef=!0,this._value=void 0;const r=this.dep=new id,{get:n,set:s}=e(r.track.bind(r),r.trigger.bind(r));this._get=n,this._set=s}get value(){return this._value=this._get()}set value(e){this._set(e)}}function _1(t){return new JI(t)}function w1(t){const e=xe(t)?new Array(t.length):{};for(const r in t)e[r]=E1(t,r);return e}class XI{constructor(e,r,n){this._object=e,this._key=r,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return CI(We(this._object),this._key)}}class ZI{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function k1(t,e,r){return Ct(t)?t:De(t)?new ZI(t):ht(t)&&arguments.length>1?E1(t,e,r):H(t)}function E1(t,e,r){const n=t[e];return Ct(n)?n:new XI(t,e,r)}class eT{constructor(e,r,n){this.fn=e,this.setter=r,this._value=void 0,this.dep=new id(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ul-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&vt!==this)return o1(this,!0),!0}get value(){const e=this.dep.track();return c1(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function tT(t,e,r=!1){let n,s;return De(t)?n=t:(n=t.get,s=t.set),new eT(n,s,r)}const rT={GET:"get",HAS:"has",ITERATE:"iterate"},nT={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},Ec={},fu=new WeakMap;let Ps;function sT(){return Ps}function I1(t,e=!1,r=Ps){if(r){let n=fu.get(r);n||fu.set(r,n=[]),n.push(t)}}function iT(t,e,r=Ke){const{immediate:n,deep:s,once:i,scheduler:o,augmentJob:a,call:l}=r,d=R=>s?R:en(R)||s===!1||s===0?Xn(R,1):Xn(R);let h,f,p,y,b=!1,k=!1;if(Ct(t)?(f=()=>t.value,b=en(t)):An(t)?(f=()=>d(t),b=!0):xe(t)?(k=!0,b=t.some(R=>An(R)||en(R)),f=()=>t.map(R=>{if(Ct(R))return R.value;if(An(R))return d(R);if(De(R))return l?l(R,2):R()})):De(t)?e?f=l?()=>l(t,2):t:f=()=>{if(p){ni();try{p()}finally{si()}}const R=Ps;Ps=h;try{return l?l(t,3,[y]):t(y)}finally{Ps=R}}:f=sr,e&&s){const R=f,A=s===!0?1/0:s;f=()=>Xn(R(),A)}const _=Np(),T=()=>{h.stop(),_&&_.active&&Ap(_.effects,h)};if(i&&e){const R=e;e=(...A)=>{R(...A),T()}}let P=k?new Array(t.length).fill(Ec):Ec;const E=R=>{if(!(!(h.flags&1)||!h.dirty&&!R))if(e){const A=h.run();if(s||b||(k?A.some((M,I)=>Dr(M,P[I])):Dr(A,P))){p&&p();const M=Ps;Ps=h;try{const I=[A,P===Ec?void 0:k&&P[0]===Ec?[]:P,y];l?l(e,3,I):e(...I),P=A}finally{Ps=M}}}else h.run()};return a&&a(E),h=new cl(f),h.scheduler=o?()=>o(E,!1):E,y=R=>I1(R,!1,h),p=h.onStop=()=>{const R=fu.get(h);if(R){if(l)l(R,4);else for(const A of R)A();fu.delete(h)}},e?n?E(!0):P=h.run():o?o(E.bind(null,!0),!0):h.run(),T.pause=h.pause.bind(h),T.resume=h.resume.bind(h),T.stop=T,T}function Xn(t,e=1/0,r){if(e<=0||!ht(t)||t.__v_skip||(r=r||new Set,r.has(t)))return t;if(r.add(t),e--,Ct(t))Xn(t.value,e,r);else if(xe(t))for(let n=0;n<t.length;n++)Xn(t[n],e,r);else if(Ki(t)||Ao(t))t.forEach(n=>{Xn(n,e,r)});else if(td(t)){for(const n in t)Xn(t[n],e,r);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&Xn(t[n],e,r)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const T1=[];function oT(t){T1.push(t)}function aT(){T1.pop()}function lT(t,e){}const cT={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},uT={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function na(t,e,r,n){try{return n?t(...n):t()}catch(s){Qi(s,e,r)}}function yn(t,e,r,n){if(De(t)){const s=na(t,e,r,n);return s&&Sp(s)&&s.catch(i=>{Qi(i,e,r)}),s}if(xe(t)){const s=[];for(let i=0;i<t.length;i++)s.push(yn(t[i],e,r,n));return s}}function Qi(t,e,r,n=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Ke;if(e){let a=e.parent;const l=e.proxy,d=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const h=a.ec;if(h){for(let f=0;f<h.length;f++)if(h[f](t,l,d)===!1)return}a=a.parent}if(i){ni(),na(i,null,10,[t,l,d]),si();return}}dT(t,r,s,n,o)}function dT(t,e,r,n=!0,s=!1){if(s)throw t;console.error(t)}const Mr=[];let Dn=-1;const Po=[];let Rs=null,mo=0;const A1=Promise.resolve();let pu=null;function ir(t){const e=pu||A1;return t?e.then(this?t.bind(this):t):e}function hT(t){let e=Dn+1,r=Mr.length;for(;e<r;){const n=e+r>>>1,s=Mr[n],i=fl(s);i<t||i===t&&s.flags&2?e=n+1:r=n}return e}function Fp(t){if(!(t.flags&1)){const e=fl(t),r=Mr[Mr.length-1];!r||!(t.flags&2)&&e>=fl(r)?Mr.push(t):Mr.splice(hT(e),0,t),t.flags|=1,S1()}}function S1(){pu||(pu=A1.then(C1))}function hl(t){xe(t)?Po.push(...t):Rs&&t.id===-1?Rs.splice(mo+1,0,t):t.flags&1||(Po.push(t),t.flags|=1),S1()}function C0(t,e,r=Dn+1){for(;r<Mr.length;r++){const n=Mr[r];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;Mr.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function mu(t){if(Po.length){const e=[...new Set(Po)].sort((r,n)=>fl(r)-fl(n));if(Po.length=0,Rs){Rs.push(...e);return}for(Rs=e,mo=0;mo<Rs.length;mo++){const r=Rs[mo];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Rs=null,mo=0}}const fl=t=>t.id==null?t.flags&2?-1:1/0:t.id;function C1(t){try{for(Dn=0;Dn<Mr.length;Dn++){const e=Mr[Dn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),na(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Dn<Mr.length;Dn++){const e=Mr[Dn];e&&(e.flags&=-2)}Dn=-1,Mr.length=0,mu(),pu=null,(Mr.length||Po.length)&&C1()}}let go,Ic=[];function P1(t,e){var r,n;go=t,go?(go.enabled=!0,Ic.forEach(({event:s,args:i})=>go.emit(s,...i)),Ic=[]):typeof window<"u"&&window.HTMLElement&&!((n=(r=window.navigator)==null?void 0:r.userAgent)!=null&&n.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(i=>{P1(i,e)}),setTimeout(()=>{go||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Ic=[])},3e3)):Ic=[]}let Yt=null,hd=null;function pl(t){const e=Yt;return Yt=t,hd=t&&t.type.__scopeId||null,e}function fT(t){hd=t}function pT(){hd=null}const mT=t=>Z;function Z(t,e=Yt,r){if(!e||t._n)return t;const n=(...s)=>{n._d&&kf(-1);const i=pl(e);let o;try{o=t(...s)}finally{pl(i),n._d&&kf(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function Te(t,e){if(Yt===null)return t;const r=jl(Yt),n=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,l=Ke]=e[s];i&&(De(i)&&(i={mounted:i,updated:i}),i.deep&&Xn(o),n.push({dir:i,instance:r,value:o,oldValue:void 0,arg:a,modifiers:l}))}return t}function Mn(t,e,r,n){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let l=a.dir[n];l&&(ni(),yn(l,r,8,[t.el,a,t,e]),si())}}const R1=Symbol("_vte"),N1=t=>t.__isTeleport,Qa=t=>t&&(t.disabled||t.disabled===""),P0=t=>t&&(t.defer||t.defer===""),R0=t=>typeof SVGElement<"u"&&t instanceof SVGElement,N0=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,gf=(t,e)=>{const r=t&&t.to;return Ue(r)?e?e(r):null:r},$1={name:"Teleport",__isTeleport:!0,process(t,e,r,n,s,i,o,a,l,d){const{mc:h,pc:f,pbc:p,o:{insert:y,querySelector:b,createText:k,createComment:_}}=d,T=Qa(e.props);let{shapeFlag:P,children:E,dynamicChildren:R}=e;if(t==null){const A=e.el=k(""),M=e.anchor=k("");y(A,r,n),y(M,r,n);const I=(m,w)=>{P&16&&(s&&s.isCE&&(s.ce._teleportTarget=m),h(E,m,w,s,i,o,a,l))},v=()=>{const m=e.target=gf(e.props,b),w=O1(m,e,k,y);m&&(o!=="svg"&&R0(m)?o="svg":o!=="mathml"&&N0(m)&&(o="mathml"),T||(I(m,w),Wc(e,!1)))};T&&(I(r,M),Wc(e,!0)),P0(e.props)?Kt(()=>{v(),e.el.__isMounted=!0},i):v()}else{if(P0(e.props)&&!t.el.__isMounted){Kt(()=>{$1.process(t,e,r,n,s,i,o,a,l,d),delete t.el.__isMounted},i);return}e.el=t.el,e.targetStart=t.targetStart;const A=e.anchor=t.anchor,M=e.target=t.target,I=e.targetAnchor=t.targetAnchor,v=Qa(t.props),m=v?r:M,w=v?A:I;if(o==="svg"||R0(M)?o="svg":(o==="mathml"||N0(M))&&(o="mathml"),R?(p(t.dynamicChildren,R,m,s,i,o,a),Yp(t,e,!0)):l||f(t,e,m,w,s,i,o,a,!1),T)v?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Tc(e,r,A,d,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const N=e.target=gf(e.props,b);N&&Tc(e,N,null,d,0)}else v&&Tc(e,M,I,d,1);Wc(e,T)}},remove(t,e,r,{um:n,o:{remove:s}},i){const{shapeFlag:o,children:a,anchor:l,targetStart:d,targetAnchor:h,target:f,props:p}=t;if(f&&(s(d),s(h)),i&&s(l),o&16){const y=i||!Qa(p);for(let b=0;b<a.length;b++){const k=a[b];n(k,e,r,y,!!k.dynamicChildren)}}},move:Tc,hydrate:gT};function Tc(t,e,r,{o:{insert:n},m:s},i=2){i===0&&n(t.targetAnchor,e,r);const{el:o,anchor:a,shapeFlag:l,children:d,props:h}=t,f=i===2;if(f&&n(o,e,r),(!f||Qa(h))&&l&16)for(let p=0;p<d.length;p++)s(d[p],e,r,2);f&&n(a,e,r)}function gT(t,e,r,n,s,i,{o:{nextSibling:o,parentNode:a,querySelector:l,insert:d,createText:h}},f){const p=e.target=gf(e.props,l);if(p){const y=Qa(e.props),b=p._lpa||p.firstChild;if(e.shapeFlag&16)if(y)e.anchor=f(o(t),e,a(t),r,n,s,i),e.targetStart=b,e.targetAnchor=b&&o(b);else{e.anchor=o(t);let k=b;for(;k;){if(k&&k.nodeType===8){if(k.data==="teleport start anchor")e.targetStart=k;else if(k.data==="teleport anchor"){e.targetAnchor=k,p._lpa=e.targetAnchor&&o(e.targetAnchor);break}}k=o(k)}e.targetAnchor||O1(p,e,h,d),f(b&&o(b),e,p,r,n,s,i)}Wc(e,y)}return e.anchor&&o(e.anchor)}const Up=$1;function Wc(t,e){const r=t.ctx;if(r&&r.ut){let n,s;for(e?(n=t.el,s=t.anchor):(n=t.targetStart,s=t.targetAnchor);n&&n!==s;)n.nodeType===1&&n.setAttribute("data-v-owner",r.uid),n=n.nextSibling;r.ut()}}function O1(t,e,r,n){const s=e.targetStart=r(""),i=e.targetAnchor=r("");return s[R1]=i,t&&(n(s,t),n(i,t)),i}const Ns=Symbol("_leaveCb"),Ac=Symbol("_enterCb");function jp(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return je(()=>{t.isMounted=!0}),Yi(()=>{t.isUnmounting=!0}),t}const ln=[Function,Array],Bp={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:ln,onEnter:ln,onAfterEnter:ln,onEnterCancelled:ln,onBeforeLeave:ln,onLeave:ln,onAfterLeave:ln,onLeaveCancelled:ln,onBeforeAppear:ln,onAppear:ln,onAfterAppear:ln,onAppearCancelled:ln},D1=t=>{const e=t.subTree;return e.component?D1(e.component):e},yT={name:"BaseTransition",props:Bp,setup(t,{slots:e}){const r=sn(),n=jp();return()=>{const s=e.default&&fd(e.default(),!0);if(!s||!s.length)return;const i=M1(s),o=We(t),{mode:a}=o;if(n.isLeaving)return Ph(i);const l=$0(i);if(!l)return Ph(i);let d=Mo(l,o,n,r,f=>d=f);l.type!==Bt&&as(l,d);let h=r.subTree&&$0(r.subTree);if(h&&h.type!==Bt&&!En(l,h)&&D1(r).type!==Bt){let f=Mo(h,o,n,r);if(as(h,f),a==="out-in"&&l.type!==Bt)return n.isLeaving=!0,f.afterLeave=()=>{n.isLeaving=!1,r.job.flags&8||r.update(),delete f.afterLeave,h=void 0},Ph(i);a==="in-out"&&l.type!==Bt?f.delayLeave=(p,y,b)=>{const k=L1(n,h);k[String(h.key)]=h,p[Ns]=()=>{y(),p[Ns]=void 0,delete d.delayedLeave,h=void 0},d.delayedLeave=()=>{b(),delete d.delayedLeave,h=void 0}}:h=void 0}else h&&(h=void 0);return i}}};function M1(t){let e=t[0];if(t.length>1){for(const r of t)if(r.type!==Bt){e=r;break}}return e}const V1=yT;function L1(t,e){const{leavingVNodes:r}=t;let n=r.get(e.type);return n||(n=Object.create(null),r.set(e.type,n)),n}function Mo(t,e,r,n,s){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:d,onAfterEnter:h,onEnterCancelled:f,onBeforeLeave:p,onLeave:y,onAfterLeave:b,onLeaveCancelled:k,onBeforeAppear:_,onAppear:T,onAfterAppear:P,onAppearCancelled:E}=e,R=String(t.key),A=L1(r,t),M=(m,w)=>{m&&yn(m,n,9,w)},I=(m,w)=>{const N=w[1];M(m,w),xe(m)?m.every(S=>S.length<=1)&&N():m.length<=1&&N()},v={mode:o,persisted:a,beforeEnter(m){let w=l;if(!r.isMounted)if(i)w=_||l;else return;m[Ns]&&m[Ns](!0);const N=A[R];N&&En(t,N)&&N.el[Ns]&&N.el[Ns](),M(w,[m])},enter(m){let w=d,N=h,S=f;if(!r.isMounted)if(i)w=T||d,N=P||h,S=E||f;else return;let C=!1;const le=m[Ac]=ce=>{C||(C=!0,ce?M(S,[m]):M(N,[m]),v.delayedLeave&&v.delayedLeave(),m[Ac]=void 0)};w?I(w,[m,le]):le()},leave(m,w){const N=String(t.key);if(m[Ac]&&m[Ac](!0),r.isUnmounting)return w();M(p,[m]);let S=!1;const C=m[Ns]=le=>{S||(S=!0,w(),le?M(k,[m]):M(b,[m]),m[Ns]=void 0,A[N]===t&&delete A[N])};A[N]=t,y?I(y,[m,C]):C()},clone(m){const w=Mo(m,e,r,n,s);return s&&s(w),w}};return v}function Ph(t){if(Fl(t))return t=Cn(t),t.children=null,t}function $0(t){if(!Fl(t))return N1(t.type)&&t.children?M1(t.children):t;const{shapeFlag:e,children:r}=t;if(r){if(e&16)return r[0];if(e&32&&De(r.default))return r.default()}}function as(t,e){t.shapeFlag&6&&t.component?(t.transition=e,as(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function fd(t,e=!1,r){let n=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const a=r==null?o.key:String(r)+String(o.key!=null?o.key:i);o.type===ke?(o.patchFlag&128&&s++,n=n.concat(fd(o.children,e,a))):(e||o.type!==Bt)&&n.push(a!=null?Cn(o,{key:a}):o)}if(s>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function Ze(t,e){return De(t)?Qe({name:t.name},e,{setup:t}):t}function F1(){const t=sn();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function qp(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function vT(t){const e=sn(),r=dd(null);if(e){const s=e.refs===Ke?e.refs={}:e.refs;Object.defineProperty(s,t,{enumerable:!0,get:()=>r.value,set:i=>r.value=i})}return r}function ml(t,e,r,n,s=!1){if(xe(t)){t.forEach((b,k)=>ml(b,e&&(xe(e)?e[k]:e),r,n,s));return}if(Hs(n)&&!s){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&ml(t,e,r,n.component.subTree);return}const i=n.shapeFlag&4?jl(n.component):n.el,o=s?null:i,{i:a,r:l}=t,d=e&&e.r,h=a.refs===Ke?a.refs={}:a.refs,f=a.setupState,p=We(f),y=f===Ke?()=>!1:b=>lt(p,b);if(d!=null&&d!==l&&(Ue(d)?(h[d]=null,y(d)&&(f[d]=null)):Ct(d)&&(d.value=null)),De(l))na(l,a,12,[o,h]);else{const b=Ue(l),k=Ct(l);if(b||k){const _=()=>{if(t.f){const T=b?y(l)?f[l]:h[l]:l.value;s?xe(T)&&Ap(T,i):xe(T)?T.includes(i)||T.push(i):b?(h[l]=[i],y(l)&&(f[l]=h[l])):(l.value=[i],t.k&&(h[t.k]=l.value))}else b?(h[l]=o,y(l)&&(f[l]=o)):k&&(l.value=o,t.k&&(h[t.k]=o))};o?(_.id=-1,Kt(_,r)):_()}}}let O0=!1;const uo=()=>{O0||(console.error("Hydration completed but contains mismatches."),O0=!0)},bT=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",xT=t=>t.namespaceURI.includes("MathML"),Sc=t=>{if(t.nodeType===1){if(bT(t))return"svg";if(xT(t))return"mathml"}},wo=t=>t.nodeType===8;function _T(t){const{mt:e,p:r,o:{patchProp:n,createText:s,nextSibling:i,parentNode:o,remove:a,insert:l,createComment:d}}=t,h=(E,R)=>{if(!R.hasChildNodes()){r(null,E,R),mu(),R._vnode=E;return}f(R.firstChild,E,null,null,null),mu(),R._vnode=E},f=(E,R,A,M,I,v=!1)=>{v=v||!!R.dynamicChildren;const m=wo(E)&&E.data==="[",w=()=>k(E,R,A,M,I,m),{type:N,ref:S,shapeFlag:C,patchFlag:le}=R;let ce=E.nodeType;R.el=E,le===-2&&(v=!1,R.dynamicChildren=null);let G=null;switch(N){case zs:ce!==3?R.children===""?(l(R.el=s(""),o(E),E),G=E):G=w():(E.data!==R.children&&(uo(),E.data=R.children),G=i(E));break;case Bt:P(E)?(G=i(E),T(R.el=E.content.firstChild,E,A)):ce!==8||m?G=w():G=i(E);break;case Si:if(m&&(E=i(E),ce=E.nodeType),ce===1||ce===3){G=E;const U=!R.children.length;for(let ee=0;ee<R.staticCount;ee++)U&&(R.children+=G.nodeType===1?G.outerHTML:G.data),ee===R.staticCount-1&&(R.anchor=G),G=i(G);return m?i(G):G}else w();break;case ke:m?G=b(E,R,A,M,I,v):G=w();break;default:if(C&1)(ce!==1||R.type.toLowerCase()!==E.tagName.toLowerCase())&&!P(E)?G=w():G=p(E,R,A,M,I,v);else if(C&6){R.slotScopeIds=I;const U=o(E);if(m?G=_(E):wo(E)&&E.data==="teleport start"?G=_(E,E.data,"teleport end"):G=i(E),e(R,U,null,A,M,Sc(U),v),Hs(R)&&!R.type.__asyncResolved){let ee;m?(ee=z(ke),ee.anchor=G?G.previousSibling:U.lastChild):ee=E.nodeType===3?de(""):z("div"),ee.el=E,R.component.subTree=ee}}else C&64?ce!==8?G=w():G=R.type.hydrate(E,R,A,M,I,v,t,y):C&128&&(G=R.type.hydrate(E,R,A,M,Sc(o(E)),I,v,t,f))}return S!=null&&ml(S,null,M,R),G},p=(E,R,A,M,I,v)=>{v=v||!!R.dynamicChildren;const{type:m,props:w,patchFlag:N,shapeFlag:S,dirs:C,transition:le}=R,ce=m==="input"||m==="option";if(ce||N!==-1){C&&Mn(R,null,A,"created");let G=!1;if(P(E)){G=dx(null,le)&&A&&A.vnode.props&&A.vnode.props.appear;const ee=E.content.firstChild;G&&le.beforeEnter(ee),T(ee,E,A),R.el=E=ee}if(S&16&&!(w&&(w.innerHTML||w.textContent))){let ee=y(E.firstChild,R,E,A,M,I,v);for(;ee;){Cc(E,1)||uo();const oe=ee;ee=ee.nextSibling,a(oe)}}else if(S&8){let ee=R.children;ee[0]===`
`&&(E.tagName==="PRE"||E.tagName==="TEXTAREA")&&(ee=ee.slice(1)),E.textContent!==ee&&(Cc(E,0)||uo(),E.textContent=R.children)}if(w){if(ce||!v||N&48){const ee=E.tagName.includes("-");for(const oe in w)(ce&&(oe.endsWith("value")||oe==="indeterminate")||Wi(oe)&&!qs(oe)||oe[0]==="."||ee)&&n(E,oe,null,w[oe],void 0,A)}else if(w.onClick)n(E,"onClick",null,w.onClick,void 0,A);else if(N&4&&An(w.style))for(const ee in w.style)w.style[ee]}let U;(U=w&&w.onVnodeBeforeMount)&&Ur(U,A,R),C&&Mn(R,null,A,"beforeMount"),((U=w&&w.onVnodeMounted)||C||G)&&xx(()=>{U&&Ur(U,A,R),G&&le.enter(E),C&&Mn(R,null,A,"mounted")},M)}return E.nextSibling},y=(E,R,A,M,I,v,m)=>{m=m||!!R.dynamicChildren;const w=R.children,N=w.length;for(let S=0;S<N;S++){const C=m?w[S]:w[S]=jr(w[S]),le=C.type===zs;E?(le&&!m&&S+1<N&&jr(w[S+1]).type===zs&&(l(s(E.data.slice(C.children.length)),A,i(E)),E.data=C.children),E=f(E,C,M,I,v,m)):le&&!C.children?l(C.el=s(""),A):(Cc(A,1)||uo(),r(null,C,A,null,M,I,Sc(A),v))}return E},b=(E,R,A,M,I,v)=>{const{slotScopeIds:m}=R;m&&(I=I?I.concat(m):m);const w=o(E),N=y(i(E),R,w,A,M,I,v);return N&&wo(N)&&N.data==="]"?i(R.anchor=N):(uo(),l(R.anchor=d("]"),w,N),N)},k=(E,R,A,M,I,v)=>{if(Cc(E.parentElement,1)||uo(),R.el=null,v){const N=_(E);for(;;){const S=i(E);if(S&&S!==N)a(S);else break}}const m=i(E),w=o(E);return a(E),r(null,R,w,m,A,M,Sc(w),I),A&&(A.vnode.el=R.el,vd(A,R.el)),m},_=(E,R="[",A="]")=>{let M=0;for(;E;)if(E=i(E),E&&wo(E)&&(E.data===R&&M++,E.data===A)){if(M===0)return i(E);M--}return E},T=(E,R,A)=>{const M=R.parentNode;M&&M.replaceChild(E,R);let I=A;for(;I;)I.vnode.el===R&&(I.vnode.el=I.subTree.el=E),I=I.parent},P=E=>E.nodeType===1&&E.tagName==="TEMPLATE";return[h,f]}const D0="data-allow-mismatch",wT={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Cc(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(D0);)t=t.parentElement;const r=t&&t.getAttribute(D0);if(r==null)return!1;if(r==="")return!0;{const n=r.split(",");return e===0&&n.includes("children")?!0:r.split(",").includes(wT[e])}}const kT=nd().requestIdleCallback||(t=>setTimeout(t,1)),ET=nd().cancelIdleCallback||(t=>clearTimeout(t)),IT=(t=1e4)=>e=>{const r=kT(e,{timeout:t});return()=>ET(r)};function TT(t){const{top:e,left:r,bottom:n,right:s}=t.getBoundingClientRect(),{innerHeight:i,innerWidth:o}=window;return(e>0&&e<i||n>0&&n<i)&&(r>0&&r<o||s>0&&s<o)}const AT=t=>(e,r)=>{const n=new IntersectionObserver(s=>{for(const i of s)if(i.isIntersecting){n.disconnect(),e();break}},t);return r(s=>{if(s instanceof Element){if(TT(s))return e(),n.disconnect(),!1;n.observe(s)}}),()=>n.disconnect()},ST=t=>e=>{if(t){const r=matchMedia(t);if(r.matches)e();else return r.addEventListener("change",e,{once:!0}),()=>r.removeEventListener("change",e)}},CT=(t=[])=>(e,r)=>{Ue(t)&&(t=[t]);let n=!1;const s=o=>{n||(n=!0,i(),e(),o.target.dispatchEvent(new o.constructor(o.type,o)))},i=()=>{r(o=>{for(const a of t)o.removeEventListener(a,s)})};return r(o=>{for(const a of t)o.addEventListener(a,s,{once:!0})}),i};function PT(t,e){if(wo(t)&&t.data==="["){let r=1,n=t.nextSibling;for(;n;){if(n.nodeType===1){if(e(n)===!1)break}else if(wo(n))if(n.data==="]"){if(--r===0)break}else n.data==="["&&r++;n=n.nextSibling}}else e(t)}const Hs=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function RT(t){De(t)&&(t={loader:t});const{loader:e,loadingComponent:r,errorComponent:n,delay:s=200,hydrate:i,timeout:o,suspensible:a=!0,onError:l}=t;let d=null,h,f=0;const p=()=>(f++,d=null,y()),y=()=>{let b;return d||(b=d=e().catch(k=>{if(k=k instanceof Error?k:new Error(String(k)),l)return new Promise((_,T)=>{l(k,()=>_(p()),()=>T(k),f+1)});throw k}).then(k=>b!==d&&d?d:(k&&(k.__esModule||k[Symbol.toStringTag]==="Module")&&(k=k.default),h=k,k)))};return Ze({name:"AsyncComponentWrapper",__asyncLoader:y,__asyncHydrate(b,k,_){const T=i?()=>{const P=i(_,E=>PT(b,E));P&&(k.bum||(k.bum=[])).push(P)}:_;h?T():y().then(()=>!k.isUnmounted&&T())},get __asyncResolved(){return h},setup(){const b=Qt;if(qp(b),h)return()=>Rh(h,b);const k=E=>{d=null,Qi(E,b,13,!n)};if(a&&b.suspense||Vo)return y().then(E=>()=>Rh(E,b)).catch(E=>(k(E),()=>n?z(n,{error:E}):null));const _=H(!1),T=H(),P=H(!!s);return s&&setTimeout(()=>{P.value=!1},s),o!=null&&setTimeout(()=>{if(!_.value&&!T.value){const E=new Error(`Async component timed out after ${o}ms.`);k(E),T.value=E}},o),y().then(()=>{_.value=!0,b.parent&&Fl(b.parent.vnode)&&b.parent.update()}).catch(E=>{k(E),T.value=E}),()=>{if(_.value&&h)return Rh(h,b);if(T.value&&n)return z(n,{error:T.value});if(r&&!P.value)return z(r)}}})}function Rh(t,e){const{ref:r,props:n,children:s,ce:i}=e.vnode,o=z(t,n,s);return o.ref=r,o.ce=i,delete e.vnode.ce,o}const Fl=t=>t.type.__isKeepAlive,NT={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const r=sn(),n=r.ctx;if(!n.renderer)return()=>{const P=e.default&&e.default();return P&&P.length===1?P[0]:P};const s=new Map,i=new Set;let o=null;const a=r.suspense,{renderer:{p:l,m:d,um:h,o:{createElement:f}}}=n,p=f("div");n.activate=(P,E,R,A,M)=>{const I=P.component;d(P,E,R,0,a),l(I.vnode,P,E,R,I,a,A,P.slotScopeIds,M),Kt(()=>{I.isDeactivated=!1,I.a&&Co(I.a);const v=P.props&&P.props.onVnodeMounted;v&&Ur(v,I.parent,P)},a)},n.deactivate=P=>{const E=P.component;vu(E.m),vu(E.a),d(P,p,null,1,a),Kt(()=>{E.da&&Co(E.da);const R=P.props&&P.props.onVnodeUnmounted;R&&Ur(R,E.parent,P),E.isDeactivated=!0},a)};function y(P){Nh(P),h(P,r,a,!0)}function b(P){s.forEach((E,R)=>{const A=Sf(E.type);A&&!P(A)&&k(R)})}function k(P){const E=s.get(P);E&&(!o||!En(E,o))?y(E):o&&Nh(o),s.delete(P),i.delete(P)}Rt(()=>[t.include,t.exclude],([P,E])=>{P&&b(R=>Oa(P,R)),E&&b(R=>!Oa(E,R))},{flush:"post",deep:!0});let _=null;const T=()=>{_!=null&&(bu(r.subTree.type)?Kt(()=>{s.set(_,Pc(r.subTree))},r.subTree.suspense):s.set(_,Pc(r.subTree)))};return je(T),md(T),Yi(()=>{s.forEach(P=>{const{subTree:E,suspense:R}=r,A=Pc(E);if(P.type===A.type&&P.key===A.key){Nh(A);const M=A.component.da;M&&Kt(M,R);return}y(P)})}),()=>{if(_=null,!e.default)return o=null;const P=e.default(),E=P[0];if(P.length>1)return o=null,P;if(!ls(E)||!(E.shapeFlag&4)&&!(E.shapeFlag&128))return o=null,E;let R=Pc(E);if(R.type===Bt)return o=null,R;const A=R.type,M=Sf(Hs(R)?R.type.__asyncResolved||{}:A),{include:I,exclude:v,max:m}=t;if(I&&(!M||!Oa(I,M))||v&&M&&Oa(v,M))return R.shapeFlag&=-257,o=R,E;const w=R.key==null?A:R.key,N=s.get(w);return R.el&&(R=Cn(R),E.shapeFlag&128&&(E.ssContent=R)),_=w,N?(R.el=N.el,R.component=N.component,R.transition&&as(R,R.transition),R.shapeFlag|=512,i.delete(w),i.add(w)):(i.add(w),m&&i.size>parseInt(m,10)&&k(i.values().next().value)),R.shapeFlag|=256,o=R,bu(E.type)?E:R}}},$T=NT;function Oa(t,e){return xe(t)?t.some(r=>Oa(r,e)):Ue(t)?t.split(",").includes(e):rI(t)?(t.lastIndex=0,t.test(e)):!1}function U1(t,e){B1(t,"a",e)}function j1(t,e){B1(t,"da",e)}function B1(t,e,r=Qt){const n=t.__wdc||(t.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(pd(e,n,r),r){let s=r.parent;for(;s&&s.parent;)Fl(s.parent.vnode)&&OT(n,e,r,s),s=s.parent}}function OT(t,e,r,n){const s=pd(e,t,n,!0);Wt(()=>{Ap(n[e],s)},r)}function Nh(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Pc(t){return t.shapeFlag&128?t.ssContent:t}function pd(t,e,r=Qt,n=!1){if(r){const s=r[t]||(r[t]=[]),i=e.__weh||(e.__weh=(...o)=>{ni();const a=Di(r),l=yn(e,r,t,o);return a(),si(),l});return n?s.unshift(i):s.push(i),i}}const ms=t=>(e,r=Qt)=>{(!Vo||t==="sp")&&pd(t,(...n)=>e(...n),r)},q1=ms("bm"),je=ms("m"),Hp=ms("bu"),md=ms("u"),Yi=ms("bum"),Wt=ms("um"),H1=ms("sp"),z1=ms("rtg"),W1=ms("rtc");function K1(t,e=Qt){pd("ec",t,e)}const zp="components",DT="directives";function Lr(t,e){return Wp(zp,t,!0,e)||t}const G1=Symbol.for("v-ndc");function gd(t){return Ue(t)?Wp(zp,t,!1)||t:t||G1}function MT(t){return Wp(DT,t)}function Wp(t,e,r=!0,n=!1){const s=Yt||Qt;if(s){const i=s.type;if(t===zp){const a=Sf(i,!1);if(a&&(a===e||a===kt(e)||a===Gi(kt(e))))return i}const o=M0(s[t]||i[t],e)||M0(s.appContext[t],e);return!o&&n?i:o}}function M0(t,e){return t&&(t[e]||t[kt(e)]||t[Gi(kt(e))])}function qe(t,e,r,n){let s;const i=r&&r[n],o=xe(t);if(o||Ue(t)){const a=o&&An(t);let l=!1;a&&(l=!en(t),t=od(t)),s=new Array(t.length);for(let d=0,h=t.length;d<h;d++)s[d]=e(l?kr(t[d]):t[d],d,void 0,i&&i[d])}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,i&&i[a])}else if(ht(t))if(t[Symbol.iterator])s=Array.from(t,(a,l)=>e(a,l,void 0,i&&i[l]));else{const a=Object.keys(t);s=new Array(a.length);for(let l=0,d=a.length;l<d;l++){const h=a[l];s[l]=e(t[h],h,l,i&&i[l])}}else s=[];return r&&(r[n]=s),s}function VT(t,e){for(let r=0;r<e.length;r++){const n=e[r];if(xe(n))for(let s=0;s<n.length;s++)t[n[s].name]=n[s].fn;else n&&(t[n.name]=n.key?(...s)=>{const i=n.fn(...s);return i&&(i.key=n.key),i}:n.fn)}return t}function gu(t,e,r={},n,s){if(Yt.ce||Yt.parent&&Hs(Yt.parent)&&Yt.parent.ce)return e!=="default"&&(r.name=e),O(),mt(ke,null,[z("slot",r,n&&n())],64);let i=t[e];i&&i._c&&(i._d=!1),O();const o=i&&Kp(i(r)),a=r.key||o&&o.key,l=mt(ke,{key:(a&&!Kr(a)?a:`_${e}`)+(!o&&n?"_fb":"")},o||(n?n():[]),o&&t._===1?64:-2);return!s&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function Kp(t){return t.some(e=>ls(e)?!(e.type===Bt||e.type===ke&&!Kp(e.children)):!0)?t:null}function LT(t,e){const r={};for(const n in t)r[e&&/[A-Z]/.test(n)?`on:${n}`:So(n)]=t[n];return r}const yf=t=>t?Ax(t)?jl(t):yf(t.parent):null,Ya=Qe(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>yf(t.parent),$root:t=>yf(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Gp(t),$forceUpdate:t=>t.f||(t.f=()=>{Fp(t.update)}),$nextTick:t=>t.n||(t.n=ir.bind(t.proxy)),$watch:t=>pA.bind(t)}),$h=(t,e)=>t!==Ke&&!t.__isScriptSetup&&lt(t,e),vf={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:n,data:s,props:i,accessCache:o,type:a,appContext:l}=t;let d;if(e[0]!=="$"){const y=o[e];if(y!==void 0)switch(y){case 1:return n[e];case 2:return s[e];case 4:return r[e];case 3:return i[e]}else{if($h(n,e))return o[e]=1,n[e];if(s!==Ke&&lt(s,e))return o[e]=2,s[e];if((d=t.propsOptions[0])&&lt(d,e))return o[e]=3,i[e];if(r!==Ke&&lt(r,e))return o[e]=4,r[e];bf&&(o[e]=0)}}const h=Ya[e];let f,p;if(h)return e==="$attrs"&&wr(t.attrs,"get",""),h(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(r!==Ke&&lt(r,e))return o[e]=4,r[e];if(p=l.config.globalProperties,lt(p,e))return p[e]},set({_:t},e,r){const{data:n,setupState:s,ctx:i}=t;return $h(s,e)?(s[e]=r,!0):n!==Ke&&lt(n,e)?(n[e]=r,!0):lt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:s,propsOptions:i}},o){let a;return!!r[o]||t!==Ke&&lt(t,o)||$h(e,o)||(a=i[0])&&lt(a,o)||lt(n,o)||lt(Ya,o)||lt(s.config.globalProperties,o)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:lt(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}},FT=Qe({},vf,{get(t,e){if(e!==Symbol.unscopables)return vf.get(t,e,t)},has(t,e){return e[0]!=="_"&&!cI(e)}});function UT(){return null}function jT(){return null}function BT(t){}function qT(t){}function HT(){return null}function zT(){}function WT(t,e){return null}function KT(){return Q1().slots}function GT(){return Q1().attrs}function Q1(){const t=sn();return t.setupContext||(t.setupContext=Rx(t))}function gl(t){return xe(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}function QT(t,e){const r=gl(t);for(const n in e){if(n.startsWith("__skip"))continue;let s=r[n];s?xe(s)||De(s)?s=r[n]={type:s,default:e[n]}:s.default=e[n]:s===null&&(s=r[n]={default:e[n]}),s&&e[`__skip_${n}`]&&(s.skipFactory=!0)}return r}function YT(t,e){return!t||!e?t||e:xe(t)&&xe(e)?t.concat(e):Qe({},gl(t),gl(e))}function JT(t,e){const r={};for(const n in t)e.includes(n)||Object.defineProperty(r,n,{enumerable:!0,get:()=>t[n]});return r}function XT(t){const e=sn();let r=t();return If(),Sp(r)&&(r=r.catch(n=>{throw Di(e),n})),[r,()=>Di(e)]}let bf=!0;function ZT(t){const e=Gp(t),r=t.proxy,n=t.ctx;bf=!1,e.beforeCreate&&V0(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:l,inject:d,created:h,beforeMount:f,mounted:p,beforeUpdate:y,updated:b,activated:k,deactivated:_,beforeDestroy:T,beforeUnmount:P,destroyed:E,unmounted:R,render:A,renderTracked:M,renderTriggered:I,errorCaptured:v,serverPrefetch:m,expose:w,inheritAttrs:N,components:S,directives:C,filters:le}=e;if(d&&eA(d,n,null),o)for(const U in o){const ee=o[U];De(ee)&&(n[U]=ee.bind(r))}if(s){const U=s.call(r,r);ht(U)&&(t.data=gn(U))}if(bf=!0,i)for(const U in i){const ee=i[U],oe=De(ee)?ee.bind(r,r):De(ee.get)?ee.get.bind(r,r):sr,we=!De(ee)&&De(ee.set)?ee.set.bind(r):sr,ye=te({get:oe,set:we});Object.defineProperty(n,U,{enumerable:!0,configurable:!0,get:()=>ye.value,set:Se=>ye.value=Se})}if(a)for(const U in a)Y1(a[U],n,r,U);if(l){const U=De(l)?l.call(r):l;Reflect.ownKeys(U).forEach(ee=>{Ht(ee,U[ee])})}h&&V0(h,t,"c");function G(U,ee){xe(ee)?ee.forEach(oe=>U(oe.bind(r))):ee&&U(ee.bind(r))}if(G(q1,f),G(je,p),G(Hp,y),G(md,b),G(U1,k),G(j1,_),G(K1,v),G(W1,M),G(z1,I),G(Yi,P),G(Wt,R),G(H1,m),xe(w))if(w.length){const U=t.exposed||(t.exposed={});w.forEach(ee=>{Object.defineProperty(U,ee,{get:()=>r[ee],set:oe=>r[ee]=oe})})}else t.exposed||(t.exposed={});A&&t.render===sr&&(t.render=A),N!=null&&(t.inheritAttrs=N),S&&(t.components=S),C&&(t.directives=C),m&&qp(t)}function eA(t,e,r=sr){xe(t)&&(t=xf(t));for(const n in t){const s=t[n];let i;ht(s)?"default"in s?i=it(s.from||n,s.default,!0):i=it(s.from||n):i=it(s),Ct(i)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[n]=i}}function V0(t,e,r){yn(xe(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function Y1(t,e,r,n){let s=n.includes(".")?gx(r,n):()=>r[n];if(Ue(t)){const i=e[t];De(i)&&Rt(s,i)}else if(De(t))Rt(s,t.bind(r));else if(ht(t))if(xe(t))t.forEach(i=>Y1(i,e,r,n));else{const i=De(t.handler)?t.handler.bind(r):e[t.handler];De(i)&&Rt(s,i,t)}}function Gp(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!s.length&&!r&&!n?l=e:(l={},s.length&&s.forEach(d=>yu(l,d,o,!0)),yu(l,e,o)),ht(e)&&i.set(e,l),l}function yu(t,e,r,n=!1){const{mixins:s,extends:i}=e;i&&yu(t,i,r,!0),s&&s.forEach(o=>yu(t,o,r,!0));for(const o in e)if(!(n&&o==="expose")){const a=tA[o]||r&&r[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const tA={data:L0,props:F0,emits:F0,methods:Da,computed:Da,beforeCreate:Nr,created:Nr,beforeMount:Nr,mounted:Nr,beforeUpdate:Nr,updated:Nr,beforeDestroy:Nr,beforeUnmount:Nr,destroyed:Nr,unmounted:Nr,activated:Nr,deactivated:Nr,errorCaptured:Nr,serverPrefetch:Nr,components:Da,directives:Da,watch:nA,provide:L0,inject:rA};function L0(t,e){return e?t?function(){return Qe(De(t)?t.call(this,this):t,De(e)?e.call(this,this):e)}:e:t}function rA(t,e){return Da(xf(t),xf(e))}function xf(t){if(xe(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Nr(t,e){return t?[...new Set([].concat(t,e))]:e}function Da(t,e){return t?Qe(Object.create(null),t,e):e}function F0(t,e){return t?xe(t)&&xe(e)?[...new Set([...t,...e])]:Qe(Object.create(null),gl(t),gl(e??{})):e}function nA(t,e){if(!t)return e;if(!e)return t;const r=Qe(Object.create(null),t);for(const n in e)r[n]=Nr(t[n],e[n]);return r}function J1(){return{app:null,config:{isNativeTag:$a,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let sA=0;function iA(t,e){return function(n,s=null){De(n)||(n=Qe({},n)),s!=null&&!ht(s)&&(s=null);const i=J1(),o=new WeakSet,a=[];let l=!1;const d=i.app={_uid:sA++,_component:n,_props:s,_container:null,_context:i,_instance:null,version:$x,get config(){return i.config},set config(h){},use(h,...f){return o.has(h)||(h&&De(h.install)?(o.add(h),h.install(d,...f)):De(h)&&(o.add(h),h(d,...f))),d},mixin(h){return i.mixins.includes(h)||i.mixins.push(h),d},component(h,f){return f?(i.components[h]=f,d):i.components[h]},directive(h,f){return f?(i.directives[h]=f,d):i.directives[h]},mount(h,f,p){if(!l){const y=d._ceVNode||z(n,s);return y.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),f&&e?e(y,h):t(y,h,p),l=!0,d._container=h,h.__vue_app__=d,jl(y.component)}},onUnmount(h){a.push(h)},unmount(){l&&(yn(a,d._instance,16),t(null,d._container),delete d._container.__vue_app__)},provide(h,f){return i.provides[h]=f,d},runWithContext(h){const f=Ai;Ai=d;try{return h()}finally{Ai=f}}};return d}}let Ai=null;function Ht(t,e){if(Qt){let r=Qt.provides;const n=Qt.parent&&Qt.parent.provides;n===r&&(r=Qt.provides=Object.create(n)),r[t]=e}}function it(t,e,r=!1){const n=Qt||Yt;if(n||Ai){const s=Ai?Ai._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return r&&De(e)?e.call(n&&n.proxy):e}}function X1(){return!!(Qt||Yt||Ai)}const Z1={},ex=()=>Object.create(Z1),tx=t=>Object.getPrototypeOf(t)===Z1;function oA(t,e,r,n=!1){const s={},i=ex();t.propsDefaults=Object.create(null),rx(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);r?t.props=n?s:Mp(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function aA(t,e,r,n){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=We(s),[l]=t.propsOptions;let d=!1;if((n||o>0)&&!(o&16)){if(o&8){const h=t.vnode.dynamicProps;for(let f=0;f<h.length;f++){let p=h[f];if(yd(t.emitsOptions,p))continue;const y=e[p];if(l)if(lt(i,p))y!==i[p]&&(i[p]=y,d=!0);else{const b=kt(p);s[b]=_f(l,a,b,y,t,!1)}else y!==i[p]&&(i[p]=y,d=!0)}}}else{rx(t,e,s,i)&&(d=!0);let h;for(const f in a)(!e||!lt(e,f)&&((h=Br(f))===f||!lt(e,h)))&&(l?r&&(r[f]!==void 0||r[h]!==void 0)&&(s[f]=_f(l,a,f,void 0,t,!0)):delete s[f]);if(i!==a)for(const f in i)(!e||!lt(e,f))&&(delete i[f],d=!0)}d&&Jn(t.attrs,"set","")}function rx(t,e,r,n){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(qs(l))continue;const d=e[l];let h;s&&lt(s,h=kt(l))?!i||!i.includes(h)?r[h]=d:(a||(a={}))[h]=d:yd(t.emitsOptions,l)||(!(l in n)||d!==n[l])&&(n[l]=d,o=!0)}if(i){const l=We(r),d=a||Ke;for(let h=0;h<i.length;h++){const f=i[h];r[f]=_f(s,l,f,d[f],t,!lt(d,f))}}return o}function _f(t,e,r,n,s,i){const o=t[r];if(o!=null){const a=lt(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&De(l)){const{propsDefaults:d}=s;if(r in d)n=d[r];else{const h=Di(s);n=d[r]=l.call(null,e),h()}}else n=l;s.ce&&s.ce._setProp(r,n)}o[0]&&(i&&!a?n=!1:o[1]&&(n===""||n===Br(r))&&(n=!0))}return n}const lA=new WeakMap;function nx(t,e,r=!1){const n=r?lA:e.propsCache,s=n.get(t);if(s)return s;const i=t.props,o={},a=[];let l=!1;if(!De(t)){const h=f=>{l=!0;const[p,y]=nx(f,e,!0);Qe(o,p),y&&a.push(...y)};!r&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!i&&!l)return ht(t)&&n.set(t,To),To;if(xe(i))for(let h=0;h<i.length;h++){const f=kt(i[h]);U0(f)&&(o[f]=Ke)}else if(i)for(const h in i){const f=kt(h);if(U0(f)){const p=i[h],y=o[f]=xe(p)||De(p)?{type:p}:Qe({},p),b=y.type;let k=!1,_=!0;if(xe(b))for(let T=0;T<b.length;++T){const P=b[T],E=De(P)&&P.name;if(E==="Boolean"){k=!0;break}else E==="String"&&(_=!1)}else k=De(b)&&b.name==="Boolean";y[0]=k,y[1]=_,(k||lt(y,"default"))&&a.push(f)}}const d=[o,a];return ht(t)&&n.set(t,d),d}function U0(t){return t[0]!=="$"&&!qs(t)}const sx=t=>t[0]==="_"||t==="$stable",Qp=t=>xe(t)?t.map(jr):[jr(t)],cA=(t,e,r)=>{if(e._n)return e;const n=Z((...s)=>Qp(e(...s)),r);return n._c=!1,n},ix=(t,e,r)=>{const n=t._ctx;for(const s in t){if(sx(s))continue;const i=t[s];if(De(i))e[s]=cA(s,i,n);else if(i!=null){const o=Qp(i);e[s]=()=>o}}},ox=(t,e)=>{const r=Qp(e);t.slots.default=()=>r},ax=(t,e,r)=>{for(const n in e)(r||n!=="_")&&(t[n]=e[n])},uA=(t,e,r)=>{const n=t.slots=ex();if(t.vnode.shapeFlag&32){const s=e._;s?(ax(n,e,r),r&&Zb(n,"_",s,!0)):ix(e,n)}else e&&ox(t,e)},dA=(t,e,r)=>{const{vnode:n,slots:s}=t;let i=!0,o=Ke;if(n.shapeFlag&32){const a=e._;a?r&&a===1?i=!1:ax(s,e,r):(i=!e.$stable,ix(e,s)),o=e}else e&&(ox(t,e),o={default:1});if(i)for(const a in s)!sx(a)&&o[a]==null&&delete s[a]},Kt=xx;function lx(t){return ux(t)}function cx(t){return ux(t,_T)}function ux(t,e){const r=nd();r.__VUE__=!0;const{insert:n,remove:s,patchProp:i,createElement:o,createText:a,createComment:l,setText:d,setElementText:h,parentNode:f,nextSibling:p,setScopeId:y=sr,insertStaticContent:b}=t,k=(D,B,Y,ie=null,J=null,ne=null,pe=void 0,he=null,me=!!B.dynamicChildren)=>{if(D===B)return;D&&!En(D,B)&&(ie=W(D),Se(D,J,ne,!0),D=null),B.patchFlag===-2&&(me=!1,B.dynamicChildren=null);const{type:ue,ref:Ne,shapeFlag:ve}=B;switch(ue){case zs:_(D,B,Y,ie);break;case Bt:T(D,B,Y,ie);break;case Si:D==null&&P(B,Y,ie,pe);break;case ke:S(D,B,Y,ie,J,ne,pe,he,me);break;default:ve&1?A(D,B,Y,ie,J,ne,pe,he,me):ve&6?C(D,B,Y,ie,J,ne,pe,he,me):(ve&64||ve&128)&&ue.process(D,B,Y,ie,J,ne,pe,he,me,L)}Ne!=null&&J&&ml(Ne,D&&D.ref,ne,B||D,!B)},_=(D,B,Y,ie)=>{if(D==null)n(B.el=a(B.children),Y,ie);else{const J=B.el=D.el;B.children!==D.children&&d(J,B.children)}},T=(D,B,Y,ie)=>{D==null?n(B.el=l(B.children||""),Y,ie):B.el=D.el},P=(D,B,Y,ie)=>{[D.el,D.anchor]=b(D.children,B,Y,ie,D.el,D.anchor)},E=({el:D,anchor:B},Y,ie)=>{let J;for(;D&&D!==B;)J=p(D),n(D,Y,ie),D=J;n(B,Y,ie)},R=({el:D,anchor:B})=>{let Y;for(;D&&D!==B;)Y=p(D),s(D),D=Y;s(B)},A=(D,B,Y,ie,J,ne,pe,he,me)=>{B.type==="svg"?pe="svg":B.type==="math"&&(pe="mathml"),D==null?M(B,Y,ie,J,ne,pe,he,me):m(D,B,J,ne,pe,he,me)},M=(D,B,Y,ie,J,ne,pe,he)=>{let me,ue;const{props:Ne,shapeFlag:ve,transition:Ce,dirs:Ee}=D;if(me=D.el=o(D.type,ne,Ne&&Ne.is,Ne),ve&8?h(me,D.children):ve&16&&v(D.children,me,null,ie,J,Oh(D,ne),pe,he),Ee&&Mn(D,null,ie,"created"),I(me,D,D.scopeId,pe,ie),Ne){for(const at in Ne)at!=="value"&&!qs(at)&&i(me,at,null,Ne[at],ne,ie);"value"in Ne&&i(me,"value",null,Ne.value,ne),(ue=Ne.onVnodeBeforeMount)&&Ur(ue,ie,D)}Ee&&Mn(D,null,ie,"beforeMount");const Oe=dx(J,Ce);Oe&&Ce.beforeEnter(me),n(me,B,Y),((ue=Ne&&Ne.onVnodeMounted)||Oe||Ee)&&Kt(()=>{ue&&Ur(ue,ie,D),Oe&&Ce.enter(me),Ee&&Mn(D,null,ie,"mounted")},J)},I=(D,B,Y,ie,J)=>{if(Y&&y(D,Y),ie)for(let ne=0;ne<ie.length;ne++)y(D,ie[ne]);if(J){let ne=J.subTree;if(B===ne||bu(ne.type)&&(ne.ssContent===B||ne.ssFallback===B)){const pe=J.vnode;I(D,pe,pe.scopeId,pe.slotScopeIds,J.parent)}}},v=(D,B,Y,ie,J,ne,pe,he,me=0)=>{for(let ue=me;ue<D.length;ue++){const Ne=D[ue]=he?$s(D[ue]):jr(D[ue]);k(null,Ne,B,Y,ie,J,ne,pe,he)}},m=(D,B,Y,ie,J,ne,pe)=>{const he=B.el=D.el;let{patchFlag:me,dynamicChildren:ue,dirs:Ne}=B;me|=D.patchFlag&16;const ve=D.props||Ke,Ce=B.props||Ke;let Ee;if(Y&&fi(Y,!1),(Ee=Ce.onVnodeBeforeUpdate)&&Ur(Ee,Y,B,D),Ne&&Mn(B,D,Y,"beforeUpdate"),Y&&fi(Y,!0),(ve.innerHTML&&Ce.innerHTML==null||ve.textContent&&Ce.textContent==null)&&h(he,""),ue?w(D.dynamicChildren,ue,he,Y,ie,Oh(B,J),ne):pe||ee(D,B,he,null,Y,ie,Oh(B,J),ne,!1),me>0){if(me&16)N(he,ve,Ce,Y,J);else if(me&2&&ve.class!==Ce.class&&i(he,"class",null,Ce.class,J),me&4&&i(he,"style",ve.style,Ce.style,J),me&8){const Oe=B.dynamicProps;for(let at=0;at<Oe.length;at++){const rt=Oe[at],hr=ve[rt],Jt=Ce[rt];(Jt!==hr||rt==="value")&&i(he,rt,hr,Jt,J,Y)}}me&1&&D.children!==B.children&&h(he,B.children)}else!pe&&ue==null&&N(he,ve,Ce,Y,J);((Ee=Ce.onVnodeUpdated)||Ne)&&Kt(()=>{Ee&&Ur(Ee,Y,B,D),Ne&&Mn(B,D,Y,"updated")},ie)},w=(D,B,Y,ie,J,ne,pe)=>{for(let he=0;he<B.length;he++){const me=D[he],ue=B[he],Ne=me.el&&(me.type===ke||!En(me,ue)||me.shapeFlag&70)?f(me.el):Y;k(me,ue,Ne,null,ie,J,ne,pe,!0)}},N=(D,B,Y,ie,J)=>{if(B!==Y){if(B!==Ke)for(const ne in B)!qs(ne)&&!(ne in Y)&&i(D,ne,B[ne],null,J,ie);for(const ne in Y){if(qs(ne))continue;const pe=Y[ne],he=B[ne];pe!==he&&ne!=="value"&&i(D,ne,he,pe,J,ie)}"value"in Y&&i(D,"value",B.value,Y.value,J)}},S=(D,B,Y,ie,J,ne,pe,he,me)=>{const ue=B.el=D?D.el:a(""),Ne=B.anchor=D?D.anchor:a("");let{patchFlag:ve,dynamicChildren:Ce,slotScopeIds:Ee}=B;Ee&&(he=he?he.concat(Ee):Ee),D==null?(n(ue,Y,ie),n(Ne,Y,ie),v(B.children||[],Y,Ne,J,ne,pe,he,me)):ve>0&&ve&64&&Ce&&D.dynamicChildren?(w(D.dynamicChildren,Ce,Y,J,ne,pe,he),(B.key!=null||J&&B===J.subTree)&&Yp(D,B,!0)):ee(D,B,Y,Ne,J,ne,pe,he,me)},C=(D,B,Y,ie,J,ne,pe,he,me)=>{B.slotScopeIds=he,D==null?B.shapeFlag&512?J.ctx.activate(B,Y,ie,pe,me):le(B,Y,ie,J,ne,pe,me):ce(D,B,me)},le=(D,B,Y,ie,J,ne,pe)=>{const he=D.component=Tx(D,ie,J);if(Fl(D)&&(he.ctx.renderer=L),Sx(he,!1,pe),he.asyncDep){if(J&&J.registerDep(he,G,pe),!D.el){const me=he.subTree=z(Bt);T(null,me,B,Y)}}else G(he,D,B,Y,J,ne,pe)},ce=(D,B,Y)=>{const ie=B.component=D.component;if(xA(D,B,Y))if(ie.asyncDep&&!ie.asyncResolved){U(ie,B,Y);return}else ie.next=B,ie.update();else B.el=D.el,ie.vnode=B},G=(D,B,Y,ie,J,ne,pe)=>{const he=()=>{if(D.isMounted){let{next:ve,bu:Ce,u:Ee,parent:Oe,vnode:at}=D;{const fr=hx(D);if(fr){ve&&(ve.el=at.el,U(D,ve,pe)),fr.asyncDep.then(()=>{D.isUnmounted||he()});return}}let rt=ve,hr;fi(D,!1),ve?(ve.el=at.el,U(D,ve,pe)):ve=at,Ce&&Co(Ce),(hr=ve.props&&ve.props.onVnodeBeforeUpdate)&&Ur(hr,Oe,ve,at),fi(D,!0);const Jt=Kc(D),Zt=D.subTree;D.subTree=Jt,k(Zt,Jt,f(Zt.el),W(Zt),D,J,ne),ve.el=Jt.el,rt===null&&vd(D,Jt.el),Ee&&Kt(Ee,J),(hr=ve.props&&ve.props.onVnodeUpdated)&&Kt(()=>Ur(hr,Oe,ve,at),J)}else{let ve;const{el:Ce,props:Ee}=B,{bm:Oe,m:at,parent:rt,root:hr,type:Jt}=D,Zt=Hs(B);if(fi(D,!1),Oe&&Co(Oe),!Zt&&(ve=Ee&&Ee.onVnodeBeforeMount)&&Ur(ve,rt,B),fi(D,!0),Ce&&re){const fr=()=>{D.subTree=Kc(D),re(Ce,D.subTree,D,J,null)};Zt&&Jt.__asyncHydrate?Jt.__asyncHydrate(Ce,D,fr):fr()}else{hr.ce&&hr.ce._injectChildStyle(Jt);const fr=D.subTree=Kc(D);k(null,fr,Y,ie,D,J,ne),B.el=fr.el}if(at&&Kt(at,J),!Zt&&(ve=Ee&&Ee.onVnodeMounted)){const fr=B;Kt(()=>Ur(ve,rt,fr),J)}(B.shapeFlag&256||rt&&Hs(rt.vnode)&&rt.vnode.shapeFlag&256)&&D.a&&Kt(D.a,J),D.isMounted=!0,B=Y=ie=null}};D.scope.on();const me=D.effect=new cl(he);D.scope.off();const ue=D.update=me.run.bind(me),Ne=D.job=me.runIfDirty.bind(me);Ne.i=D,Ne.id=D.uid,me.scheduler=()=>Fp(Ne),fi(D,!0),ue()},U=(D,B,Y)=>{B.component=D;const ie=D.vnode.props;D.vnode=B,D.next=null,aA(D,B.props,ie,Y),dA(D,B.children,Y),ni(),C0(D),si()},ee=(D,B,Y,ie,J,ne,pe,he,me=!1)=>{const ue=D&&D.children,Ne=D?D.shapeFlag:0,ve=B.children,{patchFlag:Ce,shapeFlag:Ee}=B;if(Ce>0){if(Ce&128){we(ue,ve,Y,ie,J,ne,pe,he,me);return}else if(Ce&256){oe(ue,ve,Y,ie,J,ne,pe,he,me);return}}Ee&8?(Ne&16&&ft(ue,J,ne),ve!==ue&&h(Y,ve)):Ne&16?Ee&16?we(ue,ve,Y,ie,J,ne,pe,he,me):ft(ue,J,ne,!0):(Ne&8&&h(Y,""),Ee&16&&v(ve,Y,ie,J,ne,pe,he,me))},oe=(D,B,Y,ie,J,ne,pe,he,me)=>{D=D||To,B=B||To;const ue=D.length,Ne=B.length,ve=Math.min(ue,Ne);let Ce;for(Ce=0;Ce<ve;Ce++){const Ee=B[Ce]=me?$s(B[Ce]):jr(B[Ce]);k(D[Ce],Ee,Y,null,J,ne,pe,he,me)}ue>Ne?ft(D,J,ne,!0,!1,ve):v(B,Y,ie,J,ne,pe,he,me,ve)},we=(D,B,Y,ie,J,ne,pe,he,me)=>{let ue=0;const Ne=B.length;let ve=D.length-1,Ce=Ne-1;for(;ue<=ve&&ue<=Ce;){const Ee=D[ue],Oe=B[ue]=me?$s(B[ue]):jr(B[ue]);if(En(Ee,Oe))k(Ee,Oe,Y,null,J,ne,pe,he,me);else break;ue++}for(;ue<=ve&&ue<=Ce;){const Ee=D[ve],Oe=B[Ce]=me?$s(B[Ce]):jr(B[Ce]);if(En(Ee,Oe))k(Ee,Oe,Y,null,J,ne,pe,he,me);else break;ve--,Ce--}if(ue>ve){if(ue<=Ce){const Ee=Ce+1,Oe=Ee<Ne?B[Ee].el:ie;for(;ue<=Ce;)k(null,B[ue]=me?$s(B[ue]):jr(B[ue]),Y,Oe,J,ne,pe,he,me),ue++}}else if(ue>Ce)for(;ue<=ve;)Se(D[ue],J,ne,!0),ue++;else{const Ee=ue,Oe=ue,at=new Map;for(ue=Oe;ue<=Ce;ue++){const Pr=B[ue]=me?$s(B[ue]):jr(B[ue]);Pr.key!=null&&at.set(Pr.key,ue)}let rt,hr=0;const Jt=Ce-Oe+1;let Zt=!1,fr=0;const bs=new Array(Jt);for(ue=0;ue<Jt;ue++)bs[ue]=0;for(ue=Ee;ue<=ve;ue++){const Pr=D[ue];if(hr>=Jt){Se(Pr,J,ne,!0);continue}let an;if(Pr.key!=null)an=at.get(Pr.key);else for(rt=Oe;rt<=Ce;rt++)if(bs[rt-Oe]===0&&En(Pr,B[rt])){an=rt;break}an===void 0?Se(Pr,J,ne,!0):(bs[an-Oe]=ue+1,an>=fr?fr=an:Zt=!0,k(Pr,B[an],Y,null,J,ne,pe,he,me),hr++)}const no=Zt?hA(bs):To;for(rt=no.length-1,ue=Jt-1;ue>=0;ue--){const Pr=Oe+ue,an=B[Pr],so=Pr+1<Ne?B[Pr+1].el:ie;bs[ue]===0?k(null,an,Y,so,J,ne,pe,he,me):Zt&&(rt<0||ue!==no[rt]?ye(an,Y,so,2):rt--)}}},ye=(D,B,Y,ie,J=null)=>{const{el:ne,type:pe,transition:he,children:me,shapeFlag:ue}=D;if(ue&6){ye(D.component.subTree,B,Y,ie);return}if(ue&128){D.suspense.move(B,Y,ie);return}if(ue&64){pe.move(D,B,Y,L);return}if(pe===ke){n(ne,B,Y);for(let ve=0;ve<me.length;ve++)ye(me[ve],B,Y,ie);n(D.anchor,B,Y);return}if(pe===Si){E(D,B,Y);return}if(ie!==2&&ue&1&&he)if(ie===0)he.beforeEnter(ne),n(ne,B,Y),Kt(()=>he.enter(ne),J);else{const{leave:ve,delayLeave:Ce,afterLeave:Ee}=he,Oe=()=>n(ne,B,Y),at=()=>{ve(ne,()=>{Oe(),Ee&&Ee()})};Ce?Ce(ne,Oe,at):at()}else n(ne,B,Y)},Se=(D,B,Y,ie=!1,J=!1)=>{const{type:ne,props:pe,ref:he,children:me,dynamicChildren:ue,shapeFlag:Ne,patchFlag:ve,dirs:Ce,cacheIndex:Ee}=D;if(ve===-2&&(J=!1),he!=null&&ml(he,null,Y,D,!0),Ee!=null&&(B.renderCache[Ee]=void 0),Ne&256){B.ctx.deactivate(D);return}const Oe=Ne&1&&Ce,at=!Hs(D);let rt;if(at&&(rt=pe&&pe.onVnodeBeforeUnmount)&&Ur(rt,B,D),Ne&6)Et(D.component,Y,ie);else{if(Ne&128){D.suspense.unmount(Y,ie);return}Oe&&Mn(D,null,B,"beforeUnmount"),Ne&64?D.type.remove(D,B,Y,L,ie):ue&&!ue.hasOnce&&(ne!==ke||ve>0&&ve&64)?ft(ue,B,Y,!1,!0):(ne===ke&&ve&384||!J&&Ne&16)&&ft(me,B,Y),ie&&Le(D)}(at&&(rt=pe&&pe.onVnodeUnmounted)||Oe)&&Kt(()=>{rt&&Ur(rt,B,D),Oe&&Mn(D,null,B,"unmounted")},Y)},Le=D=>{const{type:B,el:Y,anchor:ie,transition:J}=D;if(B===ke){ot(Y,ie);return}if(B===Si){R(D);return}const ne=()=>{s(Y),J&&!J.persisted&&J.afterLeave&&J.afterLeave()};if(D.shapeFlag&1&&J&&!J.persisted){const{leave:pe,delayLeave:he}=J,me=()=>pe(Y,ne);he?he(D.el,ne,me):me()}else ne()},ot=(D,B)=>{let Y;for(;D!==B;)Y=p(D),s(D),D=Y;s(B)},Et=(D,B,Y)=>{const{bum:ie,scope:J,job:ne,subTree:pe,um:he,m:me,a:ue}=D;vu(me),vu(ue),ie&&Co(ie),J.stop(),ne&&(ne.flags|=8,Se(pe,D,B,Y)),he&&Kt(he,B),Kt(()=>{D.isUnmounted=!0},B),B&&B.pendingBranch&&!B.isUnmounted&&D.asyncDep&&!D.asyncResolved&&D.suspenseId===B.pendingId&&(B.deps--,B.deps===0&&B.resolve())},ft=(D,B,Y,ie=!1,J=!1,ne=0)=>{for(let pe=ne;pe<D.length;pe++)Se(D[pe],B,Y,ie,J)},W=D=>{if(D.shapeFlag&6)return W(D.component.subTree);if(D.shapeFlag&128)return D.suspense.next();const B=p(D.anchor||D.el),Y=B&&B[R1];return Y?p(Y):B};let V=!1;const F=(D,B,Y)=>{D==null?B._vnode&&Se(B._vnode,null,null,!0):k(B._vnode||null,D,B,null,null,null,Y),B._vnode=D,V||(V=!0,C0(),mu(),V=!1)},L={p:k,um:Se,m:ye,r:Le,mt:le,mc:v,pc:ee,pbc:w,n:W,o:t};let be,re;return e&&([be,re]=e(L)),{render:F,hydrate:be,createApp:iA(F,be)}}function Oh({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function fi({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function dx(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Yp(t,e,r=!1){const n=t.children,s=e.children;if(xe(n)&&xe(s))for(let i=0;i<n.length;i++){const o=n[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=$s(s[i]),a.el=o.el),!r&&a.patchFlag!==-2&&Yp(o,a)),a.type===zs&&(a.el=o.el)}}function hA(t){const e=t.slice(),r=[0];let n,s,i,o,a;const l=t.length;for(n=0;n<l;n++){const d=t[n];if(d!==0){if(s=r[r.length-1],t[s]<d){e[n]=s,r.push(n);continue}for(i=0,o=r.length-1;i<o;)a=i+o>>1,t[r[a]]<d?i=a+1:o=a;d<t[r[i]]&&(i>0&&(e[n]=r[i-1]),r[i]=n)}}for(i=r.length,o=r[i-1];i-- >0;)r[i]=o,o=e[o];return r}function hx(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:hx(e)}function vu(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const fx=Symbol.for("v-scx"),px=()=>it(fx);function lr(t,e){return Ul(t,null,e)}function fA(t,e){return Ul(t,null,{flush:"post"})}function mx(t,e){return Ul(t,null,{flush:"sync"})}function Rt(t,e,r){return Ul(t,e,r)}function Ul(t,e,r=Ke){const{immediate:n,deep:s,flush:i,once:o}=r,a=Qe({},r),l=e&&n||!e&&i!=="post";let d;if(Vo){if(i==="sync"){const y=px();d=y.__watcherHandles||(y.__watcherHandles=[])}else if(!l){const y=()=>{};return y.stop=sr,y.resume=sr,y.pause=sr,y}}const h=Qt;a.call=(y,b,k)=>yn(y,h,b,k);let f=!1;i==="post"?a.scheduler=y=>{Kt(y,h&&h.suspense)}:i!=="sync"&&(f=!0,a.scheduler=(y,b)=>{b?y():Fp(y)}),a.augmentJob=y=>{e&&(y.flags|=4),f&&(y.flags|=2,h&&(y.id=h.uid,y.i=h))};const p=iT(t,e,a);return Vo&&(d?d.push(p):l&&p()),p}function pA(t,e,r){const n=this.proxy,s=Ue(t)?t.includes(".")?gx(n,t):()=>n[t]:t.bind(n,n);let i;De(e)?i=e:(i=e.handler,r=e);const o=Di(this),a=Ul(s,i.bind(n),r);return o(),a}function gx(t,e){const r=e.split(".");return()=>{let n=t;for(let s=0;s<r.length&&n;s++)n=n[r[s]];return n}}function mA(t,e,r=Ke){const n=sn(),s=kt(e),i=Br(e),o=yx(t,s),a=_1((l,d)=>{let h,f=Ke,p;return mx(()=>{const y=t[s];Dr(h,y)&&(h=y,d())}),{get(){return l(),r.get?r.get(h):h},set(y){const b=r.set?r.set(y):y;if(!Dr(b,h)&&!(f!==Ke&&Dr(y,f)))return;const k=n.vnode.props;k&&(e in k||s in k||i in k)&&(`onUpdate:${e}`in k||`onUpdate:${s}`in k||`onUpdate:${i}`in k)||(h=y,d()),n.emit(`update:${e}`,b),Dr(y,b)&&Dr(y,f)&&!Dr(b,p)&&d(),f=y,p=b}}});return a[Symbol.iterator]=()=>{let l=0;return{next(){return l<2?{value:l++?o||Ke:a,done:!1}:{done:!0}}}},a}const yx=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${kt(e)}Modifiers`]||t[`${Br(e)}Modifiers`];function gA(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||Ke;let s=r;const i=e.startsWith("update:"),o=i&&yx(n,e.slice(7));o&&(o.trim&&(s=r.map(h=>Ue(h)?h.trim():h)),o.number&&(s=r.map(uu)));let a,l=n[a=So(e)]||n[a=So(kt(e))];!l&&i&&(l=n[a=So(Br(e))]),l&&yn(l,t,6,s);const d=n[a+"Once"];if(d){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,yn(d,t,6,s)}}function vx(t,e,r=!1){const n=e.emitsCache,s=n.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!De(t)){const l=d=>{const h=vx(d,e,!0);h&&(a=!0,Qe(o,h))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(ht(t)&&n.set(t,null),null):(xe(i)?i.forEach(l=>o[l]=null):Qe(o,i),ht(t)&&n.set(t,o),o)}function yd(t,e){return!t||!Wi(e)?!1:(e=e.slice(2).replace(/Once$/,""),lt(t,e[0].toLowerCase()+e.slice(1))||lt(t,Br(e))||lt(t,e))}function Kc(t){const{type:e,vnode:r,proxy:n,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:l,render:d,renderCache:h,props:f,data:p,setupState:y,ctx:b,inheritAttrs:k}=t,_=pl(t);let T,P;try{if(r.shapeFlag&4){const R=s||n,A=R;T=jr(d.call(A,R,h,f,y,p,b)),P=a}else{const R=e;T=jr(R.length>1?R(f,{attrs:a,slots:o,emit:l}):R(f,null)),P=e.props?a:vA(a)}}catch(R){Ja.length=0,Qi(R,t,1),T=z(Bt)}let E=T;if(P&&k!==!1){const R=Object.keys(P),{shapeFlag:A}=E;R.length&&A&7&&(i&&R.some(Tp)&&(P=bA(P,i)),E=Cn(E,P,!1,!0))}return r.dirs&&(E=Cn(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(r.dirs):r.dirs),r.transition&&as(E,r.transition),T=E,pl(_),T}function yA(t,e=!0){let r;for(let n=0;n<t.length;n++){const s=t[n];if(ls(s)){if(s.type!==Bt||s.children==="v-if"){if(r)return;r=s}}else return}return r}const vA=t=>{let e;for(const r in t)(r==="class"||r==="style"||Wi(r))&&((e||(e={}))[r]=t[r]);return e},bA=(t,e)=>{const r={};for(const n in t)(!Tp(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function xA(t,e,r){const{props:n,children:s,component:i}=t,{props:o,children:a,patchFlag:l}=e,d=i.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&l>=0){if(l&1024)return!0;if(l&16)return n?j0(n,o,d):!!o;if(l&8){const h=e.dynamicProps;for(let f=0;f<h.length;f++){const p=h[f];if(o[p]!==n[p]&&!yd(d,p))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?j0(n,o,d):!0:!!o;return!1}function j0(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let s=0;s<n.length;s++){const i=n[s];if(e[i]!==t[i]&&!yd(r,i))return!0}return!1}function vd({vnode:t,parent:e},r){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=r,e=e.parent;else break}}const bu=t=>t.__isSuspense;let wf=0;const _A={name:"Suspense",__isSuspense:!0,process(t,e,r,n,s,i,o,a,l,d){if(t==null)kA(e,r,n,s,i,o,a,l,d);else{if(i&&i.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}EA(t,e,r,n,s,o,a,l,d)}},hydrate:IA,normalize:TA},wA=_A;function yl(t,e){const r=t.props&&t.props[e];De(r)&&r()}function kA(t,e,r,n,s,i,o,a,l){const{p:d,o:{createElement:h}}=l,f=h("div"),p=t.suspense=bx(t,s,n,e,f,r,i,o,a,l);d(null,p.pendingBranch=t.ssContent,f,null,n,p,i,o),p.deps>0?(yl(t,"onPending"),yl(t,"onFallback"),d(null,t.ssFallback,e,r,n,null,i,o),Ro(p,t.ssFallback)):p.resolve(!1,!0)}function EA(t,e,r,n,s,i,o,a,{p:l,um:d,o:{createElement:h}}){const f=e.suspense=t.suspense;f.vnode=e,e.el=t.el;const p=e.ssContent,y=e.ssFallback,{activeBranch:b,pendingBranch:k,isInFallback:_,isHydrating:T}=f;if(k)f.pendingBranch=p,En(p,k)?(l(k,p,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0?f.resolve():_&&(T||(l(b,y,r,n,s,null,i,o,a),Ro(f,y)))):(f.pendingId=wf++,T?(f.isHydrating=!1,f.activeBranch=k):d(k,s,f),f.deps=0,f.effects.length=0,f.hiddenContainer=h("div"),_?(l(null,p,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0?f.resolve():(l(b,y,r,n,s,null,i,o,a),Ro(f,y))):b&&En(p,b)?(l(b,p,r,n,s,f,i,o,a),f.resolve(!0)):(l(null,p,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0&&f.resolve()));else if(b&&En(p,b))l(b,p,r,n,s,f,i,o,a),Ro(f,p);else if(yl(e,"onPending"),f.pendingBranch=p,p.shapeFlag&512?f.pendingId=p.component.suspenseId:f.pendingId=wf++,l(null,p,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0)f.resolve();else{const{timeout:P,pendingId:E}=f;P>0?setTimeout(()=>{f.pendingId===E&&f.fallback(y)},P):P===0&&f.fallback(y)}}function bx(t,e,r,n,s,i,o,a,l,d,h=!1){const{p:f,m:p,um:y,n:b,o:{parentNode:k,remove:_}}=d;let T;const P=AA(t);P&&e&&e.pendingBranch&&(T=e.pendingId,e.deps++);const E=t.props?du(t.props.timeout):void 0,R=i,A={vnode:t,parent:e,parentComponent:r,namespace:o,container:n,hiddenContainer:s,deps:0,pendingId:wf++,timeout:typeof E=="number"?E:-1,activeBranch:null,pendingBranch:null,isInFallback:!h,isHydrating:h,isUnmounted:!1,effects:[],resolve(M=!1,I=!1){const{vnode:v,activeBranch:m,pendingBranch:w,pendingId:N,effects:S,parentComponent:C,container:le}=A;let ce=!1;A.isHydrating?A.isHydrating=!1:M||(ce=m&&w.transition&&w.transition.mode==="out-in",ce&&(m.transition.afterLeave=()=>{N===A.pendingId&&(p(w,le,i===R?b(m):i,0),hl(S))}),m&&(k(m.el)===le&&(i=b(m)),y(m,C,A,!0)),ce||p(w,le,i,0)),Ro(A,w),A.pendingBranch=null,A.isInFallback=!1;let G=A.parent,U=!1;for(;G;){if(G.pendingBranch){G.effects.push(...S),U=!0;break}G=G.parent}!U&&!ce&&hl(S),A.effects=[],P&&e&&e.pendingBranch&&T===e.pendingId&&(e.deps--,e.deps===0&&!I&&e.resolve()),yl(v,"onResolve")},fallback(M){if(!A.pendingBranch)return;const{vnode:I,activeBranch:v,parentComponent:m,container:w,namespace:N}=A;yl(I,"onFallback");const S=b(v),C=()=>{A.isInFallback&&(f(null,M,w,S,m,null,N,a,l),Ro(A,M))},le=M.transition&&M.transition.mode==="out-in";le&&(v.transition.afterLeave=C),A.isInFallback=!0,y(v,m,null,!0),le||C()},move(M,I,v){A.activeBranch&&p(A.activeBranch,M,I,v),A.container=M},next(){return A.activeBranch&&b(A.activeBranch)},registerDep(M,I,v){const m=!!A.pendingBranch;m&&A.deps++;const w=M.vnode.el;M.asyncDep.catch(N=>{Qi(N,M,0)}).then(N=>{if(M.isUnmounted||A.isUnmounted||A.pendingId!==M.suspenseId)return;M.asyncResolved=!0;const{vnode:S}=M;Tf(M,N,!1),w&&(S.el=w);const C=!w&&M.subTree.el;I(M,S,k(w||M.subTree.el),w?null:b(M.subTree),A,o,v),C&&_(C),vd(M,S.el),m&&--A.deps===0&&A.resolve()})},unmount(M,I){A.isUnmounted=!0,A.activeBranch&&y(A.activeBranch,r,M,I),A.pendingBranch&&y(A.pendingBranch,r,M,I)}};return A}function IA(t,e,r,n,s,i,o,a,l){const d=e.suspense=bx(e,n,r,t.parentNode,document.createElement("div"),null,s,i,o,a,!0),h=l(t,d.pendingBranch=e.ssContent,r,d,i,o);return d.deps===0&&d.resolve(!1,!0),h}function TA(t){const{shapeFlag:e,children:r}=t,n=e&32;t.ssContent=B0(n?r.default:r),t.ssFallback=n?B0(r.fallback):z(Bt)}function B0(t){let e;if(De(t)){const r=Oi&&t._c;r&&(t._d=!1,O()),t=t(),r&&(t._d=!0,e=Ir,_x())}return xe(t)&&(t=yA(t)),t=jr(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(r=>r!==t)),t}function xx(t,e){e&&e.pendingBranch?xe(t)?e.effects.push(...t):e.effects.push(t):hl(t)}function Ro(t,e){t.activeBranch=e;const{vnode:r,parentComponent:n}=t;let s=e.el;for(;!s&&e.component;)e=e.component.subTree,s=e.el;r.el=s,n&&n.subTree===r&&(n.vnode.el=s,vd(n,s))}function AA(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const ke=Symbol.for("v-fgt"),zs=Symbol.for("v-txt"),Bt=Symbol.for("v-cmt"),Si=Symbol.for("v-stc"),Ja=[];let Ir=null;function O(t=!1){Ja.push(Ir=t?null:[])}function _x(){Ja.pop(),Ir=Ja[Ja.length-1]||null}let Oi=1;function kf(t,e=!1){Oi+=t,t<0&&Ir&&e&&(Ir.hasOnce=!0)}function wx(t){return t.dynamicChildren=Oi>0?Ir||To:null,_x(),Oi>0&&Ir&&Ir.push(t),t}function j(t,e,r,n,s,i){return wx(c(t,e,r,n,s,i,!0))}function mt(t,e,r,n,s){return wx(z(t,e,r,n,s,!0))}function ls(t){return t?t.__v_isVNode===!0:!1}function En(t,e){return t.type===e.type&&t.key===e.key}function SA(t){}const kx=({key:t})=>t??null,Gc=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?Ue(t)||Ct(t)||De(t)?{i:Yt,r:t,k:e,f:!!r}:t:null);function c(t,e=null,r=null,n=0,s=null,i=t===ke?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&kx(e),ref:e&&Gc(e),scopeId:hd,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Yt};return a?(Jp(l,r),i&128&&t.normalize(l)):r&&(l.shapeFlag|=Ue(r)?8:16),Oi>0&&!o&&Ir&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&Ir.push(l),l}const z=CA;function CA(t,e=null,r=null,n=0,s=null,i=!1){if((!t||t===G1)&&(t=Bt),ls(t)){const a=Cn(t,e,!0);return r&&Jp(a,r),Oi>0&&!i&&Ir&&(a.shapeFlag&6?Ir[Ir.indexOf(t)]=a:Ir.push(a)),a.patchFlag=-2,a}if(DA(t)&&(t=t.__vccOpts),e){e=Ex(e);let{class:a,style:l}=e;a&&!Ue(a)&&(e.class=$e(a)),ht(l)&&(cd(l)&&!xe(l)&&(l=Qe({},l)),e.style=St(l))}const o=Ue(t)?1:bu(t)?128:N1(t)?64:ht(t)?4:De(t)?2:0;return c(t,e,r,n,s,o,i,!0)}function Ex(t){return t?cd(t)||tx(t)?Qe({},t):t:null}function Cn(t,e,r=!1,n=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:l}=t,d=e?Ix(s||{},e):s,h={__v_isVNode:!0,__v_skip:!0,type:t.type,props:d,key:d&&kx(d),ref:e&&e.ref?r&&i?xe(i)?i.concat(Gc(e)):[i,Gc(e)]:Gc(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==ke?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:l,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Cn(t.ssContent),ssFallback:t.ssFallback&&Cn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return l&&n&&as(h,l.clone(h)),h}function de(t=" ",e=0){return z(zs,null,t,e)}function Tt(t,e){const r=z(Si,null,t);return r.staticCount=e,r}function fe(t="",e=!1){return e?(O(),mt(Bt,null,t)):z(Bt,null,t)}function jr(t){return t==null||typeof t=="boolean"?z(Bt):xe(t)?z(ke,null,t.slice()):ls(t)?$s(t):z(zs,null,String(t))}function $s(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Cn(t)}function Jp(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(xe(e))r=16;else if(typeof e=="object")if(n&65){const s=e.default;s&&(s._c&&(s._d=!1),Jp(t,s()),s._c&&(s._d=!0));return}else{r=32;const s=e._;!s&&!tx(e)?e._ctx=Yt:s===3&&Yt&&(Yt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else De(e)?(e={default:e,_ctx:Yt},r=32):(e=String(e),n&64?(r=16,e=[de(e)]):r=8);t.children=e,t.shapeFlag|=r}function Ix(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const s in n)if(s==="class")e.class!==n.class&&(e.class=$e([e.class,n.class]));else if(s==="style")e.style=St([e.style,n.style]);else if(Wi(s)){const i=e[s],o=n[s];o&&i!==o&&!(xe(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=n[s])}return e}function Ur(t,e,r,n=null){yn(t,e,7,[r,n])}const PA=J1();let RA=0;function Tx(t,e,r){const n=t.type,s=(e?e.appContext:t.appContext)||PA,i={uid:RA++,vnode:t,type:n,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Pp(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:nx(n,s),emitsOptions:vx(n,s),emit:null,emitted:null,propsDefaults:Ke,inheritAttrs:n.inheritAttrs,ctx:Ke,data:Ke,props:Ke,attrs:Ke,slots:Ke,refs:Ke,setupState:Ke,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=gA.bind(null,i),t.ce&&t.ce(i),i}let Qt=null;const sn=()=>Qt||Yt;let xu,Ef;{const t=nd(),e=(r,n)=>{let s;return(s=t[r])||(s=t[r]=[]),s.push(n),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};xu=e("__VUE_INSTANCE_SETTERS__",r=>Qt=r),Ef=e("__VUE_SSR_SETTERS__",r=>Vo=r)}const Di=t=>{const e=Qt;return xu(t),t.scope.on(),()=>{t.scope.off(),xu(e)}},If=()=>{Qt&&Qt.scope.off(),xu(null)};function Ax(t){return t.vnode.shapeFlag&4}let Vo=!1;function Sx(t,e=!1,r=!1){e&&Ef(e);const{props:n,children:s}=t.vnode,i=Ax(t);oA(t,n,i,e),uA(t,s,r);const o=i?NA(t,e):void 0;return e&&Ef(!1),o}function NA(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,vf);const{setup:n}=r;if(n){ni();const s=t.setupContext=n.length>1?Rx(t):null,i=Di(t),o=na(n,t,0,[t.props,s]),a=Sp(o);if(si(),i(),(a||t.sp)&&!Hs(t)&&qp(t),a){if(o.then(If,If),e)return o.then(l=>{Tf(t,l,e)}).catch(l=>{Qi(l,t,0)});t.asyncDep=o}else Tf(t,o,e)}else Px(t,e)}function Tf(t,e,r){De(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:ht(e)&&(t.setupState=Lp(e)),Px(t,r)}let _u,Af;function Cx(t){_u=t,Af=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,FT))}}const $A=()=>!_u;function Px(t,e,r){const n=t.type;if(!t.render){if(!e&&_u&&!n.render){const s=n.template||Gp(t).template;if(s){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=n,d=Qe(Qe({isCustomElement:i,delimiters:a},o),l);n.render=_u(s,d)}}t.render=n.render||sr,Af&&Af(t)}{const s=Di(t);ni();try{ZT(t)}finally{si(),s()}}}const OA={get(t,e){return wr(t,"get",""),t[e]}};function Rx(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,OA),slots:t.slots,emit:t.emit,expose:e}}function jl(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Lp(ud(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Ya)return Ya[r](t)},has(e,r){return r in e||r in Ya}})):t.proxy}function Sf(t,e=!0){return De(t)?t.displayName||t.name:t.name||e&&t.__name}function DA(t){return De(t)&&"__vccOpts"in t}const te=(t,e)=>tT(t,e,Vo);function yt(t,e,r){const n=arguments.length;return n===2?ht(e)&&!xe(e)?ls(e)?z(t,null,[e]):z(t,e):z(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&ls(r)&&(r=[r]),z(t,e,r))}function MA(){}function VA(t,e,r,n){const s=r[n];if(s&&Nx(s,t))return s;const i=e();return i.memo=t.slice(),i.cacheIndex=n,r[n]=i}function Nx(t,e){const r=t.memo;if(r.length!=e.length)return!1;for(let n=0;n<r.length;n++)if(Dr(r[n],e[n]))return!1;return Oi>0&&Ir&&Ir.push(t),!0}const $x="3.5.13",LA=sr,FA=uT,UA=go,jA=P1,BA={createComponentInstance:Tx,setupComponent:Sx,renderComponentRoot:Kc,setCurrentRenderingInstance:pl,isVNode:ls,normalizeVNode:jr,getComponentPublicInstance:jl,ensureValidVNode:Kp,pushWarningContext:oT,popWarningContext:aT},qA=BA,HA=null,zA=null,WA=null;/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Cf;const q0=typeof window<"u"&&window.trustedTypes;if(q0)try{Cf=q0.createPolicy("vue",{createHTML:t=>t})}catch{}const Ox=Cf?t=>Cf.createHTML(t):t=>t,KA="http://www.w3.org/2000/svg",GA="http://www.w3.org/1998/Math/MathML",Yn=typeof document<"u"?document:null,H0=Yn&&Yn.createElement("template"),QA={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const s=e==="svg"?Yn.createElementNS(KA,t):e==="mathml"?Yn.createElementNS(GA,t):r?Yn.createElement(t,{is:r}):Yn.createElement(t);return t==="select"&&n&&n.multiple!=null&&s.setAttribute("multiple",n.multiple),s},createText:t=>Yn.createTextNode(t),createComment:t=>Yn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Yn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,s,i){const o=r?r.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),r),!(s===i||!(s=s.nextSibling)););else{H0.innerHTML=Ox(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const a=H0.content;if(n==="svg"||n==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},ks="transition",Ea="animation",Lo=Symbol("_vtc"),Dx={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Mx=Qe({},Bp,Dx),YA=t=>(t.displayName="Transition",t.props=Mx,t),Us=YA((t,{slots:e})=>yt(V1,Vx(t),e)),pi=(t,e=[])=>{xe(t)?t.forEach(r=>r(...e)):t&&t(...e)},z0=t=>t?xe(t)?t.some(e=>e.length>1):t.length>1:!1;function Vx(t){const e={};for(const S in t)S in Dx||(e[S]=t[S]);if(t.css===!1)return e;const{name:r="v",type:n,duration:s,enterFromClass:i=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:l=i,appearActiveClass:d=o,appearToClass:h=a,leaveFromClass:f=`${r}-leave-from`,leaveActiveClass:p=`${r}-leave-active`,leaveToClass:y=`${r}-leave-to`}=t,b=JA(s),k=b&&b[0],_=b&&b[1],{onBeforeEnter:T,onEnter:P,onEnterCancelled:E,onLeave:R,onLeaveCancelled:A,onBeforeAppear:M=T,onAppear:I=P,onAppearCancelled:v=E}=e,m=(S,C,le,ce)=>{S._enterCancelled=ce,Ss(S,C?h:a),Ss(S,C?d:o),le&&le()},w=(S,C)=>{S._isLeaving=!1,Ss(S,f),Ss(S,y),Ss(S,p),C&&C()},N=S=>(C,le)=>{const ce=S?I:P,G=()=>m(C,S,le);pi(ce,[C,G]),W0(()=>{Ss(C,S?l:i),On(C,S?h:a),z0(ce)||K0(C,n,k,G)})};return Qe(e,{onBeforeEnter(S){pi(T,[S]),On(S,i),On(S,o)},onBeforeAppear(S){pi(M,[S]),On(S,l),On(S,d)},onEnter:N(!1),onAppear:N(!0),onLeave(S,C){S._isLeaving=!0;const le=()=>w(S,C);On(S,f),S._enterCancelled?(On(S,p),Pf()):(Pf(),On(S,p)),W0(()=>{S._isLeaving&&(Ss(S,f),On(S,y),z0(R)||K0(S,n,_,le))}),pi(R,[S,le])},onEnterCancelled(S){m(S,!1,void 0,!0),pi(E,[S])},onAppearCancelled(S){m(S,!0,void 0,!0),pi(v,[S])},onLeaveCancelled(S){w(S),pi(A,[S])}})}function JA(t){if(t==null)return null;if(ht(t))return[Dh(t.enter),Dh(t.leave)];{const e=Dh(t);return[e,e]}}function Dh(t){return du(t)}function On(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[Lo]||(t[Lo]=new Set)).add(e)}function Ss(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const r=t[Lo];r&&(r.delete(e),r.size||(t[Lo]=void 0))}function W0(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let XA=0;function K0(t,e,r,n){const s=t._endId=++XA,i=()=>{s===t._endId&&n()};if(r!=null)return setTimeout(i,r);const{type:o,timeout:a,propCount:l}=Lx(t,e);if(!o)return n();const d=o+"end";let h=0;const f=()=>{t.removeEventListener(d,p),i()},p=y=>{y.target===t&&++h>=l&&f()};setTimeout(()=>{h<l&&f()},a+1),t.addEventListener(d,p)}function Lx(t,e){const r=window.getComputedStyle(t),n=b=>(r[b]||"").split(", "),s=n(`${ks}Delay`),i=n(`${ks}Duration`),o=G0(s,i),a=n(`${Ea}Delay`),l=n(`${Ea}Duration`),d=G0(a,l);let h=null,f=0,p=0;e===ks?o>0&&(h=ks,f=o,p=i.length):e===Ea?d>0&&(h=Ea,f=d,p=l.length):(f=Math.max(o,d),h=f>0?o>d?ks:Ea:null,p=h?h===ks?i.length:l.length:0);const y=h===ks&&/\b(transform|all)(,|$)/.test(n(`${ks}Property`).toString());return{type:h,timeout:f,propCount:p,hasTransform:y}}function G0(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,n)=>Q0(r)+Q0(t[n])))}function Q0(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Pf(){return document.body.offsetHeight}function ZA(t,e,r){const n=t[Lo];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const wu=Symbol("_vod"),Fx=Symbol("_vsh"),Xp={beforeMount(t,{value:e},{transition:r}){t[wu]=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):Ia(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:n}){!e!=!r&&(n?e?(n.beforeEnter(t),Ia(t,!0),n.enter(t)):n.leave(t,()=>{Ia(t,!1)}):Ia(t,e))},beforeUnmount(t,{value:e}){Ia(t,e)}};function Ia(t,e){t.style.display=e?t[wu]:"none",t[Fx]=!e}function e4(){Xp.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const Ux=Symbol("");function t4(t){const e=sn();if(!e)return;const r=e.ut=(s=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(i=>ku(i,s))},n=()=>{const s=t(e.proxy);e.ce?ku(e.ce,s):Rf(e.subTree,s),r(s)};Hp(()=>{hl(n)}),je(()=>{Rt(n,sr,{flush:"post"});const s=new MutationObserver(n);s.observe(e.subTree.el.parentNode,{childList:!0}),Wt(()=>s.disconnect())})}function Rf(t,e){if(t.shapeFlag&128){const r=t.suspense;t=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{Rf(r.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)ku(t.el,e);else if(t.type===ke)t.children.forEach(r=>Rf(r,e));else if(t.type===Si){let{el:r,anchor:n}=t;for(;r&&(ku(r,e),r!==n);)r=r.nextSibling}}function ku(t,e){if(t.nodeType===1){const r=t.style;let n="";for(const s in e)r.setProperty(`--${s}`,e[s]),n+=`--${s}: ${e[s]};`;r[Ux]=n}}const r4=/(^|;)\s*display\s*:/;function n4(t,e,r){const n=t.style,s=Ue(r);let i=!1;if(r&&!s){if(e)if(Ue(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&Qc(n,a,"")}else for(const o in e)r[o]==null&&Qc(n,o,"");for(const o in r)o==="display"&&(i=!0),Qc(n,o,r[o])}else if(s){if(e!==r){const o=n[Ux];o&&(r+=";"+o),n.cssText=r,i=r4.test(r)}}else e&&t.removeAttribute("style");wu in t&&(t[wu]=i?n.display:"",t[Fx]&&(n.display="none"))}const Y0=/\s*!important$/;function Qc(t,e,r){if(xe(r))r.forEach(n=>Qc(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=s4(t,e);Y0.test(r)?t.setProperty(Br(n),r.replace(Y0,""),"important"):t[n]=r}}const J0=["Webkit","Moz","ms"],Mh={};function s4(t,e){const r=Mh[e];if(r)return r;let n=kt(e);if(n!=="filter"&&n in t)return Mh[e]=n;n=Gi(n);for(let s=0;s<J0.length;s++){const i=J0[s]+n;if(i in t)return Mh[e]=i}return e}const X0="http://www.w3.org/1999/xlink";function Z0(t,e,r,n,s,i=kI(e)){n&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(X0,e.slice(6,e.length)):t.setAttributeNS(X0,e,r):r==null||i&&!t1(r)?t.removeAttribute(e):t.setAttribute(e,i?"":Kr(r)?String(r):r)}function ey(t,e,r,n,s){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?Ox(r):r);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,l=r==null?t.type==="checkbox"?"on":"":String(r);(a!==l||!("_value"in t))&&(t.value=l),r==null&&t.removeAttribute(e),t._value=r;return}let o=!1;if(r===""||r==null){const a=typeof t[e];a==="boolean"?r=t1(r):r==null&&a==="string"?(r="",o=!0):a==="number"&&(r=0,o=!0)}try{t[e]=r}catch{}o&&t.removeAttribute(s||e)}function Zn(t,e,r,n){t.addEventListener(e,r,n)}function i4(t,e,r,n){t.removeEventListener(e,r,n)}const ty=Symbol("_vei");function o4(t,e,r,n,s=null){const i=t[ty]||(t[ty]={}),o=i[e];if(n&&o)o.value=n;else{const[a,l]=a4(e);if(n){const d=i[e]=u4(n,s);Zn(t,a,d,l)}else o&&(i4(t,a,o,l),i[e]=void 0)}}const ry=/(?:Once|Passive|Capture)$/;function a4(t){let e;if(ry.test(t)){e={};let n;for(;n=t.match(ry);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Br(t.slice(2)),e]}let Vh=0;const l4=Promise.resolve(),c4=()=>Vh||(l4.then(()=>Vh=0),Vh=Date.now());function u4(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;yn(d4(n,r.value),e,5,[n])};return r.value=t,r.attached=c4(),r}function d4(t,e){if(xe(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>s=>!s._stopped&&n&&n(s))}else return e}const ny=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,h4=(t,e,r,n,s,i)=>{const o=s==="svg";e==="class"?ZA(t,n,o):e==="style"?n4(t,r,n):Wi(e)?Tp(e)||o4(t,e,r,n,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):f4(t,e,n,o))?(ey(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&Z0(t,e,n,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Ue(n))?ey(t,kt(e),n,i,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),Z0(t,e,n,o))};function f4(t,e,r,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&ny(e)&&De(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return ny(e)&&Ue(r)?!1:e in t}const sy={};/*! #__NO_SIDE_EFFECTS__ */function jx(t,e,r){const n=Ze(t,e);td(n)&&Qe(n,e);class s extends bd{constructor(o){super(n,o,r)}}return s.def=n,s}/*! #__NO_SIDE_EFFECTS__ */const p4=(t,e)=>jx(t,e,Zx),m4=typeof HTMLElement<"u"?HTMLElement:class{};class bd extends m4{constructor(e,r={},n=Iu){super(),this._def=e,this._props=r,this._createApp=n,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&n!==Iu?this._root=this.shadowRoot:e.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof bd){this._parent=e;break}this._instance||(this._resolved?(this._setParent(),this._update()):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._instance.provides=e._instance.provides)}disconnectedCallback(){this._connected=!1,ir(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let n=0;n<this.attributes.length;n++)this._setAttr(this.attributes[n].name);this._ob=new MutationObserver(n=>{for(const s of n)this._setAttr(s.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(n,s=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:i,styles:o}=n;let a;if(i&&!xe(i))for(const l in i){const d=i[l];(d===Number||d&&d.type===Number)&&(l in this._props&&(this._props[l]=du(this._props[l])),(a||(a=Object.create(null)))[kt(l)]=!0)}this._numberProps=a,s&&this._resolveProps(n),this.shadowRoot&&this._applyStyles(o),this._mount(n)},r=this._def.__asyncLoader;r?this._pendingResolve=r().then(n=>e(this._def=n,!0)):e(this._def)}_mount(e){this._app=this._createApp(e),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const r=this._instance&&this._instance.exposed;if(r)for(const n in r)lt(this,n)||Object.defineProperty(this,n,{get:()=>q(r[n])})}_resolveProps(e){const{props:r}=e,n=xe(r)?r:Object.keys(r||{});for(const s of Object.keys(this))s[0]!=="_"&&n.includes(s)&&this._setProp(s,this[s]);for(const s of n.map(kt))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(i){this._setProp(s,i,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const r=this.hasAttribute(e);let n=r?this.getAttribute(e):sy;const s=kt(e);r&&this._numberProps&&this._numberProps[s]&&(n=du(n)),this._setProp(s,n,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,r,n=!0,s=!1){if(r!==this._props[e]&&(r===sy?delete this._props[e]:(this._props[e]=r,e==="key"&&this._app&&(this._app._ceVNode.key=r)),s&&this._instance&&this._update(),n)){const i=this._ob;i&&i.disconnect(),r===!0?this.setAttribute(Br(e),""):typeof r=="string"||typeof r=="number"?this.setAttribute(Br(e),r+""):r||this.removeAttribute(Br(e)),i&&i.observe(this,{attributes:!0})}}_update(){Xx(this._createVNode(),this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const r=z(this._def,Qe(e,this._props));return this._instance||(r.ce=n=>{this._instance=n,n.ce=this,n.isCE=!0;const s=(i,o)=>{this.dispatchEvent(new CustomEvent(i,td(o[0])?Qe({detail:o},o[0]):{detail:o}))};n.emit=(i,...o)=>{s(i,o),Br(i)!==i&&s(Br(i),o)},this._setParent()}),r}_applyStyles(e,r){if(!e)return;if(r){if(r===this._def||this._styleChildren.has(r))return;this._styleChildren.add(r)}const n=this._nonce;for(let s=e.length-1;s>=0;s--){const i=document.createElement("style");n&&i.setAttribute("nonce",n),i.textContent=e[s],this.shadowRoot.prepend(i)}}_parseSlots(){const e=this._slots={};let r;for(;r=this.firstChild;){const n=r.nodeType===1&&r.getAttribute("slot")||"default";(e[n]||(e[n]=[])).push(r),this.removeChild(r)}}_renderSlots(){const e=(this._teleportTarget||this).querySelectorAll("slot"),r=this._instance.type.__scopeId;for(let n=0;n<e.length;n++){const s=e[n],i=s.getAttribute("name")||"default",o=this._slots[i],a=s.parentNode;if(o)for(const l of o){if(r&&l.nodeType===1){const d=r+"-s",h=document.createTreeWalker(l,1);l.setAttribute(d,"");let f;for(;f=h.nextNode();)f.setAttribute(d,"")}a.insertBefore(l,s)}else for(;s.firstChild;)a.insertBefore(s.firstChild,s);a.removeChild(s)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){}}function Bx(t){const e=sn(),r=e&&e.ce;return r||null}function g4(){const t=Bx();return t&&t.shadowRoot}function y4(t="$style"){{const e=sn();if(!e)return Ke;const r=e.type.__cssModules;if(!r)return Ke;const n=r[t];return n||Ke}}const qx=new WeakMap,Hx=new WeakMap,Eu=Symbol("_moveCb"),iy=Symbol("_enterCb"),v4=t=>(delete t.props.mode,t),b4=v4({name:"TransitionGroup",props:Qe({},Mx,{tag:String,moveClass:String}),setup(t,{slots:e}){const r=sn(),n=jp();let s,i;return md(()=>{if(!s.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!k4(s[0].el,r.vnode.el,o))return;s.forEach(x4),s.forEach(_4);const a=s.filter(w4);Pf(),a.forEach(l=>{const d=l.el,h=d.style;On(d,o),h.transform=h.webkitTransform=h.transitionDuration="";const f=d[Eu]=p=>{p&&p.target!==d||(!p||/transform$/.test(p.propertyName))&&(d.removeEventListener("transitionend",f),d[Eu]=null,Ss(d,o))};d.addEventListener("transitionend",f)})}),()=>{const o=We(t),a=Vx(o);let l=o.tag||ke;if(s=[],i)for(let d=0;d<i.length;d++){const h=i[d];h.el&&h.el instanceof Element&&(s.push(h),as(h,Mo(h,a,n,r)),qx.set(h,h.el.getBoundingClientRect()))}i=e.default?fd(e.default()):[];for(let d=0;d<i.length;d++){const h=i[d];h.key!=null&&as(h,Mo(h,a,n,r))}return z(l,null,i)}}}),zx=b4;function x4(t){const e=t.el;e[Eu]&&e[Eu](),e[iy]&&e[iy]()}function _4(t){Hx.set(t,t.el.getBoundingClientRect())}function w4(t){const e=qx.get(t),r=Hx.get(t),n=e.left-r.left,s=e.top-r.top;if(n||s){const i=t.el.style;return i.transform=i.webkitTransform=`translate(${n}px,${s}px)`,i.transitionDuration="0s",t}}function k4(t,e,r){const n=t.cloneNode(),s=t[Lo];s&&s.forEach(a=>{a.split(/\s+/).forEach(l=>l&&n.classList.remove(l))}),r.split(/\s+/).forEach(a=>a&&n.classList.add(a)),n.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(n);const{hasTransform:o}=Lx(n);return i.removeChild(n),o}const Zs=t=>{const e=t.props["onUpdate:modelValue"]||!1;return xe(e)?r=>Co(e,r):e};function E4(t){t.target.composing=!0}function oy(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const pn=Symbol("_assign"),Pe={created(t,{modifiers:{lazy:e,trim:r,number:n}},s){t[pn]=Zs(s);const i=n||s.props&&s.props.type==="number";Zn(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;r&&(a=a.trim()),i&&(a=uu(a)),t[pn](a)}),r&&Zn(t,"change",()=>{t.value=t.value.trim()}),e||(Zn(t,"compositionstart",E4),Zn(t,"compositionend",oy),Zn(t,"change",oy))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:r,modifiers:{lazy:n,trim:s,number:i}},o){if(t[pn]=Zs(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?uu(t.value):t.value,l=e??"";a!==l&&(document.activeElement===t&&t.type!=="range"&&(n&&e===r||s&&t.value.trim()===l)||(t.value=l))}},Fo={deep:!0,created(t,e,r){t[pn]=Zs(r),Zn(t,"change",()=>{const n=t._modelValue,s=Uo(t),i=t.checked,o=t[pn];if(xe(n)){const a=sd(n,s),l=a!==-1;if(i&&!l)o(n.concat(s));else if(!i&&l){const d=[...n];d.splice(a,1),o(d)}}else if(Ki(n)){const a=new Set(n);i?a.add(s):a.delete(s),o(a)}else o(Wx(t,i))})},mounted:ay,beforeUpdate(t,e,r){t[pn]=Zs(r),ay(t,e,r)}};function ay(t,{value:e,oldValue:r},n){t._modelValue=e;let s;if(xe(e))s=sd(e,n.props.value)>-1;else if(Ki(e))s=e.has(n.props.value);else{if(e===r)return;s=Js(e,Wx(t,!0))}t.checked!==s&&(t.checked=s)}const Zp={created(t,{value:e},r){t.checked=Js(e,r.props.value),t[pn]=Zs(r),Zn(t,"change",()=>{t[pn](Uo(t))})},beforeUpdate(t,{value:e,oldValue:r},n){t[pn]=Zs(n),e!==r&&(t.checked=Js(e,n.props.value))}},ns={deep:!0,created(t,{value:e,modifiers:{number:r}},n){const s=Ki(e);Zn(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>r?uu(Uo(o)):Uo(o));t[pn](t.multiple?s?new Set(i):i:i[0]),t._assigning=!0,ir(()=>{t._assigning=!1})}),t[pn]=Zs(n)},mounted(t,{value:e}){ly(t,e)},beforeUpdate(t,e,r){t[pn]=Zs(r)},updated(t,{value:e}){t._assigning||ly(t,e)}};function ly(t,e){const r=t.multiple,n=xe(e);if(!(r&&!n&&!Ki(e))){for(let s=0,i=t.options.length;s<i;s++){const o=t.options[s],a=Uo(o);if(r)if(n){const l=typeof a;l==="string"||l==="number"?o.selected=e.some(d=>String(d)===String(a)):o.selected=sd(e,a)>-1}else o.selected=e.has(a);else if(Js(Uo(o),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Uo(t){return"_value"in t?t._value:t.value}function Wx(t,e){const r=e?"_trueValue":"_falseValue";return r in t?t[r]:e}const Kx={created(t,e,r){Rc(t,e,r,null,"created")},mounted(t,e,r){Rc(t,e,r,null,"mounted")},beforeUpdate(t,e,r,n){Rc(t,e,r,n,"beforeUpdate")},updated(t,e,r,n){Rc(t,e,r,n,"updated")}};function Gx(t,e){switch(t){case"SELECT":return ns;case"TEXTAREA":return Pe;default:switch(e){case"checkbox":return Fo;case"radio":return Zp;default:return Pe}}}function Rc(t,e,r,n,s){const o=Gx(t.tagName,r.props&&r.props.type)[s];o&&o(t,e,r,n)}function I4(){Pe.getSSRProps=({value:t})=>({value:t}),Zp.getSSRProps=({value:t},e)=>{if(e.props&&Js(e.props.value,t))return{checked:!0}},Fo.getSSRProps=({value:t},e)=>{if(xe(t)){if(e.props&&sd(t,e.props.value)>-1)return{checked:!0}}else if(Ki(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},Kx.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const r=Gx(e.type.toUpperCase(),e.props&&e.props.type);if(r.getSSRProps)return r.getSSRProps(t,e)}}const T4=["ctrl","shift","alt","meta"],A4={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>T4.some(r=>t[`${r}Key`]&&!e.includes(r))},Vr=(t,e)=>{const r=t._withMods||(t._withMods={}),n=e.join(".");return r[n]||(r[n]=(s,...i)=>{for(let o=0;o<e.length;o++){const a=A4[e[o]];if(a&&a(s,e))return}return t(s,...i)})},S4={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},C4=(t,e)=>{const r=t._withKeys||(t._withKeys={}),n=e.join(".");return r[n]||(r[n]=s=>{if(!("key"in s))return;const i=Br(s.key);if(e.some(o=>o===i||S4[o]===i))return t(s)})},Qx=Qe({patchProp:h4},QA);let Xa,cy=!1;function Yx(){return Xa||(Xa=lx(Qx))}function Jx(){return Xa=cy?Xa:cx(Qx),cy=!0,Xa}const Xx=(...t)=>{Yx().render(...t)},P4=(...t)=>{Jx().hydrate(...t)},Iu=(...t)=>{const e=Yx().createApp(...t),{mount:r}=e;return e.mount=n=>{const s=t_(n);if(!s)return;const i=e._component;!De(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=r(s,!1,e_(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e},Zx=(...t)=>{const e=Jx().createApp(...t),{mount:r}=e;return e.mount=n=>{const s=t_(n);if(s)return r(s,!0,e_(s))},e};function e_(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function t_(t){return Ue(t)?document.querySelector(t):t}let uy=!1;const R4=()=>{uy||(uy=!0,I4(),e4())},N4=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:V1,BaseTransitionPropsValidators:Bp,Comment:Bt,DeprecationTypes:WA,EffectScope:Pp,ErrorCodes:cT,ErrorTypeStrings:FA,Fragment:ke,KeepAlive:$T,ReactiveEffect:cl,Static:Si,Suspense:wA,Teleport:Up,Text:zs,TrackOpTypes:rT,Transition:Us,TransitionGroup:zx,TriggerOpTypes:nT,VueElement:bd,assertNumber:lT,callWithAsyncErrorHandling:yn,callWithErrorHandling:na,camelize:kt,capitalize:Gi,cloneVNode:Cn,compatUtils:zA,computed:te,createApp:Iu,createBlock:mt,createCommentVNode:fe,createElementBlock:j,createElementVNode:c,createHydrationRenderer:cx,createPropsRestProxy:JT,createRenderer:lx,createSSRApp:Zx,createSlots:VT,createStaticVNode:Tt,createTextVNode:de,createVNode:z,customRef:_1,defineAsyncComponent:RT,defineComponent:Ze,defineCustomElement:jx,defineEmits:jT,defineExpose:BT,defineModel:zT,defineOptions:qT,defineProps:UT,defineSSRCustomElement:p4,defineSlots:HT,devtools:UA,effect:TI,effectScope:Rp,getCurrentInstance:sn,getCurrentScope:Np,getCurrentWatcher:sT,getTransitionRawChildren:fd,guardReactiveProps:Ex,h:yt,handleError:Qi,hasInjectionContext:X1,hydrate:P4,hydrateOnIdle:IT,hydrateOnInteraction:CT,hydrateOnMediaQuery:ST,hydrateOnVisible:AT,initCustomFormatter:MA,initDirectivesForSSR:R4,inject:it,isMemoSame:Nx,isProxy:cd,isReactive:An,isReadonly:Xs,isRef:Ct,isRuntimeOnly:$A,isShallow:en,isVNode:ls,markRaw:ud,mergeDefaults:QT,mergeModels:YT,mergeProps:Ix,nextTick:ir,normalizeClass:$e,normalizeProps:fI,normalizeStyle:St,onActivated:U1,onBeforeMount:q1,onBeforeUnmount:Yi,onBeforeUpdate:Hp,onDeactivated:j1,onErrorCaptured:K1,onMounted:je,onRenderTracked:W1,onRenderTriggered:z1,onScopeDispose:s1,onServerPrefetch:H1,onUnmounted:Wt,onUpdated:md,onWatcherCleanup:I1,openBlock:O,popScopeId:pT,provide:Ht,proxyRefs:Lp,pushScopeId:fT,queuePostFlushCb:hl,reactive:gn,readonly:Vp,ref:H,registerRuntimeCompiler:Cx,render:Xx,renderList:qe,renderSlot:gu,resolveComponent:Lr,resolveDirective:MT,resolveDynamicComponent:gd,resolveFilter:HA,resolveTransitionHooks:Mo,setBlockTracking:kf,setDevtoolsHook:jA,setTransitionHooks:as,shallowReactive:Mp,shallowReadonly:WI,shallowRef:dd,ssrContextKey:fx,ssrUtils:qA,stop:AI,toDisplayString:K,toHandlerKey:So,toHandlers:LT,toRaw:We,toRef:k1,toRefs:w1,toValue:QI,transformVNodeArgs:SA,triggerRef:GI,unref:q,useAttrs:GT,useCssModule:y4,useCssVars:t4,useHost:Bx,useId:F1,useModel:mA,useSSRContext:px,useShadowRoot:g4,useSlots:KT,useTemplateRef:vT,useTransitionState:jp,vModelCheckbox:Fo,vModelDynamic:Kx,vModelRadio:Zp,vModelSelect:ns,vModelText:Pe,vShow:Xp,version:$x,warn:LA,watch:Rt,watchEffect:lr,watchPostEffect:fA,watchSyncEffect:mx,withAsyncContext:XT,withCtx:Z,withDefaults:WT,withDirectives:Te,withKeys:C4,withMemo:VA,withModifiers:Vr,withScopeId:mT},Symbol.toStringTag,{value:"Module"}));/**
* @vue/compiler-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const vl=Symbol(""),Za=Symbol(""),em=Symbol(""),Tu=Symbol(""),r_=Symbol(""),Mi=Symbol(""),n_=Symbol(""),s_=Symbol(""),tm=Symbol(""),rm=Symbol(""),Bl=Symbol(""),nm=Symbol(""),i_=Symbol(""),sm=Symbol(""),im=Symbol(""),om=Symbol(""),am=Symbol(""),lm=Symbol(""),cm=Symbol(""),o_=Symbol(""),a_=Symbol(""),xd=Symbol(""),Au=Symbol(""),um=Symbol(""),dm=Symbol(""),bl=Symbol(""),ql=Symbol(""),hm=Symbol(""),Nf=Symbol(""),$4=Symbol(""),$f=Symbol(""),Su=Symbol(""),O4=Symbol(""),D4=Symbol(""),fm=Symbol(""),M4=Symbol(""),V4=Symbol(""),pm=Symbol(""),l_=Symbol(""),jo={[vl]:"Fragment",[Za]:"Teleport",[em]:"Suspense",[Tu]:"KeepAlive",[r_]:"BaseTransition",[Mi]:"openBlock",[n_]:"createBlock",[s_]:"createElementBlock",[tm]:"createVNode",[rm]:"createElementVNode",[Bl]:"createCommentVNode",[nm]:"createTextVNode",[i_]:"createStaticVNode",[sm]:"resolveComponent",[im]:"resolveDynamicComponent",[om]:"resolveDirective",[am]:"resolveFilter",[lm]:"withDirectives",[cm]:"renderList",[o_]:"renderSlot",[a_]:"createSlots",[xd]:"toDisplayString",[Au]:"mergeProps",[um]:"normalizeClass",[dm]:"normalizeStyle",[bl]:"normalizeProps",[ql]:"guardReactiveProps",[hm]:"toHandlers",[Nf]:"camelize",[$4]:"capitalize",[$f]:"toHandlerKey",[Su]:"setBlockTracking",[O4]:"pushScopeId",[D4]:"popScopeId",[fm]:"withCtx",[M4]:"unref",[V4]:"isRef",[pm]:"withMemo",[l_]:"isMemoSame"};function L4(t){Object.getOwnPropertySymbols(t).forEach(e=>{jo[e]=t[e]})}const on={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function F4(t,e=""){return{type:0,source:e,children:t,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:on}}function xl(t,e,r,n,s,i,o,a=!1,l=!1,d=!1,h=on){return t&&(a?(t.helper(Mi),t.helper(Ho(t.inSSR,d))):t.helper(qo(t.inSSR,d)),o&&t.helper(lm)),{type:13,tag:e,props:r,children:n,patchFlag:s,dynamicProps:i,directives:o,isBlock:a,disableTracking:l,isComponent:d,loc:h}}function Ci(t,e=on){return{type:17,loc:e,elements:t}}function hn(t,e=on){return{type:15,loc:e,properties:t}}function Ft(t,e){return{type:16,loc:on,key:Ue(t)?ze(t,!0):t,value:e}}function ze(t,e=!1,r=on,n=0){return{type:4,loc:r,content:t,isStatic:e,constType:e?3:n}}function Sn(t,e=on){return{type:8,loc:e,children:t}}function Gt(t,e=[],r=on){return{type:14,loc:r,callee:t,arguments:e}}function Bo(t,e=void 0,r=!1,n=!1,s=on){return{type:18,params:t,returns:e,newline:r,isSlot:n,loc:s}}function Of(t,e,r,n=!0){return{type:19,test:t,consequent:e,alternate:r,newline:n,loc:on}}function U4(t,e,r=!1,n=!1){return{type:20,index:t,value:e,needPauseTracking:r,inVOnce:n,needArraySpread:!1,loc:on}}function j4(t){return{type:21,body:t,loc:on}}function qo(t,e){return t||e?tm:rm}function Ho(t,e){return t||e?n_:s_}function mm(t,{helper:e,removeHelper:r,inSSR:n}){t.isBlock||(t.isBlock=!0,r(qo(n,t.isComponent)),e(Mi),e(Ho(n,t.isComponent)))}const dy=new Uint8Array([123,123]),hy=new Uint8Array([125,125]);function fy(t){return t>=97&&t<=122||t>=65&&t<=90}function Yr(t){return t===32||t===10||t===9||t===12||t===13}function Es(t){return t===47||t===62||Yr(t)}function Cu(t){const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}const gr={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class B4{constructor(e,r){this.stack=e,this.cbs=r,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=dy,this.delimiterClose=hy,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=dy,this.delimiterClose=hy}getPos(e){let r=1,n=e+1;for(let s=this.newlines.length-1;s>=0;s--){const i=this.newlines[s];if(e>i){r=s+2,n=e-i;break}}return{column:n,line:r,offset:e}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(e){e===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&e===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e))}stateInterpolationOpen(e){if(e===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const r=this.index+1-this.delimiterOpen.length;r>this.sectionStart&&this.cbs.ontext(this.sectionStart,r),this.state=3,this.sectionStart=r}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(e)):(this.state=1,this.stateText(e))}stateInterpolation(e){e===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(e))}stateInterpolationClose(e){e===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(e))}stateSpecialStartSequence(e){const r=this.sequenceIndex===this.currentSequence.length;if(!(r?Es(e):(e|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!r){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(e)}stateInRCDATA(e){if(this.sequenceIndex===this.currentSequence.length){if(e===62||Yr(e)){const r=this.index-this.currentSequence.length;if(this.sectionStart<r){const n=this.index;this.index=r,this.cbs.ontext(this.sectionStart,r),this.index=n}this.sectionStart=r+2,this.stateInClosingTagName(e),this.inRCDATA=!1;return}this.sequenceIndex=0}(e|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===gr.TitleEnd||this.currentSequence===gr.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&e===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(e===60)}stateCDATASequence(e){e===gr.Cdata[this.sequenceIndex]?++this.sequenceIndex===gr.Cdata.length&&(this.state=28,this.currentSequence=gr.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(e))}fastForwardTo(e){for(;++this.index<this.buffer.length;){const r=this.buffer.charCodeAt(this.index);if(r===10&&this.newlines.push(this.index),r===e)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===gr.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(e,r){this.enterRCDATA(e,r),this.state=31}enterRCDATA(e,r){this.inRCDATA=!0,this.currentSequence=e,this.sequenceIndex=r}stateBeforeTagName(e){e===33?(this.state=22,this.sectionStart=this.index+1):e===63?(this.state=24,this.sectionStart=this.index+1):fy(e)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:e===116?this.state=30:this.state=e===115?29:6):e===47?this.state=8:(this.state=1,this.stateText(e))}stateInTagName(e){Es(e)&&this.handleTagName(e)}stateInSFCRootTagName(e){if(Es(e)){const r=this.buffer.slice(this.sectionStart,this.index);r!=="template"&&this.enterRCDATA(Cu("</"+r),0),this.handleTagName(e)}}handleTagName(e){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)}stateBeforeClosingTagName(e){Yr(e)||(e===62?(this.state=1,this.sectionStart=this.index+1):(this.state=fy(e)?9:27,this.sectionStart=this.index))}stateInClosingTagName(e){(e===62||Yr(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(e))}stateAfterClosingTagName(e){e===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(e){e===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):e===47?this.state=7:e===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):Yr(e)||this.handleAttrStart(e)}handleAttrStart(e){e===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):e===46||e===58||e===64||e===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(e){e===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):Yr(e)||(this.state=11,this.stateBeforeAttrName(e))}stateInAttrName(e){(e===61||Es(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(e))}stateInDirName(e){e===61||Es(e)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):e===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(e){e===61||Es(e)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===91?this.state=15:e===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(e){e===93?this.state=14:(e===61||Es(e))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(e))}stateInDirModifier(e){e===61||Es(e)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(e){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(e)}stateAfterAttrName(e){e===61?this.state=18:e===47||e===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)):Yr(e)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(e))}stateBeforeAttrValue(e){e===34?(this.state=19,this.sectionStart=this.index+1):e===39?(this.state=20,this.sectionStart=this.index+1):Yr(e)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(e))}handleInAttrValue(e,r){(e===r||this.fastForwardTo(r))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(r===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(e){this.handleInAttrValue(e,34)}stateInAttrValueSingleQuotes(e){this.handleInAttrValue(e,39)}stateInAttrValueNoQuotes(e){Yr(e)||e===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(e)):(e===39||e===60||e===61||e===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(e){e===91?(this.state=26,this.sequenceIndex=0):this.state=e===45?25:23}stateInDeclaration(e){(e===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(e){(e===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(e){e===45?(this.state=28,this.currentSequence=gr.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(e){(e===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(e){e===gr.ScriptEnd[3]?this.startSpecial(gr.ScriptEnd,4):e===gr.StyleEnd[3]?this.startSpecial(gr.StyleEnd,4):(this.state=6,this.stateInTagName(e))}stateBeforeSpecialT(e){e===gr.TitleEnd[3]?this.startSpecial(gr.TitleEnd,4):e===gr.TextareaEnd[3]?this.startSpecial(gr.TextareaEnd,4):(this.state=6,this.stateInTagName(e))}startEntity(){}stateInEntity(){}parse(e){for(this.buffer=e;this.index<this.buffer.length;){const r=this.buffer.charCodeAt(this.index);switch(r===10&&this.newlines.push(this.index),this.state){case 1:{this.stateText(r);break}case 2:{this.stateInterpolationOpen(r);break}case 3:{this.stateInterpolation(r);break}case 4:{this.stateInterpolationClose(r);break}case 31:{this.stateSpecialStartSequence(r);break}case 32:{this.stateInRCDATA(r);break}case 26:{this.stateCDATASequence(r);break}case 19:{this.stateInAttrValueDoubleQuotes(r);break}case 12:{this.stateInAttrName(r);break}case 13:{this.stateInDirName(r);break}case 14:{this.stateInDirArg(r);break}case 15:{this.stateInDynamicDirArg(r);break}case 16:{this.stateInDirModifier(r);break}case 28:{this.stateInCommentLike(r);break}case 27:{this.stateInSpecialComment(r);break}case 11:{this.stateBeforeAttrName(r);break}case 6:{this.stateInTagName(r);break}case 34:{this.stateInSFCRootTagName(r);break}case 9:{this.stateInClosingTagName(r);break}case 5:{this.stateBeforeTagName(r);break}case 17:{this.stateAfterAttrName(r);break}case 20:{this.stateInAttrValueSingleQuotes(r);break}case 18:{this.stateBeforeAttrValue(r);break}case 8:{this.stateBeforeClosingTagName(r);break}case 10:{this.stateAfterClosingTagName(r);break}case 29:{this.stateBeforeSpecialS(r);break}case 30:{this.stateBeforeSpecialT(r);break}case 21:{this.stateInAttrValueNoQuotes(r);break}case 7:{this.stateInSelfClosingTag(r);break}case 23:{this.stateInDeclaration(r);break}case 22:{this.stateBeforeDeclaration(r);break}case 25:{this.stateBeforeComment(r);break}case 24:{this.stateInProcessingInstruction(r);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const e=this.buffer.length;this.sectionStart>=e||(this.state===28?this.currentSequence===gr.CdataEnd?this.cbs.oncdata(this.sectionStart,e):this.cbs.oncomment(this.sectionStart,e):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,e))}emitCodePoint(e,r){}}function py(t,{compatConfig:e}){const r=e&&e[t];return t==="MODE"?r||3:r}function Pi(t,e){const r=py("MODE",e),n=py(t,e);return r===3?n===!0:n!==!1}function _l(t,e,r,...n){return Pi(t,e)}function gm(t){throw t}function c_(t){}function At(t,e,r,n){const s=`https://vuejs.org/error-reference/#compiler-${t}`,i=new SyntaxError(String(s));return i.code=t,i.loc=e,i}const Hr=t=>t.type===4&&t.isStatic;function u_(t){switch(t){case"Teleport":case"teleport":return Za;case"Suspense":case"suspense":return em;case"KeepAlive":case"keep-alive":return Tu;case"BaseTransition":case"base-transition":return r_}}const q4=/^\d|[^\$\w\xA0-\uFFFF]/,ym=t=>!q4.test(t),H4=/[A-Za-z_$\xA0-\uFFFF]/,z4=/[\.\?\w$\xA0-\uFFFF]/,W4=/\s+[.[]\s*|\s*[.[]\s+/g,d_=t=>t.type===4?t.content:t.loc.source,K4=t=>{const e=d_(t).trim().replace(W4,a=>a.trim());let r=0,n=[],s=0,i=0,o=null;for(let a=0;a<e.length;a++){const l=e.charAt(a);switch(r){case 0:if(l==="[")n.push(r),r=1,s++;else if(l==="(")n.push(r),r=2,i++;else if(!(a===0?H4:z4).test(l))return!1;break;case 1:l==="'"||l==='"'||l==="`"?(n.push(r),r=3,o=l):l==="["?s++:l==="]"&&(--s||(r=n.pop()));break;case 2:if(l==="'"||l==='"'||l==="`")n.push(r),r=3,o=l;else if(l==="(")i++;else if(l===")"){if(a===e.length-1)return!1;--i||(r=n.pop())}break;case 3:l===o&&(r=n.pop(),o=null);break}}return!s&&!i},h_=K4,G4=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,Q4=t=>G4.test(d_(t)),Y4=Q4;function un(t,e,r=!1){for(let n=0;n<t.props.length;n++){const s=t.props[n];if(s.type===7&&(r||s.exp)&&(Ue(e)?s.name===e:e.test(s.name)))return s}}function _d(t,e,r=!1,n=!1){for(let s=0;s<t.props.length;s++){const i=t.props[s];if(i.type===6){if(r)continue;if(i.name===e&&(i.value||n))return i}else if(i.name==="bind"&&(i.exp||n)&&_i(i.arg,e))return i}}function _i(t,e){return!!(t&&Hr(t)&&t.content===e)}function J4(t){return t.props.some(e=>e.type===7&&e.name==="bind"&&(!e.arg||e.arg.type!==4||!e.arg.isStatic))}function Lh(t){return t.type===5||t.type===2}function X4(t){return t.type===7&&t.name==="slot"}function Pu(t){return t.type===1&&t.tagType===3}function Ru(t){return t.type===1&&t.tagType===2}const Z4=new Set([bl,ql]);function f_(t,e=[]){if(t&&!Ue(t)&&t.type===14){const r=t.callee;if(!Ue(r)&&Z4.has(r))return f_(t.arguments[0],e.concat(t))}return[t,e]}function Nu(t,e,r){let n,s=t.type===13?t.props:t.arguments[2],i=[],o;if(s&&!Ue(s)&&s.type===14){const a=f_(s);s=a[0],i=a[1],o=i[i.length-1]}if(s==null||Ue(s))n=hn([e]);else if(s.type===14){const a=s.arguments[0];!Ue(a)&&a.type===15?my(e,a)||a.properties.unshift(e):s.callee===hm?n=Gt(r.helper(Au),[hn([e]),s]):s.arguments.unshift(hn([e])),!n&&(n=s)}else s.type===15?(my(e,s)||s.properties.unshift(e),n=s):(n=Gt(r.helper(Au),[hn([e]),s]),o&&o.callee===ql&&(o=i[i.length-2]));t.type===13?o?o.arguments[0]=n:t.props=n:o?o.arguments[0]=n:t.arguments[2]=n}function my(t,e){let r=!1;if(t.key.type===4){const n=t.key.content;r=e.properties.some(s=>s.key.type===4&&s.key.content===n)}return r}function wl(t,e){return`_${e}_${t.replace(/[^\w]/g,(r,n)=>r==="-"?"_":t.charCodeAt(n).toString())}`}function eS(t){return t.type===14&&t.callee===pm?t.arguments[1].returns:t}const tS=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,p_={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:$a,isPreTag:$a,isIgnoreNewlineTag:$a,isCustomElement:$a,onError:gm,onWarn:c_,comments:!1,prefixIdentifiers:!1};let ct=p_,kl=null,ss="",xr=null,tt=null,Fr="",Qn=-1,gi=-1,vm=0,Os=!1,Df=null;const It=[],Dt=new B4(It,{onerr:Kn,ontext(t,e){Nc(tr(t,e),t,e)},ontextentity(t,e,r){Nc(t,e,r)},oninterpolation(t,e){if(Os)return Nc(tr(t,e),t,e);let r=t+Dt.delimiterOpen.length,n=e-Dt.delimiterClose.length;for(;Yr(ss.charCodeAt(r));)r++;for(;Yr(ss.charCodeAt(n-1));)n--;let s=tr(r,n);s.includes("&")&&(s=ct.decodeEntities(s,!1)),Mf({type:5,content:Jc(s,!1,Mt(r,n)),loc:Mt(t,e)})},onopentagname(t,e){const r=tr(t,e);xr={type:1,tag:r,ns:ct.getNamespace(r,It[0],ct.ns),tagType:0,props:[],children:[],loc:Mt(t-1,e),codegenNode:void 0}},onopentagend(t){yy(t)},onclosetag(t,e){const r=tr(t,e);if(!ct.isVoidTag(r)){let n=!1;for(let s=0;s<It.length;s++)if(It[s].tag.toLowerCase()===r.toLowerCase()){n=!0,s>0&&Kn(24,It[0].loc.start.offset);for(let o=0;o<=s;o++){const a=It.shift();Yc(a,e,o<s)}break}n||Kn(23,m_(t,60))}},onselfclosingtag(t){const e=xr.tag;xr.isSelfClosing=!0,yy(t),It[0]&&It[0].tag===e&&Yc(It.shift(),t)},onattribname(t,e){tt={type:6,name:tr(t,e),nameLoc:Mt(t,e),value:void 0,loc:Mt(t)}},ondirname(t,e){const r=tr(t,e),n=r==="."||r===":"?"bind":r==="@"?"on":r==="#"?"slot":r.slice(2);if(!Os&&n===""&&Kn(26,t),Os||n==="")tt={type:6,name:r,nameLoc:Mt(t,e),value:void 0,loc:Mt(t)};else if(tt={type:7,name:n,rawName:r,exp:void 0,arg:void 0,modifiers:r==="."?[ze("prop")]:[],loc:Mt(t)},n==="pre"){Os=Dt.inVPre=!0,Df=xr;const s=xr.props;for(let i=0;i<s.length;i++)s[i].type===7&&(s[i]=hS(s[i]))}},ondirarg(t,e){if(t===e)return;const r=tr(t,e);if(Os)tt.name+=r,wi(tt.nameLoc,e);else{const n=r[0]!=="[";tt.arg=Jc(n?r:r.slice(1,-1),n,Mt(t,e),n?3:0)}},ondirmodifier(t,e){const r=tr(t,e);if(Os)tt.name+="."+r,wi(tt.nameLoc,e);else if(tt.name==="slot"){const n=tt.arg;n&&(n.content+="."+r,wi(n.loc,e))}else{const n=ze(r,!0,Mt(t,e));tt.modifiers.push(n)}},onattribdata(t,e){Fr+=tr(t,e),Qn<0&&(Qn=t),gi=e},onattribentity(t,e,r){Fr+=t,Qn<0&&(Qn=e),gi=r},onattribnameend(t){const e=tt.loc.start.offset,r=tr(e,t);tt.type===7&&(tt.rawName=r),xr.props.some(n=>(n.type===7?n.rawName:n.name)===r)&&Kn(2,e)},onattribend(t,e){if(xr&&tt){if(wi(tt.loc,e),t!==0)if(Fr.includes("&")&&(Fr=ct.decodeEntities(Fr,!0)),tt.type===6)tt.name==="class"&&(Fr=y_(Fr).trim()),t===1&&!Fr&&Kn(13,e),tt.value={type:2,content:Fr,loc:t===1?Mt(Qn,gi):Mt(Qn-1,gi+1)},Dt.inSFCRoot&&xr.tag==="template"&&tt.name==="lang"&&Fr&&Fr!=="html"&&Dt.enterRCDATA(Cu("</template"),0);else{let r=0;tt.exp=Jc(Fr,!1,Mt(Qn,gi),0,r),tt.name==="for"&&(tt.forParseResult=nS(tt.exp));let n=-1;tt.name==="bind"&&(n=tt.modifiers.findIndex(s=>s.content==="sync"))>-1&&_l("COMPILER_V_BIND_SYNC",ct,tt.loc,tt.rawName)&&(tt.name="model",tt.modifiers.splice(n,1))}(tt.type!==7||tt.name!=="pre")&&xr.props.push(tt)}Fr="",Qn=gi=-1},oncomment(t,e){ct.comments&&Mf({type:3,content:tr(t,e),loc:Mt(t-4,e+3)})},onend(){const t=ss.length;for(let e=0;e<It.length;e++)Yc(It[e],t-1),Kn(24,It[e].loc.start.offset)},oncdata(t,e){It[0].ns!==0?Nc(tr(t,e),t,e):Kn(1,t-9)},onprocessinginstruction(t){(It[0]?It[0].ns:ct.ns)===0&&Kn(21,t-1)}}),gy=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,rS=/^\(|\)$/g;function nS(t){const e=t.loc,r=t.content,n=r.match(tS);if(!n)return;const[,s,i]=n,o=(f,p,y=!1)=>{const b=e.start.offset+p,k=b+f.length;return Jc(f,!1,Mt(b,k),0,y?1:0)},a={source:o(i.trim(),r.indexOf(i,s.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let l=s.trim().replace(rS,"").trim();const d=s.indexOf(l),h=l.match(gy);if(h){l=l.replace(gy,"").trim();const f=h[1].trim();let p;if(f&&(p=r.indexOf(f,d+l.length),a.key=o(f,p,!0)),h[2]){const y=h[2].trim();y&&(a.index=o(y,r.indexOf(y,a.key?p+f.length:d+l.length),!0))}}return l&&(a.value=o(l,d,!0)),a}function tr(t,e){return ss.slice(t,e)}function yy(t){Dt.inSFCRoot&&(xr.innerLoc=Mt(t+1,t+1)),Mf(xr);const{tag:e,ns:r}=xr;r===0&&ct.isPreTag(e)&&vm++,ct.isVoidTag(e)?Yc(xr,t):(It.unshift(xr),(r===1||r===2)&&(Dt.inXML=!0)),xr=null}function Nc(t,e,r){{const i=It[0]&&It[0].tag;i!=="script"&&i!=="style"&&t.includes("&")&&(t=ct.decodeEntities(t,!1))}const n=It[0]||kl,s=n.children[n.children.length-1];s&&s.type===2?(s.content+=t,wi(s.loc,r)):n.children.push({type:2,content:t,loc:Mt(e,r)})}function Yc(t,e,r=!1){r?wi(t.loc,m_(e,60)):wi(t.loc,sS(e,62)+1),Dt.inSFCRoot&&(t.children.length?t.innerLoc.end=Qe({},t.children[t.children.length-1].loc.end):t.innerLoc.end=Qe({},t.innerLoc.start),t.innerLoc.source=tr(t.innerLoc.start.offset,t.innerLoc.end.offset));const{tag:n,ns:s,children:i}=t;if(Os||(n==="slot"?t.tagType=2:vy(t)?t.tagType=3:oS(t)&&(t.tagType=1)),Dt.inRCDATA||(t.children=g_(i)),s===0&&ct.isIgnoreNewlineTag(n)){const o=i[0];o&&o.type===2&&(o.content=o.content.replace(/^\r?\n/,""))}s===0&&ct.isPreTag(n)&&vm--,Df===t&&(Os=Dt.inVPre=!1,Df=null),Dt.inXML&&(It[0]?It[0].ns:ct.ns)===0&&(Dt.inXML=!1);{const o=t.props;if(!Dt.inSFCRoot&&Pi("COMPILER_NATIVE_TEMPLATE",ct)&&t.tag==="template"&&!vy(t)){const l=It[0]||kl,d=l.children.indexOf(t);l.children.splice(d,1,...t.children)}const a=o.find(l=>l.type===6&&l.name==="inline-template");a&&_l("COMPILER_INLINE_TEMPLATE",ct,a.loc)&&t.children.length&&(a.value={type:2,content:tr(t.children[0].loc.start.offset,t.children[t.children.length-1].loc.end.offset),loc:a.loc})}}function sS(t,e){let r=t;for(;ss.charCodeAt(r)!==e&&r<ss.length-1;)r++;return r}function m_(t,e){let r=t;for(;ss.charCodeAt(r)!==e&&r>=0;)r--;return r}const iS=new Set(["if","else","else-if","for","slot"]);function vy({tag:t,props:e}){if(t==="template"){for(let r=0;r<e.length;r++)if(e[r].type===7&&iS.has(e[r].name))return!0}return!1}function oS({tag:t,props:e}){if(ct.isCustomElement(t))return!1;if(t==="component"||aS(t.charCodeAt(0))||u_(t)||ct.isBuiltInComponent&&ct.isBuiltInComponent(t)||ct.isNativeTag&&!ct.isNativeTag(t))return!0;for(let r=0;r<e.length;r++){const n=e[r];if(n.type===6){if(n.name==="is"&&n.value){if(n.value.content.startsWith("vue:"))return!0;if(_l("COMPILER_IS_ON_ELEMENT",ct,n.loc))return!0}}else if(n.name==="bind"&&_i(n.arg,"is")&&_l("COMPILER_IS_ON_ELEMENT",ct,n.loc))return!0}return!1}function aS(t){return t>64&&t<91}const lS=/\r\n/g;function g_(t,e){const r=ct.whitespace!=="preserve";let n=!1;for(let s=0;s<t.length;s++){const i=t[s];if(i.type===2)if(vm)i.content=i.content.replace(lS,`
`);else if(cS(i.content)){const o=t[s-1]&&t[s-1].type,a=t[s+1]&&t[s+1].type;!o||!a||r&&(o===3&&(a===3||a===1)||o===1&&(a===3||a===1&&uS(i.content)))?(n=!0,t[s]=null):i.content=" "}else r&&(i.content=y_(i.content))}return n?t.filter(Boolean):t}function cS(t){for(let e=0;e<t.length;e++)if(!Yr(t.charCodeAt(e)))return!1;return!0}function uS(t){for(let e=0;e<t.length;e++){const r=t.charCodeAt(e);if(r===10||r===13)return!0}return!1}function y_(t){let e="",r=!1;for(let n=0;n<t.length;n++)Yr(t.charCodeAt(n))?r||(e+=" ",r=!0):(e+=t[n],r=!1);return e}function Mf(t){(It[0]||kl).children.push(t)}function Mt(t,e){return{start:Dt.getPos(t),end:e==null?e:Dt.getPos(e),source:e==null?e:tr(t,e)}}function dS(t){return Mt(t.start.offset,t.end.offset)}function wi(t,e){t.end=Dt.getPos(e),t.source=tr(t.start.offset,e)}function hS(t){const e={type:6,name:t.rawName,nameLoc:Mt(t.loc.start.offset,t.loc.start.offset+t.rawName.length),value:void 0,loc:t.loc};if(t.exp){const r=t.exp.loc;r.end.offset<t.loc.end.offset&&(r.start.offset--,r.start.column--,r.end.offset++,r.end.column++),e.value={type:2,content:t.exp.content,loc:r}}return e}function Jc(t,e=!1,r,n=0,s=0){return ze(t,e,r,n)}function Kn(t,e,r){ct.onError(At(t,Mt(e,e)))}function fS(){Dt.reset(),xr=null,tt=null,Fr="",Qn=-1,gi=-1,It.length=0}function pS(t,e){if(fS(),ss=t,ct=Qe({},p_),e){let s;for(s in e)e[s]!=null&&(ct[s]=e[s])}Dt.mode=ct.parseMode==="html"?1:ct.parseMode==="sfc"?2:0,Dt.inXML=ct.ns===1||ct.ns===2;const r=e&&e.delimiters;r&&(Dt.delimiterOpen=Cu(r[0]),Dt.delimiterClose=Cu(r[1]));const n=kl=F4([],t);return Dt.parse(ss),n.loc=Mt(0,t.length),n.children=g_(n.children),kl=null,n}function mS(t,e){Xc(t,void 0,e,v_(t,t.children[0]))}function v_(t,e){const{children:r}=t;return r.length===1&&e.type===1&&!Ru(e)}function Xc(t,e,r,n=!1,s=!1){const{children:i}=t,o=[];for(let h=0;h<i.length;h++){const f=i[h];if(f.type===1&&f.tagType===0){const p=n?0:Jr(f,r);if(p>0){if(p>=2){f.codegenNode.patchFlag=-1,o.push(f);continue}}else{const y=f.codegenNode;if(y.type===13){const b=y.patchFlag;if((b===void 0||b===512||b===1)&&x_(f,r)>=2){const k=__(f);k&&(y.props=r.hoist(k))}y.dynamicProps&&(y.dynamicProps=r.hoist(y.dynamicProps))}}}else if(f.type===12&&(n?0:Jr(f,r))>=2){o.push(f);continue}if(f.type===1){const p=f.tagType===1;p&&r.scopes.vSlot++,Xc(f,t,r,!1,s),p&&r.scopes.vSlot--}else if(f.type===11)Xc(f,t,r,f.children.length===1,!0);else if(f.type===9)for(let p=0;p<f.branches.length;p++)Xc(f.branches[p],t,r,f.branches[p].children.length===1,s)}let a=!1;if(o.length===i.length&&t.type===1){if(t.tagType===0&&t.codegenNode&&t.codegenNode.type===13&&xe(t.codegenNode.children))t.codegenNode.children=l(Ci(t.codegenNode.children)),a=!0;else if(t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!xe(t.codegenNode.children)&&t.codegenNode.children.type===15){const h=d(t.codegenNode,"default");h&&(h.returns=l(Ci(h.returns)),a=!0)}else if(t.tagType===3&&e&&e.type===1&&e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!xe(e.codegenNode.children)&&e.codegenNode.children.type===15){const h=un(t,"slot",!0),f=h&&h.arg&&d(e.codegenNode,h.arg);f&&(f.returns=l(Ci(f.returns)),a=!0)}}if(!a)for(const h of o)h.codegenNode=r.cache(h.codegenNode);function l(h){const f=r.cache(h);return s&&r.hmr&&(f.needArraySpread=!0),f}function d(h,f){if(h.children&&!xe(h.children)&&h.children.type===15){const p=h.children.properties.find(y=>y.key===f||y.key.content===f);return p&&p.value}}o.length&&r.transformHoist&&r.transformHoist(i,r,t)}function Jr(t,e){const{constantCache:r}=e;switch(t.type){case 1:if(t.tagType!==0)return 0;const n=r.get(t);if(n!==void 0)return n;const s=t.codegenNode;if(s.type!==13||s.isBlock&&t.tag!=="svg"&&t.tag!=="foreignObject"&&t.tag!=="math")return 0;if(s.patchFlag===void 0){let o=3;const a=x_(t,e);if(a===0)return r.set(t,0),0;a<o&&(o=a);for(let l=0;l<t.children.length;l++){const d=Jr(t.children[l],e);if(d===0)return r.set(t,0),0;d<o&&(o=d)}if(o>1)for(let l=0;l<t.props.length;l++){const d=t.props[l];if(d.type===7&&d.name==="bind"&&d.exp){const h=Jr(d.exp,e);if(h===0)return r.set(t,0),0;h<o&&(o=h)}}if(s.isBlock){for(let l=0;l<t.props.length;l++)if(t.props[l].type===7)return r.set(t,0),0;e.removeHelper(Mi),e.removeHelper(Ho(e.inSSR,s.isComponent)),s.isBlock=!1,e.helper(qo(e.inSSR,s.isComponent))}return r.set(t,o),o}else return r.set(t,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return Jr(t.content,e);case 4:return t.constType;case 8:let i=3;for(let o=0;o<t.children.length;o++){const a=t.children[o];if(Ue(a)||Kr(a))continue;const l=Jr(a,e);if(l===0)return 0;l<i&&(i=l)}return i;case 20:return 2;default:return 0}}const gS=new Set([um,dm,bl,ql]);function b_(t,e){if(t.type===14&&!Ue(t.callee)&&gS.has(t.callee)){const r=t.arguments[0];if(r.type===4)return Jr(r,e);if(r.type===14)return b_(r,e)}return 0}function x_(t,e){let r=3;const n=__(t);if(n&&n.type===15){const{properties:s}=n;for(let i=0;i<s.length;i++){const{key:o,value:a}=s[i],l=Jr(o,e);if(l===0)return l;l<r&&(r=l);let d;if(a.type===4?d=Jr(a,e):a.type===14?d=b_(a,e):d=0,d===0)return d;d<r&&(r=d)}}return r}function __(t){const e=t.codegenNode;if(e.type===13)return e.props}function yS(t,{filename:e="",prefixIdentifiers:r=!1,hoistStatic:n=!1,hmr:s=!1,cacheHandlers:i=!1,nodeTransforms:o=[],directiveTransforms:a={},transformHoist:l=null,isBuiltInComponent:d=sr,isCustomElement:h=sr,expressionPlugins:f=[],scopeId:p=null,slotted:y=!0,ssr:b=!1,inSSR:k=!1,ssrCssVars:_="",bindingMetadata:T=Ke,inline:P=!1,isTS:E=!1,onError:R=gm,onWarn:A=c_,compatConfig:M}){const I=e.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),v={filename:e,selfName:I&&Gi(kt(I[1])),prefixIdentifiers:r,hoistStatic:n,hmr:s,cacheHandlers:i,nodeTransforms:o,directiveTransforms:a,transformHoist:l,isBuiltInComponent:d,isCustomElement:h,expressionPlugins:f,scopeId:p,slotted:y,ssr:b,inSSR:k,ssrCssVars:_,bindingMetadata:T,inline:P,isTS:E,onError:R,onWarn:A,compatConfig:M,root:t,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:t,childIndex:0,inVOnce:!1,helper(m){const w=v.helpers.get(m)||0;return v.helpers.set(m,w+1),m},removeHelper(m){const w=v.helpers.get(m);if(w){const N=w-1;N?v.helpers.set(m,N):v.helpers.delete(m)}},helperString(m){return`_${jo[v.helper(m)]}`},replaceNode(m){v.parent.children[v.childIndex]=v.currentNode=m},removeNode(m){const w=v.parent.children,N=m?w.indexOf(m):v.currentNode?v.childIndex:-1;!m||m===v.currentNode?(v.currentNode=null,v.onNodeRemoved()):v.childIndex>N&&(v.childIndex--,v.onNodeRemoved()),v.parent.children.splice(N,1)},onNodeRemoved:sr,addIdentifiers(m){},removeIdentifiers(m){},hoist(m){Ue(m)&&(m=ze(m)),v.hoists.push(m);const w=ze(`_hoisted_${v.hoists.length}`,!1,m.loc,2);return w.hoisted=m,w},cache(m,w=!1,N=!1){const S=U4(v.cached.length,m,w,N);return v.cached.push(S),S}};return v.filters=new Set,v}function vS(t,e){const r=yS(t,e);wd(t,r),e.hoistStatic&&mS(t,r),e.ssr||bS(t,r),t.helpers=new Set([...r.helpers.keys()]),t.components=[...r.components],t.directives=[...r.directives],t.imports=r.imports,t.hoists=r.hoists,t.temps=r.temps,t.cached=r.cached,t.transformed=!0,t.filters=[...r.filters]}function bS(t,e){const{helper:r}=e,{children:n}=t;if(n.length===1){const s=n[0];if(v_(t,s)&&s.codegenNode){const i=s.codegenNode;i.type===13&&mm(i,e),t.codegenNode=i}else t.codegenNode=s}else if(n.length>1){let s=64;t.codegenNode=xl(e,r(vl),void 0,t.children,s,void 0,void 0,!0,void 0,!1)}}function xS(t,e){let r=0;const n=()=>{r--};for(;r<t.children.length;r++){const s=t.children[r];Ue(s)||(e.grandParent=e.parent,e.parent=t,e.childIndex=r,e.onNodeRemoved=n,wd(s,e))}}function wd(t,e){e.currentNode=t;const{nodeTransforms:r}=e,n=[];for(let i=0;i<r.length;i++){const o=r[i](t,e);if(o&&(xe(o)?n.push(...o):n.push(o)),e.currentNode)t=e.currentNode;else return}switch(t.type){case 3:e.ssr||e.helper(Bl);break;case 5:e.ssr||e.helper(xd);break;case 9:for(let i=0;i<t.branches.length;i++)wd(t.branches[i],e);break;case 10:case 11:case 1:case 0:xS(t,e);break}e.currentNode=t;let s=n.length;for(;s--;)n[s]()}function w_(t,e){const r=Ue(t)?n=>n===t:n=>t.test(n);return(n,s)=>{if(n.type===1){const{props:i}=n;if(n.tagType===3&&i.some(X4))return;const o=[];for(let a=0;a<i.length;a++){const l=i[a];if(l.type===7&&r(l.name)){i.splice(a,1),a--;const d=e(n,l,s);d&&o.push(d)}}return o}}}const kd="/*@__PURE__*/",k_=t=>`${jo[t]}: _${jo[t]}`;function _S(t,{mode:e="function",prefixIdentifiers:r=e==="module",sourceMap:n=!1,filename:s="template.vue.html",scopeId:i=null,optimizeImports:o=!1,runtimeGlobalName:a="Vue",runtimeModuleName:l="vue",ssrRuntimeModuleName:d="vue/server-renderer",ssr:h=!1,isTS:f=!1,inSSR:p=!1}){const y={mode:e,prefixIdentifiers:r,sourceMap:n,filename:s,scopeId:i,optimizeImports:o,runtimeGlobalName:a,runtimeModuleName:l,ssrRuntimeModuleName:d,ssr:h,isTS:f,inSSR:p,source:t.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(k){return`_${jo[k]}`},push(k,_=-2,T){y.code+=k},indent(){b(++y.indentLevel)},deindent(k=!1){k?--y.indentLevel:b(--y.indentLevel)},newline(){b(y.indentLevel)}};function b(k){y.push(`
`+"  ".repeat(k),0)}return y}function wS(t,e={}){const r=_S(t,e);e.onContextCreated&&e.onContextCreated(r);const{mode:n,push:s,prefixIdentifiers:i,indent:o,deindent:a,newline:l,scopeId:d,ssr:h}=r,f=Array.from(t.helpers),p=f.length>0,y=!i&&n!=="module";kS(t,r);const k=h?"ssrRender":"render",T=(h?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(s(`function ${k}(${T}) {`),o(),y&&(s("with (_ctx) {"),o(),p&&(s(`const { ${f.map(k_).join(", ")} } = _Vue
`,-1),l())),t.components.length&&(Fh(t.components,"component",r),(t.directives.length||t.temps>0)&&l()),t.directives.length&&(Fh(t.directives,"directive",r),t.temps>0&&l()),t.filters&&t.filters.length&&(l(),Fh(t.filters,"filter",r),l()),t.temps>0){s("let ");for(let P=0;P<t.temps;P++)s(`${P>0?", ":""}_temp${P}`)}return(t.components.length||t.directives.length||t.temps)&&(s(`
`,0),l()),h||s("return "),t.codegenNode?Tr(t.codegenNode,r):s("null"),y&&(a(),s("}")),a(),s("}"),{ast:t,code:r.code,preamble:"",map:r.map?r.map.toJSON():void 0}}function kS(t,e){const{ssr:r,prefixIdentifiers:n,push:s,newline:i,runtimeModuleName:o,runtimeGlobalName:a,ssrRuntimeModuleName:l}=e,d=a,h=Array.from(t.helpers);if(h.length>0&&(s(`const _Vue = ${d}
`,-1),t.hoists.length)){const f=[tm,rm,Bl,nm,i_].filter(p=>h.includes(p)).map(k_).join(", ");s(`const { ${f} } = _Vue
`,-1)}ES(t.hoists,e),i(),s("return ")}function Fh(t,e,{helper:r,push:n,newline:s,isTS:i}){const o=r(e==="filter"?am:e==="component"?sm:om);for(let a=0;a<t.length;a++){let l=t[a];const d=l.endsWith("__self");d&&(l=l.slice(0,-6)),n(`const ${wl(l,e)} = ${o}(${JSON.stringify(l)}${d?", true":""})${i?"!":""}`),a<t.length-1&&s()}}function ES(t,e){if(!t.length)return;e.pure=!0;const{push:r,newline:n}=e;n();for(let s=0;s<t.length;s++){const i=t[s];i&&(r(`const _hoisted_${s+1} = `),Tr(i,e),n())}e.pure=!1}function bm(t,e){const r=t.length>3||!1;e.push("["),r&&e.indent(),Hl(t,e,r),r&&e.deindent(),e.push("]")}function Hl(t,e,r=!1,n=!0){const{push:s,newline:i}=e;for(let o=0;o<t.length;o++){const a=t[o];Ue(a)?s(a,-3):xe(a)?bm(a,e):Tr(a,e),o<t.length-1&&(r?(n&&s(","),i()):n&&s(", "))}}function Tr(t,e){if(Ue(t)){e.push(t,-3);return}if(Kr(t)){e.push(e.helper(t));return}switch(t.type){case 1:case 9:case 11:Tr(t.codegenNode,e);break;case 2:IS(t,e);break;case 4:E_(t,e);break;case 5:TS(t,e);break;case 12:Tr(t.codegenNode,e);break;case 8:I_(t,e);break;case 3:SS(t,e);break;case 13:CS(t,e);break;case 14:RS(t,e);break;case 15:NS(t,e);break;case 17:$S(t,e);break;case 18:OS(t,e);break;case 19:DS(t,e);break;case 20:MS(t,e);break;case 21:Hl(t.body,e,!0,!1);break}}function IS(t,e){e.push(JSON.stringify(t.content),-3,t)}function E_(t,e){const{content:r,isStatic:n}=t;e.push(n?JSON.stringify(r):r,-3,t)}function TS(t,e){const{push:r,helper:n,pure:s}=e;s&&r(kd),r(`${n(xd)}(`),Tr(t.content,e),r(")")}function I_(t,e){for(let r=0;r<t.children.length;r++){const n=t.children[r];Ue(n)?e.push(n,-3):Tr(n,e)}}function AS(t,e){const{push:r}=e;if(t.type===8)r("["),I_(t,e),r("]");else if(t.isStatic){const n=ym(t.content)?t.content:JSON.stringify(t.content);r(n,-2,t)}else r(`[${t.content}]`,-3,t)}function SS(t,e){const{push:r,helper:n,pure:s}=e;s&&r(kd),r(`${n(Bl)}(${JSON.stringify(t.content)})`,-3,t)}function CS(t,e){const{push:r,helper:n,pure:s}=e,{tag:i,props:o,children:a,patchFlag:l,dynamicProps:d,directives:h,isBlock:f,disableTracking:p,isComponent:y}=t;let b;l&&(b=String(l)),h&&r(n(lm)+"("),f&&r(`(${n(Mi)}(${p?"true":""}), `),s&&r(kd);const k=f?Ho(e.inSSR,y):qo(e.inSSR,y);r(n(k)+"(",-2,t),Hl(PS([i,o,a,b,d]),e),r(")"),f&&r(")"),h&&(r(", "),Tr(h,e),r(")"))}function PS(t){let e=t.length;for(;e--&&t[e]==null;);return t.slice(0,e+1).map(r=>r||"null")}function RS(t,e){const{push:r,helper:n,pure:s}=e,i=Ue(t.callee)?t.callee:n(t.callee);s&&r(kd),r(i+"(",-2,t),Hl(t.arguments,e),r(")")}function NS(t,e){const{push:r,indent:n,deindent:s,newline:i}=e,{properties:o}=t;if(!o.length){r("{}",-2,t);return}const a=o.length>1||!1;r(a?"{":"{ "),a&&n();for(let l=0;l<o.length;l++){const{key:d,value:h}=o[l];AS(d,e),r(": "),Tr(h,e),l<o.length-1&&(r(","),i())}a&&s(),r(a?"}":" }")}function $S(t,e){bm(t.elements,e)}function OS(t,e){const{push:r,indent:n,deindent:s}=e,{params:i,returns:o,body:a,newline:l,isSlot:d}=t;d&&r(`_${jo[fm]}(`),r("(",-2,t),xe(i)?Hl(i,e):i&&Tr(i,e),r(") => "),(l||a)&&(r("{"),n()),o?(l&&r("return "),xe(o)?bm(o,e):Tr(o,e)):a&&Tr(a,e),(l||a)&&(s(),r("}")),d&&(t.isNonScopedSlot&&r(", undefined, true"),r(")"))}function DS(t,e){const{test:r,consequent:n,alternate:s,newline:i}=t,{push:o,indent:a,deindent:l,newline:d}=e;if(r.type===4){const f=!ym(r.content);f&&o("("),E_(r,e),f&&o(")")}else o("("),Tr(r,e),o(")");i&&a(),e.indentLevel++,i||o(" "),o("? "),Tr(n,e),e.indentLevel--,i&&d(),i||o(" "),o(": ");const h=s.type===19;h||e.indentLevel++,Tr(s,e),h||e.indentLevel--,i&&l(!0)}function MS(t,e){const{push:r,helper:n,indent:s,deindent:i,newline:o}=e,{needPauseTracking:a,needArraySpread:l}=t;l&&r("[...("),r(`_cache[${t.index}] || (`),a&&(s(),r(`${n(Su)}(-1`),t.inVOnce&&r(", true"),r("),"),o(),r("(")),r(`_cache[${t.index}] = `),Tr(t.value,e),a&&(r(`).cacheIndex = ${t.index},`),o(),r(`${n(Su)}(1),`),o(),r(`_cache[${t.index}]`),i()),r(")"),l&&r(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const VS=w_(/^(if|else|else-if)$/,(t,e,r)=>LS(t,e,r,(n,s,i)=>{const o=r.parent.children;let a=o.indexOf(n),l=0;for(;a-->=0;){const d=o[a];d&&d.type===9&&(l+=d.branches.length)}return()=>{if(i)n.codegenNode=xy(s,l,r);else{const d=FS(n.codegenNode);d.alternate=xy(s,l+n.branches.length-1,r)}}}));function LS(t,e,r,n){if(e.name!=="else"&&(!e.exp||!e.exp.content.trim())){const s=e.exp?e.exp.loc:t.loc;r.onError(At(28,e.loc)),e.exp=ze("true",!1,s)}if(e.name==="if"){const s=by(t,e),i={type:9,loc:dS(t.loc),branches:[s]};if(r.replaceNode(i),n)return n(i,s,!0)}else{const s=r.parent.children;let i=s.indexOf(t);for(;i-->=-1;){const o=s[i];if(o&&o.type===3){r.removeNode(o);continue}if(o&&o.type===2&&!o.content.trim().length){r.removeNode(o);continue}if(o&&o.type===9){e.name==="else-if"&&o.branches[o.branches.length-1].condition===void 0&&r.onError(At(30,t.loc)),r.removeNode();const a=by(t,e);o.branches.push(a);const l=n&&n(o,a,!1);wd(a,r),l&&l(),r.currentNode=null}else r.onError(At(30,t.loc));break}}}function by(t,e){const r=t.tagType===3;return{type:10,loc:t.loc,condition:e.name==="else"?void 0:e.exp,children:r&&!un(t,"for")?t.children:[t],userKey:_d(t,"key"),isTemplateIf:r}}function xy(t,e,r){return t.condition?Of(t.condition,_y(t,e,r),Gt(r.helper(Bl),['""',"true"])):_y(t,e,r)}function _y(t,e,r){const{helper:n}=r,s=Ft("key",ze(`${e}`,!1,on,2)),{children:i}=t,o=i[0];if(i.length!==1||o.type!==1)if(i.length===1&&o.type===11){const l=o.codegenNode;return Nu(l,s,r),l}else return xl(r,n(vl),hn([s]),i,64,void 0,void 0,!0,!1,!1,t.loc);else{const l=o.codegenNode,d=eS(l);return d.type===13&&mm(d,r),Nu(d,s,r),l}}function FS(t){for(;;)if(t.type===19)if(t.alternate.type===19)t=t.alternate;else return t;else t.type===20&&(t=t.value)}const US=(t,e,r)=>{const{modifiers:n,loc:s}=t,i=t.arg;let{exp:o}=t;if(o&&o.type===4&&!o.content.trim()&&(o=void 0),!o){if(i.type!==4||!i.isStatic)return r.onError(At(52,i.loc)),{props:[Ft(i,ze("",!0,s))]};T_(t),o=t.exp}return i.type!==4?(i.children.unshift("("),i.children.push(') || ""')):i.isStatic||(i.content=`${i.content} || ""`),n.some(a=>a.content==="camel")&&(i.type===4?i.isStatic?i.content=kt(i.content):i.content=`${r.helperString(Nf)}(${i.content})`:(i.children.unshift(`${r.helperString(Nf)}(`),i.children.push(")"))),r.inSSR||(n.some(a=>a.content==="prop")&&wy(i,"."),n.some(a=>a.content==="attr")&&wy(i,"^")),{props:[Ft(i,o)]}},T_=(t,e)=>{const r=t.arg,n=kt(r.content);t.exp=ze(n,!1,r.loc)},wy=(t,e)=>{t.type===4?t.isStatic?t.content=e+t.content:t.content=`\`${e}\${${t.content}}\``:(t.children.unshift(`'${e}' + (`),t.children.push(")"))},jS=w_("for",(t,e,r)=>{const{helper:n,removeHelper:s}=r;return BS(t,e,r,i=>{const o=Gt(n(cm),[i.source]),a=Pu(t),l=un(t,"memo"),d=_d(t,"key",!1,!0);d&&d.type===7&&!d.exp&&T_(d);let f=d&&(d.type===6?d.value?ze(d.value.content,!0):void 0:d.exp);const p=d&&f?Ft("key",f):null,y=i.source.type===4&&i.source.constType>0,b=y?64:d?128:256;return i.codegenNode=xl(r,n(vl),void 0,o,b,void 0,void 0,!0,!y,!1,t.loc),()=>{let k;const{children:_}=i,T=_.length!==1||_[0].type!==1,P=Ru(t)?t:a&&t.children.length===1&&Ru(t.children[0])?t.children[0]:null;if(P?(k=P.codegenNode,a&&p&&Nu(k,p,r)):T?k=xl(r,n(vl),p?hn([p]):void 0,t.children,64,void 0,void 0,!0,void 0,!1):(k=_[0].codegenNode,a&&p&&Nu(k,p,r),k.isBlock!==!y&&(k.isBlock?(s(Mi),s(Ho(r.inSSR,k.isComponent))):s(qo(r.inSSR,k.isComponent))),k.isBlock=!y,k.isBlock?(n(Mi),n(Ho(r.inSSR,k.isComponent))):n(qo(r.inSSR,k.isComponent))),l){const E=Bo(Vf(i.parseResult,[ze("_cached")]));E.body=j4([Sn(["const _memo = (",l.exp,")"]),Sn(["if (_cached",...f?[" && _cached.key === ",f]:[],` && ${r.helperString(l_)}(_cached, _memo)) return _cached`]),Sn(["const _item = ",k]),ze("_item.memo = _memo"),ze("return _item")]),o.arguments.push(E,ze("_cache"),ze(String(r.cached.length))),r.cached.push(null)}else o.arguments.push(Bo(Vf(i.parseResult),k,!0))}})});function BS(t,e,r,n){if(!e.exp){r.onError(At(31,e.loc));return}const s=e.forParseResult;if(!s){r.onError(At(32,e.loc));return}A_(s);const{addIdentifiers:i,removeIdentifiers:o,scopes:a}=r,{source:l,value:d,key:h,index:f}=s,p={type:11,loc:e.loc,source:l,valueAlias:d,keyAlias:h,objectIndexAlias:f,parseResult:s,children:Pu(t)?t.children:[t]};r.replaceNode(p),a.vFor++;const y=n&&n(p);return()=>{a.vFor--,y&&y()}}function A_(t,e){t.finalized||(t.finalized=!0)}function Vf({value:t,key:e,index:r},n=[]){return qS([t,e,r,...n])}function qS(t){let e=t.length;for(;e--&&!t[e];);return t.slice(0,e+1).map((r,n)=>r||ze("_".repeat(n+1),!1))}const ky=ze("undefined",!1),HS=(t,e)=>{if(t.type===1&&(t.tagType===1||t.tagType===3)){const r=un(t,"slot");if(r)return r.exp,e.scopes.vSlot++,()=>{e.scopes.vSlot--}}},zS=(t,e,r,n)=>Bo(t,r,!1,!0,r.length?r[0].loc:n);function WS(t,e,r=zS){e.helper(fm);const{children:n,loc:s}=t,i=[],o=[];let a=e.scopes.vSlot>0||e.scopes.vFor>0;const l=un(t,"slot",!0);if(l){const{arg:_,exp:T}=l;_&&!Hr(_)&&(a=!0),i.push(Ft(_||ze("default",!0),r(T,void 0,n,s)))}let d=!1,h=!1;const f=[],p=new Set;let y=0;for(let _=0;_<n.length;_++){const T=n[_];let P;if(!Pu(T)||!(P=un(T,"slot",!0))){T.type!==3&&f.push(T);continue}if(l){e.onError(At(37,P.loc));break}d=!0;const{children:E,loc:R}=T,{arg:A=ze("default",!0),exp:M,loc:I}=P;let v;Hr(A)?v=A?A.content:"default":a=!0;const m=un(T,"for"),w=r(M,m,E,R);let N,S;if(N=un(T,"if"))a=!0,o.push(Of(N.exp,$c(A,w,y++),ky));else if(S=un(T,/^else(-if)?$/,!0)){let C=_,le;for(;C--&&(le=n[C],le.type===3););if(le&&Pu(le)&&un(le,/^(else-)?if$/)){let ce=o[o.length-1];for(;ce.alternate.type===19;)ce=ce.alternate;ce.alternate=S.exp?Of(S.exp,$c(A,w,y++),ky):$c(A,w,y++)}else e.onError(At(30,S.loc))}else if(m){a=!0;const C=m.forParseResult;C?(A_(C),o.push(Gt(e.helper(cm),[C.source,Bo(Vf(C),$c(A,w),!0)]))):e.onError(At(32,m.loc))}else{if(v){if(p.has(v)){e.onError(At(38,I));continue}p.add(v),v==="default"&&(h=!0)}i.push(Ft(A,w))}}if(!l){const _=(T,P)=>{const E=r(T,void 0,P,s);return e.compatConfig&&(E.isNonScopedSlot=!0),Ft("default",E)};d?f.length&&f.some(T=>S_(T))&&(h?e.onError(At(39,f[0].loc)):i.push(_(void 0,f))):i.push(_(void 0,n))}const b=a?2:Zc(t.children)?3:1;let k=hn(i.concat(Ft("_",ze(b+"",!1))),s);return o.length&&(k=Gt(e.helper(a_),[k,Ci(o)])),{slots:k,hasDynamicSlots:a}}function $c(t,e,r){const n=[Ft("name",t),Ft("fn",e)];return r!=null&&n.push(Ft("key",ze(String(r),!0))),hn(n)}function Zc(t){for(let e=0;e<t.length;e++){const r=t[e];switch(r.type){case 1:if(r.tagType===2||Zc(r.children))return!0;break;case 9:if(Zc(r.branches))return!0;break;case 10:case 11:if(Zc(r.children))return!0;break}}return!1}function S_(t){return t.type!==2&&t.type!==12?!0:t.type===2?!!t.content.trim():S_(t.content)}const C_=new WeakMap,KS=(t,e)=>function(){if(t=e.currentNode,!(t.type===1&&(t.tagType===0||t.tagType===1)))return;const{tag:n,props:s}=t,i=t.tagType===1;let o=i?GS(t,e):`"${n}"`;const a=ht(o)&&o.callee===im;let l,d,h=0,f,p,y,b=a||o===Za||o===em||!i&&(n==="svg"||n==="foreignObject"||n==="math");if(s.length>0){const k=P_(t,e,void 0,i,a);l=k.props,h=k.patchFlag,p=k.dynamicPropNames;const _=k.directives;y=_&&_.length?Ci(_.map(T=>YS(T,e))):void 0,k.shouldUseBlock&&(b=!0)}if(t.children.length>0)if(o===Tu&&(b=!0,h|=1024),i&&o!==Za&&o!==Tu){const{slots:_,hasDynamicSlots:T}=WS(t,e);d=_,T&&(h|=1024)}else if(t.children.length===1&&o!==Za){const _=t.children[0],T=_.type,P=T===5||T===8;P&&Jr(_,e)===0&&(h|=1),P||T===2?d=_:d=t.children}else d=t.children;p&&p.length&&(f=JS(p)),t.codegenNode=xl(e,o,l,d,h===0?void 0:h,f,y,!!b,!1,i,t.loc)};function GS(t,e,r=!1){let{tag:n}=t;const s=Lf(n),i=_d(t,"is",!1,!0);if(i)if(s||Pi("COMPILER_IS_ON_ELEMENT",e)){let a;if(i.type===6?a=i.value&&ze(i.value.content,!0):(a=i.exp,a||(a=ze("is",!1,i.arg.loc))),a)return Gt(e.helper(im),[a])}else i.type===6&&i.value.content.startsWith("vue:")&&(n=i.value.content.slice(4));const o=u_(n)||e.isBuiltInComponent(n);return o?(r||e.helper(o),o):(e.helper(sm),e.components.add(n),wl(n,"component"))}function P_(t,e,r=t.props,n,s,i=!1){const{tag:o,loc:a,children:l}=t;let d=[];const h=[],f=[],p=l.length>0;let y=!1,b=0,k=!1,_=!1,T=!1,P=!1,E=!1,R=!1;const A=[],M=w=>{d.length&&(h.push(hn(Ey(d),a)),d=[]),w&&h.push(w)},I=()=>{e.scopes.vFor>0&&d.push(Ft(ze("ref_for",!0),ze("true")))},v=({key:w,value:N})=>{if(Hr(w)){const S=w.content,C=Wi(S);if(C&&(!n||s)&&S.toLowerCase()!=="onclick"&&S!=="onUpdate:modelValue"&&!qs(S)&&(P=!0),C&&qs(S)&&(R=!0),C&&N.type===14&&(N=N.arguments[0]),N.type===20||(N.type===4||N.type===8)&&Jr(N,e)>0)return;S==="ref"?k=!0:S==="class"?_=!0:S==="style"?T=!0:S!=="key"&&!A.includes(S)&&A.push(S),n&&(S==="class"||S==="style")&&!A.includes(S)&&A.push(S)}else E=!0};for(let w=0;w<r.length;w++){const N=r[w];if(N.type===6){const{loc:S,name:C,nameLoc:le,value:ce}=N;let G=!0;if(C==="ref"&&(k=!0,I()),C==="is"&&(Lf(o)||ce&&ce.content.startsWith("vue:")||Pi("COMPILER_IS_ON_ELEMENT",e)))continue;d.push(Ft(ze(C,!0,le),ze(ce?ce.content:"",G,ce?ce.loc:S)))}else{const{name:S,arg:C,exp:le,loc:ce,modifiers:G}=N,U=S==="bind",ee=S==="on";if(S==="slot"){n||e.onError(At(40,ce));continue}if(S==="once"||S==="memo"||S==="is"||U&&_i(C,"is")&&(Lf(o)||Pi("COMPILER_IS_ON_ELEMENT",e))||ee&&i)continue;if((U&&_i(C,"key")||ee&&p&&_i(C,"vue:before-update"))&&(y=!0),U&&_i(C,"ref")&&I(),!C&&(U||ee)){if(E=!0,le)if(U){if(I(),M(),Pi("COMPILER_V_BIND_OBJECT_ORDER",e)){h.unshift(le);continue}h.push(le)}else M({type:14,loc:ce,callee:e.helper(hm),arguments:n?[le]:[le,"true"]});else e.onError(At(U?34:35,ce));continue}U&&G.some(we=>we.content==="prop")&&(b|=32);const oe=e.directiveTransforms[S];if(oe){const{props:we,needRuntime:ye}=oe(N,t,e);!i&&we.forEach(v),ee&&C&&!Hr(C)?M(hn(we,a)):d.push(...we),ye&&(f.push(N),Kr(ye)&&C_.set(N,ye))}else sI(S)||(f.push(N),p&&(y=!0))}}let m;if(h.length?(M(),h.length>1?m=Gt(e.helper(Au),h,a):m=h[0]):d.length&&(m=hn(Ey(d),a)),E?b|=16:(_&&!n&&(b|=2),T&&!n&&(b|=4),A.length&&(b|=8),P&&(b|=32)),!y&&(b===0||b===32)&&(k||R||f.length>0)&&(b|=512),!e.inSSR&&m)switch(m.type){case 15:let w=-1,N=-1,S=!1;for(let ce=0;ce<m.properties.length;ce++){const G=m.properties[ce].key;Hr(G)?G.content==="class"?w=ce:G.content==="style"&&(N=ce):G.isHandlerKey||(S=!0)}const C=m.properties[w],le=m.properties[N];S?m=Gt(e.helper(bl),[m]):(C&&!Hr(C.value)&&(C.value=Gt(e.helper(um),[C.value])),le&&(T||le.value.type===4&&le.value.content.trim()[0]==="["||le.value.type===17)&&(le.value=Gt(e.helper(dm),[le.value])));break;case 14:break;default:m=Gt(e.helper(bl),[Gt(e.helper(ql),[m])]);break}return{props:m,directives:f,patchFlag:b,dynamicPropNames:A,shouldUseBlock:y}}function Ey(t){const e=new Map,r=[];for(let n=0;n<t.length;n++){const s=t[n];if(s.key.type===8||!s.key.isStatic){r.push(s);continue}const i=s.key.content,o=e.get(i);o?(i==="style"||i==="class"||Wi(i))&&QS(o,s):(e.set(i,s),r.push(s))}return r}function QS(t,e){t.value.type===17?t.value.elements.push(e.value):t.value=Ci([t.value,e.value],t.loc)}function YS(t,e){const r=[],n=C_.get(t);n?r.push(e.helperString(n)):(e.helper(om),e.directives.add(t.name),r.push(wl(t.name,"directive")));const{loc:s}=t;if(t.exp&&r.push(t.exp),t.arg&&(t.exp||r.push("void 0"),r.push(t.arg)),Object.keys(t.modifiers).length){t.arg||(t.exp||r.push("void 0"),r.push("void 0"));const i=ze("true",!1,s);r.push(hn(t.modifiers.map(o=>Ft(o,i)),s))}return Ci(r,t.loc)}function JS(t){let e="[";for(let r=0,n=t.length;r<n;r++)e+=JSON.stringify(t[r]),r<n-1&&(e+=", ");return e+"]"}function Lf(t){return t==="component"||t==="Component"}const XS=(t,e)=>{if(Ru(t)){const{children:r,loc:n}=t,{slotName:s,slotProps:i}=ZS(t,e),o=[e.prefixIdentifiers?"_ctx.$slots":"$slots",s,"{}","undefined","true"];let a=2;i&&(o[2]=i,a=3),r.length&&(o[3]=Bo([],r,!1,!1,n),a=4),e.scopeId&&!e.slotted&&(a=5),o.splice(a),t.codegenNode=Gt(e.helper(o_),o,n)}};function ZS(t,e){let r='"default"',n;const s=[];for(let i=0;i<t.props.length;i++){const o=t.props[i];if(o.type===6)o.value&&(o.name==="name"?r=JSON.stringify(o.value.content):(o.name=kt(o.name),s.push(o)));else if(o.name==="bind"&&_i(o.arg,"name")){if(o.exp)r=o.exp;else if(o.arg&&o.arg.type===4){const a=kt(o.arg.content);r=o.exp=ze(a,!1,o.arg.loc)}}else o.name==="bind"&&o.arg&&Hr(o.arg)&&(o.arg.content=kt(o.arg.content)),s.push(o)}if(s.length>0){const{props:i,directives:o}=P_(t,e,s,!1,!1);n=i,o.length&&e.onError(At(36,o[0].loc))}return{slotName:r,slotProps:n}}const R_=(t,e,r,n)=>{const{loc:s,modifiers:i,arg:o}=t;!t.exp&&!i.length&&r.onError(At(35,s));let a;if(o.type===4)if(o.isStatic){let f=o.content;f.startsWith("vue:")&&(f=`vnode-${f.slice(4)}`);const p=e.tagType!==0||f.startsWith("vnode")||!/[A-Z]/.test(f)?So(kt(f)):`on:${f}`;a=ze(p,!0,o.loc)}else a=Sn([`${r.helperString($f)}(`,o,")"]);else a=o,a.children.unshift(`${r.helperString($f)}(`),a.children.push(")");let l=t.exp;l&&!l.content.trim()&&(l=void 0);let d=r.cacheHandlers&&!l&&!r.inVOnce;if(l){const f=h_(l),p=!(f||Y4(l)),y=l.content.includes(";");(p||d&&f)&&(l=Sn([`${p?"$event":"(...args)"} => ${y?"{":"("}`,l,y?"}":")"]))}let h={props:[Ft(a,l||ze("() => {}",!1,s))]};return n&&(h=n(h)),d&&(h.props[0].value=r.cache(h.props[0].value)),h.props.forEach(f=>f.key.isHandlerKey=!0),h},e3=(t,e)=>{if(t.type===0||t.type===1||t.type===11||t.type===10)return()=>{const r=t.children;let n,s=!1;for(let i=0;i<r.length;i++){const o=r[i];if(Lh(o)){s=!0;for(let a=i+1;a<r.length;a++){const l=r[a];if(Lh(l))n||(n=r[i]=Sn([o],o.loc)),n.children.push(" + ",l),r.splice(a,1),a--;else{n=void 0;break}}}}if(!(!s||r.length===1&&(t.type===0||t.type===1&&t.tagType===0&&!t.props.find(i=>i.type===7&&!e.directiveTransforms[i.name])&&t.tag!=="template")))for(let i=0;i<r.length;i++){const o=r[i];if(Lh(o)||o.type===8){const a=[];(o.type!==2||o.content!==" ")&&a.push(o),!e.ssr&&Jr(o,e)===0&&a.push("1"),r[i]={type:12,content:o,loc:o.loc,codegenNode:Gt(e.helper(nm),a)}}}}},Iy=new WeakSet,t3=(t,e)=>{if(t.type===1&&un(t,"once",!0))return Iy.has(t)||e.inVOnce||e.inSSR?void 0:(Iy.add(t),e.inVOnce=!0,e.helper(Su),()=>{e.inVOnce=!1;const r=e.currentNode;r.codegenNode&&(r.codegenNode=e.cache(r.codegenNode,!0,!0))})},N_=(t,e,r)=>{const{exp:n,arg:s}=t;if(!n)return r.onError(At(41,t.loc)),Oc();const i=n.loc.source.trim(),o=n.type===4?n.content:i,a=r.bindingMetadata[i];if(a==="props"||a==="props-aliased")return r.onError(At(44,n.loc)),Oc();if(!o.trim()||!h_(n))return r.onError(At(42,n.loc)),Oc();const l=s||ze("modelValue",!0),d=s?Hr(s)?`onUpdate:${kt(s.content)}`:Sn(['"onUpdate:" + ',s]):"onUpdate:modelValue";let h;const f=r.isTS?"($event: any)":"$event";h=Sn([`${f} => ((`,n,") = $event)"]);const p=[Ft(l,t.exp),Ft(d,h)];if(t.modifiers.length&&e.tagType===1){const y=t.modifiers.map(k=>k.content).map(k=>(ym(k)?k:JSON.stringify(k))+": true").join(", "),b=s?Hr(s)?`${s.content}Modifiers`:Sn([s,' + "Modifiers"']):"modelModifiers";p.push(Ft(b,ze(`{ ${y} }`,!1,t.loc,2)))}return Oc(p)};function Oc(t=[]){return{props:t}}const r3=/[\w).+\-_$\]]/,n3=(t,e)=>{Pi("COMPILER_FILTERS",e)&&(t.type===5?$u(t.content,e):t.type===1&&t.props.forEach(r=>{r.type===7&&r.name!=="for"&&r.exp&&$u(r.exp,e)}))};function $u(t,e){if(t.type===4)Ty(t,e);else for(let r=0;r<t.children.length;r++){const n=t.children[r];typeof n=="object"&&(n.type===4?Ty(n,e):n.type===8?$u(t,e):n.type===5&&$u(n.content,e))}}function Ty(t,e){const r=t.content;let n=!1,s=!1,i=!1,o=!1,a=0,l=0,d=0,h=0,f,p,y,b,k=[];for(y=0;y<r.length;y++)if(p=f,f=r.charCodeAt(y),n)f===39&&p!==92&&(n=!1);else if(s)f===34&&p!==92&&(s=!1);else if(i)f===96&&p!==92&&(i=!1);else if(o)f===47&&p!==92&&(o=!1);else if(f===124&&r.charCodeAt(y+1)!==124&&r.charCodeAt(y-1)!==124&&!a&&!l&&!d)b===void 0?(h=y+1,b=r.slice(0,y).trim()):_();else{switch(f){case 34:s=!0;break;case 39:n=!0;break;case 96:i=!0;break;case 40:d++;break;case 41:d--;break;case 91:l++;break;case 93:l--;break;case 123:a++;break;case 125:a--;break}if(f===47){let T=y-1,P;for(;T>=0&&(P=r.charAt(T),P===" ");T--);(!P||!r3.test(P))&&(o=!0)}}b===void 0?b=r.slice(0,y).trim():h!==0&&_();function _(){k.push(r.slice(h,y).trim()),h=y+1}if(k.length){for(y=0;y<k.length;y++)b=s3(b,k[y],e);t.content=b,t.ast=void 0}}function s3(t,e,r){r.helper(am);const n=e.indexOf("(");if(n<0)return r.filters.add(e),`${wl(e,"filter")}(${t})`;{const s=e.slice(0,n),i=e.slice(n+1);return r.filters.add(s),`${wl(s,"filter")}(${t}${i!==")"?","+i:i}`}}const Ay=new WeakSet,i3=(t,e)=>{if(t.type===1){const r=un(t,"memo");return!r||Ay.has(t)?void 0:(Ay.add(t),()=>{const n=t.codegenNode||e.currentNode.codegenNode;n&&n.type===13&&(t.tagType!==1&&mm(n,e),t.codegenNode=Gt(e.helper(pm),[r.exp,Bo(void 0,n),"_cache",String(e.cached.length)]),e.cached.push(null))})}};function o3(t){return[[t3,VS,i3,jS,n3,XS,KS,HS,e3],{on:R_,bind:US,model:N_}]}function a3(t,e={}){const r=e.onError||gm,n=e.mode==="module";e.prefixIdentifiers===!0?r(At(47)):n&&r(At(48));const s=!1;e.cacheHandlers&&r(At(49)),e.scopeId&&!n&&r(At(50));const i=Qe({},e,{prefixIdentifiers:s}),o=Ue(t)?pS(t,i):t,[a,l]=o3();return vS(o,Qe({},i,{nodeTransforms:[...a,...e.nodeTransforms||[]],directiveTransforms:Qe({},l,e.directiveTransforms||{})})),wS(o,i)}const l3=()=>({props:[]});/**
* @vue/compiler-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const $_=Symbol(""),O_=Symbol(""),D_=Symbol(""),M_=Symbol(""),Ff=Symbol(""),V_=Symbol(""),L_=Symbol(""),F_=Symbol(""),U_=Symbol(""),j_=Symbol("");L4({[$_]:"vModelRadio",[O_]:"vModelCheckbox",[D_]:"vModelText",[M_]:"vModelSelect",[Ff]:"vModelDynamic",[V_]:"withModifiers",[L_]:"withKeys",[F_]:"vShow",[U_]:"Transition",[j_]:"TransitionGroup"});let ho;function c3(t,e=!1){return ho||(ho=document.createElement("div")),e?(ho.innerHTML=`<div foo="${t.replace(/"/g,"&quot;")}">`,ho.children[0].getAttribute("foo")):(ho.innerHTML=t,ho.textContent)}const u3={parseMode:"html",isVoidTag:_I,isNativeTag:t=>vI(t)||bI(t)||xI(t),isPreTag:t=>t==="pre",isIgnoreNewlineTag:t=>t==="pre"||t==="textarea",decodeEntities:c3,isBuiltInComponent:t=>{if(t==="Transition"||t==="transition")return U_;if(t==="TransitionGroup"||t==="transition-group")return j_},getNamespace(t,e,r){let n=e?e.ns:r;if(e&&n===2)if(e.tag==="annotation-xml"){if(t==="svg")return 1;e.props.some(s=>s.type===6&&s.name==="encoding"&&s.value!=null&&(s.value.content==="text/html"||s.value.content==="application/xhtml+xml"))&&(n=0)}else/^m(?:[ions]|text)$/.test(e.tag)&&t!=="mglyph"&&t!=="malignmark"&&(n=0);else e&&n===1&&(e.tag==="foreignObject"||e.tag==="desc"||e.tag==="title")&&(n=0);if(n===0){if(t==="svg")return 1;if(t==="math")return 2}return n}},d3=t=>{t.type===1&&t.props.forEach((e,r)=>{e.type===6&&e.name==="style"&&e.value&&(t.props[r]={type:7,name:"bind",arg:ze("style",!0,e.loc),exp:h3(e.value.content,e.loc),modifiers:[],loc:e.loc})})},h3=(t,e)=>{const r=e1(t);return ze(JSON.stringify(r),!1,e,3)};function Ws(t,e){return At(t,e)}const f3=(t,e,r)=>{const{exp:n,loc:s}=t;return n||r.onError(Ws(53,s)),e.children.length&&(r.onError(Ws(54,s)),e.children.length=0),{props:[Ft(ze("innerHTML",!0,s),n||ze("",!0))]}},p3=(t,e,r)=>{const{exp:n,loc:s}=t;return n||r.onError(Ws(55,s)),e.children.length&&(r.onError(Ws(56,s)),e.children.length=0),{props:[Ft(ze("textContent",!0),n?Jr(n,r)>0?n:Gt(r.helperString(xd),[n],s):ze("",!0))]}},m3=(t,e,r)=>{const n=N_(t,e,r);if(!n.props.length||e.tagType===1)return n;t.arg&&r.onError(Ws(58,t.arg.loc));const{tag:s}=e,i=r.isCustomElement(s);if(s==="input"||s==="textarea"||s==="select"||i){let o=D_,a=!1;if(s==="input"||i){const l=_d(e,"type");if(l){if(l.type===7)o=Ff;else if(l.value)switch(l.value.content){case"radio":o=$_;break;case"checkbox":o=O_;break;case"file":a=!0,r.onError(Ws(59,t.loc));break}}else J4(e)&&(o=Ff)}else s==="select"&&(o=M_);a||(n.needRuntime=r.helper(o))}else r.onError(Ws(57,t.loc));return n.props=n.props.filter(o=>!(o.key.type===4&&o.key.content==="modelValue")),n},g3=nn("passive,once,capture"),y3=nn("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),v3=nn("left,right"),B_=nn("onkeyup,onkeydown,onkeypress"),b3=(t,e,r,n)=>{const s=[],i=[],o=[];for(let a=0;a<e.length;a++){const l=e[a].content;l==="native"&&_l("COMPILER_V_ON_NATIVE",r)||g3(l)?o.push(l):v3(l)?Hr(t)?B_(t.content.toLowerCase())?s.push(l):i.push(l):(s.push(l),i.push(l)):y3(l)?i.push(l):s.push(l)}return{keyModifiers:s,nonKeyModifiers:i,eventOptionModifiers:o}},Sy=(t,e)=>Hr(t)&&t.content.toLowerCase()==="onclick"?ze(e,!0):t.type!==4?Sn(["(",t,`) === "onClick" ? "${e}" : (`,t,")"]):t,x3=(t,e,r)=>R_(t,e,r,n=>{const{modifiers:s}=t;if(!s.length)return n;let{key:i,value:o}=n.props[0];const{keyModifiers:a,nonKeyModifiers:l,eventOptionModifiers:d}=b3(i,s,r,t.loc);if(l.includes("right")&&(i=Sy(i,"onContextmenu")),l.includes("middle")&&(i=Sy(i,"onMouseup")),l.length&&(o=Gt(r.helper(V_),[o,JSON.stringify(l)])),a.length&&(!Hr(i)||B_(i.content.toLowerCase()))&&(o=Gt(r.helper(L_),[o,JSON.stringify(a)])),d.length){const h=d.map(Gi).join("");i=Hr(i)?ze(`${i.content}${h}`,!0):Sn(["(",i,`) + "${h}"`])}return{props:[Ft(i,o)]}}),_3=(t,e,r)=>{const{exp:n,loc:s}=t;return n||r.onError(Ws(61,s)),{props:[],needRuntime:r.helper(F_)}},w3=(t,e)=>{t.type===1&&t.tagType===0&&(t.tag==="script"||t.tag==="style")&&e.removeNode()},k3=[d3],E3={cloak:l3,html:f3,text:p3,model:m3,on:x3,show:_3};function I3(t,e={}){return a3(t,Qe({},u3,e,{nodeTransforms:[w3,...k3,...e.nodeTransforms||[]],directiveTransforms:Qe({},E3,e.directiveTransforms||{}),transformHoist:null}))}/**
* vue v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Cy=Object.create(null);function T3(t,e){if(!Ue(t))if(t.nodeType)t=t.innerHTML;else return sr;const r=aI(t,e),n=Cy[r];if(n)return n;if(t[0]==="#"){const a=document.querySelector(t);t=a?a.innerHTML:""}const s=Qe({hoistStatic:!0,onError:void 0,onWarn:sr},e);!s.isCustomElement&&typeof customElements<"u"&&(s.isCustomElement=a=>!!customElements.get(a));const{code:i}=I3(t,s),o=new Function("Vue",i)(N4);return o._rc=!0,Cy[r]=o}Cx(T3);/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let q_;const Ed=t=>q_=t,H_=Symbol();function Uf(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var el;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(el||(el={}));function A3(){const t=Rp(!0),e=t.run(()=>H({}));let r=[],n=[];const s=ud({install(i){Ed(s),s._a=i,i.provide(H_,s),i.config.globalProperties.$pinia=s,n.forEach(o=>r.push(o)),n=[]},use(i){return this._a?r.push(i):n.push(i),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return s}const z_=()=>{};function Py(t,e,r,n=z_){t.push(e);const s=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),n())};return!r&&Np()&&s1(s),s}function fo(t,...e){t.slice().forEach(r=>{r(...e)})}const S3=t=>t(),Ry=Symbol(),Uh=Symbol();function jf(t,e){t instanceof Map&&e instanceof Map?e.forEach((r,n)=>t.set(n,r)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r],s=t[r];Uf(s)&&Uf(n)&&t.hasOwnProperty(r)&&!Ct(n)&&!An(n)?t[r]=jf(s,n):t[r]=n}return t}const C3=Symbol();function P3(t){return!Uf(t)||!t.hasOwnProperty(C3)}const{assign:Cs}=Object;function R3(t){return!!(Ct(t)&&t.effect)}function N3(t,e,r,n){const{state:s,actions:i,getters:o}=e,a=r.state.value[t];let l;function d(){a||(r.state.value[t]=s?s():{});const h=w1(r.state.value[t]);return Cs(h,i,Object.keys(o||{}).reduce((f,p)=>(f[p]=ud(te(()=>{Ed(r);const y=r._s.get(t);return o[p].call(y,y)})),f),{}))}return l=W_(t,d,e,r,n,!0),l}function W_(t,e,r={},n,s,i){let o;const a=Cs({actions:{}},r),l={deep:!0};let d,h,f=[],p=[],y;const b=n.state.value[t];!i&&!b&&(n.state.value[t]={}),H({});let k;function _(v){let m;d=h=!1,typeof v=="function"?(v(n.state.value[t]),m={type:el.patchFunction,storeId:t,events:y}):(jf(n.state.value[t],v),m={type:el.patchObject,payload:v,storeId:t,events:y});const w=k=Symbol();ir().then(()=>{k===w&&(d=!0)}),h=!0,fo(f,m,n.state.value[t])}const T=i?function(){const{state:m}=r,w=m?m():{};this.$patch(N=>{Cs(N,w)})}:z_;function P(){o.stop(),f=[],p=[],n._s.delete(t)}const E=(v,m="")=>{if(Ry in v)return v[Uh]=m,v;const w=function(){Ed(n);const N=Array.from(arguments),S=[],C=[];function le(U){S.push(U)}function ce(U){C.push(U)}fo(p,{args:N,name:w[Uh],store:A,after:le,onError:ce});let G;try{G=v.apply(this&&this.$id===t?this:A,N)}catch(U){throw fo(C,U),U}return G instanceof Promise?G.then(U=>(fo(S,U),U)).catch(U=>(fo(C,U),Promise.reject(U))):(fo(S,G),G)};return w[Ry]=!0,w[Uh]=m,w},R={_p:n,$id:t,$onAction:Py.bind(null,p),$patch:_,$reset:T,$subscribe(v,m={}){const w=Py(f,v,m.detached,()=>N()),N=o.run(()=>Rt(()=>n.state.value[t],S=>{(m.flush==="sync"?h:d)&&v({storeId:t,type:el.direct,events:y},S)},Cs({},l,m)));return w},$dispose:P},A=gn(R);n._s.set(t,A);const I=(n._a&&n._a.runWithContext||S3)(()=>n._e.run(()=>(o=Rp()).run(()=>e({action:E}))));for(const v in I){const m=I[v];if(Ct(m)&&!R3(m)||An(m))i||(b&&P3(m)&&(Ct(m)?m.value=b[v]:jf(m,b[v])),n.state.value[t][v]=m);else if(typeof m=="function"){const w=E(m,v);I[v]=w,a.actions[v]=m}}return Cs(A,I),Cs(We(A),I),Object.defineProperty(A,"$state",{get:()=>n.state.value[t],set:v=>{_(m=>{Cs(m,v)})}}),n._p.forEach(v=>{Cs(A,o.run(()=>v({store:A,app:n._a,pinia:n,options:a})))}),b&&i&&r.hydrate&&r.hydrate(A.$state,b),d=!0,h=!0,A}/*! #__NO_SIDE_EFFECTS__ */function Id(t,e,r){let n,s;const i=typeof e=="function";typeof t=="string"?(n=t,s=i?r:e):(s=t,n=t.id);function o(a,l){const d=X1();return a=a||(d?it(H_,null):null),a&&Ed(a),a=q_,a._s.has(n)||(i?W_(n,e,s,a):N3(n,s,a)),a._s.get(n)}return o.$id=n,o}function $3(t){{const e=We(t),r={};for(const n in e){const s=e[n];s.effect?r[n]=te({get:()=>t[n],set(i){t[n]=i}}):(Ct(s)||An(s))&&(r[n]=k1(t,n))}return r}}const xm=Id("theme",()=>{const t=()=>{const s=localStorage.getItem("theme");return s||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")},e=H("light");typeof window<"u"&&(e.value=t(),r(e.value)),Rt(e,s=>{localStorage.setItem("theme",s),r(s)});function r(s){s==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}function n(){e.value=e.value==="light"?"dark":"light"}return{theme:e,toggleTheme:n}});/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const yo=typeof document<"u";function K_(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function O3(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&K_(t.default)}const ut=Object.assign;function jh(t,e){const r={};for(const n in e){const s=e[n];r[n]=Pn(s)?s.map(t):t(s)}return r}const tl=()=>{},Pn=Array.isArray,G_=/#/g,D3=/&/g,M3=/\//g,V3=/=/g,L3=/\?/g,Q_=/\+/g,F3=/%5B/g,U3=/%5D/g,Y_=/%5E/g,j3=/%60/g,J_=/%7B/g,B3=/%7C/g,X_=/%7D/g,q3=/%20/g;function _m(t){return encodeURI(""+t).replace(B3,"|").replace(F3,"[").replace(U3,"]")}function H3(t){return _m(t).replace(J_,"{").replace(X_,"}").replace(Y_,"^")}function Bf(t){return _m(t).replace(Q_,"%2B").replace(q3,"+").replace(G_,"%23").replace(D3,"%26").replace(j3,"`").replace(J_,"{").replace(X_,"}").replace(Y_,"^")}function z3(t){return Bf(t).replace(V3,"%3D")}function W3(t){return _m(t).replace(G_,"%23").replace(L3,"%3F")}function K3(t){return t==null?"":W3(t).replace(M3,"%2F")}function El(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const G3=/\/$/,Q3=t=>t.replace(G3,"");function Bh(t,e,r="/"){let n,s={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(n=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),s=t(i)),a>-1&&(n=n||e.slice(0,a),o=e.slice(a,e.length)),n=Z3(n??e,r),{fullPath:n+(i&&"?")+i+o,path:n,query:s,hash:El(o)}}function Y3(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function Ny(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function J3(t,e,r){const n=e.matched.length-1,s=r.matched.length-1;return n>-1&&n===s&&zo(e.matched[n],r.matched[s])&&Z_(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function zo(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Z_(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!X3(t[r],e[r]))return!1;return!0}function X3(t,e){return Pn(t)?$y(t,e):Pn(e)?$y(e,t):t===e}function $y(t,e){return Pn(e)?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function Z3(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),n=t.split("/"),s=n[n.length-1];(s===".."||s===".")&&n.push("");let i=r.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")i>1&&i--;else break;return r.slice(0,i).join("/")+"/"+n.slice(o).join("/")}const Is={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Il;(function(t){t.pop="pop",t.push="push"})(Il||(Il={}));var rl;(function(t){t.back="back",t.forward="forward",t.unknown=""})(rl||(rl={}));function e5(t){if(!t)if(yo){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Q3(t)}const t5=/^[^#]+#/;function r5(t,e){return t.replace(t5,"#")+e}function n5(t,e){const r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-r.left-(e.left||0),top:n.top-r.top-(e.top||0)}}const Td=()=>({left:window.scrollX,top:window.scrollY});function s5(t){let e;if("el"in t){const r=t.el,n=typeof r=="string"&&r.startsWith("#"),s=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!s)return;e=n5(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Oy(t,e){return(history.state?history.state.position-e:-1)+t}const qf=new Map;function i5(t,e){qf.set(t,e)}function o5(t){const e=qf.get(t);return qf.delete(t),e}let a5=()=>location.protocol+"//"+location.host;function ew(t,e){const{pathname:r,search:n,hash:s}=e,i=t.indexOf("#");if(i>-1){let a=s.includes(t.slice(i))?t.slice(i).length:1,l=s.slice(a);return l[0]!=="/"&&(l="/"+l),Ny(l,"")}return Ny(r,t)+n+s}function l5(t,e,r,n){let s=[],i=[],o=null;const a=({state:p})=>{const y=ew(t,location),b=r.value,k=e.value;let _=0;if(p){if(r.value=y,e.value=p,o&&o===b){o=null;return}_=k?p.position-k.position:0}else n(y);s.forEach(T=>{T(r.value,b,{delta:_,type:Il.pop,direction:_?_>0?rl.forward:rl.back:rl.unknown})})};function l(){o=r.value}function d(p){s.push(p);const y=()=>{const b=s.indexOf(p);b>-1&&s.splice(b,1)};return i.push(y),y}function h(){const{history:p}=window;p.state&&p.replaceState(ut({},p.state,{scroll:Td()}),"")}function f(){for(const p of i)p();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:l,listen:d,destroy:f}}function Dy(t,e,r,n=!1,s=!1){return{back:t,current:e,forward:r,replaced:n,position:window.history.length,scroll:s?Td():null}}function c5(t){const{history:e,location:r}=window,n={value:ew(t,r)},s={value:e.state};s.value||i(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,d,h){const f=t.indexOf("#"),p=f>-1?(r.host&&document.querySelector("base")?t:t.slice(f))+l:a5()+t+l;try{e[h?"replaceState":"pushState"](d,"",p),s.value=d}catch(y){console.error(y),r[h?"replace":"assign"](p)}}function o(l,d){const h=ut({},e.state,Dy(s.value.back,l,s.value.forward,!0),d,{position:s.value.position});i(l,h,!0),n.value=l}function a(l,d){const h=ut({},s.value,e.state,{forward:l,scroll:Td()});i(h.current,h,!0);const f=ut({},Dy(n.value,l,null),{position:h.position+1},d);i(l,f,!1),n.value=l}return{location:n,state:s,push:a,replace:o}}function u5(t){t=e5(t);const e=c5(t),r=l5(t,e.state,e.location,e.replace);function n(i,o=!0){o||r.pauseListeners(),history.go(i)}const s=ut({location:"",base:t,go:n,createHref:r5.bind(null,t)},e,r);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function d5(t){return typeof t=="string"||t&&typeof t=="object"}function tw(t){return typeof t=="string"||typeof t=="symbol"}const rw=Symbol("");var My;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(My||(My={}));function Wo(t,e){return ut(new Error,{type:t,[rw]:!0},e)}function Gn(t,e){return t instanceof Error&&rw in t&&(e==null||!!(t.type&e))}const Vy="[^/]+?",h5={sensitive:!1,strict:!1,start:!0,end:!0},f5=/[.+*?^${}()[\]/\\]/g;function p5(t,e){const r=ut({},h5,e),n=[];let s=r.start?"^":"";const i=[];for(const d of t){const h=d.length?[]:[90];r.strict&&!d.length&&(s+="/");for(let f=0;f<d.length;f++){const p=d[f];let y=40+(r.sensitive?.25:0);if(p.type===0)f||(s+="/"),s+=p.value.replace(f5,"\\$&"),y+=40;else if(p.type===1){const{value:b,repeatable:k,optional:_,regexp:T}=p;i.push({name:b,repeatable:k,optional:_});const P=T||Vy;if(P!==Vy){y+=10;try{new RegExp(`(${P})`)}catch(R){throw new Error(`Invalid custom RegExp for param "${b}" (${P}): `+R.message)}}let E=k?`((?:${P})(?:/(?:${P}))*)`:`(${P})`;f||(E=_&&d.length<2?`(?:/${E})`:"/"+E),_&&(E+="?"),s+=E,y+=20,_&&(y+=-8),k&&(y+=-20),P===".*"&&(y+=-50)}h.push(y)}n.push(h)}if(r.strict&&r.end){const d=n.length-1;n[d][n[d].length-1]+=.7000000000000001}r.strict||(s+="/?"),r.end?s+="$":r.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,r.sensitive?"":"i");function a(d){const h=d.match(o),f={};if(!h)return null;for(let p=1;p<h.length;p++){const y=h[p]||"",b=i[p-1];f[b.name]=y&&b.repeatable?y.split("/"):y}return f}function l(d){let h="",f=!1;for(const p of t){(!f||!h.endsWith("/"))&&(h+="/"),f=!1;for(const y of p)if(y.type===0)h+=y.value;else if(y.type===1){const{value:b,repeatable:k,optional:_}=y,T=b in d?d[b]:"";if(Pn(T)&&!k)throw new Error(`Provided param "${b}" is an array but it is not repeatable (* or + modifiers)`);const P=Pn(T)?T.join("/"):T;if(!P)if(_)p.length<2&&(h.endsWith("/")?h=h.slice(0,-1):f=!0);else throw new Error(`Missing required param "${b}"`);h+=P}}return h||"/"}return{re:o,score:n,keys:i,parse:a,stringify:l}}function m5(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=e[r]-t[r];if(n)return n;r++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function nw(t,e){let r=0;const n=t.score,s=e.score;for(;r<n.length&&r<s.length;){const i=m5(n[r],s[r]);if(i)return i;r++}if(Math.abs(s.length-n.length)===1){if(Ly(n))return 1;if(Ly(s))return-1}return s.length-n.length}function Ly(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const g5={type:0,value:""},y5=/[a-zA-Z0-9_]/;function v5(t){if(!t)return[[]];if(t==="/")return[[g5]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(y){throw new Error(`ERR (${r})/"${d}": ${y}`)}let r=0,n=r;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,l,d="",h="";function f(){d&&(r===0?i.push({type:0,value:d}):r===1||r===2||r===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:d,regexp:h,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),d="")}function p(){d+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:l==="/"?(d&&f(),o()):l===":"?(f(),r=1):p();break;case 4:p(),r=n;break;case 1:l==="("?r=2:y5.test(l)?p():(f(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+l:r=3:h+=l;break;case 3:f(),r=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,h="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${d}"`),f(),o(),s}function b5(t,e,r){const n=p5(v5(t.path),r),s=ut(n,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function x5(t,e){const r=[],n=new Map;e=By({strict:!1,end:!0,sensitive:!1},e);function s(f){return n.get(f)}function i(f,p,y){const b=!y,k=Uy(f);k.aliasOf=y&&y.record;const _=By(e,f),T=[k];if("alias"in f){const R=typeof f.alias=="string"?[f.alias]:f.alias;for(const A of R)T.push(Uy(ut({},k,{components:y?y.record.components:k.components,path:A,aliasOf:y?y.record:k})))}let P,E;for(const R of T){const{path:A}=R;if(p&&A[0]!=="/"){const M=p.record.path,I=M[M.length-1]==="/"?"":"/";R.path=p.record.path+(A&&I+A)}if(P=b5(R,p,_),y?y.alias.push(P):(E=E||P,E!==P&&E.alias.push(P),b&&f.name&&!jy(P)&&o(f.name)),sw(P)&&l(P),k.children){const M=k.children;for(let I=0;I<M.length;I++)i(M[I],P,y&&y.children[I])}y=y||P}return E?()=>{o(E)}:tl}function o(f){if(tw(f)){const p=n.get(f);p&&(n.delete(f),r.splice(r.indexOf(p),1),p.children.forEach(o),p.alias.forEach(o))}else{const p=r.indexOf(f);p>-1&&(r.splice(p,1),f.record.name&&n.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return r}function l(f){const p=k5(f,r);r.splice(p,0,f),f.record.name&&!jy(f)&&n.set(f.record.name,f)}function d(f,p){let y,b={},k,_;if("name"in f&&f.name){if(y=n.get(f.name),!y)throw Wo(1,{location:f});_=y.record.name,b=ut(Fy(p.params,y.keys.filter(E=>!E.optional).concat(y.parent?y.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),f.params&&Fy(f.params,y.keys.map(E=>E.name))),k=y.stringify(b)}else if(f.path!=null)k=f.path,y=r.find(E=>E.re.test(k)),y&&(b=y.parse(k),_=y.record.name);else{if(y=p.name?n.get(p.name):r.find(E=>E.re.test(p.path)),!y)throw Wo(1,{location:f,currentLocation:p});_=y.record.name,b=ut({},p.params,f.params),k=y.stringify(b)}const T=[];let P=y;for(;P;)T.unshift(P.record),P=P.parent;return{name:_,path:k,params:b,matched:T,meta:w5(T)}}t.forEach(f=>i(f));function h(){r.length=0,n.clear()}return{addRoute:i,resolve:d,removeRoute:o,clearRoutes:h,getRoutes:a,getRecordMatcher:s}}function Fy(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function Uy(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:_5(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function _5(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const n in t.components)e[n]=typeof r=="object"?r[n]:r;return e}function jy(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function w5(t){return t.reduce((e,r)=>ut(e,r.meta),{})}function By(t,e){const r={};for(const n in t)r[n]=n in e?e[n]:t[n];return r}function k5(t,e){let r=0,n=e.length;for(;r!==n;){const i=r+n>>1;nw(t,e[i])<0?n=i:r=i+1}const s=E5(t);return s&&(n=e.lastIndexOf(s,n-1)),n}function E5(t){let e=t;for(;e=e.parent;)if(sw(e)&&nw(t,e)===0)return e}function sw({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function I5(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<n.length;++s){const i=n[s].replace(Q_," "),o=i.indexOf("="),a=El(o<0?i:i.slice(0,o)),l=o<0?null:El(i.slice(o+1));if(a in e){let d=e[a];Pn(d)||(d=e[a]=[d]),d.push(l)}else e[a]=l}return e}function qy(t){let e="";for(let r in t){const n=t[r];if(r=z3(r),n==null){n!==void 0&&(e+=(e.length?"&":"")+r);continue}(Pn(n)?n.map(i=>i&&Bf(i)):[n&&Bf(n)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+r,i!=null&&(e+="="+i))})}return e}function T5(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=Pn(n)?n.map(s=>s==null?null:""+s):n==null?n:""+n)}return e}const A5=Symbol(""),Hy=Symbol(""),Ad=Symbol(""),wm=Symbol(""),Hf=Symbol("");function Ta(){let t=[];function e(n){return t.push(n),()=>{const s=t.indexOf(n);s>-1&&t.splice(s,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function Ds(t,e,r,n,s,i=o=>o()){const o=n&&(n.enterCallbacks[s]=n.enterCallbacks[s]||[]);return()=>new Promise((a,l)=>{const d=p=>{p===!1?l(Wo(4,{from:r,to:e})):p instanceof Error?l(p):d5(p)?l(Wo(2,{from:e,to:p})):(o&&n.enterCallbacks[s]===o&&typeof p=="function"&&o.push(p),a())},h=i(()=>t.call(n&&n.instances[s],e,r,d));let f=Promise.resolve(h);t.length<3&&(f=f.then(d)),f.catch(p=>l(p))})}function qh(t,e,r,n,s=i=>i()){const i=[];for(const o of t)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(K_(l)){const h=(l.__vccOpts||l)[e];h&&i.push(Ds(h,r,n,o,a,s))}else{let d=l();i.push(()=>d.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=O3(h)?h.default:h;o.mods[a]=h,o.components[a]=f;const y=(f.__vccOpts||f)[e];return y&&Ds(y,r,n,o,a,s)()}))}}return i}function zy(t){const e=it(Ad),r=it(wm),n=te(()=>{const l=q(t.to);return e.resolve(l)}),s=te(()=>{const{matched:l}=n.value,{length:d}=l,h=l[d-1],f=r.matched;if(!h||!f.length)return-1;const p=f.findIndex(zo.bind(null,h));if(p>-1)return p;const y=Wy(l[d-2]);return d>1&&Wy(h)===y&&f[f.length-1].path!==y?f.findIndex(zo.bind(null,l[d-2])):p}),i=te(()=>s.value>-1&&R5(r.params,n.value.params)),o=te(()=>s.value>-1&&s.value===r.matched.length-1&&Z_(r.params,n.value.params));function a(l={}){if(P5(l)){const d=e[q(t.replace)?"replace":"push"](q(t.to)).catch(tl);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>d),d}return Promise.resolve()}return{route:n,href:te(()=>n.value.href),isActive:i,isExactActive:o,navigate:a}}function S5(t){return t.length===1?t[0]:t}const C5=Ze({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:zy,setup(t,{slots:e}){const r=gn(zy(t)),{options:n}=it(Ad),s=te(()=>({[Ky(t.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[Ky(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const i=e.default&&S5(e.default(r));return t.custom?i:yt("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:s.value},i)}}}),_t=C5;function P5(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function R5(t,e){for(const r in e){const n=e[r],s=t[r];if(typeof n=="string"){if(n!==s)return!1}else if(!Pn(s)||s.length!==n.length||n.some((i,o)=>i!==s[o]))return!1}return!0}function Wy(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Ky=(t,e,r)=>t??e??r,N5=Ze({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const n=it(Hf),s=te(()=>t.route||n.value),i=it(Hy,0),o=te(()=>{let d=q(i);const{matched:h}=s.value;let f;for(;(f=h[d])&&!f.components;)d++;return d}),a=te(()=>s.value.matched[o.value]);Ht(Hy,te(()=>o.value+1)),Ht(A5,a),Ht(Hf,s);const l=H();return Rt(()=>[l.value,a.value,t.name],([d,h,f],[p,y,b])=>{h&&(h.instances[f]=d,y&&y!==h&&d&&d===p&&(h.leaveGuards.size||(h.leaveGuards=y.leaveGuards),h.updateGuards.size||(h.updateGuards=y.updateGuards))),d&&h&&(!y||!zo(h,y)||!p)&&(h.enterCallbacks[f]||[]).forEach(k=>k(d))},{flush:"post"}),()=>{const d=s.value,h=t.name,f=a.value,p=f&&f.components[h];if(!p)return Gy(r.default,{Component:p,route:d});const y=f.props[h],b=y?y===!0?d.params:typeof y=="function"?y(d):y:null,_=yt(p,ut({},b,e,{onVnodeUnmounted:T=>{T.component.isUnmounted&&(f.instances[h]=null)},ref:l}));return Gy(r.default,{Component:_,route:d})||_}}});function Gy(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const $5=N5;function O5(t){const e=x5(t.routes,t),r=t.parseQuery||I5,n=t.stringifyQuery||qy,s=t.history,i=Ta(),o=Ta(),a=Ta(),l=dd(Is);let d=Is;yo&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=jh.bind(null,W=>""+W),f=jh.bind(null,K3),p=jh.bind(null,El);function y(W,V){let F,L;return tw(W)?(F=e.getRecordMatcher(W),L=V):L=W,e.addRoute(L,F)}function b(W){const V=e.getRecordMatcher(W);V&&e.removeRoute(V)}function k(){return e.getRoutes().map(W=>W.record)}function _(W){return!!e.getRecordMatcher(W)}function T(W,V){if(V=ut({},V||l.value),typeof W=="string"){const B=Bh(r,W,V.path),Y=e.resolve({path:B.path},V),ie=s.createHref(B.fullPath);return ut(B,Y,{params:p(Y.params),hash:El(B.hash),redirectedFrom:void 0,href:ie})}let F;if(W.path!=null)F=ut({},W,{path:Bh(r,W.path,V.path).path});else{const B=ut({},W.params);for(const Y in B)B[Y]==null&&delete B[Y];F=ut({},W,{params:f(B)}),V.params=f(V.params)}const L=e.resolve(F,V),be=W.hash||"";L.params=h(p(L.params));const re=Y3(n,ut({},W,{hash:H3(be),path:L.path})),D=s.createHref(re);return ut({fullPath:re,hash:be,query:n===qy?T5(W.query):W.query||{}},L,{redirectedFrom:void 0,href:D})}function P(W){return typeof W=="string"?Bh(r,W,l.value.path):ut({},W)}function E(W,V){if(d!==W)return Wo(8,{from:V,to:W})}function R(W){return I(W)}function A(W){return R(ut(P(W),{replace:!0}))}function M(W){const V=W.matched[W.matched.length-1];if(V&&V.redirect){const{redirect:F}=V;let L=typeof F=="function"?F(W):F;return typeof L=="string"&&(L=L.includes("?")||L.includes("#")?L=P(L):{path:L},L.params={}),ut({query:W.query,hash:W.hash,params:L.path!=null?{}:W.params},L)}}function I(W,V){const F=d=T(W),L=l.value,be=W.state,re=W.force,D=W.replace===!0,B=M(F);if(B)return I(ut(P(B),{state:typeof B=="object"?ut({},be,B.state):be,force:re,replace:D}),V||F);const Y=F;Y.redirectedFrom=V;let ie;return!re&&J3(n,L,F)&&(ie=Wo(16,{to:Y,from:L}),ye(L,L,!0,!1)),(ie?Promise.resolve(ie):w(Y,L)).catch(J=>Gn(J)?Gn(J,2)?J:we(J):ee(J,Y,L)).then(J=>{if(J){if(Gn(J,2))return I(ut({replace:D},P(J.to),{state:typeof J.to=="object"?ut({},be,J.to.state):be,force:re}),V||Y)}else J=S(Y,L,!0,D,be);return N(Y,L,J),J})}function v(W,V){const F=E(W,V);return F?Promise.reject(F):Promise.resolve()}function m(W){const V=ot.values().next().value;return V&&typeof V.runWithContext=="function"?V.runWithContext(W):W()}function w(W,V){let F;const[L,be,re]=D5(W,V);F=qh(L.reverse(),"beforeRouteLeave",W,V);for(const B of L)B.leaveGuards.forEach(Y=>{F.push(Ds(Y,W,V))});const D=v.bind(null,W,V);return F.push(D),ft(F).then(()=>{F=[];for(const B of i.list())F.push(Ds(B,W,V));return F.push(D),ft(F)}).then(()=>{F=qh(be,"beforeRouteUpdate",W,V);for(const B of be)B.updateGuards.forEach(Y=>{F.push(Ds(Y,W,V))});return F.push(D),ft(F)}).then(()=>{F=[];for(const B of re)if(B.beforeEnter)if(Pn(B.beforeEnter))for(const Y of B.beforeEnter)F.push(Ds(Y,W,V));else F.push(Ds(B.beforeEnter,W,V));return F.push(D),ft(F)}).then(()=>(W.matched.forEach(B=>B.enterCallbacks={}),F=qh(re,"beforeRouteEnter",W,V,m),F.push(D),ft(F))).then(()=>{F=[];for(const B of o.list())F.push(Ds(B,W,V));return F.push(D),ft(F)}).catch(B=>Gn(B,8)?B:Promise.reject(B))}function N(W,V,F){a.list().forEach(L=>m(()=>L(W,V,F)))}function S(W,V,F,L,be){const re=E(W,V);if(re)return re;const D=V===Is,B=yo?history.state:{};F&&(L||D?s.replace(W.fullPath,ut({scroll:D&&B&&B.scroll},be)):s.push(W.fullPath,be)),l.value=W,ye(W,V,F,D),we()}let C;function le(){C||(C=s.listen((W,V,F)=>{if(!Et.listening)return;const L=T(W),be=M(L);if(be){I(ut(be,{replace:!0,force:!0}),L).catch(tl);return}d=L;const re=l.value;yo&&i5(Oy(re.fullPath,F.delta),Td()),w(L,re).catch(D=>Gn(D,12)?D:Gn(D,2)?(I(ut(P(D.to),{force:!0}),L).then(B=>{Gn(B,20)&&!F.delta&&F.type===Il.pop&&s.go(-1,!1)}).catch(tl),Promise.reject()):(F.delta&&s.go(-F.delta,!1),ee(D,L,re))).then(D=>{D=D||S(L,re,!1),D&&(F.delta&&!Gn(D,8)?s.go(-F.delta,!1):F.type===Il.pop&&Gn(D,20)&&s.go(-1,!1)),N(L,re,D)}).catch(tl)}))}let ce=Ta(),G=Ta(),U;function ee(W,V,F){we(W);const L=G.list();return L.length?L.forEach(be=>be(W,V,F)):console.error(W),Promise.reject(W)}function oe(){return U&&l.value!==Is?Promise.resolve():new Promise((W,V)=>{ce.add([W,V])})}function we(W){return U||(U=!W,le(),ce.list().forEach(([V,F])=>W?F(W):V()),ce.reset()),W}function ye(W,V,F,L){const{scrollBehavior:be}=t;if(!yo||!be)return Promise.resolve();const re=!F&&o5(Oy(W.fullPath,0))||(L||!F)&&history.state&&history.state.scroll||null;return ir().then(()=>be(W,V,re)).then(D=>D&&s5(D)).catch(D=>ee(D,W,V))}const Se=W=>s.go(W);let Le;const ot=new Set,Et={currentRoute:l,listening:!0,addRoute:y,removeRoute:b,clearRoutes:e.clearRoutes,hasRoute:_,getRoutes:k,resolve:T,options:t,push:R,replace:A,go:Se,back:()=>Se(-1),forward:()=>Se(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:G.add,isReady:oe,install(W){const V=this;W.component("RouterLink",_t),W.component("RouterView",$5),W.config.globalProperties.$router=V,Object.defineProperty(W.config.globalProperties,"$route",{enumerable:!0,get:()=>q(l)}),yo&&!Le&&l.value===Is&&(Le=!0,R(s.location).catch(be=>{}));const F={};for(const be in Is)Object.defineProperty(F,be,{get:()=>l.value[be],enumerable:!0});W.provide(Ad,V),W.provide(wm,Mp(F)),W.provide(Hf,l);const L=W.unmount;ot.add(W),W.unmount=function(){ot.delete(W),ot.size<1&&(d=Is,C&&C(),C=null,l.value=Is,Le=!1,U=!1),L()}}};function ft(W){return W.reduce((V,F)=>V.then(()=>m(F)),Promise.resolve())}return Et}function D5(t,e){const r=[],n=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(d=>zo(d,a))?n.push(a):r.push(a));const l=t.matched[o];l&&(e.matched.find(d=>zo(d,l))||s.push(l))}return[r,n,s]}function ii(){return it(Ad)}function Sd(t){return it(wm)}var Qy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);s<128?e[r++]=s:s<2048?(e[r++]=s>>6|192,e[r++]=s&63|128):(s&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=s>>18|240,e[r++]=s>>12&63|128,e[r++]=s>>6&63|128,e[r++]=s&63|128):(e[r++]=s>>12|224,e[r++]=s>>6&63|128,e[r++]=s&63|128)}return e},M5=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const s=t[r++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[r++];e[n++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[r++],o=t[r++],a=t[r++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const i=t[r++],o=t[r++];e[n++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},ow={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,d=l?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|d>>6,y=d&63;l||(y=64,o||(p=64)),n.push(r[h],r[f],r[p],r[y])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(iw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):M5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<t.length;){const i=r[t.charAt(s++)],a=s<t.length?r[t.charAt(s)]:0;++s;const d=s<t.length?r[t.charAt(s)]:64;++s;const f=s<t.length?r[t.charAt(s)]:64;if(++s,i==null||a==null||d==null||f==null)throw new V5;const p=i<<2|a>>4;if(n.push(p),d!==64){const y=a<<4&240|d>>2;if(n.push(y),f!==64){const b=d<<6&192|f;n.push(b)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class V5 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const L5=function(t){const e=iw(t);return ow.encodeByteArray(e,!0)},Ou=function(t){return L5(t).replace(/\./g,"")},aw=function(t){try{return ow.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5=()=>F5().__FIREBASE_DEFAULTS__,j5=()=>{if(typeof process>"u"||typeof Qy>"u")return;const t=Qy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},B5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&aw(t[1]);return e&&JSON.parse(e)},Cd=()=>{try{return U5()||j5()||B5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lw=t=>{var e,r;return(r=(e=Cd())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},km=t=>{const e=lw(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},cw=()=>{var t;return(t=Cd())===null||t===void 0?void 0:t.config},uw=t=>{var e;return(e=Cd())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q5{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ou(JSON.stringify(r)),Ou(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function H5(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Cr())}function z5(){var t;const e=(t=Cd())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function W5(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hw(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function K5(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function G5(){const t=Cr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Q5(){return!z5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function fw(){try{return typeof indexedDB=="object"}catch{return!1}}function pw(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){e(r)}})}function Y5(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J5="FirebaseError";class xn extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=J5,Object.setPrototypeOf(this,xn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ji.prototype.create)}}class Ji{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?X5(i,n):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new xn(s,a,n)}}function X5(t,e){return t.replace(Z5,(r,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const Z5=/\{\$([^}]+)}/g;function eC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Tl(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const s of r){if(!n.includes(s))return!1;const i=t[s],o=e[s];if(Yy(i)&&Yy(o)){if(!Tl(i,o))return!1}else if(i!==o)return!1}for(const s of n)if(!r.includes(s))return!1;return!0}function Yy(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(s=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Ma(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[s,i]=n.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Va(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function tC(t,e){const r=new rC(t,e);return r.subscribe.bind(r)}class rC{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let s;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");nC(e,["next","error","complete"])?s=e:s={next:e,error:r,complete:n},s.next===void 0&&(s.next=Hh),s.error===void 0&&(s.error=Hh),s.complete===void 0&&(s.complete=Hh);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nC(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Hh(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sC=1e3,iC=2,oC=4*60*60*1e3,aC=.5;function Jy(t,e=sC,r=iC){const n=e*Math.pow(r,t),s=Math.round(aC*n*(Math.random()-.5)*2);return Math.min(oC,n+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(t){return t&&t._delegate?t._delegate:t}class rn{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new q5;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(uC(e))try{this.getOrInitializeService({instanceIdentifier:yi})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:s});n.resolve(i)}catch{}}}}clearInstance(e=yi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yi){return this.instances.has(e)}getOptions(e=yi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);n===a&&o.resolve(s)}return s}onInit(e,r){var n;const s=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const s of n)try{s(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:cC(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=yi){return this.component?this.component.multipleInstances?e:yi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cC(t){return t===yi?void 0:t}function uC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new lC(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Je||(Je={}));const hC={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},fC=Je.INFO,pC={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},mC=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),s=pC[e];if(s)console[s](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pd{constructor(e){this.name=e,this._logLevel=fC,this._logHandler=mC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}const gC=(t,e)=>e.some(r=>t instanceof r);let Xy,Zy;function yC(){return Xy||(Xy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vC(){return Zy||(Zy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mw=new WeakMap,zf=new WeakMap,gw=new WeakMap,zh=new WeakMap,Em=new WeakMap;function bC(t){const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{r(Ks(t.result)),s()},o=()=>{n(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&mw.set(r,t)}).catch(()=>{}),Em.set(e,t),e}function xC(t){if(zf.has(t))return;const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{r(),s()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});zf.set(t,e)}let Wf={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return zf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||gw.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Ks(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _C(t){Wf=t(Wf)}function wC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Wh(this),e,...r);return gw.set(n,e.sort?e.sort():[e]),Ks(n)}:vC().includes(t)?function(...e){return t.apply(Wh(this),e),Ks(mw.get(this))}:function(...e){return Ks(t.apply(Wh(this),e))}}function kC(t){return typeof t=="function"?wC(t):(t instanceof IDBTransaction&&xC(t),gC(t,yC())?new Proxy(t,Wf):t)}function Ks(t){if(t instanceof IDBRequest)return bC(t);if(zh.has(t))return zh.get(t);const e=kC(t);return e!==t&&(zh.set(t,e),Em.set(e,t)),e}const Wh=t=>Em.get(t);function yw(t,e,{blocked:r,upgrade:n,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Ks(o);return n&&o.addEventListener("upgradeneeded",l=>{n(Ks(o.result),l.oldVersion,l.newVersion,Ks(o.transaction),l)}),r&&o.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const EC=["get","getKey","getAll","getAllKeys","count"],IC=["put","add","delete","clear"],Kh=new Map;function ev(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Kh.get(e))return Kh.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,s=IC.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||EC.includes(r)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let d=l.store;return n&&(d=d.index(a.shift())),(await Promise.all([d[r](...a),s&&l.done]))[0]};return Kh.set(e,i),i}_C(t=>({...t,get:(e,r,n)=>ev(e,r)||t.get(e,r,n),has:(e,r)=>!!ev(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(AC(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function AC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Kf="@firebase/app",tv="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs=new Pd("@firebase/app"),SC="@firebase/app-compat",CC="@firebase/analytics-compat",PC="@firebase/analytics",RC="@firebase/app-check-compat",NC="@firebase/app-check",$C="@firebase/auth",OC="@firebase/auth-compat",DC="@firebase/database",MC="@firebase/data-connect",VC="@firebase/database-compat",LC="@firebase/functions",FC="@firebase/functions-compat",UC="@firebase/installations",jC="@firebase/installations-compat",BC="@firebase/messaging",qC="@firebase/messaging-compat",HC="@firebase/performance",zC="@firebase/performance-compat",WC="@firebase/remote-config",KC="@firebase/remote-config-compat",GC="@firebase/storage",QC="@firebase/storage-compat",YC="@firebase/firestore",JC="@firebase/vertexai-preview",XC="@firebase/firestore-compat",ZC="firebase",eP="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gf="[DEFAULT]",tP={[Kf]:"fire-core",[SC]:"fire-core-compat",[PC]:"fire-analytics",[CC]:"fire-analytics-compat",[NC]:"fire-app-check",[RC]:"fire-app-check-compat",[$C]:"fire-auth",[OC]:"fire-auth-compat",[DC]:"fire-rtdb",[MC]:"fire-data-connect",[VC]:"fire-rtdb-compat",[LC]:"fire-fn",[FC]:"fire-fn-compat",[UC]:"fire-iid",[jC]:"fire-iid-compat",[BC]:"fire-fcm",[qC]:"fire-fcm-compat",[HC]:"fire-perf",[zC]:"fire-perf-compat",[WC]:"fire-rc",[KC]:"fire-rc-compat",[GC]:"fire-gcs",[QC]:"fire-gcs-compat",[YC]:"fire-fst",[XC]:"fire-fst-compat",[JC]:"fire-vertex","fire-js":"fire-js",[ZC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al=new Map,rP=new Map,Qf=new Map;function rv(t,e){try{t.container.addComponent(e)}catch(r){cs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function vn(t){const e=t.name;if(Qf.has(e))return cs.debug(`There were multiple attempts to register component ${e}.`),!1;Qf.set(e,t);for(const r of Al.values())rv(r,t);for(const r of rP.values())rv(r,t);return!0}function gs(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Vn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gs=new Ji("app","Firebase",nP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new rn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi=eP;function Im(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Gf,automaticDataCollectionEnabled:!1},e),s=n.name;if(typeof s!="string"||!s)throw Gs.create("bad-app-name",{appName:String(s)});if(r||(r=cw()),!r)throw Gs.create("no-options");const i=Al.get(s);if(i){if(Tl(r,i.options)&&Tl(n,i.config))return i;throw Gs.create("duplicate-app",{appName:s})}const o=new dC(s);for(const l of Qf.values())o.addComponent(l);const a=new sP(r,n,o);return Al.set(s,a),a}function sa(t=Gf){const e=Al.get(t);if(!e&&t===Gf&&cw())return Im();if(!e)throw Gs.create("no-app",{appName:t});return e}function iP(){return Array.from(Al.values())}function Ar(t,e,r){var n;let s=(n=tP[t])!==null&&n!==void 0?n:t;r&&(s+=`-${r}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cs.warn(a.join(" "));return}vn(new rn(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP="firebase-heartbeat-database",aP=1,Sl="firebase-heartbeat-store";let Gh=null;function vw(){return Gh||(Gh=yw(oP,aP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Sl)}catch(r){console.warn(r)}}}}).catch(t=>{throw Gs.create("idb-open",{originalErrorMessage:t.message})})),Gh}async function lP(t){try{const r=(await vw()).transaction(Sl),n=await r.objectStore(Sl).get(bw(t));return await r.done,n}catch(e){if(e instanceof xn)cs.warn(e.message);else{const r=Gs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});cs.warn(r.message)}}}async function nv(t,e){try{const n=(await vw()).transaction(Sl,"readwrite");await n.objectStore(Sl).put(e,bw(t)),await n.done}catch(r){if(r instanceof xn)cs.warn(r.message);else{const n=Gs.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});cs.warn(n.message)}}}function bw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP=1024,uP=30*24*60*60*1e3;class dP{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new fP(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=sv();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=uP}),this._storage.overwrite(this._heartbeatsCache))}catch(n){cs.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=sv(),{heartbeatsToSend:n,unsentEntries:s}=hP(this._heartbeatsCache.heartbeats),i=Ou(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return cs.warn(r),""}}}function sv(){return new Date().toISOString().substring(0,10)}function hP(t,e=cP){const r=[];let n=t.slice();for(const s of t){const i=r.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),iv(r)>e){i.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),iv(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class fP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return fw()?pw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await lP(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return nv(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return nv(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function iv(t){return Ou(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(t){vn(new rn("platform-logger",e=>new TC(e),"PRIVATE")),vn(new rn("heartbeat",e=>new dP(e),"PRIVATE")),Ar(Kf,tv,t),Ar(Kf,tv,"esm2017"),Ar("fire-js","")}pP("");function Tm(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function xw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const mP=xw,_w=new Ji("auth","Firebase",xw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Du=new Pd("@firebase/auth");function gP(t,...e){Du.logLevel<=Je.WARN&&Du.warn(`Auth (${Xi}): ${t}`,...e)}function eu(t,...e){Du.logLevel<=Je.ERROR&&Du.error(`Auth (${Xi}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rn(t,...e){throw Am(t,...e)}function Ln(t,...e){return Am(t,...e)}function ww(t,e,r){const n=Object.assign(Object.assign({},mP()),{[e]:r});return new Ji("auth","Firebase",n).create(e,{appName:t.name})}function is(t){return ww(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Am(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return _w.create(t,...e)}function Me(t,e,...r){if(!t)throw Am(e,...r)}function es(t){const e="INTERNAL ASSERTION FAILED: "+t;throw eu(e),new Error(e)}function us(t,e){t||es(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function yP(){return ov()==="http:"||ov()==="https:"}function ov(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yP()||hw()||"connection"in navigator)?navigator.onLine:!0}function bP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wl{constructor(e,r){this.shortDelay=e,this.longDelay=r,us(r>e,"Short delay should be less than long delay!"),this.isMobile=H5()||K5()}get(){return vP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(t,e){us(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=new Wl(3e4,6e4);function oi(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ai(t,e,r,n,s={}){return Ew(t,s,async()=>{let i={},o={};n&&(e==="GET"?o=n:i={body:JSON.stringify(n)});const a=zl(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:l},i);return W5()||(d.referrerPolicy="no-referrer"),kw.fetch()(Iw(t,t.config.apiHost,r,a),d)})}async function Ew(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},xP),e);try{const s=new kP(t),i=await Promise.race([r(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Dc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,d]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Dc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Dc(t,"user-disabled",o);const h=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw ww(t,h,d);Rn(t,h)}}catch(s){if(s instanceof xn)throw s;Rn(t,"network-request-failed",{message:String(s)})}}async function Kl(t,e,r,n,s={}){const i=await ai(t,e,r,n,s);return"mfaPendingCredential"in i&&Rn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function Iw(t,e,r,n){const s=`${e}${r}?${n}`;return t.config.emulator?Sm(t.config,s):`${t.config.apiScheme}://${s}`}function wP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class kP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Ln(this.auth,"network-request-failed")),_P.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Dc(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const s=Ln(t,e,n);return s.customData._tokenResponse=r,s}function av(t){return t!==void 0&&t.enterprise!==void 0}class EP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return wP(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function IP(t,e){return ai(t,"GET","/v2/recaptchaConfig",oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TP(t,e){return ai(t,"POST","/v1/accounts:delete",e)}async function Tw(t,e){return ai(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function AP(t,e=!1){const r=bt(t),n=await r.getIdToken(e),s=Cm(n);Me(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:n,authTime:nl(Qh(s.auth_time)),issuedAtTime:nl(Qh(s.iat)),expirationTime:nl(Qh(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Qh(t){return Number(t)*1e3}function Cm(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return eu("JWT malformed, contained fewer than 3 sections"),null;try{const s=aw(r);return s?JSON.parse(s):(eu("Failed to decode base64 JWT payload"),null)}catch(s){return eu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function lv(t){const e=Cm(t);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof xn&&SP(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function SP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jf{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=nl(this.lastLoginAt),this.creationTime=nl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mu(t){var e;const r=t.auth,n=await t.getIdToken(),s=await Cl(t,Tw(r,{idToken:n}));Me(s==null?void 0:s.users.length,r,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Aw(i.providerUserInfo):[],a=RP(t.providerData,o),l=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=l?d:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Jf(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function PP(t){const e=bt(t);await Mu(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RP(t,e){return[...t.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function Aw(t){return t.map(e=>{var{providerId:r}=e,n=Tm(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NP(t,e){const r=await Ew(t,{},async()=>{const n=zl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=Iw(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",kw.fetch()(o,{method:"POST",headers:a,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function $P(t,e){return ai(t,"POST","/v2/accounts:revokeToken",oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const r=lv(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:s,expiresIn:i}=await NP(e,r);this.updateTokensAndExpiration(n,s,Number(i))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:s,expirationTime:i}=r,o=new No;return n&&(Me(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),s&&(Me(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Me(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new No,this.toJSON())}_performRefresh(){return es("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ts(t,e){Me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ts{constructor(e){var{uid:r,auth:n,stsTokenManager:s}=e,i=Tm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new CP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Jf(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await Cl(this,this.stsTokenManager.getToken(this.auth,e));return Me(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return AP(this,e)}reload(){return PP(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ts(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await Mu(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(is(this.auth));const e=await this.getIdToken();return await Cl(this,TP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,s,i,o,a,l,d,h;const f=(n=r.displayName)!==null&&n!==void 0?n:void 0,p=(s=r.email)!==null&&s!==void 0?s:void 0,y=(i=r.phoneNumber)!==null&&i!==void 0?i:void 0,b=(o=r.photoURL)!==null&&o!==void 0?o:void 0,k=(a=r.tenantId)!==null&&a!==void 0?a:void 0,_=(l=r._redirectEventId)!==null&&l!==void 0?l:void 0,T=(d=r.createdAt)!==null&&d!==void 0?d:void 0,P=(h=r.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:E,emailVerified:R,isAnonymous:A,providerData:M,stsTokenManager:I}=r;Me(E&&I,e,"internal-error");const v=No.fromJSON(this.name,I);Me(typeof E=="string",e,"internal-error"),Ts(f,e.name),Ts(p,e.name),Me(typeof R=="boolean",e,"internal-error"),Me(typeof A=="boolean",e,"internal-error"),Ts(y,e.name),Ts(b,e.name),Ts(k,e.name),Ts(_,e.name),Ts(T,e.name),Ts(P,e.name);const m=new ts({uid:E,auth:e,email:p,emailVerified:R,displayName:f,isAnonymous:A,photoURL:b,phoneNumber:y,tenantId:k,stsTokenManager:v,createdAt:T,lastLoginAt:P});return M&&Array.isArray(M)&&(m.providerData=M.map(w=>Object.assign({},w))),_&&(m._redirectEventId=_),m}static async _fromIdTokenResponse(e,r,n=!1){const s=new No;s.updateFromServerResponse(r);const i=new ts({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await Mu(i),i}static async _fromGetAccountInfoResponse(e,r,n){const s=r.users[0];Me(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Aw(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new No;a.updateFromIdToken(n);const l=new ts({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Jf(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,d),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv=new Map;function rs(t){us(t instanceof Function,"Expected a class definition");let e=cv.get(t);return e?(us(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}Sw.type="NONE";const uv=Sw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(t,e,r){return`firebase:${t}:${e}:${r}`}class $o{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:s,name:i}=this.auth;this.fullUserKey=tu(this.userKey,s.apiKey,i),this.fullPersistenceKey=tu("persistence",s.apiKey,i),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ts._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new $o(rs(uv),e,n);const s=(await Promise.all(r.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||rs(uv);const o=tu(n,e.config.apiKey,e.name);let a=null;for(const d of r)try{const h=await d._get(o);if(h){const f=ts._fromJSON(e,h);d!==i&&(a=f),i=d;break}}catch{}const l=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new $o(i,e,n):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(r.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new $o(i,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Nw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Cw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ow(e))return"Blackberry";if(Dw(e))return"Webos";if(Pw(e))return"Safari";if((e.includes("chrome/")||Rw(e))&&!e.includes("edge/"))return"Chrome";if($w(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function Cw(t=Cr()){return/firefox\//i.test(t)}function Pw(t=Cr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Rw(t=Cr()){return/crios\//i.test(t)}function Nw(t=Cr()){return/iemobile/i.test(t)}function $w(t=Cr()){return/android/i.test(t)}function Ow(t=Cr()){return/blackberry/i.test(t)}function Dw(t=Cr()){return/webos/i.test(t)}function Pm(t=Cr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function OP(t=Cr()){var e;return Pm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function DP(){return G5()&&document.documentMode===10}function Mw(t=Cr()){return Pm(t)||$w(t)||Dw(t)||Ow(t)||/windows phone/i.test(t)||Nw(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vw(t,e=[]){let r;switch(t){case"Browser":r=dv(Cr());break;case"Worker":r=`${dv(Cr())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Xi}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});n.onAbort=r,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VP(t,e={}){return ai(t,"GET","/v2/passwordPolicy",oi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=6;class FP{constructor(e){var r,n,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:LP,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,s,i,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(r=l.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(s=l.containsLowercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(i=l.containsUppercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),s&&(r.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e,r,n,s){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hv(this),this.idTokenSubscription=new hv(this),this.beforeStateQueue=new MP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_w,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=rs(r)),this._initializationPromise=this.queue(async()=>{var n,s;if(!this._deleted&&(this.persistenceManager=await $o.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Tw(this,{idToken:e}),n=await ts._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Vn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,a=s==null?void 0:s._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(s=l.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await Mu(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject(is(this));const r=e?bt(e):null;return r&&Me(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(is(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject(is(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rs(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await VP(this),r=new FP(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ji("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await $P(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&rs(e)||this._popupRedirectResolver;Me(r,this,"argument-error"),this.redirectPersistenceManager=await $o.create(this,[rs(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,s){if(this._deleted)return()=>{};const i=typeof r=="function"?r:r.next.bind(r);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,s);return()=>{o=!0,l()}}else{const l=e.addObserver(r);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Vw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&gP(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Zi(t){return bt(t)}class hv{constructor(e){this.auth=e,this.observer=null,this.addObserver=tC(r=>this.observer=r)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Rd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jP(t){Rd=t}function Lw(t){return Rd.loadJS(t)}function BP(){return Rd.recaptchaEnterpriseScript}function qP(){return Rd.gapiScript}function HP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const zP="recaptcha-enterprise",WP="NO_RECAPTCHA";class KP{constructor(e){this.type=zP,this.auth=Zi(e)}async verify(e="verify",r=!1){async function n(i){if(!r){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{IP(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const d=new EP(l);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;av(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(WP)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{n(this.auth).then(a=>{if(!r&&av(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=BP();l.length!==0&&(l+=a),Lw(l).then(()=>{s(a,i,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})}}async function fv(t,e,r,n=!1){const s=new KP(t);let i;try{i=await s.verify(r)}catch{i=await s.verify(r,!0)}const o=Object.assign({},e);return n?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Xf(t,e,r,n){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await fv(t,e,r,r==="getOobCode");return n(t,i)}else return n(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await fv(t,e,r,r==="getOobCode");return n(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(t,e){const r=gs(t,"auth");if(r.isInitialized()){const s=r.getImmediate(),i=r.getOptions();if(Tl(i,e??{}))return s;Rn(s,"already-initialized")}return r.initialize({options:e})}function QP(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(rs);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function YP(t,e,r){const n=Zi(t);Me(n._canInitEmulator,n,"emulator-config-failed"),Me(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const s=!1,i=Fw(e),{host:o,port:a}=JP(e),l=a===null?"":`:${a}`;n.config.emulator={url:`${i}//${o}${l}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),XP()}function Fw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function JP(t){const e=Fw(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const i=s[1];return{host:i,port:pv(n.substr(i.length+1))}}else{const[i,o]=n.split(":");return{host:i,port:pv(o)}}}function pv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function XP(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return es("not implemented")}_getIdTokenResponse(e){return es("not implemented")}_linkToIdToken(e,r){return es("not implemented")}_getReauthenticationResolver(e){return es("not implemented")}}async function ZP(t,e){return ai(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eR(t,e){return Kl(t,"POST","/v1/accounts:signInWithPassword",oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tR(t,e){return Kl(t,"POST","/v1/accounts:signInWithEmailLink",oi(t,e))}async function rR(t,e){return Kl(t,"POST","/v1/accounts:signInWithEmailLink",oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl extends Rm{constructor(e,r,n,s=null){super("password",n),this._email=e,this._password=r,this._tenantId=s}static _fromEmailAndPassword(e,r){return new Pl(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Pl(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xf(e,r,"signInWithPassword",eR);case"emailLink":return tR(e,{email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xf(e,n,"signUpPassword",ZP);case"emailLink":return rR(e,{idToken:r,email:this._email,oobCode:this._password});default:Rn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(t,e){return Kl(t,"POST","/v1/accounts:signInWithIdp",oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="http://localhost";class Vi extends Rm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Vi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Rn("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:s}=r,i=Tm(r,["providerId","signInMethod"]);if(!n||!s)return null;const o=new Vi(n,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return Oo(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Oo(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Oo(e,r)}buildRequest(){const e={requestUri:nR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=zl(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sR(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function iR(t){const e=Ma(Va(t)).link,r=e?Ma(Va(e)).deep_link_id:null,n=Ma(Va(t)).deep_link_id;return(n?Ma(Va(n)).link:null)||n||r||e||t}class Nm{constructor(e){var r,n,s,i,o,a;const l=Ma(Va(e)),d=(r=l.apiKey)!==null&&r!==void 0?r:null,h=(n=l.oobCode)!==null&&n!==void 0?n:null,f=sR((s=l.mode)!==null&&s!==void 0?s:null);Me(d&&h&&f,"argument-error"),this.apiKey=d,this.operation=f,this.code=h,this.continueUrl=(i=l.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const r=iR(e);try{return new Nm(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(){this.providerId=ia.PROVIDER_ID}static credential(e,r){return Pl._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=Nm.parseLink(r);return Me(n,"argument-error"),Pl._fromEmailAndCode(e,n.code,n.tenantId)}}ia.PROVIDER_ID="password";ia.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ia.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl extends Uw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ms extends Gl{constructor(){super("facebook.com")}static credential(e){return Vi._fromParams({providerId:Ms.PROVIDER_ID,signInMethod:Ms.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ms.credentialFromTaggedObject(e)}static credentialFromError(e){return Ms.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ms.credential(e.oauthAccessToken)}catch{return null}}}Ms.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ms.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs extends Gl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Vi._fromParams({providerId:Vs.PROVIDER_ID,signInMethod:Vs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Vs.credentialFromTaggedObject(e)}static credentialFromError(e){return Vs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Vs.credential(r,n)}catch{return null}}}Vs.GOOGLE_SIGN_IN_METHOD="google.com";Vs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls extends Gl{constructor(){super("github.com")}static credential(e){return Vi._fromParams({providerId:Ls.PROVIDER_ID,signInMethod:Ls.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ls.credentialFromTaggedObject(e)}static credentialFromError(e){return Ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ls.credential(e.oauthAccessToken)}catch{return null}}}Ls.GITHUB_SIGN_IN_METHOD="github.com";Ls.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs extends Gl{constructor(){super("twitter.com")}static credential(e,r){return Vi._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Fs.credentialFromTaggedObject(e)}static credentialFromError(e){return Fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Fs.credential(r,n)}catch{return null}}}Fs.TWITTER_SIGN_IN_METHOD="twitter.com";Fs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oR(t,e){return Kl(t,"POST","/v1/accounts:signUp",oi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,s=!1){const i=await ts._fromIdTokenResponse(e,n,s),o=mv(n);return new Li({user:i,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const s=mv(n);return new Li({user:e,providerId:s,_tokenResponse:n,operationType:r})}}function mv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu extends xn{constructor(e,r,n,s){var i;super(r.code,r.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,Vu.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,s){return new Vu(e,r,n,s)}}function jw(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Vu._fromErrorAndOperation(t,i,e,n):i})}async function aR(t,e,r=!1){const n=await Cl(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Li._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lR(t,e,r=!1){const{auth:n}=t;if(Vn(n.app))return Promise.reject(is(n));const s="reauthenticate";try{const i=await Cl(t,jw(n,s,e,t),r);Me(i.idToken,n,"internal-error");const o=Cm(i.idToken);Me(o,n,"internal-error");const{sub:a}=o;return Me(t.uid===a,n,"user-mismatch"),Li._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Rn(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bw(t,e,r=!1){if(Vn(t.app))return Promise.reject(is(t));const n="signIn",s=await jw(t,n,e),i=await Li._fromIdTokenResponse(t,n,s);return r||await t._updateCurrentUser(i.user),i}async function cR(t,e){return Bw(Zi(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qw(t){const e=Zi(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Hw(t,e,r){if(Vn(t.app))return Promise.reject(is(t));const n=Zi(t),o=await Xf(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",oR).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&qw(t),l}),a=await Li._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(a.user),a}function zw(t,e,r){return Vn(t.app)?Promise.reject(is(t)):cR(bt(t),ia.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&qw(t),n})}function uR(t,e,r,n){return bt(t).onIdTokenChanged(e,r,n)}function dR(t,e,r){return bt(t).beforeAuthStateChanged(e,r)}function Ww(t,e,r,n){return bt(t).onAuthStateChanged(e,r,n)}function gv(t){return bt(t).signOut()}const Lu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Lu,"1"),this.storage.removeItem(Lu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR=1e3,fR=10;class Gw extends Kw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Mw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),s=this.localCache[r];n!==s&&e(r,s,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},i=this.storage.getItem(n);DP()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,fR):s()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},hR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}Gw.type="LOCAL";const pR=Gw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw extends Kw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}Qw.type="SESSION";const Yw=Qw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(s=>s.isListeningto(e));if(r)return r;const n=new Nd(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:s,data:i}=r.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const a=Array.from(o).map(async d=>d(r.origin,i)),l=await mR(a);r.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Nd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const d=$m("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},n);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:r},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(){return window}function yR(t){Fn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(){return typeof Fn().WorkerGlobalScope<"u"&&typeof Fn().importScripts=="function"}async function vR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function bR(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function xR(){return Jw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw="firebaseLocalStorageDb",_R=1,Fu="firebaseLocalStorage",Zw="fbase_key";class Ql{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function $d(t,e){return t.transaction([Fu],e?"readwrite":"readonly").objectStore(Fu)}function wR(){const t=indexedDB.deleteDatabase(Xw);return new Ql(t).toPromise()}function Zf(){const t=indexedDB.open(Xw,_R);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Fu,{keyPath:Zw})}catch(s){r(s)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Fu)?e(n):(n.close(),await wR(),e(await Zf()))})})}async function yv(t,e,r){const n=$d(t,!0).put({[Zw]:e,value:r});return new Ql(n).toPromise()}async function kR(t,e){const r=$d(t,!1).get(e),n=await new Ql(r).toPromise();return n===void 0?null:n.value}function vv(t,e){const r=$d(t,!0).delete(e);return new Ql(r).toPromise()}const ER=800,IR=3;class ek{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Zf(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>IR)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Jw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Nd._getInstance(xR()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await vR(),!this.activeServiceWorker)return;this.sender=new gR(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||bR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Zf();return await yv(e,Lu,"1"),await vv(e,Lu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>yv(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>kR(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>vv(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=$d(s,!1).getAll();return new Ql(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),r.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ER)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ek.type="LOCAL";const TR=ek;new Wl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AR(t,e){return e?rs(e):(Me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om extends Rm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oo(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Oo(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function SR(t){return Bw(t.auth,new Om(t),t.bypassAuthState)}function CR(t){const{auth:e,user:r}=t;return Me(r,e,"internal-error"),lR(r,new Om(t),t.bypassAuthState)}async function PR(t){const{auth:e,user:r}=t;return Me(r,e,"internal-error"),aR(r,new Om(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(e,r,n,s,i=!1){this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return SR;case"linkViaPopup":case"linkViaRedirect":return PR;case"reauthViaPopup":case"reauthViaRedirect":return CR;default:Rn(this.auth,"internal-error")}}resolve(e){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR=new Wl(2e3,1e4);class ko extends tk{constructor(e,r,n,s,i){super(e,r,s,i),this.provider=n,this.authWindow=null,this.pollId=null,ko.currentPopupAction&&ko.currentPopupAction.cancel(),ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){us(this.filter.length===1,"Popup operations only handle one event");const e=$m();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Ln(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ln(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ln(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,RR.get())};e()}}ko.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NR="pendingRedirect",ru=new Map;class $R extends tk{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=ru.get(this.auth._key());if(!e){try{const n=await OR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}ru.set(this.auth._key(),e)}return this.bypassAuthState||ru.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function OR(t,e){const r=VR(e),n=MR(t);if(!await n._isAvailable())return!1;const s=await n._get(r)==="true";return await n._remove(r),s}function DR(t,e){ru.set(t._key(),e)}function MR(t){return rs(t._redirectPersistence)}function VR(t){return tu(NR,t.config.apiKey,t.name)}async function LR(t,e,r=!1){if(Vn(t.app))return Promise.reject(is(t));const n=Zi(t),s=AR(n,e),o=await new $R(n,s,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=10*60*1e3;class UR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jR(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!rk(e)){const s=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Ln(this.auth,s))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=FR&&this.cachedEventUids.clear(),this.cachedEventUids.has(bv(e))}saveEventToCache(e){this.cachedEventUids.add(bv(e)),this.lastProcessedEventTime=Date.now()}}function bv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function rk({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function jR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rk(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BR(t,e={}){return ai(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HR=/^https?/;async function zR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await BR(t);for(const r of e)try{if(WR(r))return}catch{}Rn(t,"unauthorized-domain")}function WR(t){const e=Yf(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!HR.test(r))return!1;if(qR.test(t))return n===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=new Wl(3e4,6e4);function xv(){const t=Fn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function GR(t){return new Promise((e,r)=>{var n,s,i;function o(){xv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xv(),r(Ln(t,"network-request-failed"))},timeout:KR.get()})}if(!((s=(n=Fn().gapi)===null||n===void 0?void 0:n.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Fn().gapi)===null||i===void 0)&&i.load)o();else{const a=HP("iframefcb");return Fn()[a]=()=>{gapi.load?o():r(Ln(t,"network-request-failed"))},Lw(`${qP()}?onload=${a}`).catch(l=>r(l))}}).catch(e=>{throw nu=null,e})}let nu=null;function QR(t){return nu=nu||GR(t),nu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=new Wl(5e3,15e3),JR="__/auth/iframe",XR="emulator/auth/iframe",ZR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},e6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function t6(t){const e=t.config;Me(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?Sm(e,XR):`https://${t.config.authDomain}/${JR}`,n={apiKey:e.apiKey,appName:t.name,v:Xi},s=e6.get(t.config.apiHost);s&&(n.eid=s);const i=t._getFrameworks();return i.length&&(n.fw=i.join(",")),`${r}?${zl(n).slice(1)}`}async function r6(t){const e=await QR(t),r=Fn().gapi;return Me(r,t,"internal-error"),e.open({where:document.body,url:t6(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZR,dontclear:!0},n=>new Promise(async(s,i)=>{await n.restyle({setHideOnLeave:!1});const o=Ln(t,"network-request-failed"),a=Fn().setTimeout(()=>{i(o)},YR.get());function l(){Fn().clearTimeout(a),s(n)}n.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},s6=500,i6=600,o6="_blank",a6="http://localhost";class _v{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function l6(t,e,r,n=s6,s=i6){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let a="";const l=Object.assign(Object.assign({},n6),{width:n.toString(),height:s.toString(),top:i,left:o}),d=Cr().toLowerCase();r&&(a=Rw(d)?o6:r),Cw(d)&&(e=e||a6,l.scrollbars="yes");const h=Object.entries(l).reduce((p,[y,b])=>`${p}${y}=${b},`,"");if(OP(d)&&a!=="_self")return c6(e||"",a),new _v(null);const f=window.open(e||"",a,h);Me(f,t,"popup-blocked");try{f.focus()}catch{}return new _v(f)}function c6(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6="__/auth/handler",d6="emulator/auth/handler",h6=encodeURIComponent("fac");async function wv(t,e,r,n,s,i){Me(t.config.authDomain,t,"auth-domain-config-required"),Me(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Xi,eventId:s};if(e instanceof Uw){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",eC(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Gl){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),d=l?`#${h6}=${encodeURIComponent(l)}`:"";return`${f6(t)}?${zl(a).slice(1)}${d}`}function f6({config:t}){return t.emulator?Sm(t,d6):`https://${t.authDomain}/${u6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yh="webStorageSupport";class p6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Yw,this._completeRedirectFn=LR,this._overrideRedirectResult=DR}async _openPopup(e,r,n,s){var i;us((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await wv(e,r,n,Yf(),s);return l6(e,o,$m())}async _openRedirect(e,r,n,s){await this._originValidation(e);const i=await wv(e,r,n,Yf(),s);return yR(i),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:s,promise:i}=this.eventManagers[r];return s?Promise.resolve(s):(us(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await r6(e),n=new UR(e);return r.register("authEvent",s=>(Me(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Yh,{type:Yh},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Yh];o!==void 0&&r(!!o),Rn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=zR(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return Mw()||Pw()||Pm()}}const m6=p6;var kv="@firebase/auth",Ev="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function v6(t){vn(new rn("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=n.options;Me(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Vw(t)},d=new UP(n,s,i,l);return QP(d,r),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),vn(new rn("auth-internal",e=>{const r=Zi(e.getProvider("auth").getImmediate());return(n=>new g6(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ar(kv,Ev,y6(t)),Ar(kv,Ev,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6=5*60,x6=uw("authIdTokenMaxAge")||b6;let Iv=null;const _6=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>x6)return;const s=r==null?void 0:r.token;Iv!==s&&(Iv=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function oa(t=sa()){const e=gs(t,"auth");if(e.isInitialized())return e.getImmediate();const r=GP(t,{popupRedirectResolver:m6,persistence:[TR,pR,Yw]}),n=uw("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const o=_6(i.toString());dR(r,o,()=>o(r.currentUser)),uR(r,a=>o(a))}}const s=lw("auth");return s&&YP(r,`http://${s}`),r}function w6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}jP({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=s=>{const i=Ln("internal-error");i.customData=s,r(i)},n.type="text/javascript",n.charset="UTF-8",w6().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});v6("Browser");var k6="firebase",E6="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ar(k6,E6,"app");var Tv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ri,nk;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,v){function m(){}m.prototype=v.prototype,I.D=v.prototype,I.prototype=new m,I.prototype.constructor=I,I.C=function(w,N,S){for(var C=Array(arguments.length-2),le=2;le<arguments.length;le++)C[le-2]=arguments[le];return v.prototype[N].apply(w,C)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,v,m){m||(m=0);var w=Array(16);if(typeof v=="string")for(var N=0;16>N;++N)w[N]=v.charCodeAt(m++)|v.charCodeAt(m++)<<8|v.charCodeAt(m++)<<16|v.charCodeAt(m++)<<24;else for(N=0;16>N;++N)w[N]=v[m++]|v[m++]<<8|v[m++]<<16|v[m++]<<24;v=I.g[0],m=I.g[1],N=I.g[2];var S=I.g[3],C=v+(S^m&(N^S))+w[0]+3614090360&4294967295;v=m+(C<<7&4294967295|C>>>25),C=S+(N^v&(m^N))+w[1]+3905402710&4294967295,S=v+(C<<12&4294967295|C>>>20),C=N+(m^S&(v^m))+w[2]+606105819&4294967295,N=S+(C<<17&4294967295|C>>>15),C=m+(v^N&(S^v))+w[3]+3250441966&4294967295,m=N+(C<<22&4294967295|C>>>10),C=v+(S^m&(N^S))+w[4]+4118548399&4294967295,v=m+(C<<7&4294967295|C>>>25),C=S+(N^v&(m^N))+w[5]+1200080426&4294967295,S=v+(C<<12&4294967295|C>>>20),C=N+(m^S&(v^m))+w[6]+2821735955&4294967295,N=S+(C<<17&4294967295|C>>>15),C=m+(v^N&(S^v))+w[7]+4249261313&4294967295,m=N+(C<<22&4294967295|C>>>10),C=v+(S^m&(N^S))+w[8]+1770035416&4294967295,v=m+(C<<7&4294967295|C>>>25),C=S+(N^v&(m^N))+w[9]+2336552879&4294967295,S=v+(C<<12&4294967295|C>>>20),C=N+(m^S&(v^m))+w[10]+4294925233&4294967295,N=S+(C<<17&4294967295|C>>>15),C=m+(v^N&(S^v))+w[11]+2304563134&4294967295,m=N+(C<<22&4294967295|C>>>10),C=v+(S^m&(N^S))+w[12]+1804603682&4294967295,v=m+(C<<7&4294967295|C>>>25),C=S+(N^v&(m^N))+w[13]+4254626195&4294967295,S=v+(C<<12&4294967295|C>>>20),C=N+(m^S&(v^m))+w[14]+2792965006&4294967295,N=S+(C<<17&4294967295|C>>>15),C=m+(v^N&(S^v))+w[15]+1236535329&4294967295,m=N+(C<<22&4294967295|C>>>10),C=v+(N^S&(m^N))+w[1]+4129170786&4294967295,v=m+(C<<5&4294967295|C>>>27),C=S+(m^N&(v^m))+w[6]+3225465664&4294967295,S=v+(C<<9&4294967295|C>>>23),C=N+(v^m&(S^v))+w[11]+643717713&4294967295,N=S+(C<<14&4294967295|C>>>18),C=m+(S^v&(N^S))+w[0]+3921069994&4294967295,m=N+(C<<20&4294967295|C>>>12),C=v+(N^S&(m^N))+w[5]+3593408605&4294967295,v=m+(C<<5&4294967295|C>>>27),C=S+(m^N&(v^m))+w[10]+38016083&4294967295,S=v+(C<<9&4294967295|C>>>23),C=N+(v^m&(S^v))+w[15]+3634488961&4294967295,N=S+(C<<14&4294967295|C>>>18),C=m+(S^v&(N^S))+w[4]+3889429448&4294967295,m=N+(C<<20&4294967295|C>>>12),C=v+(N^S&(m^N))+w[9]+568446438&4294967295,v=m+(C<<5&4294967295|C>>>27),C=S+(m^N&(v^m))+w[14]+3275163606&4294967295,S=v+(C<<9&4294967295|C>>>23),C=N+(v^m&(S^v))+w[3]+4107603335&4294967295,N=S+(C<<14&4294967295|C>>>18),C=m+(S^v&(N^S))+w[8]+1163531501&4294967295,m=N+(C<<20&4294967295|C>>>12),C=v+(N^S&(m^N))+w[13]+2850285829&4294967295,v=m+(C<<5&4294967295|C>>>27),C=S+(m^N&(v^m))+w[2]+4243563512&4294967295,S=v+(C<<9&4294967295|C>>>23),C=N+(v^m&(S^v))+w[7]+1735328473&4294967295,N=S+(C<<14&4294967295|C>>>18),C=m+(S^v&(N^S))+w[12]+2368359562&4294967295,m=N+(C<<20&4294967295|C>>>12),C=v+(m^N^S)+w[5]+4294588738&4294967295,v=m+(C<<4&4294967295|C>>>28),C=S+(v^m^N)+w[8]+2272392833&4294967295,S=v+(C<<11&4294967295|C>>>21),C=N+(S^v^m)+w[11]+1839030562&4294967295,N=S+(C<<16&4294967295|C>>>16),C=m+(N^S^v)+w[14]+4259657740&4294967295,m=N+(C<<23&4294967295|C>>>9),C=v+(m^N^S)+w[1]+2763975236&4294967295,v=m+(C<<4&4294967295|C>>>28),C=S+(v^m^N)+w[4]+1272893353&4294967295,S=v+(C<<11&4294967295|C>>>21),C=N+(S^v^m)+w[7]+4139469664&4294967295,N=S+(C<<16&4294967295|C>>>16),C=m+(N^S^v)+w[10]+3200236656&4294967295,m=N+(C<<23&4294967295|C>>>9),C=v+(m^N^S)+w[13]+681279174&4294967295,v=m+(C<<4&4294967295|C>>>28),C=S+(v^m^N)+w[0]+3936430074&4294967295,S=v+(C<<11&4294967295|C>>>21),C=N+(S^v^m)+w[3]+3572445317&4294967295,N=S+(C<<16&4294967295|C>>>16),C=m+(N^S^v)+w[6]+76029189&4294967295,m=N+(C<<23&4294967295|C>>>9),C=v+(m^N^S)+w[9]+3654602809&4294967295,v=m+(C<<4&4294967295|C>>>28),C=S+(v^m^N)+w[12]+3873151461&4294967295,S=v+(C<<11&4294967295|C>>>21),C=N+(S^v^m)+w[15]+530742520&4294967295,N=S+(C<<16&4294967295|C>>>16),C=m+(N^S^v)+w[2]+3299628645&4294967295,m=N+(C<<23&4294967295|C>>>9),C=v+(N^(m|~S))+w[0]+4096336452&4294967295,v=m+(C<<6&4294967295|C>>>26),C=S+(m^(v|~N))+w[7]+1126891415&4294967295,S=v+(C<<10&4294967295|C>>>22),C=N+(v^(S|~m))+w[14]+2878612391&4294967295,N=S+(C<<15&4294967295|C>>>17),C=m+(S^(N|~v))+w[5]+4237533241&4294967295,m=N+(C<<21&4294967295|C>>>11),C=v+(N^(m|~S))+w[12]+1700485571&4294967295,v=m+(C<<6&4294967295|C>>>26),C=S+(m^(v|~N))+w[3]+2399980690&4294967295,S=v+(C<<10&4294967295|C>>>22),C=N+(v^(S|~m))+w[10]+4293915773&4294967295,N=S+(C<<15&4294967295|C>>>17),C=m+(S^(N|~v))+w[1]+2240044497&4294967295,m=N+(C<<21&4294967295|C>>>11),C=v+(N^(m|~S))+w[8]+1873313359&4294967295,v=m+(C<<6&4294967295|C>>>26),C=S+(m^(v|~N))+w[15]+4264355552&4294967295,S=v+(C<<10&4294967295|C>>>22),C=N+(v^(S|~m))+w[6]+2734768916&4294967295,N=S+(C<<15&4294967295|C>>>17),C=m+(S^(N|~v))+w[13]+1309151649&4294967295,m=N+(C<<21&4294967295|C>>>11),C=v+(N^(m|~S))+w[4]+4149444226&4294967295,v=m+(C<<6&4294967295|C>>>26),C=S+(m^(v|~N))+w[11]+3174756917&4294967295,S=v+(C<<10&4294967295|C>>>22),C=N+(v^(S|~m))+w[2]+718787259&4294967295,N=S+(C<<15&4294967295|C>>>17),C=m+(S^(N|~v))+w[9]+3951481745&4294967295,I.g[0]=I.g[0]+v&4294967295,I.g[1]=I.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+S&4294967295}n.prototype.u=function(I,v){v===void 0&&(v=I.length);for(var m=v-this.blockSize,w=this.B,N=this.h,S=0;S<v;){if(N==0)for(;S<=m;)s(this,I,S),S+=this.blockSize;if(typeof I=="string"){for(;S<v;)if(w[N++]=I.charCodeAt(S++),N==this.blockSize){s(this,w),N=0;break}}else for(;S<v;)if(w[N++]=I[S++],N==this.blockSize){s(this,w),N=0;break}}this.h=N,this.o+=v},n.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var v=1;v<I.length-8;++v)I[v]=0;var m=8*this.o;for(v=I.length-8;v<I.length;++v)I[v]=m&255,m/=256;for(this.u(I),I=Array(16),v=m=0;4>v;++v)for(var w=0;32>w;w+=8)I[m++]=this.g[v]>>>w&255;return I};function i(I,v){var m=a;return Object.prototype.hasOwnProperty.call(m,I)?m[I]:m[I]=v(I)}function o(I,v){this.h=v;for(var m=[],w=!0,N=I.length-1;0<=N;N--){var S=I[N]|0;w&&S==v||(m[N]=S,w=!1)}this.g=m}var a={};function l(I){return-128<=I&&128>I?i(I,function(v){return new o([v|0],0>v?-1:0)}):new o([I|0],0>I?-1:0)}function d(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return _(d(-I));for(var v=[],m=1,w=0;I>=m;w++)v[w]=I/m|0,m*=4294967296;return new o(v,0)}function h(I,v){if(I.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(I.charAt(0)=="-")return _(h(I.substring(1),v));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var m=d(Math.pow(v,8)),w=f,N=0;N<I.length;N+=8){var S=Math.min(8,I.length-N),C=parseInt(I.substring(N,N+S),v);8>S?(S=d(Math.pow(v,S)),w=w.j(S).add(d(C))):(w=w.j(m),w=w.add(d(C)))}return w}var f=l(0),p=l(1),y=l(16777216);t=o.prototype,t.m=function(){if(k(this))return-_(this).m();for(var I=0,v=1,m=0;m<this.g.length;m++){var w=this.i(m);I+=(0<=w?w:4294967296+w)*v,v*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(b(this))return"0";if(k(this))return"-"+_(this).toString(I);for(var v=d(Math.pow(I,6)),m=this,w="";;){var N=R(m,v).g;m=T(m,N.j(v));var S=((0<m.g.length?m.g[0]:m.h)>>>0).toString(I);if(m=N,b(m))return S+w;for(;6>S.length;)S="0"+S;w=S+w}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function b(I){if(I.h!=0)return!1;for(var v=0;v<I.g.length;v++)if(I.g[v]!=0)return!1;return!0}function k(I){return I.h==-1}t.l=function(I){return I=T(this,I),k(I)?-1:b(I)?0:1};function _(I){for(var v=I.g.length,m=[],w=0;w<v;w++)m[w]=~I.g[w];return new o(m,~I.h).add(p)}t.abs=function(){return k(this)?_(this):this},t.add=function(I){for(var v=Math.max(this.g.length,I.g.length),m=[],w=0,N=0;N<=v;N++){var S=w+(this.i(N)&65535)+(I.i(N)&65535),C=(S>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);w=C>>>16,S&=65535,C&=65535,m[N]=C<<16|S}return new o(m,m[m.length-1]&-2147483648?-1:0)};function T(I,v){return I.add(_(v))}t.j=function(I){if(b(this)||b(I))return f;if(k(this))return k(I)?_(this).j(_(I)):_(_(this).j(I));if(k(I))return _(this.j(_(I)));if(0>this.l(y)&&0>I.l(y))return d(this.m()*I.m());for(var v=this.g.length+I.g.length,m=[],w=0;w<2*v;w++)m[w]=0;for(w=0;w<this.g.length;w++)for(var N=0;N<I.g.length;N++){var S=this.i(w)>>>16,C=this.i(w)&65535,le=I.i(N)>>>16,ce=I.i(N)&65535;m[2*w+2*N]+=C*ce,P(m,2*w+2*N),m[2*w+2*N+1]+=S*ce,P(m,2*w+2*N+1),m[2*w+2*N+1]+=C*le,P(m,2*w+2*N+1),m[2*w+2*N+2]+=S*le,P(m,2*w+2*N+2)}for(w=0;w<v;w++)m[w]=m[2*w+1]<<16|m[2*w];for(w=v;w<2*v;w++)m[w]=0;return new o(m,0)};function P(I,v){for(;(I[v]&65535)!=I[v];)I[v+1]+=I[v]>>>16,I[v]&=65535,v++}function E(I,v){this.g=I,this.h=v}function R(I,v){if(b(v))throw Error("division by zero");if(b(I))return new E(f,f);if(k(I))return v=R(_(I),v),new E(_(v.g),_(v.h));if(k(v))return v=R(I,_(v)),new E(_(v.g),v.h);if(30<I.g.length){if(k(I)||k(v))throw Error("slowDivide_ only works with positive integers.");for(var m=p,w=v;0>=w.l(I);)m=A(m),w=A(w);var N=M(m,1),S=M(w,1);for(w=M(w,2),m=M(m,2);!b(w);){var C=S.add(w);0>=C.l(I)&&(N=N.add(m),S=C),w=M(w,1),m=M(m,1)}return v=T(I,N.j(v)),new E(N,v)}for(N=f;0<=I.l(v);){for(m=Math.max(1,Math.floor(I.m()/v.m())),w=Math.ceil(Math.log(m)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),S=d(m),C=S.j(v);k(C)||0<C.l(I);)m-=w,S=d(m),C=S.j(v);b(S)&&(S=p),N=N.add(S),I=T(I,C)}return new E(N,I)}t.A=function(I){return R(this,I).h},t.and=function(I){for(var v=Math.max(this.g.length,I.g.length),m=[],w=0;w<v;w++)m[w]=this.i(w)&I.i(w);return new o(m,this.h&I.h)},t.or=function(I){for(var v=Math.max(this.g.length,I.g.length),m=[],w=0;w<v;w++)m[w]=this.i(w)|I.i(w);return new o(m,this.h|I.h)},t.xor=function(I){for(var v=Math.max(this.g.length,I.g.length),m=[],w=0;w<v;w++)m[w]=this.i(w)^I.i(w);return new o(m,this.h^I.h)};function A(I){for(var v=I.g.length+1,m=[],w=0;w<v;w++)m[w]=I.i(w)<<1|I.i(w-1)>>>31;return new o(m,I.h)}function M(I,v){var m=v>>5;v%=32;for(var w=I.g.length-m,N=[],S=0;S<w;S++)N[S]=0<v?I.i(S+m)>>>v|I.i(S+m+1)<<32-v:I.i(S+m);return new o(N,I.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,nk=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,Ri=o}).apply(typeof Tv<"u"?Tv:typeof self<"u"?self:typeof window<"u"?window:{});var Mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var sk,La,ik,su,ep,ok,ak,lk;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,x){return u==Array.prototype||u==Object.prototype||(u[g]=x.value),u};function r(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mc=="object"&&Mc];for(var g=0;g<u.length;++g){var x=u[g];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var n=r(this);function s(u,g){if(g)e:{var x=n;u=u.split(".");for(var $=0;$<u.length-1;$++){var Q=u[$];if(!(Q in x))break e;x=x[Q]}u=u[u.length-1],$=x[u],g=g($),g!=$&&g!=null&&e(x,u,{configurable:!0,writable:!0,value:g})}}function i(u,g){u instanceof String&&(u+="");var x=0,$=!1,Q={next:function(){if(!$&&x<u.length){var X=x++;return{value:g(X,u[X]),done:!1}}return $=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}s("Array.prototype.values",function(u){return u||function(){return i(this,function(g,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function d(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function h(u,g,x){return u.call.apply(u.bind,arguments)}function f(u,g,x){if(!u)throw Error();if(2<arguments.length){var $=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,$),u.apply(g,Q)}}return function(){return u.apply(g,arguments)}}function p(u,g,x){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function y(u,g){var x=Array.prototype.slice.call(arguments,1);return function(){var $=x.slice();return $.push.apply($,arguments),u.apply(this,$)}}function b(u,g){function x(){}x.prototype=g.prototype,u.aa=g.prototype,u.prototype=new x,u.prototype.constructor=u,u.Qb=function($,Q,X){for(var ge=Array(arguments.length-2),gt=2;gt<arguments.length;gt++)ge[gt-2]=arguments[gt];return g.prototype[Q].apply($,ge)}}function k(u){const g=u.length;if(0<g){const x=Array(g);for(let $=0;$<g;$++)x[$]=u[$];return x}return[]}function _(u,g){for(let x=1;x<arguments.length;x++){const $=arguments[x];if(l($)){const Q=u.length||0,X=$.length||0;u.length=Q+X;for(let ge=0;ge<X;ge++)u[Q+ge]=$[ge]}else u.push($)}}class T{constructor(g,x){this.i=g,this.j=x,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function P(u){return/^[\s\xa0]*$/.test(u)}function E(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function R(u){return R[" "](u),u}R[" "]=function(){};var A=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function M(u,g,x){for(const $ in u)g.call(x,u[$],$,u)}function I(u,g){for(const x in u)g.call(void 0,u[x],x,u)}function v(u){const g={};for(const x in u)g[x]=u[x];return g}const m="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(u,g){let x,$;for(let Q=1;Q<arguments.length;Q++){$=arguments[Q];for(x in $)u[x]=$[x];for(let X=0;X<m.length;X++)x=m[X],Object.prototype.hasOwnProperty.call($,x)&&(u[x]=$[x])}}function N(u){var g=1;u=u.split(":");const x=[];for(;0<g&&u.length;)x.push(u.shift()),g--;return u.length&&x.push(u.join(":")),x}function S(u){a.setTimeout(()=>{throw u},0)}function C(){var u=oe;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class le{constructor(){this.h=this.g=null}add(g,x){const $=ce.get();$.set(g,x),this.h?this.h.next=$:this.g=$,this.h=$}}var ce=new T(()=>new G,u=>u.reset());class G{constructor(){this.next=this.g=this.h=null}set(g,x){this.h=g,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let U,ee=!1,oe=new le,we=()=>{const u=a.Promise.resolve(void 0);U=()=>{u.then(ye)}};var ye=()=>{for(var u;u=C();){try{u.h.call(u.g)}catch(x){S(x)}var g=ce;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}ee=!1};function Se(){this.s=this.s,this.C=this.C}Se.prototype.s=!1,Se.prototype.ma=function(){this.s||(this.s=!0,this.N())},Se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Le(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}Le.prototype.h=function(){this.defaultPrevented=!0};var ot=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const x=()=>{};a.addEventListener("test",x,g),a.removeEventListener("test",x,g)}catch{}return u}();function Et(u,g){if(Le.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var x=this.type=u.type,$=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(A){e:{try{R(g.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(g=null)}}else x=="mouseover"?g=u.fromElement:x=="mouseout"&&(g=u.toElement);this.relatedTarget=g,$?(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ft[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Et.aa.h.call(this)}}b(Et,Le);var ft={2:"touch",3:"pen",4:"mouse"};Et.prototype.h=function(){Et.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var W="closure_listenable_"+(1e6*Math.random()|0),V=0;function F(u,g,x,$,Q){this.listener=u,this.proxy=null,this.src=g,this.type=x,this.capture=!!$,this.ha=Q,this.key=++V,this.da=this.fa=!1}function L(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function be(u){this.src=u,this.g={},this.h=0}be.prototype.add=function(u,g,x,$,Q){var X=u.toString();u=this.g[X],u||(u=this.g[X]=[],this.h++);var ge=D(u,g,$,Q);return-1<ge?(g=u[ge],x||(g.fa=!1)):(g=new F(g,this.src,X,!!$,Q),g.fa=x,u.push(g)),g};function re(u,g){var x=g.type;if(x in u.g){var $=u.g[x],Q=Array.prototype.indexOf.call($,g,void 0),X;(X=0<=Q)&&Array.prototype.splice.call($,Q,1),X&&(L(g),u.g[x].length==0&&(delete u.g[x],u.h--))}}function D(u,g,x,$){for(var Q=0;Q<u.length;++Q){var X=u[Q];if(!X.da&&X.listener==g&&X.capture==!!x&&X.ha==$)return Q}return-1}var B="closure_lm_"+(1e6*Math.random()|0),Y={};function ie(u,g,x,$,Q){if(Array.isArray(g)){for(var X=0;X<g.length;X++)ie(u,g[X],x,$,Q);return null}return x=Ce(x),u&&u[W]?u.K(g,x,d($)?!!$.capture:!1,Q):J(u,g,x,!1,$,Q)}function J(u,g,x,$,Q,X){if(!g)throw Error("Invalid event type");var ge=d(Q)?!!Q.capture:!!Q,gt=Ne(u);if(gt||(u[B]=gt=new be(u)),x=gt.add(g,x,$,ge,X),x.proxy)return x;if($=ne(),x.proxy=$,$.src=u,$.listener=x,u.addEventListener)ot||(Q=ge),Q===void 0&&(Q=!1),u.addEventListener(g.toString(),$,Q);else if(u.attachEvent)u.attachEvent(me(g.toString()),$);else if(u.addListener&&u.removeListener)u.addListener($);else throw Error("addEventListener and attachEvent are unavailable.");return x}function ne(){function u(x){return g.call(u.src,u.listener,x)}const g=ue;return u}function pe(u,g,x,$,Q){if(Array.isArray(g))for(var X=0;X<g.length;X++)pe(u,g[X],x,$,Q);else $=d($)?!!$.capture:!!$,x=Ce(x),u&&u[W]?(u=u.i,g=String(g).toString(),g in u.g&&(X=u.g[g],x=D(X,x,$,Q),-1<x&&(L(X[x]),Array.prototype.splice.call(X,x,1),X.length==0&&(delete u.g[g],u.h--)))):u&&(u=Ne(u))&&(g=u.g[g.toString()],u=-1,g&&(u=D(g,x,$,Q)),(x=-1<u?g[u]:null)&&he(x))}function he(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[W])re(g.i,u);else{var x=u.type,$=u.proxy;g.removeEventListener?g.removeEventListener(x,$,u.capture):g.detachEvent?g.detachEvent(me(x),$):g.addListener&&g.removeListener&&g.removeListener($),(x=Ne(g))?(re(x,u),x.h==0&&(x.src=null,g[B]=null)):L(u)}}}function me(u){return u in Y?Y[u]:Y[u]="on"+u}function ue(u,g){if(u.da)u=!0;else{g=new Et(g,this);var x=u.listener,$=u.ha||u.src;u.fa&&he(u),u=x.call($,g)}return u}function Ne(u){return u=u[B],u instanceof be?u:null}var ve="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ce(u){return typeof u=="function"?u:(u[ve]||(u[ve]=function(g){return u.handleEvent(g)}),u[ve])}function Ee(){Se.call(this),this.i=new be(this),this.M=this,this.F=null}b(Ee,Se),Ee.prototype[W]=!0,Ee.prototype.removeEventListener=function(u,g,x,$){pe(this,u,g,x,$)};function Oe(u,g){var x,$=u.F;if($)for(x=[];$;$=$.F)x.push($);if(u=u.M,$=g.type||g,typeof g=="string")g=new Le(g,u);else if(g instanceof Le)g.target=g.target||u;else{var Q=g;g=new Le($,u),w(g,Q)}if(Q=!0,x)for(var X=x.length-1;0<=X;X--){var ge=g.g=x[X];Q=at(ge,$,!0,g)&&Q}if(ge=g.g=u,Q=at(ge,$,!0,g)&&Q,Q=at(ge,$,!1,g)&&Q,x)for(X=0;X<x.length;X++)ge=g.g=x[X],Q=at(ge,$,!1,g)&&Q}Ee.prototype.N=function(){if(Ee.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var x=u.g[g],$=0;$<x.length;$++)L(x[$]);delete u.g[g],u.h--}}this.F=null},Ee.prototype.K=function(u,g,x,$){return this.i.add(String(u),g,!1,x,$)},Ee.prototype.L=function(u,g,x,$){return this.i.add(String(u),g,!0,x,$)};function at(u,g,x,$){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var Q=!0,X=0;X<g.length;++X){var ge=g[X];if(ge&&!ge.da&&ge.capture==x){var gt=ge.listener,er=ge.ha||ge.src;ge.fa&&re(u.i,ge),Q=gt.call(er,$)!==!1&&Q}}return Q&&!$.defaultPrevented}function rt(u,g,x){if(typeof u=="function")x&&(u=p(u,x));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(u,g||0)}function hr(u){u.g=rt(()=>{u.g=null,u.i&&(u.i=!1,hr(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Jt extends Se{constructor(g,x){super(),this.m=g,this.l=x,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:hr(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zt(u){Se.call(this),this.h=u,this.g={}}b(Zt,Se);var fr=[];function bs(u){M(u.g,function(g,x){this.g.hasOwnProperty(x)&&he(g)},u),u.g={}}Zt.prototype.N=function(){Zt.aa.N.call(this),bs(this)},Zt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var no=a.JSON.stringify,Pr=a.JSON.parse,an=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function so(){}so.prototype.h=null;function Og(u){return u.h||(u.h=u.i())}function Dg(){}var da={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hh(){Le.call(this,"d")}b(hh,Le);function fh(){Le.call(this,"c")}b(fh,Le);var ci={},Mg=null;function ac(){return Mg=Mg||new Ee}ci.La="serverreachability";function Vg(u){Le.call(this,ci.La,u)}b(Vg,Le);function ha(u){const g=ac();Oe(g,new Vg(g))}ci.STAT_EVENT="statevent";function Lg(u,g){Le.call(this,ci.STAT_EVENT,u),this.stat=g}b(Lg,Le);function Rr(u){const g=ac();Oe(g,new Lg(g,u))}ci.Ma="timingevent";function Fg(u,g){Le.call(this,ci.Ma,u),this.size=g}b(Fg,Le);function fa(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},g)}function pa(){this.g=!0}pa.prototype.xa=function(){this.g=!1};function NE(u,g,x,$,Q,X){u.info(function(){if(u.g)if(X)for(var ge="",gt=X.split("&"),er=0;er<gt.length;er++){var nt=gt[er].split("=");if(1<nt.length){var pr=nt[0];nt=nt[1];var mr=pr.split("_");ge=2<=mr.length&&mr[1]=="type"?ge+(pr+"="+nt+"&"):ge+(pr+"=redacted&")}}else ge=null;else ge=X;return"XMLHTTP REQ ("+$+") [attempt "+Q+"]: "+g+`
`+x+`
`+ge})}function $E(u,g,x,$,Q,X,ge){u.info(function(){return"XMLHTTP RESP ("+$+") [ attempt "+Q+"]: "+g+`
`+x+`
`+X+" "+ge})}function io(u,g,x,$){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+DE(u,x)+($?" "+$:"")})}function OE(u,g){u.info(function(){return"TIMEOUT: "+g})}pa.prototype.info=function(){};function DE(u,g){if(!u.g)return g;if(!g)return null;try{var x=JSON.parse(g);if(x){for(u=0;u<x.length;u++)if(Array.isArray(x[u])){var $=x[u];if(!(2>$.length)){var Q=$[1];if(Array.isArray(Q)&&!(1>Q.length)){var X=Q[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ge=1;ge<Q.length;ge++)Q[ge]=""}}}}return no(x)}catch{return g}}var lc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ug={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ph;function cc(){}b(cc,so),cc.prototype.g=function(){return new XMLHttpRequest},cc.prototype.i=function(){return{}},ph=new cc;function xs(u,g,x,$){this.j=u,this.i=g,this.l=x,this.R=$||1,this.U=new Zt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new jg}function jg(){this.i=null,this.g="",this.h=!1}var Bg={},mh={};function gh(u,g,x){u.L=1,u.v=fc(Hn(g)),u.m=x,u.P=!0,qg(u,null)}function qg(u,g){u.F=Date.now(),uc(u),u.A=Hn(u.v);var x=u.A,$=u.R;Array.isArray($)||($=[String($)]),n0(x.i,"t",$),u.C=0,x=u.j.J,u.h=new jg,u.g=_0(u.j,x?g:null,!u.m),0<u.O&&(u.M=new Jt(p(u.Y,u,u.g),u.O)),g=u.U,x=u.g,$=u.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(fr[0]=Q.toString()),Q=fr);for(var X=0;X<Q.length;X++){var ge=ie(x,Q[X],$||g.handleEvent,!1,g.h||g);if(!ge)break;g.g[ge.key]=ge}g=u.H?v(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),ha(),NE(u.i,u.u,u.A,u.l,u.R,u.m)}xs.prototype.ca=function(u){u=u.target;const g=this.M;g&&zn(u)==3?g.j():this.Y(u)},xs.prototype.Y=function(u){try{if(u==this.g)e:{const mr=zn(this.g);var g=this.g.Ba();const lo=this.g.Z();if(!(3>mr)&&(mr!=3||this.g&&(this.h.h||this.g.oa()||u0(this.g)))){this.J||mr!=4||g==7||(g==8||0>=lo?ha(3):ha(2)),yh(this);var x=this.g.Z();this.X=x;t:if(Hg(this)){var $=u0(this.g);u="";var Q=$.length,X=zn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ui(this),ma(this);var ge="";break t}this.h.i=new a.TextDecoder}for(g=0;g<Q;g++)this.h.h=!0,u+=this.h.i.decode($[g],{stream:!(X&&g==Q-1)});$.length=0,this.h.g+=u,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=x==200,$E(this.i,this.u,this.A,this.l,this.R,mr,x),this.o){if(this.T&&!this.K){t:{if(this.g){var gt,er=this.g;if((gt=er.g?er.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(gt)){var nt=gt;break t}}nt=null}if(x=nt)io(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vh(this,x);else{this.o=!1,this.s=3,Rr(12),ui(this),ma(this);break e}}if(this.P){x=!0;let _n;for(;!this.J&&this.C<ge.length;)if(_n=ME(this,ge),_n==mh){mr==4&&(this.s=4,Rr(14),x=!1),io(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==Bg){this.s=4,Rr(15),io(this.i,this.l,ge,"[Invalid Chunk]"),x=!1;break}else io(this.i,this.l,_n,null),vh(this,_n);if(Hg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),mr!=4||ge.length!=0||this.h.h||(this.s=1,Rr(16),x=!1),this.o=this.o&&x,!x)io(this.i,this.l,ge,"[Invalid Chunked Response]"),ui(this),ma(this);else if(0<ge.length&&!this.W){this.W=!0;var pr=this.j;pr.g==this&&pr.ba&&!pr.M&&(pr.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),Eh(pr),pr.M=!0,Rr(11))}}else io(this.i,this.l,ge,null),vh(this,ge);mr==4&&ui(this),this.o&&!this.J&&(mr==4?y0(this.j,this):(this.o=!1,uc(this)))}else ZE(this.g),x==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Rr(12)):(this.s=0,Rr(13)),ui(this),ma(this)}}}catch{}finally{}};function Hg(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ME(u,g){var x=u.C,$=g.indexOf(`
`,x);return $==-1?mh:(x=Number(g.substring(x,$)),isNaN(x)?Bg:($+=1,$+x>g.length?mh:(g=g.slice($,$+x),u.C=$+x,g)))}xs.prototype.cancel=function(){this.J=!0,ui(this)};function uc(u){u.S=Date.now()+u.I,zg(u,u.I)}function zg(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=fa(p(u.ba,u),g)}function yh(u){u.B&&(a.clearTimeout(u.B),u.B=null)}xs.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(OE(this.i,this.A),this.L!=2&&(ha(),Rr(17)),ui(this),this.s=2,ma(this)):zg(this,this.S-u)};function ma(u){u.j.G==0||u.J||y0(u.j,u)}function ui(u){yh(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,bs(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function vh(u,g){try{var x=u.j;if(x.G!=0&&(x.g==u||bh(x.h,u))){if(!u.K&&bh(x.h,u)&&x.G==3){try{var $=x.Da.g.parse(g)}catch{$=null}if(Array.isArray($)&&$.length==3){var Q=$;if(Q[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<u.F)bc(x),yc(x);else break e;kh(x),Rr(18)}}else x.za=Q[1],0<x.za-x.T&&37500>Q[2]&&x.F&&x.v==0&&!x.C&&(x.C=fa(p(x.Za,x),6e3));if(1>=Gg(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else hi(x,11)}else if((u.K||x.g==u)&&bc(x),!P(g))for(Q=x.Da.g.parse(g),g=0;g<Q.length;g++){let nt=Q[g];if(x.T=nt[0],nt=nt[1],x.G==2)if(nt[0]=="c"){x.K=nt[1],x.ia=nt[2];const pr=nt[3];pr!=null&&(x.la=pr,x.j.info("VER="+x.la));const mr=nt[4];mr!=null&&(x.Aa=mr,x.j.info("SVER="+x.Aa));const lo=nt[5];lo!=null&&typeof lo=="number"&&0<lo&&($=1.5*lo,x.L=$,x.j.info("backChannelRequestTimeoutMs_="+$)),$=x;const _n=u.g;if(_n){const _c=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_c){var X=$.h;X.g||_c.indexOf("spdy")==-1&&_c.indexOf("quic")==-1&&_c.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(xh(X,X.h),X.h=null))}if($.D){const Ih=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;Ih&&($.ya=Ih,xt($.I,$.D,Ih))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-u.F,x.j.info("Handshake RTT: "+x.R+"ms")),$=x;var ge=u;if($.qa=x0($,$.J?$.ia:null,$.W),ge.K){Qg($.h,ge);var gt=ge,er=$.L;er&&(gt.I=er),gt.B&&(yh(gt),uc(gt)),$.g=ge}else m0($);0<x.i.length&&vc(x)}else nt[0]!="stop"&&nt[0]!="close"||hi(x,7);else x.G==3&&(nt[0]=="stop"||nt[0]=="close"?nt[0]=="stop"?hi(x,7):wh(x):nt[0]!="noop"&&x.l&&x.l.ta(nt),x.v=0)}}ha(4)}catch{}}var VE=class{constructor(u,g){this.g=u,this.map=g}};function Wg(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Kg(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Gg(u){return u.h?1:u.g?u.g.size:0}function bh(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function xh(u,g){u.g?u.g.add(g):u.h=g}function Qg(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Wg.prototype.cancel=function(){if(this.i=Yg(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Yg(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const x of u.g.values())g=g.concat(x.D);return g}return k(u.i)}function LE(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var g=[],x=u.length,$=0;$<x;$++)g.push(u[$]);return g}g=[],x=0;for($ in u)g[x++]=u[$];return g}function FE(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var g=[];u=u.length;for(var x=0;x<u;x++)g.push(x);return g}g=[],x=0;for(const $ in u)g[x++]=$;return g}}}function Jg(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var x=FE(u),$=LE(u),Q=$.length,X=0;X<Q;X++)g.call(void 0,$[X],x&&x[X],u)}var Xg=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function UE(u,g){if(u){u=u.split("&");for(var x=0;x<u.length;x++){var $=u[x].indexOf("="),Q=null;if(0<=$){var X=u[x].substring(0,$);Q=u[x].substring($+1)}else X=u[x];g(X,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function di(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof di){this.h=u.h,dc(this,u.j),this.o=u.o,this.g=u.g,hc(this,u.s),this.l=u.l;var g=u.i,x=new va;x.i=g.i,g.g&&(x.g=new Map(g.g),x.h=g.h),Zg(this,x),this.m=u.m}else u&&(g=String(u).match(Xg))?(this.h=!1,dc(this,g[1]||"",!0),this.o=ga(g[2]||""),this.g=ga(g[3]||"",!0),hc(this,g[4]),this.l=ga(g[5]||"",!0),Zg(this,g[6]||"",!0),this.m=ga(g[7]||"")):(this.h=!1,this.i=new va(null,this.h))}di.prototype.toString=function(){var u=[],g=this.j;g&&u.push(ya(g,e0,!0),":");var x=this.g;return(x||g=="file")&&(u.push("//"),(g=this.o)&&u.push(ya(g,e0,!0),"@"),u.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&u.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&u.push("/"),u.push(ya(x,x.charAt(0)=="/"?qE:BE,!0))),(x=this.i.toString())&&u.push("?",x),(x=this.m)&&u.push("#",ya(x,zE)),u.join("")};function Hn(u){return new di(u)}function dc(u,g,x){u.j=x?ga(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function hc(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function Zg(u,g,x){g instanceof va?(u.i=g,WE(u.i,u.h)):(x||(g=ya(g,HE)),u.i=new va(g,u.h))}function xt(u,g,x){u.i.set(g,x)}function fc(u){return xt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ga(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ya(u,g,x){return typeof u=="string"?(u=encodeURI(u).replace(g,jE),x&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function jE(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var e0=/[#\/\?@]/g,BE=/[#\?:]/g,qE=/[#\?]/g,HE=/[#\?@]/g,zE=/#/g;function va(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function _s(u){u.g||(u.g=new Map,u.h=0,u.i&&UE(u.i,function(g,x){u.add(decodeURIComponent(g.replace(/\+/g," ")),x)}))}t=va.prototype,t.add=function(u,g){_s(this),this.i=null,u=oo(this,u);var x=this.g.get(u);return x||this.g.set(u,x=[]),x.push(g),this.h+=1,this};function t0(u,g){_s(u),g=oo(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function r0(u,g){return _s(u),g=oo(u,g),u.g.has(g)}t.forEach=function(u,g){_s(this),this.g.forEach(function(x,$){x.forEach(function(Q){u.call(g,Q,$,this)},this)},this)},t.na=function(){_s(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),x=[];for(let $=0;$<g.length;$++){const Q=u[$];for(let X=0;X<Q.length;X++)x.push(g[$])}return x},t.V=function(u){_s(this);let g=[];if(typeof u=="string")r0(this,u)&&(g=g.concat(this.g.get(oo(this,u))));else{u=Array.from(this.g.values());for(let x=0;x<u.length;x++)g=g.concat(u[x])}return g},t.set=function(u,g){return _s(this),this.i=null,u=oo(this,u),r0(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},t.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function n0(u,g,x){t0(u,g),0<x.length&&(u.i=null,u.g.set(oo(u,g),k(x)),u.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var x=0;x<g.length;x++){var $=g[x];const X=encodeURIComponent(String($)),ge=this.V($);for($=0;$<ge.length;$++){var Q=X;ge[$]!==""&&(Q+="="+encodeURIComponent(String(ge[$]))),u.push(Q)}}return this.i=u.join("&")};function oo(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function WE(u,g){g&&!u.j&&(_s(u),u.i=null,u.g.forEach(function(x,$){var Q=$.toLowerCase();$!=Q&&(t0(this,$),n0(this,Q,x))},u)),u.j=g}function KE(u,g){const x=new pa;if(a.Image){const $=new Image;$.onload=y(ws,x,"TestLoadImage: loaded",!0,g,$),$.onerror=y(ws,x,"TestLoadImage: error",!1,g,$),$.onabort=y(ws,x,"TestLoadImage: abort",!1,g,$),$.ontimeout=y(ws,x,"TestLoadImage: timeout",!1,g,$),a.setTimeout(function(){$.ontimeout&&$.ontimeout()},1e4),$.src=u}else g(!1)}function GE(u,g){const x=new pa,$=new AbortController,Q=setTimeout(()=>{$.abort(),ws(x,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:$.signal}).then(X=>{clearTimeout(Q),X.ok?ws(x,"TestPingServer: ok",!0,g):ws(x,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(Q),ws(x,"TestPingServer: error",!1,g)})}function ws(u,g,x,$,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),$(x)}catch{}}function QE(){this.g=new an}function YE(u,g,x){const $=x||"";try{Jg(u,function(Q,X){let ge=Q;d(Q)&&(ge=no(Q)),g.push($+X+"="+encodeURIComponent(ge))})}catch(Q){throw g.push($+"type="+encodeURIComponent("_badmap")),Q}}function pc(u){this.l=u.Ub||null,this.j=u.eb||!1}b(pc,so),pc.prototype.g=function(){return new mc(this.l,this.j)},pc.prototype.i=function(u){return function(){return u}}({});function mc(u,g){Ee.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(mc,Ee),t=mc.prototype,t.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,xa(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ba(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,xa(this)),this.g&&(this.readyState=3,xa(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;s0(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function s0(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?ba(this):xa(this),this.readyState==3&&s0(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,ba(this))},t.Qa=function(u){this.g&&(this.response=u,ba(this))},t.ga=function(){this.g&&ba(this)};function ba(u){u.readyState=4,u.l=null,u.j=null,u.v=null,xa(u)}t.setRequestHeader=function(u,g){this.u.append(u,g)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var x=g.next();!x.done;)x=x.value,u.push(x[0]+": "+x[1]),x=g.next();return u.join(`\r
`)};function xa(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(mc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function i0(u){let g="";return M(u,function(x,$){g+=$,g+=":",g+=x,g+=`\r
`}),g}function _h(u,g,x){e:{for($ in x){var $=!1;break e}$=!0}$||(x=i0(x),typeof u=="string"?x!=null&&encodeURIComponent(String(x)):xt(u,g,x))}function Ot(u){Ee.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Ot,Ee);var JE=/^https?$/i,XE=["POST","PUT"];t=Ot.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,g,x,$){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ph.g(),this.v=this.o?Og(this.o):Og(ph),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(X){o0(this,X);return}if(u=x||"",x=new Map(this.headers),$)if(Object.getPrototypeOf($)===Object.prototype)for(var Q in $)x.set(Q,$[Q]);else if(typeof $.keys=="function"&&typeof $.get=="function")for(const X of $.keys())x.set(X,$.get(X));else throw Error("Unknown input type for opt_headers: "+String($));$=Array.from(x.keys()).find(X=>X.toLowerCase()=="content-type"),Q=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(XE,g,void 0))||$||Q||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ge]of x)this.g.setRequestHeader(X,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{c0(this),this.u=!0,this.g.send(u),this.u=!1}catch(X){o0(this,X)}};function o0(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,a0(u),gc(u)}function a0(u){u.A||(u.A=!0,Oe(u,"complete"),Oe(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Oe(this,"complete"),Oe(this,"abort"),gc(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gc(this,!0)),Ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?l0(this):this.bb())},t.bb=function(){l0(this)};function l0(u){if(u.h&&typeof o<"u"&&(!u.v[1]||zn(u)!=4||u.Z()!=2)){if(u.u&&zn(u)==4)rt(u.Ea,0,u);else if(Oe(u,"readystatechange"),zn(u)==4){u.h=!1;try{const ge=u.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var x;if(!(x=g)){var $;if($=ge===0){var Q=String(u.D).match(Xg)[1]||null;!Q&&a.self&&a.self.location&&(Q=a.self.location.protocol.slice(0,-1)),$=!JE.test(Q?Q.toLowerCase():"")}x=$}if(x)Oe(u,"complete"),Oe(u,"success");else{u.m=6;try{var X=2<zn(u)?u.g.statusText:""}catch{X=""}u.l=X+" ["+u.Z()+"]",a0(u)}}finally{gc(u)}}}}function gc(u,g){if(u.g){c0(u);const x=u.g,$=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||Oe(u,"ready");try{x.onreadystatechange=$}catch{}}}function c0(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function zn(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<zn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),Pr(g)}};function u0(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ZE(u){const g={};u=(u.g&&2<=zn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let $=0;$<u.length;$++){if(P(u[$]))continue;var x=N(u[$]);const Q=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const X=g[Q]||[];g[Q]=X,X.push(x)}I(g,function($){return $.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _a(u,g,x){return x&&x.internalChannelParams&&x.internalChannelParams[u]||g}function d0(u){this.Aa=0,this.i=[],this.j=new pa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_a("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_a("baseRetryDelayMs",5e3,u),this.cb=_a("retryDelaySeedMs",1e4,u),this.Wa=_a("forwardChannelMaxRetries",2,u),this.wa=_a("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Wg(u&&u.concurrentRequestLimit),this.Da=new QE,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=d0.prototype,t.la=8,t.G=1,t.connect=function(u,g,x,$){Rr(0),this.W=u,this.H=g||{},x&&$!==void 0&&(this.H.OSID=x,this.H.OAID=$),this.F=this.X,this.I=x0(this,null,this.W),vc(this)};function wh(u){if(h0(u),u.G==3){var g=u.U++,x=Hn(u.I);if(xt(x,"SID",u.K),xt(x,"RID",g),xt(x,"TYPE","terminate"),wa(u,x),g=new xs(u,u.j,g),g.L=2,g.v=fc(Hn(x)),x=!1,a.navigator&&a.navigator.sendBeacon)try{x=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!x&&a.Image&&(new Image().src=g.v,x=!0),x||(g.g=_0(g.j,null),g.g.ea(g.v)),g.F=Date.now(),uc(g)}b0(u)}function yc(u){u.g&&(Eh(u),u.g.cancel(),u.g=null)}function h0(u){yc(u),u.u&&(a.clearTimeout(u.u),u.u=null),bc(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function vc(u){if(!Kg(u.h)&&!u.s){u.s=!0;var g=u.Ga;U||we(),ee||(U(),ee=!0),oe.add(g,u),u.B=0}}function eI(u,g){return Gg(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=fa(p(u.Ga,u,g),v0(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const Q=new xs(this,this.j,u);let X=this.o;if(this.S&&(X?(X=v(X),w(X,this.S)):X=this.S),this.m!==null||this.O||(Q.H=X,X=null),this.P)e:{for(var g=0,x=0;x<this.i.length;x++){t:{var $=this.i[x];if("__data__"in $.map&&($=$.map.__data__,typeof $=="string")){$=$.length;break t}$=void 0}if($===void 0)break;if(g+=$,4096<g){g=x;break e}if(g===4096||x===this.i.length-1){g=x+1;break e}}g=1e3}else g=1e3;g=p0(this,Q,g),x=Hn(this.I),xt(x,"RID",u),xt(x,"CVER",22),this.D&&xt(x,"X-HTTP-Session-Id",this.D),wa(this,x),X&&(this.O?g="headers="+encodeURIComponent(String(i0(X)))+"&"+g:this.m&&_h(x,this.m,X)),xh(this.h,Q),this.Ua&&xt(x,"TYPE","init"),this.P?(xt(x,"$req",g),xt(x,"SID","null"),Q.T=!0,gh(Q,x,null)):gh(Q,x,g),this.G=2}}else this.G==3&&(u?f0(this,u):this.i.length==0||Kg(this.h)||f0(this))};function f0(u,g){var x;g?x=g.l:x=u.U++;const $=Hn(u.I);xt($,"SID",u.K),xt($,"RID",x),xt($,"AID",u.T),wa(u,$),u.m&&u.o&&_h($,u.m,u.o),x=new xs(u,u.j,x,u.B+1),u.m===null&&(x.H=u.o),g&&(u.i=g.D.concat(u.i)),g=p0(u,x,1e3),x.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),xh(u.h,x),gh(x,$,g)}function wa(u,g){u.H&&M(u.H,function(x,$){xt(g,$,x)}),u.l&&Jg({},function(x,$){xt(g,$,x)})}function p0(u,g,x){x=Math.min(u.i.length,x);var $=u.l?p(u.l.Na,u.l,u):null;e:{var Q=u.i;let X=-1;for(;;){const ge=["count="+x];X==-1?0<x?(X=Q[0].g,ge.push("ofs="+X)):X=0:ge.push("ofs="+X);let gt=!0;for(let er=0;er<x;er++){let nt=Q[er].g;const pr=Q[er].map;if(nt-=X,0>nt)X=Math.max(0,Q[er].g-100),gt=!1;else try{YE(pr,ge,"req"+nt+"_")}catch{$&&$(pr)}}if(gt){$=ge.join("&");break e}}}return u=u.i.splice(0,x),g.D=u,$}function m0(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;U||we(),ee||(U(),ee=!0),oe.add(g,u),u.v=0}}function kh(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=fa(p(u.Fa,u),v0(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,g0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=fa(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Rr(10),yc(this),g0(this))};function Eh(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function g0(u){u.g=new xs(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=Hn(u.qa);xt(g,"RID","rpc"),xt(g,"SID",u.K),xt(g,"AID",u.T),xt(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&xt(g,"TO",u.ja),xt(g,"TYPE","xmlhttp"),wa(u,g),u.m&&u.o&&_h(g,u.m,u.o),u.L&&(u.g.I=u.L);var x=u.g;u=u.ia,x.L=1,x.v=fc(Hn(g)),x.m=null,x.P=!0,qg(x,u)}t.Za=function(){this.C!=null&&(this.C=null,yc(this),kh(this),Rr(19))};function bc(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function y0(u,g){var x=null;if(u.g==g){bc(u),Eh(u),u.g=null;var $=2}else if(bh(u.h,g))x=g.D,Qg(u.h,g),$=1;else return;if(u.G!=0){if(g.o)if($==1){x=g.m?g.m.length:0,g=Date.now()-g.F;var Q=u.B;$=ac(),Oe($,new Fg($,x)),vc(u)}else m0(u);else if(Q=g.s,Q==3||Q==0&&0<g.X||!($==1&&eI(u,g)||$==2&&kh(u)))switch(x&&0<x.length&&(g=u.h,g.i=g.i.concat(x)),Q){case 1:hi(u,5);break;case 4:hi(u,10);break;case 3:hi(u,6);break;default:hi(u,2)}}}function v0(u,g){let x=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(x*=2),x*g}function hi(u,g){if(u.j.info("Error code "+g),g==2){var x=p(u.fb,u),$=u.Xa;const Q=!$;$=new di($||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||dc($,"https"),fc($),Q?KE($.toString(),x):GE($.toString(),x)}else Rr(2);u.G=0,u.l&&u.l.sa(g),b0(u),h0(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Rr(2)):(this.j.info("Failed to ping google.com"),Rr(1))};function b0(u){if(u.G=0,u.ka=[],u.l){const g=Yg(u.h);(g.length!=0||u.i.length!=0)&&(_(u.ka,g),_(u.ka,u.i),u.h.i.length=0,k(u.i),u.i.length=0),u.l.ra()}}function x0(u,g,x){var $=x instanceof di?Hn(x):new di(x);if($.g!="")g&&($.g=g+"."+$.g),hc($,$.s);else{var Q=a.location;$=Q.protocol,g=g?g+"."+Q.hostname:Q.hostname,Q=+Q.port;var X=new di(null);$&&dc(X,$),g&&(X.g=g),Q&&hc(X,Q),x&&(X.l=x),$=X}return x=u.D,g=u.ya,x&&g&&xt($,x,g),xt($,"VER",u.la),wa(u,$),$}function _0(u,g,x){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Ot(new pc({eb:x})):new Ot(u.pa),g.Ha(u.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function w0(){}t=w0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function xc(){}xc.prototype.g=function(u,g){return new Qr(u,g)};function Qr(u,g){Ee.call(this),this.g=new d0(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!P(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!P(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new ao(this)}b(Qr,Ee),Qr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qr.prototype.close=function(){wh(this.g)},Qr.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var x={};x.__data__=u,u=x}else this.u&&(x={},x.__data__=no(u),u=x);g.i.push(new VE(g.Ya++,u)),g.G==3&&vc(g)},Qr.prototype.N=function(){this.g.l=null,delete this.j,wh(this.g),delete this.g,Qr.aa.N.call(this)};function k0(u){hh.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const x in g){u=x;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}b(k0,hh);function E0(){fh.call(this),this.status=1}b(E0,fh);function ao(u){this.g=u}b(ao,w0),ao.prototype.ua=function(){Oe(this.g,"a")},ao.prototype.ta=function(u){Oe(this.g,new k0(u))},ao.prototype.sa=function(u){Oe(this.g,new E0)},ao.prototype.ra=function(){Oe(this.g,"b")},xc.prototype.createWebChannel=xc.prototype.g,Qr.prototype.send=Qr.prototype.o,Qr.prototype.open=Qr.prototype.m,Qr.prototype.close=Qr.prototype.close,lk=function(){return new xc},ak=function(){return ac()},ok=ci,ep={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},lc.NO_ERROR=0,lc.TIMEOUT=8,lc.HTTP_ERROR=6,su=lc,Ug.COMPLETE="complete",ik=Ug,Dg.EventType=da,da.OPEN="a",da.CLOSE="b",da.ERROR="c",da.MESSAGE="d",Ee.prototype.listen=Ee.prototype.K,La=Dg,Ot.prototype.listenOnce=Ot.prototype.L,Ot.prototype.getLastError=Ot.prototype.Ka,Ot.prototype.getLastErrorCode=Ot.prototype.Ba,Ot.prototype.getStatus=Ot.prototype.Z,Ot.prototype.getResponseJson=Ot.prototype.Oa,Ot.prototype.getResponseText=Ot.prototype.oa,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Ha,sk=Ot}).apply(typeof Mc<"u"?Mc:typeof self<"u"?self:typeof window<"u"?window:{});const Av="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_r.UNAUTHENTICATED=new _r(null),_r.GOOGLE_CREDENTIALS=new _r("google-credentials-uid"),_r.FIRST_PARTY=new _r("first-party-uid"),_r.MOCK_USER=new _r("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aa="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fi=new Pd("@firebase/firestore");function Aa(){return Fi.logLevel}function Ie(t,...e){if(Fi.logLevel<=Je.DEBUG){const r=e.map(Dm);Fi.debug(`Firestore (${aa}): ${t}`,...r)}}function ds(t,...e){if(Fi.logLevel<=Je.ERROR){const r=e.map(Dm);Fi.error(`Firestore (${aa}): ${t}`,...r)}}function Ko(t,...e){if(Fi.logLevel<=Je.WARN){const r=e.map(Dm);Fi.warn(`Firestore (${aa}): ${t}`,...r)}}function Dm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(t="Unexpected state"){const e=`FIRESTORE (${aa}) INTERNAL ASSERTION FAILED: `+t;throw ds(e),new Error(e)}function dt(t,e){t||Ve()}function Be(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends xn{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class I6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(_r.UNAUTHENTICATED))}shutdown(){}}class T6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class A6{constructor(e){this.t=e,this.currentUser=_r.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){dt(this.o===void 0);let n=this.i;const s=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let i=new os;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new os,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{Ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new os)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(dt(typeof n.accessToken=="string"),new ck(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return dt(e===null||typeof e=="string"),new _r(e)}}class S6{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=_r.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class C6{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new S6(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(_r.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class P6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class R6{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){dt(this.o===void 0);const n=i=>{i.error!=null&&Ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,Ie("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>n(i))};const s=i=>{Ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(dt(typeof r.token=="string"),this.R=r.token,new P6(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const s=N6(40);for(let i=0;i<s.length;++i)n.length<20&&s[i]<r&&(n+=e.charAt(s[i]%e.length))}return n}}function st(t,e){return t<e?-1:t>e?1:0}function Go(t,e,r){return t.length===e.length&&t.every((n,s)=>r(n,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new _e(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new _e(se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new _e(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return zt.fromMillis(Date.now())}static fromDate(e){return zt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new zt(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?st(this.nanoseconds,e.nanoseconds):st(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Fe(e)}static min(){return new Fe(new zt(0,0))}static max(){return new Fe(new zt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,r,n){r===void 0?r=0:r>e.length&&Ve(),n===void 0?n=e.length-r:n>e.length-r&&Ve(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Rl.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Rl?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let s=0;s<n;s++){const i=e.get(s),o=r.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class wt extends Rl{construct(e,r,n){return new wt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new _e(se.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(s=>s.length>0))}return new wt(r)}static emptyPath(){return new wt([])}}const $6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nr extends Rl{construct(e,r,n){return new nr(e,r,n)}static isValidIdentifier(e){return $6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new nr(["__name__"])}static fromServerFormat(e){const r=[];let n="",s=0;const i=()=>{if(n.length===0)throw new _e(se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new _e(se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new _e(se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(n+=a,s++):(i(),s++)}if(i(),o)throw new _e(se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nr(r)}static emptyPath(){return new nr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(e){this.path=e}static fromPath(e){return new Re(wt.fromString(e))}static fromName(e){return new Re(wt.fromString(e).popFirst(5))}static empty(){return new Re(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&wt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return wt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Re(new wt(e.slice()))}}function O6(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,s=Fe.fromTimestamp(n===1e9?new zt(r+1,0):new zt(r,n));return new ei(s,Re.empty(),e)}function D6(t){return new ei(t.readTime,t.key,-1)}class ei{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new ei(Fe.min(),Re.empty(),-1)}static max(){return new ei(Fe.max(),Re.empty(),-1)}}function M6(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Re.comparator(t.documentKey,e.documentKey),r!==0?r:st(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class L6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yl(t){if(t.code!==se.FAILED_PRECONDITION||t.message!==V6)throw t;Ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ae((n,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(n,s)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,s)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ae?r:ae.resolve(r)}catch(r){return ae.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ae.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ae.reject(r)}static resolve(e){return new ae((r,n)=>{r(e)})}static reject(e){return new ae((r,n)=>{n(e)})}static waitFor(e){return new ae((r,n)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&r()},l=>n(l))}),o=!0,i===s&&r()})}static or(e){let r=ae.resolve(!1);for(const n of e)r=r.next(s=>s?ae.resolve(s):n());return r}static forEach(e,r){const n=[];return e.forEach((s,i)=>{n.push(r.call(this,s,i))}),this.waitFor(n)}static mapArray(e,r){return new ae((n,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const d=l;r(e[d]).next(h=>{o[d]=h,++a,a===i&&n(o)},h=>s(h))}})}static doWhile(e,r){return new ae((n,s)=>{const i=()=>{e()===!0?r().next(()=>{i()},s):n()};i()})}}function F6(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Jl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Mm.oe=-1;function Od(t){return t==null}function Uu(t){return t===0&&1/t==-1/0}function U6(t){return typeof t=="number"&&Number.isInteger(t)&&!Uu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function eo(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function dk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,r){this.comparator=e,this.root=r||rr.EMPTY}insert(e,r){return new Nt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,rr.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return r+n.left.size;s<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vc(this.root,e,this.comparator,!0)}}class Vc{constructor(e,r,n,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=r?n(e.key,r):1,r&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rr{constructor(e,r,n,s,i){this.key=e,this.value=r,this.color=n??rr.RED,this.left=s??rr.EMPTY,this.right=i??rr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,s,i){return new rr(e??this.key,r??this.value,n??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let s=this;const i=n(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,r,n),null):i===0?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(e,r,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return rr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,s=this;if(r(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,r),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),r(e,s.key)===0){if(s.right.isEmpty())return rr.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,r))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ve();const e=this.left.check();if(e!==this.right.check())throw Ve();return e+(this.isRed()?0:1)}}rr.EMPTY=null,rr.RED=!0,rr.BLACK=!1;rr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve()}get value(){throw Ve()}get color(){throw Ve()}get left(){throw Ve()}get right(){throw Ve()}copy(e,r,n,s,i){return this}insert(e,r,n){return new rr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;r(s.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Cv(this.data.getIterator())}getIteratorFrom(e){return new Cv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof or)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const s=r.getNext().key,i=n.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new or(this.comparator);return r.data=e,r}}class Cv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e){this.fields=e,e.sort(nr.comparator)}static empty(){return new Xr([])}unionWith(e){let r=new or(nr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Xr(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Go(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new hk("Invalid base64 string: "+i):i}}(e);return new cr(r)}static fromUint8Array(e){const r=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new cr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let s=0;s<r.length;s++)n[s]=r.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return st(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cr.EMPTY_BYTE_STRING=new cr("");const j6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ti(t){if(dt(!!t),typeof t=="string"){let e=0;const r=j6.exec(t);if(dt(!!r),r[1]){let s=r[1];s=(s+"000000000").substr(0,9),e=Number(s)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Vt(t.seconds),nanos:Vt(t.nanos)}}function Vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ui(t){return typeof t=="string"?cr.fromBase64String(t):cr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vm(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function Lm(t){const e=t.mapValue.fields.__previous_value__;return Vm(e)?Lm(e):e}function Nl(t){const e=ti(t.mapValue.fields.__local_write_time__.timestampValue);return new zt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e,r,n,s,i,o,a,l,d){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=d}}class $l{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lc={mapValue:{}};function ji(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Vm(t)?4:H6(t)?9007199254740991:q6(t)?10:11:Ve()}function Bn(t,e){if(t===e)return!0;const r=ji(t);if(r!==ji(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Nl(t).isEqual(Nl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ti(s.timestampValue),a=ti(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ui(s.bytesValue).isEqual(Ui(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Vt(s.geoPointValue.latitude)===Vt(i.geoPointValue.latitude)&&Vt(s.geoPointValue.longitude)===Vt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Vt(s.integerValue)===Vt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Vt(s.doubleValue),a=Vt(i.doubleValue);return o===a?Uu(o)===Uu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Go(t.arrayValue.values||[],e.arrayValue.values||[],Bn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Sv(o)!==Sv(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Bn(o[l],a[l])))return!1;return!0}(t,e);default:return Ve()}}function Ol(t,e){return(t.values||[]).find(r=>Bn(r,e))!==void 0}function Qo(t,e){if(t===e)return 0;const r=ji(t),n=ji(e);if(r!==n)return st(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return st(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Vt(i.integerValue||i.doubleValue),l=Vt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Pv(t.timestampValue,e.timestampValue);case 4:return Pv(Nl(t),Nl(e));case 5:return st(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ui(i),l=Ui(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let d=0;d<a.length&&d<l.length;d++){const h=st(a[d],l[d]);if(h!==0)return h}return st(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=st(Vt(i.latitude),Vt(o.latitude));return a!==0?a:st(Vt(i.longitude),Vt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Rv(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,l,d,h;const f=i.fields||{},p=o.fields||{},y=(a=f.value)===null||a===void 0?void 0:a.arrayValue,b=(l=p.value)===null||l===void 0?void 0:l.arrayValue,k=st(((d=y==null?void 0:y.values)===null||d===void 0?void 0:d.length)||0,((h=b==null?void 0:b.values)===null||h===void 0?void 0:h.length)||0);return k!==0?k:Rv(y,b)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Lc.mapValue&&o===Lc.mapValue)return 0;if(i===Lc.mapValue)return 1;if(o===Lc.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),d=o.fields||{},h=Object.keys(d);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const p=st(l[f],h[f]);if(p!==0)return p;const y=Qo(a[l[f]],d[h[f]]);if(y!==0)return y}return st(l.length,h.length)}(t.mapValue,e.mapValue);default:throw Ve()}}function Pv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return st(t,e);const r=ti(t),n=ti(e),s=st(r.seconds,n.seconds);return s!==0?s:st(r.nanos,n.nanos)}function Rv(t,e){const r=t.values||[],n=e.values||[];for(let s=0;s<r.length&&s<n.length;++s){const i=Qo(r[s],n[s]);if(i)return i}return st(r.length,n.length)}function Yo(t){return tp(t)}function tp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=ti(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Ui(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Re.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",s=!0;for(const i of r.values||[])s?s=!1:n+=",",n+=tp(i);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let s="{",i=!0;for(const o of n)i?i=!1:s+=",",s+=`${o}:${tp(r.fields[o])}`;return s+"}"}(t.mapValue):Ve()}function Nv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function rp(t){return!!t&&"integerValue"in t}function Fm(t){return!!t&&"arrayValue"in t}function $v(t){return!!t&&"nullValue"in t}function Ov(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function iu(t){return!!t&&"mapValue"in t}function q6(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function sl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return eo(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=sl(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=sl(t.arrayValue.values[r]);return e}return Object.assign({},t)}function H6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e){this.value=e}static empty(){return new qr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!iu(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=sl(r)}setAll(e){let r=nr.emptyPath(),n={},s=[];e.forEach((o,a)=>{if(!r.isImmediateParentOf(a)){const l=this.getFieldsMap(r);this.applyChanges(l,n,s),n={},s=[],r=a.popLast()}o?n[a.lastSegment()]=sl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(r);this.applyChanges(i,n,s)}delete(e){const r=this.field(e.popLast());iu(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Bn(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=r.mapValue.fields[e.get(n)];iu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=s),r=s}return r.mapValue.fields}applyChanges(e,r,n){eo(r,(s,i)=>e[s]=i);for(const s of n)delete e[s]}clone(){return new qr(sl(this.value))}}function fk(t){const e=[];return eo(t.fields,(r,n)=>{const s=new nr([r]);if(iu(n)){const i=fk(n.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new Xr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,r,n,s,i,o,a){this.key=e,this.documentType=r,this.version=n,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Er(e,0,Fe.min(),Fe.min(),Fe.min(),qr.empty(),0)}static newFoundDocument(e,r,n,s){return new Er(e,1,r,Fe.min(),n,s,0)}static newNoDocument(e,r){return new Er(e,2,r,Fe.min(),Fe.min(),qr.empty(),0)}static newUnknownDocument(e,r){return new Er(e,3,r,Fe.min(),Fe.min(),qr.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Er&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Er(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,r){this.position=e,this.inclusive=r}}function Dv(t,e,r){let n=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?n=Re.comparator(Re.fromName(o.referenceValue),r.key):n=Qo(o,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function Mv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Bn(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,r="asc"){this.field=e,this.dir=r}}function z6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{}class qt extends pk{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new K6(e,r,n):r==="array-contains"?new Y6(e,n):r==="in"?new J6(e,n):r==="not-in"?new X6(e,n):r==="array-contains-any"?new Z6(e,n):new qt(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new G6(e,n):new Q6(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Qo(r,this.value)):r!==null&&ji(this.value)===ji(r)&&this.matchesComparison(Qo(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nn extends pk{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new Nn(e,r)}matches(e){return mk(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function mk(t){return t.op==="and"}function gk(t){return W6(t)&&mk(t)}function W6(t){for(const e of t.filters)if(e instanceof Nn)return!1;return!0}function np(t){if(t instanceof qt)return t.field.canonicalString()+t.op.toString()+Yo(t.value);if(gk(t))return t.filters.map(e=>np(e)).join(",");{const e=t.filters.map(r=>np(r)).join(",");return`${t.op}(${e})`}}function yk(t,e){return t instanceof qt?function(n,s){return s instanceof qt&&n.op===s.op&&n.field.isEqual(s.field)&&Bn(n.value,s.value)}(t,e):t instanceof Nn?function(n,s){return s instanceof Nn&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((i,o,a)=>i&&yk(o,s.filters[a]),!0):!1}(t,e):void Ve()}function vk(t){return t instanceof qt?function(r){return`${r.field.canonicalString()} ${r.op} ${Yo(r.value)}`}(t):t instanceof Nn?function(r){return r.op.toString()+" {"+r.getFilters().map(vk).join(" ,")+"}"}(t):"Filter"}class K6 extends qt{constructor(e,r,n){super(e,r,n),this.key=Re.fromName(n.referenceValue)}matches(e){const r=Re.comparator(e.key,this.key);return this.matchesComparison(r)}}class G6 extends qt{constructor(e,r){super(e,"in",r),this.keys=bk("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class Q6 extends qt{constructor(e,r){super(e,"not-in",r),this.keys=bk("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function bk(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Re.fromName(n.referenceValue))}class Y6 extends qt{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Fm(r)&&Ol(r.arrayValue,this.value)}}class J6 extends qt{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Ol(this.value.arrayValue,r)}}class X6 extends qt{constructor(e,r){super(e,"not-in",r)}matches(e){if(Ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Ol(this.value.arrayValue,r)}}class Z6 extends qt{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Fm(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Ol(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,r=null,n=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function Vv(t,e=null,r=[],n=[],s=null,i=null,o=null){return new eN(t,e,r,n,s,i,o)}function Um(t){const e=Be(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>np(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),Od(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>Yo(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>Yo(n)).join(",")),e.ue=r}return e.ue}function jm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!z6(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!yk(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Mv(t.startAt,e.startAt)&&Mv(t.endAt,e.endAt)}function sp(t){return Re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,r=null,n=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function tN(t,e,r,n,s,i,o,a){return new la(t,e,r,n,s,i,o,a)}function Dd(t){return new la(t)}function Lv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function xk(t){return t.collectionGroup!==null}function il(t){const e=Be(t);if(e.ce===null){e.ce=[];const r=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),r.add(i.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new or(nr.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{r.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Dl(i,n))}),r.has(nr.keyField().canonicalString())||e.ce.push(new Dl(nr.keyField(),n))}return e.ce}function Un(t){const e=Be(t);return e.le||(e.le=rN(e,il(t))),e.le}function rN(t,e){if(t.limitType==="F")return Vv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Dl(s.field,i)});const r=t.endAt?new ju(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new ju(t.startAt.position,t.startAt.inclusive):null;return Vv(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function ip(t,e){const r=t.filters.concat([e]);return new la(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function Bu(t,e,r){return new la(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Md(t,e){return jm(Un(t),Un(e))&&t.limitType===e.limitType}function _k(t){return`${Um(Un(t))}|lt:${t.limitType}`}function vo(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(s=>vk(s)).join(", ")}]`),Od(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(s=>Yo(s)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(s=>Yo(s)).join(",")),`Target(${n})`}(Un(t))}; limitType=${t.limitType})`}function Vd(t,e){return e.isFoundDocument()&&function(n,s){const i=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Re.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,s){for(const i of il(n))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const i of n.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(o,a,l){const d=Dv(o,a,l);return o.inclusive?d<=0:d<0}(n.startAt,il(n),s)||n.endAt&&!function(o,a,l){const d=Dv(o,a,l);return o.inclusive?d>=0:d>0}(n.endAt,il(n),s))}(t,e)}function nN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function wk(t){return(e,r)=>{let n=!1;for(const s of il(t)){const i=sN(s,e,r);if(i!==0)return i;n=n||s.field.isKeyField()}return 0}}function sN(t,e,r){const n=t.field.isKeyField()?Re.comparator(e.key,r.key):function(i,o,a){const l=o.data.field(i),d=a.data.field(i);return l!==null&&d!==null?Qo(l,d):Ve()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[s,i]of n)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,r]);s.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[r]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){eo(this.inner,(r,n)=>{for(const[s,i]of n)e(s,i)})}isEmpty(){return dk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=new Nt(Re.comparator);function hs(){return iN}const kk=new Nt(Re.comparator);function Fa(...t){let e=kk;for(const r of t)e=e.insert(r.key,r);return e}function Ek(t){let e=kk;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function ki(){return ol()}function Ik(){return ol()}function ol(){return new ca(t=>t.toString(),(t,e)=>t.isEqual(e))}const oN=new Nt(Re.comparator),aN=new or(Re.comparator);function Ge(...t){let e=aN;for(const r of t)e=e.add(r);return e}const lN=new or(st);function cN(){return lN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uu(e)?"-0":e}}function Tk(t){return{integerValue:""+t}}function uN(t,e){return U6(e)?Tk(e):Bm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(){this._=void 0}}function dN(t,e,r){return t instanceof Ml?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Vm(i)&&(i=Lm(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(r,e):t instanceof Vl?Sk(t,e):t instanceof Ll?Ck(t,e):function(s,i){const o=Ak(s,i),a=Fv(o)+Fv(s.Pe);return rp(o)&&rp(s.Pe)?Tk(a):Bm(s.serializer,a)}(t,e)}function hN(t,e,r){return t instanceof Vl?Sk(t,e):t instanceof Ll?Ck(t,e):r}function Ak(t,e){return t instanceof qu?function(n){return rp(n)||function(i){return!!i&&"doubleValue"in i}(n)}(e)?e:{integerValue:0}:null}class Ml extends Ld{}class Vl extends Ld{constructor(e){super(),this.elements=e}}function Sk(t,e){const r=Pk(e);for(const n of t.elements)r.some(s=>Bn(s,n))||r.push(n);return{arrayValue:{values:r}}}class Ll extends Ld{constructor(e){super(),this.elements=e}}function Ck(t,e){let r=Pk(e);for(const n of t.elements)r=r.filter(s=>!Bn(s,n));return{arrayValue:{values:r}}}class qu extends Ld{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function Fv(t){return Vt(t.integerValue||t.doubleValue)}function Pk(t){return Fm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e,r){this.field=e,this.transform=r}}function pN(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof Vl&&s instanceof Vl||n instanceof Ll&&s instanceof Ll?Go(n.elements,s.elements,Bn):n instanceof qu&&s instanceof qu?Bn(n.Pe,s.Pe):n instanceof Ml&&s instanceof Ml}(t.transform,e.transform)}class mN{constructor(e,r){this.version=e,this.transformResults=r}}class mn{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new mn}static exists(e){return new mn(void 0,e)}static updateTime(e){return new mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ou(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Fd{}function Rk(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new qm(t.key,mn.none()):new Xl(t.key,t.data,mn.none());{const r=t.data,n=qr.empty();let s=new or(nr.comparator);for(let i of e.fields)if(!s.has(i)){let o=r.field(i);o===null&&i.length>1&&(i=i.popLast(),o=r.field(i)),o===null?n.delete(i):n.set(i,o),s=s.add(i)}return new li(t.key,n,new Xr(s.toArray()),mn.none())}}function gN(t,e,r){t instanceof Xl?function(s,i,o){const a=s.value.clone(),l=jv(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,r):t instanceof li?function(s,i,o){if(!ou(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=jv(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(Nk(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,r):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function al(t,e,r,n){return t instanceof Xl?function(i,o,a,l){if(!ou(i.precondition,o))return a;const d=i.value.clone(),h=Bv(i.fieldTransforms,l,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,r,n):t instanceof li?function(i,o,a,l){if(!ou(i.precondition,o))return a;const d=Bv(i.fieldTransforms,l,o),h=o.data;return h.setAll(Nk(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,r,n):function(i,o,a){return ou(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,r)}function yN(t,e){let r=null;for(const n of t.fieldTransforms){const s=e.data.field(n.field),i=Ak(n.transform,s||null);i!=null&&(r===null&&(r=qr.empty()),r.set(n.field,i))}return r||null}function Uv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Go(n,s,(i,o)=>pN(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Xl extends Fd{constructor(e,r,n,s=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class li extends Fd{constructor(e,r,n,s,i=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Nk(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function jv(t,e,r){const n=new Map;dt(t.length===r.length);for(let s=0;s<r.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);n.set(i.field,hN(o,a,r[s]))}return n}function Bv(t,e,r){const n=new Map;for(const s of t){const i=s.transform,o=r.data.field(s.field);n.set(s.field,dN(i,o,e))}return n}class qm extends Fd{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class vN extends Fd{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e,r,n,s){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&gN(i,e,n[s])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=al(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=al(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=Ik();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=r.has(s.key)?null:a;const l=Rk(o,a);l!==null&&n.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(Fe.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Ge())}isEqual(e){return this.batchId===e.batchId&&Go(this.mutations,e.mutations,(r,n)=>Uv(r,n))&&Go(this.baseMutations,e.baseMutations,(r,n)=>Uv(r,n))}}class Hm{constructor(e,r,n,s){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=s}static from(e,r,n){dt(e.mutations.length===n.length);let s=function(){return oN}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,n[o].version);return new Hm(e,r,n,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut,et;function wN(t){switch(t){default:return Ve();case se.CANCELLED:case se.UNKNOWN:case se.DEADLINE_EXCEEDED:case se.RESOURCE_EXHAUSTED:case se.INTERNAL:case se.UNAVAILABLE:case se.UNAUTHENTICATED:return!1;case se.INVALID_ARGUMENT:case se.NOT_FOUND:case se.ALREADY_EXISTS:case se.PERMISSION_DENIED:case se.FAILED_PRECONDITION:case se.ABORTED:case se.OUT_OF_RANGE:case se.UNIMPLEMENTED:case se.DATA_LOSS:return!0}}function $k(t){if(t===void 0)return ds("GRPC error has no .code"),se.UNKNOWN;switch(t){case Ut.OK:return se.OK;case Ut.CANCELLED:return se.CANCELLED;case Ut.UNKNOWN:return se.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return se.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return se.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return se.INTERNAL;case Ut.UNAVAILABLE:return se.UNAVAILABLE;case Ut.UNAUTHENTICATED:return se.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return se.INVALID_ARGUMENT;case Ut.NOT_FOUND:return se.NOT_FOUND;case Ut.ALREADY_EXISTS:return se.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return se.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return se.FAILED_PRECONDITION;case Ut.ABORTED:return se.ABORTED;case Ut.OUT_OF_RANGE:return se.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return se.UNIMPLEMENTED;case Ut.DATA_LOSS:return se.DATA_LOSS;default:return Ve()}}(et=Ut||(Ut={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EN=new Ri([4294967295,4294967295],0);function qv(t){const e=kN().encode(t),r=new nk;return r.update(e),new Uint8Array(r.digest())}function Hv(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Ri([r,n],0),new Ri([s,i],0)]}class zm{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Ua(`Invalid padding: ${r}`);if(n<0)throw new Ua(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Ua(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Ua(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Ri.fromNumber(this.Ie)}Ee(e,r,n){let s=e.add(r.multiply(Ri.fromNumber(n)));return s.compare(EN)===1&&(s=new Ri([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=qv(e),[n,s]=Hv(r);for(let i=0;i<this.hashCount;i++){const o=this.Ee(n,s,i);if(!this.de(o))return!1}return!0}static create(e,r,n){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new zm(i,s,r);return n.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const r=qv(e),[n,s]=Hv(r);for(let i=0;i<this.hashCount;i++){const o=this.Ee(n,s,i);this.Ae(o)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Ua extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ud{constructor(e,r,n,s,i){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const s=new Map;return s.set(e,Zl.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Ud(Fe.min(),s,new Nt(st),hs(),Ge())}}class Zl{constructor(e,r,n,s,i){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new Zl(n,r,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,r,n,s){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=s}}class Ok{constructor(e,r){this.targetId=e,this.me=r}}class Dk{constructor(e,r,n=cr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=s}}class zv{constructor(){this.fe=0,this.ge=Kv(),this.pe=cr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ge(),r=Ge(),n=Ge();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:r=r.add(s);break;case 1:n=n.add(s);break;default:Ve()}}),new Zl(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=Kv()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,dt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class IN{constructor(e){this.Le=e,this.Be=new Map,this.ke=hs(),this.qe=Wv(),this.Qe=new Nt(st)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:Ve()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,s)=>{this.ze(s)&&r(s)})}He(e){const r=e.targetId,n=e.me.count,s=this.Je(r);if(s){const i=s.target;if(sp(i))if(n===0){const o=new Re(i.path);this.Ue(r,o,Er.newNoDocument(o,Fe.min()))}else dt(n===1);else{const o=this.Ye(r);if(o!==n){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(r);const d=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,d)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:i=0}=r;let o,a;try{o=Ui(n).toUint8Array()}catch(l){if(l instanceof hk)return Ko("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new zm(o,s,i)}catch(l){return Ko(l instanceof Ua?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let s=0;return n.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(r,i,null),s++)}),s}rt(e){const r=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&sp(a.target)){const l=new Re(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Er.newNoDocument(l,e))}i.be&&(r.set(o,i.ve()),i.Ce())}});let n=Ge();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const d=this.Je(l);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(n=n.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new Ud(e,r,this.Qe,this.ke,n);return this.ke=hs(),this.qe=Wv(),this.Qe=new Nt(st),s}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,r)?s.Fe(r,1):s.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new zv,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new or(st),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||Ie("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new zv),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Wv(){return new Nt(Re.comparator)}function Kv(){return new Nt(Re.comparator)}const TN={asc:"ASCENDING",desc:"DESCENDING"},AN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SN={and:"AND",or:"OR"};class CN{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function op(t,e){return t.useProto3Json||Od(e)?e:{value:e}}function Hu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Mk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function PN(t,e){return Hu(t,e.toTimestamp())}function jn(t){return dt(!!t),Fe.fromTimestamp(function(r){const n=ti(r);return new zt(n.seconds,n.nanos)}(t))}function Wm(t,e){return ap(t,e).canonicalString()}function ap(t,e){const r=function(s){return new wt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?r:r.child(e)}function Vk(t){const e=wt.fromString(t);return dt(Bk(e)),e}function lp(t,e){return Wm(t.databaseId,e.path)}function Jh(t,e){const r=Vk(e);if(r.get(1)!==t.databaseId.projectId)throw new _e(se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new _e(se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Re(Fk(r))}function Lk(t,e){return Wm(t.databaseId,e)}function RN(t){const e=Vk(t);return e.length===4?wt.emptyPath():Fk(e)}function cp(t){return new wt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Fk(t){return dt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Gv(t,e,r){return{name:lp(t,e),fields:r.value.mapValue.fields}}function NN(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(dt(h===void 0||typeof h=="string"),cr.fromBase64String(h||"")):(dt(h===void 0||h instanceof Buffer||h instanceof Uint8Array),cr.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const h=d.code===void 0?se.UNKNOWN:$k(d.code);return new _e(h,d.message||"")}(o);r=new Dk(n,s,i,a||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const s=Jh(t,n.document.name),i=jn(n.document.updateTime),o=n.document.createTime?jn(n.document.createTime):Fe.min(),a=new qr({mapValue:{fields:n.document.fields}}),l=Er.newFoundDocument(s,i,o,a),d=n.targetIds||[],h=n.removedTargetIds||[];r=new au(d,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const s=Jh(t,n.document),i=n.readTime?jn(n.readTime):Fe.min(),o=Er.newNoDocument(s,i),a=n.removedTargetIds||[];r=new au([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const s=Jh(t,n.document),i=n.removedTargetIds||[];r=new au([],i,s,null)}else{if(!("filter"in e))return Ve();{e.filter;const n=e.filter;n.targetId;const{count:s=0,unchangedNames:i}=n,o=new _N(s,i),a=n.targetId;r=new Ok(a,o)}}return r}function $N(t,e){let r;if(e instanceof Xl)r={update:Gv(t,e.key,e.value)};else if(e instanceof qm)r={delete:lp(t,e.key)};else if(e instanceof li)r={update:Gv(t,e.key,e.data),updateMask:BN(e.fieldMask)};else{if(!(e instanceof vN))return Ve();r={verify:lp(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(i,o){const a=o.transform;if(a instanceof Ml)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Vl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ll)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof qu)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Ve()}(0,n))),e.precondition.isNone||(r.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:PN(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ve()}(t,e.precondition)),r}function ON(t,e){return t&&t.length>0?(dt(e!==void 0),t.map(r=>function(s,i){let o=s.updateTime?jn(s.updateTime):jn(i);return o.isEqual(Fe.min())&&(o=jn(i)),new mN(o,s.transformResults||[])}(r,e))):[]}function DN(t,e){return{documents:[Lk(t,e.path)]}}function MN(t,e){const r={structuredQuery:{}},n=e.path;let s;e.collectionGroup!==null?(s=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=Lk(t,s);const i=function(d){if(d.length!==0)return jk(Nn.create(d,"and"))}(e.filters);i&&(r.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(p){return{field:bo(p.field),direction:FN(p.dir)}}(h))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const a=op(t,e.limit);return a!==null&&(r.structuredQuery.limit=a),e.startAt&&(r.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:r,parent:s}}function VN(t){let e=RN(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let s=null;if(n>0){dt(n===1);const h=r.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];r.where&&(i=function(f){const p=Uk(f);return p instanceof Nn&&gk(p)?p.getFilters():[p]}(r.where));let o=[];r.orderBy&&(o=function(f){return f.map(p=>function(b){return new Dl(xo(b.field),function(_){switch(_){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(p))}(r.orderBy));let a=null;r.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Od(p)?null:p}(r.limit));let l=null;r.startAt&&(l=function(f){const p=!!f.before,y=f.values||[];return new ju(y,p)}(r.startAt));let d=null;return r.endAt&&(d=function(f){const p=!f.before,y=f.values||[];return new ju(y,p)}(r.endAt)),tN(e,s,o,i,a,"F",l,d)}function LN(t,e){const r=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function Uk(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=xo(r.unaryFilter.field);return qt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=xo(r.unaryFilter.field);return qt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=xo(r.unaryFilter.field);return qt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=xo(r.unaryFilter.field);return qt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ve()}}(t):t.fieldFilter!==void 0?function(r){return qt.create(xo(r.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ve()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return Nn.create(r.compositeFilter.filters.map(n=>Uk(n)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ve()}}(r.compositeFilter.op))}(t):Ve()}function FN(t){return TN[t]}function UN(t){return AN[t]}function jN(t){return SN[t]}function bo(t){return{fieldPath:t.canonicalString()}}function xo(t){return nr.fromServerFormat(t.fieldPath)}function jk(t){return t instanceof qt?function(r){if(r.op==="=="){if(Ov(r.value))return{unaryFilter:{field:bo(r.field),op:"IS_NAN"}};if($v(r.value))return{unaryFilter:{field:bo(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Ov(r.value))return{unaryFilter:{field:bo(r.field),op:"IS_NOT_NAN"}};if($v(r.value))return{unaryFilter:{field:bo(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:bo(r.field),op:UN(r.op),value:r.value}}}(t):t instanceof Nn?function(r){const n=r.getFilters().map(s=>jk(s));return n.length===1?n[0]:{compositeFilter:{op:jN(r.op),filters:n}}}(t):Ve()}function BN(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function Bk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,r,n,s,i=Fe.min(),o=Fe.min(),a=cr.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e){this.ct=e}}function HN(t){const e=VN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Bu(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(){this.un=new WN}addToCollectionParentIndex(e,r){return this.un.add(r),ae.resolve()}getCollectionParents(e,r){return ae.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return ae.resolve()}deleteFieldIndex(e,r){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,r){return ae.resolve()}getDocumentsMatchingTarget(e,r){return ae.resolve(null)}getIndexType(e,r){return ae.resolve(0)}getFieldIndexes(e,r){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,r){return ae.resolve(ei.min())}getMinOffsetFromCollectionGroup(e,r){return ae.resolve(ei.min())}updateCollectionGroup(e,r,n){return ae.resolve()}updateIndexEntries(e,r){return ae.resolve()}}class WN{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r]||new or(wt.comparator),i=!s.has(n);return this.index[r]=s.add(n),i}has(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r];return s&&s.has(n)}getEntries(e){return(this.index[e]||new or(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Jo(0)}static kn(){return new Jo(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(){this.changes=new ca(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Er.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?ae.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,r,n,s){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(s=>(n=s,this.remoteDocumentCache.getEntry(e,r))).next(s=>(n!==null&&al(n.mutation,s,Xr.empty(),zt.now()),s))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Ge()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Ge()){const s=ki();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,n).next(i=>{let o=Fa();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=ki();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Ge()))}populateOverlays(e,r,n){const s=[];return n.forEach(i=>{r.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{r.set(o,a)})})}computeViews(e,r,n,s){let i=hs();const o=ol(),a=function(){return ol()}();return r.forEach((l,d)=>{const h=n.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof li)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),al(h.mutation,d,h.mutation.getFieldMask(),zt.now())):o.set(d.key,Xr.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((d,h)=>o.set(d,h)),r.forEach((d,h)=>{var f;return a.set(d,new GN(h,(f=o.get(d))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,r){const n=ol();let s=new Nt((o,a)=>o-a),i=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const a of o)a.keys().forEach(l=>{const d=r.get(l);if(d===null)return;let h=n.get(l)||Xr.empty();h=a.applyToLocalView(d,h),n.set(l,h);const f=(s.get(a.batchId)||Ge()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),d=l.key,h=l.value,f=Ik();h.forEach(p=>{if(!i.has(p)){const y=Rk(r.get(p),n.get(p));y!==null&&f.set(p,y),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return ae.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,s){return function(o){return Re.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):xk(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,s):this.getDocumentsMatchingCollectionQuery(e,r,n,s)}getNextDocuments(e,r,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,s-i.size):ae.resolve(ki());let a=-1,l=i;return o.next(d=>ae.forEach(d,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?ae.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{l=l.insert(h,p)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,l,d,Ge())).next(h=>({batchId:a,changes:Ek(h)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Re(r)).next(n=>{let s=Fa();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s})}getDocumentsMatchingCollectionGroupQuery(e,r,n,s){const i=r.collectionGroup;let o=Fa();return this.indexManager.getCollectionParents(e,i).next(a=>ae.forEach(a,l=>{const d=function(f,p){return new la(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,n,s).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,i,s))).next(o=>{i.forEach((l,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,Er.newInvalidDocument(h)))});let a=Fa();return o.forEach((l,d)=>{const h=i.get(l);h!==void 0&&al(h.mutation,d,Xr.empty(),zt.now()),Vd(r,d)&&(a=a.insert(l,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return ae.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(s){return{id:s.id,version:s.version,createTime:jn(s.createTime)}}(r)),ae.resolve()}getNamedQuery(e,r){return ae.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(s){return{name:s.name,query:HN(s.bundledQuery),readTime:jn(s.readTime)}}(r)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(){this.overlays=new Nt(Re.comparator),this.Ir=new Map}getOverlay(e,r){return ae.resolve(this.overlays.get(r))}getOverlays(e,r){const n=ki();return ae.forEach(r,s=>this.getOverlay(e,s).next(i=>{i!==null&&n.set(s,i)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((s,i)=>{this.ht(e,r,i)}),ae.resolve()}removeOverlaysForBatchId(e,r,n){const s=this.Ir.get(n);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(n)),ae.resolve()}getOverlaysForCollection(e,r,n){const s=ki(),i=r.length+1,o=new Re(r.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,d=l.getKey();if(!r.isPrefixOf(d.path))break;d.path.length===i&&l.largestBatchId>n&&s.set(l.getKey(),l)}return ae.resolve(s)}getOverlaysForCollectionGroup(e,r,n,s){let i=new Nt((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===r&&d.largestBatchId>n){let h=i.get(d.largestBatchId);h===null&&(h=ki(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=ki(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=s)););return ae.resolve(a)}ht(e,r,n){const s=this.overlays.get(n.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(n.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new xN(r,n));let i=this.Ir.get(r);i===void 0&&(i=Ge(),this.Ir.set(r,i)),this.Ir.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(){this.sessionToken=cr.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(){this.Tr=new or(Xt.Er),this.dr=new or(Xt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new Xt(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new Xt(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new Re(new wt([])),n=new Xt(r,e),s=new Xt(r,e+1),i=[];return this.dr.forEachInRange([n,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Re(new wt([])),n=new Xt(r,e),s=new Xt(r,e+1);let i=Ge();return this.dr.forEachInRange([n,s],o=>{i=i.add(o.key)}),i}containsKey(e){const r=new Xt(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Xt{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Re.comparator(e.key,r.key)||st(e.wr,r.wr)}static Ar(e,r){return st(e.wr,r.wr)||Re.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new or(Xt.Er)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new bN(i,r,n,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new Xt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ae.resolve(o)}lookupMutationBatch(e,r){return ae.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,s=this.vr(n),i=s<0?0:s;return ae.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Xt(r,0),s=new Xt(r,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,s],o=>{const a=this.Dr(o.wr);i.push(a)}),ae.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new or(st);return r.forEach(s=>{const i=new Xt(s,0),o=new Xt(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{n=n.add(a.wr)})}),ae.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,s=n.length+1;let i=n;Re.isDocumentKey(i)||(i=i.child(""));const o=new Xt(new Re(i),0);let a=new or(st);return this.br.forEachWhile(l=>{const d=l.key.path;return!!n.isPrefixOf(d)&&(d.length===s&&(a=a.add(l.wr)),!0)},o),ae.resolve(this.Cr(a))}Cr(e){const r=[];return e.forEach(n=>{const s=this.Dr(n);s!==null&&r.push(s)}),r}removeMutationBatch(e,r){dt(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return ae.forEach(r.mutations,s=>{const i=new Xt(s.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new Xt(r,0),s=this.br.firstAfterOrEqual(n);return ae.resolve(r.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(e){this.Mr=e,this.docs=function(){return new Nt(Re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,s=this.docs.get(n),i=s?s.size:0,o=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return ae.resolve(n?n.document.mutableCopy():Er.newInvalidDocument(r))}getEntries(e,r){let n=hs();return r.forEach(s=>{const i=this.docs.get(s);n=n.insert(s,i?i.document.mutableCopy():Er.newInvalidDocument(s))}),ae.resolve(n)}getDocumentsMatchingQuery(e,r,n,s){let i=hs();const o=r.path,a=new Re(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:d,value:{document:h}}=l.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||M6(D6(h),n)<=0||(s.has(h.key)||Vd(r,h))&&(i=i.insert(h.key,h.mutableCopy()))}return ae.resolve(i)}getAllFromCollectionGroup(e,r,n,s){Ve()}Or(e,r){return ae.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new t$(this)}getSize(e){return ae.resolve(this.size)}}class t$ extends KN{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,s)=>{s.isValidDocument()?r.push(this.cr.addEntry(e,s)):this.cr.removeEntry(n)}),ae.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${constructor(e){this.persistence=e,this.Nr=new ca(r=>Um(r),jm),this.lastRemoteSnapshotVersion=Fe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Km,this.targetCount=0,this.kr=Jo.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,s)=>r(s)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),ae.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new Jo(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,ae.resolve()}updateTargetData(e,r){return this.Kn(r),ae.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,r,n){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=r&&n.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),ae.waitFor(i).next(()=>s)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return ae.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),ae.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const s=this.persistence.referenceDelegate,i=[];return s&&r.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),ae.waitFor(i)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),ae.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return ae.resolve(n)}containsKey(e,r){return ae.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(e,r){this.qr={},this.overlays={},this.Qr=new Mm(0),this.Kr=!1,this.Kr=!0,this.$r=new XN,this.referenceDelegate=e(this),this.Ur=new r$(this),this.indexManager=new zN,this.remoteDocumentCache=function(s){return new e$(s)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new qN(r),this.Gr=new YN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new JN,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new ZN(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){Ie("MemoryPersistence","Starting transaction:",e);const s=new s$(this.Qr.next());return this.referenceDelegate.zr(),n(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,r){return ae.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class s$ extends L6{constructor(e){super(),this.currentSequenceNumber=e}}class Gm{constructor(e){this.persistence=e,this.Jr=new Km,this.Yr=null}static Zr(e){return new Gm(e)}get Xr(){if(this.Yr)return this.Yr;throw Ve()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),ae.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),ae.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),ae.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(s=>this.Xr.add(s.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Xr,n=>{const s=Re.fromPath(n);return this.ei(e,s).next(i=>{i||r.removeEntry(s,Fe.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return ae.or([()=>ae.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,r,n,s){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=s}static Wi(e,r){let n=Ge(),s=Ge();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Qm(e,r.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Q5()?8:F6(Cr())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,s){const i={result:null};return this.Yi(e,r).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,r,s,n).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new i$;return this.Xi(e,r,o).next(a=>{if(i.result=a,this.zi)return this.es(e,r,o,a.size)})}).next(()=>i.result)}es(e,r,n,s){return n.documentReadCount<this.ji?(Aa()<=Je.DEBUG&&Ie("QueryEngine","SDK will not create cache indexes for query:",vo(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ae.resolve()):(Aa()<=Je.DEBUG&&Ie("QueryEngine","Query:",vo(r),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.Hi*s?(Aa()<=Je.DEBUG&&Ie("QueryEngine","The SDK decides to create cache indexes for query:",vo(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Un(r))):ae.resolve())}Yi(e,r){if(Lv(r))return ae.resolve(null);let n=Un(r);return this.indexManager.getIndexType(e,n).next(s=>s===0?null:(r.limit!==null&&s===1&&(r=Bu(r,null,"F"),n=Un(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(i=>{const o=Ge(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,n).next(l=>{const d=this.ts(r,a);return this.ns(r,d,o,l.readTime)?this.Yi(e,Bu(r,null,"F")):this.rs(e,d,r,l)}))})))}Zi(e,r,n,s){return Lv(r)||s.isEqual(Fe.min())?ae.resolve(null):this.Ji.getDocuments(e,n).next(i=>{const o=this.ts(r,i);return this.ns(r,o,n,s)?ae.resolve(null):(Aa()<=Je.DEBUG&&Ie("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),vo(r)),this.rs(e,o,r,O6(s,-1)).next(a=>a))})}ts(e,r){let n=new or(wk(e));return r.forEach((s,i)=>{Vd(e,i)&&(n=n.add(i))}),n}ns(e,r,n,s){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const i=e.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,r,n){return Aa()<=Je.DEBUG&&Ie("QueryEngine","Using full collection scan to execute query:",vo(r)),this.Ji.getDocumentsMatchingQuery(e,r,ei.min(),n)}rs(e,r,n,s){return this.Ji.getDocumentsMatchingQuery(e,n,s).next(i=>(r.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${constructor(e,r,n,s){this.persistence=e,this.ss=r,this.serializer=s,this.os=new Nt(st),this._s=new ca(i=>Um(i),jm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QN(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function l$(t,e,r,n){return new a$(t,e,r,n)}async function qk(t,e){const r=Be(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let s;return r.mutationQueue.getAllMutationBatches(n).next(i=>(s=i,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(i=>{const o=[],a=[];let l=Ge();for(const d of s){o.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}for(const d of i){a.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}return r.localDocuments.getDocuments(n,l).next(d=>({hs:d,removedBatchIds:o,addedBatchIds:a}))})})}function c$(t,e){const r=Be(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const s=e.batch.keys(),i=r.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,d,h){const f=d.batch,p=f.keys();let y=ae.resolve();return p.forEach(b=>{y=y.next(()=>h.getEntry(l,b)).next(k=>{const _=d.docVersions.get(b);dt(_!==null),k.version.compareTo(_)<0&&(f.applyToRemoteDocument(k,d),k.isValidDocument()&&(k.setReadTime(d.commitVersion),h.addEntry(k)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(r,n,e,i).next(()=>i.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,s,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(a){let l=Ge();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(l=l.add(a.batch.mutations[d].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,s))})}function Hk(t){const e=Be(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function u$(t,e){const r=Be(t),n=e.snapshotVersion;let s=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=r.cs.newChangeBuffer({trackRemovals:!0});s=r.os;const a=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;a.push(r.Ur.removeMatchingKeys(i,h.removedDocuments,f).next(()=>r.Ur.addMatchingKeys(i,h.addedDocuments,f)));let y=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(cr.EMPTY_BYTE_STRING,Fe.min()).withLastLimboFreeSnapshotVersion(Fe.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,n)),s=s.insert(f,y),function(k,_,T){return k.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-k.snapshotVersion.toMicroseconds()>=3e8?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(p,y,h)&&a.push(r.Ur.updateTargetData(i,y))});let l=hs(),d=Ge();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(r.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(d$(i,o,e.documentUpdates).next(h=>{l=h.Ps,d=h.Is})),!n.isEqual(Fe.min())){const h=r.Ur.getLastRemoteSnapshotVersion(i).next(f=>r.Ur.setTargetsMetadata(i,i.currentSequenceNumber,n));a.push(h)}return ae.waitFor(a).next(()=>o.apply(i)).next(()=>r.localDocuments.getLocalViewOfDocuments(i,l,d)).next(()=>l)}).then(i=>(r.os=s,i))}function d$(t,e,r){let n=Ge(),s=Ge();return r.forEach(i=>n=n.add(i)),e.getEntries(t,n).next(i=>{let o=hs();return r.forEach((a,l)=>{const d=i.get(a);l.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(Fe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||l.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):Ie("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",l.version)}),{Ps:o,Is:s}})}function h$(t,e){const r=Be(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function f$(t,e){const r=Be(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let s;return r.Ur.getTargetData(n,e).next(i=>i?(s=i,ae.resolve(s)):r.Ur.allocateTargetId(n).next(o=>(s=new js(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,s).next(()=>s))))}).then(n=>{const s=r.os.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function up(t,e,r){const n=Be(t),s=n.os.get(e),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,o=>n.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Jl(o))throw o;Ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}n.os=n.os.remove(e),n._s.delete(s.target)}function Qv(t,e,r){const n=Be(t);let s=Fe.min(),i=Ge();return n.persistence.runTransaction("Execute query","readwrite",o=>function(l,d,h){const f=Be(l),p=f._s.get(h);return p!==void 0?ae.resolve(f.os.get(p)):f.Ur.getTargetData(d,h)}(n,o,Un(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>n.ss.getDocumentsMatchingQuery(o,e,r?s:Fe.min(),r?i:Ge())).next(a=>(p$(n,nN(e),a),{documents:a,Ts:i})))}function p$(t,e,r){let n=t.us.get(e)||Fe.min();r.forEach((s,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),t.us.set(e,n)}class Yv{constructor(){this.activeTargetIds=cN()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class m${constructor(){this.so=new Yv,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Yv,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g${_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fc=null;function Xh(){return Fc===null?Fc=function(){return 268435456+Math.round(2147483648*Math.random())}():Fc++,"0x"+Fc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v${constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr="WebChannelConnection";class b$ extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(r,n,s,i,o){const a=Xh(),l=this.xo(r,n.toUriEncodedString());Ie("RestConnection",`Sending RPC '${r}' ${a}:`,l,s);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,i,o),this.No(r,l,d,s).then(h=>(Ie("RestConnection",`Received RPC '${r}' ${a}: `,h),h),h=>{throw Ko("RestConnection",`RPC '${r}' ${a} failed with error: `,h,"url: ",l,"request:",s),h})}Lo(r,n,s,i,o,a){return this.Mo(r,n,s,i,o)}Oo(r,n,s){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+aa}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>r[o]=i),s&&s.headers.forEach((i,o)=>r[o]=i)}xo(r,n){const s=y$[r];return`${this.Do}/v1/${n}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,s){const i=Xh();return new Promise((o,a)=>{const l=new sk;l.setWithCredentials(!0),l.listenOnce(ik.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case su.NO_ERROR:const h=l.getResponseJson();Ie(yr,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case su.TIMEOUT:Ie(yr,`RPC '${e}' ${i} timed out`),a(new _e(se.DEADLINE_EXCEEDED,"Request time out"));break;case su.HTTP_ERROR:const f=l.getStatus();if(Ie(yr,`RPC '${e}' ${i} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const y=p==null?void 0:p.error;if(y&&y.status&&y.message){const b=function(_){const T=_.toLowerCase().replace(/_/g,"-");return Object.values(se).indexOf(T)>=0?T:se.UNKNOWN}(y.status);a(new _e(b,y.message))}else a(new _e(se.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new _e(se.UNAVAILABLE,"Connection failed."));break;default:Ve()}}finally{Ie(yr,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(s);Ie(yr,`RPC '${e}' ${i} sending request:`,s),l.send(r,"POST",d,n,15)})}Bo(e,r,n){const s=Xh(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=lk(),a=ak(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(l.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const h=i.join("");Ie(yr,`Creating RPC '${e}' stream ${s}: ${h}`,l);const f=o.createWebChannel(h,l);let p=!1,y=!1;const b=new v$({Io:_=>{y?Ie(yr,`Not sending because RPC '${e}' stream ${s} is closed:`,_):(p||(Ie(yr,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),Ie(yr,`RPC '${e}' stream ${s} sending:`,_),f.send(_))},To:()=>f.close()}),k=(_,T,P)=>{_.listen(T,E=>{try{P(E)}catch(R){setTimeout(()=>{throw R},0)}})};return k(f,La.EventType.OPEN,()=>{y||(Ie(yr,`RPC '${e}' stream ${s} transport opened.`),b.yo())}),k(f,La.EventType.CLOSE,()=>{y||(y=!0,Ie(yr,`RPC '${e}' stream ${s} transport closed`),b.So())}),k(f,La.EventType.ERROR,_=>{y||(y=!0,Ko(yr,`RPC '${e}' stream ${s} transport errored:`,_),b.So(new _e(se.UNAVAILABLE,"The operation could not be completed")))}),k(f,La.EventType.MESSAGE,_=>{var T;if(!y){const P=_.data[0];dt(!!P);const E=P,R=E.error||((T=E[0])===null||T===void 0?void 0:T.error);if(R){Ie(yr,`RPC '${e}' stream ${s} received error:`,R);const A=R.status;let M=function(m){const w=Ut[m];if(w!==void 0)return $k(w)}(A),I=R.message;M===void 0&&(M=se.INTERNAL,I="Unknown error status: "+A+" with message "+R.message),y=!0,b.So(new _e(M,I)),f.close()}else Ie(yr,`RPC '${e}' stream ${s} received:`,P),b.bo(P)}}),k(a,ok.STAT_EVENT,_=>{_.stat===ep.PROXY?Ie(yr,`RPC '${e}' stream ${s} detected buffering proxy`):_.stat===ep.NOPROXY&&Ie(yr,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.wo()},0),b}}function Zh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jd(t){return new CN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e,r,n=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),s=Math.max(0,r-n);s>0&&Ie("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,r,n,s,i,o,a,l){this.ui=e,this.Ho=n,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new zk(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===se.RESOURCE_EXHAUSTED?(ds(r.toString()),ds("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,s])=>{this.Yo===r&&this.P_(n,s)},n=>{e(()=>{const s=new _e(se.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(s)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{n(()=>this.I_(s))}),this.stream.onMessage(s=>{n(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(Ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class x$ extends Wk{constructor(e,r,n,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,s,o),this.serializer=i}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=NN(this.serializer,e),n=function(i){if(!("targetChange"in i))return Fe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Fe.min():o.readTime?jn(o.readTime):Fe.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=cp(this.serializer),r.addTarget=function(i,o){let a;const l=o.target;if(a=sp(l)?{documents:DN(i,l)}:{query:MN(i,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Mk(i,o.resumeToken);const d=op(i,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(Fe.min())>0){a.readTime=Hu(i,o.snapshotVersion.toTimestamp());const d=op(i,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const n=LN(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=cp(this.serializer),r.removeTarget=e,this.a_(r)}}class _$ extends Wk{constructor(e,r,n,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return dt(!!e.streamToken),this.lastStreamToken=e.streamToken,dt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){dt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=ON(e.writeResults,e.commitTime),n=jn(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=cp(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>$N(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w$ extends class{}{constructor(e,r,n,s){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new _e(se.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,ap(r,n),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new _e(se.UNKNOWN,i.toString())})}Lo(e,r,n,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,ap(r,n),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new _e(se.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class k${constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ds(r),this.D_=!1):Ie("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E${constructor(e,r,n,s,i){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{n.enqueueAndForget(async()=>{to(this)&&(Ie("RemoteStore","Restarting streams for network reachability change."),await async function(l){const d=Be(l);d.L_.add(4),await ec(d),d.q_.set("Unknown"),d.L_.delete(4),await Bd(d)}(this))})}),this.q_=new k$(n,s)}}async function Bd(t){if(to(t))for(const e of t.B_)await e(!0)}async function ec(t){for(const e of t.B_)await e(!1)}function Kk(t,e){const r=Be(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),Zm(r)?Xm(r):ua(r).r_()&&Jm(r,e))}function Ym(t,e){const r=Be(t),n=ua(r);r.N_.delete(e),n.r_()&&Gk(r,e),r.N_.size===0&&(n.r_()?n.o_():to(r)&&r.q_.set("Unknown"))}function Jm(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Fe.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}ua(t).A_(e)}function Gk(t,e){t.Q_.xe(e),ua(t).R_(e)}function Xm(t){t.Q_=new IN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ua(t).start(),t.q_.v_()}function Zm(t){return to(t)&&!ua(t).n_()&&t.N_.size>0}function to(t){return Be(t).L_.size===0}function Qk(t){t.Q_=void 0}async function I$(t){t.q_.set("Online")}async function T$(t){t.N_.forEach((e,r)=>{Jm(t,e)})}async function A$(t,e){Qk(t),Zm(t)?(t.q_.M_(e),Xm(t)):t.q_.set("Unknown")}async function S$(t,e,r){if(t.q_.set("Online"),e instanceof Dk&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(n){Ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await zu(t,n)}else if(e instanceof au?t.Q_.Ke(e):e instanceof Ok?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Fe.min()))try{const n=await Hk(t.localStore);r.compareTo(n)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.N_.get(d);h&&i.N_.set(d,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,d)=>{const h=i.N_.get(l);if(!h)return;i.N_.set(l,h.withResumeToken(cr.EMPTY_BYTE_STRING,h.snapshotVersion)),Gk(i,l);const f=new js(h.target,l,d,h.sequenceNumber);Jm(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,r)}catch(n){Ie("RemoteStore","Failed to raise snapshot:",n),await zu(t,n)}}async function zu(t,e,r){if(!Jl(e))throw e;t.L_.add(1),await ec(t),t.q_.set("Offline"),r||(r=()=>Hk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Ie("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await Bd(t)})}function Yk(t,e){return e().catch(r=>zu(t,r,e))}async function qd(t){const e=Be(t),r=ri(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;C$(e);)try{const s=await h$(e.localStore,n);if(s===null){e.O_.length===0&&r.o_();break}n=s.batchId,P$(e,s)}catch(s){await zu(e,s)}Jk(e)&&Xk(e)}function C$(t){return to(t)&&t.O_.length<10}function P$(t,e){t.O_.push(e);const r=ri(t);r.r_()&&r.V_&&r.m_(e.mutations)}function Jk(t){return to(t)&&!ri(t).n_()&&t.O_.length>0}function Xk(t){ri(t).start()}async function R$(t){ri(t).p_()}async function N$(t){const e=ri(t);for(const r of t.O_)e.m_(r.mutations)}async function $$(t,e,r){const n=t.O_.shift(),s=Hm.from(n,e,r);await Yk(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await qd(t)}async function O$(t,e){e&&ri(t).V_&&await async function(n,s){if(function(o){return wN(o)&&o!==se.ABORTED}(s.code)){const i=n.O_.shift();ri(n).s_(),await Yk(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,s)),await qd(n)}}(t,e),Jk(t)&&Xk(t)}async function Xv(t,e){const r=Be(t);r.asyncQueue.verifyOperationInProgress(),Ie("RemoteStore","RemoteStore received new credentials");const n=to(r);r.L_.add(3),await ec(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await Bd(r)}async function D$(t,e){const r=Be(t);e?(r.L_.delete(2),await Bd(r)):e||(r.L_.add(2),await ec(r),r.q_.set("Unknown"))}function ua(t){return t.K_||(t.K_=function(r,n,s){const i=Be(r);return i.w_(),new x$(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:I$.bind(null,t),Ro:T$.bind(null,t),mo:A$.bind(null,t),d_:S$.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Zm(t)?Xm(t):t.q_.set("Unknown")):(await t.K_.stop(),Qk(t))})),t.K_}function ri(t){return t.U_||(t.U_=function(r,n,s){const i=Be(r);return i.w_(),new _$(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:R$.bind(null,t),mo:O$.bind(null,t),f_:N$.bind(null,t),g_:$$.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await qd(t)):(await t.U_.stop(),t.O_.length>0&&(Ie("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,r,n,s,i){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=s,this.removalCallback=i,this.deferred=new os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,s,i){const o=Date.now()+n,a=new eg(e,r,o,s,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function tg(t,e){if(ds("AsyncQueue",`${e}: ${t}`),Jl(t))return new _e(se.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this.comparator=e?(r,n)=>e(r,n)||Re.comparator(r.key,n.key):(r,n)=>Re.comparator(r.key,n.key),this.keyedMap=Fa(),this.sortedSet=new Nt(this.comparator)}static emptySet(e){return new Do(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Do)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const s=r.getNext().key,i=n.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Do;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(){this.W_=new Nt(Re.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Ve():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class Xo{constructor(e,r,n,s,i,o,a,l,d){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(e,r,n,s,i){const o=[];return r.forEach(a=>{o.push({type:0,doc:a})}),new Xo(e,r,Do.emptySet(r),o,n,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Md(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++)if(r[s].type!==n[s].type||!r[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M${constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class V${constructor(){this.queries=eb(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const s=Be(r),i=s.queries;s.queries=eb(),i.forEach((o,a)=>{for(const l of a.j_)l.onError(n)})})(this,new _e(se.ABORTED,"Firestore shutting down"))}}function eb(){return new ca(t=>_k(t),Md)}async function rg(t,e){const r=Be(t);let n=3;const s=e.query;let i=r.queries.get(s);i?!i.H_()&&e.J_()&&(n=2):(i=new M$,n=e.J_()?0:1);try{switch(n){case 0:i.z_=await r.onListen(s,!0);break;case 1:i.z_=await r.onListen(s,!1);break;case 2:await r.onFirstRemoteStoreListen(s)}}catch(o){const a=tg(o,`Initialization of query '${vo(e.query)}' failed`);return void e.onError(a)}r.queries.set(s,i),i.j_.push(e),e.Z_(r.onlineState),i.z_&&e.X_(i.z_)&&sg(r)}async function ng(t,e){const r=Be(t),n=e.query;let s=3;const i=r.queries.get(n);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function L$(t,e){const r=Be(t);let n=!1;for(const s of e){const i=s.query,o=r.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(n=!0);o.z_=s}}n&&sg(r)}function F$(t,e,r){const n=Be(t),s=n.queries.get(e);if(s)for(const i of s.j_)i.onError(r);n.queries.delete(e)}function sg(t){t.Y_.forEach(e=>{e.next()})}var dp,tb;(tb=dp||(dp={})).ea="default",tb.Cache="cache";class ig{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const s of e.docChanges)s.type!==3&&n.push(s);e=new Xo(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=Xo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==dp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(e){this.key=e}}class e2{constructor(e){this.key=e}}class U${constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ge(),this.mutatedKeys=Ge(),this.Aa=wk(e),this.Ra=new Do(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new Zv,s=r?r.Ra:this.Ra;let i=r?r.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),y=Vd(this.query,f)?f:null,b=!!p&&this.mutatedKeys.has(p.key),k=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let _=!1;p&&y?p.data.isEqual(y.data)?b!==k&&(n.track({type:3,doc:y}),_=!0):this.ga(p,y)||(n.track({type:2,doc:y}),_=!0,(l&&this.Aa(y,l)>0||d&&this.Aa(y,d)<0)&&(a=!0)):!p&&y?(n.track({type:0,doc:y}),_=!0):p&&!y&&(n.track({type:1,doc:p}),_=!0,(l||d)&&(a=!0)),_&&(y?(o=o.add(y),i=k?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),n.track({type:1,doc:h})}return{Ra:o,fa:n,ns:a,mutatedKeys:i}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,f)=>function(y,b){const k=_=>{switch(_){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve()}};return k(y)-k(b)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(n),s=s!=null&&s;const a=r&&!s?this.ya():[],l=this.da.size===0&&this.current&&!s?1:0,d=l!==this.Ea;return this.Ea=l,o.length!==0||d?{snapshot:new Xo(this.query,e.Ra,i,o,e.mutatedKeys,l===0,d,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Zv,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ge(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new e2(n))}),this.da.forEach(n=>{e.has(n)||r.push(new Zk(n))}),r}ba(e){this.Ta=e.Ts,this.da=Ge();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return Xo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class j${constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class B${constructor(e){this.key=e,this.va=!1}}class q${constructor(e,r,n,s,i,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new ca(a=>_k(a),Md),this.Ma=new Map,this.xa=new Set,this.Oa=new Nt(Re.comparator),this.Na=new Map,this.La=new Km,this.Ba={},this.ka=new Map,this.qa=Jo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function H$(t,e,r=!0){const n=o2(t);let s;const i=n.Fa.get(e);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await t2(n,e,r,!0),s}async function z$(t,e){const r=o2(t);await t2(r,e,!0,!1)}async function t2(t,e,r,n){const s=await f$(t.localStore,Un(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,r);let a;return n&&(a=await W$(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&r&&Kk(t.remoteStore,s),a}async function W$(t,e,r,n,s){t.Ka=(f,p,y)=>async function(k,_,T,P){let E=_.view.ma(T);E.ns&&(E=await Qv(k.localStore,_.query,!1).then(({documents:I})=>_.view.ma(I,E)));const R=P&&P.targetChanges.get(_.targetId),A=P&&P.targetMismatches.get(_.targetId)!=null,M=_.view.applyChanges(E,k.isPrimaryClient,R,A);return nb(k,_.targetId,M.wa),M.snapshot}(t,f,p,y);const i=await Qv(t.localStore,e,!0),o=new U$(e,i.Ts),a=o.ma(i.documents),l=Zl.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",s),d=o.applyChanges(a,t.isPrimaryClient,l);nb(t,r,d.wa);const h=new j$(e,r,o);return t.Fa.set(e,h),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),d.snapshot}async function K$(t,e,r){const n=Be(t),s=n.Fa.get(e),i=n.Ma.get(s.targetId);if(i.length>1)return n.Ma.set(s.targetId,i.filter(o=>!Md(o,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await up(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),r&&Ym(n.remoteStore,s.targetId),hp(n,s.targetId)}).catch(Yl)):(hp(n,s.targetId),await up(n.localStore,s.targetId,!0))}async function G$(t,e){const r=Be(t),n=r.Fa.get(e),s=r.Ma.get(n.targetId);r.isPrimaryClient&&s.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Ym(r.remoteStore,n.targetId))}async function Q$(t,e,r){const n=rO(t);try{const s=await function(o,a){const l=Be(o),d=zt.now(),h=a.reduce((y,b)=>y.add(b.key),Ge());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",y=>{let b=hs(),k=Ge();return l.cs.getEntries(y,h).next(_=>{b=_,b.forEach((T,P)=>{P.isValidDocument()||(k=k.add(T))})}).next(()=>l.localDocuments.getOverlayedDocuments(y,b)).next(_=>{f=_;const T=[];for(const P of a){const E=yN(P,f.get(P.key).overlayedDocument);E!=null&&T.push(new li(P.key,E,fk(E.value.mapValue),mn.exists(!0)))}return l.mutationQueue.addMutationBatch(y,d,T,a)}).next(_=>{p=_;const T=_.applyToLocalDocumentSet(f,k);return l.documentOverlayCache.saveOverlays(y,_.batchId,T)})}).then(()=>({batchId:p.batchId,changes:Ek(f)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let d=o.Ba[o.currentUser.toKey()];d||(d=new Nt(st)),d=d.insert(a,l),o.Ba[o.currentUser.toKey()]=d}(n,s.batchId,r),await tc(n,s.changes),await qd(n.remoteStore)}catch(s){const i=tg(s,"Failed to persist write");r.reject(i)}}async function r2(t,e){const r=Be(t);try{const n=await u$(r.localStore,e);e.targetChanges.forEach((s,i)=>{const o=r.Na.get(i);o&&(dt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?dt(o.va):s.removedDocuments.size>0&&(dt(o.va),o.va=!1))}),await tc(r,n,e)}catch(n){await Yl(n)}}function rb(t,e,r){const n=Be(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const s=[];n.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=Be(o);l.onlineState=a;let d=!1;l.queries.forEach((h,f)=>{for(const p of f.j_)p.Z_(a)&&(d=!0)}),d&&sg(l)}(n.eventManager,e),s.length&&n.Ca.d_(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Y$(t,e,r){const n=Be(t);n.sharedClientState.updateQueryState(e,"rejected",r);const s=n.Na.get(e),i=s&&s.key;if(i){let o=new Nt(Re.comparator);o=o.insert(i,Er.newNoDocument(i,Fe.min()));const a=Ge().add(i),l=new Ud(Fe.min(),new Map,new Nt(st),o,a);await r2(n,l),n.Oa=n.Oa.remove(i),n.Na.delete(e),og(n)}else await up(n.localStore,e,!1).then(()=>hp(n,e,r)).catch(Yl)}async function J$(t,e){const r=Be(t),n=e.batch.batchId;try{const s=await c$(r.localStore,e);s2(r,n,null),n2(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await tc(r,s)}catch(s){await Yl(s)}}async function X$(t,e,r){const n=Be(t);try{const s=await function(o,a){const l=Be(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return l.mutationQueue.lookupMutationBatch(d,a).next(f=>(dt(f!==null),h=f.keys(),l.mutationQueue.removeMutationBatch(d,f))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>l.localDocuments.getDocuments(d,h))})}(n.localStore,e);s2(n,e,r),n2(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await tc(n,s)}catch(s){await Yl(s)}}function n2(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function s2(t,e,r){const n=Be(t);let s=n.Ba[n.currentUser.toKey()];if(s){const i=s.get(e);i&&(r?i.reject(r):i.resolve(),s=s.remove(e)),n.Ba[n.currentUser.toKey()]=s}}function hp(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||i2(t,n)})}function i2(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(Ym(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),og(t))}function nb(t,e,r){for(const n of r)n instanceof Zk?(t.La.addReference(n.key,e),Z$(t,n)):n instanceof e2?(Ie("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||i2(t,n.key)):Ve()}function Z$(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(Ie("SyncEngine","New document in limbo: "+r),t.xa.add(n),og(t))}function og(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new Re(wt.fromString(e)),n=t.qa.next();t.Na.set(n,new B$(r)),t.Oa=t.Oa.insert(r,n),Kk(t.remoteStore,new js(Un(Dd(r.path)),n,"TargetPurposeLimboResolution",Mm.oe))}}async function tc(t,e,r){const n=Be(t),s=[],i=[],o=[];n.Fa.isEmpty()||(n.Fa.forEach((a,l)=>{o.push(n.Ka(l,e,r).then(d=>{var h;if((d||r)&&n.isPrimaryClient){const f=d?!d.fromCache:(h=r==null?void 0:r.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(d){s.push(d);const f=Qm.Wi(l.targetId,d);i.push(f)}}))}),await Promise.all(o),n.Ca.d_(s),await async function(l,d){const h=Be(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ae.forEach(d,p=>ae.forEach(p.$i,y=>h.persistence.referenceDelegate.addReference(f,p.targetId,y)).next(()=>ae.forEach(p.Ui,y=>h.persistence.referenceDelegate.removeReference(f,p.targetId,y)))))}catch(f){if(!Jl(f))throw f;Ie("LocalStore","Failed to update sequence numbers: "+f)}for(const f of d){const p=f.targetId;if(!f.fromCache){const y=h.os.get(p),b=y.snapshotVersion,k=y.withLastLimboFreeSnapshotVersion(b);h.os=h.os.insert(p,k)}}}(n.localStore,i))}async function eO(t,e){const r=Be(t);if(!r.currentUser.isEqual(e)){Ie("SyncEngine","User change. New user:",e.toKey());const n=await qk(r.localStore,e);r.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(l=>{l.reject(new _e(se.CANCELLED,o))})}),i.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await tc(r,n.hs)}}function tO(t,e){const r=Be(t),n=r.Na.get(e);if(n&&n.va)return Ge().add(n.key);{let s=Ge();const i=r.Ma.get(e);if(!i)return s;for(const o of i){const a=r.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function o2(t){const e=Be(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=r2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Y$.bind(null,e),e.Ca.d_=L$.bind(null,e.eventManager),e.Ca.$a=F$.bind(null,e.eventManager),e}function rO(t){const e=Be(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=J$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=X$.bind(null,e),e}class Wu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return l$(this.persistence,new o$,e.initialUser,this.serializer)}Ga(e){return new n$(Gm.Zr,this.serializer)}Wa(e){return new m$}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wu.provider={build:()=>new Wu};class fp{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>rb(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=eO.bind(null,this.syncEngine),await D$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new V$}()}createDatastore(e){const r=jd(e.databaseInfo.databaseId),n=function(i){return new b$(i)}(e.databaseInfo);return function(i,o,a,l){return new w$(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,s,i,o,a){return new E$(n,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,r=>rb(this.syncEngine,r,0),function(){return Jv.D()?new Jv:new g$}())}createSyncEngine(e,r){return function(s,i,o,a,l,d,h){const f=new q$(s,i,o,a,l,d);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(s){const i=Be(s);Ie("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await ec(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}fp.provider={build:()=>new fp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ds("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,r,n,s,i){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=s,this.user=_r.UNAUTHENTICATED,this.clientId=uk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async o=>{Ie("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(Ie("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=tg(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function ef(t,e){t.asyncQueue.verifyOperationInProgress(),Ie("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async s=>{n.isEqual(s)||(await qk(e.localStore,s),n=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function sb(t,e){t.asyncQueue.verifyOperationInProgress();const r=await sO(t);Ie("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>Xv(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,s)=>Xv(e.remoteStore,s)),t._onlineComponents=e}async function sO(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ie("FirestoreClient","Using user provided OfflineComponentProvider");try{await ef(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(s){return s.name==="FirebaseError"?s.code===se.FAILED_PRECONDITION||s.code===se.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(r))throw r;Ko("Error using user provided cache. Falling back to memory cache: "+r),await ef(t,new Wu)}}else Ie("FirestoreClient","Using default OfflineComponentProvider"),await ef(t,new Wu);return t._offlineComponents}async function a2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ie("FirestoreClient","Using user provided OnlineComponentProvider"),await sb(t,t._uninitializedComponentsProvider._online)):(Ie("FirestoreClient","Using default OnlineComponentProvider"),await sb(t,new fp))),t._onlineComponents}function iO(t){return a2(t).then(e=>e.syncEngine)}async function Ku(t){const e=await a2(t),r=e.eventManager;return r.onListen=H$.bind(null,e.syncEngine),r.onUnlisten=K$.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=z$.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=G$.bind(null,e.syncEngine),r}function oO(t,e,r={}){const n=new os;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,d){const h=new ag({next:p=>{h.Za(),o.enqueueAndForget(()=>ng(i,f));const y=p.docs.has(a);!y&&p.fromCache?d.reject(new _e(se.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&l&&l.source==="server"?d.reject(new _e(se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new ig(Dd(a.path),h,{includeMetadataChanges:!0,_a:!0});return rg(i,f)}(await Ku(t),t.asyncQueue,e,r,n)),n.promise}function aO(t,e,r={}){const n=new os;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,l,d){const h=new ag({next:p=>{h.Za(),o.enqueueAndForget(()=>ng(i,f)),p.fromCache&&l.source==="server"?d.reject(new _e(se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new ig(a,h,{includeMetadataChanges:!0,_a:!0});return rg(i,f)}(await Ku(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(t,e,r){if(!r)throw new _e(se.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function lO(t,e,r,n){if(e===!0&&n===!0)throw new _e(se.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function ob(t){if(!Re.isDocumentKey(t))throw new _e(se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ab(t){if(Re.isDocumentKey(t))throw new _e(se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Hd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ve()}function zr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Hd(t);throw new _e(se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function cO(t,e){if(e<=0)throw new _e(se.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new _e(se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}lO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=l2((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new _e(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new _e(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new _e(se.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,s){return n.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zd{constructor(e,r,n,s){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lb({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lb(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new I6;switch(n.type){case"firstParty":return new C6(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new _e(se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=ib.get(r);n&&(Ie("ComponentProvider","Removing Datastore"),ib.delete(r),n.terminate())}(this),Promise.resolve()}}function uO(t,e,r,n={}){var s;const i=(t=zr(t,zd))._getSettings(),o=`${e}:${r}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Ko("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),n.mockUserToken){let a,l;if(typeof n.mockUserToken=="string")a=n.mockUserToken,l=_r.MOCK_USER;else{a=dw(n.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const d=n.mockUserToken.sub||n.mockUserToken.user_id;if(!d)throw new _e(se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new _r(d)}t._authCredentials=new T6(new ck(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new ys(this.firestore,e,this._query)}}class Sr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Sr(this.firestore,e,this._key)}}class Qs extends ys{constructor(e,r,n){super(e,r,Dd(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Sr(this.firestore,null,new Re(e))}withConverter(e){return new Qs(this.firestore,e,this._path)}}function br(t,e,...r){if(t=bt(t),c2("collection","path",e),t instanceof zd){const n=wt.fromString(e,...r);return ab(n),new Qs(t,null,n)}{if(!(t instanceof Sr||t instanceof Qs))throw new _e(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(wt.fromString(e,...r));return ab(n),new Qs(t.firestore,null,n)}}function $r(t,e,...r){if(t=bt(t),arguments.length===1&&(e=uk.newId()),c2("doc","path",e),t instanceof zd){const n=wt.fromString(e,...r);return ob(n),new Sr(t,null,new Re(n))}{if(!(t instanceof Sr||t instanceof Qs))throw new _e(se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(wt.fromString(e,...r));return ob(n),new Sr(t.firestore,t instanceof Qs?t.converter:null,new Re(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new zk(this,"async_queue_retry"),this.Vu=()=>{const n=Zh();n&&Ie("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=Zh();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=Zh();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new os;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Jl(e))throw e;Ie("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(n);throw ds("INTERNAL UNHANDLED ERROR: ",s),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const s=eg.createAndSchedule(this,e,r,n,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&Ve()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function ub(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const s=r;for(const i of n)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class fs extends zd{constructor(e,r,n,s){super(e,r,n,s),this.type="firestore",this._queue=new cb,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new cb(e),this._firestoreClient=void 0,await e}}}function u2(t,e){const r=typeof t=="object"?t:sa(),n=typeof t=="string"?t:"(default)",s=gs(r,"firestore").getImmediate({identifier:n});if(!s._initialized){const i=km("firestore");i&&uO(s,...i)}return s}function Wd(t){if(t._terminated)throw new _e(se.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||dO(t),t._firestoreClient}function dO(t){var e,r,n;const s=t._freezeSettings(),i=function(a,l,d,h){return new B6(a,l,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,l2(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((r=s.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=s.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new nO(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zo(cr.fromBase64String(e))}catch(r){throw new _e(se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Zo(cr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new _e(se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lg{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new _e(se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new _e(se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return st(this._lat,e._lat)||st(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,s){if(n.length!==s.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO=/^__.*__$/;class fO{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new li(e,this.data,this.fieldMask,r,this.fieldTransforms):new Xl(e,this.data,r,this.fieldTransforms)}}class d2{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new li(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function h2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve()}}class ug{constructor(e,r,n,s,i,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new ug(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.Fu({path:n,xu:!1});return s.Ou(e),s}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.Fu({path:n,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Gu(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(h2(this.Cu)&&hO.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class pO{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||jd(e)}Qu(e,r,n,s=!1){return new ug({Cu:e,methodName:r,qu:n,path:nr.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qd(t){const e=t._freezeSettings(),r=jd(t._databaseId);return new pO(t._databaseId,!!e.ignoreUndefinedProperties,r)}function f2(t,e,r,n,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,r,s);hg("Data must be an object, but it was:",o,n);const a=p2(n,o);let l,d;if(i.merge)l=new Xr(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=pp(e,f,r);if(!o.contains(p))throw new _e(se.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);g2(h,p)||h.push(p)}l=new Xr(h),d=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,d=o.fieldTransforms;return new fO(new qr(a),l,d)}class Yd extends Gd{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yd}}class dg extends Gd{_toFieldTransform(e){return new fN(e.path,new Ml)}isEqual(e){return e instanceof dg}}function mO(t,e,r,n){const s=t.Qu(1,e,r);hg("Data must be an object, but it was:",s,n);const i=[],o=qr.empty();eo(n,(l,d)=>{const h=fg(e,l,r);d=bt(d);const f=s.Nu(h);if(d instanceof Yd)i.push(h);else{const p=rc(d,f);p!=null&&(i.push(h),o.set(h,p))}});const a=new Xr(i);return new d2(o,a,s.fieldTransforms)}function gO(t,e,r,n,s,i){const o=t.Qu(1,e,r),a=[pp(e,n,r)],l=[s];if(i.length%2!=0)throw new _e(se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(pp(e,i[p])),l.push(i[p+1]);const d=[],h=qr.empty();for(let p=a.length-1;p>=0;--p)if(!g2(d,a[p])){const y=a[p];let b=l[p];b=bt(b);const k=o.Nu(y);if(b instanceof Yd)d.push(y);else{const _=rc(b,k);_!=null&&(d.push(y),h.set(y,_))}}const f=new Xr(d);return new d2(h,f,o.fieldTransforms)}function yO(t,e,r,n=!1){return rc(r,t.Qu(n?4:3,e))}function rc(t,e){if(m2(t=bt(t)))return hg("Unsupported field value:",e,t),p2(t,e);if(t instanceof Gd)return function(n,s){if(!h2(s.Cu))throw s.Bu(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,s){const i=[];let o=0;for(const a of n){let l=rc(a,s.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,s){if((n=bt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return uN(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=zt.fromDate(n);return{timestampValue:Hu(s.serializer,i)}}if(n instanceof zt){const i=new zt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Hu(s.serializer,i)}}if(n instanceof lg)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Zo)return{bytesValue:Mk(s.serializer,n._byteString)};if(n instanceof Sr){const i=s.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Wm(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof cg)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Bm(a.serializer,l)})}}}}}}(n,s);throw s.Bu(`Unsupported field value: ${Hd(n)}`)}(t,e)}function p2(t,e){const r={};return dk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):eo(t,(n,s)=>{const i=rc(s,e.Mu(n));i!=null&&(r[n]=i)}),{mapValue:{fields:r}}}function m2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof zt||t instanceof lg||t instanceof Zo||t instanceof Sr||t instanceof Gd||t instanceof cg)}function hg(t,e,r){if(!m2(r)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(r)){const n=Hd(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function pp(t,e,r){if((e=bt(e))instanceof Kd)return e._internalPath;if(typeof e=="string")return fg(t,e);throw Gu("Field path arguments must be of type string or ",t,!1,void 0,r)}const vO=new RegExp("[~\\*/\\[\\]]");function fg(t,e,r){if(e.search(vO)>=0)throw Gu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Kd(...e.split("."))._internalPath}catch{throw Gu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Gu(t,e,r,n,s){const i=n&&!n.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;r&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${n}`),o&&(l+=` in document ${s}`),l+=")"),new _e(se.INVALID_ARGUMENT,a+t+l)}function g2(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,r,n,s,i){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Sr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Jd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class bO extends y2{data(){return super.data()}}function Jd(t,e){return typeof e=="string"?fg(t,e):e instanceof Kd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pg{}class mg extends pg{}function vi(t,e,...r){let n=[];e instanceof pg&&n.push(e),n=n.concat(r),function(i){const o=i.filter(l=>l instanceof gg).length,a=i.filter(l=>l instanceof Xd).length;if(o>1||o>0&&a>0)throw new _e(se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)t=s._apply(t);return t}class Xd extends mg{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Xd(e,r,n)}_apply(e){const r=this._parse(e);return b2(e._query,r),new ys(e.firestore,e.converter,ip(e._query,r))}_parse(e){const r=Qd(e.firestore);return function(i,o,a,l,d,h,f){let p;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new _e(se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){hb(f,h);const y=[];for(const b of f)y.push(db(l,i,b));p={arrayValue:{values:y}}}else p=db(l,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||hb(f,h),p=yO(a,o,f,h==="in"||h==="not-in");return qt.create(d,h,p)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function ja(t,e,r){const n=e,s=Jd("where",t);return Xd._create(s,n,r)}class gg extends pg{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new gg(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:Nn.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)b2(o,l),o=ip(o,l)}(e._query,r),new ys(e.firestore,e.converter,ip(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class yg extends mg{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new yg(e,r)}_apply(e){const r=function(s,i,o){if(s.startAt!==null)throw new _e(se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new _e(se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Dl(i,o)}(e._query,this._field,this._direction);return new ys(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new la(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,r))}}function Ba(t,e="asc"){const r=e,n=Jd("orderBy",t);return yg._create(n,r)}class vg extends mg{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new vg(e,r,n)}_apply(e){return new ys(e.firestore,e.converter,Bu(e._query,this._limit,this._limitType))}}function xO(t){return cO("limit",t),vg._create("limit",t,"F")}function db(t,e,r){if(typeof(r=bt(r))=="string"){if(r==="")throw new _e(se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xk(e)&&r.indexOf("/")!==-1)throw new _e(se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(wt.fromString(r));if(!Re.isDocumentKey(n))throw new _e(se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Nv(t,new Re(n))}if(r instanceof Sr)return Nv(t,r._key);throw new _e(se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hd(r)}.`)}function hb(t,e){if(!Array.isArray(t)||t.length===0)throw new _e(se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function b2(t,e){const r=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new _e(se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class _O{convertValue(e,r="none"){switch(ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Ui(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return eo(e,(s,i)=>{n[s]=this.convertValue(i,r)}),n}convertVectorValue(e){var r,n,s;const i=(s=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||s===void 0?void 0:s.map(o=>Vt(o.doubleValue));return new cg(i)}convertGeoPoint(e){return new lg(Vt(e.latitude),Vt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=Lm(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Nl(e));default:return null}}convertTimestamp(e){const r=ti(e);return new zt(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=wt.fromString(e);dt(Bk(n));const s=new $l(n.get(1),n.get(3)),i=new Re(n.popFirst(5));return s.isEqual(r)||ds(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _2 extends y2{constructor(e,r,n,s,i,o){super(e,r,n,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new lu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(Jd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class lu extends _2{data(e={}){return super.data(e)}}class w2{constructor(e,r,n,s){this._firestore=e,this._userDataWriter=r,this._snapshot=s,this.metadata=new qa(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new lu(this._firestore,this._userDataWriter,n.key,n,new qa(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new _e(se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new lu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new qa(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new lu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new qa(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:wO(a.type),doc:l,oldIndex:d,newIndex:h}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function wO(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(t){t=zr(t,Sr);const e=zr(t.firestore,fs);return oO(Wd(e),t._key).then(r=>k2(e,t,r))}class bg extends _O{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zo(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Sr(this.firestore,null,r)}}function wn(t){t=zr(t,ys);const e=zr(t.firestore,fs),r=Wd(e),n=new bg(e);return v2(t._query),aO(r,t._query).then(s=>new w2(e,n,t,s))}function Uc(t,e,r){t=zr(t,Sr);const n=zr(t.firestore,fs),s=x2(t.converter,e,r);return Zd(n,[f2(Qd(n),"setDoc",t._key,s,t.converter!==null,r).toMutation(t._key,mn.none())])}function Ha(t,e,r,...n){t=zr(t,Sr);const s=zr(t.firestore,fs),i=Qd(s);let o;return o=typeof(e=bt(e))=="string"||e instanceof Kd?gO(i,"updateDoc",t._key,e,r,n):mO(i,"updateDoc",t._key,e),Zd(s,[o.toMutation(t._key,mn.exists(!0))])}function fb(t){return Zd(zr(t.firestore,fs),[new qm(t._key,mn.none())])}function _o(t,e){const r=zr(t.firestore,fs),n=$r(t),s=x2(t.converter,e);return Zd(r,[f2(Qd(t.firestore),"addDoc",n._key,s,t.converter!==null,{}).toMutation(n._key,mn.exists(!1))]).then(()=>n)}function kO(t,...e){var r,n,s;t=bt(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||ub(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(ub(e[o])){const f=e[o];e[o]=(r=f.next)===null||r===void 0?void 0:r.bind(f),e[o+1]=(n=f.error)===null||n===void 0?void 0:n.bind(f),e[o+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let l,d,h;if(t instanceof Sr)d=zr(t.firestore,fs),h=Dd(t._key.path),l={next:f=>{e[o]&&e[o](k2(d,t,f))},error:e[o+1],complete:e[o+2]};else{const f=zr(t,ys);d=zr(f.firestore,fs),h=f._query;const p=new bg(d);l={next:y=>{e[o]&&e[o](new w2(d,p,f,y))},error:e[o+1],complete:e[o+2]},v2(t._query)}return function(p,y,b,k){const _=new ag(k),T=new ig(y,_,b);return p.asyncQueue.enqueueAndForget(async()=>rg(await Ku(p),T)),()=>{_.Za(),p.asyncQueue.enqueueAndForget(async()=>ng(await Ku(p),T))}}(Wd(d),h,a,l)}function Zd(t,e){return function(n,s){const i=new os;return n.asyncQueue.enqueueAndForget(async()=>Q$(await iO(n),s,i)),i.promise}(Wd(t),e)}function k2(t,e,r){const n=r.docs.get(e._key),s=new bg(t);return new _2(t,s,e._key,n,new qa(r.hasPendingWrites,r.fromCache),e.converter)}function vr(){return new dg("serverTimestamp")}(function(e,r=!0){(function(s){aa=s})(Xi),vn(new rn("firestore",(n,{instanceIdentifier:s,options:i})=>{const o=n.getProvider("app").getImmediate(),a=new fs(new A6(n.getProvider("auth-internal")),new R6(n.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new _e(se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(d.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:r},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Ar(Av,"4.7.3",e),Ar(Av,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2="firebasestorage.googleapis.com",I2="storageBucket",EO=2*60*1e3,IO=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends xn{constructor(e,r,n=0){super(tf(e),`Firebase Storage: ${r} (${tf(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,dr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return tf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ur;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ur||(ur={}));function tf(t){return"storage/"+t}function TO(){const t="An unknown error occurred, please check the error payload for server response.";return new dr(ur.UNKNOWN,t)}function AO(t){return new dr(ur.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function SO(t){return new dr(ur.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function CO(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new dr(ur.UNAUTHENTICATED,t)}function PO(){return new dr(ur.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function RO(t){return new dr(ur.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function NO(){return new dr(ur.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function $O(){return new dr(ur.CANCELED,"User canceled the upload/download.")}function OO(t){return new dr(ur.INVALID_URL,"Invalid URL '"+t+"'.")}function DO(t){return new dr(ur.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function MO(){return new dr(ur.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+I2+"' property when initializing the app?")}function mp(t){return new dr(ur.INVALID_ARGUMENT,t)}function T2(){return new dr(ur.APP_DELETED,"The Firebase app was deleted.")}function VO(t){return new dr(ur.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Sa(t){throw new dr(ur.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=fn.makeFromUrl(e,r)}catch{return new fn(e,"")}if(n.path==="")return n;throw DO(e)}static makeFromUrl(e,r){let n=null;const s="([A-Za-z0-9.\\-_]+)";function i(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),l={bucket:1,path:3};function d(R){R.path_=decodeURIComponent(R.path)}const h="v[A-Za-z0-9_]+",f=r.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",y=new RegExp(`^https?://${f}/${h}/b/${s}/o${p}`,"i"),b={bucket:1,path:3},k=r===E2?"(?:storage.googleapis.com|storage.cloud.google.com)":r,_="([^?#]*)",T=new RegExp(`^https?://${k}/${s}/${_}`,"i"),E=[{regex:a,indices:l,postModify:i},{regex:y,indices:b,postModify:d},{regex:T,indices:{bucket:1,path:2},postModify:d}];for(let R=0;R<E.length;R++){const A=E[R],M=A.regex.exec(e);if(M){const I=M[A.indices.bucket];let v=M[A.indices.path];v||(v=""),n=new fn(I,v),A.postModify(n);break}}if(n==null)throw OO(e);return n}}class LO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(t,e,r){let n=1,s=null,i=null,o=!1,a=0;function l(){return a===2}let d=!1;function h(..._){d||(d=!0,e.apply(null,_))}function f(_){s=setTimeout(()=>{s=null,t(y,l())},_)}function p(){i&&clearTimeout(i)}function y(_,...T){if(d){p();return}if(_){p(),h.call(null,_,...T);return}if(l()||o){p(),h.call(null,_,...T);return}n<64&&(n*=2);let E;a===1?(a=2,E=0):E=(n+Math.random())*1e3,f(E)}let b=!1;function k(_){b||(b=!0,p(),!d&&(s!==null?(_||(a=2),clearTimeout(s),f(0)):_||(a=1)))}return f(0),i=setTimeout(()=>{o=!0,k(!0)},r),k}function UO(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jO(t){return t!==void 0}function pb(t,e,r,n){if(n<e)throw mp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw mp(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function qO(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const s=e(n)+"="+e(t[n]);r=r+s+"&"}return r=r.slice(0,-1),r}var Ni;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Ni||(Ni={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HO(t,e){const r=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return r||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zO{constructor(e,r,n,s,i,o,a,l,d,h,f,p=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,b)=>{this.resolve_=y,this.reject_=b,this.start_()})}start_(){const e=(n,s)=>{if(s){n(!1,new jc(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const l=a.loaded,d=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,d)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Ni.NO_ERROR,l=i.getStatus();if(!a||HO(l,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===Ni.ABORT;n(!1,new jc(!1,null,h));return}const d=this.successCodes_.indexOf(l)!==-1;n(!0,new jc(d,i))})},r=(n,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());jO(l)?i(l):i()}catch(l){o(l)}else if(a!==null){const l=TO();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(s.canceled){const l=this.appDelete_?T2():$O();o(l)}else{const l=NO();o(l)}};this.canceled_?r(!1,new jc(!1,null,!0)):this.backoffId_=FO(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&UO(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class jc{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function WO(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function KO(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function GO(t,e){e&&(t["X-Firebase-GMPID"]=e)}function QO(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function YO(t,e,r,n,s,i,o=!0){const a=qO(t.urlParams),l=t.url+a,d=Object.assign({},t.headers);return GO(d,e),WO(d,r),KO(d,i),QO(d,n),new zO(l,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JO(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function XO(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function ZO(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class eD{constructor(e,r,n,s){this.url=e,this.method=r,this.handler=n,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function tD(t){function e(r,n){let s;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?s=PO():s=CO():r.getStatus()===402?s=SO(t.bucket):r.getStatus()===403?s=RO(t.path):s=n,s.status=r.getStatus(),s.serverResponse=n.serverResponse,s}return e}function rD(t){const e=tD(t);function r(n,s){let i=e(n,s);return n.getStatus()===404&&(i=AO(t.path)),i.serverResponse=s.serverResponse,i}return r}function nD(t,e){const r=e.fullServerUrl(),n=BO(r,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(l,d){}const a=new eD(n,s,o,i);return a.successCodes=[200,204],a.errorHandler=rD(e),a}class sD{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ni.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ni.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ni.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,s){if(this.sent_)throw Sa("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Sa("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Sa("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Sa("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Sa("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class iD extends sD{initXhr(){this.xhr_.responseType="text"}}function oD(){return new iD}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi{constructor(e,r){this._service=e,r instanceof fn?this._location=r:this._location=fn.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new Bi(e,r)}get root(){const e=new fn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return ZO(this._location.path)}get storage(){return this._service}get parent(){const e=JO(this._location.path);if(e===null)return null;const r=new fn(this._location.bucket,e);return new Bi(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw VO(e)}}function aD(t){t._throwIfRoot("deleteObject");const e=nD(t.storage,t._location);return t.storage.makeRequestWithTokens(e,oD)}function lD(t,e){const r=XO(t._location.path,e),n=new fn(t._location.bucket,r);return new Bi(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cD(t){return/^[A-Za-z]+:\/\//.test(t)}function uD(t,e){return new Bi(t,e)}function A2(t,e){if(t instanceof xg){const r=t;if(r._bucket==null)throw MO();const n=new Bi(r,r._bucket);return e!=null?A2(n,e):n}else return e!==void 0?lD(t,e):t}function dD(t,e){if(e&&cD(e)){if(t instanceof xg)return uD(t,e);throw mp("To use ref(service, url), the first argument must be a Storage instance.")}else return A2(t,e)}function mb(t,e){const r=e==null?void 0:e[I2];return r==null?null:fn.makeFromBucketSpec(r,t)}function hD(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:s}=n;s&&(t._overrideAuthToken=typeof s=="string"?s:dw(s,t.app.options.projectId))}class xg{constructor(e,r,n,s,i){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=E2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=EO,this._maxUploadRetryTime=IO,this._requests=new Set,s!=null?this._bucket=fn.makeFromBucketSpec(s,this._host):this._bucket=mb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=fn.makeFromBucketSpec(this._url,e):this._bucket=mb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){pb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){pb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Bi(this,e)}_makeRequest(e,r,n,s,i=!0){if(this._deleted)return new LO(T2());{const o=YO(e,this._appId,n,s,r,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[n,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,s).getPromise()}}const gb="@firebase/storage",yb="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2="storage";function fD(t){return t=bt(t),aD(t)}function pD(t,e){return t=bt(t),dD(t,e)}function C2(t=sa(),e){t=bt(t);const n=gs(t,S2).getImmediate({identifier:e}),s=km("storage");return s&&mD(n,...s),n}function mD(t,e,r,n={}){hD(t,e,r,n)}function gD(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new xg(r,n,s,e,Xi)}function yD(){vn(new rn(S2,gD,"PUBLIC").setMultipleInstances(!0)),Ar(gb,yb,""),Ar(gb,yb,"esm2017")}yD();const vD=[{id:"1",name:"Diamond Engagement Ring",description:"Beautiful 1-carat diamond set in 18k rose gold with pav band",price:2499.99,image:"https://images.unsplash.com/photo-1605100804763-247f67b3557e?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",category:"rings",metal:"rose-gold",tags:["luxury","new-arrivals"],inStock:!0},{id:"2",name:"Pearl Pendant Necklace",description:"Elegant freshwater pearl pendant on sterling silver chain",price:89.99,image:"https://images.unsplash.com/photo-1599643478518-a784e5dc4c8f?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",category:"necklaces",metal:"silver",tags:["under-100","trending"],inStock:!0},{id:"3",name:"Gold Hoop Earrings",description:"Classic 14k gold hoop earrings, perfect for everyday wear",price:349.99,image:"https://images.unsplash.com/photo-1610694955371-d4a3f5146182?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",category:"earrings",metal:"gold",tags:["100-500","trending"],inStock:!0},{id:"4",name:"Platinum Wedding Band",description:"Simple and elegant platinum wedding band with matte finish",price:899.99,image:"https://images.unsplash.com/photo-1575224526797-5730d09d781d?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",category:"rings",metal:"platinum",tags:["500-1000","luxury"],inStock:!0},{id:"5",name:"Silver Charm Bracelet",description:"Adjustable sterling silver bracelet with various charms",price:129.99,image:"https://images.unsplash.com/photo-1618019309815-e5698a9a900a?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",category:"bracelets",metal:"silver",tags:["100-500","trending"],inStock:!0},{id:"6",name:"Luxury Diamond Watch",description:"Premium watch with diamond accents and leather strap",price:3299.99,image:"https://images.unsplash.com/photo-1587836374828-4dbafa94cf0e?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",category:"watches",metal:"gold",tags:["1000-plus","luxury","new-arrivals"],inStock:!0},{id:"7",name:"Rose Gold Tennis Bracelet",description:"Stunning rose gold tennis bracelet with cubic zirconia stones",price:799.99,image:"https://images.unsplash.com/photo-1602173574767-37ac01994b2c?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",category:"bracelets",metal:"rose-gold",tags:["500-1000","new-arrivals"],inStock:!0},{id:"8",name:"Silver Drop Earrings",description:"Elegant sterling silver drop earrings with blue topaz",price:79.99,image:"https://images.unsplash.com/photo-1600721391689-2564bb8055de?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",category:"earrings",metal:"silver",tags:["under-100","sale"],inStock:!0},{id:"9",name:"Platinum Diamond Necklace",description:"Exquisite platinum necklace with 2-carat diamond pendant",price:4999.99,image:"https://images.unsplash.com/photo-1608043152269-423dbba4e7e1?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",category:"necklaces",metal:"platinum",tags:["1000-plus","luxury"],inStock:!0}],Ca={products:vD},bD=[{id:"default-1",name:"Classic Pearl Necklace",description:"Elegant freshwater pearl necklace, perfect for any occasion.",price:129.99,image:"https://via.placeholder.com/400x400?text=Pearl+Necklace",category:"necklaces",material:"Freshwater pearls",beadSize:"8mm",length:"18 inches",closure:"Silver lobster clasp"},{id:"default-2",name:"Amethyst Beaded Bracelet",description:"Stunning amethyst beads with sterling silver accents.",price:79.99,image:"https://via.placeholder.com/400x400?text=Amethyst+Bracelet",category:"bracelets",material:"Amethyst",beadSize:"6mm",length:"7.5 inches",closure:"Toggle clasp"}],Eo={getProducts(){return new Promise(t=>{setTimeout(()=>{const e=Ca!=null&&Ca.products&&Ca.products.length>0?Ca.products:bD;t(e)},500)})},getProductById(t){return new Promise(async(e,r)=>{try{const n=await this.getProducts(),s=String(t).toLowerCase();let i=n.find(o=>String(o.id).toLowerCase()===s||String(o.id).toLowerCase().includes(s)||s.includes(String(o.id).toLowerCase()));!i&&n.length>0&&(console.warn(`Product with ID ${t} not found. Using first product as fallback.`),i=n[0]),i?e(i):r(new Error(`Product with ID ${t} not found and no fallbacks available`))}catch(n){r(n)}})},getProduct(t){return this.getProductById(t)},getAllProducts(){return this.getProducts()}},As={email:"admin@beabedart.com",password:"Admin@123!",userData:{firstName:"System",lastName:"Administrator",isAdmin:!0,isSuperAdmin:!0,createdAt:new Date}},xD={apiKey:"AIzaSyBPm5bQCfdebLEJlhI_75ytU8eZ_XMhhhs",authDomain:"beadingart-ca4ba.firebaseapp.com",projectId:"beadingart-ca4ba",storageBucket:"beadingart-ca4ba.firebasestorage.app",messagingSenderId:"589402844834",appId:"1:589402844834:web:65a0e51343ab650fc071fb"},P2=Im(xD),pt=u2(P2),_D=C2(P2),He={async createUserProfile(t,e){const r=$r(pt,"users",t),n={...e,isAdmin:!!e.isAdmin,createdAt:vr(),adminUpdatedAt:vr()};await Uc(r,n),console.log("Created user profile with admin status:",n.isAdmin)},async getUserProfile(t){try{const e=$r(pt,"users",t),r=await po(e),n=$r(pt,"users","default-admin"),s=await po(n);if(s.exists()&&s.data().uid===t)return{...s.data(),id:t,isAdmin:!0,isSuperAdmin:!0};if(!r.exists()){const o=localStorage.getItem("userIsAdmin")==="true";return console.log("No user profile found, using stored admin status:",o),o?(await this.createUserProfile(t,{isAdmin:!0}),{id:t,isAdmin:!0}):null}const i=r.data();return i.isAdmin=!!i.isAdmin,i.isAdmin&&localStorage.setItem("userIsAdmin","true"),{id:t,...i,isAdmin:i.isAdmin}}catch(e){console.error("Error getting user profile:",e);const r=localStorage.getItem("userIsAdmin")==="true";return{id:t,isAdmin:r}}},async updateUserProfile(t,e){const r=$r(pt,"users",t);await Uc(r,e,{merge:!0})},async setUserAdminStatus(t,e){try{const r=$r(pt,"users","default-admin"),n=await po(r);if(n.exists()&&n.data().uid===t)return console.warn("Cannot modify super admin status"),!1;const s=$r(pt,"users",t);return await Ha(s,{isAdmin:!!e,updatedAt:vr(),adminUpdatedAt:vr()}),console.log(`Updated admin status for user ${t} to:`,e),!0}catch(r){throw console.error("Error updating admin status:",r),r}},async submitVariantRequest(t){try{const e=br(pt,"variantRequests"),r={productId:t.productId,productName:t.productName,suggestion:t.suggestion,requestedColors:t.colors||[],userId:t.userId||null,userEmail:t.userEmail||"Anonymous",status:"pending",createdAt:vr(),updatedAt:vr()};return{id:(await _o(e,r)).id,...r}}catch(e){throw console.error("Error submitting variant request:",e),e}},async getVariantRequests(){try{const t=br(pt,"variantRequests"),e=vi(t,Ba("createdAt","desc"));return(await wn(e)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){throw console.error("Error getting variant requests:",t),t}},async getProducts(){try{const t=br(pt,"products"),e=await wn(t);if(e.empty)throw new Error("No products found");return e.docs.map(r=>({id:r.id,...r.data()}))}catch{return console.log("Firebase: falling back to mock data for all products"),Eo.getProducts()}},async getFeaturedProducts(t=4){try{const e=br(pt,"products"),r=vi(e,ja("featured","==",!0),Ba("createdAt","desc")),n=await wn(r);return n.empty?Eo.getFeaturedProducts(t):n.docs.map(s=>({id:s.id,...s.data()})).slice(0,t)}catch{return console.log("Firebase: falling back to mock data for featured products"),Eo.getFeaturedProducts(t)}},async getProduct(t){try{const e=$r(pt,"products",t),r=await po(e);if(!r.exists())throw new Error(`Product with ID: ${t} not found`);let n=r.data();return n.variants||(n.variants=[{name:"Default",colors:["#ffffff","#000000"]}]),{id:r.id,...n}}catch{return console.log(`Firebase: falling back to mock data for product ${t}`),Eo.getProductById(t)}},async createProduct(t){try{const e=vr(),n={...{materials:"",dimensions:"",careInstructions:`Store in a cool, dry place away from direct sunlight
Avoid contact with perfumes, lotions, and chemicals
Clean gently with a soft, lint-free cloth
Remove before swimming or bathing`,sizingAndFit:"Our standard bracelet length is 7.5 inches. Necklaces are available in 16, 18, and 20 inch lengths. Please contact us for custom sizing.",shippingInfo:"Handmade to order. Please allow 1-3 business days for production plus shipping time.",returnPolicy:"We accept returns within 14 days of delivery for unworn items in original packaging.",...t},createdAt:e,updatedAt:e},s=br(pt,"products");return{id:(await _o(s,n)).id,...n}}catch(e){throw console.error("Error creating product:",e),e}},async updateProduct(t,e){try{const r=$r(pt,"products",t),n={...e,updatedAt:vr()};return await Ha(r,n),{id:t,...n}}catch(r){throw console.error(`Error updating product ${t}:`,r),r}},async deleteProduct(t){try{const e=$r(pt,"products",t),r=await po(e);if(!r.exists())throw new Error(`Product with ID: ${t} not found`);const n=r.data();if(await fb(e),n.images&&Array.isArray(n.images)){const s=n.images.filter(i=>i.startsWith("gs://")||i.includes("firebasestorage.googleapis.com"));for(const i of s)try{let o=i;if(i.includes("firebasestorage.googleapis.com")){const d=new URL(i).pathname.match(/\/o\/(.+)\?/);if(d&&d[1])o=decodeURIComponent(d[1]);else{console.warn(`Could not extract path from URL: ${i}`);continue}}const a=pD(_D,o);await fD(a)}catch(o){console.warn(`Failed to delete image ${i}:`,o)}}return!0}catch(e){throw console.error(`Error deleting product ${t}:`,e),e}},async uploadProductImage(t){try{const r=`${Date.now()}_${t.name}`,n=await this.resizeImage(t,{maxWidth:800,maxHeight:800,quality:.85});if(n.size>500*1024){const s=await this.resizeImage(t,{maxWidth:600,maxHeight:600,quality:.7});if(s.size>500*1024)throw new Error("Image still too large after resizing. Please use a smaller image or reduce its quality.");return this.blobToBase64(s)}return this.blobToBase64(n)}catch(e){throw console.error("Error processing image:",e),new Error(`Failed to process image: ${e.message||"Unknown error"}`)}},blobToBase64(t){return new Promise((e,r)=>{const n=new FileReader;n.onload=()=>{const s=n.result;e(`base64://${s}`)},n.onerror=()=>{r(new Error("Failed to read the image file"))},n.readAsDataURL(t)})},resizeImage(t,e={}){const{maxWidth:r=800,maxHeight:n=800,quality:s=.85}=e;return new Promise((i,o)=>{const a=new FileReader;a.onload=l=>{const d=new Image;d.onload=()=>{let h=d.width,f=d.height;h>r&&(f=Math.round(f*(r/h)),h=r),f>n&&(h=Math.round(h*(n/f)),f=n);const p=document.createElement("canvas");p.width=h,p.height=f,p.getContext("2d").drawImage(d,0,0,h,f);let b=t.type;["image/jpeg","image/png","image/webp"].includes(b)||(b="image/jpeg"),p.toBlob(k=>{k?i(k):o(new Error("Failed to create image blob"))},b,s)},d.onerror=()=>{o(new Error("Failed to load image"))},d.src=l.target.result},a.onerror=()=>{o(new Error("Failed to read file"))},a.readAsDataURL(t)})},async getCategories(){try{const t=br(pt,"categories");return(await wn(t)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){return console.error("Error getting categories:",t),[{id:"beaded",name:"Beaded Jewelry",slug:"beaded-jewelry"},{id:"string",name:"String Jewelry",slug:"string-jewelry"},{id:"metal",name:"Metal Jewelry",slug:"metal-jewelry"},{id:"gemstones",name:"Gemstones",slug:"gemstones"},{id:"earrings",name:"Earrings",slug:"earrings"},{id:"necklaces",name:"Necklaces",slug:"necklaces"},{id:"bracelets",name:"Bracelets",slug:"bracelets"},{id:"rings",name:"Rings",slug:"rings"}]}},async createCategory(t){try{const e=br(pt,"categories");return{id:(await _o(e,{...t,createdAt:vr()})).id,...t}}catch(e){throw console.error("Error creating category:",e),e}},async getAllUsers(){try{const t=br(pt,"users");return(await wn(t)).docs.map(r=>{var n;return{id:r.id,...r.data(),createdAt:((n=r.data().createdAt)==null?void 0:n.toDate())||new Date}})}catch(t){throw console.error("Error getting all users:",t),t}},async updateUser(t,e){try{const r=$r(pt,"users",t);return await Ha(r,{...e,updatedAt:vr()}),!0}catch(r){throw console.error("Error updating user:",r),r}},async deleteUser(t){try{const e=$r(pt,"users",t);return await fb(e),!0}catch(e){throw console.error("Error deleting user:",e),e}},async createOrder(t){try{const e=vr(),r={...t,createdAt:e,orderDate:t.orderDate||e,status:t.status||"processing",items:Array.isArray(t.items)?t.items:[]};console.log("Creating order with data:",r);const n=br(pt,"orders");return await _o(n,r)}catch(e){throw console.error("Error creating order:",e),e}},async getUserOrders(t){try{const e=br(pt,"orders"),r=vi(e,ja("userId","==",t),Ba("createdAt","desc")),n=await wn(r);return n.empty?(console.log(`No orders found for user: ${t}`),[]):n.docs.map(s=>({id:s.id,...s.data()}))}catch(e){if(e.code==="failed-precondition"){console.warn("Creating required index for orders query...");const r=br(pt,"orders"),n=vi(r,ja("userId","==",t));return(await wn(n)).docs.map(i=>({id:i.id,...i.data()}))}throw e}},async getAllOrders(){try{const t=br(pt,"orders");let e;try{const n=vi(t,Ba("createdAt","desc"));e=await wn(n)}catch(n){console.warn("Index error, using fallback query:",n),e=await wn(t)}return await Promise.all(e.docs.map(async n=>{const s=n.data();let i=s.email,o="";if(s.userId)try{const l=await this.getUserProfile(s.userId);i=i||(l==null?void 0:l.email),(l!=null&&l.firstName||l!=null&&l.lastName)&&(o=`${l.firstName||""} ${l.lastName||""}`.trim())}catch(l){console.warn(`Could not fetch details for user ${s.userId}:`,l)}(s.firstName||s.lastName)&&(o=`${s.firstName||""} ${s.lastName||""}`.trim());let a=[];return Array.isArray(s.items)&&(a=await Promise.all(s.items.map(async l=>{var d;if(l.productId)try{const h=await this.getProduct(l.productId);return{...l,name:h.name||l.name||"Product Not Found",image:((d=h.images)==null?void 0:d[0])||l.image||"/assets/placeholder.jpg"}}catch(h){return console.warn(`Could not fetch product details for ${l.productId}:`,h),l}return l}))),{id:n.id,...s,items:a,customerName:o||"N/A",email:i||"N/A",orderNumber:s.orderNumber||`ORD-${n.id.substring(0,6)}`,status:s.status||"processing"}}))}catch(t){return console.error("Error getting all orders:",t),[]}},async updateOrderStatus(t,e){try{const r=$r(pt,"orders",t);return await Ha(r,{status:e,updatedAt:vr()}),!0}catch(r){throw console.error(`Error updating order ${t}:`,r),r}},getFirestore(){return pt},getCollection(t){return br(pt,t)},async getDocuments(t){return await wn(t)},async seedDefaultAdmin(){try{const t=oa(),e=$r(pt,"users","default-admin");if(!(await po(e)).exists())try{const n=await Hw(t,As.email,As.password);await Uc(e,{...As.userData,uid:n.user.uid,email:As.email,adminCreatedAt:vr()}),console.log("Default admin account created successfully")}catch(n){if(n.code==="auth/email-already-in-use"){const{user:s}=await zw(t,As.email,As.password);await Uc(e,{...As.userData,uid:s.uid,email:As.email,adminCreatedAt:vr()},{merge:!0}),console.log("Default admin profile updated")}else throw n}return!0}catch(t){throw console.error("Error seeding default admin:",t),t}},async subscribeToNewsletter(t,e){try{const r=br(pt,"newsletters"),n=vi(r,ja("email","==",t));if(!(await wn(n)).empty)return{success:!1,message:"This email is already subscribed."};const i={email:t,name:e||"",subscriptionDate:vr(),status:"active"};return{success:!0,message:"Subscription successful!",id:(await _o(r,i)).id}}catch(r){throw console.error("Error subscribing to newsletter:",r),r}}},wD="modulepreload",kD=function(t){return"/"+t},vb={},bb=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=kD(l),l in vb)return;vb[l]=!0;const d=l.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${h}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":wD,d||(f.as="script"),f.crossOrigin="",f.href=l,a&&f.setAttribute("nonce",a),document.head.appendChild(f),d)return new Promise((p,y)=>{f.addEventListener("load",p),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},R2="@firebase/installations",_g="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N2=1e4,$2=`w:${_g}`,O2="FIS_v2",ED="https://firebaseinstallations.googleapis.com/v1",ID=60*60*1e3,TD="installations",AD="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},qi=new Ji(TD,AD,SD);function D2(t){return t instanceof xn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2({projectId:t}){return`${ED}/projects/${t}/installations`}function V2(t){return{token:t.token,requestStatus:2,expiresIn:PD(t.expiresIn),creationTime:Date.now()}}async function L2(t,e){const n=(await e.json()).error;return qi.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function F2({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function CD(t,{refreshToken:e}){const r=F2(t);return r.append("Authorization",RD(e)),r}async function U2(t){const e=await t();return e.status>=500&&e.status<600?t():e}function PD(t){return Number(t.replace("s","000"))}function RD(t){return`${O2} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ND({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=M2(t),s=F2(t),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={fid:r,authVersion:O2,appId:t.appId,sdkVersion:$2},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await U2(()=>fetch(n,a));if(l.ok){const d=await l.json();return{fid:d.fid||r,registrationStatus:2,refreshToken:d.refreshToken,authToken:V2(d.authToken)}}else throw await L2("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=/^[cdef][\w-]{21}$/,gp="";function DD(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=MD(t);return OD.test(r)?r:gp}catch{return gp}}function MD(t){return $D(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=new Map;function q2(t,e){const r=eh(t);H2(r,e),VD(r,e)}function H2(t,e){const r=B2.get(t);if(r)for(const n of r)n(e)}function VD(t,e){const r=LD();r&&r.postMessage({key:t,fid:e}),FD()}let Ei=null;function LD(){return!Ei&&"BroadcastChannel"in self&&(Ei=new BroadcastChannel("[Firebase] FID Change"),Ei.onmessage=t=>{H2(t.data.key,t.data.fid)}),Ei}function FD(){B2.size===0&&Ei&&(Ei.close(),Ei=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD="firebase-installations-database",jD=1,Hi="firebase-installations-store";let rf=null;function wg(){return rf||(rf=yw(UD,jD,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Hi)}}})),rf}async function Qu(t,e){const r=eh(t),s=(await wg()).transaction(Hi,"readwrite"),i=s.objectStore(Hi),o=await i.get(r);return await i.put(e,r),await s.done,(!o||o.fid!==e.fid)&&q2(t,e.fid),e}async function z2(t){const e=eh(t),n=(await wg()).transaction(Hi,"readwrite");await n.objectStore(Hi).delete(e),await n.done}async function th(t,e){const r=eh(t),s=(await wg()).transaction(Hi,"readwrite"),i=s.objectStore(Hi),o=await i.get(r),a=e(o);return a===void 0?await i.delete(r):await i.put(a,r),await s.done,a&&(!o||o.fid!==a.fid)&&q2(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kg(t){let e;const r=await th(t.appConfig,n=>{const s=BD(n),i=qD(t,s);return e=i.registrationPromise,i.installationEntry});return r.fid===gp?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function BD(t){const e=t||{fid:DD(),registrationStatus:0};return W2(e)}function qD(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(qi.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=HD(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:zD(t)}:{installationEntry:e}}async function HD(t,e){try{const r=await ND(t,e);return Qu(t.appConfig,r)}catch(r){throw D2(r)&&r.customData.serverCode===409?await z2(t.appConfig):await Qu(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function zD(t){let e=await xb(t.appConfig);for(;e.registrationStatus===1;)await j2(100),e=await xb(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await kg(t);return n||r}return e}function xb(t){return th(t,e=>{if(!e)throw qi.create("installation-not-found");return W2(e)})}function W2(t){return WD(t)?{fid:t.fid,registrationStatus:0}:t}function WD(t){return t.registrationStatus===1&&t.registrationTime+N2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KD({appConfig:t,heartbeatServiceProvider:e},r){const n=GD(t,r),s=CD(t,r),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={installation:{sdkVersion:$2,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await U2(()=>fetch(n,a));if(l.ok){const d=await l.json();return V2(d)}else throw await L2("Generate Auth Token",l)}function GD(t,{fid:e}){return`${M2(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eg(t,e=!1){let r;const n=await th(t.appConfig,i=>{if(!K2(i))throw qi.create("not-registered");const o=i.authToken;if(!e&&JD(o))return i;if(o.requestStatus===1)return r=QD(t,e),i;{if(!navigator.onLine)throw qi.create("app-offline");const a=ZD(i);return r=YD(t,a),a}});return r?await r:n.authToken}async function QD(t,e){let r=await _b(t.appConfig);for(;r.authToken.requestStatus===1;)await j2(100),r=await _b(t.appConfig);const n=r.authToken;return n.requestStatus===0?Eg(t,e):n}function _b(t){return th(t,e=>{if(!K2(e))throw qi.create("not-registered");const r=e.authToken;return eM(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function YD(t,e){try{const r=await KD(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await Qu(t.appConfig,n),r}catch(r){if(D2(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await z2(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Qu(t.appConfig,n)}throw r}}function K2(t){return t!==void 0&&t.registrationStatus===2}function JD(t){return t.requestStatus===2&&!XD(t)}function XD(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+ID}function ZD(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function eM(t){return t.requestStatus===1&&t.requestTime+N2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tM(t){const e=t,{installationEntry:r,registrationPromise:n}=await kg(e);return n?n.catch(console.error):Eg(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rM(t,e=!1){const r=t;return await nM(r),(await Eg(r,e)).token}async function nM(t){const{registrationPromise:e}=await kg(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sM(t){if(!t||!t.options)throw nf("App Configuration");if(!t.name)throw nf("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw nf(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function nf(t){return qi.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G2="installations",iM="installations-internal",oM=t=>{const e=t.getProvider("app").getImmediate(),r=sM(e),n=gs(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},aM=t=>{const e=t.getProvider("app").getImmediate(),r=gs(e,G2).getImmediate();return{getId:()=>tM(r),getToken:s=>rM(r,s)}};function lM(){vn(new rn(G2,oM,"PUBLIC")),vn(new rn(iM,aM,"PRIVATE"))}lM();Ar(R2,_g);Ar(R2,_g,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu="analytics",cM="firebase_id",uM="origin",dM=60*1e3,hM="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ig="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=new Pd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},tn=new Ji("analytics","Analytics",fM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(t){if(!t.startsWith(Ig)){const e=tn.create("invalid-gtag-resource",{gtagURL:t});return Wr.warn(e.message),""}return t}function Q2(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function mM(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function gM(t,e){const r=mM("firebase-js-sdk-policy",{createScriptURL:pM}),n=document.createElement("script"),s=`${Ig}?l=${t}&id=${e}`;n.src=r?r==null?void 0:r.createScriptURL(s):s,n.async=!0,document.head.appendChild(n)}function yM(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function vM(t,e,r,n,s,i){const o=n[s];try{if(o)await e[o];else{const l=(await Q2(r)).find(d=>d.measurementId===s);l&&await e[l.appId]}}catch(a){Wr.error(a)}t("config",s,i)}async function bM(t,e,r,n,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await Q2(r);for(const l of o){const d=a.find(f=>f.measurementId===l),h=d&&e[d.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",n,s||{})}catch(i){Wr.error(i)}}function xM(t,e,r,n){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await bM(t,e,r,a,l)}else if(i==="config"){const[a,l]=o;await vM(t,e,r,n,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,d]=o;t("get",a,l,d)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){Wr.error(a)}}return s}function _M(t,e,r,n,s){let i=function(...o){window[n].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=xM(i,t,e,r),{gtagCore:i,wrappedGtag:window[s]}}function wM(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(Ig)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM=30,EM=1e3;class IM{constructor(e={},r=EM){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Y2=new IM;function TM(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function AM(t){var e;const{appId:r,apiKey:n}=t,s={method:"GET",headers:TM(n)},i=hM.replace("{app-id}",r),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw tn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function SM(t,e=Y2,r){const{appId:n,apiKey:s,measurementId:i}=t.options;if(!n)throw tn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:n};throw tn.create("no-api-key")}const o=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new RM;return setTimeout(async()=>{a.abort()},dM),J2({appId:n,apiKey:s,measurementId:i},o,a,e)}async function J2(t,{throttleEndTimeMillis:e,backoffCount:r},n,s=Y2){var i;const{appId:o,measurementId:a}=t;try{await CM(n,e)}catch(l){if(a)return Wr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await AM(t);return s.deleteThrottleMetadata(o),l}catch(l){const d=l;if(!PM(d)){if(s.deleteThrottleMetadata(o),a)return Wr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:o,measurementId:a};throw l}const h=Number((i=d==null?void 0:d.customData)===null||i===void 0?void 0:i.httpStatus)===503?Jy(r,s.intervalMillis,kM):Jy(r,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:r+1};return s.setThrottleMetadata(o,f),Wr.debug(`Calling attemptFetch again in ${h} millis`),J2(t,f,n,s)}}function CM(t,e){return new Promise((r,n)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(r,s);t.addEventListener(()=>{clearTimeout(i),n(tn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function PM(t){if(!(t instanceof xn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class RM{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function NM(t,e,r,n,s){if(s&&s.global){t("event",r,n);return}else{const i=await e,o=Object.assign(Object.assign({},n),{send_to:i});t("event",r,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $M(){if(fw())try{await pw()}catch(t){return Wr.warn(tn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Wr.warn(tn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function OM(t,e,r,n,s,i,o){var a;const l=SM(t);l.then(y=>{r[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&Wr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>Wr.error(y)),e.push(l);const d=$M().then(y=>{if(y)return n.getId()}),[h,f]=await Promise.all([l,d]);wM(i)||gM(i,h.measurementId),s("js",new Date);const p=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return p[uM]="firebase",p.update=!0,f!=null&&(p[cM]=f),s("config",h.measurementId,p),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e){this.app=e}_delete(){return delete ll[this.app.options.appId],Promise.resolve()}}let ll={},wb=[];const kb={};let sf="dataLayer",MM="gtag",Eb,X2,Ib=!1;function VM(){const t=[];if(hw()&&t.push("This is a browser extension environment."),Y5()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,s)=>`(${s+1}) ${n}`).join(" "),r=tn.create("invalid-analytics-context",{errorInfo:e});Wr.warn(r.message)}}function LM(t,e,r){VM();const n=t.options.appId;if(!n)throw tn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Wr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw tn.create("no-api-key");if(ll[n]!=null)throw tn.create("already-exists",{id:n});if(!Ib){yM(sf);const{wrappedGtag:i,gtagCore:o}=_M(ll,wb,kb,sf,MM);X2=i,Eb=o,Ib=!0}return ll[n]=OM(t,wb,kb,e,Eb,sf,r),new DM(t)}function FM(t=sa()){t=bt(t);const e=gs(t,Yu);return e.isInitialized()?e.getImmediate():UM(t)}function UM(t,e={}){const r=gs(t,Yu);if(r.isInitialized()){const s=r.getImmediate();if(Tl(e,r.getOptions()))return s;throw tn.create("already-initialized")}return r.initialize({options:e})}function jM(t,e,r,n){t=bt(t),NM(X2,ll[t.app.options.appId],e,r,n).catch(s=>Wr.error(s))}const Tb="@firebase/analytics",Ab="0.10.8";function BM(){vn(new rn(Yu,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return LM(n,s,r)},"PUBLIC")),vn(new rn("analytics-internal",t,"PRIVATE")),Ar(Tb,Ab),Ar(Tb,Ab,"esm2017");function t(e){try{const r=e.getProvider(Yu).getImmediate();return{logEvent:(n,s,i)=>jM(r,n,s,i)}}catch(r){throw tn.create("interop-component-reg-failed",{reason:r})}}}BM();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{constructor(e,r,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||e.get().then(s=>this.auth=s,()=>{}),this.messaging||r.get().then(s=>this.messaging=s,()=>{}),this.appCheck||n.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const r=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return r.error?null:r.token}return null}async getContext(e){const r=await this.getAuthToken(),n=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:r,messagingToken:n,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yp="us-central1";class HM{constructor(e,r,n,s,i=yp,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new qM(r,n,s),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(i);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=yp}catch{this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const r=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${r}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${r}.cloudfunctions.net/${e}`}}function zM(t,e,r){t.emulatorOrigin=`http://${e}:${r}`}const Sb="@firebase/functions",Cb="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WM="auth-internal",KM="app-check-internal",GM="messaging-internal";function QM(t,e){const r=(n,{instanceIdentifier:s})=>{const i=n.getProvider("app").getImmediate(),o=n.getProvider(WM),a=n.getProvider(GM),l=n.getProvider(KM);return new HM(i,o,a,l,s,t)};vn(new rn(Z2,r,"PUBLIC").setMultipleInstances(!0)),Ar(Sb,Cb,e),Ar(Sb,Cb,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(t=sa(),e=yp){const n=gs(bt(t),Z2).getImmediate({identifier:e}),s=km("functions");return s&&JM(n,...s),n}function JM(t,e,r){zM(bt(t),e,r)}QM(fetch.bind(self));const XM={apiKey:"AIzaSyBPm5bQCfdebLEJlhI_75ytU8eZ_XMhhhs",authDomain:"beadingart-ca4ba.firebaseapp.com",projectId:"beadingart-ca4ba",storageBucket:"beadingart-ca4ba.firebasestorage.app",messagingSenderId:"589402844834",appId:"1:589402844834:web:65a0e51343ab650fc071fb",measurementId:"G-HM50GF0DN0"};let zi;iP().length===0?(zi=Im(XM),console.log("Firebase initialized")):(zi=sa(),console.log("Using existing Firebase app"));FM(zi);const of=u2(zi),af=oa(zi);YM(zi);C2(zi);const In=Id("notification",()=>{const t=H([]),e=H([]);let r=0,n=null;const s=H(!1),i=H(null),o=b=>{const k=r++;return t.value.push({id:k,type:"info",timeout:5e3,...b,timestamp:new Date}),b.timeout&&setTimeout(()=>{a(k)},b.timeout),k},a=b=>{const k=t.value.findIndex(_=>_.id===b);k!==-1&&t.value.splice(k,1)},l=async(b,k=null)=>{try{const _=af.currentUser;if(!k&&_&&(k=_.uid),!k)return console.error("No user ID provided for notification"),null;const T={...b,userId:k,type:b.type||"info",read:!1,createdAt:vr()},P=await _o(br(of,"notifications"),T);return o(b),P.id}catch(_){return console.error("Error adding notification:",_),o({title:"Error",message:"Failed to save notification",type:"error"}),null}},d=b=>{const k=b.message.match(/https:\/\/console\.firebase\.google\.com[^"'\s]+/);return k?k[0]:null};return{notifications:t,userNotifications:e,addNotification:o,removeNotification:a,addPersistedNotification:l,loadUserNotifications:(b=20)=>{try{const k=af.currentUser;if(!k){console.log("No authenticated user to load notifications for"),e.value=[];return}if(n&&(n(),n=null),s.value){console.log("Skipping notification query because required index is missing");return}const _=vi(br(of,"notifications"),ja("userId","==",k.uid),Ba("createdAt","desc"),xO(b));n=kO(_,T=>{e.value=T.docs.map(P=>{const E=P.data();return{id:P.id,...E,createdAt:E.createdAt instanceof zt?E.createdAt.toDate():E.createdAt?new Date(E.createdAt):new Date}}),s.value&&(s.value=!1,i.value=null,console.log("Index is now available, notifications loaded successfully")),console.log("Loaded notifications:",e.value)},T=>{var P;console.error("Error loading notifications:",T),T.message.includes("The query requires an index")?(s.value=!0,i.value=d(T),console.log("Missing Firestore index. Please create the index at:",i.value),(P=af.currentUser)!=null&&P.isAdmin&&o({title:"Database Setup Required",message:"The notification system needs a database index to be created. Please check the console for instructions.",type:"warning",timeout:1e4})):o({title:"Error",message:"Failed to load notifications",type:"error"})})}catch(k){console.error("Error setting up notifications listener:",k)}},markAsRead:async b=>{try{console.log("Marking notification as read:",b);const k=$r(of,"notifications",b);await Ha(k,{read:!0});const _=e.value.findIndex(T=>T.id===b);return _!==-1&&(e.value[_].read=!0),!0}catch(k){return console.error("Error marking notification as read:",k),o({title:"Error",message:"Failed to update notification",type:"error"}),!1}},cleanup:()=>{n&&(n(),n=null)},indexMissing:s,indexCreationUrl:i,openIndexCreationUrl:()=>i.value?(window.open(i.value,"_blank"),!0):!1}}),ro=Id("cart",{state:()=>({cart:[],loading:!1}),getters:{itemCount:t=>t.cart.reduce((e,r)=>e+r.quantity,0),subtotal:t=>t.cart.reduce((e,r)=>e+r.price*r.quantity,0)},actions:{async addToCart(t,e=1){var n;const r=In();try{const s=this.cart.find(i=>i.id===t.id);s?(s.quantity+=e,r.addNotification({title:"Cart Updated",message:`Increased ${t.name} quantity by ${e}`,type:"success",timeout:3e3})):(this.cart.push({id:t.id,name:t.name,price:t.price,image:((n=t.images)==null?void 0:n[0])||t.image,quantity:e}),r.addNotification({title:"Added to Cart",message:`${e} ${t.name}${e>1?"s":""} added to cart`,type:"success",timeout:3e3}))}catch(s){console.error("Error adding to cart:",s),r.addNotification({title:"Error",message:"Failed to add item to cart",type:"error",timeout:5e3})}},async updateQuantity(t,e){const r=In();try{const n=this.cart.find(s=>s.id===t);if(n){const s=n.quantity;n.quantity=e,r.addNotification({title:"Cart Updated",message:`Updated ${n.name} quantity from ${s} to ${e}`,type:"success",timeout:3e3})}}catch(n){console.error("Error updating quantity:",n),r.addNotification({title:"Error",message:"Failed to update item quantity",type:"error",timeout:5e3})}},async removeFromCart(t){const e=In();try{const r=this.cart.findIndex(n=>n.id===t);if(r>-1){const n=this.cart[r];this.cart.splice(r,1),e.addNotification({title:"Item Removed",message:`${n.name} has been removed from your cart`,type:"info",timeout:3e3})}}catch(r){console.error("Error removing from cart:",r),e.addNotification({title:"Error",message:"Failed to remove item from cart",type:"error",timeout:5e3})}},clearCart(){this.cart=[]}}}),Ye=t=>`KES ${t.toFixed(2)}`,ZM="/assets/main-kDEvDXks.css",e8="/assets/placeholder-k9fHw5HI.jpg",eE="/";function Pt(t){if(!t)return new URL("/assets/placeholder-k9fHw5HI.jpg",import.meta.url).href;if(t.startsWith("http"))return t;const e=t.startsWith("/")?t.substring(1):t;try{return new URL(Object.assign({"../assets/main.css":ZM,"../assets/placeholder.jpg":e8})[`../assets/${e}`],import.meta.url).href}catch{return`${eE}${e}`}}function cn(t){if(!t)return null;if(t.startsWith("http"))return t;const e=t.startsWith("/")?t.substring(1):t;return`${eE}${e}`}const Gr=(t,e)=>{const r=t.__vccOpts||t;for(const[n,s]of e)r[n]=s;return r},t8={class:"group relative bg-light-primary dark:bg-dark-primary rounded-lg shadow hover:shadow-lg transition-all duration-300"},r8={class:"aspect-h-1 aspect-w-1 w-full overflow-hidden rounded-t-lg bg-light-neutral-100 dark:bg-dark-neutral-800"},n8=["src","alt"],s8={class:"p-4"},i8={class:"items-start"},o8={class:"text-light-text-primary dark:text-dark-text-primary text-lg font-medium hover:text-btn-primary"},a8={class:"text-light-text-secondary dark:text-dark-text-secondary text-sm"},l8={class:"mt-2 flex items-center justify-between"},c8={class:"text-lg font-medium text-purple-700 dark:text-accent-primary"},u8={class:"px-4 pb-4"},d8={__name:"ProductCard",props:{product:{type:Object,required:!0},processImageUrl:{type:Function,default:t=>t}},setup(t){const e=t,r=ro(),n=H(null),s=H(null),i=()=>{const d=Pt("placeholder.jpg");if(e.product.images&&e.product.images.length>0){const h=e.product.images[0];if(typeof h=="string")return o(h);if(h.main)return o(h.main);if(h.url)return o(h.url)}return e.product.image?o(e.product.image):e.product.imageUrl?o(e.product.imageUrl):d},o=d=>d?typeof d=="string"&&d.startsWith("base64://")?d.replace("base64://",""):d:null,a=d=>{console.error("Image failed to load:",d.target.src),d.target.src=Pt("placeholder.jpg"),d.target.onerror=function(){const h=d.target.parentNode;if(h){const f=document.createElement("div");f.innerHTML=`
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="100%" height="100%">
          <rect width="100%" height="100%" fill="#f0f0f0"/>
          <path d="M12 6v12M6 12h12" stroke="#aaa" stroke-width="2" stroke-linecap="round"/>
        </svg>
      `,f.className="broken-image",h.replaceChild(f,d.target)}}},l=async d=>{const h=event.target.getBoundingClientRect(),f=h.left+h.width/2,p=h.top+h.height/2,y=document.querySelector(".group-hover\\:text-gray-500")||document.querySelector('a[href="/cart"] svg');let b=window.innerWidth-60,k=20;if(y){const _=y.getBoundingClientRect();b=_.left+_.width/2,k=_.top+_.height/2}n.value=d,await ir(),s.value?(s.value.style.top=`${p}px`,s.value.style.left=`${f}px`,s.value.style.opacity="1",s.value.style.transform="scale(1)",setTimeout(()=>{s.value.style.top=`${k}px`,s.value.style.left=`${b}px`,s.value.style.opacity="0",s.value.style.transform="scale(0.3)"},50),setTimeout(()=>{r.addToCart(d,1),n.value=null},600)):r.addToCart(d,1)};return(d,h)=>{var p,y;const f=Lr("router-link");return O(),j("div",t8,[n.value?(O(),j("div",{key:0,class:"cart-animation fixed pointer-events-none z-50",ref_key:"cartAnimationEl",ref:s,style:St({backgroundImage:`url(${((p=n.value)==null?void 0:p.imageUrl)||((y=n.value)==null?void 0:y.image)})`})},null,4)):fe("",!0),z(f,{to:`/product/${t.product.id}`,class:"cursor-pointer block"},{default:Z(()=>[c("div",r8,[c("img",{src:i(),alt:t.product.name,class:"h-60 w-full object-cover object-center group-hover:opacity-90",onError:a},null,40,n8)]),c("div",s8,[c("div",i8,[c("h3",o8,K(t.product.name),1),c("p",a8,K(t.product.category),1),c("div",l8,[c("p",c8,K(q(Ye)(t.product.price)),1)])])])]),_:1},8,["to"]),c("div",u8,[c("button",{onClick:h[0]||(h[0]=b=>l(t.product)),class:"w-full bg-btn-primary hover:bg-btn-primary-hover active:bg-btn-primary-dark text-white py-2 rounded-btn shadow-btn hover:shadow-btn-hover transition-btn text-sm font-medium"}," Add to cart ")])])}}},tE=Gr(d8,[["__scopeId","data-v-3d7a655a"]]),h8={class:"min-h-screen bg-light-primary dark:bg-dark-primary"},f8={class:"relative overflow-hidden bg-light-secondary dark:bg-dark-secondary"},p8={class:"pt-16 pb-80 sm:pt-24 sm:pb-40 lg:pt-40 lg:pb-48"},m8={class:"relative mx-auto max-w-7xl px-4 sm:static sm:px-6 lg:px-8"},g8={class:"sm:max-w-lg fade-slide-up"},y8={class:"text-2xl sm:text-4xl font-bold tracking-tight text-light-text-primary dark:text-dark-text-primary"},v8={class:"animated-text-wrapper"},b8={class:"mt-6 block lg:hidden"},x8={class:"mt-10"},_8={class:"py-16 bg-light-primary dark:bg-dark-primary w-full"},w8={class:"w-full px-4 sm:px-6 lg:px-8 max-w-none mx-auto"},k8={class:"max-w-7xl mx-auto"},E8={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"},I8=["src","alt"],T8={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-300 flex flex-col justify-center items-center p-6"},A8={class:"text-center transform translate-y-8 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-500"},S8={class:"text-white text-2xl font-bold mb-2"},C8={class:"text-white text-sm mb-4"},P8={class:"bg-light-secondary dark:bg-dark-secondary py-16"},R8={class:"container mx-auto px-4"},N8={class:"flex justify-between items-center mb-10 fade-slide-up"},$8={key:0,class:"flex justify-center py-12"},O8={key:1,class:"text-center py-12"},D8={key:2,class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-6"},M8={class:"bg-light-secondary dark:bg-dark-secondary"},V8={class:"mx-auto grid max-w-2xl grid-cols-1 items-center gap-x-8 gap-y-16 px-4 py-24 sm:px-6 sm:py-32 lg:max-w-7xl lg:grid-cols-2 lg:px-8"},L8={class:"mt-16 grid grid-cols-1 gap-x-6 gap-y-10 sm:grid-cols-2 sm:gap-y-16 lg:gap-x-8"},F8={class:"font-medium text-light-text-primary dark:text-dark-text-primary"},U8={class:"mt-2 text-sm text-light-text-secondary dark:text-dark-text-secondary"},j8={class:"grid grid-cols-2 grid-rows-2 gap-4 sm:gap-6 lg:gap-8"},B8=["src"],q8=["src"],H8=["src"],z8=["src"],W8={class:"relative py-16 overflow-hidden"},K8={class:"mx-auto max-w-2xl lg:max-w-7xl px-4 sm:px-6 lg:px-8"},G8={class:"bg-gradient-to-r from-accent-quaternary to-accent-secondary rounded-xl shadow-xl overflow-hidden"},Q8={class:"relative py-10 px-6 md:px-10"},Y8={class:"flex flex-col md:flex-row gap-8"},J8={class:"w-full md:w-1/2"},X8={class:"bg-white rounded-xl shadow-md p-6"},Z8={class:"pt-2"},e7=["disabled"],t7={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},r7={__name:"HomeView",setup(t){const e=R=>R?typeof R=="string"&&R.startsWith("base64://")?R.replace("base64://",""):(typeof R=="string"&&R.includes("firebasestorage.googleapis.com"),R):"https://via.placeholder.com/300x300?text=No+Image",r=R=>{console.error("Image failed to load:",R.target.src),R.target.src=Pt("placeholder.jpg"),R.target.onerror=function(){const A=R.target.parentNode;if(A){const M=document.createElement("div");M.innerHTML=`
        <svg xmlns="http://www.w3.org/200/svg" viewBox="0 0 24 24" width="100%" height="100%">
          <rect width="100%" height="100%" fill="#f0f0f0"/>
          <path d="M12 6v12M6 12h12" stroke="#aaa" stroke-width="2" stroke-linecap="round"/>
        </svg>
      `,M.className="broken-image",A.replaceChild(M,R.target)}}},n=H([]),s=H([]),i=H([]),o=H(!0);ro();const a=H(null),l=H(null);H([{id:1,title:"Blog Post 1",excerpt:"Lorem ipsum dolor sit amet...",image:"https://via.placeholder.com/400x200?text=Blog+1"},{id:2,title:"Blog Post 2",excerpt:"Consectetur adipiscing elit...",image:"https://via.placeholder.com/400x200?text=Blog+2"},{id:3,title:"Blog Post 3",excerpt:"Sed do eiusmod tempor...",image:"https://via.placeholder.com/400x200?text=Blog+3"}]);const d=[{name:"Materials",description:"Premium glass beads, natural gemstones, and sterling silver components"},{name:"Craftsmanship",description:"Each piece handcrafted by skilled artisans using traditional techniques"},{name:"Customization",description:"Available in various sizes, colors, and custom designs upon request"},{name:"Durability",description:"Double-knotted silk thread and reinforced clasps for everyday wear"},{name:"Care",description:"Store in provided pouch, avoid water exposure, and clean with soft dry cloth"},{name:"Sustainability",description:"Ethically sourced materials and eco-friendly packaging"}],h=H([{name:"Rings",description:"Exquisite engagement rings, wedding bands, and statement pieces crafted with precision and passion.",image:cn("images/Golden Green.jpeg"),category:"rings"},{name:"Necklaces",description:"Elegant pendants and chains designed to complement any outfit and occasion.",image:cn("images/Neeon Moon.jpeg"),category:"necklaces"},{name:"Earrings",description:"From subtle studs to dramatic drops, find the perfect accent for your personal style.",image:cn("images/Auqa Sand.jpeg"),category:"earrings"},{name:"Bracelets",description:"Add sparkle to your wrist with our selection of charm bracelets, bangles, and cuffs.",image:cn("images/Golden black.jpeg"),category:"bracelets"},{name:"Watches",description:"Precision timepieces that combine functionality with sophisticated design.",image:cn("images/Neeon Moon 2.jpeg"),category:"watches"},{name:"Luxury Collection",description:"Exclusive high-end pieces for those special moments that deserve extraordinary jewelry.",image:cn("images/Neeon Moon 3.jpeg"),category:"luxury"}]);function f(){return[{id:"fallback-1",name:"Diamond Ring",category:"rings",price:1299.99,imageUrl:"https://images.unsplash.com/photo-1605100804763-247f67b3557e?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:"fallback-2",name:"Pearl Necklace",category:"necklaces",price:499.99,imageUrl:"https://images.unsplash.com/photo-1608043152269-423dbba4e7e1?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:"fallback-3",name:"Gold Earrings",category:"earrings",price:299.99,imageUrl:"https://images.unsplash.com/photo-1610694955371-d4a3f5146182?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:"fallback-4",name:"Silver Bracelet",category:"bracelets",price:199.99,imageUrl:"https://images.unsplash.com/photo-1602173574767-37ac01994b2c?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"}]}je(async()=>{try{let R;try{const A=await p();A.length>0?(console.log("Loaded products from Firestore:",A.length),R=A):(console.log("No products in Firestore, using service fallback"),R=await He.getProducts())}catch(A){console.warn("Firebase fetch failed, using mock data:",A),R=await Eo.getProducts()}(!R||R.length===0)&&(console.warn("No products found in any source, using fallback data"),R=f()),console.log("Total products loaded:",R.length),n.value=R.slice(0,4),s.value=R.slice(4,8),i.value=R.filter(A=>A.featured||Math.random()>.5).slice(0,8)}catch(R){console.error("Error loading products:",R),i.value=f()}finally{o.value=!1}});const p=async()=>{try{if(!He.getFirestore())return[];const A=He.getCollection("products"),M=await He.getDocuments(A);return M.empty?[]:M.docs.map(I=>{const v=I.data();return{id:I.id,...v,name:v.name||"Unnamed Product",price:v.price||0,category:v.category||"Uncategorized",description:v.description||"",images:v.images||[],image:v.images&&v.images.length>0?v.images[0].startsWith("base64://")?v.images[0].replace("base64://",""):v.images[0]:"https://via.placeholder.com/300x300?text=No+Image"}})}catch(R){return console.error("Error loading products from Firestore:",R),[]}},y=H({name:"",email:"",loading:!1,success:!1,message:""}),b=async()=>{if(y.value.email){y.value.loading=!0,y.value.message="";try{const R=await He.subscribeToNewsletter(y.value.email,y.value.name);y.value.success=R.success,y.value.message=R.message||"Thank you for subscribing to our newsletter!",R.success&&(y.value.name="",y.value.email="")}catch(R){console.error("Error subscribing to newsletter:",R),y.value.success=!1,y.value.message="Failed to subscribe. Please try again later."}finally{y.value.loading=!1}}},k=H(0),_=["That Elevates Style","With Timeless Beauty","For Every Moment","That Tells Stories","With Perfect Detail","For Your Journey"];je(()=>{setInterval(()=>{k.value=(k.value+1)%_.length},3e3),window.addEventListener("scroll",E)}),Yi(()=>{window.removeEventListener("scroll",E)});const T=H(!1),P=()=>{window.scrollTo({top:0,behavior:"smooth"})},E=()=>{T.value=window.scrollY>500};return(R,A)=>{var I,v;const M=Lr("router-link");return O(),j("div",h8,[a.value?(O(),j("div",{key:0,class:"cart-animation fixed pointer-events-none z-50",ref_key:"cartAnimationEl",ref:l,style:St({backgroundImage:`url(${((I=a.value)==null?void 0:I.image)||((v=a.value)==null?void 0:v.imageUrl)||q(Pt)("placeholder.jpg")})`})},null,4)):fe("",!0),Te(c("button",{onClick:P,class:"scroll-to-top-btn fixed bottom-6 right-6 bg-accent-primary hover:bg-accent-secondary text-white rounded-full w-12 h-12 flex items-center justify-center shadow-lg transition-all duration-300 z-50","aria-label":"Scroll to top"},A[2]||(A[2]=[c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",class:"w-6 h-6"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 10l7-7m0 0l7 7m-7-7v18"})],-1)]),512),[[Xp,T.value]]),c("div",f8,[c("div",p8,[c("div",m8,[c("div",g8,[c("h1",y8,[A[3]||(A[3]=de(" Discover Handcrafted Jewelry ")),c("span",v8,[(O(),j(ke,null,qe(_,(m,w)=>c("span",{key:m,class:$e(["animated-text-item",{active:k.value===w}])},K(m),3)),64))])]),A[5]||(A[5]=c("p",{class:"mt-4 text-xl text-light-text-secondary dark:text-dark-text-secondary"},"Our handcrafted beaded jewelry pieces combine artistry and elegance, adding the perfect colorful accent to enhance any outfit.",-1)),c("div",b8,[z(M,{to:"/products",class:"inline-block rounded-md border border-transparent bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark px-8 py-3 text-center font-medium text-white"},{default:Z(()=>A[4]||(A[4]=[de("Shop Collection")])),_:1})])]),c("div",null,[c("div",x8,[A[7]||(A[7]=Tt('<div aria-hidden="true" class="pointer-events-none lg:absolute lg:inset-y-0 lg:mx-auto lg:w-full lg:max-w-7xl" data-v-338c8e43><div class="absolute transform sm:top-0 sm:left-1/2 sm:translate-x-8 lg:top-1/2 lg:left-1/2 lg:-translate-y-1/2 lg:translate-x-8" data-v-338c8e43><div class="flex items-center justify-center space-x-3 sm:space-x-6 lg:space-x-8 overflow-hidden w-full max-w-screen-sm mx-auto px-4 sm:px-0" data-v-338c8e43><div class="scroll-container w-1/2 sm:w-auto max-w-[45vw] sm:max-w-none" data-v-338c8e43><div class="scroll-content scroll-up" data-v-338c8e43><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-01.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-02.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-03.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-04.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-01.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-02.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-03.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-04.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div></div></div><div class="scroll-container w-1/2 sm:w-auto" data-v-338c8e43><div class="scroll-content scroll-down" data-v-338c8e43><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-04.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-05.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-06.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-07.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-04.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-05.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-06.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-07.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div></div></div><div class="scroll-container hidden sm:block" data-v-338c8e43><div class="scroll-content scroll-up-slow" data-v-338c8e43><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-01.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-02.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-03.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-06.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-01.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-02.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-03.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-338c8e43><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-06.jpg" alt="" class="w-full h-full object-cover" data-v-338c8e43></div></div></div></div></div></div>',1)),z(M,{to:"/products",class:"hidden lg:inline-block rounded-md border border-transparent bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark px-8 py-3 text-center font-medium text-white"},{default:Z(()=>A[6]||(A[6]=[de("Shop Collection")])),_:1})])])])])]),c("section",_8,[A[9]||(A[9]=c("div",{class:"text-center mb-12 fade-slide-up"},[c("h2",{class:"text-3xl font-bold text-light-text-primary dark:text-dark-text-primary"},"Our Collections")],-1)),c("div",w8,[c("div",k8,[c("div",E8,[(O(!0),j(ke,null,qe(h.value,(m,w)=>(O(),j("div",{key:m.name,class:"collection-card relative overflow-hidden rounded-lg shadow-lg group h-80 fade-slide-up",style:St({animationDelay:w*100+"ms"})},[c("img",{src:e(m.image),alt:m.name,class:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",onError:r},null,40,I8),c("div",T8,[c("div",A8,[c("h3",S8,K(m.name),1),c("p",C8,K(m.description),1),z(M,{to:`/products?category=${m.category}`,class:"inline-block bg-btn-primary hover:bg-btn-primary-hover text-white font-semibold py-2 px-4 rounded-md transition duration-300"},{default:Z(()=>A[8]||(A[8]=[de(" View Collection ")])),_:2},1032,["to"])])])],4))),128))])])])]),c("section",P8,[c("div",R8,[c("div",N8,[A[11]||(A[11]=c("h2",{class:"text-3xl font-bold text-light-text-primary dark:text-dark-text-primary"},"Featured Products",-1)),z(M,{to:"/products",class:"text-btn-primary hover:text-accent-secondary font-medium"},{default:Z(()=>A[10]||(A[10]=[de(" View all products "),c("span",{"aria-hidden":"true"},"",-1)])),_:1})]),o.value?(O(),j("div",$8,A[12]||(A[12]=[c("div",{class:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-accent-primary"},null,-1)]))):i.value.length===0?(O(),j("div",O8,A[13]||(A[13]=[c("p",{class:"text-light-neutral-600 dark:text-dark-neutral-600"},"No products found. Please check back later.",-1)]))):(O(),j("div",D8,[(O(!0),j(ke,null,qe(i.value,(m,w)=>(O(),j("div",{key:m.id,class:"relative fade-slide-up",style:St({animationDelay:w*100+"ms"})},[z(tE,{product:m,processImageUrl:e},null,8,["product"])],4))),128))]))])]),c("section",M8,[c("div",V8,[c("div",null,[A[14]||(A[14]=c("h2",{class:"text-3xl font-bold tracking-tight text-light-text-primary dark:text-dark-text-primary sm:text-4xl"},"Craftsmanship Details",-1)),A[15]||(A[15]=c("p",{class:"mt-4 text-light-text-secondary dark:text-dark-text-secondary"},"Our handcrafted beaded jewelry combines traditional techniques with modern design. Each piece is meticulously created using premium materials, ensuring both beauty and durability for everyday wear.",-1)),c("dl",L8,[(O(),j(ke,null,qe(d,m=>c("div",{key:m.name,class:"border-t border-light-neutral-300 dark:border-dark-neutral-700 pt-4"},[c("dt",F8,K(m.name),1),c("dd",U8,K(m.description),1)])),64))])]),c("div",j8,[c("img",{src:q(cn)("images/Auqa Sand.jpeg"),alt:"Close-up of beaded bracelet showing intricate pattern work.",class:"rounded-lg bg-light-neutral-100 dark:bg-dark-neutral-800",onError:r},null,40,B8),c("img",{src:q(cn)("images/Golden black.jpeg"),alt:"Detail view of beaded necklace clasp and finishing.",class:"rounded-lg bg-light-neutral-100 dark:bg-dark-neutral-800",onError:r},null,40,q8),c("img",{src:q(cn)("images/Golden Green.jpeg"),alt:"Arrangement of colorful beads used in our jewelry collection.",class:"rounded-lg bg-light-neutral-100 dark:bg-dark-neutral-800",onError:r},null,40,H8),c("img",{src:q(cn)("images/Neeon Moon 3.jpeg"),alt:"Handcrafting process showing artisan creating a beaded piece.",class:"rounded-lg bg-light-neutral-100 dark:bg-dark-neutral-800",onError:r},null,40,z8)])])]),c("section",W8,[c("div",K8,[c("div",G8,[A[22]||(A[22]=c("div",{class:"absolute inset-0 opacity-10"},[c("div",{class:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmZmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48cGF0aCBkPSJNMzYgMzRjMC0yLjIgMS44LTQgNC00czQgMS44IDQgNC0xLjggNC00IDQtNC0xLjgtNC00TTAgMGg0djRIMHoiLz48L2c+PC9nPjwvZz48L2c+PC9nPjwvZz48L2c+PC9nPjwvZz48L2c+PC9nPjwvZz48L3N2Zz4=')]"})],-1)),c("div",Q8,[c("div",Y8,[A[21]||(A[21]=Tt('<div class="w-full md:w-1/2 text-white" data-v-338c8e43><span class="inline-block px-3 py-1 bg-white bg-opacity-20 rounded-full text-sm font-semibold mb-4" data-v-338c8e43> Stay Connected </span><h3 class="text-2xl md:text-3xl font-bold mb-4" data-v-338c8e43>Join Our Jewelry Community</h3><p class="text-white text-opacity-90 mb-6" data-v-338c8e43> Subscribe to receive updates on new collections, exclusive offers, and styling tips. </p><div class="flex flex-wrap gap-4 mb-6" data-v-338c8e43><div class="flex items-center" data-v-338c8e43><div class="flex-shrink-0 mr-2" data-v-338c8e43><svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20" data-v-338c8e43><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" data-v-338c8e43></path></svg></div><p class="text-sm" data-v-338c8e43>Early access to sales</p></div><div class="flex items-center" data-v-338c8e43><div class="flex-shrink-0 mr-2" data-v-338c8e43><svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20" data-v-338c8e43><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" data-v-338c8e43></path></svg></div><p class="text-sm" data-v-338c8e43>Exclusive offers</p></div></div></div>',1)),c("div",J8,[c("div",X8,[c("form",{onSubmit:Vr(b,["prevent"]),class:"space-y-4"},[A[19]||(A[19]=c("h4",{class:"text-gray-800 text-xl font-semibold mb-4"},"Subscribe to our newsletter",-1)),c("div",null,[A[16]||(A[16]=c("label",{for:"fullName",class:"block text-sm font-medium text-gray-700 mb-1"},"Full Name",-1)),Te(c("input",{type:"text",id:"fullName","onUpdate:modelValue":A[0]||(A[0]=m=>y.value.name=m),placeholder:"Enter your name",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all"},null,512),[[Pe,y.value.name]])]),c("div",null,[A[17]||(A[17]=c("label",{for:"email",class:"block text-sm font-medium text-gray-700 mb-1"},"Email Address",-1)),Te(c("input",{type:"email",id:"email","onUpdate:modelValue":A[1]||(A[1]=m=>y.value.email=m),required:"",placeholder:"Enter your email",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all"},null,512),[[Pe,y.value.email]])]),c("div",Z8,[c("button",{type:"submit",class:$e(["w-full bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-medium py-3 px-4 rounded-md transition-all duration-300 flex items-center justify-center",{"opacity-75 cursor-not-allowed":y.value.loading}]),disabled:y.value.loading},[y.value.loading?(O(),j("svg",t7,A[18]||(A[18]=[c("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),c("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):fe("",!0),c("span",null,K(y.value.loading?"Subscribing...":"Subscribe Now"),1)],10,e7)]),y.value.message?(O(),j("p",{key:0,class:$e([{"text-green-600":y.value.success,"text-red-600":!y.value.success},"text-sm mt-2 text-center"])},K(y.value.message),3)):fe("",!0),A[20]||(A[20]=c("p",{class:"text-xs text-gray-500 text-center mt-4"}," By subscribing, you agree to our Privacy Policy. ",-1))],32)])])])])])])])])}}},Pb=Gr(r7,[["__scopeId","data-v-338c8e43"]]),n7=(t,e,r)=>{var s,i;const n=$n();if(console.log("Checking admin status:",{user:n.user,isAdmin:(s=n.user)==null?void 0:s.isAdmin,authenticated:n.isAuthenticated}),!n.isAuthenticated||!((i=n.user)!=null&&i.isAdmin)){console.log("Access denied: User is not admin"),r("/login");return}r()};function s7(t,e,r){let n=H(r==null?void 0:r.value),s=te(()=>t.value!==void 0);return[te(()=>s.value?t.value:n.value),function(i){return s.value||(n.value=i),e==null?void 0:e(i)}]}function rh(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function nc(){let t=[],e={addEventListener(r,n,s,i){return r.addEventListener(n,s,i),e.add(()=>r.removeEventListener(n,s,i))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);e.add(()=>cancelAnimationFrame(n))},nextFrame(...r){e.requestAnimationFrame(()=>{e.requestAnimationFrame(...r)})},setTimeout(...r){let n=setTimeout(...r);e.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return rh(()=>{n.current&&r[0]()}),e.add(()=>{n.current=!1})},style(r,n,s){let i=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:s}),this.add(()=>{Object.assign(r.style,{[n]:i})})},group(r){let n=nc();return r(n),this.add(()=>n.dispose())},add(r){return t.push(r),()=>{let n=t.indexOf(r);if(n>=0)for(let s of t.splice(n,1))s()}},dispose(){for(let r of t.splice(0))r()}};return e}var Rb;let i7=Symbol("headlessui.useid"),o7=0;const bn=(Rb=F1)!=null?Rb:function(){return it(i7,()=>`${++o7}`)()};function Ae(t){var e;if(t==null||t.value==null)return null;let r=(e=t.value.$el)!=null?e:t.value;return r instanceof Node?r:null}function ar(t,e,...r){if(t in e){let s=e[t];return typeof s=="function"?s(...r):s}let n=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,ar),n}var a7=Object.defineProperty,l7=(t,e,r)=>e in t?a7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Nb=(t,e,r)=>(l7(t,typeof e!="symbol"?e+"":e,r),r);let c7=class{constructor(){Nb(this,"current",this.detect()),Nb(this,"currentId",0)}set(e){this.current!==e&&(this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},sc=new c7;function vs(t){if(sc.isServer)return null;if(t instanceof Node)return t.ownerDocument;if(t!=null&&t.hasOwnProperty("value")){let e=Ae(t);if(e)return e.ownerDocument}return document}let vp=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var jt=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(jt||{}),Io=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(Io||{}),u7=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(u7||{});function rE(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(vp)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var Tg=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(Tg||{});function Ag(t,e=0){var r;return t===((r=vs(t))==null?void 0:r.body)?!1:ar(e,{0(){return t.matches(vp)},1(){let n=t;for(;n!==null;){if(n.matches(vp))return!0;n=n.parentElement}return!1}})}function nE(t){let e=vs(t);ir(()=>{e&&!Ag(e.activeElement,0)&&Ys(t)})}var d7=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(d7||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function Ys(t){t==null||t.focus({preventScroll:!0})}let h7=["textarea","input"].join(",");function f7(t){var e,r;return(r=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,h7))!=null?r:!1}function bi(t,e=r=>r){return t.slice().sort((r,n)=>{let s=e(r),i=e(n);if(s===null||i===null)return 0;let o=s.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function p7(t,e){return kn(rE(),e,{relativeTo:t})}function kn(t,e,{sorted:r=!0,relativeTo:n=null,skipElements:s=[]}={}){var i;let o=(i=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t==null?void 0:t.ownerDocument)!=null?i:document,a=Array.isArray(t)?r?bi(t):t:rE(t);s.length>0&&a.length>1&&(a=a.filter(b=>!s.includes(b))),n=n??o.activeElement;let l=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,a.indexOf(n))-1;if(e&4)return Math.max(0,a.indexOf(n))+1;if(e&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),h=e&32?{preventScroll:!0}:{},f=0,p=a.length,y;do{if(f>=p||f+p<=0)return 0;let b=d+f;if(e&16)b=(b+p)%p;else{if(b<0)return 3;if(b>=p)return 1}y=a[b],y==null||y.focus(h),f+=l}while(y!==o.activeElement);return e&6&&f7(y)&&y.select(),2}function sE(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function m7(){return/Android/gi.test(window.navigator.userAgent)}function g7(){return sE()||m7()}function Bc(t,e,r){sc.isServer||lr(n=>{document.addEventListener(t,e,r),n(()=>document.removeEventListener(t,e,r))})}function iE(t,e,r){sc.isServer||lr(n=>{window.addEventListener(t,e,r),n(()=>window.removeEventListener(t,e,r))})}function oE(t,e,r=te(()=>!0)){function n(i,o){if(!r.value||i.defaultPrevented)return;let a=o(i);if(a===null||!a.getRootNode().contains(a))return;let l=function d(h){return typeof h=="function"?d(h()):Array.isArray(h)||h instanceof Set?h:[h]}(t);for(let d of l){if(d===null)continue;let h=d instanceof HTMLElement?d:Ae(d);if(h!=null&&h.contains(a)||i.composed&&i.composedPath().includes(h))return}return!Ag(a,Tg.Loose)&&a.tabIndex!==-1&&i.preventDefault(),e(i,a)}let s=H(null);Bc("pointerdown",i=>{var o,a;r.value&&(s.value=((a=(o=i.composedPath)==null?void 0:o.call(i))==null?void 0:a[0])||i.target)},!0),Bc("mousedown",i=>{var o,a;r.value&&(s.value=((a=(o=i.composedPath)==null?void 0:o.call(i))==null?void 0:a[0])||i.target)},!0),Bc("click",i=>{g7()||s.value&&(n(i,()=>s.value),s.value=null)},!0),Bc("touchend",i=>n(i,()=>i.target instanceof HTMLElement?i.target:null),!0),iE("blur",i=>n(i,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function $b(t,e){if(t)return t;let r=e??"button";if(typeof r=="string"&&r.toLowerCase()==="button")return"button"}function nh(t,e){let r=H($b(t.value.type,t.value.as));return je(()=>{r.value=$b(t.value.type,t.value.as)}),lr(()=>{var n;r.value||Ae(e)&&Ae(e)instanceof HTMLButtonElement&&!((n=Ae(e))!=null&&n.hasAttribute("type"))&&(r.value="button")}),r}function Ob(t){return[t.screenX,t.screenY]}function y7(){let t=H([-1,-1]);return{wasMoved(e){let r=Ob(e);return t.value[0]===r[0]&&t.value[1]===r[1]?!1:(t.value=r,!0)},update(e){t.value=Ob(e)}}}function v7({container:t,accept:e,walk:r,enabled:n}){lr(()=>{let s=t.value;if(!s||n!==void 0&&!n.value)return;let i=vs(t);if(!i)return;let o=Object.assign(l=>e(l),{acceptNode:e}),a=i.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,o,!1);for(;a.nextNode();)r(a.currentNode)})}var qn=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(qn||{}),Bs=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Bs||{});function $t({visible:t=!0,features:e=0,ourProps:r,theirProps:n,...s}){var i;let o=lE(n,r),a=Object.assign(s,{props:o});if(t||e&2&&o.static)return lf(a);if(e&1){let l=(i=o.unmount)==null||i?0:1;return ar(l,{0(){return null},1(){return lf({...s,props:{...o,hidden:!0,style:{display:"none"}}})}})}return lf(a)}function lf({props:t,attrs:e,slots:r,slot:n,name:s}){var i,o;let{as:a,...l}=sh(t,["unmount","static"]),d=(i=r.default)==null?void 0:i.call(r,n),h={};if(n){let f=!1,p=[];for(let[y,b]of Object.entries(n))typeof b=="boolean"&&(f=!0),b===!0&&p.push(y);f&&(h["data-headlessui-state"]=p.join(" "))}if(a==="template"){if(d=aE(d??[]),Object.keys(l).length>0||Object.keys(e).length>0){let[f,...p]=d??[];if(!x7(f)||p.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${s} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(l).concat(Object.keys(e)).map(k=>k.trim()).filter((k,_,T)=>T.indexOf(k)===_).sort((k,_)=>k.localeCompare(_)).map(k=>`  - ${k}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(k=>`  - ${k}`).join(`
`)].join(`
`));let y=lE((o=f.props)!=null?o:{},l,h),b=Cn(f,y,!0);for(let k in y)k.startsWith("on")&&(b.props||(b.props={}),b.props[k]=y[k]);return b}return Array.isArray(d)&&d.length===1?d[0]:d}return yt(a,Object.assign({},l,h),{default:()=>d})}function aE(t){return t.flatMap(e=>e.type===ke?aE(e.children):[e])}function lE(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let s in n)s.startsWith("on")&&typeof n[s]=="function"?(r[s]!=null||(r[s]=[]),r[s].push(n[s])):e[s]=n[s];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(r).map(n=>[n,void 0])));for(let n in r)Object.assign(e,{[n](s,...i){let o=r[n];for(let a of o){if(s instanceof Event&&s.defaultPrevented)return;a(s,...i)}}});return e}function b7(t){let e=Object.assign({},t);for(let r in e)e[r]===void 0&&delete e[r];return e}function sh(t,e=[]){let r=Object.assign({},t);for(let n of e)n in r&&delete r[n];return r}function x7(t){return t==null?!1:typeof t.type=="string"||typeof t.type=="object"||typeof t.type=="function"}var ea=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(ea||{});let ta=Ze({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(t,{slots:e,attrs:r}){return()=>{var n;let{features:s,...i}=t,o={"aria-hidden":(s&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(s&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(s&4)===4&&(s&2)!==2&&{display:"none"}}};return $t({ourProps:o,theirProps:i,slot:{},attrs:r,slots:e,name:"Hidden"})}}}),cE=Symbol("Context");var Lt=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Lt||{});function _7(){return ic()!==null}function ic(){return it(cE,null)}function Sg(t){Ht(cE,t)}var Xe=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Xe||{});function w7(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let xi=[];w7(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&xi[0]!==e.target&&(xi.unshift(e.target),xi=xi.filter(r=>r!=null&&r.isConnected),xi.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function k7(t){throw new Error("Unexpected object: "+t)}var Zr=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(Zr||{});function E7(t,e){let r=e.resolveItems();if(r.length<=0)return null;let n=e.resolveActiveIndex(),s=n??-1;switch(t.focus){case 0:{for(let i=0;i<r.length;++i)if(!e.resolveDisabled(r[i],i,r))return i;return n}case 1:{s===-1&&(s=r.length);for(let i=s-1;i>=0;--i)if(!e.resolveDisabled(r[i],i,r))return i;return n}case 2:{for(let i=s+1;i<r.length;++i)if(!e.resolveDisabled(r[i],i,r))return i;return n}case 3:{for(let i=r.length-1;i>=0;--i)if(!e.resolveDisabled(r[i],i,r))return i;return n}case 4:{for(let i=0;i<r.length;++i)if(e.resolveId(r[i],i,r)===t.id)return i;return n}case 5:return null;default:k7(t)}}function I7(t){var e,r;let n=(e=t==null?void 0:t.form)!=null?e:t.closest("form");if(n){for(let s of n.elements)if(s!==t&&(s.tagName==="INPUT"&&s.type==="submit"||s.tagName==="BUTTON"&&s.type==="submit"||s.nodeName==="INPUT"&&s.type==="image")){s.click();return}(r=n.requestSubmit)==null||r.call(n)}}function uE(t,e,r,n){sc.isServer||lr(s=>{t=t??window,t.addEventListener(e,r,n),s(()=>t.removeEventListener(e,r,n))})}var za=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(za||{});function T7(){let t=H(0);return iE("keydown",e=>{e.key==="Tab"&&(t.value=e.shiftKey?1:0)}),t}function dE(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let r of t.value){let n=Ae(r);n instanceof HTMLElement&&e.add(n)}return e}var hE=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(hE||{});let Pa=Object.assign(Ze({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:H(new Set)}},inheritAttrs:!1,setup(t,{attrs:e,slots:r,expose:n}){let s=H(null);n({el:s,$el:s});let i=te(()=>vs(s)),o=H(!1);je(()=>o.value=!0),Wt(()=>o.value=!1),S7({ownerDocument:i},te(()=>o.value&&!!(t.features&16)));let a=C7({ownerDocument:i,container:s,initialFocus:te(()=>t.initialFocus)},te(()=>o.value&&!!(t.features&2)));P7({ownerDocument:i,container:s,containers:t.containers,previousActiveElement:a},te(()=>o.value&&!!(t.features&8)));let l=T7();function d(y){let b=Ae(s);b&&(k=>k())(()=>{ar(l.value,{[za.Forwards]:()=>{kn(b,jt.First,{skipElements:[y.relatedTarget]})},[za.Backwards]:()=>{kn(b,jt.Last,{skipElements:[y.relatedTarget]})}})})}let h=H(!1);function f(y){y.key==="Tab"&&(h.value=!0,requestAnimationFrame(()=>{h.value=!1}))}function p(y){if(!o.value)return;let b=dE(t.containers);Ae(s)instanceof HTMLElement&&b.add(Ae(s));let k=y.relatedTarget;k instanceof HTMLElement&&k.dataset.headlessuiFocusGuard!=="true"&&(fE(b,k)||(h.value?kn(Ae(s),ar(l.value,{[za.Forwards]:()=>jt.Next,[za.Backwards]:()=>jt.Previous})|jt.WrapAround,{relativeTo:y.target}):y.target instanceof HTMLElement&&Ys(y.target)))}return()=>{let y={},b={ref:s,onKeydown:f,onFocusout:p},{features:k,initialFocus:_,containers:T,...P}=t;return yt(ke,[!!(k&4)&&yt(ta,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:ea.Focusable}),$t({ourProps:b,theirProps:{...e,...P},slot:y,attrs:e,slots:r,name:"FocusTrap"}),!!(k&4)&&yt(ta,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:ea.Focusable})])}}}),{features:hE});function A7(t){let e=H(xi.slice());return Rt([t],([r],[n])=>{n===!0&&r===!1?rh(()=>{e.value.splice(0)}):n===!1&&r===!0&&(e.value=xi.slice())},{flush:"post"}),()=>{var r;return(r=e.value.find(n=>n!=null&&n.isConnected))!=null?r:null}}function S7({ownerDocument:t},e){let r=A7(e);je(()=>{lr(()=>{var n,s;e.value||((n=t.value)==null?void 0:n.activeElement)===((s=t.value)==null?void 0:s.body)&&Ys(r())},{flush:"post"})}),Wt(()=>{e.value&&Ys(r())})}function C7({ownerDocument:t,container:e,initialFocus:r},n){let s=H(null),i=H(!1);return je(()=>i.value=!0),Wt(()=>i.value=!1),je(()=>{Rt([e,r,n],(o,a)=>{if(o.every((d,h)=>(a==null?void 0:a[h])===d)||!n.value)return;let l=Ae(e);l&&rh(()=>{var d,h;if(!i.value)return;let f=Ae(r),p=(d=t.value)==null?void 0:d.activeElement;if(f){if(f===p){s.value=p;return}}else if(l.contains(p)){s.value=p;return}f?Ys(f):kn(l,jt.First|jt.NoScroll)===Io.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),s.value=(h=t.value)==null?void 0:h.activeElement})},{immediate:!0,flush:"post"})}),s}function P7({ownerDocument:t,container:e,containers:r,previousActiveElement:n},s){var i;uE((i=t.value)==null?void 0:i.defaultView,"focus",o=>{if(!s.value)return;let a=dE(r);Ae(e)instanceof HTMLElement&&a.add(Ae(e));let l=n.value;if(!l)return;let d=o.target;d&&d instanceof HTMLElement?fE(a,d)?(n.value=d,Ys(d)):(o.preventDefault(),o.stopPropagation(),Ys(l)):Ys(n.value)},!0)}function fE(t,e){for(let r of t)if(r.contains(e))return!0;return!1}function R7(t){let e=dd(t.getSnapshot());return Wt(t.subscribe(()=>{e.value=t.getSnapshot()})),e}function N7(t,e){let r=t(),n=new Set;return{getSnapshot(){return r},subscribe(s){return n.add(s),()=>n.delete(s)},dispatch(s,...i){let o=e[s].call(r,...i);o&&(r=o,n.forEach(a=>a()))}}}function $7(){let t;return{before({doc:e}){var r;let n=e.documentElement;t=((r=e.defaultView)!=null?r:window).innerWidth-n.clientWidth},after({doc:e,d:r}){let n=e.documentElement,s=n.clientWidth-n.offsetWidth,i=t-s;r.style(n,"paddingRight",`${i}px`)}}}function O7(){return sE()?{before({doc:t,d:e,meta:r}){function n(s){return r.containers.flatMap(i=>i()).some(i=>i.contains(s))}e.microTask(()=>{var s;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=nc();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let i=(s=window.scrollY)!=null?s:window.pageYOffset,o=null;e.addEventListener(t,"click",a=>{if(a.target instanceof HTMLElement)try{let l=a.target.closest("a");if(!l)return;let{hash:d}=new URL(l.href),h=t.querySelector(d);h&&!n(h)&&(o=h)}catch{}},!0),e.addEventListener(t,"touchstart",a=>{if(a.target instanceof HTMLElement)if(n(a.target)){let l=a.target;for(;l.parentElement&&n(l.parentElement);)l=l.parentElement;e.style(l,"overscrollBehavior","contain")}else e.style(a.target,"touchAction","none")}),e.addEventListener(t,"touchmove",a=>{if(a.target instanceof HTMLElement){if(a.target.tagName==="INPUT")return;if(n(a.target)){let l=a.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let l=(a=window.scrollY)!=null?a:window.pageYOffset;i!==l&&window.scrollTo(0,i),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function D7(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function M7(t){let e={};for(let r of t)Object.assign(e,r(e));return e}let Ii=N7(()=>new Map,{PUSH(t,e){var r;let n=(r=this.get(t))!=null?r:{doc:t,count:0,d:nc(),meta:new Set};return n.count++,n.meta.add(e),this.set(t,n),this},POP(t,e){let r=this.get(t);return r&&(r.count--,r.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:r}){let n={doc:t,d:e,meta:M7(r)},s=[O7(),$7(),D7()];s.forEach(({before:i})=>i==null?void 0:i(n)),s.forEach(({after:i})=>i==null?void 0:i(n))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Ii.subscribe(()=>{let t=Ii.getSnapshot(),e=new Map;for(let[r]of t)e.set(r,r.documentElement.style.overflow);for(let r of t.values()){let n=e.get(r.doc)==="hidden",s=r.count!==0;(s&&!n||!s&&n)&&Ii.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&Ii.dispatch("TEARDOWN",r)}});function V7(t,e,r){let n=R7(Ii),s=te(()=>{let i=t.value?n.value.get(t.value):void 0;return i?i.count>0:!1});return Rt([t,e],([i,o],[a],l)=>{if(!i||!o)return;Ii.dispatch("PUSH",i,r);let d=!1;l(()=>{d||(Ii.dispatch("POP",a??i,r),d=!0)})},{immediate:!0}),s}let cf=new Map,Ra=new Map;function Db(t,e=H(!0)){lr(r=>{var n;if(!e.value)return;let s=Ae(t);if(!s)return;r(function(){var o;if(!s)return;let a=(o=Ra.get(s))!=null?o:1;if(a===1?Ra.delete(s):Ra.set(s,a-1),a!==1)return;let l=cf.get(s);l&&(l["aria-hidden"]===null?s.removeAttribute("aria-hidden"):s.setAttribute("aria-hidden",l["aria-hidden"]),s.inert=l.inert,cf.delete(s))});let i=(n=Ra.get(s))!=null?n:0;Ra.set(s,i+1),i===0&&(cf.set(s,{"aria-hidden":s.getAttribute("aria-hidden"),inert:s.inert}),s.setAttribute("aria-hidden","true"),s.inert=!0)})}function L7({defaultContainers:t=[],portals:e,mainTreeNodeRef:r}={}){let n=H(null),s=vs(n);function i(){var o,a,l;let d=[];for(let h of t)h!==null&&(h instanceof HTMLElement?d.push(h):"value"in h&&h.value instanceof HTMLElement&&d.push(h.value));if(e!=null&&e.value)for(let h of e.value)d.push(h);for(let h of(o=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?o:[])h!==document.body&&h!==document.head&&h instanceof HTMLElement&&h.id!=="headlessui-portal-root"&&(h.contains(Ae(n))||h.contains((l=(a=Ae(n))==null?void 0:a.getRootNode())==null?void 0:l.host)||d.some(f=>h.contains(f))||d.push(h));return d}return{resolveContainers:i,contains(o){return i().some(a=>a.contains(o))},mainTreeNodeRef:n,MainTreeNode(){return r!=null?null:yt(ta,{features:ea.Hidden,ref:n})}}}let pE=Symbol("ForcePortalRootContext");function F7(){return it(pE,!1)}let Mb=Ze({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(t,{slots:e,attrs:r}){return Ht(pE,t.force),()=>{let{force:n,...s}=t;return $t({theirProps:s,ourProps:{},slot:{},slots:e,attrs:r,name:"ForcePortalRoot"})}}}),mE=Symbol("StackContext");var bp=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(bp||{});function U7(){return it(mE,()=>{})}function j7({type:t,enabled:e,element:r,onUpdate:n}){let s=U7();function i(...o){n==null||n(...o),s(...o)}je(()=>{Rt(e,(o,a)=>{o?i(0,t,r):a===!0&&i(1,t,r)},{immediate:!0,flush:"sync"})}),Wt(()=>{e.value&&i(1,t,r)}),Ht(mE,i)}let B7=Symbol("DescriptionContext");function q7({slot:t=H({}),name:e="Description",props:r={}}={}){let n=H([]);function s(i){return n.value.push(i),()=>{let o=n.value.indexOf(i);o!==-1&&n.value.splice(o,1)}}return Ht(B7,{register:s,slot:t,name:e,props:r}),te(()=>n.value.length>0?n.value.join(" "):void 0)}function H7(t){let e=vs(t);if(!e){if(t===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${t}`)}let r=e.getElementById("headlessui-portal-root");if(r)return r;let n=e.createElement("div");return n.setAttribute("id","headlessui-portal-root"),e.body.appendChild(n)}const xp=new WeakMap;function z7(t){var e;return(e=xp.get(t))!=null?e:0}function Vb(t,e){let r=e(z7(t));return r<=0?xp.delete(t):xp.set(t,r),r}let W7=Ze({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(t,{slots:e,attrs:r}){let n=H(null),s=te(()=>vs(n)),i=F7(),o=it(gE,null),a=H(i===!0||o==null?H7(n.value):o.resolveTarget());a.value&&Vb(a.value,p=>p+1);let l=H(!1);je(()=>{l.value=!0}),lr(()=>{i||o!=null&&(a.value=o.resolveTarget())});let d=it(_p,null),h=!1,f=sn();return Rt(n,()=>{if(h||!d)return;let p=Ae(n);p&&(Wt(d.register(p),f),h=!0)}),Wt(()=>{var p,y;let b=(p=s.value)==null?void 0:p.getElementById("headlessui-portal-root");!b||a.value!==b||Vb(a.value,k=>k-1)||a.value.children.length>0||(y=a.value.parentElement)==null||y.removeChild(a.value)}),()=>{if(!l.value||a.value===null)return null;let p={ref:n,"data-headlessui-portal":""};return yt(Up,{to:a.value},$t({ourProps:p,theirProps:t,slot:{},attrs:r,slots:e,name:"Portal"}))}}}),_p=Symbol("PortalParentContext");function K7(){let t=it(_p,null),e=H([]);function r(i){return e.value.push(i),t&&t.register(i),()=>n(i)}function n(i){let o=e.value.indexOf(i);o!==-1&&e.value.splice(o,1),t&&t.unregister(i)}let s={register:r,unregister:n,portals:e};return[e,Ze({name:"PortalWrapper",setup(i,{slots:o}){return Ht(_p,s),()=>{var a;return(a=o.default)==null?void 0:a.call(o)}}})]}let gE=Symbol("PortalGroupContext"),G7=Ze({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(t,{attrs:e,slots:r}){let n=gn({resolveTarget(){return t.target}});return Ht(gE,n),()=>{let{target:s,...i}=t;return $t({theirProps:i,ourProps:{},slot:{},attrs:e,slots:r,name:"PortalGroup"})}}});var Q7=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Q7||{});let wp=Symbol("DialogContext");function Cg(t){let e=it(wp,null);if(e===null){let r=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Cg),r}return e}let qc="DC8F892D-2EBD-447C-A4C8-A03058436FF4",ih=Ze({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:qc},initialFocus:{type:Object,default:null},id:{type:String,default:null},role:{type:String,default:"dialog"}},emits:{close:t=>!0},setup(t,{emit:e,attrs:r,slots:n,expose:s}){var i,o;let a=(i=t.id)!=null?i:`headlessui-dialog-${bn()}`,l=H(!1);je(()=>{l.value=!0});let d=!1,h=te(()=>t.role==="dialog"||t.role==="alertdialog"?t.role:(d||(d=!0,console.warn(`Invalid role [${h}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")),f=H(0),p=ic(),y=te(()=>t.open===qc&&p!==null?(p.value&Lt.Open)===Lt.Open:t.open),b=H(null),k=te(()=>vs(b));if(s({el:b,$el:b}),!(t.open!==qc||p!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof y.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${y.value===qc?void 0:t.open}`);let _=te(()=>l.value&&y.value?0:1),T=te(()=>_.value===0),P=te(()=>f.value>1),E=it(wp,null)!==null,[R,A]=K7(),{resolveContainers:M,mainTreeNodeRef:I,MainTreeNode:v}=L7({portals:R,defaultContainers:[te(()=>{var ye;return(ye=U.panelRef.value)!=null?ye:b.value})]}),m=te(()=>P.value?"parent":"leaf"),w=te(()=>p!==null?(p.value&Lt.Closing)===Lt.Closing:!1),N=te(()=>E||w.value?!1:T.value),S=te(()=>{var ye,Se,Le;return(Le=Array.from((Se=(ye=k.value)==null?void 0:ye.querySelectorAll("body > *"))!=null?Se:[]).find(ot=>ot.id==="headlessui-portal-root"?!1:ot.contains(Ae(I))&&ot instanceof HTMLElement))!=null?Le:null});Db(S,N);let C=te(()=>P.value?!0:T.value),le=te(()=>{var ye,Se,Le;return(Le=Array.from((Se=(ye=k.value)==null?void 0:ye.querySelectorAll("[data-headlessui-portal]"))!=null?Se:[]).find(ot=>ot.contains(Ae(I))&&ot instanceof HTMLElement))!=null?Le:null});Db(le,C),j7({type:"Dialog",enabled:te(()=>_.value===0),element:b,onUpdate:(ye,Se)=>{if(Se==="Dialog")return ar(ye,{[bp.Add]:()=>f.value+=1,[bp.Remove]:()=>f.value-=1})}});let ce=q7({name:"DialogDescription",slot:te(()=>({open:y.value}))}),G=H(null),U={titleId:G,panelRef:H(null),dialogState:_,setTitleId(ye){G.value!==ye&&(G.value=ye)},close(){e("close",!1)}};Ht(wp,U);let ee=te(()=>!(!T.value||P.value));oE(M,(ye,Se)=>{ye.preventDefault(),U.close(),ir(()=>Se==null?void 0:Se.focus())},ee);let oe=te(()=>!(P.value||_.value!==0));uE((o=k.value)==null?void 0:o.defaultView,"keydown",ye=>{oe.value&&(ye.defaultPrevented||ye.key===Xe.Escape&&(ye.preventDefault(),ye.stopPropagation(),U.close()))});let we=te(()=>!(w.value||_.value!==0||E));return V7(k,we,ye=>{var Se;return{containers:[...(Se=ye.containers)!=null?Se:[],M]}}),lr(ye=>{if(_.value!==0)return;let Se=Ae(b);if(!Se)return;let Le=new ResizeObserver(ot=>{for(let Et of ot){let ft=Et.target.getBoundingClientRect();ft.x===0&&ft.y===0&&ft.width===0&&ft.height===0&&U.close()}});Le.observe(Se),ye(()=>Le.disconnect())}),()=>{let{open:ye,initialFocus:Se,...Le}=t,ot={...r,ref:b,id:a,role:h.value,"aria-modal":_.value===0?!0:void 0,"aria-labelledby":G.value,"aria-describedby":ce.value},Et={open:_.value===0};return yt(Mb,{force:!0},()=>[yt(W7,()=>yt(G7,{target:b.value},()=>yt(Mb,{force:!1},()=>yt(Pa,{initialFocus:Se,containers:M,features:T.value?ar(m.value,{parent:Pa.features.RestoreFocus,leaf:Pa.features.All&~Pa.features.FocusLock}):Pa.features.None},()=>yt(A,{},()=>$t({ourProps:ot,theirProps:{...Le,...r},slot:Et,attrs:r,slots:n,visible:_.value===0,features:qn.RenderStrategy|qn.Static,name:"Dialog"})))))),yt(v)])}}}),oh=Ze({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:null}},setup(t,{attrs:e,slots:r,expose:n}){var s;let i=(s=t.id)!=null?s:`headlessui-dialog-panel-${bn()}`,o=Cg("DialogPanel");n({el:o.panelRef,$el:o.panelRef});function a(l){l.stopPropagation()}return()=>{let{...l}=t,d={id:i,ref:o.panelRef,onClick:a};return $t({ourProps:d,theirProps:l,slot:{open:o.dialogState.value===0},attrs:e,slots:r,name:"DialogPanel"})}}}),yE=Ze({name:"DialogTitle",props:{as:{type:[Object,String],default:"h2"},id:{type:String,default:null}},setup(t,{attrs:e,slots:r}){var n;let s=(n=t.id)!=null?n:`headlessui-dialog-title-${bn()}`,i=Cg("DialogTitle");return je(()=>{i.setTitleId(s),Wt(()=>i.setTitleId(null))}),()=>{let{...o}=t;return $t({ourProps:{id:s},theirProps:o,slot:{open:i.dialogState.value===0},attrs:e,slots:r,name:"DialogTitle"})}}});var Y7=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(Y7||{});let vE=Symbol("DisclosureContext");function Pg(t){let e=it(vE,null);if(e===null){let r=new Error(`<${t} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Pg),r}return e}let bE=Symbol("DisclosurePanelContext");function J7(){return it(bE,null)}let Ju=Ze({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(t,{slots:e,attrs:r}){let n=H(t.defaultOpen?0:1),s=H(null),i=H(null),o={buttonId:H(`headlessui-disclosure-button-${bn()}`),panelId:H(`headlessui-disclosure-panel-${bn()}`),disclosureState:n,panel:s,button:i,toggleDisclosure(){n.value=ar(n.value,{0:1,1:0})},closeDisclosure(){n.value!==1&&(n.value=1)},close(a){o.closeDisclosure();let l=a?a instanceof HTMLElement?a:a.value instanceof HTMLElement?Ae(a):Ae(o.button):Ae(o.button);l==null||l.focus()}};return Ht(vE,o),Sg(te(()=>ar(n.value,{0:Lt.Open,1:Lt.Closed}))),()=>{let{defaultOpen:a,...l}=t,d={open:n.value===0,close:o.close};return $t({theirProps:l,ourProps:{},slot:d,slots:e,attrs:r,name:"Disclosure"})}}}),Xu=Ze({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(t,{attrs:e,slots:r,expose:n}){let s=Pg("DisclosureButton"),i=J7(),o=te(()=>i===null?!1:i.value===s.panelId.value);je(()=>{o.value||t.id!==null&&(s.buttonId.value=t.id)}),Wt(()=>{o.value||(s.buttonId.value=null)});let a=H(null);n({el:a,$el:a}),o.value||lr(()=>{s.button.value=a.value});let l=nh(te(()=>({as:t.as,type:e.type})),a);function d(){var p;t.disabled||(o.value?(s.toggleDisclosure(),(p=Ae(s.button))==null||p.focus()):s.toggleDisclosure())}function h(p){var y;if(!t.disabled)if(o.value)switch(p.key){case Xe.Space:case Xe.Enter:p.preventDefault(),p.stopPropagation(),s.toggleDisclosure(),(y=Ae(s.button))==null||y.focus();break}else switch(p.key){case Xe.Space:case Xe.Enter:p.preventDefault(),p.stopPropagation(),s.toggleDisclosure();break}}function f(p){switch(p.key){case Xe.Space:p.preventDefault();break}}return()=>{var p;let y={open:s.disclosureState.value===0},{id:b,...k}=t,_=o.value?{ref:a,type:l.value,onClick:d,onKeydown:h}:{id:(p=s.buttonId.value)!=null?p:b,ref:a,type:l.value,"aria-expanded":s.disclosureState.value===0,"aria-controls":s.disclosureState.value===0||Ae(s.panel)?s.panelId.value:void 0,disabled:t.disabled?!0:void 0,onClick:d,onKeydown:h,onKeyup:f};return $t({ourProps:_,theirProps:k,slot:y,attrs:e,slots:r,name:"DisclosureButton"})}}}),Zu=Ze({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(t,{attrs:e,slots:r,expose:n}){let s=Pg("DisclosurePanel");je(()=>{t.id!==null&&(s.panelId.value=t.id)}),Wt(()=>{s.panelId.value=null}),n({el:s.panel,$el:s.panel}),Ht(bE,s.panelId);let i=ic(),o=te(()=>i!==null?(i.value&Lt.Open)===Lt.Open:s.disclosureState.value===0);return()=>{var a;let l={open:s.disclosureState.value===0,close:s.close},{id:d,...h}=t,f={id:(a=s.panelId.value)!=null?a:d,ref:s.panel};return $t({ourProps:f,theirProps:h,slot:l,attrs:e,slots:r,features:qn.RenderStrategy|qn.Static,visible:o.value,name:"DisclosurePanel"})}}}),Lb=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Fb(t){var e,r;let n=(e=t.innerText)!=null?e:"",s=t.cloneNode(!0);if(!(s instanceof HTMLElement))return n;let i=!1;for(let a of s.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),i=!0;let o=i?(r=s.innerText)!=null?r:"":n;return Lb.test(o)&&(o=o.replace(Lb,"")),o}function X7(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let r=t.getAttribute("aria-labelledby");if(r){let n=r.split(" ").map(s=>{let i=document.getElementById(s);if(i){let o=i.getAttribute("aria-label");return typeof o=="string"?o.trim():Fb(i).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return Fb(t).trim()}function Z7(t){let e=H(""),r=H("");return()=>{let n=Ae(t);if(!n)return"";let s=n.innerText;if(e.value===s)return r.value;let i=X7(n).trim().toLowerCase();return e.value=s,r.value=i,i}}var e9=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(e9||{}),t9=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(t9||{});function r9(t){requestAnimationFrame(()=>requestAnimationFrame(t))}let xE=Symbol("MenuContext");function ah(t){let e=it(xE,null);if(e===null){let r=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,ah),r}return e}let _E=Ze({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(t,{slots:e,attrs:r}){let n=H(1),s=H(null),i=H(null),o=H([]),a=H(""),l=H(null),d=H(1);function h(p=y=>y){let y=l.value!==null?o.value[l.value]:null,b=bi(p(o.value.slice()),_=>Ae(_.dataRef.domRef)),k=y?b.indexOf(y):null;return k===-1&&(k=null),{items:b,activeItemIndex:k}}let f={menuState:n,buttonRef:s,itemsRef:i,items:o,searchQuery:a,activeItemIndex:l,activationTrigger:d,closeMenu:()=>{n.value=1,l.value=null},openMenu:()=>n.value=0,goToItem(p,y,b){let k=h(),_=E7(p===Zr.Specific?{focus:Zr.Specific,id:y}:{focus:p},{resolveItems:()=>k.items,resolveActiveIndex:()=>k.activeItemIndex,resolveId:T=>T.id,resolveDisabled:T=>T.dataRef.disabled});a.value="",l.value=_,d.value=b??1,o.value=k.items},search(p){let y=a.value!==""?0:1;a.value+=p.toLowerCase();let b=(l.value!==null?o.value.slice(l.value+y).concat(o.value.slice(0,l.value+y)):o.value).find(_=>_.dataRef.textValue.startsWith(a.value)&&!_.dataRef.disabled),k=b?o.value.indexOf(b):-1;k===-1||k===l.value||(l.value=k,d.value=1)},clearSearch(){a.value=""},registerItem(p,y){let b=h(k=>[...k,{id:p,dataRef:y}]);o.value=b.items,l.value=b.activeItemIndex,d.value=1},unregisterItem(p){let y=h(b=>{let k=b.findIndex(_=>_.id===p);return k!==-1&&b.splice(k,1),b});o.value=y.items,l.value=y.activeItemIndex,d.value=1}};return oE([s,i],(p,y)=>{var b;f.closeMenu(),Ag(y,Tg.Loose)||(p.preventDefault(),(b=Ae(s))==null||b.focus())},te(()=>n.value===0)),Ht(xE,f),Sg(te(()=>ar(n.value,{0:Lt.Open,1:Lt.Closed}))),()=>{let p={open:n.value===0,close:f.closeMenu};return $t({ourProps:{},theirProps:t,slot:p,slots:e,attrs:r,name:"Menu"})}}}),wE=Ze({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(t,{attrs:e,slots:r,expose:n}){var s;let i=(s=t.id)!=null?s:`headlessui-menu-button-${bn()}`,o=ah("MenuButton");n({el:o.buttonRef,$el:o.buttonRef});function a(f){switch(f.key){case Xe.Space:case Xe.Enter:case Xe.ArrowDown:f.preventDefault(),f.stopPropagation(),o.openMenu(),ir(()=>{var p;(p=Ae(o.itemsRef))==null||p.focus({preventScroll:!0}),o.goToItem(Zr.First)});break;case Xe.ArrowUp:f.preventDefault(),f.stopPropagation(),o.openMenu(),ir(()=>{var p;(p=Ae(o.itemsRef))==null||p.focus({preventScroll:!0}),o.goToItem(Zr.Last)});break}}function l(f){switch(f.key){case Xe.Space:f.preventDefault();break}}function d(f){t.disabled||(o.menuState.value===0?(o.closeMenu(),ir(()=>{var p;return(p=Ae(o.buttonRef))==null?void 0:p.focus({preventScroll:!0})})):(f.preventDefault(),o.openMenu(),r9(()=>{var p;return(p=Ae(o.itemsRef))==null?void 0:p.focus({preventScroll:!0})})))}let h=nh(te(()=>({as:t.as,type:e.type})),o.buttonRef);return()=>{var f;let p={open:o.menuState.value===0},{...y}=t,b={ref:o.buttonRef,id:i,type:h.value,"aria-haspopup":"menu","aria-controls":(f=Ae(o.itemsRef))==null?void 0:f.id,"aria-expanded":o.menuState.value===0,onKeydown:a,onKeyup:l,onClick:d};return $t({ourProps:b,theirProps:y,slot:p,attrs:e,slots:r,name:"MenuButton"})}}}),kE=Ze({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(t,{attrs:e,slots:r,expose:n}){var s;let i=(s=t.id)!=null?s:`headlessui-menu-items-${bn()}`,o=ah("MenuItems"),a=H(null);n({el:o.itemsRef,$el:o.itemsRef}),v7({container:te(()=>Ae(o.itemsRef)),enabled:te(()=>o.menuState.value===0),accept(p){return p.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:p.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(p){p.setAttribute("role","none")}});function l(p){var y;switch(a.value&&clearTimeout(a.value),p.key){case Xe.Space:if(o.searchQuery.value!=="")return p.preventDefault(),p.stopPropagation(),o.search(p.key);case Xe.Enter:if(p.preventDefault(),p.stopPropagation(),o.activeItemIndex.value!==null){let b=o.items.value[o.activeItemIndex.value];(y=Ae(b.dataRef.domRef))==null||y.click()}o.closeMenu(),nE(Ae(o.buttonRef));break;case Xe.ArrowDown:return p.preventDefault(),p.stopPropagation(),o.goToItem(Zr.Next);case Xe.ArrowUp:return p.preventDefault(),p.stopPropagation(),o.goToItem(Zr.Previous);case Xe.Home:case Xe.PageUp:return p.preventDefault(),p.stopPropagation(),o.goToItem(Zr.First);case Xe.End:case Xe.PageDown:return p.preventDefault(),p.stopPropagation(),o.goToItem(Zr.Last);case Xe.Escape:p.preventDefault(),p.stopPropagation(),o.closeMenu(),ir(()=>{var b;return(b=Ae(o.buttonRef))==null?void 0:b.focus({preventScroll:!0})});break;case Xe.Tab:p.preventDefault(),p.stopPropagation(),o.closeMenu(),ir(()=>p7(Ae(o.buttonRef),p.shiftKey?jt.Previous:jt.Next));break;default:p.key.length===1&&(o.search(p.key),a.value=setTimeout(()=>o.clearSearch(),350));break}}function d(p){switch(p.key){case Xe.Space:p.preventDefault();break}}let h=ic(),f=te(()=>h!==null?(h.value&Lt.Open)===Lt.Open:o.menuState.value===0);return()=>{var p,y;let b={open:o.menuState.value===0},{...k}=t,_={"aria-activedescendant":o.activeItemIndex.value===null||(p=o.items.value[o.activeItemIndex.value])==null?void 0:p.id,"aria-labelledby":(y=Ae(o.buttonRef))==null?void 0:y.id,id:i,onKeydown:l,onKeyup:d,role:"menu",tabIndex:0,ref:o.itemsRef};return $t({ourProps:_,theirProps:k,slot:b,attrs:e,slots:r,features:qn.RenderStrategy|qn.Static,visible:f.value,name:"MenuItems"})}}}),Wa=Ze({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(t,{slots:e,attrs:r,expose:n}){var s;let i=(s=t.id)!=null?s:`headlessui-menu-item-${bn()}`,o=ah("MenuItem"),a=H(null);n({el:a,$el:a});let l=te(()=>o.activeItemIndex.value!==null?o.items.value[o.activeItemIndex.value].id===i:!1),d=Z7(a),h=te(()=>({disabled:t.disabled,get textValue(){return d()},domRef:a}));je(()=>o.registerItem(i,h)),Wt(()=>o.unregisterItem(i)),lr(()=>{o.menuState.value===0&&l.value&&o.activationTrigger.value!==0&&ir(()=>{var T,P;return(P=(T=Ae(a))==null?void 0:T.scrollIntoView)==null?void 0:P.call(T,{block:"nearest"})})});function f(T){if(t.disabled)return T.preventDefault();o.closeMenu(),nE(Ae(o.buttonRef))}function p(){if(t.disabled)return o.goToItem(Zr.Nothing);o.goToItem(Zr.Specific,i)}let y=y7();function b(T){y.update(T)}function k(T){y.wasMoved(T)&&(t.disabled||l.value||o.goToItem(Zr.Specific,i,0))}function _(T){y.wasMoved(T)&&(t.disabled||l.value&&o.goToItem(Zr.Nothing))}return()=>{let{disabled:T,...P}=t,E={active:l.value,disabled:T,close:o.closeMenu};return $t({ourProps:{id:i,ref:a,role:"menuitem",tabIndex:T===!0?void 0:-1,"aria-disabled":T===!0?!0:void 0,onClick:f,onFocus:p,onPointerenter:b,onMouseenter:b,onPointermove:k,onMousemove:k,onPointerleave:_,onMouseleave:_},theirProps:{...r,...P},slot:E,attrs:r,slots:e,name:"MenuItem"})}}}),n9=Symbol("GroupContext"),s9=Ze({name:"Switch",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:null},disabled:{type:Boolean,default:!1},tabIndex:{type:Number,default:0}},inheritAttrs:!1,setup(t,{emit:e,attrs:r,slots:n,expose:s}){var i;let o=(i=t.id)!=null?i:`headlessui-switch-${bn()}`,a=it(n9,null),[l,d]=s7(te(()=>t.modelValue),P=>e("update:modelValue",P),te(()=>t.defaultChecked));function h(){d(!l.value)}let f=H(null),p=a===null?f:a.switchRef,y=nh(te(()=>({as:t.as,type:r.type})),p);s({el:p,$el:p});function b(P){P.preventDefault(),h()}function k(P){P.key===Xe.Space?(P.preventDefault(),h()):P.key===Xe.Enter&&I7(P.currentTarget)}function _(P){P.preventDefault()}let T=te(()=>{var P,E;return(E=(P=Ae(p))==null?void 0:P.closest)==null?void 0:E.call(P,"form")});return je(()=>{Rt([T],()=>{if(!T.value||t.defaultChecked===void 0)return;function P(){d(t.defaultChecked)}return T.value.addEventListener("reset",P),()=>{var E;(E=T.value)==null||E.removeEventListener("reset",P)}},{immediate:!0})}),()=>{let{name:P,value:E,form:R,tabIndex:A,...M}=t,I={checked:l.value},v={id:o,ref:p,role:"switch",type:y.value,tabIndex:A===-1?0:A,"aria-checked":l.value,"aria-labelledby":a==null?void 0:a.labelledby.value,"aria-describedby":a==null?void 0:a.describedby.value,onClick:b,onKeyup:k,onKeypress:_};return yt(ke,[P!=null&&l.value!=null?yt(ta,b7({features:ea.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:l.value,form:R,disabled:M.disabled,name:P,value:E})):null,$t({ourProps:v,theirProps:{...r,...sh(M,["modelValue","defaultChecked"])},slot:I,attrs:r,slots:n,name:"Switch"})])}}}),i9=Ze({props:{onFocus:{type:Function,required:!0}},setup(t){let e=H(!0);return()=>e.value?yt(ta,{as:"button",type:"button",features:ea.Focusable,onFocus(r){r.preventDefault();let n,s=50;function i(){var o;if(s--<=0){n&&cancelAnimationFrame(n);return}if((o=t.onFocus)!=null&&o.call(t)){e.value=!1,cancelAnimationFrame(n);return}n=requestAnimationFrame(i)}n=requestAnimationFrame(i)}}):null}});var o9=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(o9||{}),a9=(t=>(t[t.Less=-1]="Less",t[t.Equal=0]="Equal",t[t.Greater=1]="Greater",t))(a9||{});let EE=Symbol("TabsContext");function oc(t){let e=it(EE,null);if(e===null){let r=new Error(`<${t} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,oc),r}return e}let Rg=Symbol("TabsSSRContext"),l9=Ze({name:"TabGroup",emits:{change:t=>!0},props:{as:{type:[Object,String],default:"template"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(t,{slots:e,attrs:r,emit:n}){var s;let i=H((s=t.selectedIndex)!=null?s:t.defaultIndex),o=H([]),a=H([]),l=te(()=>t.selectedIndex!==null),d=te(()=>l.value?t.selectedIndex:i.value);function h(k){var _;let T=bi(f.tabs.value,Ae),P=bi(f.panels.value,Ae),E=T.filter(R=>{var A;return!((A=Ae(R))!=null&&A.hasAttribute("disabled"))});if(k<0||k>T.length-1){let R=ar(i.value===null?0:Math.sign(k-i.value),{[-1]:()=>1,0:()=>ar(Math.sign(k),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0}),A=ar(R,{0:()=>T.indexOf(E[0]),1:()=>T.indexOf(E[E.length-1])});A!==-1&&(i.value=A),f.tabs.value=T,f.panels.value=P}else{let R=T.slice(0,k),A=[...T.slice(k),...R].find(I=>E.includes(I));if(!A)return;let M=(_=T.indexOf(A))!=null?_:f.selectedIndex.value;M===-1&&(M=f.selectedIndex.value),i.value=M,f.tabs.value=T,f.panels.value=P}}let f={selectedIndex:te(()=>{var k,_;return(_=(k=i.value)!=null?k:t.defaultIndex)!=null?_:null}),orientation:te(()=>t.vertical?"vertical":"horizontal"),activation:te(()=>t.manual?"manual":"auto"),tabs:o,panels:a,setSelectedIndex(k){d.value!==k&&n("change",k),l.value||h(k)},registerTab(k){var _;if(o.value.includes(k))return;let T=o.value[i.value];if(o.value.push(k),o.value=bi(o.value,Ae),!l.value){let P=(_=o.value.indexOf(T))!=null?_:i.value;P!==-1&&(i.value=P)}},unregisterTab(k){let _=o.value.indexOf(k);_!==-1&&o.value.splice(_,1)},registerPanel(k){a.value.includes(k)||(a.value.push(k),a.value=bi(a.value,Ae))},unregisterPanel(k){let _=a.value.indexOf(k);_!==-1&&a.value.splice(_,1)}};Ht(EE,f);let p=H({tabs:[],panels:[]}),y=H(!1);je(()=>{y.value=!0}),Ht(Rg,te(()=>y.value?null:p.value));let b=te(()=>t.selectedIndex);return je(()=>{Rt([b],()=>{var k;return h((k=t.selectedIndex)!=null?k:t.defaultIndex)},{immediate:!0})}),lr(()=>{if(!l.value||d.value==null||f.tabs.value.length<=0)return;let k=bi(f.tabs.value,Ae);k.some((_,T)=>Ae(f.tabs.value[T])!==Ae(_))&&f.setSelectedIndex(k.findIndex(_=>Ae(_)===Ae(f.tabs.value[d.value])))}),()=>{let k={selectedIndex:i.value};return yt(ke,[o.value.length<=0&&yt(i9,{onFocus:()=>{for(let _ of o.value){let T=Ae(_);if((T==null?void 0:T.tabIndex)===0)return T.focus(),!0}return!1}}),$t({theirProps:{...r,...sh(t,["selectedIndex","defaultIndex","manual","vertical","onChange"])},ourProps:{},slot:k,slots:e,attrs:r,name:"TabGroup"})])}}}),c9=Ze({name:"TabList",props:{as:{type:[Object,String],default:"div"}},setup(t,{attrs:e,slots:r}){let n=oc("TabList");return()=>{let s={selectedIndex:n.selectedIndex.value},i={role:"tablist","aria-orientation":n.orientation.value};return $t({ourProps:i,theirProps:t,slot:s,attrs:e,slots:r,name:"TabList"})}}}),Ub=Ze({name:"Tab",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(t,{attrs:e,slots:r,expose:n}){var s;let i=(s=t.id)!=null?s:`headlessui-tabs-tab-${bn()}`,o=oc("Tab"),a=H(null);n({el:a,$el:a}),je(()=>o.registerTab(a)),Wt(()=>o.unregisterTab(a));let l=it(Rg),d=te(()=>{if(l.value){let P=l.value.tabs.indexOf(i);return P===-1?l.value.tabs.push(i)-1:P}return-1}),h=te(()=>{let P=o.tabs.value.indexOf(a);return P===-1?d.value:P}),f=te(()=>h.value===o.selectedIndex.value);function p(P){var E;let R=P();if(R===Io.Success&&o.activation.value==="auto"){let A=(E=vs(a))==null?void 0:E.activeElement,M=o.tabs.value.findIndex(I=>Ae(I)===A);M!==-1&&o.setSelectedIndex(M)}return R}function y(P){let E=o.tabs.value.map(R=>Ae(R)).filter(Boolean);if(P.key===Xe.Space||P.key===Xe.Enter){P.preventDefault(),P.stopPropagation(),o.setSelectedIndex(h.value);return}switch(P.key){case Xe.Home:case Xe.PageUp:return P.preventDefault(),P.stopPropagation(),p(()=>kn(E,jt.First));case Xe.End:case Xe.PageDown:return P.preventDefault(),P.stopPropagation(),p(()=>kn(E,jt.Last))}if(p(()=>ar(o.orientation.value,{vertical(){return P.key===Xe.ArrowUp?kn(E,jt.Previous|jt.WrapAround):P.key===Xe.ArrowDown?kn(E,jt.Next|jt.WrapAround):Io.Error},horizontal(){return P.key===Xe.ArrowLeft?kn(E,jt.Previous|jt.WrapAround):P.key===Xe.ArrowRight?kn(E,jt.Next|jt.WrapAround):Io.Error}}))===Io.Success)return P.preventDefault()}let b=H(!1);function k(){var P;b.value||(b.value=!0,!t.disabled&&((P=Ae(a))==null||P.focus({preventScroll:!0}),o.setSelectedIndex(h.value),rh(()=>{b.value=!1})))}function _(P){P.preventDefault()}let T=nh(te(()=>({as:t.as,type:e.type})),a);return()=>{var P,E;let R={selected:f.value,disabled:(P=t.disabled)!=null?P:!1},{...A}=t,M={ref:a,onKeydown:y,onMousedown:_,onClick:k,id:i,role:"tab",type:T.value,"aria-controls":(E=Ae(o.panels.value[h.value]))==null?void 0:E.id,"aria-selected":f.value,tabIndex:f.value?0:-1,disabled:t.disabled?!0:void 0};return $t({ourProps:M,theirProps:A,slot:R,attrs:e,slots:r,name:"Tab"})}}}),u9=Ze({name:"TabPanels",props:{as:{type:[Object,String],default:"div"}},setup(t,{slots:e,attrs:r}){let n=oc("TabPanels");return()=>{let s={selectedIndex:n.selectedIndex.value};return $t({theirProps:t,ourProps:{},slot:s,attrs:r,slots:e,name:"TabPanels"})}}}),jb=Ze({name:"TabPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null},tabIndex:{type:Number,default:0}},setup(t,{attrs:e,slots:r,expose:n}){var s;let i=(s=t.id)!=null?s:`headlessui-tabs-panel-${bn()}`,o=oc("TabPanel"),a=H(null);n({el:a,$el:a}),je(()=>o.registerPanel(a)),Wt(()=>o.unregisterPanel(a));let l=it(Rg),d=te(()=>{if(l.value){let p=l.value.panels.indexOf(i);return p===-1?l.value.panels.push(i)-1:p}return-1}),h=te(()=>{let p=o.panels.value.indexOf(a);return p===-1?d.value:p}),f=te(()=>h.value===o.selectedIndex.value);return()=>{var p;let y={selected:f.value},{tabIndex:b,...k}=t,_={ref:a,id:i,role:"tabpanel","aria-labelledby":(p=Ae(o.tabs.value[h.value]))==null?void 0:p.id,tabIndex:f.value?b:-1};return!f.value&&t.unmount&&!t.static?yt(ta,{as:"span","aria-hidden":!0,..._}):$t({ourProps:_,theirProps:k,slot:y,attrs:e,slots:r,features:qn.Static|qn.RenderStrategy,visible:f.value,name:"TabPanel"})}}});function d9(t){let e={called:!1};return(...r)=>{if(!e.called)return e.called=!0,t(...r)}}function uf(t,...e){t&&e.length>0&&t.classList.add(...e)}function Hc(t,...e){t&&e.length>0&&t.classList.remove(...e)}var kp=(t=>(t.Finished="finished",t.Cancelled="cancelled",t))(kp||{});function h9(t,e){let r=nc();if(!t)return r.dispose;let{transitionDuration:n,transitionDelay:s}=getComputedStyle(t),[i,o]=[n,s].map(a=>{let[l=0]=a.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,h)=>h-d);return l});return i!==0?r.setTimeout(()=>e("finished"),i+o):e("finished"),r.add(()=>e("cancelled")),r.dispose}function Bb(t,e,r,n,s,i){let o=nc(),a=i!==void 0?d9(i):()=>{};return Hc(t,...s),uf(t,...e,...r),o.nextFrame(()=>{Hc(t,...r),uf(t,...n),o.add(h9(t,l=>(Hc(t,...n,...e),uf(t,...s),a(l))))}),o.add(()=>Hc(t,...e,...r,...n,...s)),o.add(()=>a("cancelled")),o.dispose}function mi(t=""){return t.split(/\s+/).filter(e=>e.length>1)}let Ng=Symbol("TransitionContext");var f9=(t=>(t.Visible="visible",t.Hidden="hidden",t))(f9||{});function p9(){return it(Ng,null)!==null}function m9(){let t=it(Ng,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}function g9(){let t=it($g,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}let $g=Symbol("NestingContext");function lh(t){return"children"in t?lh(t.children):t.value.filter(({state:e})=>e==="visible").length>0}function IE(t){let e=H([]),r=H(!1);je(()=>r.value=!0),Wt(()=>r.value=!1);function n(i,o=Bs.Hidden){let a=e.value.findIndex(({id:l})=>l===i);a!==-1&&(ar(o,{[Bs.Unmount](){e.value.splice(a,1)},[Bs.Hidden](){e.value[a].state="hidden"}}),!lh(e)&&r.value&&(t==null||t()))}function s(i){let o=e.value.find(({id:a})=>a===i);return o?o.state!=="visible"&&(o.state="visible"):e.value.push({id:i,state:"visible"}),()=>n(i,Bs.Unmount)}return{children:e,register:s,unregister:n}}let TE=qn.RenderStrategy,ps=Ze({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:r,slots:n,expose:s}){let i=H(0);function o(){i.value|=Lt.Opening,e("beforeEnter")}function a(){i.value&=~Lt.Opening,e("afterEnter")}function l(){i.value|=Lt.Closing,e("beforeLeave")}function d(){i.value&=~Lt.Closing,e("afterLeave")}if(!p9()&&_7())return()=>yt(dn,{...t,onBeforeEnter:o,onAfterEnter:a,onBeforeLeave:l,onAfterLeave:d},n);let h=H(null),f=te(()=>t.unmount?Bs.Unmount:Bs.Hidden);s({el:h,$el:h});let{show:p,appear:y}=m9(),{register:b,unregister:k}=g9(),_=H(p.value?"visible":"hidden"),T={value:!0},P=bn(),E={value:!1},R=IE(()=>{!E.value&&_.value!=="hidden"&&(_.value="hidden",k(P),d())});je(()=>{let C=b(P);Wt(C)}),lr(()=>{if(f.value===Bs.Hidden&&P){if(p.value&&_.value!=="visible"){_.value="visible";return}ar(_.value,{hidden:()=>k(P),visible:()=>b(P)})}});let A=mi(t.enter),M=mi(t.enterFrom),I=mi(t.enterTo),v=mi(t.entered),m=mi(t.leave),w=mi(t.leaveFrom),N=mi(t.leaveTo);je(()=>{lr(()=>{if(_.value==="visible"){let C=Ae(h);if(C instanceof Comment&&C.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function S(C){let le=T.value&&!y.value,ce=Ae(h);!ce||!(ce instanceof HTMLElement)||le||(E.value=!0,p.value&&o(),p.value||l(),C(p.value?Bb(ce,A,M,I,v,G=>{E.value=!1,G===kp.Finished&&a()}):Bb(ce,m,w,N,v,G=>{E.value=!1,G===kp.Finished&&(lh(R)||(_.value="hidden",k(P),d()))})))}return je(()=>{Rt([p],(C,le,ce)=>{S(ce),T.value=!1},{immediate:!0})}),Ht($g,R),Sg(te(()=>ar(_.value,{visible:Lt.Open,hidden:Lt.Closed})|i.value)),()=>{let{appear:C,show:le,enter:ce,enterFrom:G,enterTo:U,entered:ee,leave:oe,leaveFrom:we,leaveTo:ye,...Se}=t,Le={ref:h},ot={...Se,...y.value&&p.value&&sc.isServer?{class:$e([r.class,Se.class,...A,...M])}:{}};return $t({theirProps:ot,ourProps:Le,slot:{},slots:n,attrs:r,features:TE,visible:_.value==="visible",name:"TransitionChild"})}}}),y9=ps,dn=Ze({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:r,slots:n}){let s=ic(),i=te(()=>t.show===null&&s!==null?(s.value&Lt.Open)===Lt.Open:t.show);lr(()=>{if(![!0,!1].includes(i.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let o=H(i.value?"visible":"hidden"),a=IE(()=>{o.value="hidden"}),l=H(!0),d={show:i,appear:te(()=>t.appear||!l.value)};return je(()=>{lr(()=>{l.value=!1,i.value?o.value="visible":lh(a)||(o.value="hidden")})}),Ht($g,a),Ht(Ng,d),()=>{let h=sh(t,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),f={unmount:t.unmount};return $t({ourProps:{...f,as:"template"},theirProps:{},slot:{},slots:{...n,default:()=>[yt(y9,{onBeforeEnter:()=>e("beforeEnter"),onAfterEnter:()=>e("afterEnter"),onBeforeLeave:()=>e("beforeLeave"),onAfterLeave:()=>e("afterLeave"),...r,...f,...h},n.default)]},attrs:{},features:TE,visible:o.value==="visible",name:"Transition"})}}});function v9(t,e){return O(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})])}function b9(t,e){return O(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})])}function x9(t,e){return O(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"})])}function _9(t,e){return O(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"})])}function w9(t,e){return O(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})])}function ed(t,e){return O(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function qb(t,e){return O(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 12.75 6 6 9-13.5"})])}function k9(t,e){return O(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})])}function AE(t,e){return O(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})])}function E9(t,e){return O(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"})])}function I9(t,e){return O(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function T9(t,e){return O(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})])}function A9(t,e){return O(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})])}function S9(t,e){return O(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})])}function C9(t,e){return O(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.182 16.318A4.486 4.486 0 0 0 12.016 15a4.486 4.486 0 0 0-3.198 1.318M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0ZM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Z"})])}function P9(t,e){return O(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})])}function R9(t,e){return O(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})])}function N9(t,e){return O(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})])}function df(t,e){return O(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})])}function Hb(t,e){return O(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"})])}function SE(t,e){return O(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"})])}function $9(t,e){return O(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"})])}function cu(t,e){return O(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})])}function zb(t,e){return O(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"})])}function O9(t,e){return O(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})])}function ch(t,e){return O(),j("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})])}function D9(t,e){return O(),j("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"fill-rule":"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})])}function CE(t,e){return O(),j("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{d:"M3 4a2 2 0 0 0-2 2v1.161l8.441 4.221a1.25 1.25 0 0 0 1.118 0L19 7.162V6a2 2 0 0 0-2-2H3Z"}),c("path",{d:"m19 8.839-7.77 3.885a2.75 2.75 0 0 1-2.46 0L1 8.839V14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.839Z"})])}function Ep(t,e){return O(),j("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm-8-5a.75.75 0 0 1 .75.75v4.5a.75.75 0 0 1-1.5 0v-4.5A.75.75 0 0 1 10 5Zm0 10a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z","clip-rule":"evenodd"})])}function M9(t,e){return O(),j("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"fill-rule":"evenodd",d:"M2.628 1.601C5.028 1.206 7.49 1 10 1s4.973.206 7.372.601a.75.75 0 0 1 .628.74v2.288a2.25 2.25 0 0 1-.659 1.59l-4.682 4.683a2.25 2.25 0 0 0-.659 1.59v3.037c0 .684-.31 1.33-.844 1.757l-1.937 1.55A.75.75 0 0 1 8 18.25v-5.757a2.25 2.25 0 0 0-.659-1.591L2.659 6.22A2.25 2.25 0 0 1 2 4.629V2.34a.75.75 0 0 1 .628-.74Z","clip-rule":"evenodd"})])}function Ip(t,e){return O(),j("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"fill-rule":"evenodd",d:"M10 1a4.5 4.5 0 0 0-4.5 4.5V9H5a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2h-.5V5.5A4.5 4.5 0 0 0 10 1Zm3 8V5.5a3 3 0 1 0-6 0V9h6Z","clip-rule":"evenodd"})])}function Wb(t,e){return O(),j("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"fill-rule":"evenodd",d:"M4 10a.75.75 0 0 1 .75-.75h10.5a.75.75 0 0 1 0 1.5H4.75A.75.75 0 0 1 4 10Z","clip-rule":"evenodd"})])}function Kb(t,e){return O(),j("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{d:"M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5Z"})])}function V9(t,e){return O(),j("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"fill-rule":"evenodd",d:"M4.25 2A2.25 2.25 0 0 0 2 4.25v2.5A2.25 2.25 0 0 0 4.25 9h2.5A2.25 2.25 0 0 0 9 6.75v-2.5A2.25 2.25 0 0 0 6.75 2h-2.5Zm0 9A2.25 2.25 0 0 0 2 13.25v2.5A2.25 2.25 0 0 0 4.25 18h2.5A2.25 2.25 0 0 0 9 15.75v-2.5A2.25 2.25 0 0 0 6.75 11h-2.5Zm9-9A2.25 2.25 0 0 0 11 4.25v2.5A2.25 2.25 0 0 0 13.25 9h2.5A2.25 2.25 0 0 0 18 6.75v-2.5A2.25 2.25 0 0 0 15.75 2h-2.5Zm0 9A2.25 2.25 0 0 0 11 13.25v2.5A2.25 2.25 0 0 0 13.25 18h2.5A2.25 2.25 0 0 0 18 15.75v-2.5A2.25 2.25 0 0 0 15.75 11h-2.5Z","clip-rule":"evenodd"})])}function Gb(t,e){return O(),j("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{d:"M10 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM3.465 14.493a1.23 1.23 0 0 0 .41 1.412A9.957 9.957 0 0 0 10 18c2.31 0 4.438-.784 6.131-2.1.43-.333.604-.903.408-1.41a7.002 7.002 0 0 0-13.074.003Z"})])}const L9={class:"min-h-screen bg-light-primary dark:bg-dark-secondary"},F9={class:"fixed inset-0 z-40 flex"},U9={class:"flex items-center justify-between px-4"},j9={class:"mt-4 border-t border-light-neutral-200 dark:border-dark-neutral-700"},B9={role:"list",class:"px-2 py-3 font-medium text-light-text-primary dark:text-dark-text-primary"},q9=["onClick"],H9={class:"-mx-2 -my-3 flow-root"},z9={class:"font-medium text-light-text-primary dark:text-dark-text-primary"},W9={class:"ml-6 flex items-center"},K9={class:"space-y-6"},G9={class:"flex h-5 shrink-0 items-center"},Q9={class:"group grid size-4 grid-cols-1"},Y9=["id","name","value","checked","onChange"],J9=["for"],X9={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},Z9={class:"flex items-baseline justify-between border-b border-light-neutral-200 dark:border-dark-neutral-700 pt-24 pb-6"},eV={class:"flex items-center"},tV={class:"py-1"},rV=["onClick"],nV={type:"button",class:"-m-2 ml-5 p-2 text-light-neutral-400 dark:text-dark-neutral-600 hover:text-light-neutral-500 dark:hover:text-dark-neutral-500 sm:ml-7"},sV={"aria-labelledby":"products-heading",class:"pt-6 pb-24"},iV={class:"grid grid-cols-1 gap-x-8 gap-y-10 lg:grid-cols-4"},oV={class:"hidden lg:block"},aV={role:"list",class:"space-y-4 border-b border-light-neutral-200 dark:border-dark-neutral-700 pb-6 text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},lV=["onClick"],cV={class:"mt-2"},uV={class:"-my-3 flow-root"},dV={class:"font-medium text-light-text-primary dark:text-dark-text-primary"},hV={class:"ml-6 flex items-center"},fV={class:"space-y-4"},pV={class:"flex h-5 shrink-0 items-center"},mV={class:"group grid size-4 grid-cols-1"},gV=["id","name","value","checked","onChange"],yV=["for"],vV={class:"lg:col-span-3"},bV={key:0,class:"text-center py-8"},xV={key:1,class:"text-center py-8"},_V={key:2,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},wV={__name:"ProductsView",setup(t){const e=H([]),r=H([]),n=H(!0);ro();const s=H(!1),i=H(null),o=H(null),a=gn({metal:[],category:[],price:[]}),l=[{name:"Most Popular",href:"#",current:!0},{name:"Best Rating",href:"#",current:!1},{name:"Newest",href:"#",current:!1},{name:"Price: Low to High",href:"#",current:!1,sort:(P,E)=>P.price-E.price},{name:"Price: High to Low",href:"#",current:!1,sort:(P,E)=>E.price-P.price}],d=H(l[0]),h=[{name:"Beaded Jewelry",href:"#",value:"Beaded Jewelry"},{name:"String Jewelry",href:"#",value:"String Jewelry"},{name:"Metal Jewelry",href:"#",value:"Metal Jewelry"},{name:"Gemstones",href:"#",value:"Gemstones"},{name:"Earrings",href:"#",value:"Earrings"},{name:"Necklaces",href:"#",value:"Necklaces"},{name:"Bracelets",href:"#",value:"Bracelets"},{name:"Rings",href:"#",value:"Rings"}],f=[{id:"metal",name:"Metal Type",options:[{value:"gold",label:"Gold",checked:!1},{value:"silver",label:"Sterling Silver",checked:!1},{value:"rose-gold",label:"Rose Gold",checked:!1},{value:"beads",label:"Glass Beads",checked:!1},{value:"gemstones",label:"Gemstones",checked:!1},{value:"pearls",label:"Pearls",checked:!1}]},{id:"style",name:"Style",options:[{value:"handcrafted",label:"Handcrafted",checked:!1},{value:"modern",label:"Modern",checked:!1},{value:"traditional",label:"Traditional",checked:!1},{value:"luxury",label:"Luxury",checked:!1}]},{id:"price",name:"Price Range",options:[{value:"under-5000",label:"Under KES 5,000",checked:!1},{value:"5000-10000",label:"KES 5,000 - 10,000",checked:!1},{value:"10000-20000",label:"KES 10,000 - 20,000",checked:!1},{value:"20000-plus",label:"KES 20,000+",checked:!1}]}],p=te(()=>{let P=[...r.value];return a.metal.length>0&&(P=P.filter(E=>a.metal.includes(E.metal))),a.category.length>0&&(P=P.filter(E=>E.tags&&E.tags.some(R=>a.category.includes(R)))),a.price.length>0&&(P=P.filter(E=>{const R=E.price;return a.price.some(A=>A==="under-5000"?R<5e3:A==="5000-10000"?R>=5e3&&R<=1e4:A==="10000-20000"?R>=1e4&&R<=2e4:A==="20000-plus"?R>2e4:!1)})),d.value.sort&&(P=[...P].sort(d.value.sort)),P}),y=()=>{e.value=p.value},b=(P,E)=>{const R=a[P],A=R.indexOf(E);A===-1?R.push(E):R.splice(A,1),f.forEach(M=>{M.id===P&&M.options.forEach(I=>{I.checked=R.includes(I.value)})}),y()},k=P=>{a.category=[],e.value=r.value.filter(E=>E.category===P)},_=P=>{l.forEach(E=>E.current=E===P),d.value=P,y()};je(async()=>{n.value=!0;try{const P=await T();if(P.length>0)console.log("Loaded products from Firestore:",P.length),r.value=P,e.value=P;else{console.log("No products in Firestore, using mock data");const E=await Eo.getProducts();r.value=E||[],e.value=E||[]}console.log("Total products loaded:",e.value.length)}catch(P){console.error("Error loading products:",P),r.value=[],e.value=[]}finally{n.value=!1}});const T=async()=>{try{if(!He.getFirestore())return[];const E=He.getCollection("products"),R=await He.getDocuments(E);return R.empty?[]:R.docs.map(A=>{const M=A.data();return{id:A.id,...M,name:M.name||"Unnamed Product",price:M.price||0,category:M.category||"Uncategorized",description:M.description||"",images:M.images||[],image:M.images&&M.images.length>0?M.images[0].startsWith("base64://")?M.images[0].replace("base64://",""):M.images[0]:"https://via.placeholder.com/300x300?text=No+Image"}})}catch(P){return console.error("Error loading products from Firestore:",P),[]}};return(P,E)=>{var R;return O(),j("div",L9,[i.value?(O(),j("div",{key:0,class:"cart-animation fixed pointer-events-none z-50",ref_key:"cartAnimationEl",ref:o,style:St({backgroundImage:`url(${(R=i.value)==null?void 0:R.image})`})},null,4)):fe("",!0),c("div",null,[z(q(dn),{as:"template",show:s.value},{default:Z(()=>[z(q(ih),{class:"relative z-40 lg:hidden",onClose:E[1]||(E[1]=A=>s.value=!1)},{default:Z(()=>[z(q(ps),{as:"template",enter:"transition-opacity ease-linear duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-linear duration-300","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Z(()=>E[4]||(E[4]=[c("div",{class:"fixed inset-0 bg-black/25"},null,-1)])),_:1}),c("div",F9,[z(q(ps),{as:"template",enter:"transition ease-in-out duration-300 transform","enter-from":"translate-x-full","enter-to":"translate-x-0",leave:"transition ease-in-out duration-300 transform","leave-from":"translate-x-0","leave-to":"translate-x-full"},{default:Z(()=>[z(q(oh),{class:"relative ml-auto flex size-full max-w-xs flex-col overflow-y-auto bg-light-secondary dark:bg-dark-secondary py-4 pb-12 shadow-xl"},{default:Z(()=>[c("div",U9,[E[6]||(E[6]=c("h2",{class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary"},"Filters",-1)),c("button",{type:"button",class:"-mr-2 flex size-10 items-center justify-center rounded-md bg-light-secondary dark:bg-dark-secondary p-2 text-light-neutral-500 dark:text-dark-neutral-500",onClick:E[0]||(E[0]=A=>s.value=!1)},[E[5]||(E[5]=c("span",{class:"sr-only"},"Close menu",-1)),z(q(ch),{class:"size-6","aria-hidden":"true"})])]),c("form",j9,[E[8]||(E[8]=c("h3",{class:"sr-only"},"Categories",-1)),c("ul",B9,[(O(),j(ke,null,qe(h,A=>c("li",{key:A.name},[c("a",{href:"#",onClick:Vr(M=>k(A.value),["prevent"]),class:"block px-2 py-3"},K(A.name),9,q9)])),64))]),(O(),j(ke,null,qe(f,A=>z(q(Ju),{as:"div",key:A.id,class:"border-t border-light-neutral-200 dark:border-dark-neutral-700 px-4 py-6"},{default:Z(({open:M})=>[c("h3",H9,[z(q(Xu),{class:"flex w-full items-center justify-between bg-light-secondary dark:bg-dark-secondary px-2 py-3 text-light-neutral-500 dark:text-dark-neutral-500 hover:text-light-neutral-700 dark:hover:text-dark-neutral-300"},{default:Z(()=>[c("span",z9,K(A.name),1),c("span",W9,[M?(O(),mt(q(Wb),{key:1,class:"size-5","aria-hidden":"true"})):(O(),mt(q(Kb),{key:0,class:"size-5","aria-hidden":"true"}))])]),_:2},1024)]),z(q(Zu),{class:"pt-6"},{default:Z(()=>[c("div",K9,[(O(!0),j(ke,null,qe(A.options,(I,v)=>(O(),j("div",{key:I.value,class:"flex gap-3"},[c("div",G9,[c("div",Q9,[c("input",{id:`filter-mobile-${A.id}-${v}`,name:`${A.id}[]`,value:I.value,type:"checkbox",checked:I.checked,onChange:m=>b(A.id,I.value),class:"col-start-1 row-start-1 appearance-none rounded-sm border border-light-neutral-300 dark:border-dark-neutral-700 bg-light-secondary dark:bg-dark-secondary checked:border-accent-primary checked:bg-accent-primary focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent-primary disabled:border-light-neutral-300 dark:disabled:border-dark-neutral-700 disabled:bg-light-neutral-100 dark:disabled:bg-dark-neutral-800"},null,40,Y9),E[7]||(E[7]=c("svg",{class:"pointer-events-none col-start-1 row-start-1 size-3.5 self-center justify-self-center stroke-white group-has-disabled:stroke-light-neutral-900/25 dark:group-has-disabled:stroke-dark-neutral-100/25",viewBox:"0 0 14 14",fill:"none"},[c("path",{class:"opacity-0 group-has-checked:opacity-100",d:"M3 8L6 11L11 3.5","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),c("path",{class:"opacity-0 group-has-indeterminate:opacity-100",d:"M3 7H11","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1))])]),c("label",{for:`filter-mobile-${A.id}-${v}`,class:"min-w-0 flex-1 text-light-neutral-600 dark:text-dark-neutral-400"},K(I.label),9,J9)]))),128))])]),_:2},1024)]),_:2},1024)),64))])]),_:1})]),_:1})])]),_:1})]),_:1},8,["show"]),c("main",X9,[c("div",Z9,[E[12]||(E[12]=c("h1",{class:"text-4xl font-bold tracking-tight text-light-text-primary dark:text-dark-text-primary"},"Our Jewelry Collection",-1)),c("div",eV,[z(q(_E),{as:"div",class:"relative inline-block text-left"},{default:Z(()=>[c("div",null,[z(q(wE),{class:"group inline-flex justify-center text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary"},{default:Z(()=>[E[9]||(E[9]=de(" Sort ")),z(q(D9),{class:"-mr-1 ml-1 size-5 shrink-0 text-light-neutral-400 dark:text-dark-neutral-600 group-hover:text-light-neutral-500 dark:group-hover:text-dark-neutral-500","aria-hidden":"true"})]),_:1})]),z(Us,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:Z(()=>[z(q(kE),{class:"absolute right-0 z-10 mt-2 w-40 origin-top-right rounded-md bg-light-secondary dark:bg-dark-secondary ring-1 shadow-2xl ring-black/5 focus:outline-hidden"},{default:Z(()=>[c("div",tV,[(O(),j(ke,null,qe(l,A=>z(q(Wa),{key:A.name},{default:Z(({active:M})=>[c("a",{href:"#",onClick:Vr(I=>_(A),["prevent"]),class:$e([A.current?"font-medium text-light-text-primary dark:text-dark-text-primary":"text-light-text-secondary dark:text-dark-text-secondary",M?"bg-light-neutral-100 dark:bg-dark-neutral-800 outline-hidden":"","block px-4 py-2 text-sm"])},K(A.name),11,rV)]),_:2},1024)),64))])]),_:1})]),_:1})]),_:1}),c("button",nV,[E[10]||(E[10]=c("span",{class:"sr-only"},"View grid",-1)),z(q(V9),{class:"size-5","aria-hidden":"true"})]),c("button",{type:"button",class:"-m-2 ml-4 p-2 text-light-neutral-400 dark:text-dark-neutral-600 hover:text-light-neutral-500 dark:hover:text-dark-neutral-500 sm:ml-6 lg:hidden",onClick:E[2]||(E[2]=A=>s.value=!0)},[E[11]||(E[11]=c("span",{class:"sr-only"},"Filters",-1)),z(q(M9),{class:"size-5","aria-hidden":"true"})])])]),c("section",sV,[E[17]||(E[17]=c("h2",{id:"products-heading",class:"sr-only"},"Products",-1)),c("div",iV,[c("form",oV,[E[14]||(E[14]=c("h3",{class:"sr-only"},"Categories",-1)),c("ul",aV,[(O(),j(ke,null,qe(h,A=>c("li",{key:A.name},[c("a",{href:"#",onClick:Vr(M=>k(A.value),["prevent"])},K(A.name),9,lV)])),64)),c("li",cV,[c("a",{href:"#",onClick:E[3]||(E[3]=Vr(A=>e.value=r.value,["prevent"])),class:"text-accent-primary hover:text-accent-secondary"}," View All ")])]),(O(),j(ke,null,qe(f,A=>z(q(Ju),{as:"div",key:A.id,class:"border-b border-light-neutral-200 dark:border-dark-neutral-700 py-6"},{default:Z(({open:M})=>[c("h3",uV,[z(q(Xu),{class:"flex w-full items-center justify-between dark:bg-dark-secondary py-3 text-sm text-light-neutral-400 dark:text-dark-neutral-600 hover:text-light-neutral-500 dark:hover:text-dark-neutral-500"},{default:Z(()=>[c("span",dV,K(A.name),1),c("span",hV,[M?(O(),mt(q(Wb),{key:1,class:"size-5","aria-hidden":"true"})):(O(),mt(q(Kb),{key:0,class:"size-5","aria-hidden":"true"}))])]),_:2},1024)]),z(q(Zu),{class:"pt-6"},{default:Z(()=>[c("div",fV,[(O(!0),j(ke,null,qe(A.options,(I,v)=>(O(),j("div",{key:I.value,class:"flex gap-3"},[c("div",pV,[c("div",mV,[c("input",{id:`filter-${A.id}-${v}`,name:`${A.id}[]`,value:I.value,type:"checkbox",checked:I.checked,onChange:m=>b(A.id,I.value),class:"col-start-1 row-start-1 appearance-none rounded-sm border border-light-neutral-300 dark:border-dark-neutral-700 bg-light-secondary dark:bg-dark-secondary checked:border-accent-primary checked:bg-accent-primary focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent-primary disabled:border-light-neutral-300 dark:disabled:border-dark-neutral-700 disabled:bg-light-neutral-100 dark:disabled:bg-dark-neutral-800"},null,40,gV),E[13]||(E[13]=c("svg",{class:"pointer-events-none col-start-1 row-start-1 size-3.5 self-center justify-self-center stroke-white group-has-disabled:stroke-light-neutral-900/25 dark:group-has-disabled:stroke-dark-neutral-100/25",viewBox:"0 0 14 14",fill:"none"},[c("path",{class:"opacity-0 group-has-checked:opacity-100",d:"M3 8L6 11L11 3.5","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),c("path",{class:"opacity-0 group-has-indeterminate:opacity-100",d:"M3 7H11","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1))])]),c("label",{for:`filter-${A.id}-${v}`,class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},K(I.label),9,yV)]))),128))])]),_:2},1024)]),_:2},1024)),64))]),c("div",vV,[n.value?(O(),j("div",bV,E[15]||(E[15]=[c("p",{class:"text-light-text-secondary dark:text-dark-text-secondary"},"Loading products...",-1)]))):e.value.length===0?(O(),j("div",xV,E[16]||(E[16]=[c("p",{class:"text-light-text-secondary dark:text-dark-text-secondary"},"No products found.",-1)]))):(O(),j("div",_V,[(O(!0),j(ke,null,qe(e.value,A=>(O(),mt(tE,{key:A.id,product:A},null,8,["product"]))),128))]))])])])])])])}}},kV=Gr(wV,[["__scopeId","data-v-0e030521"]]),EV={class:"flex h-full items-center justify-center p-4"},IV=["src","alt"],TV={__name:"ImageViewer",props:{images:{type:Array,required:!0},currentIndex:{type:Number,required:!0},isOpen:{type:Boolean,required:!0},alt:{type:String,default:"Product image"}},emits:["update:currentIndex","close"],setup(t,{emit:e}){const r=t,n=e,s=H(r.images[r.currentIndex]);Rt(()=>r.currentIndex,l=>{s.value=r.images[l]});const i=()=>{const l=(r.currentIndex+1)%r.images.length;n("update:currentIndex",l)},o=()=>{const l=(r.currentIndex-1+r.images.length)%r.images.length;n("update:currentIndex",l)},a=()=>{n("close")};return(l,d)=>t.isOpen?(O(),j("div",{key:0,class:"fixed inset-0 z-50 bg-black/80",onClick:Vr(a,["self"])},[c("div",{class:"absolute top-4 right-4 z-50"},[c("button",{onClick:a,class:"p-2 text-white hover:text-accent-primary"},d[0]||(d[0]=[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),c("div",EV,[c("button",{onClick:o,class:"absolute left-4 p-2 text-white hover:text-accent-primary"},d[1]||(d[1]=[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),c("img",{src:s.value,alt:t.alt,class:"max-h-full max-w-full object-contain"},null,8,IV),c("button",{onClick:i,class:"absolute right-4 p-2 text-white hover:text-accent-primary"},d[2]||(d[2]=[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))])])):fe("",!0)}},AV={class:"flex mb-4","aria-label":"Breadcrumb"},SV={class:"inline-flex items-center space-x-1 md:space-x-3"},CV={key:1,class:"text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},uh={__name:"Breadcrumbs",props:{items:{type:Array,required:!0}},setup(t){return(e,r)=>{const n=Lr("router-link");return O(),j("nav",AV,[c("ol",SV,[(O(!0),j(ke,null,qe(t.items,(s,i)=>(O(),j("li",{key:i,class:"inline-flex items-center"},[i===0?(O(),mt(n,{key:0,to:s.path,class:"inline-flex items-center text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary hover:text-accent-primary dark:hover:text-accent-primary"},{default:Z(()=>[z(q(P9),{class:"w-4 h-4 mr-2"}),de(" "+K(s.text),1)]),_:2},1032,["to"])):(O(),j(ke,{key:1},[z(q(AE),{class:"w-4 h-4 mx-1 text-light-neutral-400 dark:text-dark-neutral-600"}),s.path?(O(),mt(n,{key:0,to:s.path,class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary hover:text-accent-primary dark:hover:text-accent-primary"},{default:Z(()=>[de(K(s.text),1)]),_:2},1032,["to"])):(O(),j("span",CV,K(s.text),1))],64))]))),128))])])}}},PV={class:"bg-light-primary dark:bg-dark-primary"},RV={class:"pt-6"},NV={class:"mx-auto max-w-2xl px-4 sm:px-6 lg:max-w-7xl lg:px-8"},$V={key:0,class:"text-center py-8"},OV={key:1,class:"mx-auto max-w-2xl px-4 sm:px-6 lg:max-w-7xl lg:px-8"},DV={class:"bg-red-100 dark:bg-red-900/20 p-4 rounded mb-6"},MV={class:"text-red-700 dark:text-red-400"},VV={class:"mx-auto mt-6 max-w-2xl sm:px-6 lg:max-w-7xl lg:px-8"},LV={class:"hidden sm:block lg:grid lg:grid-cols-3 lg:gap-4"},FV={class:"lg:grid lg:grid-rows-2 lg:gap-4"},UV=["src","alt"],jV=["src","alt"],BV={class:"lg:grid lg:grid-rows-2 lg:gap-4"},qV=["src","alt"],HV=["src","alt"],zV={class:"lg:grid lg:grid-rows-2 lg:gap-4"},WV=["src","alt"],KV=["src","alt"],GV={class:"block sm:hidden relative"},QV={class:"relative overflow-hidden h-[70vh] rounded-lg bg-light-secondary dark:bg-dark-secondary"},YV=["src","alt"],JV={class:"flex justify-center mt-4"},XV=["onClick","aria-label"],ZV={class:"mx-auto max-w-2xl px-4 pb-16 pt-10 sm:px-6 lg:grid lg:max-w-7xl lg:grid-cols-3 lg:grid-rows-[auto,auto,1fr] lg:gap-x-8 lg:px-8 lg:pb-24 lg:pt-16"},eL={class:"lg:col-span-2"},tL={class:"text-2xl font-bold tracking-tight text-light-text-primary dark:text-dark-text-primary"},rL={class:"mt-4 lg:row-span-3 lg:mt-0 lg:border-l lg:border-accent-primary/30 dark:lg:border-accent-primary/20 lg:pl-8"},nL={key:0,class:"bg-accent-primary/10 border border-accent-primary/30 text-accent-primary dark:text-dark-text-primary px-4 py-3 rounded mb-4"},sL={class:"mb-6"},iL={class:"text-3xl font-semibold tracking-tight text-purple-700 dark:text-white"},oL={key:0,class:"text-sm text-purple-600 dark:text-dark-text-secondary mt-1"},aL={class:"mt-10"},lL={class:"flex items-center justify-between mb-4"},cL={class:"grid grid-cols-2 gap-3 mb-6"},uL=["onClick"],dL={key:0,class:"absolute -top-2 -left-1 text-xs px-1.5 py-0.5 bg-amber-500 text-white rounded-full"},hL={class:"absolute -top-1 -right-1 flex -space-x-1"},fL={class:"bg-white dark:bg-dark-primary rounded-lg p-6 max-w-md w-full"},pL={class:"mb-4"},mL={class:"mb-4"},gL={class:"flex flex-wrap gap-2 items-center"},yL=["onUpdate:modelValue"],vL=["onClick"],bL=["disabled","title"],xL={key:0,class:"mt-2 text-sm text-red-500"},_L={class:"flex justify-end gap-3"},wL=["disabled"],kL={class:"mb-6"},EL={class:"flex items-center justify-center border border-light-neutral-200 dark:border-dark-neutral-700 rounded-lg bg-light-secondary dark:bg-dark-secondary"},IL=["max"],TL={class:"py-10 lg:col-span-2 lg:col-start-1 lg:pb-16 lg:pr-8 lg:pt-6"},AL={class:"space-y-6"},SL={class:"text-base text-light-text-primary dark:text-dark-text-primary"},CL={key:0,class:"mt-10"},PL={class:"list-disc space-y-2 pl-4 text-sm"},RL={key:0,class:"text-light-text-secondary dark:text-dark-text-secondary"},NL={key:1,class:"text-light-text-secondary dark:text-dark-text-secondary"},$L={key:1,class:"mt-10"},OL={class:"list-disc space-y-2 pl-4 text-sm"},DL={key:2,class:"mt-10"},ML={class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},VL={key:3,class:"mt-10"},LL={class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},FL={key:4,class:"mt-10"},UL={class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},jL={key:3,class:"text-center py-8"},BL={__name:"ProductDetailView",setup(t){const e=Sd(),r=ii(),n=ro(),s=$n(),i=H(null),o=H(!0),a=H(null),l=H(1),d=H(0),h=H(!1),f=H(0),p=H(null),y=H(null),b=H(!1),k=H(""),_=H(["#ffffff"]),T=H(""),P=H([]),E=H(!1),R=H(0),A=te(()=>e.params.id),M=te(()=>i.value?i.value.price*l.value:0),I=te(()=>{var W,V;return((V=(W=i.value)==null?void 0:W.images)==null?void 0:V.map(F=>w(F.main)||Pt("placeholder.jpg")))||[]}),v=te(()=>{var W,V;return((V=(W=i.value)==null?void 0:W.careInstructions)==null?void 0:V.split(`
`).filter(F=>F.trim()))||[]}),m=te(()=>{var W,V;return((V=(W=i.value)==null?void 0:W.images)==null?void 0:V.some(F=>{var L;return(L=F.main)==null?void 0:L.startsWith("temp://")}))||!1}),w=W=>W?typeof W=="string"&&W.startsWith("base64://")?W.replace("base64://",""):W:Pt("placeholder.jpg"),N=async()=>{o.value=!0,a.value=null;try{const W=await He.getProduct(A.value);i.value={...W,careInstructions:W.careInstructions||"",sizingAndFit:W.sizingAndFit||"Standard sizing available. Contact for custom sizes.",shippingInfo:W.shippingInfo||"Standard shipping available.",returnPolicy:W.returnPolicy||"Standard return policy applies.",materials:W.materials||"",dimensions:W.dimensions||"",variants:W.variants||[{name:"Default",colors:["#000000"]}],images:S(W.images)},await Se()}catch(W){console.error("Error fetching product:",W),a.value="Failed to load product details"}finally{o.value=!1}},S=W=>!Array.isArray(W)||W.length===0?[{main:Pt("placeholder.jpg"),thumb:Pt("placeholder.jpg")}]:W.map(V=>({main:w(V.main||V)||Pt("placeholder.jpg"),thumb:w(V.thumb||V)||Pt("placeholder.jpg")})),C=W=>{console.error("Image failed to load:",W.target.src),W.target.src=Pt("placeholder.jpg"),W.target.onerror=()=>{const V=W.target.parentNode;if(V){const F=document.createElement("div");F.innerHTML=`
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="100%" height="100%">
          <rect width="100%" height="100%" fill="#f0f0f0"/>
          <path d="M12 6v12M6 12h12" stroke="#aaa" stroke-width="2" stroke-linecap="round"/>
        </svg>
      `,F.className="broken-image",V.replaceChild(F,W.target)}}},le=async W=>{if(!i.value)return;const V=W.target.getBoundingClientRect(),F=V.left+V.width/2,L=V.top+V.height/2,be=document.querySelector(".group-hover\\:text-gray-500")||document.querySelector('a[href="/cart"] svg');let re=window.innerWidth-60,D=20;if(be){const B=be.getBoundingClientRect();re=B.left+B.width/2,D=B.top+B.height/2}p.value=i.value,await ir(),y.value?(y.value.style.top=`${L}px`,y.value.style.left=`${F}px`,y.value.style.opacity="1",y.value.style.transform="scale(1)",setTimeout(()=>{y.value.style.top=`${D}px`,y.value.style.left=`${re}px`,y.value.style.opacity="0",y.value.style.transform="scale(0.3)"},50),setTimeout(()=>{n.addToCart(i.value,l.value),p.value=null},600)):n.addToCart(i.value,l.value)},ce=()=>r.back(),G=W=>{f.value=W,h.value=!0},U=()=>{h.value=!1},ee=()=>{_.value.length<5?(_.value.push("#ffffff"),T.value=""):T.value="Maximum 5 colors allowed"},oe=W=>{_.value.length>1&&(_.value.splice(W,1),T.value="")},we=()=>{b.value=!1,k.value="",_.value=["#ffffff"],T.value=""},ye=async()=>{if(k.value.trim())try{const W=s.getUser;await He.submitVariantRequest({productId:i.value.id,productName:i.value.name,suggestion:k.value,colors:_.value,userId:(W==null?void 0:W.uid)||null,userEmail:(W==null?void 0:W.email)||"Anonymous",timestamp:new Date}),alert("Thank you! Your custom variant request has been submitted."),we()}catch(W){console.error("Error submitting variant request:",W),alert("Failed to submit request. Please try again.")}},Se=async()=>{var W;if((W=i.value)!=null&&W.id){E.value=!0;try{const V=await He.getVariantRequests();P.value=V.filter(F=>F.productId===i.value.id).map(F=>{var L,be;return{name:F.suggestion.length>20?F.suggestion.substring(0,20)+"...":F.suggestion,colors:F.requestedColors||[],fullSuggestion:F.suggestion,isSuggested:!0,userEmail:F.userEmail,createdAt:((be=(L=F.createdAt)==null?void 0:L.toDate)==null?void 0:be.call(L))||new Date}})}catch(V){console.error("Error fetching variant suggestions:",V)}finally{E.value=!1}}},Le=te(()=>{var V;return[...((V=i.value)==null?void 0:V.variants.map(F=>({...F,isSuggested:!1})))||[],...P.value]}),ot=te(()=>{if(!i.value)return[{text:"Home",path:"/"},{text:"Products",path:"/products"}];const W=[{text:"Home",path:"/"},{text:"Products",path:"/products"}];return i.value.category&&W.push({text:i.value.category,path:`/products?category=${encodeURIComponent(i.value.category)}`}),W.push({text:i.value.name}),W}),Et=()=>{var W,V;(V=(W=i.value)==null?void 0:W.images)!=null&&V.length&&(R.value=(R.value+1)%i.value.images.length)},ft=()=>{var W,V;(V=(W=i.value)==null?void 0:W.images)!=null&&V.length&&(R.value=(R.value-1+i.value.images.length)%i.value.images.length)};return je(N),Rt(()=>e.params.id,N),(W,V)=>{var F,L,be,re,D,B,Y,ie;return O(),j("div",PV,[c("div",RV,[c("div",NV,[z(uh,{items:ot.value},null,8,["items"])]),o.value?(O(),j("div",$V,V[13]||(V[13]=[c("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-accent-primary mb-2"},null,-1),c("p",{class:"text-light-text-primary dark:text-dark-text-primary"},"Loading your beautiful jewelry...",-1)]))):a.value?(O(),j("div",OV,[c("div",DV,[c("p",MV,K(a.value),1),c("button",{onClick:ce,class:"mt-2 text-sm text-accent-primary hover:underline"}," Return to previous page")])])):i.value?(O(),j(ke,{key:2},[c("div",VV,[c("div",LV,[c("div",FV,[c("div",{class:"aspect-square overflow-hidden rounded-lg cursor-pointer bg-light-secondary dark:bg-dark-secondary",onClick:V[0]||(V[0]=J=>G(0))},[c("img",{src:w((F=i.value.images[0])==null?void 0:F.main)||q(Pt)("placeholder.jpg"),alt:i.value.name,class:"h-full w-full object-cover",onError:C},null,40,UV)]),c("div",{class:"aspect-square overflow-hidden rounded-lg cursor-pointer bg-light-secondary dark:bg-dark-secondary",onClick:V[1]||(V[1]=J=>G(1))},[c("img",{src:w((L=i.value.images[1])==null?void 0:L.main)||q(Pt)("placeholder.jpg"),alt:i.value.name,class:"h-full w-full object-cover",onError:C},null,40,jV)])]),c("div",BV,[c("div",{class:"aspect-square overflow-hidden rounded-lg cursor-pointer bg-light-secondary dark:bg-dark-secondary",onClick:V[2]||(V[2]=J=>G(2))},[c("img",{src:w((be=i.value.images[2])==null?void 0:be.main)||q(Pt)("placeholder.jpg"),alt:i.value.name,class:"h-full w-full object-cover",onError:C},null,40,qV)]),c("div",{class:"aspect-square overflow-hidden rounded-lg cursor-pointer bg-light-secondary dark:bg-dark-secondary",onClick:V[3]||(V[3]=J=>G(3))},[c("img",{src:w((re=i.value.images[3])==null?void 0:re.main)||q(Pt)("placeholder.jpg"),alt:i.value.name,class:"h-full w-full object-cover",onError:C},null,40,HV)])]),c("div",zV,[c("div",{class:"aspect-square overflow-hidden rounded-lg cursor-pointer bg-light-secondary dark:bg-dark-secondary",onClick:V[4]||(V[4]=J=>G(4))},[c("img",{src:w((D=i.value.images[4])==null?void 0:D.main)||q(Pt)("placeholder.jpg"),alt:i.value.name,class:"h-full w-full object-cover",onError:C},null,40,WV)]),c("div",{class:"aspect-square overflow-hidden rounded-lg cursor-pointer bg-light-secondary dark:bg-dark-secondary",onClick:V[5]||(V[5]=J=>G(5))},[c("img",{src:w((B=i.value.images[5])==null?void 0:B.main)||q(Pt)("placeholder.jpg"),alt:i.value.name,class:"h-full w-full object-cover",onError:C},null,40,KV)])])]),c("div",GV,[c("div",QV,[c("img",{src:w((Y=i.value.images[R.value])==null?void 0:Y.main)||q(Pt)("placeholder.jpg"),alt:i.value.name,class:"h-full w-full object-contain",onError:C},null,40,YV),c("button",{onClick:ft,class:"absolute left-2 top-1/2 -translate-y-1/2 bg-white/70 dark:bg-black/60 rounded-full p-2 shadow-lg text-accent-primary hover:bg-white hover:text-btn-primary-hover transition-colors"},V[14]||(V[14]=[c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})],-1)])),c("button",{onClick:Et,class:"absolute right-2 top-1/2 -translate-y-1/2 bg-white/70 dark:bg-black/60 rounded-full p-2 shadow-lg text-accent-primary hover:bg-white hover:text-btn-primary-hover transition-colors"},V[15]||(V[15]=[c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})],-1)])),c("button",{onClick:V[6]||(V[6]=J=>G(R.value)),class:"absolute right-2 top-2 bg-white/70 dark:bg-black/60 rounded-full p-2 shadow-lg text-accent-primary hover:bg-white hover:text-btn-primary-hover transition-colors"},V[16]||(V[16]=[c("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 3.75v4.5m0-4.5h4.5m9 0h4.5m-4.5 0v4.5m-9 18.75h4.5m-4.5 0v-4.5m4.5 0h9m-9 0v4.5m0 0h4.5"})],-1)]))]),c("div",JV,[(O(!0),j(ke,null,qe(I.value,(J,ne)=>(O(),j("button",{key:ne,onClick:pe=>R.value=ne,class:$e(["w-2 h-2 mx-1 rounded-full transition-colors",R.value===ne?"bg-accent-primary":"bg-gray-300 dark:bg-dark-neutral-600"]),"aria-label":`View image ${ne+1}`},null,10,XV))),128))])])]),i.value?(O(),mt(TV,{key:0,images:I.value,"current-index":f.value,"is-open":h.value,alt:i.value.name,"onUpdate:currentIndex":V[7]||(V[7]=J=>f.value=J),onClose:U},null,8,["images","current-index","is-open","alt"])):fe("",!0),p.value?(O(),j("div",{key:1,class:"cart-animation",ref_key:"cartAnimationEl",ref:y,style:St({backgroundImage:`url(${w((ie=p.value.images[0])==null?void 0:ie.main)||q(Pt)("placeholder.jpg")})`})},null,4)):fe("",!0),c("div",ZV,[c("div",eL,[c("h1",tL,K(i.value.name),1)]),c("div",rL,[m.value?(O(),j("div",nL,V[17]||(V[17]=[c("strong",{class:"font-bold"},"Warning:",-1),de(" Some images are temporarily stored locally. ")]))):fe("",!0),c("div",sL,[V[18]||(V[18]=c("h2",{class:"sr-only"},"Product information",-1)),c("p",iL,K(q(Ye)(M.value)),1),l.value>1?(O(),j("p",oL,K(q(Ye)(i.value.price))+" each",1)):fe("",!0)]),c("div",aL,[c("div",lL,[V[19]||(V[19]=c("h3",{class:"text-sm font-medium text-gray-900 dark:text-dark-text-primary"},"Variants",-1)),c("button",{onClick:V[8]||(V[8]=J=>b.value=!0),class:"text-sm text-btn-primary hover:text-btn-primary-hover transition-colors"},"Request Custom Variant")]),c("div",cL,[(O(!0),j(ke,null,qe(Le.value,(J,ne)=>(O(),j("button",{key:ne,onClick:pe=>d.value=ne,class:$e(["relative flex items-center justify-center rounded-lg border-2 py-3 px-4 text-sm font-medium transition-all duration-200",d.value===ne?"border-purple-600 bg-purple-50 text-purple-700 dark:border-accent-primary dark:bg-accent-primary/10 dark:text-accent-primary shadow-sm":"border-gray-300 dark:border-dark-neutral-700 text-purple-700 dark:text-dark-text-primary hover:border-purple-600/50"])},[c("span",null,K(J.name),1),J.isSuggested?(O(),j("span",dL," Suggested ")):fe("",!0),c("div",hL,[(O(!0),j(ke,null,qe(J.colors,(pe,he)=>(O(),j("div",{key:he,class:"w-3 h-3 rounded-full border border-white dark:border-dark-neutral-800",style:St({backgroundColor:pe})},null,4))),128))])],10,uL))),128))]),b.value?(O(),j("div",{key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:Vr(we,["self"])},[c("div",fL,[c("div",{class:"flex justify-between items-center mb-4"},[V[20]||(V[20]=c("h3",{class:"text-lg font-medium text-gray-900 dark:text-dark-text-primary"},"Request Custom Variant",-1)),c("button",{onClick:we,class:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"},"")]),c("div",pL,[V[21]||(V[21]=c("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Describe your desired variant",-1)),Te(c("textarea",{"onUpdate:modelValue":V[9]||(V[9]=J=>k.value=J),rows:"4",placeholder:"Example: I'd love this in blue crystal beads with silver threading",class:"w-full p-3 border rounded-lg bg-white dark:bg-dark-secondary text-gray-700 dark:text-gray-200 border-gray-300 dark:border-dark-neutral-600 focus:ring-2 focus:ring-purple-500 focus:border-purple-500"},null,512),[[Pe,k.value]])]),c("div",mL,[V[22]||(V[22]=c("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Select Colors (Max 5)",-1)),c("div",gL,[(O(!0),j(ke,null,qe(_.value,(J,ne)=>(O(),j("div",{key:ne,class:"flex items-center gap-2 bg-accent-primary/20 p-2 rounded-lg shadow-sm"},[Te(c("input",{type:"color","onUpdate:modelValue":pe=>_.value[ne]=pe,class:"w-8 h-8 rounded cursor-pointer border-0"},null,8,yL),[[Pe,_.value[ne]]]),_.value.length>1?(O(),j("button",{key:0,onClick:pe=>oe(ne),class:"text-gray-400 hover:text-red-500 transition-colors",title:"Remove color"},"",8,vL)):fe("",!0)]))),128)),c("button",{onClick:ee,disabled:_.value.length>=5,class:$e(["w-8 h-8 rounded-lg border-2 border-dashed flex items-center justify-center transition-colors",_.value.length>=5?"border-gray-300 text-gray-300 cursor-not-allowed":"border-gray-400 text-gray-400 hover:border-accent-primary hover:text-accent-primary"]),title:_.value.length>=5?"Maximum colors reached":"Add color"},"+",10,bL)]),T.value?(O(),j("p",xL,K(T.value),1)):fe("",!0)]),c("div",_L,[c("button",{onClick:we,class:"px-4 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-dark-neutral-800 rounded-lg"},"Cancel"),c("button",{onClick:ye,disabled:!k.value.trim(),class:"px-4 py-2 bg-btn-primary hover:bg-btn-primary-hover active:bg-btn-primary-dark text-white rounded-lg"},"Submit Request",8,wL)])])])):fe("",!0)]),c("div",kL,[V[23]||(V[23]=c("h3",{class:"text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-3"},"Quantity",-1)),c("div",EL,[c("button",{onClick:V[10]||(V[10]=J=>l.value>1?l.value--:null),class:"w-12 h-12 flex items-center justify-center text-light-text-primary dark:text-dark-text-primary hover:bg-light-neutral-100 dark:hover:bg-dark-neutral-800 rounded-l-lg"},""),Te(c("input",{"onUpdate:modelValue":V[11]||(V[11]=J=>l.value=J),type:"number",min:"1",max:i.value.stock,class:"w-16 h-12 text-center border-x border-light-neutral-200 dark:border-dark-neutral-700 bg-transparent text-light-text-primary dark:text-dark-text-primary"},null,8,IL),[[Pe,l.value]]),c("button",{onClick:V[12]||(V[12]=J=>l.value<i.value.stock?l.value++:null),class:"w-12 h-12 flex items-center justify-center text-light-text-primary dark:text-dark-text-primary hover:bg-light-neutral-100 dark:hover:bg-dark-neutral-800 rounded-r-lg"},"+")])]),c("button",{onClick:le,class:"w-full h-12 flex items-center justify-center rounded-lg bg-btn-primary hover:bg-btn-primary-hover active:bg-btn-primary-dark text-white font-medium shadow-btn hover:shadow-btn-hover transition-all"},"Add to bag")]),c("div",TL,[c("div",null,[V[24]||(V[24]=c("h3",{class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary mb-4"},"Description",-1)),c("div",AL,[c("p",SL,K(i.value.description),1)])]),i.value.materials||i.value.dimensions?(O(),j("div",CL,[V[27]||(V[27]=c("h3",{class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary mb-4"},"Materials & Dimensions",-1)),c("ul",PL,[i.value.materials?(O(),j("li",RL,[V[25]||(V[25]=c("span",{class:"font-medium text-light-text-primary dark:text-dark-text-primary"},"Materials:",-1)),de(" "+K(i.value.materials),1)])):fe("",!0),i.value.dimensions?(O(),j("li",NL,[V[26]||(V[26]=c("span",{class:"font-medium text-light-text-primary dark:text-dark-text-primary"},"Dimensions:",-1)),de(" "+K(i.value.dimensions),1)])):fe("",!0)])])):fe("",!0),i.value.careInstructions?(O(),j("div",$L,[V[28]||(V[28]=c("h3",{class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary mb-4"},"Care Instructions",-1)),c("ul",OL,[(O(!0),j(ke,null,qe(v.value,(J,ne)=>(O(),j("li",{key:ne,class:"text-light-text-secondary dark:text-dark-text-secondary"},K(J),1))),128))])])):fe("",!0),i.value.sizingAndFit?(O(),j("div",DL,[V[29]||(V[29]=c("h3",{class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary mb-4"},"Sizing & Fit",-1)),c("p",ML,K(i.value.sizingAndFit),1)])):fe("",!0),i.value.shippingInfo?(O(),j("div",VL,[V[30]||(V[30]=c("h3",{class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary mb-4"},"Shipping",-1)),c("p",LL,K(i.value.shippingInfo),1)])):fe("",!0),i.value.returnPolicy?(O(),j("div",FL,[V[31]||(V[31]=c("h3",{class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary mb-4"},"Return Policy",-1)),c("p",UL,K(i.value.returnPolicy),1)])):fe("",!0)])])],64)):(O(),j("div",jL,[V[32]||(V[32]=c("p",{class:"text-light-text-primary dark:text-dark-text-primary"},"Product not found.",-1)),c("button",{onClick:ce,class:"mt-4 bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark text-white px-4 py-2 rounded"},"Return to Shop")]))])])}}},qL=Gr(BL,[["__scopeId","data-v-9a2d6ee9"]]),HL={class:"min-h-full flex flex-col justify-center py-12 sm:px-6 lg:px-8 bg-light-primary dark:bg-dark-primary"},zL={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},WL={class:"bg-light-secondary dark:bg-dark-secondary py-8 px-4 shadow sm:rounded-lg sm:px-10 border border-light-neutral-300 dark:border-dark-neutral-600"},KL={key:0,class:"rounded-md bg-red-50 p-4 mb-6"},GL={class:"flex"},QL={class:"flex-shrink-0"},YL={class:"ml-3"},JL={class:"mt-2 text-sm text-red-700"},XL={class:"mt-1 relative rounded-md shadow-sm"},ZL={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},eF={class:"mt-1 relative rounded-md shadow-sm"},tF={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},rF=["disabled"],nF={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},sF={class:"mt-6"},iF={class:"mt-2 text-center"},oF={__name:"LoginView",setup(t){const e=$n(),r=ii(),n=Sd(),s=H(""),i=H(""),o=H(""),a=H(!1),l=H("");je(()=>{if(e.isAuthenticated){const h=n.query.redirect||"/account";r.replace(h)}});const d=async()=>{if(!s.value||!i.value){o.value="Please enter both email and password.";return}try{a.value=!0,o.value=null,l.value="Signing in...";const h=await e.login(s.value,i.value);l.value="Redirecting...",r.replace(h)}catch(h){console.error("Login error:",h),o.value=h.message||"Failed to sign in. Please check your credentials.",l.value=""}finally{a.value=!1}};return(h,f)=>{const p=Lr("RouterLink");return O(),j("div",HL,[f[9]||(f[9]=c("div",{class:"sm:mx-auto sm:w-full sm:max-w-md"},[c("h2",{class:"text-center text-3xl font-extrabold text-light-text-primary dark:text-dark-text-primary"},"Sign in to your account")],-1)),c("div",zL,[c("div",WL,[z(q(dn),{appear:"",show:!!o.value},{default:Z(()=>[o.value?(O(),j("div",KL,[c("div",GL,[c("div",QL,[z(q(Ep),{class:"h-5 w-5 text-red-400","aria-hidden":"true"})]),c("div",YL,[f[2]||(f[2]=c("h3",{class:"text-sm font-medium text-red-800"},"Authentication Error",-1)),c("div",JL,[c("p",null,K(o.value),1)])])])])):fe("",!0)]),_:1},8,["show"]),c("form",{onSubmit:Vr(d,["prevent"]),class:"space-y-6"},[c("div",null,[f[3]||(f[3]=c("label",{for:"email",class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},"Email address",-1)),c("div",XL,[c("div",ZL,[z(q(CE),{class:"h-5 w-5 text-light-neutral-500 dark:text-dark-neutral-500","aria-hidden":"true"})]),Te(c("input",{id:"email","onUpdate:modelValue":f[0]||(f[0]=y=>s.value=y),type:"email",required:"",class:"appearance-none block w-full pl-10 pr-3 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded-md shadow-sm bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary placeholder-light-neutral-400 dark:placeholder-dark-neutral-500 focus:ring-2 focus:ring-accent-primary focus:border-accent-primary",placeholder:"Your email"},null,512),[[Pe,s.value]])])]),c("div",null,[f[4]||(f[4]=c("label",{for:"password",class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},"Password",-1)),c("div",eF,[c("div",tF,[z(q(Ip),{class:"h-5 w-5 text-light-neutral-500 dark:text-dark-neutral-500","aria-hidden":"true"})]),Te(c("input",{id:"password","onUpdate:modelValue":f[1]||(f[1]=y=>i.value=y),type:"password",required:"",class:"appearance-none block w-full pl-10 pr-3 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded-md shadow-sm bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary placeholder-light-neutral-400 dark:placeholder-dark-neutral-500 focus:ring-2 focus:ring-accent-primary focus:border-accent-primary",placeholder:"Your password"},null,512),[[Pe,i.value]])])]),f[6]||(f[6]=Tt('<div class="flex items-center justify-between"><div class="flex items-center"><input id="remember-me" name="remember-me" type="checkbox" class="h-4 w-4 text-orange-500 focus:ring-orange-500 border-light-neutral-300 dark:border-dark-neutral-600 rounded"><label for="remember-me" class="ml-2 block text-sm text-light-text-primary dark:text-dark-text-primary">Remember me</label></div><div class="text-sm"><a href="#" class="font-medium text-orange-500 hover:text-orange-600 dark:text-orange-400 dark:hover:text-orange-500">Forgot your password?</a></div></div>',1)),c("div",null,[c("button",{type:"submit",class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-orange-500 hover:bg-orange-600 dark:bg-orange-600 dark:hover:bg-orange-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",disabled:a.value},[a.value?(O(),j("svg",nF,f[5]||(f[5]=[c("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),c("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):fe("",!0),de(" "+K(a.value?l.value:"Sign in"),1)],8,rF)])],32),c("div",sF,[f[8]||(f[8]=Tt('<div class="relative"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-light-neutral-300 dark:border-dark-neutral-600"></div></div><div class="relative flex justify-center text-sm"><span class="px-2 bg-light-secondary dark:bg-dark-secondary text-light-text-secondary dark:text-dark-text-secondary">Don&#39;t have an account?</span></div></div>',1)),c("div",iF,[z(p,{to:"/register",class:"font-medium text-orange-500 hover:text-orange-600 dark:text-orange-400 dark:hover:text-orange-500"},{default:Z(()=>f[7]||(f[7]=[de("Create an account")])),_:1})])])])])])}}},aF={class:"min-h-full flex flex-col justify-center py-12 sm:px-6 lg:px-8 bg-light-primary dark:bg-dark-primary"},lF={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},cF={class:"bg-light-secondary dark:bg-dark-secondary py-8 px-4 shadow sm:rounded-lg sm:px-10 border border-light-neutral-300 dark:border-dark-neutral-600"},uF={key:0,class:"rounded-md bg-red-50 p-4 mb-6"},dF={class:"flex"},hF={class:"flex-shrink-0"},fF={class:"ml-3"},pF={class:"mt-2 text-sm text-red-700"},mF={class:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-2"},gF={class:"mt-1 relative rounded-md shadow-sm"},yF={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},vF={class:"mt-1 relative rounded-md shadow-sm"},bF={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},xF={class:"mt-1 relative rounded-md shadow-sm"},_F={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},wF={class:"mt-1 relative rounded-md shadow-sm"},kF={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},EF={class:"mt-1 relative rounded-md shadow-sm"},IF={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},TF={key:0,class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},AF={key:0,class:"mt-2 text-sm text-red-600"},SF=["disabled"],CF={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},PF={class:"mt-6"},RF={class:"mt-2 text-center"},NF={__name:"RegisterView",setup(t){const e=$n(),r=ii(),n=H(""),s=H(""),i=H(""),o=H(""),a=H(""),l=H(""),d=H(!1),h=H(!1),f=()=>{i.value&&s.value!==i.value?h.value=!0:h.value=!1},p=async()=>{if(l.value="",d.value=!0,s.value!==i.value){l.value="Passwords do not match",d.value=!1;return}try{await e.register(n.value,s.value,{firstName:o.value,lastName:a.value,email:n.value}),r.push("/")}catch(y){l.value=y.message||"Failed to register. Please try again."}finally{d.value=!1}};return(y,b)=>{const k=Lr("RouterLink");return O(),j("div",aF,[b[15]||(b[15]=c("div",{class:"sm:mx-auto sm:w-full sm:max-w-md"},[c("h2",{class:"text-center text-3xl font-extrabold text-light-text-primary dark:text-dark-text-primary"},"Create your account"),c("p",{class:"mt-2 text-center text-sm text-light-text-secondary dark:text-dark-text-secondary"}," Join our jewelry community today ")],-1)),c("div",lF,[c("div",cF,[z(q(dn),{appear:"",show:!!l.value},{default:Z(()=>[l.value?(O(),j("div",uF,[c("div",dF,[c("div",hF,[z(q(Ep),{class:"h-5 w-5 text-red-400","aria-hidden":"true"})]),c("div",fF,[b[5]||(b[5]=c("h3",{class:"text-sm font-medium text-red-800"},"Registration Error",-1)),c("div",pF,[c("p",null,K(l.value),1)])])])])):fe("",!0)]),_:1},8,["show"]),c("form",{onSubmit:Vr(p,["prevent"]),class:"space-y-6"},[c("div",mF,[c("div",null,[b[6]||(b[6]=c("label",{for:"firstName",class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},"First name",-1)),c("div",gF,[c("div",yF,[z(q(Gb),{class:"h-5 w-5 text-light-neutral-500 dark:text-dark-neutral-500","aria-hidden":"true"})]),Te(c("input",{id:"firstName","onUpdate:modelValue":b[0]||(b[0]=_=>o.value=_),type:"text",required:"",class:"appearance-none block w-full pl-10 pr-3 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded-md shadow-sm bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary placeholder-light-neutral-400 dark:placeholder-dark-neutral-500 focus:ring-2 focus:ring-accent-primary focus:border-accent-primary",placeholder:"First name"},null,512),[[Pe,o.value]])])]),c("div",null,[b[7]||(b[7]=c("label",{for:"lastName",class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},"Last name",-1)),c("div",vF,[c("div",bF,[z(q(Gb),{class:"h-5 w-5 text-light-neutral-500 dark:text-dark-neutral-500","aria-hidden":"true"})]),Te(c("input",{id:"lastName","onUpdate:modelValue":b[1]||(b[1]=_=>a.value=_),type:"text",required:"",class:"appearance-none block w-full pl-10 pr-3 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded-md shadow-sm bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary placeholder-light-neutral-400 dark:placeholder-dark-neutral-500 focus:ring-2 focus:ring-accent-primary focus:border-accent-primary",placeholder:"Last name"},null,512),[[Pe,a.value]])])])]),c("div",null,[b[8]||(b[8]=c("label",{for:"email",class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},"Email address",-1)),c("div",xF,[c("div",_F,[z(q(CE),{class:"h-5 w-5 text-light-neutral-500 dark:text-dark-neutral-500","aria-hidden":"true"})]),Te(c("input",{id:"email","onUpdate:modelValue":b[2]||(b[2]=_=>n.value=_),type:"email",required:"",class:"appearance-none block w-full pl-10 pr-3 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded-md shadow-sm bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary placeholder-light-neutral-400 dark:placeholder-dark-neutral-500 focus:ring-2 focus:ring-accent-primary focus:border-accent-primary",placeholder:"Your email"},null,512),[[Pe,n.value]])])]),c("div",null,[b[9]||(b[9]=c("label",{for:"password",class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},"Password",-1)),c("div",wF,[c("div",kF,[z(q(Ip),{class:"h-5 w-5 text-light-neutral-500 dark:text-dark-neutral-500","aria-hidden":"true"})]),Te(c("input",{id:"password","onUpdate:modelValue":b[3]||(b[3]=_=>s.value=_),type:"password",required:"",minlength:"6",class:"appearance-none block w-full pl-10 pr-3 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded-md shadow-sm bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary placeholder-light-neutral-400 dark:placeholder-dark-neutral-500 focus:ring-2 focus:ring-accent-primary focus:border-accent-primary",placeholder:"Create password"},null,512),[[Pe,s.value]])]),b[10]||(b[10]=c("p",{class:"mt-1 text-xs text-light-text-secondary dark:text-dark-text-secondary"},"Password must be at least 6 characters",-1))]),c("div",null,[b[11]||(b[11]=c("label",{for:"confirmPassword",class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},"Confirm Password",-1)),c("div",EF,[c("div",IF,[z(q(Ip),{class:"h-5 w-5 text-light-neutral-500 dark:text-dark-neutral-500","aria-hidden":"true"})]),Te(c("input",{id:"confirmPassword","onUpdate:modelValue":b[4]||(b[4]=_=>i.value=_),type:"password",required:"",minlength:"6",onInput:f,class:$e(["appearance-none block w-full pl-10 pr-3 py-2 border rounded-md shadow-sm placeholder-light-neutral-400 dark:placeholder-dark-neutral-500 focus:ring-2 focus:outline-none",h.value?"border-red-300 text-red-900 focus:ring-red-500 focus:border-red-500":"border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary"]),placeholder:"Confirm password"},null,34),[[Pe,i.value]]),h.value?(O(),j("div",TF,[z(q(Ep),{class:"h-5 w-5 text-red-500","aria-hidden":"true"})])):fe("",!0)]),h.value?(O(),j("p",AF,"Passwords don't match")):fe("",!0)]),c("div",null,[c("button",{type:"submit",class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-orange-500 hover:bg-orange-600 dark:bg-orange-600 dark:hover:bg-orange-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",disabled:d.value||h.value},[d.value?(O(),j("svg",CF,b[12]||(b[12]=[c("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),c("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):fe("",!0),de(" "+K(d.value?"Creating Account...":"Create Account"),1)],8,SF)])],32),c("div",PF,[b[14]||(b[14]=Tt('<div class="relative"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-light-neutral-300 dark:border-dark-neutral-600"></div></div><div class="relative flex justify-center text-sm"><span class="px-2 bg-light-secondary dark:bg-dark-secondary text-light-text-secondary dark:text-dark-text-secondary">Already have an account?</span></div></div>',1)),c("div",RF,[z(k,{to:"/login",class:"font-medium text-orange-500 hover:text-orange-600 dark:text-orange-400 dark:hover:text-orange-500"},{default:Z(()=>b[13]||(b[13]=[de("Sign in instead")])),_:1})])])])])])}}},$F={class:"min-h-screen bg-light-primary dark:bg-dark-primary"},OF={class:"max-w-4xl mx-auto px-4 py-8"},DF={key:0,class:"space-y-6 animate-pulse"},MF={class:"bg-white shadow rounded-lg p-6"},VF={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},LF={class:"bg-white shadow rounded-lg p-6"},FF={class:"bg-green-50 border-l-4 border-green-500 p-4 rounded-md shadow-sm flex items-center"},UF={class:"text-green-700"},jF={class:"bg-red-50 border-l-4 border-red-500 p-4 rounded-md shadow-sm flex items-center"},BF={class:"text-red-700"},qF={key:0,class:"ml-2 bg-accent-secondary/20 text-accent-primary text-xs px-2 py-0.5 rounded-full"},HF={class:"bg-white dark:bg-dark-neutral-800 shadow-sm rounded-lg overflow-hidden ring-1 ring-gray-900/5 dark:ring-dark-neutral-700"},zF={class:"bg-gradient-to-r from-accent-quaternary to-accent-secondary px-6 py-4"},WF={class:"flex justify-between items-center"},KF={class:"p-6"},GF={key:0,class:"grid md:grid-cols-2 gap-y-6 gap-x-8"},QF={class:"profile-field"},YF={class:"text-gray-800"},JF={class:"profile-field"},XF={class:"text-gray-800"},ZF={class:"profile-field"},eU={class:"text-gray-800"},tU={class:"profile-field"},rU={class:"text-gray-800"},nU={class:"space-y-2"},sU={class:"space-y-2"},iU={class:"space-y-2"},oU={class:"space-y-2"},aU={class:"md:col-span-2 space-y-2"},lU={class:"md:col-span-2 flex justify-end space-x-4 pt-4"},cU={type:"submit",class:"px-4 py-2.5 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-medium rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200 flex items-center"},uU={class:"bg-white dark:bg-dark-neutral-800 shadow-sm rounded-lg overflow-hidden ring-1 ring-gray-900/5 dark:ring-dark-neutral-700"},dU={class:"p-6"},hU={key:0,class:"text-center py-12 bg-gray-50 dark:bg-indigo-900/20 rounded-lg"},fU={key:1,class:"space-y-6"},pU={class:"flex items-start space-x-4"},mU={class:"bg-indigo-100 rounded-full p-2 hidden sm:block"},gU={class:"font-medium text-gray-900 dark:text-gray-100"},yU={class:"flex items-center text-sm text-gray-600 mt-1"},vU={class:"flex flex-col items-end mt-2 sm:mt-0"},bU={class:"font-semibold text-lg text-gray-900 dark:text-gray-100"},xU={key:0,class:"text-sm italic text-gray-800"},_U={key:1,class:"space-y-2 mb-4"},wU={class:"flex items-center"},kU={class:"h-14 w-14 rounded-md overflow-hidden border border-gray-200 mr-3 flex-shrink-0 bg-gray-50"},EU=["src","alt"],IU={class:"text-gray-800 font-medium"},TU={class:"flex items-center mt-1"},AU={class:"bg-indigo-100 text-indigo-800 rounded-full w-5 h-5 flex items-center justify-center mr-2 text-xs"},SU={class:"text-xs text-gray-500 md:hidden"},CU={class:"flex flex-col items-end"},PU={class:"text-gray-900 font-medium"},RU={class:"text-xs text-gray-500 hidden md:block"},NU={class:"mt-4 flex flex-col space-y-2 text-sm"},$U={class:"flex justify-between text-gray-800 pt-2 border-t"},OU={class:"text-gray-800"},DU={class:"flex justify-between text-gray-800"},MU={class:"text-gray-800"},VU={__name:"AccountView",setup(t){const e=$n(),r=H(null),n=H([]),s=H(!0),i=H(!1),o=H(""),a=H("");H("profile"),H(!1);const l=H({firstName:"",lastName:"",email:"",phone:"",address:""}),d=H(!1);je(async()=>{if(e.user)try{const _=await He.getUserProfile(e.user.uid);r.value=_,_&&(l.value={firstName:_.firstName||"",lastName:_.lastName||"",email:_.email||e.user.email,phone:_.phone||"",address:_.address||""});try{console.log("Fetching orders for user:",e.user.uid);const T=await He.getUserOrders(e.user.uid);console.log("Orders received:",T.length,T),T&&T.length>0?(n.value=T.map(P=>({...P,formattedDate:h(P.orderDate),displayTotal:typeof P.total=="number"?P.total.toFixed(2):"0.00",orderNumber:P.orderNumber||`ORD-${P.id.substring(0,6)}`,items:Array.isArray(P.items)?P.items:[]})),console.log("Processed orders:",n.value)):(console.log("No orders found or empty array returned"),n.value=[])}catch(T){console.error("Error fetching orders:",T),n.value=[],a.value="Could not load order history"}}catch(_){a.value="Error loading user data",console.error("Error in account view:",_)}finally{s.value=!1,setTimeout(()=>{d.value=!0},100)}else s.value=!1,setTimeout(()=>{d.value=!0},100)});const h=_=>{if(!_)return"N/A";try{let T;if(_.toDate&&typeof _.toDate=="function")T=_.toDate();else if(_.seconds)T=new Date(_.seconds*1e3);else if(_ instanceof Date)T=_;else if(typeof _=="string")T=new Date(_);else if(typeof _=="number")T=new Date(_);else return"Invalid date";return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(T)}catch(T){return console.error("Error formatting date:",T,_),"Date error"}},f=async()=>{a.value="",o.value="";try{await He.updateUserProfile(e.user.uid,l.value),r.value={...r.value,...l.value},i.value=!1,o.value="Profile updated successfully!",setTimeout(()=>{o.value=""},3e3)}catch(_){a.value="Failed to update profile",console.error("Error updating profile:",_)}},p=_=>({Processing:"bg-amber-100 text-amber-800 border border-amber-300",Shipped:"bg-blue-100 text-blue-800 border border-blue-300",Delivered:"bg-emerald-100 text-emerald-800 border border-emerald-300",Cancelled:"bg-red-100 text-red-800 border border-red-300"})[_]||"bg-gray-100 text-gray-800 border border-gray-300",y=(_=0)=>({"transition-all duration-500 ease-out":!0,"opacity-0 translate-y-4":!d.value,"opacity-100 translate-y-0":d.value,[`delay-${_}`]:_>0}),b=_=>{if(!_)return Pt("placeholder.jpg");if(typeof _=="string"){if(_.startsWith("base64://"))return _.replace("base64://","");if(_.startsWith("temp://"))return _.replace("temp://","")}return _},k=_=>{console.error("Image failed to load:",_.target.src),_.target.src=Pt("placeholder.jpg"),_.target.onerror=function(){const T=_.target.parentNode;if(T){T.classList.add("flex","items-center","justify-center","bg-gray-100"),_.target.style.display="none";const P=document.createElement("div");P.innerHTML=`
        <svg xmlns="http://www.w3.org/200/svg" viewBox="0 0 24 24" width="100%" height="100%">
          <rect width="100%" height="100%" fill="#f0f0f0"/>
          <path d="M12 6v12M6 12h12" stroke="#aaa" stroke-width="2" stroke-linecap="round"/>
        </svg>
      `,P.className="broken-image",T.appendChild(P)}}};return(_,T)=>{const P=Lr("router-link");return O(),j("div",$F,[c("div",OF,[T[31]||(T[31]=c("h1",{class:"text-3xl font-bold mb-8 text-light-text-primary dark:text-dark-text-primary"},"My Account",-1)),s.value?(O(),j("div",DF,[c("div",MF,[T[8]||(T[8]=c("div",{class:"h-6 bg-gray-200 rounded w-1/3 mb-6"},null,-1)),c("div",VF,[(O(),j(ke,null,qe(4,E=>c("div",{key:E,class:"space-y-2"},T[7]||(T[7]=[c("div",{class:"h-4 bg-gray-200 rounded w-1/4"},null,-1),c("div",{class:"h-6 bg-gray-200 rounded"},null,-1)]))),64))])]),c("div",LF,[T[10]||(T[10]=c("div",{class:"h-6 bg-gray-200 rounded w-1/3 mb-6"},null,-1)),(O(),j(ke,null,qe(3,E=>c("div",{key:E,class:"mb-4 pb-4 border-b last:border-b-0"},T[9]||(T[9]=[c("div",{class:"flex justify-between mb-2"},[c("div",{class:"h-6 bg-gray-200 rounded w-1/4"}),c("div",{class:"h-6 bg-gray-200 rounded w-20"})],-1),c("div",{class:"h-4 bg-gray-200 rounded w-2/3"},null,-1)]))),64))])])):fe("",!0),z(q(dn),{appear:"",show:!s.value,as:"div",enter:"transition-opacity duration-500","enter-from":"opacity-0","enter-to":"opacity-100"},{default:Z(()=>[c("div",null,[z(q(dn),{appear:"",show:!!o.value,as:"div",enter:"transform transition duration-300 ease-out","enter-from":"-translate-y-4 opacity-0","enter-to":"translate-y-0 opacity-100",leave:"transform transition duration-200 ease-in","leave-from":"translate-y-0 opacity-100","leave-to":"-translate-y-4 opacity-0",class:"mb-6"},{default:Z(()=>[c("div",FF,[z(q(qb),{class:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),c("p",UF,K(o.value),1)])]),_:1},8,["show"]),z(q(dn),{appear:"",show:!!a.value,as:"div",enter:"transform transition duration-300 ease-out","enter-from":"-translate-y-4 opacity-0","enter-to":"translate-y-0 opacity-100",leave:"transform transition duration-200 ease-in","leave-from":"translate-y-0 opacity-100","leave-to":"-translate-y-4 opacity-0",class:"mb-6"},{default:Z(()=>[c("div",jF,[z(q(ch),{class:"w-5 h-5 text-red-500 mr-3 flex-shrink-0"}),c("p",BF,K(a.value),1)])]),_:1},8,["show"]),z(q(l9),{defaultIndex:0,as:"div",class:$e(y(100))},{default:Z(()=>[z(q(c9),{class:"flex border-b border-light-neutral-300 dark:border-dark-neutral-700 mb-6 space-x-2"},{default:Z(()=>[z(q(Ub),{as:"template"},{default:Z(({selected:E})=>[c("button",{class:$e(["py-3 px-6 font-medium focus:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary rounded-t-md transition-colors",[E?"text-accent-primary border-b-2 border-accent-primary bg-accent-secondary/10":"text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary hover:bg-light-secondary dark:hover:bg-dark-secondary"]])}," Profile Information ",2)]),_:1}),z(q(Ub),{as:"template"},{default:Z(({selected:E})=>[c("button",{class:$e(["py-3 px-6 font-medium focus:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary rounded-t-md transition-colors flex items-center",[E?"text-accent-primary border-b-2 border-accent-primary bg-accent-secondary/10":"text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary hover:bg-light-secondary dark:hover:bg-dark-secondary"]])},[T[11]||(T[11]=de(" Order History ")),n.value.length?(O(),j("span",qF,K(n.value.length),1)):fe("",!0)],2)]),_:1})]),_:1}),z(q(u9),{class:"focus:outline-none"},{default:Z(()=>[z(q(jb),{class:$e([y(200),"focus:outline-none"])},{default:Z(()=>{var E,R,A,M,I;return[c("div",HF,[c("div",zF,[c("div",WF,[T[13]||(T[13]=c("h2",{class:"text-xl font-semibold text-white"},"Personal Details",-1)),i.value?fe("",!0):(O(),j("button",{key:0,onClick:T[0]||(T[0]=v=>i.value=!0),class:"btn-white focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-offset-2 focus-visible:ring-offset-indigo-600","aria-label":"Edit profile"},[z(q(SE),{class:"w-4 h-4 mr-1"}),T[12]||(T[12]=de(" Edit "))]))])]),c("div",KF,[i.value?fe("",!0):(O(),j("div",GF,[c("div",QF,[T[14]||(T[14]=c("p",{class:"text-gray-800"},"Full Name",-1)),c("p",YF,K(((E=r.value)==null?void 0:E.firstName)||"-")+" "+K(((R=r.value)==null?void 0:R.lastName)||""),1)]),c("div",JF,[T[15]||(T[15]=c("p",{class:"text-gray-800"},"Email",-1)),c("p",XF,K(((A=r.value)==null?void 0:A.email)||q(e).user.email),1)]),c("div",ZF,[T[16]||(T[16]=c("p",{class:"text-gray-800"},"Phone",-1)),c("p",eU,K(((M=r.value)==null?void 0:M.phone)||"Not provided"),1)]),c("div",tU,[T[17]||(T[17]=c("p",{class:"text-gray-800"},"Address",-1)),c("p",rU,K(((I=r.value)==null?void 0:I.address)||"Not provided"),1)])])),z(q(dn),{appear:"",show:i.value,enter:"transition-opacity ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0",as:"div"},{default:Z(()=>[c("form",{onSubmit:Vr(f,["prevent"]),class:"grid md:grid-cols-2 gap-6"},[c("div",nU,[T[18]||(T[18]=c("label",{class:"text-sm font-medium field-label",for:"firstName"},"First Name",-1)),Te(c("input",{id:"firstName","onUpdate:modelValue":T[1]||(T[1]=v=>l.value.firstName=v),type:"text",class:"w-full px-4 py-2.5 bg-white border border-gray-300 dark:border-dark-neutral-600 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 placeholder-gray-400 dark:placeholder-gray-500 text-gray-900 dark:text-gray-500 transition-colors duration-200",placeholder:"Enter your first name"},null,512),[[Pe,l.value.firstName]])]),c("div",sU,[T[19]||(T[19]=c("label",{class:"text-sm font-medium field-label",for:"lastName"},"Last Name",-1)),Te(c("input",{id:"lastName","onUpdate:modelValue":T[2]||(T[2]=v=>l.value.lastName=v),type:"text",class:"w-full px-4 py-2.5 bg-white border border-gray-300 dark:border-dark-neutral-600 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 placeholder-gray-400 dark:placeholder-gray-500 text-gray-900 dark:text-gray-500 transition-colors duration-200",placeholder:"Enter your last name"},null,512),[[Pe,l.value.lastName]])]),c("div",iU,[T[20]||(T[20]=c("label",{class:"text-sm font-medium field-label",for:"email"},"Email",-1)),Te(c("input",{id:"email","onUpdate:modelValue":T[3]||(T[3]=v=>l.value.email=v),type:"email",class:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 dark:border-dark-neutral-700 rounded-lg shadow-sm cursor-not-allowed text-gray-500 dark:text-gray-400",disabled:"","aria-disabled":"true"},null,512),[[Pe,l.value.email]]),T[21]||(T[21]=c("p",{class:"text-xs text-gray-500 mt-1.5"},"Email cannot be changed",-1))]),c("div",oU,[T[22]||(T[22]=c("label",{class:"text-sm font-medium field-label",for:"phone"},"Phone",-1)),Te(c("input",{id:"phone","onUpdate:modelValue":T[4]||(T[4]=v=>l.value.phone=v),type:"tel",class:"w-full px-4 py-2.5 bg-white border border-gray-300 dark:border-dark-neutral-600 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 placeholder-gray-400 dark:placeholder-gray-500 text-gray-900 dark:text-white transition-colors duration-200",placeholder:"Enter your phone number"},null,512),[[Pe,l.value.phone]])]),c("div",aU,[T[23]||(T[23]=c("label",{class:"text-sm font-medium field-label",for:"address"},"Address",-1)),Te(c("textarea",{id:"address","onUpdate:modelValue":T[5]||(T[5]=v=>l.value.address=v),class:"w-full px-4 py-2.5 bg-white border border-gray-300 dark:border-dark-neutral-600 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 placeholder-gray-400 dark:placeholder-gray-500 text-gray-900 dark:text-white transition-colors duration-200 min-h-[100px] resize-y",placeholder:"Enter your address"},null,512),[[Pe,l.value.address]])]),c("div",lU,[c("button",{type:"button",onClick:T[6]||(T[6]=v=>i.value=!1),class:"px-4 py-2.5 border border-gray-300 dark:border-dark-neutral-600 rounded-lg shadow-sm text-gray-700 dark:text-gray-200 bg-white dark:bg-dark-neutral-700 hover:bg-gray-50 dark:hover:bg-dark-neutral-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors duration-200"}," Cancel "),c("button",cU,[z(q(qb),{class:"w-4 h-4 mr-1.5"}),T[24]||(T[24]=de(" Save Changes "))])])],32)]),_:1},8,["show"])])])]}),_:1},8,["class"]),z(q(jb),{class:$e([y(300),"focus:outline-none"])},{default:Z(()=>[c("div",uU,[T[30]||(T[30]=c("div",{class:"bg-gradient-to-r from-accent-quaternary to-accent-secondary px-6 py-4"},[c("h2",{class:"text-xl font-semibold text-white"},"Order History")],-1)),c("div",dU,[n.value.length===0?(O(),j("div",hU,[z(q(cu),{class:"w-16 h-16 text-gray-400 mx-auto mb-4"}),T[26]||(T[26]=c("p",{class:"text-gray-500 mb-4"},"You haven't placed any orders yet.",-1)),z(P,{to:"/products",class:"btn btn-primary inline-flex items-center justify-center"},{default:Z(()=>[z(q(cu),{class:"w-4 h-4 mr-2"}),T[25]||(T[25]=de(" Start Shopping "))]),_:1})])):(O(),j("div",fU,[z(q(dn),{appear:"",show:!0,enter:"transition-opacity ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",as:"div",class:"space-y-6"},{default:Z(()=>[(O(!0),j(ke,null,qe(n.value,(E,R)=>(O(),j("div",{key:E.id,class:$e(["bg-white dark:bg-dark-neutral-800 border border-gray-200 dark:border-dark-neutral-700 rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-all duration-200",{"delay-100":R===0,"delay-150":R===1,"delay-200":R>=2}])},[z(q(Ju),{as:"div",defaultOpen:""},{default:Z(({open:A})=>[z(q(Xu),{class:"w-full bg-gray-50 dark:bg-indigo-900/20 p-4 flex flex-wrap justify-between items-center border-b dark:border-dark-neutral-600 text-left focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500"},{default:Z(()=>[c("div",pU,[c("div",mU,[z(q(cu),{class:"w-5 h-5 text-indigo-600"})]),c("div",null,[c("p",gU," Order #"+K(E.orderNumber),1),c("div",yU,[z(q(_9),{class:"w-3.5 h-3.5 mr-1.5"}),de(" "+K(E.formattedDate),1)])])]),c("div",vU,[c("p",bU,K(q(Ye)(E.total)),1),c("span",{class:$e(["text-xs px-3 py-1 rounded-full mt-1 inline-flex items-center",p(E.status||"Processing")])},[c("span",{class:$e(["w-1.5 h-1.5 rounded-full mr-1",{"bg-amber-500":(E.status||"Processing")==="Processing","bg-blue-500":E.status==="Shipped","bg-emerald-500":E.status==="Delivered","bg-red-500":E.status==="Cancelled"}])},null,2),de(" "+K(E.status||"Processing"),1)],2),z(q(AE),{class:$e(["w-5 h-5 text-gray-400 mt-1.5 transition-transform duration-200",{"transform rotate-90":A}])},null,8,["class"])])]),_:2},1024),z(q(Zu),{class:"p-4 bg-white dark:bg-dark-neutral-800/50"},{default:Z(()=>[T[29]||(T[29]=c("div",{class:"mb-2 pb-2 border-b border-dashed"},[c("h4",{class:"text-sm font-medium text-gray-800 mb-2"},"Items")],-1)),!E.items||E.items.length===0?(O(),j("p",xU," No items found in this order ")):(O(),j("div",_U,[(O(!0),j(ke,null,qe(E.items,(M,I)=>(O(),j("div",{key:I,class:"flex justify-between text-sm py-2 border-b border-gray-100 last:border-b-0"},[c("div",wU,[c("div",kU,[c("img",{src:b(M.imageUrl||M.image),alt:M.name,class:"h-full w-full object-cover object-center",onError:k,loading:"lazy"},null,40,EU)]),c("div",null,[c("span",IU,K(M.name),1),c("div",TU,[c("span",AU,K(M.quantity),1),c("span",SU,K(q(Ye)(M.price))+" each ",1)])])]),c("div",CU,[c("span",PU,K(q(Ye)(M.price*M.quantity)),1),c("span",RU,K(q(Ye)(M.price))+" each ",1)])]))),128))])),c("div",NU,[c("div",$U,[T[27]||(T[27]=c("span",null,"Order date:",-1)),c("span",OU,K(E.formattedDate),1)]),c("div",DU,[T[28]||(T[28]=c("span",null,"Total:",-1)),c("span",MU,K(q(Ye)(E.total)),1)])])]),_:2},1024)]),_:2},1024)],2))),128))]),_:1})]))])])]),_:1},8,["class"])]),_:1})]),_:1},8,["class"])])]),_:1},8,["show"])])])}}},LU=Gr(VU,[["__scopeId","data-v-35895029"]]),FU={class:"container mx-auto px-4 py-8 max-w-6xl"},UU={key:0,class:"text-center py-12 bg-light-secondary dark:bg-dark-secondary rounded-lg shadow-sm border border-light-neutral-300 dark:border-dark-neutral-600"},jU={key:1,class:"grid grid-cols-1 md:grid-cols-3 gap-8"},BU={class:"md:col-span-2","aria-labelledby":"cart-items-heading"},qU={class:"space-y-2 text-sm"},HU={class:"flex justify-between text-light-text-primary dark:text-dark-text-primary"},zU={class:"flex justify-between"},WU={key:0,class:"text-light-text-primary dark:text-dark-text-primary"},KU={key:1,class:"text-accent-tertiary"},GU={key:0,class:"text-sm bg-accent-quaternary/10 text-accent-quaternary p-3 rounded-md mt-3"},QU={class:"mt-1"},YU={class:"border-t border-light-neutral-300 dark:border-dark-neutral-600 pt-2 mt-2"},JU={class:"flex justify-between font-bold text-light-text-primary dark:text-dark-text-primary"},XU={class:"mt-4 space-y-3"},ZU={class:"relative"},ej=["src","alt"],tj={class:"ml-6 flex-grow"},rj={class:"text-light-text-secondary dark:text-dark-text-secondary mt-1"},nj={class:"flex items-center mt-3"},sj={class:"flex items-center border border-light-neutral-300 dark:border-dark-neutral-600 rounded-md shadow-sm"},ij=["onClick"],oj={class:"px-4 py-1 min-w-[40px] text-center text-light-text-primary dark:text-dark-text-primary","aria-label":"Quantity"},aj=["onClick"],lj=["onClick"],cj={class:"text-right"},uj={class:"font-semibold text-light-text-primary dark:text-dark-text-primary"},dj={class:"bg-light-secondary dark:bg-dark-secondary p-6 rounded-lg shadow-sm h-fit md:sticky md:top-24 hidden md:block border border-light-neutral-300 dark:border-dark-neutral-600","aria-labelledby":"order-summary-heading"},hj={class:"space-y-4"},fj={class:"flex justify-between text-light-text-primary dark:text-dark-text-primary"},pj={class:"flex justify-between text-light-text-primary dark:text-dark-text-primary"},mj={key:0},gj={key:1,class:"text-accent-tertiary font-medium"},yj={key:0,class:"text-sm bg-accent-quaternary/10 text-accent-quaternary p-3 rounded-md"},vj={class:"mt-1"},bj={class:"border-t border-light-neutral-300 dark:border-dark-neutral-600 pt-4 mt-2"},xj={class:"flex justify-between font-bold text-lg text-light-text-primary dark:text-dark-text-primary"},_j={class:"mt-8 space-y-4"},wj={class:"fixed inset-0 overflow-y-auto"},kj={class:"flex min-h-full items-center justify-center p-4 text-center"},Ej={class:"mt-2"},Ij={class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},Tj={class:"mt-6 flex space-x-3 justify-end"},Aj={__name:"CartView",setup(t){const e=ro(),r=H(!1),n=H(!1),s=H(null),i=te(()=>e.cart),o=te(()=>e.subtotal),a=te(()=>e.itemCount),l=te(()=>o.value>=1e4?0:1e3),d=te(()=>o.value+l.value),h=async(y,b)=>{r.value=!0,b<=0?await e.removeFromCart(y):await e.updateQuantity(y,b),setTimeout(()=>{r.value=!1},300)},f=y=>{s.value=y,n.value=!0},p=()=>{s.value&&(e.removeFromCart(s.value.id),n.value=!1,s.value=null)};return(y,b)=>{const k=Lr("router-link");return O(),j("main",FU,[b[21]||(b[21]=c("h1",{class:"text-3xl font-bold mb-8 text-light-text-primary dark:text-dark-text-primary"},"Shopping Cart",-1)),i.value.length===0?(O(),j("div",UU,[b[3]||(b[3]=Tt('<div class="w-40 h-40 mx-auto mb-6" data-v-392a5ccd><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" class="w-full h-full text-light-neutral-400 dark:text-dark-neutral-500" data-v-392a5ccd><circle cx="9" cy="21" r="1" fill="currentColor" data-v-392a5ccd></circle><circle cx="20" cy="21" r="1" fill="currentColor" data-v-392a5ccd></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6" stroke-linecap="round" stroke-linejoin="round" data-v-392a5ccd></path><line x1="5" y1="5" x2="22" y2="5" class="text-red-500" stroke-width="1.5" data-v-392a5ccd></line></svg></div><p class="text-xl mb-6 text-light-text-secondary dark:text-dark-text-secondary" data-v-392a5ccd>Your cart is empty</p>',2)),z(k,{to:"/products",class:"bg-orange-500 hover:bg-orange-600 dark:bg-orange-600 dark:hover:bg-orange-500 text-white px-6 py-3 rounded-md inline-block transition-colors focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 focus:outline-none"},{default:Z(()=>b[2]||(b[2]=[de(" Browse Products ")])),_:1})])):(O(),j("div",jU,[c("section",BU,[b[12]||(b[12]=c("h2",{id:"cart-items-heading",class:"sr-only"},"Cart Items",-1)),z(q(Ju),{as:"div",class:"mb-6 md:hidden"},{default:Z(()=>[z(q(Xu),{class:"flex w-full justify-between rounded-lg bg-light-secondary dark:bg-dark-secondary px-4 py-3 text-left text-sm font-medium text-light-text-primary dark:text-dark-text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary"},{default:Z(()=>[c("span",null,"Order Summary ("+K(a.value)+" items)",1),z(q(E9),{class:"h-5 w-5 ui-open:rotate-180 ui-open:transform transition-transform"})]),_:1}),z(q(Zu),{class:"px-4 pt-4 pb-5 bg-light-secondary dark:bg-dark-secondary rounded-b-lg"},{default:Z(()=>[c("div",qU,[c("div",HU,[b[4]||(b[4]=c("span",null,"Subtotal",-1)),c("span",null,K(q(Ye)(o.value)),1)]),c("div",zU,[b[5]||(b[5]=c("span",{class:"text-light-text-primary dark:text-dark-text-primary"},"Shipping",-1)),l.value>0?(O(),j("span",WU,K(q(Ye)(l.value)),1)):(O(),j("span",KU,"Free"))]),l.value>0?(O(),j("div",GU,[b[6]||(b[6]=c("p",null,"Free shipping on orders over KES 10,000",-1)),c("p",QU,"Add "+K(q(Ye)(1e4-o.value))+" more to qualify",1)])):fe("",!0),c("div",YU,[c("div",JU,[b[7]||(b[7]=c("span",null,"Total",-1)),c("span",null,K(q(Ye)(d.value)),1)])])]),c("div",XU,[z(k,{to:"/checkout",class:"bg-orange-500 hover:bg-orange-600 dark:bg-orange-600 dark:hover:bg-orange-500 text-white w-full py-2 block text-center rounded-md transition-colors focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 focus:outline-none text-sm disabled:opacity-50 disabled:cursor-not-allowed",disabled:i.value.length===0,"aria-disabled":i.value.length===0},{default:Z(()=>b[8]||(b[8]=[de(" Proceed to Checkout ")])),_:1},8,["disabled","aria-disabled"]),z(k,{to:"/products",class:"text-accent-quaternary hover:text-accent-quaternary/80 transition-colors text-center block focus:outline-none focus:underline text-sm"},{default:Z(()=>b[9]||(b[9]=[de(" Continue Shopping ")])),_:1})])]),_:1})]),_:1}),z(zx,{name:"cart-item",tag:"ul",class:"divide-y divide-light-neutral-300 dark:divide-dark-neutral-600"},{default:Z(()=>[(O(!0),j(ke,null,qe(i.value,_=>(O(),j("li",{key:_.id,class:$e(["flex py-6 first:pt-0 items-center cart-item-transition",{"opacity-50":r.value}])},[c("div",ZU,[c("img",{src:_.image,alt:_.name,class:"w-24 h-24 object-cover rounded-md shadow-sm",loading:"lazy"},null,8,ej)]),c("div",tj,[z(k,{to:`/product/${_.id}`,class:"text-lg font-semibold text-light-text-primary dark:text-dark-text-primary hover:text-orange-500 dark:hover:text-orange-400 focus:outline-none focus:underline","aria-label":`View ${_.name} details`},{default:Z(()=>[de(K(_.name),1)]),_:2},1032,["to","aria-label"]),c("p",rj,K(q(Ye)(_.price))+" each",1),c("div",nj,[c("div",sj,[c("button",{onClick:T=>h(_.id,_.quantity-1),class:"px-3 py-1 text-light-text-primary dark:text-dark-text-primary hover:bg-light-neutral-100 dark:hover:bg-dark-neutral-700 transition-colors rounded-l-md focus:outline-none focus:ring-2 focus:ring-accent-primary focus:ring-inset","aria-label":"Decrease quantity"},b[10]||(b[10]=[c("span",{"aria-hidden":"true"},"",-1)]),8,ij),c("span",oj,K(_.quantity),1),c("button",{onClick:T=>h(_.id,_.quantity+1),class:"px-3 py-1 text-light-text-primary dark:text-dark-text-primary hover:bg-light-neutral-100 dark:hover:bg-dark-neutral-700 transition-colors rounded-r-md focus:outline-none focus:ring-2 focus:ring-accent-primary focus:ring-inset","aria-label":"Increase quantity"},b[11]||(b[11]=[c("span",{"aria-hidden":"true"},"+",-1)]),8,aj)]),c("button",{onClick:T=>f(_),class:"ml-4 text-red-500 hover:text-red-700 transition-colors focus:outline-none focus:underline","aria-label":"Remove item from cart"}," Remove ",8,lj)])]),c("div",cj,[c("p",uj,K(q(Ye)(_.price*_.quantity)),1)])],2))),128))]),_:1})]),c("section",dj,[b[18]||(b[18]=c("h2",{id:"order-summary-heading",class:"text-xl font-bold mb-6 border-b border-light-neutral-300 dark:border-dark-neutral-600 pb-3 text-light-text-primary dark:text-dark-text-primary"},"Order Summary",-1)),c("div",hj,[c("div",fj,[c("span",null,"Subtotal ("+K(a.value)+" "+K(a.value===1?"item":"items")+")",1),c("span",null,K(q(Ye)(o.value)),1)]),c("div",pj,[b[13]||(b[13]=c("span",null,"Shipping",-1)),l.value>0?(O(),j("span",mj,K(q(Ye)(l.value)),1)):(O(),j("span",gj,"Free"))]),l.value>0?(O(),j("div",yj,[b[14]||(b[14]=c("p",null,"Free shipping on orders over KES 10,000",-1)),c("p",vj,"Add "+K(q(Ye)(1e4-o.value))+" more to qualify",1)])):fe("",!0),c("div",bj,[c("div",xj,[b[15]||(b[15]=c("span",null,"Total",-1)),c("span",null,K(q(Ye)(d.value)),1)])])]),c("div",_j,[z(k,{to:"/checkout",class:"bg-orange-500 hover:bg-orange-600 dark:bg-orange-600 dark:hover:bg-orange-500 text-white w-full py-3 block text-center rounded-md transition-colors focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed",disabled:i.value.length===0,"aria-disabled":i.value.length===0},{default:Z(()=>b[16]||(b[16]=[de(" Proceed to Checkout ")])),_:1},8,["disabled","aria-disabled"]),z(k,{to:"/products",class:"text-accent-quaternary hover:text-accent-quaternary/80 transition-colors text-center block focus:outline-none focus:underline"},{default:Z(()=>b[17]||(b[17]=[de(" Continue Shopping ")])),_:1})])])])),z(q(dn),{appear:"",show:n.value,as:"template"},{default:Z(()=>[z(q(ih),{as:"div",onClose:b[1]||(b[1]=_=>n.value=!1),class:"relative z-10"},{default:Z(()=>[z(q(ps),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Z(()=>b[19]||(b[19]=[c("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)])),_:1}),c("div",wj,[c("div",kj,[z(q(ps),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:Z(()=>[z(q(oh),{class:"w-full max-w-md transform overflow-hidden rounded-lg bg-light-secondary dark:bg-dark-secondary p-6 text-left align-middle shadow-xl transition-all"},{default:Z(()=>{var _;return[z(q(yE),{as:"h3",class:"text-lg font-medium leading-6 text-light-text-primary dark:text-dark-text-primary"},{default:Z(()=>b[20]||(b[20]=[de(" Remove Item ")])),_:1}),c("div",Ej,[c("p",Ij,' Are you sure you want to remove "'+K((_=s.value)==null?void 0:_.name)+'" from your cart? ',1)]),c("div",Tj,[c("button",{type:"button",class:"inline-flex justify-center rounded-md border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary px-4 py-2 text-sm font-medium text-light-text-primary dark:text-dark-text-primary hover:bg-light-neutral-100 dark:hover:bg-dark-neutral-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:ring-offset-2",onClick:b[0]||(b[0]=T=>n.value=!1)}," Cancel "),c("button",{type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-red-500 px-4 py-2 text-sm font-medium text-white hover:bg-red-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-red-500 focus-visible:ring-offset-2",onClick:p}," Remove ")])]}),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}}},Sj=Gr(Aj,[["__scopeId","data-v-392a5ccd"]]);/*!
 * paypal-js v8.2.0 (2025-01-23T17:26:53.747Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cj(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Pj(t,e){var r=document.querySelector('script[src="'.concat(t,'"]'));if(r===null)return null;var n=PE(t,e),s=r.cloneNode();if(delete s.dataset.uidAuto,Object.keys(s.dataset).length!==Object.keys(n.dataset).length)return null;var i=!0;return Object.keys(s.dataset).forEach(function(o){s.dataset[o]!==n.dataset[o]&&(i=!1)}),i?r:null}function Rj(t){var e=t.url,r=t.attributes,n=t.onSuccess,s=t.onError,i=PE(e,r);i.onerror=s,i.onload=n,document.head.insertBefore(i,document.head.firstElementChild)}function Nj(t){var e=t.sdkBaseUrl,r=t.environment,n=Cj(t,["sdkBaseUrl","environment"]),s=e||Dj(r),i=n,o=Object.keys(i).filter(function(d){return typeof i[d]<"u"&&i[d]!==null&&i[d]!==""}).reduce(function(d,h){var f=i[h].toString();return h=$j(h),h.substring(0,4)==="data"||h==="crossorigin"?d.attributes[h]=f:d.queryParams[h]=f,d},{queryParams:{},attributes:{}}),a=o.queryParams,l=o.attributes;return a["merchant-id"]&&a["merchant-id"].indexOf(",")!==-1&&(l["data-merchant-id"]=a["merchant-id"],a["merchant-id"]="*"),{url:"".concat(s,"?").concat(Oj(a)),attributes:l}}function $j(t){var e=function(r,n){return(n?"-":"")+r.toLowerCase()};return t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,e)}function Oj(t){var e="";return Object.keys(t).forEach(function(r){e.length!==0&&(e+="&"),e+=r+"="+t[r]}),e}function Dj(t){return t==="sandbox"?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"}function PE(t,e){e===void 0&&(e={});var r=document.createElement("script");return r.src=t,Object.keys(e).forEach(function(n){r.setAttribute(n,e[n]),n==="data-csp-nonce"&&r.setAttribute("nonce",e["data-csp-nonce"])}),r}function Mj(t,e){if(e===void 0&&(e=Promise),RE(t,e),typeof document>"u")return e.resolve(null);var r=Nj(t),n=r.url,s=r.attributes,i=s["data-namespace"]||"paypal",o=Qb(i);return s["data-js-sdk-library"]||(s["data-js-sdk-library"]="paypal-js"),Pj(n,s)&&o?e.resolve(o):Vj({url:n,attributes:s},e).then(function(){var a=Qb(i);if(a)return a;throw new Error("The window.".concat(i," global variable is not available."))})}function Vj(t,e){e===void 0&&(e=Promise),RE(t,e);var r=t.url,n=t.attributes;if(typeof r!="string"||r.length===0)throw new Error("Invalid url.");if(typeof n<"u"&&typeof n!="object")throw new Error("Expected attributes to be an object.");return new e(function(s,i){if(typeof document>"u")return s();Rj({url:r,attributes:n,onSuccess:function(){return s()},onError:function(){var o=new Error('The script "'.concat(r,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return i(o)}})})}function Qb(t){return window[t]}function RE(t,e){if(typeof t!="object"||t===null)throw new Error("Expected an options object.");var r=t.environment;if(r&&r!=="production"&&r!=="sandbox")throw new Error('The `environment` option must be either "production" or "sandbox".');if(typeof e<"u"&&typeof e!="function")throw new Error("Expected PromisePonyfill to be a function.")}const Lj="YOUR_PAYPAL_CLIENT_ID",zc={async initializePayPal(){try{return await Mj({"client-id":Lj,currency:"USD",intent:"capture"})}catch(t){throw console.error("Failed to load PayPal JS SDK:",t),t}},createOrder(t,e){return{purchase_units:[{amount:{currency_code:"USD",value:t.toFixed(2),breakdown:{item_total:{currency_code:"USD",value:t.toFixed(2)}}},items:e.map(r=>({name:r.name,unit_amount:{currency_code:"USD",value:r.price.toFixed(2)},quantity:r.quantity.toString()}))}]}},async handlePayPalError(t){throw console.error("PayPal Error:",t),t}},Fj={class:"bg-light-primary dark:bg-dark-primary min-h-screen pb-16"},Uj={key:0,class:"container mx-auto px-4"},jj={class:"max-w-3xl mx-auto bg-light-secondary dark:bg-dark-secondary shadow-lg rounded-lg overflow-hidden"},Bj={class:"bg-green-50 dark:bg-green-900 p-6 sm:p-10 text-center"},qj={class:"text-green-700 dark:text-green-300 text-lg"},Hj={class:"mt-8 flex justify-center"},zj={key:1,class:"container mx-auto px-4 mb-8"},Wj={class:"max-w-3xl mx-auto bg-red-50 dark:bg-red-900 border border-red-200 dark:border-red-800 p-4 rounded-lg flex items-start"},Kj={class:"ml-3"},Gj={class:"text-red-700 dark:text-red-300 font-medium"},Qj={key:2,class:"container mx-auto px-4"},Yj={class:"grid grid-cols-1 lg:grid-cols-3 lg:gap-8"},Jj={class:"lg:col-span-2"},Xj={class:"bg-light-secondary dark:bg-dark-secondary shadow rounded-lg overflow-hidden mb-8"},Zj={class:"p-6"},eB={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},tB={class:"mb-6"},rB={class:"mb-6"},nB=["value"],sB={key:0,class:"mb-6"},iB=["value"],oB={key:1,class:"mb-6"},aB={class:"mt-6"},lB={class:"flex items-center"},cB={class:"bg-light-secondary dark:bg-dark-secondary shadow rounded-lg overflow-hidden mb-8"},uB={class:"p-6"},dB={class:"border-b border-light-neutral-200 dark:border-dark-neutral-700"},hB={class:"-mb-px flex space-x-8"},fB=["onClick"],pB={key:0,class:"mt-6"},mB={class:"mb-6"},gB={key:1,class:"mt-6"},yB={class:"bg-light-neutral-100 dark:bg-dark-neutral-800 p-4 rounded-md"},vB={class:"mt-4"},bB={class:"flex items-center"},xB={class:"ml-2 text-sm text-light-text-primary dark:text-dark-text-primary"},_B={key:2,class:"mt-6"},wB={class:"p-6"},kB={class:"mb-6"},EB={class:"mb-6"},IB={class:"relative"},TB={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},AB={class:"relative"},SB={class:"absolute inset-y-0 right-0 pr-3 flex items-center"},CB={key:0,class:"mt-1 text-sm text-light-neutral-500 dark:text-dark-neutral-500"},PB={key:3,class:"mt-6"},RB={class:"bg-light-neutral-100 dark:bg-dark-neutral-800 p-4 rounded-md text-center"},NB={class:"mx-auto max-w-[200px] mb-4"},$B=["disabled"],OB={key:0,class:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},DB={class:"mt-10 lg:mt-0"},MB={class:"bg-light-secondary dark:bg-dark-secondary shadow rounded-lg overflow-hidden sticky top-6"},VB={class:"px-6 py-4"},LB={class:"flow-root"},FB={class:"-my-4 divide-y divide-light-neutral-200 dark:divide-dark-neutral-700"},UB={class:"flex-shrink-0 w-16 h-16 border border-light-neutral-200 dark:border-dark-neutral-700 rounded-md overflow-hidden"},jB=["src","alt"],BB={class:"ml-4 flex-1 flex flex-col"},qB={class:"flex justify-between text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},HB={class:"ml-4"},zB={class:"mt-1 text-sm text-light-text-secondary dark:text-dark-text-secondary"},WB={class:"flex-1 flex items-end justify-between text-sm"},KB={class:"text-light-text-secondary dark:text-dark-text-secondary"},GB={class:"border-t border-light-neutral-200 dark:border-dark-neutral-700 px-6 py-4 space-y-3"},QB={class:"flex justify-between text-sm text-light-text-secondary dark:text-dark-text-secondary"},YB={class:"flex justify-between text-sm text-light-text-secondary dark:text-dark-text-secondary"},JB={key:0},XB={key:1,class:"text-green-600 dark:text-green-400"},ZB={class:"flex justify-between text-sm text-light-text-secondary dark:text-dark-text-secondary"},eq={class:"pt-3 border-t border-light-neutral-200 dark:border-dark-neutral-700"},tq={class:"flex justify-between text-base font-medium text-light-text-primary dark:text-dark-text-primary"},rq={__name:"CheckoutView",setup(t){const e=ii(),r=$n(),n=ro(),s=In(),i=H(!1),o=H(""),a=H(""),l=H(null),d=H(!1),h=H(!0),f=["Nairobi","Mombasa","Kisumu","Nakuru","Eldoret","Kitengela","Thika","Machakos","Kahawa","Ruiru","Athi River","Kiambu","Rongai"],p={Nairobi:["CBD - Kencom House","CBD - Archives","CBD - Afya Centre","Westlands - The Mall","Eastleigh - First Avenue","South B - Capital Center","Karen - Karen Hub"],Kitengela:["Kitengela Mall","EPZ Plaza","Milestone Mall"],Kahawa:["Kahawa West Shopping Center","Kahawa Sukari Mall","Kahawa Wendani Plaza"]},y=H({firstName:"",lastName:"",email:"",phone:"",deliveryMethod:"",city:"",pickupPoint:"",address:""}),b=H([]),k=()=>{y.value.pickupPoint="",y.value.address=""},_=()=>{y.value.pickupPoint="",y.value.city&&p[y.value.city]?b.value=p[y.value.city]:b.value=[]},T=H({cardName:"",cardNumber:"",expirationDate:"",cvv:""}),P=[{id:"mobile-money",name:"M-Pesa"},{id:"cash",name:"Cash on Delivery"},{id:"card",name:"Card Payment"},{id:"paypal",name:"PayPal"}],E=H("mobile-money"),R=H({phoneNumber:""}),A=H(!1),M=H(null),I=H(!1),v=H(!1);H(1),Rt(E,async F=>{F==="paypal"&&!I.value&&await m()});const m=async()=>{try{const F=await zc.initializePayPal();M.value&&(F.Buttons({style:{layout:"vertical",color:"blue",shape:"rect",label:"paypal"},createOrder:async(L,be)=>{const re=zc.createOrder(oe.value+U.value*.08,G.value);return be.order.create(re)},onApprove:async(L,be)=>{v.value=!0;try{const re=await be.order.capture();await w(re)}catch(re){await zc.handlePayPalError(re)}finally{v.value=!1}},onError:async L=>{await zc.handlePayPalError(L)}}).render(M.value),I.value=!0)}catch(F){console.error("Failed to initialize PayPal:",F),o.value="Failed to initialize PayPal. Please try another payment method."}},w=async F=>{try{const L={...N(),paymentMethod:"paypal",paymentDetails:{paypal:!0,orderId:F.id,status:F.status,payerEmail:F.payer.email_address},status:"paid"};await He.createOrder(L),n.clearCart(),s.addNotification({title:"PayPal Payment Successful",message:"Your payment has been processed successfully",type:"success",timeout:5e3}),await s.addPersistedNotification({title:"Order Confirmation",message:"Your PayPal payment was successful and your order has been confirmed",type:"success",userId:r.user.uid}),a.value="Order placed successfully! Payment completed via PayPal.",setTimeout(()=>{e.push("/account")},3e3)}catch(L){console.error("Error processing PayPal order:",L),o.value="Failed to process PayPal payment. Please contact support.",s.addNotification({title:"PayPal Error",message:"Failed to process your PayPal payment. Please try again or contact support.",type:"error",timeout:5e3})}},N=()=>({userId:r.user.uid,orderNumber:`ORD-${Date.now().toString().slice(-6)}`,items:G.value,subtotal:U.value,shipping:ee.value,total:oe.value+U.value*.08,shippingInfo:{...y.value},orderDate:new Date,estimatedDelivery:new Date(Date.now()+7*24*60*60*1e3)}),S=te(()=>{switch(E.value){case"mobile-money":return/^254[0-9]{9}$/.test(R.value.phoneNumber);case"cash":return A.value;case"card":return T.value.cardNumber&&T.value.cardName&&T.value.expirationDate&&T.value.cvv;case"paypal":return!0;default:return!1}}),C=()=>{if(i.value)return"Processing...";switch(E.value){case"mobile-money":return`Pay with M-Pesa - ${Ye(oe.value+U.value*.08)}`;case"cash":return`Place Order - Pay ${Ye(oe.value+U.value*.08)} on Delivery`;case"card":return`Pay ${Ye(oe.value+U.value*.08)}`;case"paypal":return`Proceed to PayPal - ${Ye(oe.value+U.value*.08)}`;default:return`Complete Order - ${Ye(oe.value+U.value*.08)}`}},le=()=>{console.log("Redirecting to PayPal...")},ce=()=>{window.open("/digital-wallet/ways-to-pay/add-payment-method","WIPaypal","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=yes, resizable=yes, width=1060, height=700")},G=te(()=>n.cart),U=te(()=>n.subtotal),ee=te(()=>U.value>=100?0:10),oe=te(()=>U.value+ee.value);je(async()=>{if(r.user)try{const F=await He.getUserProfile(r.user.uid);l.value=F,F&&(y.value={...y.value,firstName:F.firstName||"",lastName:F.lastName||"",email:F.email||r.user.email,phone:F.phone||"",address:F.address||""})}catch(F){console.error("Error loading user profile:",F)}else e.push("/login?redirect=checkout");G.value.length===0&&e.push("/cart")});const we=async()=>{if(i.value=!0,o.value="",G.value.length===0){o.value="Your cart is empty",i.value=!1,s.addNotification({title:"Error",message:"Cannot place order with empty cart",type:"error",timeout:5e3});return}try{const F=new Date,L=`ORD-${Date.now().toString().slice(-6)}`,be={userId:r.user.uid,orderNumber:L,items:G.value,subtotal:U.value,shipping:ee.value,total:oe.value,shippingInfo:{...y.value},paymentMethod:E.value,paymentDetails:ye(),status:Se(),orderDate:F,estimatedDelivery:new Date(F.setDate(F.getDate()+7))},re=await He.createOrder(be);E.value==="mobile-money"&&(await ot(re.id),await s.addPersistedNotification({title:"Payment Required",message:`Please complete M-Pesa payment for order ${L}`,type:"warning",userId:r.user.uid})),n.clearCart(),a.value=Le(L),s.addNotification({title:"Order Placed",message:`Order ${L} has been placed successfully`,type:"success",timeout:5e3}),await s.addPersistedNotification({title:"Order Confirmation",message:`Your order ${L} has been received and is being processed`,type:"success",userId:r.user.uid}),await s.addPersistedNotification({title:"New Order Received",message:`New order ${L} received from ${y.value.firstName} ${y.value.lastName}`,type:"info",isAdmin:!0}),setTimeout(()=>{e.push("/account")},3e3)}catch(F){o.value="Failed to place order. Please try again.",console.error("Error placing order:",F),s.addNotification({title:"Order Failed",message:"Failed to place your order. Please try again.",type:"error",timeout:5e3})}finally{i.value=!1}},ye=()=>{switch(E.value){case"mobile-money":return{phoneNumber:R.value.phoneNumber};case"cash":return{cashOnDelivery:!0};case"card":return{cardName:T.value.cardName,lastFourDigits:T.value.cardNumber.slice(-4),cardType:Et(T.value.cardNumber)};case"paypal":return{paypal:!0};default:return{}}},Se=()=>{switch(E.value){case"mobile-money":return"awaiting_payment";case"cash":return"pending";case"card":case"paypal":return"processing";default:return"pending"}},Le=F=>{switch(E.value){case"mobile-money":return`Order ${F} placed! Please check your phone for the M-Pesa payment prompt.`;case"cash":return`Order ${F} placed! Please have ${Ye(oe.value+U.value*.08)} ready for delivery.`;case"card":return`Order ${F} placed successfully! Your card has been charged.`;case"paypal":return`Order ${F} placed successfully! Payment completed via PayPal.`;default:return`Order placed successfully! Your order number is ${F}.`}},ot=async F=>{try{console.log("Initiating M-Pesa payment for order:",F)}catch(L){throw console.error("Error initiating M-Pesa payment:",L),L}},Et=F=>{const L=F.replace(/\D/g,"");return/^4/.test(L)?"Visa":/^5[1-5]/.test(L)?"MasterCard":/^3[47]/.test(L)?"American Express":/^6(?:011|5)/.test(L)?"Discover":"Unknown"},ft={mounted(F,L){F.addEventListener("input",be=>{const{value:re}=L;if(!re||!re.value)return;const D=be.target.value.replace(/\D/g,""),B=re.value;let Y="",ie=0;for(let J=0;J<B.length&&ie<D.length;J++)B[J]==="#"?(Y+=D[ie],ie++):Y+=B[J];be.target.value=Y})}},V={mounted(F,L){L&&L.value&&ft.mounted(F,L)}};return(F,L)=>{const be=Lr("router-link");return O(),j("div",Fj,[L[57]||(L[57]=Tt('<div class="bg-light-secondary dark:bg-dark-secondary shadow-sm py-8 mb-8" data-v-d3cc8e63><div class="container mx-auto px-4" data-v-d3cc8e63><div class="max-w-4xl mx-auto" data-v-d3cc8e63><div class="flex flex-col sm:flex-row items-center justify-between gap-4" data-v-d3cc8e63><div class="flex items-center w-full sm:w-auto" data-v-d3cc8e63><div class="relative" data-v-d3cc8e63><div class="w-12 h-12 rounded-full bg-btn-primary text-white flex items-center justify-center font-semibold text-lg" data-v-d3cc8e63> 1 </div><div class="absolute -right-4 top-1/2 h-1 w-8 bg-btn-primary hidden sm:block" data-v-d3cc8e63></div></div><div class="ml-4" data-v-d3cc8e63><p class="font-medium text-btn-primary" data-v-d3cc8e63>Cart</p><p class="text-sm text-light-text-secondary dark:text-dark-text-secondary" data-v-d3cc8e63>Review items</p></div></div><div class="flex items-center w-full sm:w-auto" data-v-d3cc8e63><div class="relative" data-v-d3cc8e63><div class="w-12 h-12 rounded-full bg-btn-primary text-white flex items-center justify-center font-semibold text-lg" data-v-d3cc8e63> 2 </div><div class="absolute -right-4 top-1/2 h-1 w-8 bg-btn-primary hidden sm:block" data-v-d3cc8e63></div><div class="absolute -left-4 top-1/2 h-1 w-8 bg-btn-primary hidden sm:block" data-v-d3cc8e63></div></div><div class="ml-4" data-v-d3cc8e63><p class="font-medium text-btn-primary" data-v-d3cc8e63>Checkout</p><p class="text-sm text-light-text-secondary dark:text-dark-text-secondary" data-v-d3cc8e63>Payment details</p></div></div><div class="flex items-center w-full sm:w-auto" data-v-d3cc8e63><div class="relative" data-v-d3cc8e63><div class="w-12 h-12 rounded-full bg-light-neutral-300 dark:bg-dark-neutral-600 text-light-neutral-600 dark:text-dark-neutral-300 flex items-center justify-center font-semibold text-lg" data-v-d3cc8e63> 3 </div><div class="absolute -left-4 top-1/2 h-1 w-8 bg-light-neutral-300 dark:bg-dark-neutral-600 hidden sm:block" data-v-d3cc8e63></div></div><div class="ml-4" data-v-d3cc8e63><p class="font-medium text-light-neutral-500 dark:text-dark-neutral-400" data-v-d3cc8e63>Confirmation</p><p class="text-sm text-light-text-secondary dark:text-dark-text-secondary" data-v-d3cc8e63>Order complete</p></div></div></div></div></div></div>',1)),a.value?(O(),j("div",Uj,[c("div",jj,[c("div",Bj,[L[18]||(L[18]=Tt('<div class="flex justify-center mb-5" data-v-d3cc8e63><div class="rounded-full bg-green-100 dark:bg-green-800 p-3" data-v-d3cc8e63><svg class="h-10 w-10 text-green-600 dark:text-green-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-d3cc8e63><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" data-v-d3cc8e63></path></svg></div></div><h2 class="text-2xl font-bold text-green-800 dark:text-green-200 mb-2" data-v-d3cc8e63>Order Placed Successfully!</h2>',2)),c("p",qj,K(a.value),1),L[19]||(L[19]=c("p",{class:"mt-4 text-light-text-secondary dark:text-dark-text-secondary"},"Redirecting to your account page...",-1)),c("div",Hj,[z(be,{to:"/account",class:"px-6 py-3 bg-accent-primary hover:bg-accent-secondary text-white font-medium rounded-md transition-all"},{default:Z(()=>L[17]||(L[17]=[de(" View order details ")])),_:1})])])])])):o.value?(O(),j("div",zj,[c("div",Wj,[L[21]||(L[21]=c("div",{class:"flex-shrink-0 mt-0.5"},[c("svg",{class:"h-5 w-5 text-red-600 dark:text-red-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),c("div",Kj,[c("p",Gj,K(o.value),1)]),c("button",{onClick:L[0]||(L[0]=re=>o.value=""),class:"ml-auto text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300"},L[20]||(L[20]=[c("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])])):(O(),j("div",Qj,[c("div",Yj,[c("div",Jj,[c("form",{onSubmit:Vr(we,["prevent"])},[c("div",Xj,[L[35]||(L[35]=Tt('<div class="bg-light-neutral-100 dark:bg-dark-neutral-800 py-4 px-6 border-b border-light-neutral-200 dark:border-dark-neutral-700" data-v-d3cc8e63><div class="flex items-center" data-v-d3cc8e63><div class="bg-accent-primary rounded-full h-8 w-8 flex items-center justify-center mr-3" data-v-d3cc8e63><svg class="h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-d3cc8e63><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" data-v-d3cc8e63></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" data-v-d3cc8e63></path></svg></div><h2 class="text-xl font-bold text-light-text-primary dark:text-dark-text-primary" data-v-d3cc8e63>Shipping Information</h2></div></div>',1)),c("div",Zj,[c("div",eB,[c("div",null,[L[22]||(L[22]=c("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"First Name",-1)),Te(c("input",{"onUpdate:modelValue":L[1]||(L[1]=re=>y.value.firstName=re),type:"text",required:"",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all",placeholder:"Your first name"},null,512),[[Pe,y.value.firstName]])]),c("div",null,[L[23]||(L[23]=c("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"Last Name",-1)),Te(c("input",{"onUpdate:modelValue":L[2]||(L[2]=re=>y.value.lastName=re),type:"text",required:"",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all",placeholder:"Your last name"},null,512),[[Pe,y.value.lastName]])]),c("div",null,[L[24]||(L[24]=c("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"Email",-1)),Te(c("input",{"onUpdate:modelValue":L[3]||(L[3]=re=>y.value.email=re),type:"email",required:"",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all",placeholder:"your.email@example.com"},null,512),[[Pe,y.value.email]])]),c("div",null,[L[25]||(L[25]=c("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"Phone",-1)),Te(c("input",{"onUpdate:modelValue":L[4]||(L[4]=re=>y.value.phone=re),type:"tel",required:"",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all",placeholder:"254XXXXXXXXX"},null,512),[[Pe,y.value.phone]])])]),c("div",tB,[L[27]||(L[27]=c("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"Delivery Method",-1)),Te(c("select",{"onUpdate:modelValue":L[5]||(L[5]=re=>y.value.deliveryMethod=re),required:"",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all",onChange:k},L[26]||(L[26]=[c("option",{value:""},"Select delivery method",-1),c("option",{value:"delivery"},"Home/Office Delivery",-1),c("option",{value:"pickup"},"Pickup Point",-1)]),544),[[ns,y.value.deliveryMethod]])]),c("div",rB,[L[29]||(L[29]=c("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"City",-1)),Te(c("select",{"onUpdate:modelValue":L[6]||(L[6]=re=>y.value.city=re),required:"",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all",onChange:_},[L[28]||(L[28]=c("option",{value:""},"Select city",-1)),(O(),j(ke,null,qe(f,re=>c("option",{key:re,value:re},K(re),9,nB)),64))],544),[[ns,y.value.city]])]),y.value.deliveryMethod==="pickup"?(O(),j("div",sB,[L[31]||(L[31]=c("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"Pickup Point",-1)),Te(c("select",{"onUpdate:modelValue":L[7]||(L[7]=re=>y.value.pickupPoint=re),required:"",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all"},[L[30]||(L[30]=c("option",{value:""},"Select pickup point",-1)),(O(!0),j(ke,null,qe(b.value,re=>(O(),j("option",{key:re,value:re},K(re),9,iB))),128))],512),[[ns,y.value.pickupPoint]])])):fe("",!0),y.value.deliveryMethod==="delivery"?(O(),j("div",oB,[L[32]||(L[32]=c("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"Detailed Address",-1)),Te(c("textarea",{"onUpdate:modelValue":L[8]||(L[8]=re=>y.value.address=re),required:"",rows:"3",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all",placeholder:"Enter your detailed address (e.g., House/Apartment number, Street name, Estate/Area)"},null,512),[[Pe,y.value.address]]),L[33]||(L[33]=c("p",{class:"mt-1 text-sm text-light-text-secondary dark:text-dark-text-secondary"}," Please provide landmarks or additional directions to help locate your address ",-1))])):fe("",!0),c("div",aB,[c("div",lB,[Te(c("input",{id:"save-info",type:"checkbox","onUpdate:modelValue":L[9]||(L[9]=re=>h.value=re),class:"h-4 w-4 text-accent-primary focus:ring-accent-primary border-light-neutral-300 dark:border-dark-neutral-600 rounded"},null,512),[[Fo,h.value]]),L[34]||(L[34]=c("label",{for:"save-info",class:"ml-2 block text-sm text-light-text-primary dark:text-dark-text-primary"}," Save this information for next time ",-1))])])])]),c("div",cB,[L[48]||(L[48]=Tt('<div class="bg-light-neutral-100 dark:bg-dark-neutral-800 py-4 px-6 border-b border-light-neutral-200 dark:border-dark-neutral-700" data-v-d3cc8e63><div class="flex items-center" data-v-d3cc8e63><div class="bg-accent-primary rounded-full h-8 w-8 flex items-center justify-center mr-3" data-v-d3cc8e63><svg class="h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-d3cc8e63><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z" data-v-d3cc8e63></path></svg></div><h2 class="text-xl font-bold text-light-text-primary dark:text-dark-text-primary" data-v-d3cc8e63>Payment Method</h2></div></div>',1)),c("div",uB,[c("div",dB,[c("nav",hB,[(O(),j(ke,null,qe(P,re=>c("button",{key:re.id,onClick:D=>E.value=re.id,class:$e([E.value===re.id?"border-accent-primary text-accent-primary":"border-transparent text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary hover:border-light-neutral-300 dark:hover:border-dark-neutral-700","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])},K(re.name),11,fB)),64))])]),E.value==="mobile-money"?(O(),j("div",pB,[c("div",mB,[L[36]||(L[36]=c("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"Phone Number",-1)),Te(c("input",{"onUpdate:modelValue":L[10]||(L[10]=re=>R.value.phoneNumber=re),type:"tel",required:"",placeholder:"254XXXXXXXXX",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all"},null,512),[[Pe,R.value.phoneNumber]])]),L[37]||(L[37]=c("p",{class:"text-sm text-light-text-secondary dark:text-dark-text-secondary mt-2"}," You will receive an M-Pesa prompt on your phone to complete the payment. ",-1))])):fe("",!0),E.value==="cash"?(O(),j("div",gB,[c("div",yB,[L[38]||(L[38]=c("p",{class:"text-sm text-light-text-primary dark:text-dark-text-primary"}," You will pay in cash when your order is delivered. Please have the exact amount ready. ",-1)),c("div",vB,[c("label",bB,[Te(c("input",{type:"checkbox","onUpdate:modelValue":L[11]||(L[11]=re=>A.value=re),class:"h-4 w-4 text-accent-primary focus:ring-accent-primary border-light-neutral-300 dark:border-dark-neutral-600 rounded"},null,512),[[Fo,A.value]]),c("span",xB," I agree to pay the full amount of "+K(q(Ye)(oe.value+U.value*.08))+" upon delivery ",1)])])])])):fe("",!0),E.value==="card"?(O(),j("div",_B,[c("div",wB,[L[45]||(L[45]=Tt('<div class="mb-8" data-v-d3cc8e63><div class="flex items-center justify-between mb-4" data-v-d3cc8e63><p class="text-sm font-medium text-light-text-primary dark:text-dark-text-primary" data-v-d3cc8e63>Accepted Cards</p><div class="flex space-x-2" data-v-d3cc8e63><div class="h-8 w-12 rounded border bg-light-neutral-100 dark:bg-dark-neutral-800 flex items-center justify-center" data-v-d3cc8e63><span class="text-xs font-bold text-blue-700" data-v-d3cc8e63>VISA</span></div><div class="h-8 w-12 rounded border bg-light-neutral-100 dark:bg-dark-neutral-800 flex items-center justify-center" data-v-d3cc8e63><span class="text-xs font-bold text-red-700" data-v-d3cc8e63>MC</span></div><div class="h-8 w-12 rounded border bg-light-neutral-100 dark:bg-dark-neutral-800 flex items-center justify-center" data-v-d3cc8e63><span class="text-xs font-bold text-blue-900" data-v-d3cc8e63>AMEX</span></div></div></div></div>',1)),c("div",kB,[L[39]||(L[39]=c("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"Name on Card",-1)),Te(c("input",{"onUpdate:modelValue":L[12]||(L[12]=re=>T.value.cardName=re),type:"text",required:"",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all"},null,512),[[Pe,T.value.cardName]])]),c("div",EB,[L[41]||(L[41]=c("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"Card Number",-1)),c("div",IB,[Te(c("input",{"onUpdate:modelValue":L[13]||(L[13]=re=>T.value.cardNumber=re),type:"text",required:"",placeholder:"1234 5678 9012 3456",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all"},null,512),[[Pe,T.value.cardNumber],[q(V),"#### #### #### ####"]]),L[40]||(L[40]=c("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[c("svg",{class:"h-5 w-5 text-light-neutral-400 dark:text-dark-neutral-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})])],-1))])]),c("div",TB,[c("div",null,[L[42]||(L[42]=c("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"Expiration Date",-1)),Te(c("input",{"onUpdate:modelValue":L[14]||(L[14]=re=>T.value.expirationDate=re),type:"text",required:"",placeholder:"MM/YY",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all"},null,512),[[Pe,T.value.expirationDate],[q(V),"##/##"]])]),c("div",null,[L[44]||(L[44]=c("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"CVV",-1)),c("div",AB,[Te(c("input",{"onUpdate:modelValue":L[15]||(L[15]=re=>T.value.cvv=re),type:"text",required:"",placeholder:"123",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all",maxlength:"3"},null,512),[[Pe,T.value.cvv],[q(V),"###"]]),c("div",SB,[c("button",{type:"button",onClick:L[16]||(L[16]=re=>d.value=!d.value),class:"text-light-neutral-400 dark:text-dark-neutral-600 hover:text-light-neutral-500 dark:hover:text-dark-neutral-500 focus:outline-none"},L[43]||(L[43]=[c("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)]))])]),d.value?(O(),j("div",CB," The CVV is a 3-digit security code found on the back of your card. ")):fe("",!0)])])])])):fe("",!0),E.value==="paypal"?(O(),j("div",PB,[c("div",RB,[c("div",NB,[c("a",{href:"/digital-wallet/ways-to-pay/add-payment-method",title:"How PayPal Works",onClick:Vr(ce,["prevent"]),class:"inline-block"},L[46]||(L[46]=[c("img",{src:"https://www.paypalobjects.com/webstatic/mktg/logo/pp_cc_mark_74x46.jpg",alt:"PayPal Logo",class:"mx-auto"},null,-1)]))]),L[47]||(L[47]=c("p",{class:"text-sm text-light-text-primary dark:text-dark-text-primary my-4"}," You will be redirected to PayPal to complete your payment securely. ",-1)),c("div",{ref_key:"paypalButtonsContainer",ref:M},null,512),c("button",{type:"button",onClick:le,class:"w-full py-3 bg-btn-primary hover:bg-btn-primary-hover active:bg-btn-primary-dark text-white font-medium rounded-md transition-all"}," Checkout with PayPal ")])])):fe("",!0)])]),c("button",{type:"submit",class:$e(["w-full py-4 bg-btn-primary hover:bg-btn-primary-hover active:bg-btn-primary-dark text-white text-lg font-medium rounded-md transition-all flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent-primary",{"opacity-75 cursor-not-allowed":i.value||!S.value}]),disabled:i.value||!S.value},[i.value?(O(),j("svg",OB,L[49]||(L[49]=[c("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),c("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):fe("",!0),de(" "+K(C()),1)],10,$B)],32)]),c("div",DB,[c("div",MB,[L[55]||(L[55]=c("div",{class:"bg-light-neutral-100 dark:bg-dark-neutral-800 py-4 px-6 border-b border-light-neutral-200 dark:border-dark-neutral-700"},[c("h2",{class:"text-lg font-bold text-light-text-primary dark:text-dark-text-primary"},"Order Summary")],-1)),c("div",VB,[c("div",LB,[c("ul",FB,[(O(!0),j(ke,null,qe(G.value,re=>(O(),j("li",{key:re.id,class:"py-4 flex"},[c("div",UB,[c("img",{src:re.imageUrl||re.image||"https://placehold.co/64",alt:re.name,class:"w-full h-full object-center object-cover"},null,8,jB)]),c("div",BB,[c("div",null,[c("div",qB,[c("h3",null,K(re.name),1),c("p",HB,K(q(Ye)(re.price*re.quantity)),1)]),c("p",zB,K(re.category||"Jewelry"),1)]),c("div",WB,[c("p",KB,"Qty "+K(re.quantity),1)])])]))),128))])])]),c("div",GB,[c("div",QB,[L[50]||(L[50]=c("p",null,"Subtotal",-1)),c("p",null,K(q(Ye)(U.value)),1)]),c("div",YB,[L[51]||(L[51]=c("p",null,"Shipping",-1)),ee.value>0?(O(),j("p",JB,K(q(Ye)(ee.value)),1)):(O(),j("p",XB,"Free"))]),c("div",ZB,[L[52]||(L[52]=c("p",null,"Taxes (estimated)",-1)),c("p",null,K(q(Ye)(U.value*.08)),1)]),c("div",eq,[c("div",tq,[L[53]||(L[53]=c("p",null,"Total",-1)),c("p",null,K(q(Ye)(oe.value+U.value*.08)),1)]),L[54]||(L[54]=c("p",{class:"mt-1 text-sm text-light-text-secondary dark:text-dark-text-secondary"},"Shipping and taxes calculated at checkout",-1))])]),L[56]||(L[56]=Tt('<div class="px-6 pb-6 pt-2" data-v-d3cc8e63><div class="mt-2" data-v-d3cc8e63><div class="border border-light-neutral-300 dark:border-dark-neutral-600 rounded-md p-4 bg-light-neutral-100 dark:bg-dark-neutral-800" data-v-d3cc8e63><div class="flex" data-v-d3cc8e63><div class="flex-shrink-0" data-v-d3cc8e63><svg class="h-5 w-5 text-green-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-d3cc8e63><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" data-v-d3cc8e63></path></svg></div><div class="ml-3" data-v-d3cc8e63><p class="text-sm text-light-text-primary dark:text-dark-text-primary" data-v-d3cc8e63><strong data-v-d3cc8e63>Secure checkout</strong> - Your payment information is protected </p></div></div></div></div><div class="mt-4 flex justify-center" data-v-d3cc8e63><div class="flex items-center space-x-2" data-v-d3cc8e63><svg class="h-5 w-5 text-light-neutral-400 dark:text-dark-neutral-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-d3cc8e63><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" data-v-d3cc8e63></path></svg><span class="text-xs text-light-text-secondary dark:text-dark-text-secondary" data-v-d3cc8e63>SSL Secure Payment</span></div></div></div>',1))])])])]))])}}},nq=Gr(rq,[["__scopeId","data-v-d3cc8e63"]]),sq="/images/Neeon%20Moon%201.jpeg",iq="/images/Golden%20black.jpeg",oq={class:"bg-light-primary dark:bg-dark-primary min-h-screen"},aq={class:"bg-light-primary dark:bg-dark-primary py-24 sm:py-32"},lq={class:"mx-auto max-w-7xl px-6 lg:px-8"},cq={class:"mx-auto mt-16 max-w-2xl sm:mt-20 lg:mt-24 lg:max-w-4xl"},uq={class:"grid max-w-xl grid-cols-1 gap-x-8 gap-y-10 lg:max-w-none lg:grid-cols-2 lg:gap-y-16"},dq={class:"text-base font-semibold leading-7 text-light-text-primary dark:text-dark-text-primary"},hq={class:"absolute left-0 top-0 flex h-10 w-10 items-center justify-center rounded-lg bg-accent-primary"},fq={class:"mt-2 text-base leading-7 text-light-text-secondary dark:text-dark-text-secondary"},pq={class:"bg-light-secondary dark:bg-dark-secondary py-24 sm:py-32"},mq={class:"mx-auto max-w-7xl px-6 lg:px-8"},gq={role:"list",class:"mx-auto mt-20 grid max-w-2xl grid-cols-1 gap-x-8 gap-y-16 sm:grid-cols-2 lg:mx-0 lg:max-w-none lg:grid-cols-3"},yq=["src","alt"],vq={class:"mt-6"},bq={class:"text-lg font-semibold leading-8 tracking-tight text-light-text-primary dark:text-dark-text-primary"},xq={class:"text-base leading-7 text-accent-primary"},_q={class:"mt-4 text-base leading-7 text-light-text-secondary dark:text-dark-text-secondary"},wq={class:"bg-light-primary dark:bg-dark-primary"},kq={class:"mx-auto max-w-7xl py-24 sm:px-6 sm:py-32 lg:px-8"},Eq={class:"relative isolate overflow-hidden bg-accent-primary px-6 pt-16 shadow-2xl sm:rounded-3xl sm:px-16 md:pt-24 lg:flex lg:gap-x-20 lg:px-24 lg:pt-0 fade-in",style:{"animation-delay":"0.3s"}},Iq={class:"mx-auto max-w-md text-center lg:mx-0 lg:flex-auto lg:py-32 lg:text-left"},Tq={class:"mt-10 flex items-center justify-center gap-x-6 lg:justify-start"},Aq={__name:"AboutUs",setup(t){je(()=>{const n=new IntersectionObserver(s=>{s.forEach(i=>{i.isIntersecting&&(i.target.style.visibility="visible")})},{threshold:.1});document.querySelectorAll(".fade-in, .slide-up, .slide-in-right, .stagger-item").forEach(s=>{s.style.visibility="hidden",n.observe(s)})});const e=[{title:"Quality Craftsmanship",description:"Every piece is crafted to the highest standards, using premium materials and meticulous attention to detail.",icon:Ze({template:`
        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0012 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52l2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 01-2.031.352 5.988 5.988 0 01-2.031-.352c-.483-.174-.711-.703-.59-1.202L18.75 4.971zm-16.5.52c.99-.203 1.99-.377 3-.52m0 0l2.62 10.726c.122.499-.106 1.028-.589 1.202a5.989 5.989 0 01-2.031.352 5.989 5.989 0 01-2.031-.352c-.483-.174-.711-.703-.59-1.202L5.25 4.971z" />
        </svg>
      `})},{title:"Artistic Innovation",description:"We blend traditional techniques with contemporary design to create unique pieces that stand out.",icon:Ze({template:`
        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z" />
        </svg>
      `})},{title:"Personalized Experience",description:"We believe in creating personal connections with our customers and offering jewelry that tells their unique story.",icon:Ze({template:`
        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" />
        </svg>
      `})},{title:"Sustainable Practices",description:"We're committed to environmentally responsible practices, from ethically sourced materials to eco-friendly packaging.",icon:Ze({template:`
        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M12.75 3.03v.568c0 .334.148.65.405.864l1.068.89c.442.369.535 1.01.216 1.49l-.51.766a2.25 2.25 0 01-1.161.886l-.143.048a1.107 1.107 0 00-.57 1.664c.369.555.169 1.307-.427 1.605L9 13.125l.423 1.059a.956.956 0 01-1.652.928l-.679-.906a1.125 1.125 0 00-1.906.172L4.5 15.75l-.612.153M12.75 3.031a9 9 0 00-8.862 12.872M12.75 3.031a9 9 0 016.69 14.036m0 0l-.177-.529A2.25 2.25 0 0017.128 15H16.5l-.324-.324a1.453 1.453 0 00-2.328.377l-.036.073a1.586 1.586 0 01-.982.816l-.99.282c-.55.157-.894.702-.8 1.267l.073.438c.08.474.49.821.97.821.846 0 1.598.542 1.865 1.345l.215.643m5.276-3.67a9.012 9.012 0 01-5.276 3.67m0 0a9 9 0 01-10.275-4.835M15.75 9c0 .896-.393 1.7-1.016 2.25" />
        </svg>
      `})}],r=[{name:"Emma Anderson",role:"Founder & Lead Designer",description:"Emma brings over 15 years of jewelry design experience and a passion for creating pieces that tell stories.",image:"https://images.unsplash.com/photo-1580489944761-15a19d654956?ixlib=rb-1.2.1&auto=format&fit=crop&w=1061&q=80"},{name:"Daniel Martinez",role:"Master Craftsman",description:"Daniel's precision and attention to detail ensure that every piece meets our exacting quality standards.",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-1.2.1&auto=format&fit=crop&w=987&q=80"},{name:"Sophia Chen",role:"Materials Specialist",description:"Sophia sources the finest materials from around the world, ensuring both quality and ethical practices.",image:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-1.2.1&auto=format&fit=crop&w=928&q=80"}];return(n,s)=>(O(),j("div",oq,[s[8]||(s[8]=Tt('<div class="relative overflow-hidden" data-v-d3447e6c><div class="absolute inset-0 fade-in" data-v-d3447e6c><img src="'+sq+'" alt="Jewelry crafting" class="h-full w-full object-cover object-center" data-v-d3447e6c><div class="absolute inset-0 bg-gray-900 opacity-60" data-v-d3447e6c></div></div><div class="relative px-6 py-32 sm:py-40 lg:px-8" data-v-d3447e6c><div class="mx-auto max-w-2xl text-center slide-up" data-v-d3447e6c><h1 class="text-4xl font-bold tracking-tight text-white sm:text-6xl" data-v-d3447e6c>About Beabed Art</h1><p class="mt-6 text-lg leading-8 text-white" data-v-d3447e6c>Crafting uniquely beautiful jewelry to celebrate life&#39;s special moments</p></div></div></div><div class="overflow-hidden bg-light-secondary dark:bg-dark-secondary py-24 sm:py-32" data-v-d3447e6c><div class="mx-auto max-w-7xl px-6 lg:px-8" data-v-d3447e6c><div class="mx-auto grid max-w-2xl grid-cols-1 gap-x-8 gap-y-16 sm:gap-y-20 lg:mx-0 lg:max-w-none lg:grid-cols-2" data-v-d3447e6c><div class="lg:pr-8 lg:pt-4 slide-up" style="animation-delay:0.3s;" data-v-d3447e6c><div class="lg:max-w-lg" data-v-d3447e6c><h2 class="text-base font-semibold leading-7 text-accent-primary" data-v-d3447e6c>Our Story</h2><p class="mt-2 text-3xl font-bold tracking-tight text-light-text-primary dark:text-dark-text-primary sm:text-4xl" data-v-d3447e6c>Handcrafted with passion</p><p class="mt-6 text-lg leading-8 text-light-text-secondary dark:text-dark-text-secondary" data-v-d3447e6c> Beabed Art was born from a simple love of creating beautiful things. What started as a hobby in a small home workshop has grown into a passionate pursuit of craftsmanship and artistic expression. </p><p class="mt-6 text-lg leading-8 text-light-text-secondary dark:text-dark-text-secondary" data-v-d3447e6c> Every piece in our collection is handcrafted with meticulous attention to detail, using traditional techniques passed down through generations alongside innovative modern approaches. </p><p class="mt-6 text-lg leading-8 text-light-text-secondary dark:text-dark-text-secondary" data-v-d3447e6c> We believe jewelry should be as unique as the person wearing it, telling a story and creating a connection that lasts a lifetime. </p></div></div><img src="https://images.unsplash.com/photo-1617038260897-41a1f14a8ca0?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=987&amp;q=80" alt="Jewelry making process" class="slide-in-right w-[48rem] max-h-[30rem] object-cover rounded-xl shadow-xl ring-1 ring-light-neutral-300 dark:ring-dark-neutral-700 sm:w-[57rem] md:-ml-4 lg:-ml-0" style="animation-delay:0.6s;" width="2432" height="1442" data-v-d3447e6c></div></div></div>',2)),c("div",aq,[c("div",lq,[s[0]||(s[0]=c("div",{class:"mx-auto max-w-2xl lg:text-center slide-up",style:{"animation-delay":"0.3s"}},[c("h2",{class:"text-base font-semibold leading-7 text-accent-primary"},"Our Values"),c("p",{class:"mt-2 text-3xl font-bold tracking-tight text-light-text-primary dark:text-dark-text-primary sm:text-4xl"}," What guides our craft "),c("p",{class:"mt-6 text-lg leading-8 text-light-text-secondary dark:text-dark-text-secondary"}," At Beabed Art, these principles guide everything we do, from design to customer service. ")],-1)),c("div",cq,[c("dl",uq,[(O(),j(ke,null,qe(e,(i,o)=>c("div",{key:o,class:"relative pl-16 stagger-item",style:St({animationDelay:`${.3+o*.2}s`})},[c("dt",dq,[c("div",hq,[(O(),mt(gd(i.icon),{class:"h-6 w-6 text-light-text-primary dark:text-dark-text-primary"}))]),de(" "+K(i.title),1)]),c("dd",fq,K(i.description),1)],4)),64))])])])]),c("div",pq,[c("div",mq,[s[1]||(s[1]=c("div",{class:"mx-auto max-w-2xl lg:mx-0 slide-up",style:{"animation-delay":"0.3s"}},[c("h2",{class:"text-3xl font-bold tracking-tight text-light-text-primary dark:text-dark-text-primary sm:text-4xl"},"Our Team"),c("p",{class:"mt-6 text-lg leading-8 text-light-text-secondary dark:text-dark-text-secondary"}," Meet the creative minds and skilled hands behind every Beabed Art creation. ")],-1)),c("ul",gq,[(O(),j(ke,null,qe(r,(i,o)=>c("li",{key:i.name,class:"group stagger-item",style:St({animationDelay:`${.5+o*.2}s`})},[c("img",{class:$e(["aspect-[3/2] w-full rounded-2xl object-cover transition-all duration-300 group-hover:opacity-90","ring-1 ring-light-neutral-300 dark:ring-dark-neutral-700"]),src:i.image,alt:i.name},null,8,yq),c("div",vq,[c("h3",bq,K(i.name),1),c("p",xq,K(i.role),1),c("p",_q,K(i.description),1)])],4)),64))])])]),c("div",wq,[c("div",kq,[c("div",Eq,[s[6]||(s[6]=Tt('<svg viewBox="0 0 1024 1024" class="absolute left-1/2 top-1/2 -z-10 h-[64rem] w-[64rem] -translate-y-1/2 [mask-image:radial-gradient(closest-side,white,transparent)] sm:left-full sm:-ml-80 lg:left-1/2 lg:ml-0 lg:-translate-x-1/2 lg:translate-y-0" aria-hidden="true" data-v-d3447e6c><circle cx="512" cy="512" r="512" fill="url(#759c1415-0410-454c-8f7c-9a820de03641)" fill-opacity="0.7" data-v-d3447e6c></circle><defs data-v-d3447e6c><radialGradient id="759c1415-0410-454c-8f7c-9a820de03641" data-v-d3447e6c><stop stop-color="#7775D6" data-v-d3447e6c></stop><stop offset="1" stop-color="#E935C1" data-v-d3447e6c></stop></radialGradient></defs></svg>',1)),c("div",Iq,[s[4]||(s[4]=c("h2",{class:"text-3xl font-bold tracking-tight text-light-text-primary sm:text-4xl"},"Visit Our Workshop",-1)),s[5]||(s[5]=c("p",{class:"mt-6 text-lg leading-8 text-light-text-primary/80"}," See our jewelry making process firsthand and discuss custom pieces with our designers. ",-1)),c("div",Tq,[z(q(_t),{to:"/contact",class:"rounded-btn bg-btn-primary px-3.5 py-2.5 text-sm font-semibold text-white shadow-btn hover:bg-btn-primary-hover hover:shadow-btn-hover transition-btn"},{default:Z(()=>s[2]||(s[2]=[de(" Schedule a Visit ")])),_:1}),z(q(_t),{to:"/products",class:"text-sm font-semibold leading-6 text-light-text-primary hover:text-accent-secondary transition-colors"},{default:Z(()=>s[3]||(s[3]=[de(" Shop Our Collection "),c("span",{"aria-hidden":"true"},"",-1)])),_:1})])]),s[7]||(s[7]=c("div",{class:"relative my-8"},[c("img",{class:"w-[48rem] max-h-[30rem] object-cover rounded-xl shadow-xl ring-1 ring-light-neutral-300 dark:ring-dark-neutral-700 sm:w-[57rem] md:-ml-4 lg:-ml-0",src:iq,alt:"Jewelry workshop"})],-1))])])])]))}},Sq=Gr(Aq,[["__scopeId","data-v-d3447e6c"]]),Cq="/images/Auqu%20Sand%20varients.jpeg",Pq={class:"min-h-screen bg-light-primary dark:bg-dark-primary"},Rq={class:"relative isolate bg-light-secondary dark:bg-dark-secondary"},Nq={class:"relative mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},$q={class:"mx-auto mt-16 grid max-w-7xl grid-cols-1 gap-x-8 gap-y-20 lg:grid-cols-12"},Oq={class:"lg:col-span-5 space-y-8 animate-slideInLeft"},Dq={class:"bg-light-primary dark:bg-dark-primary rounded-xl shadow-lg ring-1 ring-light-neutral-300 dark:ring-dark-neutral-700 p-8 hover:shadow-xl transition-all duration-300"},Mq={class:"space-y-6 text-sm leading-6"},Vq={class:"flex items-center gap-x-4 group"},Lq={class:"flex-none"},Fq={class:"flex items-center gap-x-4 group"},Uq={class:"flex-none"},jq={class:"flex items-center gap-x-4 group"},Bq={class:"flex-none"},qq={class:"bg-light-primary dark:bg-dark-primary rounded-xl shadow-lg ring-1 ring-light-neutral-300 dark:ring-dark-neutral-700 p-8 hover:shadow-xl transition-all duration-300"},Hq={class:"space-y-4 text-sm leading-6"},zq={class:"flex items-center gap-x-4"},Wq={class:"flex-none"},Kq={class:"bg-light-primary dark:bg-dark-primary rounded-xl shadow-lg ring-1 ring-light-neutral-300 dark:ring-dark-neutral-700 overflow-hidden hover:shadow-xl transition-all duration-300"},Gq={class:"p-8"},Qq={class:"text-xl font-semibold leading-7 text-light-text-primary dark:text-dark-text-primary mb-6 flex items-center"},Yq={class:"mt-6"},Jq={href:"https://www.google.com/maps/dir/?api=1&destination=-1.4774,36.9584&destination_place_id=Kitengela+Nairobi+Kenya",target:"_blank",rel:"noopener noreferrer",class:"inline-flex items-center justify-center gap-2 bg-accent-primary hover:bg-accent-primary-dark text-white px-4 py-2 rounded-md transition-colors"},Xq={class:"lg:col-span-7 animate-slideInRight"},Zq={class:"bg-light-primary dark:bg-dark-primary rounded-xl shadow-lg ring-1 ring-light-neutral-300 dark:ring-dark-neutral-700 p-8"},eH={class:"grid grid-cols-1 gap-y-6 sm:grid-cols-2 sm:gap-x-6"},tH={class:"mt-2"},rH={key:0,class:"mt-2 text-sm text-red-600"},nH={class:"mt-2"},sH={key:0,class:"mt-2 text-sm text-red-600"},iH={class:"mt-2"},oH={key:0,class:"mt-2 text-sm text-red-600"},aH={class:"mt-2"},lH={key:0,class:"mt-2 text-sm text-red-600"},cH={class:"mt-2"},uH={key:0,class:"mt-2 text-sm text-red-600"},dH={class:"flex justify-end"},hH=["disabled"],fH={key:0,class:"mt-6 rounded-md bg-green-50 dark:bg-dark-neutral-800 p-4"},pH={class:"flex"},mH={class:"flex-shrink-0"},gH={__name:"ContactView",setup(t){const e=gn({firstName:"",lastName:"",email:"",subject:"",message:""}),r=gn({firstName:"",lastName:"",email:"",subject:"",message:""}),n=H(!1),s=H(!1),i=()=>{let a=!0;return Object.keys(r).forEach(l=>r[l]=""),e.firstName.trim()||(r.firstName="First name is required",a=!1),e.lastName.trim()||(r.lastName="Last name is required",a=!1),e.email.trim()?/^\S+@\S+\.\S+$/.test(e.email)||(r.email="Please enter a valid email address",a=!1):(r.email="Email is required",a=!1),e.subject.trim()||(r.subject="Subject is required",a=!1),e.message.trim()||(r.message="Message is required",a=!1),a},o=async()=>{if(i()){n.value=!0;try{await new Promise(a=>setTimeout(a,1500)),Object.keys(e).forEach(a=>e[a]=""),s.value=!0,setTimeout(()=>{s.value=!1},5e3)}catch(a){console.error("Error submitting form:",a)}finally{n.value=!1}}};return(a,l)=>(O(),j("div",Pq,[c("div",Rq,[l[24]||(l[24]=Tt('<div class="relative" data-v-61629d39><div class="absolute inset-0" data-v-61629d39><img src="'+Cq+'" alt="Jewelry crafting" class="h-full w-full object-cover object-center" data-v-61629d39><div class="absolute inset-0 bg-gray-900 opacity-60" data-v-61629d39></div></div><div class="relative mx-auto max-w-7xl px-4 py-24 sm:px-6 lg:px-8" data-v-61629d39><div class="text-center animate-fadeIn" data-v-61629d39><h2 class="text-4xl font-bold tracking-tight text-white sm:text-5xl mb-6" data-v-61629d39> Get in Touch </h2><p class="mt-4 text-lg leading-8 text-gray-200 max-w-2xl mx-auto" data-v-61629d39> We&#39;re here to help bring your jewelry dreams to life. Reach out to us for any questions, custom orders, or collaborations. </p></div></div></div>',1)),c("div",Nq,[c("div",$q,[c("div",Oq,[c("div",Dq,[l[11]||(l[11]=c("h3",{class:"text-xl font-semibold leading-7 text-light-text-primary dark:text-dark-text-primary mb-6"}," Contact Details ",-1)),c("dl",Mq,[c("div",Vq,[c("dt",Lq,[l[5]||(l[5]=c("span",{class:"sr-only"},"Address",-1)),z(q(df),{class:"h-6 w-6 text-accent-primary group-hover:scale-110 transition-transform","aria-hidden":"true"})]),l[6]||(l[6]=c("dd",{class:"text-light-text-secondary dark:text-dark-text-secondary"},[c("p",{class:"font-medium"},"Nairobi Kenya"),c("p",null,"Kitengela")],-1))]),c("div",Fq,[c("dt",Uq,[l[7]||(l[7]=c("span",{class:"sr-only"},"Telephone",-1)),z(q($9),{class:"h-6 w-6 text-accent-primary group-hover:scale-110 transition-transform","aria-hidden":"true"})]),l[8]||(l[8]=c("dd",null,[c("a",{class:"text-light-text-primary dark:text-dark-text-primary hover:text-accent-primary transition-colors",href:"tel:+2547 4141 4271"}," +2547 4141 4261 ")],-1))]),c("div",jq,[c("dt",Bq,[l[9]||(l[9]=c("span",{class:"sr-only"},"Email",-1)),z(q(T9),{class:"h-6 w-6 text-accent-primary group-hover:scale-110 transition-transform","aria-hidden":"true"})]),l[10]||(l[10]=c("dd",null,[c("a",{class:"text-light-text-primary dark:text-dark-text-primary hover:text-accent-primary transition-colors",href:"mailto:hello@kreativekanvas.shop"}," hello@kreativekanvas.shop ")],-1))])])]),c("div",qq,[l[13]||(l[13]=c("h3",{class:"text-xl font-semibold leading-7 text-light-text-primary dark:text-dark-text-primary mb-6"}," Studio Hours ",-1)),c("dl",Hq,[c("div",zq,[c("dt",Wq,[z(q(I9),{class:"h-6 w-6 text-accent-primary","aria-hidden":"true"})]),l[12]||(l[12]=Tt('<dd class="text-light-text-secondary dark:text-dark-text-secondary space-y-2" data-v-61629d39><div class="flex justify-between items-center" data-v-61629d39><span data-v-61629d39>Monday - Friday</span><span class="font-medium" data-v-61629d39>9AM - 6PM</span></div><div class="flex justify-between items-center" data-v-61629d39><span data-v-61629d39>Saturday</span><span class="font-medium" data-v-61629d39>10AM - 4PM</span></div><div class="flex justify-between items-center text-light-neutral-500 dark:text-dark-neutral-400" data-v-61629d39><span data-v-61629d39>Sunday</span><span data-v-61629d39>Closed</span></div></dd>',1))])])]),c("div",Kq,[c("div",Gq,[c("h3",Qq,[z(q(df),{class:"h-6 w-6 text-accent-primary mr-2"}),l[14]||(l[14]=de(" Our Location "))]),l[16]||(l[16]=c("div",{class:"text-light-text-secondary dark:text-dark-text-secondary"},[c("p",{class:"font-medium text-lg mb-2"},"Kreative Kanvas Jewelry"),c("p",{class:"mb-1"},"Kitengela, Nairobi"),c("p",null,"Kenya")],-1)),c("div",Yq,[c("a",Jq,[z(q(df),{class:"h-5 w-5"}),l[15]||(l[15]=c("span",{class:"font-medium"},"View on Google Maps",-1))])])])])]),c("div",Xq,[c("div",Zq,[l[23]||(l[23]=c("h3",{class:"text-xl font-semibold leading-7 text-light-text-primary dark:text-dark-text-primary mb-6"}," Send us a Message ",-1)),c("form",{onSubmit:Vr(o,["prevent"]),class:"space-y-6"},[c("div",eH,[c("div",null,[l[17]||(l[17]=c("label",{for:"first-name",class:"block text-sm font-medium leading-6 text-light-text-primary dark:text-dark-text-primary"},"First name",-1)),c("div",tH,[Te(c("input",{"onUpdate:modelValue":l[0]||(l[0]=d=>e.firstName=d),type:"text",id:"first-name",autocomplete:"given-name",class:$e(["block w-full rounded-md border-0 py-1.5 text-light-text-primary dark:text-dark-text-primary shadow-sm ring-1 ring-inset ring-light-neutral-300 dark:ring-dark-neutral-700 placeholder:text-light-neutral-400 dark:placeholder:text-dark-neutral-400 focus:ring-2 focus:ring-inset focus:ring-accent-primary sm:text-sm sm:leading-6",{"ring-red-500":r.firstName}])},null,2),[[Pe,e.firstName]]),r.firstName?(O(),j("p",rH,K(r.firstName),1)):fe("",!0)])]),c("div",null,[l[18]||(l[18]=c("label",{for:"last-name",class:"block text-sm font-medium leading-6 text-light-text-primary dark:text-dark-text-primary"},"Last name",-1)),c("div",nH,[Te(c("input",{"onUpdate:modelValue":l[1]||(l[1]=d=>e.lastName=d),type:"text",id:"last-name",autocomplete:"family-name",class:$e(["block w-full rounded-md border-0 py-1.5 text-light-text-primary dark:text-dark-text-primary shadow-sm ring-1 ring-inset ring-light-neutral-300 dark:ring-dark-neutral-700 placeholder:text-light-neutral-400 dark:placeholder:text-dark-neutral-400 focus:ring-2 focus:ring-inset focus:ring-accent-primary sm:text-sm sm:leading-6",{"ring-red-500":r.lastName}])},null,2),[[Pe,e.lastName]]),r.lastName?(O(),j("p",sH,K(r.lastName),1)):fe("",!0)])])]),c("div",null,[l[19]||(l[19]=c("label",{for:"email",class:"block text-sm font-medium leading-6 text-light-text-primary dark:text-dark-text-primary"},"Email",-1)),c("div",iH,[Te(c("input",{"onUpdate:modelValue":l[2]||(l[2]=d=>e.email=d),id:"email",name:"email",type:"email",autocomplete:"email",class:$e(["block w-full rounded-md border-0 py-1.5 text-light-text-primary dark:text-dark-text-primary shadow-sm ring-1 ring-inset ring-light-neutral-300 dark:ring-dark-neutral-700 placeholder:text-light-neutral-400 dark:placeholder:text-dark-neutral-400 focus:ring-2 focus:ring-inset focus:ring-accent-primary sm:text-sm sm:leading-6",{"ring-red-500":r.email}])},null,2),[[Pe,e.email]]),r.email?(O(),j("p",oH,K(r.email),1)):fe("",!0)])]),c("div",null,[l[20]||(l[20]=c("label",{for:"subject",class:"block text-sm font-medium leading-6 text-light-text-primary dark:text-dark-text-primary"},"Subject",-1)),c("div",aH,[Te(c("input",{"onUpdate:modelValue":l[3]||(l[3]=d=>e.subject=d),type:"text",id:"subject",class:$e(["block w-full rounded-md border-0 py-1.5 text-light-text-primary dark:text-dark-text-primary shadow-sm ring-1 ring-inset ring-light-neutral-300 dark:ring-dark-neutral-700 placeholder:text-light-neutral-400 dark:placeholder:text-dark-neutral-400 focus:ring-2 focus:ring-inset focus:ring-accent-primary sm:text-sm sm:leading-6",{"ring-red-500":r.subject}])},null,2),[[Pe,e.subject]]),r.subject?(O(),j("p",lH,K(r.subject),1)):fe("",!0)])]),c("div",null,[l[21]||(l[21]=c("label",{for:"message",class:"block text-sm font-medium leading-6 text-light-text-primary dark:text-dark-text-primary"},"Message",-1)),c("div",cH,[Te(c("textarea",{"onUpdate:modelValue":l[4]||(l[4]=d=>e.message=d),id:"message",rows:"4",class:$e(["block w-full rounded-md border-0 py-1.5 text-light-text-primary dark:text-dark-text-primary shadow-sm ring-1 ring-inset ring-light-neutral-300 dark:ring-dark-neutral-700 placeholder:text-light-neutral-400 dark:placeholder:text-dark-neutral-400 focus:ring-2 focus:ring-inset focus:ring-accent-primary sm:text-sm sm:leading-6",{"ring-red-500":r.message}])},null,2),[[Pe,e.message]]),r.message?(O(),j("p",uH,K(r.message),1)):fe("",!0)])]),c("div",dH,[c("button",{type:"submit",disabled:n.value,class:"rounded-btn bg-btn-primary hover:bg-btn-primary-hover active:bg-btn-primary-dark text-white py-2.5 px-3.5 text-sm font-semibold shadow-btn hover:shadow-btn-hover transition-btn disabled:bg-light-neutral-300 dark:disabled:bg-dark-neutral-600"},K(n.value?"Sending...":"Send Message"),9,hH)])],32),s.value?(O(),j("div",fH,[c("div",pH,[c("div",mH,[z(q(ed),{class:"h-5 w-5 text-green-400","aria-hidden":"true"})]),l[22]||(l[22]=c("div",{class:"ml-3"},[c("div",{class:"text-sm font-medium text-green-800 dark:text-green-200 text-justify"},"Thank you for your message! We'll get back to you soon.")],-1))])])):fe("",!0)])])])])])]))}},yH=Gr(gH,[["__scopeId","data-v-61629d39"]]),vH={class:"admin-dashboard min-h-screen bg-light-primary dark:bg-dark-primary transition-colors duration-300"},bH={class:"container mx-auto px-4 py-8"},xH={class:"flex justify-between items-center mb-12 bg-light-secondary dark:bg-dark-secondary p-6 rounded-xl shadow-lg"},_H={class:"text-light-text-secondary dark:text-dark-text-secondary text-lg"},wH={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-light-text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},kH={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-dark-text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},EH={class:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12"},IH={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-accent-primary/10 dark:from-dark-secondary dark:to-accent-primary/20 rounded-xl shadow-lg p-6 border-2 border-accent-primary/20 hover:border-accent-primary transition-all duration-300"},TH={class:"flex-1 flex flex-col"},AH={class:"text-3xl font-bold mb-4 text-accent-primary"},SH={class:"text-sm text-light-text-secondary dark:text-dark-text-secondary mb-4"},CH={class:"mt-auto"},PH={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-accent-secondary/10 dark:from-dark-secondary dark:to-accent-secondary/20 rounded-xl shadow-lg p-6 border-2 border-accent-secondary/20 hover:border-accent-secondary transition-all duration-300"},RH={class:"flex-1 flex flex-col"},NH={class:"text-3xl font-bold mb-4 text-accent-secondary"},$H={class:"mb-4 flex-1"},OH={class:"flex justify-between mb-2"},DH={class:"text-sm font-medium text-accent-secondary"},MH={class:"w-full bg-light-neutral-200 dark:bg-dark-neutral-700 rounded-full h-2"},VH={class:"mt-auto"},LH={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-accent-quaternary/10 dark:from-dark-secondary dark:to-accent-quaternary/20 rounded-xl shadow-lg p-6 border-2 border-accent-quaternary/20 hover:border-accent-quaternary transition-all duration-300"},FH={class:"flex-1 flex flex-col"},UH={class:"text-3xl font-bold mb-4 text-accent-quaternary"},jH={class:"mb-4 flex-1"},BH={class:"flex w-full justify-between mb-2"},qH={class:"text-sm font-medium text-accent-quaternary"},HH={class:"w-full bg-light-neutral-200 dark:bg-dark-neutral-700 rounded-full h-2"},zH={class:"mt-auto"},WH={class:"mb-12"},KH={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},GH={class:"flex flex-col"},QH={class:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},YH={class:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8"},JH={class:"overflow-hidden border border-light-neutral-300 dark:border-dark-neutral-700 md:rounded-xl"},XH={class:"flex justify-between items-center p-4 bg-light-secondary dark:bg-dark-secondary"},ZH={class:"flex items-center space-x-2"},ez={class:"text-sm px-3 py-1 rounded-full bg-accent-primary/10 text-accent-primary"},tz={class:"min-w-full divide-y divide-light-neutral-300 dark:divide-dark-neutral-700"},rz={class:"bg-white divide-y divide-light-neutral-300 dark:divide-dark-neutral-700 dark:bg-dark-secondary"},nz={key:0,class:"animate-pulse"},sz={class:"px-4 py-4 text-sm whitespace-nowrap"},iz={class:"flex items-center"},oz={class:"px-4 py-4 text-sm whitespace-nowrap"},az={class:"text-light-text-primary dark:text-dark-text-primary"},lz={class:"text-light-text-secondary dark:text-dark-text-secondary"},cz={class:"px-4 py-4 text-sm text-light-text-secondary dark:text-dark-text-secondary whitespace-nowrap"},uz={__name:"AdminDashboard",setup(t){const e=$n(),r=xm(),n=ii(),s=H(!0),i=H(null),o=gn({products:{total:0,stockPercentage:0},orders:{total:0,pending:0},users:{total:0,active:0}}),a=H([]),l=te(()=>o.orders.total&&o.orders.pending/o.orders.total*100||0),d=te(()=>o.users.total&&o.users.active/o.users.total*100||0),h=async()=>{try{s.value=!0,i.value=null;const[k,_,T]=await Promise.all([He.getProducts(),He.getAllOrders(),He.getAllUsers()]),P=Array.isArray(k)?k:[],E=Array.isArray(_)?_:[],R=Array.isArray(T)?T:[];o.products={total:P.length,stockPercentage:f(P)},o.orders={total:E.length,pending:E.filter(A=>A.status==="processing").length},o.users={total:R.length,active:R.filter(A=>!A.disabled).length},a.value=[...E,...R].filter(A=>A&&(A.createdAt||A.orderNumber||A.email)).sort((A,M)=>{const I=v=>{var m;return(m=v==null?void 0:v.createdAt)!=null&&m.toDate?v.createdAt.toDate():v!=null&&v.createdAt?new Date(v.createdAt):new Date};return I(M)-I(A)}).slice(0,5).map(A=>{var M,I;return{type:A.orderNumber?"order":"user",data:{...A,orderNumber:A.orderNumber||(A.id?`ORD-${A.id.slice(0,6)}`:"N/A"),email:A.email||"N/A"},date:((I=(M=A.createdAt)==null?void 0:M.toDate)==null?void 0:I.call(M))||new Date(A.createdAt||Date.now())}})}catch(k){console.error("Error fetching dashboard data:",k),i.value="Failed to load dashboard data",o.products={total:0,stockPercentage:0},o.orders={total:0,pending:0},o.users={total:0,active:0},a.value=[]}finally{s.value=!1}},f=k=>{if(!k.length)return 0;const _=k.filter(T=>(T.quantity||0)>0).length;return Math.round(_/k.length*100)},p=()=>{r.toggleTheme()},y=()=>{n.push("/")},b=()=>{console.log("Bulk action not implemented yet")};return je(async()=>{if(!e.user){console.log("No user found, redirecting to login"),n.push("/login");return}if(!e.user.isAdmin){console.log("User is not admin, redirecting to home"),n.push("/");return}console.log("Admin user confirmed:",e.user),await h()}),te(()=>{var _;const k=!!((_=e.user)!=null&&_.isAdmin);return console.log("Current admin status:",k),k}),(k,_)=>{var P,E;const T=Lr("router-link");return O(),j("div",vH,[c("div",bH,[c("div",xH,[c("div",null,[_[0]||(_[0]=c("h1",{class:"text-4xl font-bold text-light-text-primary dark:text-dark-text-primary mb-2"},"Shop Manager",-1)),c("p",_H," Welcome back, "+K(((E=(P=q(e))==null?void 0:P.user)==null?void 0:E.displayName)||"Admin"),1)]),c("button",{onClick:p,class:"p-2 rounded-full bg-light-secondary dark:bg-dark-secondary hover:bg-light-neutral-200 dark:hover:bg-dark-neutral-600 transition-colors","aria-label":"Toggle dark mode"},[q(r).theme==="light"?(O(),j("svg",wH,_[1]||(_[1]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1)]))):(O(),j("svg",kH,_[2]||(_[2]=[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)])))])]),c("div",EH,[c("div",IH,[c("div",TH,[_[4]||(_[4]=c("h2",{class:"text-xl font-semibold mb-2 text-light-text-primary dark:text-dark-text-primary"},"Products",-1)),c("p",AH,K(s.value?"Loading...":`${o.products.total}`),1),c("p",SH,K(s.value?"":`${o.products.stockPercentage}% in stock`),1),c("div",CH,[z(T,{to:"/admin/products",class:"inline-flex items-center text-accent-primary hover:text-orange-500 font-medium transition-colors duration-200"},{default:Z(()=>_[3]||(_[3]=[de(" Manage Products "),c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])),_:1})])])]),c("div",PH,[c("div",RH,[_[7]||(_[7]=c("h2",{class:"text-xl font-semibold mb-2 text-light-text-primary dark:text-dark-text-primary"},"Orders",-1)),c("p",NH,K(s.value?"...":o.orders.total),1),c("div",$H,[c("div",OH,[_[5]||(_[5]=c("span",{class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},"Pending Orders",-1)),c("span",DH,K(s.value?"...":o.orders.pending),1)]),c("div",MH,[c("div",{class:"bg-accent-secondary h-2 rounded-full transition-all duration-300",style:St(s.value?"width: 0%":`width: ${l.value}%`)},null,4)])]),c("div",VH,[z(T,{to:"/admin/orders",class:"inline-flex items-center text-accent-secondary hover:text-accent-secondary/80 font-medium transition-colors duration-200"},{default:Z(()=>_[6]||(_[6]=[de(" Manage Orders "),c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])),_:1})])])]),c("div",LH,[c("div",FH,[_[10]||(_[10]=c("h2",{class:"text-xl font-semibold mb-2 text-light-text-primary dark:text-dark-text-primary"},"Users",-1)),c("p",UH,K(s.value?"Loading...":`${o.users.total}`),1),c("div",jH,[c("div",BH,[_[8]||(_[8]=c("span",{class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},"Active Users",-1)),c("span",qH,K(s.value?"...":`${o.users.active}`),1)]),c("div",HH,[c("div",{class:"bg-accent-quaternary h-2 rounded-full transition-all duration-300",style:St(s.value?"width: 0%":`width: ${d.value}%`)},null,4)])]),c("div",zH,[z(T,{to:"/admin/users",class:"inline-flex items-center text-accent-quaternary hover:text-accent-quaternary/80 font-medium transition-colors duration-200"},{default:Z(()=>_[9]||(_[9]=[de(" Manage Users "),c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])),_:1})])])])]),c("div",WH,[_[13]||(_[13]=c("h2",{class:"text-2xl font-semibold text-light-text-primary dark:text-dark-text-primary mb-6"},"Quick Actions",-1)),c("div",KH,[z(T,{to:"/admin/products/new",class:"group flex items-center p-6 bg-light-secondary dark:bg-dark-secondary rounded-xl shadow-md hover:shadow-xl border-2 border-transparent hover:border-accent-primary transition-all duration-300"},{default:Z(()=>_[11]||(_[11]=[c("div",{class:"p-3 bg-gradient-to-br from-accent-primary to-orange-500 rounded-xl mr-4 group-hover:scale-110 transition-transform duration-300"},[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})])],-1),c("div",null,[c("span",{class:"block text-lg font-semibold text-light-text-primary dark:text-dark-text-primary"},"Add Product"),c("span",{class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},"Create new listing")],-1)])),_:1}),c("button",{onClick:y,class:"flex items-center p-6 bg-light-secondary dark:bg-dark-secondary rounded-xl shadow-md hover:shadow-xl border-2 border-transparent hover:border-accent-secondary transition-all duration-300"},_[12]||(_[12]=[Tt('<div class="p-3 bg-accent-secondary rounded-xl mr-4 group-hover:scale-110 transition-transform duration-300" data-v-bec82c26><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-bec82c26><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" data-v-bec82c26></path></svg></div><div data-v-bec82c26><span class="block text-lg font-semibold text-light-text-primary dark:text-dark-text-primary" data-v-bec82c26>View Store</span><span class="text-sm text-light-text-secondary dark:text-dark-text-secondary" data-v-bec82c26>Go to shop</span></div>',2)]))])]),c("div",GH,[c("div",QH,[c("div",YH,[c("div",JH,[c("div",XH,[_[14]||(_[14]=c("div",null,[c("h2",{class:"text-xl font-semibold text-light-text-primary dark:text-dark-text-primary"},"Recent Activity"),c("p",{class:"mt-1 text-sm text-light-text-secondary dark:text-dark-text-secondary"}," Latest actions and updates in your shop ")],-1)),c("div",ZH,[c("span",ez,K(a.value.length)+" items ",1),a.value.length?(O(),j("button",{key:0,onClick:b,class:"px-4 py-2 bg-accent-primary text-white rounded-lg hover:bg-accent-primary/90 transition-all duration-300"}," Bulk Action ")):fe("",!0)])]),c("table",tz,[_[17]||(_[17]=c("thead",{class:"bg-light-secondary dark:bg-dark-secondary"},[c("tr",null,[c("th",{scope:"col",class:"py-3.5 px-4 text-sm font-normal text-left text-light-text-secondary dark:text-dark-text-secondary"},[c("button",{class:"flex items-center gap-x-2"},[c("span",null,"Type"),c("svg",{class:"h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[c("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),c("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"})])])]),c("th",{scope:"col",class:"px-4 py-3.5 text-sm font-normal text-left text-light-text-secondary dark:text-dark-text-secondary"},"Details"),c("th",{scope:"col",class:"px-4 py-3.5 text-sm font-normal text-left text-light-text-secondary dark:text-dark-text-secondary"},"Date"),c("th",{scope:"col",class:"relative py-3.5 px-4"},[c("span",{class:"sr-only"},"Actions")])])],-1)),c("tbody",rz,[s.value?(O(),j("tr",nz,_[15]||(_[15]=[c("td",{colspan:"4",class:"text-center p-4 text-light-text-secondary dark:text-dark-text-secondary"}," Loading... ",-1)]))):a.value.length?(O(!0),j(ke,{key:1},qe(a.value,(R,A)=>(O(),j("tr",{key:A,class:"hover:bg-light-neutral-100 dark:hover:bg-dark-neutral-700 transition-colors"},[c("td",sz,[c("div",iz,[c("div",{class:$e(`inline px-3 py-1 text-sm font-normal rounded-full ${R.type==="order"?"text-accent-secondary bg-accent-secondary/10":"text-accent-quaternary bg-accent-quaternary/10"}`)},K(R.type),3)])]),c("td",oz,[c("div",null,[c("h4",az,K(R.type==="order"?`Order #${R.data.orderNumber}`:R.data.email),1),c("p",lz,K(R.type==="order"?"New order placed":"User activity"),1)])]),c("td",cz,K(new Date(R.date).toLocaleString()),1),_[16]||(_[16]=c("td",{class:"px-4 py-4 text-sm whitespace-nowrap"},[c("button",{class:"px-1 py-1 text-light-text-secondary dark:text-dark-text-secondary transition-colors duration-200 rounded-lg hover:bg-light-neutral-200 dark:hover:bg-dark-neutral-600"},[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M12 6.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 18.75a.75.75 0 110-1.5.75.75 0 010 1.5z"})])])],-1))]))),128)):fe("",!0)])]),_[18]||(_[18]=Tt('<div class="flex items-center justify-between p-4 border-t border-light-neutral-300 dark:border-dark-neutral-700" data-v-bec82c26><button class="flex items-center gap-x-2 px-4 py-2 text-sm text-light-text-secondary dark:text-dark-text-secondary rounded-md hover:bg-light-neutral-200 dark:hover:bg-dark-neutral-600 transition-colors" data-v-bec82c26><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-bec82c26><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 19l-7-7 7-7" data-v-bec82c26></path></svg> Previous </button><button class="flex items-center gap-x-2 px-4 py-2 text-sm text-light-text-secondary dark:text-dark-text-secondary rounded-md hover:bg-light-neutral-200 dark:hover:bg-dark-neutral-600 transition-colors" data-v-bec82c26> Next <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-bec82c26><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 5l7 7-7 7" data-v-bec82c26></path></svg></button></div>',1))])])])])])])}}},dz=Gr(uz,[["__scopeId","data-v-bec82c26"]]),hz={class:"flex justify-center items-center"},fz={__name:"LoadingSpinner",props:{size:{type:String,default:"md",validator:t=>["sm","md","lg"].includes(t)},color:{type:String,default:"black"}},setup(t){return(e,r)=>(O(),j("div",hz,[(O(),j("svg",{class:$e(["animate-spin",{"h-4 w-4":t.size==="sm","h-8 w-8":t.size==="md","h-12 w-12":t.size==="lg"}]),style:St({color:t.color}),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},r[0]||(r[0]=[c("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),c("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]),6))]))}},pz={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},mz={class:"flex justify-between items-center p-4 border-b"},gz={class:"text-lg font-medium"},yz={class:"p-4"},vz={key:0,class:"p-4 border-t bg-gray-50"},bz={__name:"Modal",props:{show:{type:Boolean,default:!1},title:{type:String,default:""}},emits:["close"],setup(t,{emit:e}){const r=t,n=e,s=H(null),i=a=>{a.key==="Escape"&&r.show&&n("close")},o=a=>{s.value&&!s.value.contains(a.target)&&r.show&&n("close")};return je(()=>{document.addEventListener("keydown",i),document.addEventListener("mousedown",o)}),Yi(()=>{document.removeEventListener("keydown",i),document.removeEventListener("mousedown",o)}),Rt(()=>r.show,a=>{a?document.body.style.overflow="hidden":document.body.style.overflow=""}),(a,l)=>(O(),mt(Up,{to:"body"},[t.show?(O(),j("div",pz,[c("div",{class:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:l[0]||(l[0]=d=>n("close"))}),c("div",{ref_key:"modal",ref:s,class:"bg-white rounded-lg shadow-xl w-full max-w-md z-10 overflow-hidden transform transition-all"},[c("div",mz,[c("h3",gz,K(t.title),1),c("button",{onClick:l[1]||(l[1]=d=>n("close")),class:"text-gray-500 hover:text-gray-700"},l[2]||(l[2]=[c("span",{class:"sr-only"},"Close",-1),c("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),c("div",yz,[gu(a.$slots,"default")]),a.$slots.footer?(O(),j("div",vz,[gu(a.$slots,"footer")])):fe("",!0)],512)])):fe("",!0)]))}},xz=["type","disabled"],Yb={__name:"Button",props:{type:{type:String,default:"button"},variant:{type:String,default:"primary",validator:t=>["primary","secondary","outline","danger"].includes(t)},size:{type:String,default:"md",validator:t=>["sm","md","lg"].includes(t)},disabled:{type:Boolean,default:!1},fullWidth:{type:Boolean,default:!1}},setup(t){return(e,r)=>(O(),j("button",{type:t.type,disabled:t.disabled,class:$e(["inline-flex items-center justify-center rounded-btn shadow-btn transition-btn focus:outline-none focus:ring-2 focus:ring-offset-2",{"bg-orange-500 text-white hover:bg-orange-600 active:bg-orange-700 focus:ring-orange-500 dark:bg-orange-600 dark:hover:bg-orange-500 dark:active:bg-orange-700":t.variant==="primary","bg-light-neutral-200 text-light-neutral-800 hover:bg-light-neutral-300 dark:bg-dark-neutral-700 dark:text-dark-neutral-100 dark:hover:bg-dark-neutral-600":t.variant==="secondary","bg-white dark:bg-transparent text-light-text-primary dark:text-dark-text-primary border border-light-neutral-300 dark:border-dark-neutral-600 hover:bg-light-neutral-100 dark:hover:bg-dark-secondary":t.variant==="outline","bg-red-600 text-white hover:bg-red-700 focus:ring-red-500":t.variant==="danger","px-3 py-1.5 text-sm":t.size==="sm","px-4 py-2":t.size==="md","px-6 py-3 text-lg":t.size==="lg","w-full":t.fullWidth,"opacity-50 cursor-not-allowed pointer-events-none":t.disabled}])},[gu(e.$slots,"default")],10,xz))}},_z={class:"admin-products min-h-screen bg-light-primary dark:bg-dark-primary transition-colors duration-300"},wz={class:"container mx-auto px-4 py-8"},kz={class:"flex justify-between items-center mb-12 bg-light-secondary dark:bg-dark-secondary p-6 rounded-xl shadow-lg"},Ez={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},Iz={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-accent-primary/10 dark:from-dark-secondary dark:to-accent-primary/20 rounded-xl shadow-lg p-6 border-2 border-accent-primary/20"},Tz={class:"text-3xl font-bold text-accent-primary"},Az={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-orange-500/10 dark:from-dark-secondary dark:to-orange-500/20 rounded-xl shadow-lg p-6 border-2 border-orange-500/20"},Sz={class:"text-3xl font-bold text-orange-500"},Cz={class:"flex items-center mt-2"},Pz={class:"h-2 flex-grow rounded-full bg-light-neutral-200 dark:bg-dark-neutral-700"},Rz={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-blue-500/10 dark:from-dark-secondary dark:to-blue-500/20 rounded-xl shadow-lg p-6 border-2 border-blue-500/20"},Nz={class:"text-3xl font-bold text-blue-500"},$z={class:"text-xs text-accent-tertiary mt-1"},Oz={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-cyan-500/10 dark:from-dark-secondary dark:to-cyan-500/20 rounded-xl shadow-lg p-6 border-2 border-cyan-500/20"},Dz={class:"text-3xl font-bold text-cyan-500"},Mz={class:"bg-light-secondary dark:bg-dark-secondary rounded-xl shadow-lg p-6 mb-6 border border-light-neutral-300 dark:border-dark-neutral-700"},Vz={class:"flex flex-wrap items-center gap-4"},Lz={class:"flex-1"},Fz=["value"],Uz={class:"bg-light-secondary dark:bg-dark-secondary rounded-xl shadow-lg overflow-hidden border border-light-neutral-300 dark:border-dark-neutral-700"},jz={class:"overflow-x-auto"},Bz={class:"min-w-full bg-light-secondary dark:bg-dark-secondary"},qz={class:"bg-light-neutral-100 dark:bg-dark-neutral-700"},Hz={class:"py-3 px-4 text-left text-light-text-primary dark:text-dark-text-primary"},zz={class:"py-3 px-4 text-left text-light-text-primary dark:text-dark-text-primary"},Wz={class:"py-3 px-4 text-left text-light-text-primary dark:text-dark-text-primary"},Kz={class:"py-3 px-4 text-left text-light-text-primary dark:text-dark-text-primary"},Gz={class:"py-3 px-4 text-left text-light-text-primary dark:text-dark-text-primary"},Qz={class:"py-3 px-4 text-left text-light-text-primary dark:text-dark-text-primary"},Yz={class:"py-3 px-4 text-left text-light-text-primary dark:text-dark-text-primary"},Jz={key:0},Xz={colspan:"7",class:"py-4 text-center"},Zz={key:1},eW={class:"py-3 px-4"},tW={class:"relative w-16 h-16 rounded overflow-hidden bg-light-neutral-100 dark:bg-dark-neutral-800"},rW=["src","alt"],nW={class:"py-3 px-4 text-light-text-primary dark:text-dark-text-primary"},sW={class:"py-3 px-4 text-light-text-primary dark:text-dark-text-primary"},iW={class:"py-3 px-4 text-light-text-primary dark:text-dark-text-primary"},oW={class:"py-3 px-4 text-light-text-primary dark:text-dark-text-primary"},aW={class:"py-3 px-4"},lW={key:0,class:"text-accent-tertiary dark:text-accent-tertiary"},cW={key:1,class:"text-light-neutral-500 dark:text-dark-neutral-500"},uW={class:"py-3 px-4"},dW={class:"flex space-x-2"},hW=["onClick"],fW=["onClick"],pW={class:"text-light-text-secondary dark:text-dark-text-secondary"},mW={class:"flex justify-end space-x-3"},gW={__name:"AdminProductsView",setup(t){const e=ii(),r=H([]),n=H(!0),s=H(""),i=H(!1),o=H(null);H({});const a=M=>{if(!M)return Pt("placeholder.jpg");if(typeof M=="string"){if(M.startsWith("data:image"))return M;if(M.startsWith("/9j/")||M.startsWith("iVBOR"))return`data:image/jpeg;base64,${M}`;if(M.startsWith("base64://"))return M.replace("base64://","")}return M},l=M=>{console.error("Image failed to load:",M.target.src),M.target.src=Pt("placeholder.jpg"),M.target.onerror=function(){const I=M.target.parentNode;if(I){const v=document.createElement("div");v.innerHTML=`
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-full h-full">
          <rect width="100%" height="100%" fill="#f0f0f0"/>
          <path d="M12 6v12M6 12h12" stroke="#aaa" stroke-width="2" stroke-linecap="round"/>
        </svg>
      `,v.className="broken-image rounded w-16 h-16 flex items-center justify-center bg-light-neutral-200 dark:bg-dark-neutral-200",I.replaceChild(v,M.target)}}},d=async()=>{try{n.value=!0;const M=await He.getProducts();r.value=M.map(I=>({...I,images:Array.isArray(I.images)?I.images:[I.imageUrl||I.image]}))}catch(M){console.error("Failed to load products:",M)}finally{n.value=!1}},h=H("name"),f=H("asc"),p=H("all"),y=te(()=>r.value.filter(M=>M.stock<5).length),b=te(()=>r.value.filter(M=>M.featured).length),k=te(()=>r.value.reduce((M,I)=>M+I.price*I.stock,0)),_=te(()=>[...new Set(r.value.map(M=>M.category))]),T=te(()=>{let M=[...r.value];if(p.value!=="all"&&(M=M.filter(v=>v.category===p.value)),s.value){const v=s.value.toLowerCase();M=M.filter(m=>m.name.toLowerCase().includes(v)||m.category.toLowerCase().includes(v)||m.description.toLowerCase().includes(v))}const I=(v,m)=>typeof v[h.value]=="string"?v[h.value].localeCompare(m[h.value]):Number(v[h.value])-Number(m[h.value]);return M.sort((v,m)=>f.value==="asc"?I(v,m):I(m,v)),M}),P=async()=>{if(o.value)try{await He.deleteProduct(o.value.id);const M=r.value.findIndex(I=>I.id===o.value.id);M!==-1&&r.value.splice(M,1),i.value=!1,o.value=null}catch(M){console.error("Failed to delete product:",M)}},E=M=>{e.push(`/admin/products/edit/${M.id}`)},R=M=>{o.value=M,i.value=!0},A=M=>{h.value===M?f.value=f.value==="asc"?"desc":"asc":(h.value=M,f.value="asc")};return je(d),(M,I)=>{const v=Lr("router-link");return O(),j("div",_z,[c("div",wz,[c("div",kz,[c("div",null,[z(uh,{items:[{text:"Dashboard",path:"/admin"},{text:"Products"}]}),I[11]||(I[11]=c("h1",{class:"text-4xl font-bold text-light-text-primary dark:text-dark-text-primary mt-2"},"Manage Products",-1))]),z(v,{to:"/admin/products/new",class:"bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark text-white py-2 px-4 rounded-btn flex items-center shadow-btn hover:shadow-btn-hover transition-btn duration-200"},{default:Z(()=>I[12]||(I[12]=[c("span",{class:"mr-2"},"Add New Product",-1),c("span",{class:"text-xl"},"+",-1)])),_:1})]),c("div",Ez,[c("div",Iz,[I[13]||(I[13]=c("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Total Products",-1)),c("p",Tz,K(r.value.length),1),I[14]||(I[14]=c("p",{class:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-1"},"Active listings",-1))]),c("div",Az,[I[15]||(I[15]=c("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Low Stock",-1)),c("p",Sz,K(y.value),1),c("div",Cz,[c("div",Pz,[c("div",{class:"h-2 rounded-full bg-orange-500 transition-all duration-300",style:St(`width: ${y.value/r.value.length*100}%`)},null,4)])])]),c("div",Rz,[I[16]||(I[16]=c("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Featured",-1)),c("p",Nz,K(b.value),1),c("p",$z,K((b.value/r.value.length*100).toFixed(1))+"% of products ",1)]),c("div",Oz,[I[17]||(I[17]=c("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Total Value",-1)),c("p",Dz,K(q(Ye)(k.value)),1),I[18]||(I[18]=c("p",{class:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-1"},"Inventory worth",-1))])]),c("div",Mz,[c("div",Vz,[c("div",Lz,[Te(c("input",{type:"text","onUpdate:modelValue":I[0]||(I[0]=m=>s.value=m),placeholder:"Search products...",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-accent-primary focus:border-accent-primary"},null,512),[[Pe,s.value]])]),c("div",null,[Te(c("select",{"onUpdate:modelValue":I[1]||(I[1]=m=>p.value=m),class:"p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-accent-primary focus:border-accent-primary"},[I[19]||(I[19]=c("option",{value:"all"},"All Categories",-1)),(O(!0),j(ke,null,qe(_.value,m=>(O(),j("option",{key:m,value:m},K(m),9,Fz))),128))],512),[[ns,p.value]])])])]),c("div",Uz,[c("div",jz,[c("table",Bz,[c("thead",qz,[c("tr",null,[c("th",Hz,[c("button",{onClick:I[2]||(I[2]=m=>A("image"))}," Image ")]),c("th",zz,[c("button",{onClick:I[3]||(I[3]=m=>A("name"))}," Name ")]),c("th",Wz,[c("button",{onClick:I[4]||(I[4]=m=>A("category"))}," Category ")]),c("th",Kz,[c("button",{onClick:I[5]||(I[5]=m=>A("price"))}," Price ")]),c("th",Gz,[c("button",{onClick:I[6]||(I[6]=m=>A("stock"))}," Stock ")]),c("th",Qz,[c("button",{onClick:I[7]||(I[7]=m=>A("featured"))}," Featured ")]),c("th",Yz,[c("button",{onClick:I[8]||(I[8]=m=>A("actions"))}," Actions ")])])]),c("tbody",null,[n.value?(O(),j("tr",Jz,[c("td",Xz,[z(fz)])])):T.value.length===0?(O(),j("tr",Zz,I[20]||(I[20]=[c("td",{colspan:"7",class:"py-4 text-center text-light-text-secondary dark:text-dark-text-secondary"}," No products found ",-1)]))):fe("",!0),(O(!0),j(ke,null,qe(T.value,m=>{var w;return O(),j("tr",{key:m.id,class:"border-b border-light-neutral-200 dark:border-dark-neutral-600 hover:bg-light-neutral-100 dark:hover:bg-dark-neutral-800 transition-colors"},[c("td",eW,[c("div",tW,[c("img",{src:a(((w=m.images)==null?void 0:w[0])||m.imageUrl||m.image),alt:m.name,class:"w-full h-full object-cover",onError:l},null,40,rW)])]),c("td",nW,K(m.name),1),c("td",sW,K(m.category),1),c("td",iW,"$"+K(m.price.toFixed(2)),1),c("td",oW,K(m.stock),1),c("td",aW,[m.featured?(O(),j("span",lW,"Yes")):(O(),j("span",cW,"No"))]),c("td",uW,[c("div",dW,[c("button",{onClick:N=>E(m),class:"text-accent-quaternary dark:text-accent-quaternary hover:text-accent-quaternary/80 dark:hover:text-accent-quaternary/80 transition-colors"}," Edit ",8,hW),c("button",{onClick:N=>R(m),class:"text-orange-600 dark:text-orange-500 hover:text-orange-700 dark:hover:text-orange-400 transition-colors"}," Delete ",8,fW)])])])}),128))])])])]),i.value?(O(),mt(bz,{key:0,onClose:I[10]||(I[10]=m=>i.value=!1)},{header:Z(()=>I[21]||(I[21]=[c("h3",{class:"text-xl font-medium text-light-text-primary dark:text-dark-text-primary"},"Confirm Delete",-1)])),body:Z(()=>{var m;return[c("p",pW,' Are you sure you want to delete "'+K((m=o.value)==null?void 0:m.name)+'"? This action cannot be undone. ',1)]}),footer:Z(()=>[c("div",mW,[z(Yb,{variant:"secondary",onClick:I[9]||(I[9]=m=>i.value=!1)},{default:Z(()=>I[22]||(I[22]=[de(" Cancel ")])),_:1}),z(Yb,{variant:"danger",onClick:P},{default:Z(()=>I[23]||(I[23]=[de(" Delete ")])),_:1})])]),_:1})):fe("",!0)])])}}},yW=Gr(gW,[["__scopeId","data-v-3f08fffb"]]),vW={class:"admin-product-form container mx-auto px-4 py-8 bg-light-primary dark:bg-dark-primary min-h-screen"},bW={class:"flex justify-between items-center mb-6"},xW={class:"text-2xl font-bold text-light-text-primary dark:text-dark-text-primary"},_W={class:"bg-light-secondary dark:bg-dark-secondary rounded-lg shadow-md p-6 mb-6 border border-light-neutral-300 dark:border-dark-neutral-700"},wW={class:"mb-6"},kW={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},EW={class:"mb-6"},IW={class:"mb-6"},TW={class:"mb-4"},AW={class:"bg-light-neutral-50 dark:bg-dark-neutral-800 rounded-lg p-4 border border-light-neutral-200 dark:border-dark-neutral-700"},SW={key:0,class:"flex flex-col items-center justify-center py-8"},CW={key:1,class:"relative"},PW={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3"},RW=["src","alt","onError"],NW={class:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex flex-col justify-end p-2"},$W={class:"flex justify-between items-center"},OW={class:"text-white text-xs bg-black/50 px-1.5 py-0.5 rounded"},DW={class:"flex space-x-1"},MW=["onClick"],VW=["onClick"],LW=["onClick"],FW=["onClick"],UW={key:0,class:"absolute top-2 left-2 bg-accent-quaternary text-white text-xs px-1.5 py-0.5 rounded"},jW={class:"absolute -top-3 -right-3 bg-accent-primary text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center shadow-sm"},BW={class:"bg-light-secondary dark:bg-dark-secondary rounded-lg border border-light-neutral-300 dark:border-dark-neutral-700 overflow-hidden"},qW={class:"p-4"},HW={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},zW={class:"bg-light-neutral-50/50 dark:bg-dark-neutral-800/50 rounded-lg border border-dashed border-light-neutral-400 dark:border-dark-neutral-500 p-4 relative"},WW={class:"flex flex-col items-center justify-center"},KW={class:"bg-light-neutral-50/50 dark:bg-dark-neutral-800/50 rounded-lg border border-light-neutral-300 dark:border-dark-neutral-600 p-4"},GW={class:"space-y-3"},QW={class:"flex"},YW=["disabled"],JW={key:0,class:"mt-4 bg-accent-quaternary/10 text-accent-quaternary px-4 py-3 rounded border border-accent-quaternary/20 flex items-center"},XW={class:"mb-6"},ZW={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},eK={class:"space-y-4"},tK={class:"mt-4"},rK={class:"flex items-center"},nK={class:"mb-6"},sK={key:0,class:"mb-4 bg-light-neutral-50 dark:bg-dark-neutral-800 rounded-lg p-4 border border-light-neutral-200 dark:border-dark-neutral-700"},iK={class:"space-y-2"},oK={class:"flex items-center"},aK={class:"font-medium text-light-text-primary dark:text-dark-text-primary"},lK={class:"ml-3 flex items-center gap-1"},cK=["title"],uK=["onClick"],dK={class:"bg-light-secondary dark:bg-dark-secondary rounded-lg p-5 border border-light-neutral-300 dark:border-dark-neutral-700"},hK={class:"space-y-4"},fK={class:"flex flex-wrap items-center gap-2 mb-3"},pK={class:"flex flex-col items-center"},mK=["onUpdate:modelValue","onInput","aria-label"],gK=["onClick"],yK={class:"mt-2"},vK={class:"flex flex-wrap gap-1.5"},bK=["onClick","disabled","aria-label"],xK={class:"mt-5 flex"},_K=["disabled"],wK={key:0,class:"ml-2 text-sm text-accent-tertiary flex items-center"},kK={class:"border-t border-light-neutral-300 dark:border-dark-neutral-700 pt-6 flex justify-end space-x-4"},EK=["disabled"],IK={key:0,class:"bg-orange-100 dark:bg-orange-900/30 border border-orange-400 dark:border-orange-700 text-orange-700 dark:text-orange-400 px-4 py-3 rounded mb-4 relative"},TK={class:"block sm:inline"},AK={key:1,class:"bg-accent-primary/10 dark:bg-accent-primary/20 border border-accent-primary/30 dark:border-accent-primary/30 text-light-text-primary dark:text-dark-text-primary px-4 py-3 rounded mb-4"},SK={key:2,class:"bg-accent-primary/10 dark:bg-accent-primary/20 border border-accent-primary/30 dark:border-accent-primary/30 text-light-text-primary dark:text-dark-text-primary px-4 py-3 rounded mb-4"},CK={__name:"AdminProductForm",setup(t){const e=ii(),r=Sd(),n=In(),s=te(()=>r.params.id),i=te(()=>!!s.value),o=H({name:"",category:"",description:"",price:0,stock:1,images:[],featured:!1,materials:"",dimensions:"",variants:[],careInstructions:`Store in a cool, dry place away from direct sunlight
Avoid contact with perfumes, lotions, and chemicals
Clean gently with a soft, lint-free cloth
Remove before swimming or bathing`,sizingAndFit:"Our standard bracelet length is 7.5 inches. Necklaces are available in 16, 18, and 20 inch lengths. Please contact us for custom sizing.",shippingInfo:"Handmade to order. Please allow 1-3 business days for production plus shipping time.",returnPolicy:"We accept returns within 14 days of delivery for unworn items in original packaging."}),a=H(""),l=H(!1),d=H(!1),h=H(null),f=H(!1),p=te(()=>i.value?`product_edit_${s.value}`:"product_new"),y=H("Processing image..."),b=te(()=>o.value.images.some(G=>G.startsWith("temp://")));je(async()=>{if(i.value)try{const G=await He.getProduct(s.value);G?o.value={...G}:(console.error("Product not found"),e.push("/admin/products"))}catch(G){console.error("Error loading product:",G),h.value="Failed to load product"}else{const G=localStorage.getItem(p.value);if(G)try{o.value=JSON.parse(G)}catch(U){console.error("Error parsing saved form data:",U)}}}),Rt(()=>o.value,G=>{localStorage.setItem(p.value,JSON.stringify(G))},{deep:!0}),Yi(()=>{!h.value&&!l.value&&localStorage.removeItem(p.value)});const k=()=>{a.value.trim()&&(o.value.images.push(a.value.trim()),a.value="")},_=G=>{o.value.images.splice(G,1)},T=G=>G.startsWith("base64://")?G.replace("base64://",""):G.startsWith("temp://")?G.replace("temp://",""):G,P=async G=>{const U=G.target.files[0];if(U){if(!U.type.match("image.*")){h.value="Please select an image file";return}d.value=!0,h.value=null;try{const ee=(U.size/1048576).toFixed(2);U.size>1024*1024?y.value=`Resizing ${ee}MB image for optimal performance...`:y.value=`Processing ${ee}MB image...`;const oe=await He.uploadProductImage(U);o.value.images.push(oe),oe.startsWith("base64://")&&(f.value=!0),G.target.value=""}catch(ee){console.error("Error processing image:",ee),h.value=`Failed to process image: ${ee.message||"Unknown error"}`}finally{d.value=!1}}},E=async()=>{l.value=!0,h.value=null;try{if(!o.value.name||!o.value.category||!o.value.description||o.value.images.length===0)throw new Error("Please fill out all required fields and add at least one image");const G=o.value.images.filter(U=>U.startsWith("base64://"));if(G.length>0){const ee=G.reduce((oe,we)=>oe+we.length,0)/1024;if(ee>700&&!confirm(`Warning: Your product has approximately ${ee.toFixed(0)}KB of image data, which is approaching Firestore's limit. Continue anyway?`)){l.value=!1;return}}if(i.value)await He.updateProduct(s.value,o.value),await n.addPersistedNotification({title:"Product Updated",message:`Successfully updated product: ${o.value.name}`,type:"success"});else{const U=await He.createProduct(o.value);await n.addPersistedNotification({title:"New Product Created",message:`Successfully created new product: ${o.value.name}`,type:"success"})}localStorage.removeItem(p.value),e.push("/admin/products")}catch(G){console.error("Error saving product:",G),h.value=G.message,n.addNotification({title:"Error",message:`Failed to ${i.value?"update":"create"} product: ${G.message}`,type:"error",timeout:5e3})}finally{l.value=!1}},R=H(""),A=H([]),M=()=>{A.value.push("#ffffff")},I=(G,U)=>{A.value[G]=U.target.value},v=G=>{A.value.splice(G,1)},m=()=>{R.value.trim()&&A.value.length&&(o.value.variants.push({name:R.value.trim(),colors:[...A.value]}),R.value="",A.value=[])},w=["#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#000000","#FFFFFF"],N=G=>{A.value.length<5&&A.value.push(G)},S=te(()=>R.value.trim()&&A.value.length>0),C=(G,U)=>{const ee=o.value.images[G];o.value.images.splice(G,1),o.value.images.splice(U,0,ee)},le=G=>{if(G<=0||G>=o.value.images.length)return;const U=o.value.images[G];o.value.images.splice(G,1),o.value.images.unshift(U)},ce=(G,U)=>{G.target.src="/images/no-image.jpg",console.warn(`Image at index ${U} failed to load:`,o.value.images[U])};return(G,U)=>{const ee=Lr("router-link");return O(),j("div",vW,[c("div",bW,[c("h1",xW,K(i.value?"Edit Product":"Add New Product"),1),z(ee,{to:"/admin/products",class:"text-light-text-secondary dark:text-dark-text-secondary hover:text-accent-primary dark:hover:text-accent-primary transition-colors"},{default:Z(()=>U[17]||(U[17]=[de(" Back to Products ")])),_:1})]),c("div",_W,[c("form",{onSubmit:Vr(E,["prevent"])},[c("div",wW,[U[23]||(U[23]=c("h2",{class:"text-lg font-semibold mb-4 text-light-text-primary dark:text-dark-text-primary"},"Basic Information",-1)),c("div",kW,[c("div",null,[U[18]||(U[18]=c("label",{for:"name",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Product Name",-1)),Te(c("input",{type:"text",id:"name","onUpdate:modelValue":U[0]||(U[0]=oe=>o.value.name=oe),required:"",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary"},null,512),[[Pe,o.value.name]])]),c("div",null,[U[20]||(U[20]=c("label",{for:"category",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Category",-1)),Te(c("select",{id:"category","onUpdate:modelValue":U[1]||(U[1]=oe=>o.value.category=oe),required:"",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary"},U[19]||(U[19]=[Tt('<option value="" data-v-ef617560>Select a category</option><option value="Beaded Jewelry" data-v-ef617560>Beaded Jewelry</option><option value="String Jewelry" data-v-ef617560>String Jewelry</option><option value="Metal Jewelry" data-v-ef617560>Metal Jewelry</option><option value="Gemstones" data-v-ef617560>Gemstones</option><option value="Earrings" data-v-ef617560>Earrings</option><option value="Necklaces" data-v-ef617560>Necklaces</option><option value="Bracelets" data-v-ef617560>Bracelets</option><option value="Rings" data-v-ef617560>Rings</option><option value="Other" data-v-ef617560>Other</option>',10)]),512),[[ns,o.value.category]])]),c("div",null,[U[21]||(U[21]=c("label",{for:"price",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Price (KES)",-1)),Te(c("input",{type:"number",id:"price","onUpdate:modelValue":U[2]||(U[2]=oe=>o.value.price=oe),min:"0.01",step:"0.01",required:"",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary"},null,512),[[Pe,o.value.price,void 0,{number:!0}]])]),c("div",null,[U[22]||(U[22]=c("label",{for:"stock",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Stock Quantity",-1)),Te(c("input",{type:"number",id:"stock","onUpdate:modelValue":U[3]||(U[3]=oe=>o.value.stock=oe),min:"0",required:"",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary"},null,512),[[Pe,o.value.stock,void 0,{number:!0}]])])])]),c("div",EW,[U[24]||(U[24]=c("label",{for:"description",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Description",-1)),Te(c("textarea",{id:"description","onUpdate:modelValue":U[4]||(U[4]=oe=>o.value.description=oe),rows:"4",required:"",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary resize-y"},null,512),[[Pe,o.value.description]])]),c("div",IW,[U[39]||(U[39]=c("h2",{class:"text-lg font-semibold mb-4 text-light-text-primary dark:text-dark-text-primary flex items-center"},[c("span",null,"Product Images"),c("span",{class:"ml-2 text-xs text-light-text-secondary dark:text-dark-text-secondary font-normal bg-accent-primary/10 dark:bg-accent-primary/20 text-accent-primary dark:text-accent-primary px-2 py-0.5 rounded-full"},"Required")],-1)),c("div",TW,[U[30]||(U[30]=c("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-2"},"Gallery Preview",-1)),c("div",AW,[o.value.images.length===0?(O(),j("div",SW,U[25]||(U[25]=[c("svg",{class:"w-12 h-12 text-light-neutral-400 dark:text-dark-neutral-500 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1),c("p",{class:"text-light-neutral-500 dark:text-dark-neutral-400 text-center"},[de(" No images added yet"),c("br"),c("span",{class:"text-sm"},"Add at least one product image below")],-1)]))):(O(),j("div",CW,[c("div",PW,[(O(!0),j(ke,null,qe(o.value.images,(oe,we)=>(O(),j("div",{key:we,class:"group relative aspect-square rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-all bg-light-neutral-200 dark:bg-dark-neutral-700"},[c("img",{src:T(oe),class:"w-full h-full object-cover transition-transform group-hover:scale-105",alt:`Product image ${we+1}`,onError:ye=>ce(ye,we)},null,40,RW),c("div",NW,[c("div",$W,[c("span",OW," Image #"+K(we+1),1),c("div",DW,[we!==0?(O(),j("button",{key:0,type:"button",onClick:ye=>le(we),class:"bg-light-primary/90 text-accent-primary rounded-full w-6 h-6 flex items-center justify-center hover:bg-light-primary transition-colors",title:"Set as primary image"},U[26]||(U[26]=[c("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})],-1)]),8,MW)):fe("",!0),we>0?(O(),j("button",{key:1,type:"button",onClick:ye=>C(we,we-1),class:"bg-light-primary/90 text-light-text-primary rounded-full w-6 h-6 flex items-center justify-center hover:bg-light-primary transition-colors",title:"Move left"},U[27]||(U[27]=[c("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)]),8,VW)):fe("",!0),we<o.value.images.length-1?(O(),j("button",{key:2,type:"button",onClick:ye=>C(we,we+1),class:"bg-light-primary/90 text-light-text-primary rounded-full w-6 h-6 flex items-center justify-center hover:bg-light-primary transition-colors",title:"Move right"},U[28]||(U[28]=[c("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]),8,LW)):fe("",!0),c("button",{type:"button",onClick:ye=>_(we),class:"bg-accent-tertiary rounded-full w-6 h-6 flex items-center justify-center hover:bg-accent-tertiary/90 transition-colors",title:"Remove image"},U[29]||(U[29]=[c("svg",{class:"w-3.5 h-3.5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,FW)])])]),we===0?(O(),j("div",UW," Primary ")):fe("",!0)]))),128))]),c("div",jW,K(o.value.images.length),1)]))])]),c("div",BW,[c("div",qW,[U[37]||(U[37]=c("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-3"},"Add Product Images",-1)),c("div",HW,[c("div",zW,[c("div",WW,[U[32]||(U[32]=Tt('<svg class="w-10 h-10 text-light-neutral-400 dark:text-dark-neutral-500 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-ef617560><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" data-v-ef617560></path></svg><div class="text-center mb-3" data-v-ef617560><p class="text-sm text-light-text-secondary dark:text-dark-text-secondary font-medium" data-v-ef617560> Drag and drop or click to upload </p><p class="text-xs text-light-neutral-500 dark:text-dark-neutral-400 mt-1" data-v-ef617560> PNG, JPG or JPEG (max. 5MB) </p></div>',2)),c("input",{ref:"fileInput",type:"file",onChange:P,accept:"image/png, image/jpeg, image/jpg",class:"cursor-pointer opacity-0 absolute inset-0 w-full h-full","aria-label":"Upload product image"},null,544),c("button",{type:"button",class:"flex items-center text-sm bg-accent-quaternary hover:bg-accent-quaternary/90 text-white py-1.5 px-3 rounded-btn shadow-btn hover:shadow-btn-hover transition-all z-10",onClick:U[5]||(U[5]=oe=>G.$refs.fileInput.click())},U[31]||(U[31]=[c("svg",{class:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})],-1),de(" Browse Files ")]))])]),c("div",KW,[c("div",GW,[U[34]||(U[34]=c("label",{class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary"}," Or add image from URL ",-1)),c("div",QW,[Te(c("input",{type:"url","onUpdate:modelValue":U[6]||(U[6]=oe=>a.value=oe),placeholder:"https://example.com/image.jpg",class:"flex-1 p-2 border border-r-0 border-light-neutral-300 dark:border-dark-neutral-600 rounded-l bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary"},null,512),[[Pe,a.value]]),c("button",{type:"button",onClick:k,class:"bg-accent-quaternary hover:bg-accent-quaternary/90 text-white py-2 px-3 rounded-r shadow-btn hover:shadow-btn-hover transition-all flex items-center",disabled:d.value||!a.value.trim()},U[33]||(U[33]=[c("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),de(" Add ")]),8,YW)]),U[35]||(U[35]=c("p",{class:"text-xs text-light-neutral-500 dark:text-dark-neutral-400"}," Enter a direct link to an image file (CORS restrictions may apply) ",-1))])])]),d.value?(O(),j("div",JW,[U[36]||(U[36]=c("div",{class:"animate-spin mr-2 w-4 h-4 border-2 border-accent-quaternary border-t-transparent rounded-full"},null,-1)),c("span",null,K(y.value),1)])):fe("",!0)]),U[38]||(U[38]=Tt('<div class="bg-light-neutral-100 dark:bg-dark-neutral-900/50 px-4 py-3 border-t border-light-neutral-200 dark:border-dark-neutral-700" data-v-ef617560><div class="flex items-start" data-v-ef617560><svg class="w-5 h-5 text-accent-tertiary mr-2 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-ef617560><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" data-v-ef617560></path></svg><div class="text-sm text-light-text-secondary dark:text-dark-text-secondary space-y-1" data-v-ef617560><p data-v-ef617560><span class="font-medium" data-v-ef617560>Tips:</span> Add at least one product image. For best results, use images with a 1:1 aspect ratio. </p><ul class="list-disc list-inside text-xs text-light-neutral-500 dark:text-dark-neutral-400 pl-1 space-y-0.5" data-v-ef617560><li data-v-ef617560>The first image will be the primary product image shown in listings</li><li data-v-ef617560>You can rearrange images by using the arrow buttons</li><li data-v-ef617560>High-resolution images will be automatically resized to optimize performance</li></ul></div></div></div>',1))])]),c("div",XW,[U[47]||(U[47]=c("h2",{class:"text-lg font-semibold mb-4 text-light-text-primary dark:text-dark-text-primary"},"Additional Details",-1)),c("div",ZW,[c("div",null,[U[40]||(U[40]=c("label",{for:"materials",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Materials",-1)),Te(c("input",{type:"text",id:"materials","onUpdate:modelValue":U[7]||(U[7]=oe=>o.value.materials=oe),placeholder:"e.g. Sterling silver, glass beads, etc.",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary"},null,512),[[Pe,o.value.materials]])]),c("div",null,[U[41]||(U[41]=c("label",{for:"dimensions",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Dimensions",-1)),Te(c("input",{type:"text",id:"dimensions","onUpdate:modelValue":U[8]||(U[8]=oe=>o.value.dimensions=oe),placeholder:"e.g. 18 inches, 2.5cm diameter, etc.",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary"},null,512),[[Pe,o.value.dimensions]])])]),c("div",eK,[c("div",null,[U[42]||(U[42]=c("label",{class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Care Instructions",-1)),Te(c("textarea",{"onUpdate:modelValue":U[9]||(U[9]=oe=>o.value.careInstructions=oe),rows:"4",placeholder:"Enter care instructions, one per line",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary resize-y"},null,512),[[Pe,o.value.careInstructions]])]),c("div",null,[U[43]||(U[43]=c("label",{class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Sizing & Fit",-1)),Te(c("textarea",{"onUpdate:modelValue":U[10]||(U[10]=oe=>o.value.sizingAndFit=oe),rows:"3",placeholder:"Enter sizing and fit information",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary resize-y"},null,512),[[Pe,o.value.sizingAndFit]])]),c("div",null,[U[44]||(U[44]=c("label",{class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Shipping Information",-1)),Te(c("textarea",{"onUpdate:modelValue":U[11]||(U[11]=oe=>o.value.shippingInfo=oe),rows:"2",placeholder:"Enter shipping information",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary resize-y"},null,512),[[Pe,o.value.shippingInfo]])]),c("div",null,[U[45]||(U[45]=c("label",{class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Return Policy",-1)),Te(c("textarea",{"onUpdate:modelValue":U[12]||(U[12]=oe=>o.value.returnPolicy=oe),rows:"2",placeholder:"Enter return policy",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary resize-y"},null,512),[[Pe,o.value.returnPolicy]])])]),c("div",tK,[c("div",rK,[Te(c("input",{type:"checkbox",id:"featured","onUpdate:modelValue":U[13]||(U[13]=oe=>o.value.featured=oe),class:"h-4 w-4 text-accent-primary focus:ring-accent-primary border-light-neutral-300 dark:border-dark-neutral-600 rounded"},null,512),[[Fo,o.value.featured]]),U[46]||(U[46]=c("label",{for:"featured",class:"ml-2 block text-sm text-light-text-primary dark:text-dark-text-primary"}," Featured product (display on homepage) ",-1))])])]),c("div",nK,[U[58]||(U[58]=c("h2",{class:"text-lg font-semibold mb-4 text-light-text-primary dark:text-dark-text-primary flex items-center"},[c("span",null,"Product Variants"),c("span",{class:"ml-2 text-xs text-light-text-secondary dark:text-dark-text-secondary font-normal bg-light-neutral-100 dark:bg-dark-neutral-700 px-2 py-0.5 rounded-full"},"Optional")],-1)),o.value.variants.length?(O(),j("div",sK,[U[49]||(U[49]=c("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-3"},"Saved Variants",-1)),c("ul",iK,[(O(!0),j(ke,null,qe(o.value.variants,(oe,we)=>(O(),j("li",{key:we,class:"flex items-center justify-between p-3 rounded-lg border border-light-neutral-200 dark:border-dark-neutral-600 bg-light-primary dark:bg-dark-primary hover:shadow-sm transition-shadow"},[c("div",oK,[c("span",aK,K(oe.name),1),c("div",lK,[(O(!0),j(ke,null,qe(oe.colors,(ye,Se)=>(O(),j("div",{key:Se,class:"w-5 h-5 rounded-full border border-light-neutral-300 dark:border-dark-neutral-600 transition-transform hover:scale-110 cursor-pointer flex justify-center items-center",style:St({backgroundColor:ye}),title:ye},null,12,cK))),128))])]),c("button",{type:"button",onClick:ye=>o.value.variants.splice(we,1),class:"text-light-neutral-500 dark:text-dark-neutral-400 hover:text-accent-tertiary dark:hover:text-accent-tertiary flex items-center transition-colors"},U[48]||(U[48]=[c("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),c("span",{class:"ml-1 text-sm"},"Remove",-1)]),8,uK)]))),128))])])):fe("",!0),c("div",dK,[U[57]||(U[57]=c("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-4"},"Add New Variant",-1)),c("div",hK,[c("div",null,[U[50]||(U[50]=c("label",{for:"variant-name",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"}," Variant Name ",-1)),Te(c("input",{type:"text",id:"variant-name","onUpdate:modelValue":U[14]||(U[14]=oe=>R.value=oe),placeholder:"e.g. 'Silver & Blue', 'Rose Gold', 'Extra Large'",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary"},null,512),[[Pe,R.value]]),U[51]||(U[51]=c("p",{class:"mt-1 text-xs text-light-neutral-500 dark:text-dark-neutral-400"}," Name that describes this product variant (color, size, material, style, etc.) ",-1))]),c("div",null,[U[54]||(U[54]=c("label",{class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},[de(" Color Palette "),c("span",{class:"ml-1 text-xs text-light-neutral-500 dark:text-dark-neutral-400 font-normal"}," (up to 5 colors) ")],-1)),c("div",fK,[(O(!0),j(ke,null,qe(A.value,(oe,we)=>(O(),j("div",{key:we,class:"relative group"},[c("div",pK,[c("div",{class:"w-8 h-8 rounded-full border border-light-neutral-300 dark:border-dark-neutral-600 shadow-sm flex items-center justify-center",style:St({backgroundColor:oe})},null,4),Te(c("input",{type:"color","onUpdate:modelValue":ye=>A.value[we]=ye,onInput:ye=>I(we,ye),class:"w-5 h-5 mt-1 p-0 border-0 cursor-pointer","aria-label":`Color ${we+1}`},null,40,mK),[[Pe,A.value[we]]]),c("button",{type:"button",onClick:ye=>v(we),class:"absolute -top-1 -right-1 w-5 h-5 rounded-full flex items-center justify-center bg-accent-tertiary text-white opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Remove color"},"  ",8,gK)])]))),128)),A.value.length<5?(O(),j("button",{key:0,type:"button",onClick:M,class:"w-8 h-8 rounded-full border-2 border-dashed border-light-neutral-400 dark:border-dark-neutral-500 flex items-center justify-center hover:border-accent-primary dark:hover:border-accent-primary transition-colors","aria-label":"Add color"},U[52]||(U[52]=[c("span",{class:"text-light-neutral-500 dark:text-dark-neutral-400 text-xl"},"+",-1)]))):fe("",!0)]),c("div",yK,[U[53]||(U[53]=c("p",{class:"text-xs text-light-neutral-500 dark:text-dark-neutral-400 mb-2"},"Common colors:",-1)),c("div",vK,[(O(),j(ke,null,qe(w,(oe,we)=>c("button",{key:we,type:"button",onClick:ye=>N(oe),style:St({backgroundColor:oe}),disabled:A.value.length>=5,class:"w-6 h-6 rounded-full border border-light-neutral-300 dark:border-dark-neutral-600 hover:scale-110 transition-transform","aria-label":`Add ${oe} color`},null,12,bK)),64))])])])]),c("div",xK,[c("button",{type:"button",onClick:m,disabled:!S.value,class:"flex items-center px-4 py-2 rounded-btn shadow-btn text-white bg-accent-quaternary hover:bg-accent-quaternary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-all"},U[55]||(U[55]=[c("svg",{class:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),de(" Add Variant ")]),8,_K),S.value?fe("",!0):(O(),j("div",wK,U[56]||(U[56]=[c("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),de(" Please add a name and at least one color ")])))])])]),c("div",kK,[c("button",{type:"button",onClick:U[15]||(U[15]=oe=>G.$router.go(-1)),class:"py-2 px-4 border border-light-neutral-300 dark:border-dark-neutral-600 rounded-btn shadow-btn text-sm font-medium text-light-text-primary dark:text-dark-text-primary hover:bg-light-neutral-100 dark:hover:bg-dark-neutral-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent-primary transition-all"}," Cancel "),c("button",{type:"submit",class:"py-2 px-4 border border-transparent rounded-btn shadow-btn text-sm font-medium text-white bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-btn-primary transition-all",disabled:l.value},K(l.value?"Saving...":"Save Product"),9,EK)])],32)]),h.value?(O(),j("div",IK,[U[60]||(U[60]=c("strong",{class:"font-bold mr-1"},"Error:",-1)),c("span",TK,K(h.value),1),c("span",{class:"absolute top-0 bottom-0 right-0 px-4 py-3 cursor-pointer",onClick:U[16]||(U[16]=oe=>h.value=null)},U[59]||(U[59]=[c("span",{class:"text-xl"},"",-1)]))])):fe("",!0),b.value?(O(),j("div",AK,U[61]||(U[61]=[c("strong",{class:"font-bold"},"Warning:",-1),c("span",{class:"block sm:inline"}," Some images are temporarily stored locally due to CORS restrictions. They will be lost if you refresh the page. Please check the CORS settings for your Firebase Storage. ",-1)]))):fe("",!0),f.value?(O(),j("div",SK,U[62]||(U[62]=[c("strong",{class:"font-bold"},"Warning:",-1),c("span",{class:"block sm:inline"}," Some uploaded images may be stored as base64 strings in the database, which has size limitations. Very large images may cause problems when saving the product. ",-1)]))):fe("",!0)])}}},Jb=Gr(CK,[["__scopeId","data-v-ef617560"]]),PK={class:"admin-orders min-h-screen bg-light-primary dark:bg-dark-primary transition-colors duration-300"},RK={class:"container mx-auto px-4 py-8"},NK={class:"flex justify-between items-center mb-12 bg-light-secondary dark:bg-dark-secondary p-6 rounded-xl shadow-lg"},$K={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},OK={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-accent-primary/10 dark:from-dark-secondary dark:to-accent-primary/20 rounded-xl shadow-lg p-6 border-2 border-accent-primary/20"},DK={class:"text-3xl font-bold text-accent-primary"},MK={class:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-1"},VK={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-orange-500/10 dark:from-dark-secondary dark:to-orange-500/20 rounded-xl shadow-lg p-6 border-2 border-orange-500/20"},LK={class:"text-3xl font-bold text-orange-500"},FK={class:"flex items-center mt-2"},UK={class:"h-2 flex-grow rounded-full bg-light-neutral-200 dark:bg-dark-neutral-700"},jK={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-blue-500/10 dark:from-dark-secondary dark:to-blue-500/20 rounded-xl shadow-lg p-6 border-2 border-blue-500/20"},BK={class:"text-3xl font-bold text-blue-500"},qK={class:"text-xs text-accent-tertiary mt-1"},HK={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-cyan-500/10 dark:from-dark-secondary dark:to-cyan-500/20 rounded-xl shadow-lg p-6 border-2 border-cyan-500/20"},zK={class:"text-3xl font-bold text-cyan-500"},WK={class:"bg-light-secondary dark:bg-dark-secondary rounded-xl shadow-lg p-6 mb-6 border border-light-neutral-300 dark:border-dark-neutral-700"},KK={class:"flex flex-wrap items-center gap-4"},GK={key:0,class:"flex justify-center items-center h-64"},QK={key:1,class:"bg-light-secondary dark:bg-dark-secondary rounded-xl shadow-lg overflow-hidden border border-light-neutral-300 dark:border-dark-neutral-700"},YK={class:"w-full text-left"},JK={class:"bg-light-neutral-100 dark:bg-dark-neutral-800 border-b border-light-neutral-300 dark:border-dark-neutral-700"},XK={class:"flex items-center"},ZK={class:"flex items-center"},eG={class:"flex items-center"},tG={class:"flex items-center"},rG={class:"flex items-center"},nG={class:"flex items-center"},sG={class:"px-6 py-4 font-medium"},iG={class:"px-6 py-4"},oG={class:"px-6 py-4"},aG={class:"px-6 py-4"},lG={class:"px-6 py-4"},cG={class:"px-6 py-4"},uG={class:"px-6 py-4"},dG=["onClick"],hG=["onClick"],fG={key:2,class:"bg-white rounded-lg shadow-md p-8 text-center"},pG={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},mG={class:"bg-light-primary dark:bg-dark-primary rounded-xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto transform"},gG={class:"p-6 border-b border-light-neutral-300 dark:border-dark-neutral-700"},yG={class:"flex justify-between items-center"},vG={class:"p-6"},bG={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},xG={class:"bg-light-secondary dark:bg-dark-secondary p-4 rounded-lg"},_G={class:"bg-light-secondary dark:bg-dark-secondary p-4 rounded-lg"},wG={key:0},kG={key:1},EG={key:0,class:"mb-6 bg-light-secondary dark:bg-dark-secondary p-4 rounded-lg"},IG={class:"mb-6"},TG={class:"border border-light-neutral-300 dark:border-dark-neutral-700 rounded-lg overflow-hidden"},AG={class:"w-full text-sm"},SG={class:"bg-light-secondary dark:bg-dark-secondary"},CG={class:"px-4 py-3"},PG={class:"flex items-center"},RG=["src"],NG={class:"pl-2"},$G={class:"px-4 py-3"},OG={class:"px-4 py-3"},DG={class:"px-4 py-3 text-right"},MG={class:"bg-light-neutral-100 dark:bg-dark-neutral-800"},VG={class:"px-4 py-2 text-right font-bold"},LG={class:"flex justify-end"},FG={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},UG={class:"bg-light-primary dark:bg-dark-primary rounded-xl shadow-xl p-6 w-full max-w-md transform"},jG={class:"mb-4"},BG={class:"text-light-text-secondary dark:text-dark-text-secondary mb-2"},qG={class:"flex justify-end gap-2"},HG=["disabled"],zG={key:0,class:"inline-block animate-spin mr-2"},WG={__name:"AdminOrders",setup(t){const e=H([]),r=H(!0),n=H("all"),s=H(""),i=H(!1),o=H(!1),a=H(null),l=H(""),d=H(!1),h=H("orderNumber"),f=H("asc"),p=H(0),y=te(()=>e.value.filter(v=>v.status==="processing").length),b=te(()=>e.value.reduce((v,m)=>v+(m.total||0),0)),k=te(()=>e.value.length?b.value/e.value.length:0),_=H(15),T=te(()=>{let v=[...e.value];if(n.value!=="all"&&(v=v.filter(m=>m.status===n.value)),s.value.trim()){const m=s.value.toLowerCase();v=v.filter(w=>{var ce,G,U,ee;const N=((ce=w.orderNumber)==null?void 0:ce.toLowerCase())||w.id.toLowerCase(),S=((G=w.firstName)==null?void 0:G.toLowerCase())||"",C=((U=w.lastName)==null?void 0:U.toLowerCase())||"",le=((ee=w.email)==null?void 0:ee.toLowerCase())||"";return N.includes(m)||S.includes(m)||C.includes(m)||le.includes(m)||`${S} ${C}`.includes(m)})}return v.sort((m,w)=>{let N=m[h.value],S=w[h.value];h.value==="orderDate"&&(N=(N==null?void 0:N.seconds)||0,S=(S==null?void 0:S.seconds)||0);const C=N>S?1:N<S?-1:0;return f.value==="asc"?C:-C}),v}),P=async()=>{r.value=!0;try{const v=await He.getAllOrders();e.value=v.map(m=>{var le,ce,G;const w=m.firstName||((le=m.shippingInfo)==null?void 0:le.firstName)||"",N=m.lastName||((ce=m.shippingInfo)==null?void 0:ce.lastName)||"",S=`${w} ${N}`.trim()||m.customerName||"N/A",C=m.email||((G=m.shippingInfo)==null?void 0:G.email)||"N/A";return{...m,customerName:S,email:C}})}catch(v){console.error("Error loading orders:",v)}finally{r.value=!1}},E=async v=>{var m,w,N,S,C,le,ce,G,U;try{if(v.userId){const ee=await He.getUserProfile(v.userId),oe=v.firstName||((m=v.shippingInfo)==null?void 0:m.firstName)||(ee==null?void 0:ee.firstName)||"",we=v.lastName||((w=v.shippingInfo)==null?void 0:w.lastName)||(ee==null?void 0:ee.lastName)||"",ye=`${oe} ${we}`.trim(),Se=v.email||((N=v.shippingInfo)==null?void 0:N.email)||(ee==null?void 0:ee.email)||"N/A";a.value={...v,customerDetails:ee,customerName:ye||"N/A",email:Se}}else{const ee=v.firstName||((S=v.shippingInfo)==null?void 0:S.firstName)||"",oe=v.lastName||((C=v.shippingInfo)==null?void 0:C.lastName)||"",we=`${ee} ${oe}`.trim(),ye=v.email||((le=v.shippingInfo)==null?void 0:le.email)||"N/A";a.value={...v,customerName:we||"Guest User",email:ye}}i.value=!0}catch(ee){console.error("Error loading customer details:",ee);const oe=v.firstName||((ce=v.shippingInfo)==null?void 0:ce.firstName)||"",we=v.lastName||((G=v.shippingInfo)==null?void 0:G.lastName)||"",ye=`${oe} ${we}`.trim(),Se=v.email||((U=v.shippingInfo)==null?void 0:U.email)||"N/A";a.value={...v,customerName:ye||"N/A",email:Se},i.value=!0}},R=v=>{a.value=v,l.value=v.status||"processing",o.value=!0},A=async()=>{if(!(!a.value||!l.value)){d.value=!0;try{await He.updateOrderStatus(a.value.id,l.value);const v=e.value.findIndex(m=>m.id===a.value.id);if(v!==-1&&(e.value[v].status=l.value),a.value&&(a.value.status=l.value),await notificationStore.addPersistedNotification({title:"Order Status Updated",message:`Order #${a.value.orderNumber||a.value.id.substring(0,6)} status changed to ${l.value}`,type:"success",isAdmin:!0}),a.value.userId){let m,w;switch(l.value){case"shipped":m="info",w=`Great news! Your order #${a.value.orderNumber} has been shipped and is on its way.`;break;case"delivered":m="success",w=`Your order #${a.value.orderNumber} has been delivered. Thank you for shopping with us!`;break;case"cancelled":m="error",w=`Your order #${a.value.orderNumber} has been cancelled. Please contact support if you have any questions.`;break;default:m="info",w=`Your order #${a.value.orderNumber} status has been updated to ${l.value}.`}await notificationStore.addPersistedNotification({title:"Order Status Update",message:w,type:m,userId:a.value.userId}),notificationStore.addNotification({title:"Success",message:`Order status updated to ${l.value}`,type:"success"})}o.value=!1}catch(v){console.error("Error updating order status:",v),notificationStore.addNotification({title:"Error",message:`Failed to update order status: ${v.message}`,type:"error",timeout:5e3})}finally{d.value=!1}}},M=v=>{if(!v)return"N/A";const m=v.toDate?v.toDate():new Date(v);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(m)},I=v=>v?v.charAt(0).toUpperCase()+v.slice(1):"";return je(()=>{P()}),(v,m)=>{const w=Lr("ArrowPathIcon"),N=Lr("SortIndicator");return O(),j("div",PK,[c("div",RK,[c("div",NK,[c("div",null,[z(uh,{items:[{text:"Dashboard",path:"/admin"},{text:"Orders"}]}),m[13]||(m[13]=c("h1",{class:"text-4xl font-bold text-light-text-primary dark:text-dark-text-primary mt-2"},"Order Management",-1)),m[14]||(m[14]=c("p",{class:"text-light-text-secondary dark:text-dark-text-secondary mt-1"},"View and manage customer orders",-1))]),c("button",{onClick:P,class:"bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark text-light-text-inverted neutral py-2 px-4 rounded-btn flex items-center shadow-btn hover:shadow-btn-hover transition-btn duration-200"},[z(w,{class:"h-5 w-5 mr-2"}),m[15]||(m[15]=de(" Refresh "))])]),c("div",$K,[c("div",OK,[m[16]||(m[16]=c("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Total Orders",-1)),c("p",DK,K(e.value.length),1),c("p",MK,"Last 30 days: +"+K(p.value),1)]),c("div",VK,[m[17]||(m[17]=c("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Processing",-1)),c("p",LK,K(y.value),1),c("div",FK,[c("div",UK,[c("div",{class:"h-2 rounded-full bg-orange-500 transition-all duration-300",style:St(`width: ${y.value/e.value.length*100}%`)},null,4)])])]),c("div",jK,[m[19]||(m[19]=c("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Revenue",-1)),c("p",BK,K(q(Ye)(b.value)),1),c("p",qK,[m[18]||(m[18]=c("span",{class:"inline-block transform rotate-45"},"",-1)),de(" "+K(_.value)+"% from last month ",1)])]),c("div",HK,[m[20]||(m[20]=c("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Avg. Order Value",-1)),c("p",zK,K(q(Ye)(k.value)),1),m[21]||(m[21]=c("p",{class:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-1"},"Per order",-1))])]),c("div",WK,[c("div",KK,[c("div",null,[m[23]||(m[23]=c("label",{class:"text-sm text-light-text-secondary dark:text-dark-text-secondary block mb-1"},"Filter by Status:",-1)),Te(c("select",{"onUpdate:modelValue":m[0]||(m[0]=S=>n.value=S),class:"border border-light-neutral-300 dark:border-dark-neutral-600 rounded-lg px-3 py-2 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-accent-primary focus:border-accent-primary"},m[22]||(m[22]=[Tt('<option value="all" data-v-36fe6a74>All Orders</option><option value="processing" data-v-36fe6a74>Processing</option><option value="shipped" data-v-36fe6a74>Shipped</option><option value="delivered" data-v-36fe6a74>Delivered</option><option value="cancelled" data-v-36fe6a74>Cancelled</option>',5)]),512),[[ns,n.value]])]),c("div",null,[m[24]||(m[24]=c("label",{class:"text-sm text-light-text-secondary dark:text-dark-text-secondary block mb-1"},"Search:",-1)),Te(c("input",{"onUpdate:modelValue":m[1]||(m[1]=S=>s.value=S),type:"text",placeholder:"Search by Order ID, name, or email",class:"border border-light-neutral-300 dark:border-dark-neutral-600 rounded-lg px-3 py-2 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-accent-primary focus:border-accent-primary"},null,512),[[Pe,s.value]])])])]),r.value?(O(),j("div",GK,m[25]||(m[25]=[c("div",{class:"animate-spin rounded-full h-16 w-16 border-t-4 border-blue-600 border-opacity-75"},null,-1)]))):T.value.length>0?(O(),j("div",QK,[c("table",YK,[c("thead",JK,[c("tr",null,[c("th",{class:"px-6 py-3 text-light-text-secondary dark:text-dark-text-secondary font-medium cursor-pointer",onClick:m[2]||(m[2]=S=>v.sortOrders("orderNumber"))},[c("div",XK,[m[26]||(m[26]=c("span",null,"Order ID",-1)),z(N,{active:h.value==="orderNumber",direction:f.value},null,8,["active","direction"])])]),c("th",{class:"px-6 py-3 text-light-text-secondary dark:text-dark-text-secondary font-medium cursor-pointer",onClick:m[3]||(m[3]=S=>v.sortOrders("orderDate"))},[c("div",ZK,[m[27]||(m[27]=c("span",null,"Date",-1)),z(N,{active:h.value==="orderDate",direction:f.value},null,8,["active","direction"])])]),c("th",{class:"px-6 py-3 text-light-text-secondary dark:text-dark-text-secondary font-medium cursor-pointer",onClick:m[4]||(m[4]=S=>v.sortOrders("customerName"))},[c("div",eG,[m[28]||(m[28]=c("span",null,"Customer Name",-1)),z(N,{active:h.value==="customerName",direction:f.value},null,8,["active","direction"])])]),c("th",{class:"px-6 py-3 text-light-text-secondary dark:text-dark-text-secondary font-medium cursor-pointer",onClick:m[5]||(m[5]=S=>v.sortOrders("email"))},[c("div",tG,[m[29]||(m[29]=c("span",null,"Email",-1)),z(N,{active:h.value==="email",direction:f.value},null,8,["active","direction"])])]),c("th",{class:"px-6 py-3 text-light-text-secondary dark:text-dark-text-secondary font-medium cursor-pointer",onClick:m[6]||(m[6]=S=>v.sortOrders("total"))},[c("div",rG,[m[30]||(m[30]=c("span",null,"Total",-1)),z(N,{active:h.value==="total",direction:f.value},null,8,["active","direction"])])]),c("th",{class:"px-6 py-3 text-light-text-secondary dark:text-dark-text-secondary font-medium cursor-pointer",onClick:m[7]||(m[7]=S=>v.sortOrders("status"))},[c("div",nG,[m[31]||(m[31]=c("span",null,"Status",-1)),z(N,{active:h.value==="status",direction:f.value},null,8,["active","direction"])])]),m[32]||(m[32]=c("th",{class:"px-6 py-3 text-light-text-secondary dark:text-dark-text-secondary font-medium"},"Actions",-1))])]),c("tbody",null,[(O(!0),j(ke,null,qe(T.value,S=>(O(),j("tr",{key:S.id,class:"border-b hover:bg-gray-50"},[c("td",sG,K(S.orderNumber||`#${S.id.substring(0,6)}`),1),c("td",iG,K(M(S.orderDate)),1),c("td",oG,K(S.customerName||"Unknown"),1),c("td",aG,K(S.email||"N/A"),1),c("td",lG,K(q(Ye)(S.total)),1),c("td",cG,[c("span",{class:$e([{"bg-yellow-100 text-yellow-800":S.status==="processing","bg-blue-100 text-blue-800":S.status==="shipped","bg-green-100 text-green-800":S.status==="delivered","bg-red-100 text-red-800":S.status==="cancelled"},"px-3 py-1 rounded-full text-sm font-medium"])},K(I(S.status)),3)]),c("td",uG,[c("button",{onClick:C=>E(S),class:"text-blue-600 hover:text-blue-900 mr-3"}," View ",8,dG),c("button",{onClick:C=>R(S),class:"text-green-600 hover:text-green-900"}," Update ",8,hG)])]))),128))])])])):(O(),j("div",fG,m[33]||(m[33]=[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-16 w-16 text-gray-400 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),c("h2",{class:"text-xl font-semibold text-gray-700"},"No orders found",-1),c("p",{class:"text-gray-500 mt-1"},"No orders match your current filters.",-1)]))),z(Us,{"enter-active-class":"duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:Z(()=>[i.value?(O(),j("div",pG,[z(Us,{"enter-active-class":"duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:Z(()=>{var S,C,le,ce,G,U,ee,oe,we,ye,Se,Le,ot,Et,ft,W,V,F,L,be;return[c("div",mG,[c("div",gG,[c("div",yG,[m[35]||(m[35]=c("h2",{class:"text-2xl font-bold text-light-text-primary dark:text-dark-text-primary"},"Order Details",-1)),c("button",{onClick:m[8]||(m[8]=re=>i.value=!1),class:"text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary"},m[34]||(m[34]=[c("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[c("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])]),c("div",vG,[c("div",bG,[c("div",xG,[m[40]||(m[40]=c("h3",{class:"font-medium text-light-text-primary dark:text-dark-text-primary mb-2"},"Order Information",-1)),c("p",null,[m[36]||(m[36]=c("span",{class:"text-gray-500"},"Order ID:",-1)),de(" "+K(((S=a.value)==null?void 0:S.orderNumber)||`#${(C=a.value)==null?void 0:C.id.substring(0,6)}`),1)]),c("p",null,[m[37]||(m[37]=c("span",{class:"text-gray-500"},"Date:",-1)),de(" "+K(M((le=a.value)==null?void 0:le.orderDate)),1)]),c("p",null,[m[38]||(m[38]=c("span",{class:"text-gray-500"},"Status:",-1)),c("span",{class:$e([{"bg-yellow-100 text-yellow-800":((ce=a.value)==null?void 0:ce.status)==="processing","bg-blue-100 text-blue-800":((G=a.value)==null?void 0:G.status)==="shipped","bg-green-100 text-green-800":((U=a.value)==null?void 0:U.status)==="delivered","bg-red-100 text-red-800":((ee=a.value)==null?void 0:ee.status)==="cancelled"},"px-3 py-1 rounded-full text-sm font-medium ml-1"])},K(I((oe=a.value)==null?void 0:oe.status)),3)]),c("p",null,[m[39]||(m[39]=c("span",{class:"text-gray-500"},"Total:",-1)),de(" "+K(q(Ye)((we=a.value)==null?void 0:we.total)),1)])]),c("div",_G,[m[46]||(m[46]=c("h3",{class:"font-medium text-light-text-primary dark:text-dark-text-primary mb-2"},"Customer Information",-1)),c("p",null,[m[41]||(m[41]=c("span",{class:"text-gray-500"},"Name:",-1)),de(" "+K((ye=a.value)==null?void 0:ye.customerName),1)]),c("p",null,[m[42]||(m[42]=c("span",{class:"text-gray-500"},"Email:",-1)),de(" "+K(((Se=a.value)==null?void 0:Se.email)||"N/A"),1)]),c("p",null,[m[43]||(m[43]=c("span",{class:"text-gray-500"},"Phone:",-1)),de(" "+K(((Le=a.value)==null?void 0:Le.phone)||"N/A"),1)]),(ot=a.value)!=null&&ot.shippingAddress?(O(),j("p",wG,[m[44]||(m[44]=c("span",{class:"text-gray-500"},"Address:",-1)),de(" "+K((Et=a.value)==null?void 0:Et.shippingAddress),1)])):fe("",!0),(ft=a.value)!=null&&ft.userId?(O(),j("p",kG,[m[45]||(m[45]=c("span",{class:"text-gray-500"},"Customer ID:",-1)),de(" "+K((W=a.value)==null?void 0:W.userId),1)])):fe("",!0)])]),(V=a.value)!=null&&V.shippingAddress?(O(),j("div",EG,[m[47]||(m[47]=c("h3",{class:"font-medium text-light-text-primary dark:text-dark-text-primary mb-2"},"Shipping Address",-1)),c("p",null,K(a.value.shippingAddress.street)+", "+K(a.value.shippingAddress.city),1),c("p",null,K(a.value.shippingAddress.state)+", "+K(a.value.shippingAddress.zip),1),c("p",null,K(a.value.shippingAddress.country),1)])):fe("",!0),c("div",IG,[m[50]||(m[50]=c("h3",{class:"font-medium text-light-text-primary dark:text-dark-text-primary mb-2"},"Order Items",-1)),c("div",TG,[c("table",AG,[m[49]||(m[49]=c("thead",{class:"bg-light-neutral-100 dark:bg-dark-neutral-800"},[c("tr",null,[c("th",{class:"px-4 py-2 text-left"},"Product"),c("th",{class:"px-4 py-2 text-left"},"Price"),c("th",{class:"px-4 py-2 text-left"},"Quantity"),c("th",{class:"px-4 py-2 text-right"},"Subtotal")])],-1)),c("tbody",SG,[(O(!0),j(ke,null,qe((F=a.value)==null?void 0:F.items,(re,D)=>{var B;return O(),j("tr",{key:D,class:"border-t"},[c("td",CG,[c("div",PG,[c("img",{src:re.image||"https://via.placeholder.com/80",alt:"Product",class:"w-16 h-16 object-cover rounded-lg shadow-card"},null,8,RG),c("span",NG,K(re.name),1)])]),c("td",$G,K((B=re.price)==null?void 0:B.toFixed(2)),1),c("td",OG,K(re.quantity),1),c("td",DG,"$"+K((re.price*re.quantity).toFixed(2)),1)])}),128))]),c("tfoot",MG,[c("tr",null,[m[48]||(m[48]=c("td",{colspan:"3",class:"px-4 py-2 text-right font-medium"},"Total:",-1)),c("td",VG,"$"+K((be=(L=a.value)==null?void 0:L.total)==null?void 0:be.toFixed(2)),1)])])])])]),c("div",LG,[c("button",{onClick:m[9]||(m[9]=re=>R(a.value)),class:"bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark text-light-text-inverted px-4 py-2 rounded-btn shadow-btn hover:shadow-btn-hover transition-btn duration-200 mr-2"}," Update Status "),c("button",{onClick:m[10]||(m[10]=re=>i.value=!1),class:"bg-light-neutral-200 dark:bg-dark-neutral-700 text-light-text-primary dark:text-dark-text-primary px-4 py-2 rounded-btn hover:bg-light-neutral-300 dark:hover:bg-dark-neutral-600 transition-colors duration-200"}," Close ")])])])]}),_:1})])):fe("",!0)]),_:1}),z(Us,{"enter-active-class":"duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:Z(()=>[o.value?(O(),j("div",FG,[z(Us,{"enter-active-class":"duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:Z(()=>{var S,C;return[c("div",UG,[m[54]||(m[54]=c("h2",{class:"text-xl font-bold mb-4 text-light-text-primary dark:text-dark-text-primary"},"Update Order Status",-1)),c("div",jG,[c("p",BG," Order: "+K(((S=a.value)==null?void 0:S.orderNumber)||`#${(C=a.value)==null?void 0:C.id.substring(0,6)}`),1),m[52]||(m[52]=c("label",{class:"block text-light-text-primary dark:text-dark-text-primary mb-2"},"Status:",-1)),Te(c("select",{"onUpdate:modelValue":m[11]||(m[11]=le=>l.value=le),class:"w-full border border-light-neutral-300 dark:border-dark-neutral-700 rounded-lg px-3 py-2 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-accent-primary focus:border-accent-primary"},m[51]||(m[51]=[c("option",{value:"processing"},"Processing",-1),c("option",{value:"shipped"},"Shipped",-1),c("option",{value:"delivered"},"Delivered",-1),c("option",{value:"cancelled"},"Cancelled",-1)]),512),[[ns,l.value]])]),c("div",qG,[c("button",{onClick:m[12]||(m[12]=le=>o.value=!1),class:"bg-light-neutral-200 dark:bg-dark-neutral-700 text-light-text-primary dark:text-dark-text-primary px-4 py-2 rounded-btn hover:bg-light-neutral-300 dark:hover:bg-dark-neutral-600 transition-colors duration-200"}," Cancel "),c("button",{onClick:A,class:"bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark text-light-text-inverted px-4 py-2 rounded-btn shadow-btn hover:shadow-btn-hover transition-btn duration-200",disabled:d.value},[d.value?(O(),j("span",zG,"")):fe("",!0),m[53]||(m[53]=de(" Update "))],8,HG)])])]}),_:1})])):fe("",!0)]),_:1})])])}}},KG=Gr(WG,[["__scopeId","data-v-36fe6a74"]]),GG={class:"admin-users min-h-screen bg-light-primary dark:bg-dark-primary transition-colors duration-300"},QG={class:"container mx-auto px-4 py-8"},YG={class:"flex justify-between items-center mb-12 bg-light-secondary dark:bg-dark-secondary p-6 rounded-xl shadow-lg"},JG={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},XG={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-accent-primary/10 dark:from-dark-secondary dark:to-accent-primary/20 rounded-xl shadow-lg p-6 border-2 border-accent-primary/20"},ZG={class:"text-3xl font-bold text-accent-primary"},eQ={class:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-1"},tQ={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-orange-500/10 dark:from-dark-secondary dark:to-orange-500/20 rounded-xl shadow-lg p-6 border-2 border-orange-500/20"},rQ={class:"text-3xl font-bold text-orange-500"},nQ={class:"flex items-center mt-2"},sQ={class:"h-2 flex-grow rounded-full bg-light-neutral-200 dark:bg-dark-neutral-700"},iQ={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-blue-500/10 dark:from-dark-secondary dark:to-blue-500/20 rounded-xl shadow-lg p-6 border-2 border-blue-500/20"},oQ={class:"text-3xl font-bold text-blue-500"},aQ={class:"text-xs text-accent-tertiary mt-1"},lQ={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-cyan-500/10 dark:from-dark-secondary dark:to-cyan-500/20 rounded-xl shadow-lg p-6 border-2 border-cyan-500/20"},cQ={class:"text-3xl font-bold text-cyan-500"},uQ={key:0,class:"mb-4 flex items-center space-x-2"},dQ={class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},hQ={class:"bg-light-secondary dark:bg-dark-secondary rounded-xl shadow-lg overflow-hidden border border-light-neutral-300 dark:border-dark-neutral-700"},fQ={class:"overflow-x-auto"},pQ={class:"min-w-full divide-y divide-light-neutral-300 dark:divide-dark-neutral-700"},mQ={class:"bg-light-neutral-100 dark:bg-dark-neutral-800"},gQ={scope:"col",class:"px-6 py-3"},yQ=["checked"],vQ={class:"flex items-center"},bQ={class:"flex items-center"},xQ={class:"flex items-center"},_Q={class:"bg-light-secondary dark:bg-dark-secondary divide-y divide-light-neutral-300 dark:divide-dark-neutral-700"},wQ={key:0,class:"animate-pulse"},kQ={key:1},EQ={colspan:"5",class:"px-6 py-12 text-center"},IQ={class:"flex flex-col items-center"},TQ={class:"px-6 py-4"},AQ=["checked","onChange"],SQ={class:"px-6 py-4 whitespace-nowrap"},CQ={class:"flex items-center"},PQ={class:"flex-shrink-0 h-10 w-10 rounded-full bg-accent-primary/10 dark:bg-accent-primary/20 flex items-center justify-center text-accent-primary"},RQ={class:"ml-4"},NQ={class:"text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},$Q={key:0,class:"ml-1 text-xs text-accent-quaternary dark:text-accent-quaternary font-normal"},OQ={class:"px-6 py-4 whitespace-nowrap"},DQ={class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},MQ={class:"px-6 py-4 whitespace-nowrap"},VQ={class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},LQ={class:"px-6 py-4 whitespace-nowrap"},FQ={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},UQ={class:"flex items-center justify-end space-x-2"},jQ=["onClick"],BQ=["onClick"],qQ=["onClick"],HQ={key:1,class:"fixed bottom-4 right-4 bg-accent-tertiary/10 border border-accent-tertiary/20 text-accent-tertiary dark:text-accent-tertiary px-4 py-2 rounded-lg shadow-lg flex items-center"},zQ={class:"fixed inset-0 overflow-y-auto"},WQ={class:"flex min-h-full items-center justify-center p-4 text-center"},KQ={class:"flex justify-between items-center mb-4"},GQ={key:0,class:"mb-4 bg-accent-tertiary/10 border-accent-tertiary/20 text-accent-tertiary dark:text-accent-tertiary border px-4 py-2 rounded flex items-center"},QQ={class:"mt-4 space-y-4"},YQ={class:"grid grid-cols-2 gap-4"},JQ={class:"flex items-center"},XQ={class:"mt-6 flex justify-end space-x-3"},ZQ=["disabled"],eY={key:0,class:"inline-block animate-spin mr-2"},tY={__name:"AdminUsersView",setup(t){const e=H([]),r=H([]),n=H(!0),s=H(""),i=H(!1),o=H(null),a=H({}),l=H(!1),d=H(null),h=H(!1),f=gn({show:!1,message:"",timeout:null}),p=H(0),y=H(0),b=H(12),k=H("24:15"),_=te(()=>r.value.length===ce.value.length),T=H("name"),P=H("asc"),E=H("all"),R=[{text:"Dashboard",path:"/admin"},{text:"User Management"}],A=V=>{V.target.checked?r.value=ce.value.map(F=>F.id):r.value=[]},M=V=>{const F=r.value.indexOf(V);F===-1?r.value.push(V):r.value.splice(F,1)},I=H(null);je(async()=>{try{n.value=!0;const V=oa();d.value=V.currentUser,e.value=await He.getAllUsers()}catch(V){console.error("Failed to load users:",V),I.value="Failed to load users. Please try again later."}finally{n.value=!1}});const v=V=>{if(!V)return"?";const F=V.firstName?V.firstName[0]:"",L=V.lastName?V.lastName[0]:"";return(F+L).toUpperCase()||"?"},m=V=>{if(!V||!d.value)return!1;const F=V.id===d.value.uid||V.uid===d.value.uid||V.email===d.value.email;return F&&!V.email&&d.value.email&&(V.email=d.value.email),F},w=V=>{f.timeout&&clearTimeout(f.timeout),f.message=V,f.show=!0,f.timeout=setTimeout(()=>{f.show=!1},3e3)},N=V=>{T.value===V?P.value=P.value==="asc"?"desc":"asc":(T.value=V,P.value="asc")},S=()=>{s.value="",E.value="all"},C=te(()=>e.value.filter(V=>V.isAdmin).length),le=Ze({props:{active:Boolean,direction:String},setup(V){return()=>V.active?yt("span",{class:"ml-1 text-gray-700"},V.direction==="asc"?"":""):yt("span",{class:"ml-1 text-gray-300"},"")}}),ce=te(()=>{let V=[...e.value];if(E.value!=="all"){const F=E.value==="admin";V=V.filter(L=>L.isAdmin===F)}if(s.value){const F=s.value.toLowerCase();V=V.filter(L=>{var be;return((be=L.email)==null?void 0:be.toLowerCase().includes(F))||`${L.firstName} ${L.lastName}`.toLowerCase().includes(F)})}return V.sort((F,L)=>{var B,Y,ie,J;let be,re;T.value==="name"?(be=`${F.firstName} ${F.lastName}`.toLowerCase(),re=`${L.firstName} ${L.lastName}`.toLowerCase()):T.value==="email"?(be=((B=F.email)==null?void 0:B.toLowerCase())||"",re=((Y=L.email)==null?void 0:Y.toLowerCase())||""):T.value==="createdAt"&&(be=((ie=F.createdAt)==null?void 0:ie.seconds)||0,re=((J=L.createdAt)==null?void 0:J.seconds)||0);const D=be>re?1:be<re?-1:0;return P.value==="asc"?D:-D}),V}),G=V=>{if(!V)return"N/A";try{let F;if(V.toDate&&typeof V.toDate=="function")F=V.toDate();else if(V.seconds)F=new Date(V.seconds*1e3);else if(V instanceof Date)F=V;else if(typeof V=="string")F=new Date(V);else return"N/A";return F.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch(F){return console.error("Error formatting date:",F),"N/A"}},U=async V=>{try{if(!V||!V.id){console.error("Invalid user object:",V);return}const F={id:V.id,firstName:V.firstName||"",lastName:V.lastName||"",email:V.email||"",phone:V.phone||"",isAdmin:!!V.isAdmin,createdAt:V.createdAt||null};o.value=F.id,await ir(),a.value={...F},i.value=!0}catch(F){console.error("Error opening user details:",F),alert("Could not open user details. Please try again.")}},ee=()=>{i.value=!1,a.value={},o.value=null,h.value=!1},oe=async()=>{if(o.value)try{l.value=!0,I.value=null;const V={firstName:a.value.firstName||"",lastName:a.value.lastName||"",phone:a.value.phone||"",isAdmin:!!a.value.isAdmin,email:a.value.email};await He.updateUser(o.value,V);const F=e.value.findIndex(L=>L.id===o.value);F!==-1&&(e.value[F]={...e.value[F],...V}),h.value=!0,w(`User ${V.firstName} ${V.lastName} updated successfully`),setTimeout(()=>{ee()},1500)}catch(V){console.error("Failed to update user:",V),I.value="Failed to update user. Please try again."}finally{l.value=!1}},we=[{value:"all",label:"All Roles"},{value:"admin",label:"Admins"},{value:"customer",label:"Customers"}];te(()=>{var V;return((V=we.find(F=>F.value===E.value))==null?void 0:V.label)||"All Roles"});const ye=async()=>{if(confirm(`Are you sure you want to delete ${r.value.length} users?`))try{await Promise.all(r.value.map(V=>He.deleteUser(V))),e.value=e.value.filter(V=>!r.value.includes(V.id)),r.value=[],w("Users deleted successfully")}catch(V){console.error("Failed to delete users:",V)}},Se=async()=>{const V=confirm("Make selected users admins? Click OK for Admin, Cancel for Customer");try{await Promise.all(r.value.map(F=>He.updateUser(F,{isAdmin:V}))),e.value=e.value.map(F=>r.value.includes(F.id)?{...F,isAdmin:V}:F),r.value=[],w("Users' roles updated successfully")}catch(F){console.error("Failed to update users:",F)}},Le=V=>{console.log("View activity for user:",V.id),w("User activity feature coming soon")},ot=H(null);H(!1);const Et=H(!1),ft=V=>{if(m(V)){w("You cannot delete your own account");return}ot.value=V,confirm(`Are you sure you want to delete user ${V.firstName} ${V.lastName}?`)&&W(V.id)},W=async V=>{try{Et.value=!0,await He.deleteUser(V),e.value=e.value.filter(F=>F.id!==V),r.value.includes(V)&&(r.value=r.value.filter(F=>F!==V)),w("User deleted successfully")}catch(F){console.error("Error deleting user:",F),w("Failed to delete user. Please try again.")}finally{Et.value=!1,ot.value=null}};return(V,F)=>(O(),j("div",GG,[c("div",QG,[c("div",YG,[c("div",null,[z(uh,{items:R}),F[7]||(F[7]=c("h1",{class:"text-4xl font-bold text-light-text-primary dark:text-dark-text-primary mt-2"},"User Management",-1)),F[8]||(F[8]=c("p",{class:"text-light-text-secondary dark:text-dark-text-secondary mt-1"},"View and manage system users",-1))]),c("button",{onClick:S,class:"bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark text-white py-2 px-4 rounded-btn flex items-center shadow-btn hover:shadow-btn-hover transition-btn duration-200"},[z(q(v9),{class:"h-5 w-5 mr-2"}),F[9]||(F[9]=de(" Reset Filters "))])]),c("div",JG,[c("div",XG,[F[10]||(F[10]=c("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Total Users",-1)),c("p",ZG,K(e.value.length),1),c("p",eQ,"Last 30 days: +"+K(p.value),1)]),c("div",tQ,[F[11]||(F[11]=c("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Admins",-1)),c("p",rQ,K(C.value),1),c("div",nQ,[c("div",sQ,[c("div",{class:"h-2 rounded-full bg-orange-500 transition-all duration-300",style:St(`width: ${C.value/e.value.length*100}%`)},null,4)])])]),c("div",iQ,[F[13]||(F[13]=c("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Active Users",-1)),c("p",oQ,K(y.value),1),c("p",aQ,[F[12]||(F[12]=c("span",{class:"inline-block transform rotate-45"},"",-1)),de(" "+K(b.value)+"% from last month ",1)])]),c("div",lQ,[F[14]||(F[14]=c("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Avg. Session",-1)),c("p",cQ,K(k.value),1),F[15]||(F[15]=c("p",{class:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-1"},"Minutes per user",-1))])]),r.value.length>0?(O(),j("div",uQ,[c("span",dQ,K(r.value.length)+" selected ",1),c("button",{onClick:ye,class:"text-red-500 hover:text-red-600 text-sm font-medium"}," Delete Selected "),c("button",{onClick:Se,class:"text-accent-quaternary hover:text-accent-quaternary/80 text-sm font-medium"}," Change Role ")])):fe("",!0),c("div",hQ,[c("div",fQ,[c("table",pQ,[c("thead",mQ,[c("tr",null,[c("th",gQ,[c("input",{type:"checkbox",onChange:A,checked:_.value,class:"rounded border-light-neutral-300 dark:border-dark-neutral-600 text-accent-primary focus:ring-accent-primary"},null,40,yQ)]),c("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-light-text-secondary dark:text-dark-text-secondary uppercase tracking-wider cursor-pointer",onClick:F[0]||(F[0]=L=>N("name"))},[c("div",vQ,[F[16]||(F[16]=c("span",null,"Name",-1)),z(q(le),{active:T.value==="name",direction:P.value},null,8,["active","direction"])])]),c("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-light-text-secondary dark:text-dark-text-secondary uppercase tracking-wider cursor-pointer",onClick:F[1]||(F[1]=L=>N("email"))},[c("div",bQ,[F[17]||(F[17]=c("span",null,"Email",-1)),z(q(le),{active:T.value==="email",direction:P.value},null,8,["active","direction"])])]),c("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-light-text-secondary dark:text-dark-text-secondary uppercase tracking-wider cursor-pointer",onClick:F[2]||(F[2]=L=>N("createdAt"))},[c("div",xQ,[F[18]||(F[18]=c("span",null,"Joined",-1)),z(q(le),{active:T.value==="createdAt",direction:P.value},null,8,["active","direction"])])]),F[19]||(F[19]=c("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-light-text-secondary dark:text-dark-text-secondary uppercase tracking-wider"}," Role ",-1)),F[20]||(F[20]=c("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-light-text-secondary dark:text-dark-text-secondary uppercase tracking-wider"}," Actions ",-1))])]),c("tbody",_Q,[n.value?(O(),j("tr",wQ,F[21]||(F[21]=[c("td",{colspan:"5",class:"px-6 py-12 text-center text-light-text-secondary dark:text-dark-text-secondary"}," Loading users... ",-1)]))):ce.value.length===0?(O(),j("tr",kQ,[c("td",EQ,[c("div",IQ,[z(q(C9),{class:"h-12 w-12 text-light-neutral-400 dark:text-dark-neutral-600 mb-2"}),F[22]||(F[22]=c("h3",{class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary"},"No users found",-1)),F[23]||(F[23]=c("p",{class:"text-light-text-secondary dark:text-dark-text-secondary mt-1"},"Try adjusting your search or filter criteria",-1))])])])):fe("",!0),(O(!0),j(ke,null,qe(ce.value,L=>(O(),j("tr",{key:L.id,class:$e(["hover:bg-light-neutral-100 dark:hover:bg-dark-neutral-800 transition-colors",r.value.includes(L.id)?"bg-accent-primary/5":""])},[c("td",TQ,[c("input",{type:"checkbox",checked:r.value.includes(L.id),onChange:be=>M(L.id),class:"rounded border-light-neutral-300 dark:border-dark-neutral-600 text-accent-primary focus:ring-accent-primary"},null,40,AQ)]),c("td",SQ,[c("div",CQ,[c("div",PQ,K(v(L)),1),c("div",RQ,[c("div",NQ,[de(K(L.firstName)+" "+K(L.lastName)+" ",1),m(L)?(O(),j("span",$Q,"(You)")):fe("",!0)])])])]),c("td",OQ,[c("div",DQ,K(L.email||"No email"),1)]),c("td",MQ,[c("div",VQ,K(G(L.createdAt)),1)]),c("td",LQ,[c("span",{class:$e([L.isAdmin?"bg-accent-primary/10 text-accent-primary":"bg-light-neutral-100 dark:bg-dark-neutral-700 text-light-text-secondary dark:text-dark-text-secondary","px-2 py-1 text-xs rounded-full"])},K(L.isAdmin?"Admin":"Customer"),3)]),c("td",FQ,[c("div",UQ,[c("button",{onClick:be=>Le(L),class:"text-accent-quaternary hover:text-accent-quaternary/80 transition-colors",title:"View Activity"},[z(q(w9),{class:"h-5 w-5"})],8,jQ),c("button",{onClick:be=>U(L),class:"text-accent-quaternary hover:text-accent-quaternary/80 transition-colors",title:"Edit User"},[z(q(SE),{class:"h-5 w-5"})],8,BQ),c("button",{onClick:be=>ft(L),class:"text-red-500 hover:text-red-600 transition-colors",title:"Delete User"},[z(q(O9),{class:"h-5 w-5"})],8,qQ)])])],2))),128))])])])]),f.show?(O(),j("div",HQ,[z(q(ed),{class:"h-5 w-5 mr-2"}),c("span",null,K(f.message),1)])):fe("",!0)]),z(q(dn),{appear:"",show:i.value,as:"template"},{default:Z(()=>[z(q(ih),{as:"div",onClose:ee,class:"relative z-50"},{default:Z(()=>[z(q(ps),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Z(()=>F[24]||(F[24]=[c("div",{class:"fixed inset-0 bg-black bg-opacity-50 transition-opacity"},null,-1)])),_:1}),c("div",zQ,[c("div",WQ,[z(q(ps),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:Z(()=>[z(q(oh),{class:"w-full max-w-md transform overflow-hidden rounded-2xl bg-light-secondary dark:bg-dark-secondary p-6 text-left align-middle shadow-xl transition-all border border-light-neutral-300 dark:border-dark-neutral-700"},{default:Z(()=>[c("div",KQ,[z(q(yE),{as:"h3",class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary"},{default:Z(()=>F[25]||(F[25]=[de(" Edit User ")])),_:1}),c("button",{onClick:ee,class:"text-light-neutral-500 dark:text-dark-neutral-500 hover:text-light-text-primary dark:hover:text-dark-text-primary focus:outline-none","aria-label":"Close"},[z(q(ch),{class:"h-6 w-6"})])]),h.value?(O(),j("div",GQ,[z(q(ed),{class:"h-5 w-5 mr-2"}),F[26]||(F[26]=c("span",null,"User updated successfully!",-1))])):fe("",!0),c("div",QQ,[c("div",YQ,[c("div",null,[F[27]||(F[27]=c("label",{for:"firstName",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary"}," First name ",-1)),Te(c("input",{type:"text",id:"firstName","onUpdate:modelValue":F[3]||(F[3]=L=>a.value.firstName=L),class:"mt-1 block w-full rounded-md border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary px-3 py-2 focus:border-accent-primary focus:ring-accent-primary focus:outline-none sm:text-sm"},null,512),[[Pe,a.value.firstName]])]),c("div",null,[F[28]||(F[28]=c("label",{for:"lastName",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary"}," Last name ",-1)),Te(c("input",{type:"text",id:"lastName","onUpdate:modelValue":F[4]||(F[4]=L=>a.value.lastName=L),class:"mt-1 block w-full rounded-md border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary px-3 py-2 focus:border-accent-primary focus:ring-accent-primary focus:outline-none sm:text-sm"},null,512),[[Pe,a.value.lastName]])])]),c("div",null,[F[29]||(F[29]=c("label",{for:"email",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary"}," Email ",-1)),Te(c("input",{type:"email",id:"email","onUpdate:modelValue":F[5]||(F[5]=L=>a.value.email=L),disabled:"",class:"mt-1 block w-full rounded-md border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-neutral-100 dark:bg-dark-neutral-800 text-light-neutral-500 dark:text-dark-neutral-500 px-3 py-2 cursor-not-allowed sm:text-sm"},null,512),[[Pe,a.value.email]])]),c("div",JQ,[z(q(s9),{modelValue:a.value.isAdmin,"onUpdate:modelValue":F[6]||(F[6]=L=>a.value.isAdmin=L),class:$e([a.value.isAdmin?"bg-accent-primary":"bg-light-neutral-300 dark:bg-dark-neutral-600","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-accent-primary focus:ring-offset-2"])},{default:Z(()=>[F[30]||(F[30]=c("span",{class:"sr-only"},"Admin status",-1)),c("span",{"aria-hidden":"true",class:$e([a.value.isAdmin?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out"])},null,2)]),_:1},8,["modelValue","class"]),F[31]||(F[31]=c("span",{class:"ml-3 text-sm text-light-text-primary dark:text-dark-text-primary"}," Admin privileges ",-1))])]),c("div",XQ,[c("button",{type:"button",class:"inline-flex justify-center rounded-md border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-primary dark:bg-dark-primary px-4 py-2 text-sm font-medium text-light-text-primary dark:text-dark-text-primary hover:bg-light-neutral-100 dark:hover:bg-dark-neutral-800 focus:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:ring-offset-2",onClick:ee}," Cancel "),c("button",{type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark px-4 py-2 text-sm font-medium text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-btn-primary focus-visible:ring-offset-2",onClick:oe,disabled:l.value},[l.value?(O(),j("span",eY,"")):fe("",!0),de(" "+K(l.value?"Saving...":"Save Changes"),1)],8,ZQ)])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])]))}},rY=Gr(tY,[["__scopeId","data-v-fe9bfe02"]]),nY=[{path:"/",name:"home",component:Pb},{path:"/products",name:"products",component:kV},{path:"/product/:id",name:"product-detail",component:qL},{path:"/login",name:"login",component:oF},{path:"/register",name:"register",component:NF},{path:"/account",name:"account",component:LU,meta:{requiresAuth:!0}},{path:"/cart",name:"cart",component:Sj},{path:"/checkout",name:"checkout",component:nq,meta:{requiresAuth:!0}},{path:"/about",name:"about",component:Sq},{path:"/contact",name:"contact",component:yH},{path:"/admin",name:"admin",component:dz,meta:{requiresAuth:!0,isAdmin:!0}},{path:"/admin/products",name:"admin-products",component:yW,meta:{requiresAuth:!0,isAdmin:!0}},{path:"/admin/products/new",name:"admin-product-new",component:Jb,meta:{requiresAuth:!0,isAdmin:!0}},{path:"/admin/products/edit/:id",name:"admin-product-edit",component:Jb,meta:{requiresAuth:!0,isAdmin:!0}},{path:"/admin/orders",name:"admin-orders",component:KG,meta:{requiresAuth:!0,isAdmin:!0}},{path:"/admin/users",name:"admin-users",component:rY,meta:{requiresAuth:!0,isAdmin:!0},beforeEnter:n7},{path:"/notification-test",name:"NotificationTest",component:()=>bb(()=>import("./NotificationTest-CZcdEaKd.js"),[]),meta:{title:"Notification Test"}},{path:"/account/notifications",name:"AccountNotifications",component:()=>bb(()=>import("./Notifications-wNmlI8Du.js"),[]),meta:{requiresAuth:!0,title:"Notifications"}},{path:"/:pathMatch(.*)*",name:"not-found",component:Pb,beforeEnter:(t,e,r)=>{var n;if(console.log(`Not-found route triggered for: ${t.fullPath}`),t.query&&Object.keys(t.query).length>0&&((n=t.query[0])!=null&&n.startsWith("/"))){console.log("Detected GitHub Pages SPA redirect, handling specially"),r(!1);return}r("/")}}],$i=O5({history:u5("/"),routes:nY,strict:!0,scrollBehavior(t,e,r){return r||{top:0}}});$i.beforeEach(async(t,e,r)=>{const n=$n();if(window.location.search&&window.location.search.startsWith("?/")){console.log("GitHub Pages redirect in progress, skipping auth check"),r();return}if(!n.user&&!n.authChecked)try{console.log("Initializing auth..."),await n.initAuth()}catch(s){console.error("Error initializing auth:",s)}if(t.matched.some(s=>s.meta.requiresAuth)){if(!n.isAuthenticated){console.log(`Auth required for ${t.path}, redirecting to login`),r({path:"/login",query:{redirect:t.fullPath}});return}if(t.matched.some(s=>s.meta.isAdmin)&&!n.isAdmin){console.log("Admin access denied"),r("/");return}}if((t.path==="/login"||t.path==="/register")&&n.isAuthenticated){const s=t.query.redirect||"/account";console.log(`Already logged in, redirecting to ${s}`),r(s);return}r()});const sY={adminEmails:["your-admin-email@example.com"],async initializeAdminStatus(){const e=oa().currentUser;if(!e)return console.log("No user logged in"),!1;try{const r=this.adminEmails.includes(e.email);return await He.setUserAdminStatus(e.uid,r),console.log(`Admin status set for ${e.email}:`,r),r}catch(r){return console.error("Error setting admin status:",r),!1}}},Na=oa(),$n=Id("auth",{state:()=>({user:null,isInitializing:!0,loading:!0,error:null,authChecked:!1}),actions:{async initialize(){console.log("Initializing auth state"),this.isInitializing=!0;try{const t=localStorage.getItem("userData");t&&(this.user=JSON.parse(t))}catch(t){console.error("Auth initialization error:",t)}finally{this.isInitializing=!1}},async initAuth(){console.log("Initializing auth state"),this.isInitializing=!0;try{const t=localStorage.getItem("userData");if(t)try{const e=JSON.parse(t);if(console.log(`Restored auth from localStorage: ${(e==null?void 0:e.email)||"unknown"}`),e&&e.uid)return this.user=e,localStorage.getItem("userIsAdmin")&&!this.user.isAdmin&&(this.user.isAdmin=!0),this.authChecked=!0,this.loading=!1,!0}catch(e){console.error("Error parsing stored user data:",e)}return new Promise(e=>{const r=Ww(Na,async n=>{if(r(),n){console.log("Firebase user found:",n.email);try{const s=await He.getUserProfile(n.uid);this.user={uid:n.uid,email:n.email,displayName:n.displayName||(s==null?void 0:s.displayName),isAdmin:!!(s!=null&&s.isAdmin),...s},localStorage.setItem("userData",JSON.stringify(this.user)),this.user.isAdmin&&localStorage.setItem("userIsAdmin","true"),e(!0)}catch(s){console.error("Error getting user profile:",s),this.user=null,e(!1)}}else console.log("No Firebase user found"),this.user=null,e(!1);this.authChecked=!0,this.loading=!1,this.isInitializing=!1},n=>{console.error("Firebase auth state error:",n),this.authChecked=!0,this.loading=!1,this.isInitializing=!1,e(!1)});setTimeout(()=>{this.authChecked=!0,this.loading=!1,this.isInitializing=!1,e(!1)},3e3)})}catch(t){return console.error("Error in auth initialization:",t),localStorage.removeItem("userData"),this.user=null,this.loading=!1,this.isInitializing=!1,this.authChecked=!0,!1}},async login(t,e){const r=In();try{this.loading=!0,this.error=null;const n=await zw(Na,t,e);this.user={uid:n.user.uid,email:n.user.email,displayName:n.user.displayName,isAdmin:!1},localStorage.setItem("userData",JSON.stringify(this.user));const s=sessionStorage.getItem("redirectAfterLogin")||"/account";return sessionStorage.removeItem("redirectAfterLogin"),this.loadUserProfileInBackground(n.user.uid),r.addNotification({title:"Welcome Back",message:`Successfully signed in as ${t}`,type:"success",timeout:3e3}),s}catch(n){throw console.error("Login error:",n),this.error=n.message,r.addNotification({title:"Login Failed",message:n.message,type:"error",timeout:5e3}),n}finally{this.loading=!1}},async logout(){var e;const t=In();try{const r=(e=this.user)==null?void 0:e.email;await gv(Na),this.user=null,localStorage.removeItem("userIsAdmin"),localStorage.removeItem("userData"),t.addNotification({title:"Signed Out",message:`Successfully signed out${r?` from ${r}`:""}`,type:"info",timeout:3e3}),$i.push("/")}catch(r){throw this.error=r.message,t.addNotification({title:"Error",message:`Failed to sign out: ${r.message}`,type:"error",timeout:5e3}),r}},async register(t,e,r){const n=In();try{this.error=null;const s=await Hw(Na,t,e);return r&&await He.createUserProfile(s.user.uid,r),n.addNotification({title:"Welcome!",message:`Account successfully created for ${t}`,type:"success",timeout:3e3}),await n.addPersistedNotification({title:"Welcome to BeadShop",message:"Thank you for joining our community! Feel free to explore our products and start shopping.",type:"info",userId:s.user.uid}),$i.push("/"),s}catch(s){throw this.error=s.message,n.addNotification({title:"Registration Failed",message:s.message,type:"error",timeout:5e3}),s}},async loadUserProfileInBackground(t){try{const e=await He.getUserProfile(t);if(e!=null&&e.adminUpdatedAt)this.user={...this.user,...e,isAdmin:!!(e!=null&&e.isAdmin)};else{await sY.initializeAdminStatus();const r=await He.getUserProfile(t);this.user={...this.user,...r,isAdmin:!!(r!=null&&r.isAdmin)}}localStorage.setItem("userData",JSON.stringify(this.user)),this.user.isAdmin&&localStorage.setItem("userIsAdmin","true"),console.log("User profile loaded in background")}catch(e){console.error("Error loading user profile in background:",e)}},async logout(){try{await gv(Na),this.user=null,localStorage.removeItem("userIsAdmin"),localStorage.removeItem("userData"),$i.push("/")}catch(t){throw this.error=t.message,t}},async setUser(t){if(t){const e=await He.getUserProfile(t.uid);console.log("User profile loaded:",e),this.user={...t,isAdmin:!!(e!=null&&e.isAdmin),...e},console.log("Updated user state:",this.user)}else this.user=null},async restoreSession(t){if(!t)return null;try{const e=await He.getUserProfile(t.uid);return this.user={uid:t.uid,email:t.email,displayName:t.displayName,isAdmin:!!(e!=null&&e.isAdmin),...e},this.user.isAdmin&&localStorage.setItem("userIsAdmin","true"),this.user}catch(e){return console.error("Error restoring session:",e),null}},async updateProfile(t){const e=In();this.loading=!0;try{return await He.updateUserProfile(this.user.uid,t),this.user={...this.user,...t},e.addNotification({title:"Profile Updated",message:"Your profile has been updated successfully",type:"success",timeout:3e3}),!0}catch(r){return console.error("Profile update error:",r),e.addNotification({title:"Update Failed",message:"Failed to update profile. Please try again.",type:"error",timeout:5e3}),!1}finally{this.loading=!1}}},getters:{isAdmin:t=>{var e;return!!((e=t.user)!=null&&e.isAdmin)},isAuthenticated:t=>!!t.user,getUser:t=>t.user}}),iY={class:"bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary transition-colors duration-200"},oY={class:"fixed inset-0 z-40 flex"},aY={class:"flex px-4 pt-5 pb-2"},lY={class:"space-y-6 px-4 py-6"},cY={class:"flow-root"},uY={class:"flow-root"},dY={class:"flow-root"},hY={class:"space-y-6 border-t border-light-neutral-300 dark:border-dark-neutral-600 px-4 py-6"},fY={class:"flow-root"},pY={key:1,class:"space-y-2"},mY={class:"-m-2 block p-2 font-medium text-light-text-primary dark:text-dark-text-primary"},gY={class:"flow-root"},yY={class:"sticky top-0 z-40 bg-light-primary dark:bg-dark-primary transition-colors duration-200"},vY={"aria-label":"Top",class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},bY={class:"flex h-16 items-center"},xY=["aria-label"],_Y={class:"ml-4 flex lg:ml-0"},wY=["src"],kY={class:"hidden lg:ml-8 lg:block lg:self-stretch"},EY={class:"flex h-full space-x-8"},IY={class:"ml-auto flex items-center"},TY={class:"hidden lg:flex lg:flex-1 lg:items-center lg:justify-end lg:space-x-6"},AY={class:"flex lg:ml-6"},SY={href:"#",class:"p-2 text-light-neutral-500 dark:text-dark-neutral-500 hover:text-accent-primary dark:hover:text-accent-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md"},CY={class:"ml-4 flow-root lg:ml-6"},PY={key:0,class:"absolute top-0 right-0 inline-flex items-center justify-center w-4 h-4 text-xs font-bold text-white bg-red-500 rounded-full"},RY={class:"ml-4 flow-root lg:ml-6"},NY={key:0,class:"absolute top-0 right-0 inline-flex items-center justify-center w-4 h-4 text-xs font-bold text-white bg-red-500 rounded-full pointer-events-none"},$Y={key:0,class:"absolute right-4 top-20 z-50 mt-2 w-80 origin-top-right rounded-md bg-light-secondary dark:bg-dark-secondary py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},OY={class:"max-h-80 overflow-y-auto"},DY={key:0,class:"px-4 py-6 text-center text-light-text-secondary dark:text-dark-neutral-700"},MY={key:1,class:"divide-y divide-light-neutral-200 dark:divide-dark-neutral-700"},VY={class:"flex items-start"},LY={class:"shrink-0 pt-0.5"},FY={class:"ml-3 w-0 flex-1"},UY={class:"text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},jY={class:"mt-1 text-sm text-light-text-secondary dark:text-dark-neutral-700"},BY={class:"mt-1 text-xs text-light-text-tertiary dark:text-dark-neutral-600"},qY={class:"ml-4 flex shrink-0"},HY=["onClick"],zY={key:0},WY={key:1},KY={class:"px-4 py-2 border-t border-light-neutral-300 dark:border-dark-neutral-600 text-center"},GY={__name:"TheHeader",setup(t){const e=ii(),r=Sd(),n=$n(),s=ro(),i=xm(),o=In(),a=H(!1),l=H(!1),d=H(!1),h=te(()=>s.itemCount),f=te(()=>o.userNotifications.filter(m=>!m.read).length),p={success:ed,error:A9,info:R9,warning:S9},y={success:"text-green-500",error:"text-red-500",info:"text-blue-500",warning:"text-yellow-500"},b=()=>{a.value=!a.value,a.value&&(l.value=!1)},k=()=>{l.value=!l.value,l.value&&(a.value=!1)},_=()=>{a.value=!1},T=()=>{i.toggleTheme(),_()},P=async()=>{await n.logout(),_(),e.push("/")},E=m=>{m.read||o.markAsRead(m.id)},R=m=>{if(!m)return"";const w=new Date,N=new Date(m);return N.toDateString()===w.toDateString()?N.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):N.getFullYear()===w.getFullYear()?N.toLocaleDateString([],{month:"short",day:"numeric"}):N.toLocaleDateString()},A=m=>r.path===m||m!=="/"&&r.path.startsWith(m),M=()=>{d.value=window.scrollY>20},I=te(()=>{var m;return((m=n.user)==null?void 0:m.isAdmin)===!0}),v=m=>{l.value&&!m.target.closest('[aria-label="View notifications"]')&&!m.target.closest(".notifications-panel")&&(l.value=!1)};return Rt(()=>n.user,m=>{m&&o.loadUserNotifications()},{immediate:!0}),je(()=>{window.addEventListener("resize",()=>{window.innerWidth>=1024&&(a.value=!1)}),window.addEventListener("scroll",M),window.addEventListener("click",v)}),Wt(()=>{window.removeEventListener("scroll",M),window.removeEventListener("click",v)}),(m,w)=>(O(),j("div",iY,[z(q(dn),{as:"template",show:a.value},{default:Z(()=>[z(q(ih),{class:"relative z-40 lg:hidden",onClose:w[0]||(w[0]=N=>a.value=!1)},{default:Z(()=>[z(q(ps),{as:"template",enter:"transition-opacity ease-linear duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-linear duration-300","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Z(()=>w[2]||(w[2]=[c("div",{class:"fixed inset-0 bg-black/25"},null,-1)])),_:1}),c("div",oY,[z(q(ps),{as:"template",enter:"transition ease-in-out duration-300 transform","enter-from":"-translate-x-full","enter-to":"translate-x-0",leave:"transition ease-in-out duration-300 transform","leave-from":"translate-x-0","leave-to":"-translate-x-full"},{default:Z(()=>[z(q(oh),{class:"relative flex w-full max-w-xs flex-col overflow-y-auto bg-light-secondary dark:bg-dark-secondary pb-12 shadow-xl"},{default:Z(()=>[c("div",aY,[c("button",{type:"button",class:"relative -m-2 inline-flex items-center justify-center rounded-md p-2 text-light-neutral-500 dark:text-dark-neutral-500",onClick:_},[w[3]||(w[3]=c("span",{class:"absolute -inset-0.5"},null,-1)),w[4]||(w[4]=c("span",{class:"sr-only"},"Close menu",-1)),z(q(ch),{class:"size-6","aria-hidden":"true"})])]),c("div",lY,[c("div",cY,[z(q(_t),{to:"/products",class:"-m-2 block p-2 font-medium text-light-text-primary dark:text-dark-text-primary",onClick:_},{default:Z(()=>w[5]||(w[5]=[de("Shop")])),_:1})]),c("div",uY,[z(q(_t),{to:"/about",class:"-m-2 block p-2 font-medium text-light-text-primary dark:text-dark-text-primary",onClick:_},{default:Z(()=>w[6]||(w[6]=[de("About Us")])),_:1})]),c("div",dY,[z(q(_t),{to:"/contact",class:"-m-2 block p-2 font-medium text-light-text-primary dark:text-dark-text-primary",onClick:_},{default:Z(()=>w[7]||(w[7]=[de("Contact")])),_:1})])]),c("div",hY,[c("div",fY,[q(n).user?(O(),j("div",pY,[c("div",mY,K(q(n).user.displayName||q(n).user.email),1),z(q(_t),{to:"/account",class:"-m-2 block p-2 text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-light-text-primary dark:hover:text-dark-text-primary pl-4",onClick:_},{default:Z(()=>w[9]||(w[9]=[de("Account")])),_:1}),I.value?(O(),mt(q(_t),{key:0,to:"/admin",class:"-m-2 block p-2 text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-light-text-primary dark:hover:text-dark-text-primary pl-4",onClick:_},{default:Z(()=>w[10]||(w[10]=[de("Shop Manager")])),_:1})):fe("",!0),c("button",{onClick:P,class:"-m-2 block p-2 text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-light-text-primary dark:hover:text-dark-text-primary pl-4 w-full text-left"},"Logout")])):(O(),mt(q(_t),{key:0,to:"/login",class:"-m-2 block p-2 font-medium text-light-text-primary dark:text-dark-text-primary",onClick:_},{default:Z(()=>w[8]||(w[8]=[de("Sign in")])),_:1}))]),c("div",gY,[c("button",{onClick:T,class:"-m-2 flex items-center p-2 font-medium text-light-text-secondary dark:text-dark-neutral-700 hover:text-light-text-primary dark:hover:text-dark-text-primary"},[q(i).theme==="dark"?(O(),mt(q(zb),{key:0,class:"h-5 w-5 mr-2 text-accent-primary"})):(O(),mt(q(Hb),{key:1,class:"h-5 w-5 mr-2 text-dark-primary"})),c("span",null,K(q(i).theme==="dark"?"Light Mode":"Dark Mode"),1)])])])]),_:1})]),_:1})])]),_:1})]),_:1},8,["show"]),c("header",yY,[w[24]||(w[24]=c("p",{class:"flex h-10 items-center justify-center bg-orange-600 dark:bg-orange-700 px-4 text-sm font-medium text-white sm:px-6 lg:px-8","aria-live":"polite"},"Free shipping on orders over KES 10,000",-1)),c("div",{class:$e(["border-b border-light-neutral-300 dark:border-dark-neutral-600 bg-light-primary dark:bg-dark-primary shadow-sm transition-shadow duration-300",{"shadow-md":d.value}])},[c("nav",vY,[c("div",bY,[c("button",{type:"button",class:"relative rounded-md bg-light-primary dark:bg-transparent p-2 text-light-neutral-500 dark:text-dark-neutral-500 hover:text-light-text-primary dark:hover:text-dark-text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md lg:hidden",onClick:b,"aria-expanded":"false","aria-label":a.value?"Close menu":"Open menu"},[w[11]||(w[11]=c("span",{class:"absolute -inset-0.5"},null,-1)),w[12]||(w[12]=c("span",{class:"sr-only"},"Toggle menu",-1)),z(q(b9),{class:"size-6","aria-hidden":"true"})],8,xY),c("div",_Y,[z(q(_t),{to:"/",class:"inline-block focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md"},{default:Z(()=>[w[13]||(w[13]=c("span",{class:"sr-only"},"Beabed Art",-1)),c("img",{src:q(cn)("images/sticky.PNG"),alt:"Beaded Art Logo",class:"h-8 w-auto"},null,8,wY)]),_:1})]),c("div",kY,[c("div",EY,[z(q(_t),{to:"/products",class:$e(["flex items-center text-sm font-medium transition-colors duration-200 border-b-2 border-transparent hover:border-accent-primary dark:hover:border-accent-primary py-2 text-light-text-primary dark:text-dark-neutral-700 hover:text-light-text-primary dark:hover:text-dark-text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md",{"border-orange-500 dark:border-orange-500 text-light-text-primary dark:text-dark-text-primary":A("/products")}]),"active-class":"border-orange-500 dark:border-orange-500 text-light-text-primary dark:text-dark-text-primary"},{default:Z(()=>w[14]||(w[14]=[de("Shop")])),_:1},8,["class"]),z(q(_t),{to:"/about",class:$e(["flex items-center text-sm font-medium transition-colors duration-200 border-b-2 border-transparent hover:border-accent-primary dark:hover:border-accent-primary py-2 text-light-text-primary dark:text-dark-neutral-700 hover:text-light-text-primary dark:hover:text-dark-text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md",{"border-orange-500 dark:border-orange-500 text-light-text-primary dark:text-dark-text-primary":A("/about")}]),"active-class":"border-orange-500 dark:border-orange-500 text-light-text-primary dark:text-dark-text-primary"},{default:Z(()=>w[15]||(w[15]=[de("About Us")])),_:1},8,["class"]),z(q(_t),{to:"/contact",class:$e(["flex items-center text-sm font-medium transition-colors duration-200 border-b-2 border-transparent hover:border-accent-primary dark:hover:border-accent-primary py-2 text-light-text-primary dark:text-dark-neutral-700 hover:text-light-text-primary dark:hover:text-dark-text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md",{"border-orange-500 dark:border-orange-500 text-light-text-primary dark:text-dark-text-primary":A("/contact")}]),"active-class":"border-orange-500 dark:border-orange-500 text-light-text-primary dark:text-dark-text-primary"},{default:Z(()=>w[16]||(w[16]=[de("Contact")])),_:1},8,["class"])])]),c("div",IY,[c("div",TY,[q(n).user?(O(),mt(q(_E),{key:1,as:"div",class:"relative ml-3"},{default:Z(()=>[c("div",null,[z(q(wE),{class:"flex items-center text-sm font-medium text-light-text-primary dark:text-dark-neutral-700 hover:text-light-text-primary dark:hover:text-dark-text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md transition-colors duration-200"},{default:Z(()=>[w[18]||(w[18]=c("span",{class:"sr-only"},"Open user menu for ",-1)),de(" "+K(q(n).user.displayName||q(n).user.email)+" ",1),z(q(k9),{class:"ml-1 h-5 w-5","aria-hidden":"true"})]),_:1})]),z(Us,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:Z(()=>[z(q(kE),{class:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-light-secondary dark:bg-dark-secondary py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:Z(()=>[z(q(Wa),null,{default:Z(({active:N})=>[z(q(_t),{to:"/account",class:$e([N?"bg-light-neutral-100 dark:bg-dark-neutral-700":"","block px-4 py-2 text-sm text-light-text-primary dark:text-dark-text-primary"])},{default:Z(()=>w[19]||(w[19]=[de("Account")])),_:2},1032,["class"])]),_:1}),I.value?(O(),mt(q(Wa),{key:0},{default:Z(({active:N})=>[z(q(_t),{to:"/admin",class:$e([N?"bg-light-neutral-100 dark:bg-dark-neutral-700":"","block px-4 py-2 text-sm text-light-text-primary dark:text-dark-text-primary"])},{default:Z(()=>w[20]||(w[20]=[de("Shop Manager")])),_:2},1032,["class"])]),_:1})):fe("",!0),I.value?(O(),mt(q(Wa),{key:1},{default:Z(({active:N})=>[z(q(_t),{to:"/admin/users",class:$e([N?"bg-light-neutral-100 dark:bg-dark-neutral-700":"","block px-4 py-2 text-sm text-light-text-primary dark:text-dark-text-primary"])},{default:Z(()=>w[21]||(w[21]=[de("User Manager")])),_:2},1032,["class"])]),_:1})):fe("",!0),z(q(Wa),null,{default:Z(({active:N})=>[c("button",{onClick:P,class:$e([N?"bg-light-neutral-100 dark:bg-dark-neutral-700":"","block w-full text-left px-4 py-2 text-sm text-light-text-primary dark:text-dark-text-primary"])},"Logout",2)]),_:1})]),_:1})]),_:1})]),_:1})):(O(),mt(q(_t),{key:0,to:"/login",class:"text-sm font-medium text-light-text-primary dark:text-dark-neutral-700 hover:text-light-text-primary dark:hover:text-dark-text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md transition-colors duration-200"},{default:Z(()=>w[17]||(w[17]=[de("Sign in")])),_:1})),c("button",{onClick:T,class:"p-2 text-light-neutral-500 dark:text-dark-neutral-500 hover:text-accent-primary dark:hover:text-accent-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md transition-colors duration-200","aria-label":"Toggle theme"},[q(i).theme==="dark"?(O(),mt(q(zb),{key:0,class:"h-5 w-5","aria-hidden":"true"})):(O(),mt(q(Hb),{key:1,class:"h-5 w-5","aria-hidden":"true"}))])]),c("div",AY,[c("a",SY,[w[22]||(w[22]=c("span",{class:"sr-only"},"Search",-1)),z(q(N9),{class:"size-6","aria-hidden":"true"})])]),c("div",CY,[c("button",{onClick:k,class:"group -m-2 flex items-center p-2 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md relative","aria-label":"View notifications"},[z(q(x9),{class:"size-6 shrink-0 text-light-neutral-500 dark:text-dark-neutral-500 group-hover:text-accent-primary dark:group-hover:text-accent-primary","aria-hidden":"true"}),f.value>0?(O(),j("span",PY,K(f.value),1)):fe("",!0)])]),c("div",RY,[z(q(_t),{to:"/cart",class:"group -m-2 flex items-center p-2 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md relative"},{default:Z(()=>[z(q(cu),{class:"size-6 shrink-0 text-light-neutral-500 dark:text-dark-neutral-500 group-hover:text-accent-primary dark:group-hover:text-accent-primary","aria-hidden":"true"}),h.value>0?(O(),j("span",NY,K(h.value),1)):fe("",!0),w[23]||(w[23]=c("span",{class:"sr-only"},"items in cart, view bag",-1))]),_:1})])])])])],2)]),z(Us,{"enter-active-class":"transition ease-out duration-300","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-200","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:Z(()=>[l.value?(O(),j("div",$Y,[w[26]||(w[26]=c("div",{class:"px-4 py-2 border-b border-light-neutral-300 dark:border-dark-neutral-600"},[c("h3",{class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary"},"Notifications")],-1)),c("div",OY,[q(o).userNotifications.length===0?(O(),j("div",DY," You have no notifications. ")):(O(),j("div",MY,[(O(!0),j(ke,null,qe(q(o).userNotifications,N=>(O(),j("div",{key:N.id,class:$e(["px-4 py-3",N.read?"bg-light-primary dark:bg-dark-primary":"bg-light-neutral-50 dark:bg-dark-neutral-800"])},[c("div",VY,[c("div",LY,[(O(),mt(gd(p[N.type]||p.info),{class:$e(["h-5 w-5",y[N.type]||y.info]),"aria-hidden":"true"},null,8,["class"]))]),c("div",FY,[c("p",UY,K(N.title),1),c("p",jY,K(N.message),1),c("p",BY,K(R(N.createdAt)),1)]),c("div",qY,[c("button",{onClick:S=>E(N),type:"button",class:"text-light-text-secondary dark:text-dark-neutral-700 hover:text-light-text-primary dark:hover:text-dark-text-primary"},[N.read?(O(),j("span",WY,"Mark as unread")):(O(),j("span",zY,"Mark as read"))],8,HY)])])],2))),128))]))]),c("div",KY,[z(q(_t),{to:"/account/notifications",class:"text-sm text-orange-600 hover:text-orange-700",onClick:w[1]||(w[1]=N=>l.value=!1)},{default:Z(()=>w[25]||(w[25]=[de(" View all notifications ")])),_:1})])])):fe("",!0)]),_:1})]))}},QY={class:"bg-light-secondary dark:bg-dark-secondary py-10 mt-auto border-t border-light-neutral-200 dark:border-dark-neutral-600 transition-colors duration-200"},YY={class:"container mx-auto px-4"},JY={class:"grid grid-cols-1 md:grid-cols-4 gap-8"},XY={class:"flex items-center mb-4"},ZY=["src"],eJ={class:"space-y-2"},tJ={class:"space-y-2"},rJ={class:"mt-10 pt-8 border-t border-light-neutral-200 dark:border-dark-neutral-600 text-center"},nJ={class:"text-sm text-light-neutral-600 dark:text-dark-neutral-600"},sJ={__name:"TheFooter",setup(t){return(e,r)=>(O(),j("footer",QY,[c("div",YY,[c("div",JY,[c("div",null,[c("div",XY,[c("img",{src:q(cn)("images/sticky.PNG"),alt:"Kreative Kanvas Logo",class:"h-16 w-auto mr-2"},null,8,ZY)]),r[0]||(r[0]=c("p",{class:"text-sm text-light-text-secondary dark:text-dark-neutral-700 leading-relaxed"}," Exquisite handcrafted jewelry for every occasion. Quality materials, timeless designs that capture your unique style. ",-1))]),c("div",null,[r[6]||(r[6]=c("h3",{class:"font-bold text-lg mb-4 text-light-text-primary dark:text-dark-text-primary border-b-2 border-orange-500 dark:border-orange-500 inline-block pb-1"},"Shop",-1)),c("ul",eJ,[c("li",null,[z(q(_t),{to:"/products",class:"text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},{default:Z(()=>r[1]||(r[1]=[de("All Products")])),_:1})]),c("li",null,[z(q(_t),{to:"/products?category=rings",class:"text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},{default:Z(()=>r[2]||(r[2]=[de("Rings")])),_:1})]),c("li",null,[z(q(_t),{to:"/products?category=necklaces",class:"text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},{default:Z(()=>r[3]||(r[3]=[de("Necklaces")])),_:1})]),c("li",null,[z(q(_t),{to:"/products?category=bracelets",class:"text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},{default:Z(()=>r[4]||(r[4]=[de("Bracelets")])),_:1})]),c("li",null,[z(q(_t),{to:"/products?category=earrings",class:"text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},{default:Z(()=>r[5]||(r[5]=[de("Earrings")])),_:1})])])]),c("div",null,[r[11]||(r[11]=c("h3",{class:"font-bold text-lg mb-4 text-light-text-primary dark:text-dark-text-primary border-b-2 border-orange-500 dark:border-orange-500 inline-block pb-1"},"Customer Service",-1)),c("ul",tJ,[c("li",null,[z(q(_t),{to:"/contact",class:"text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},{default:Z(()=>r[7]||(r[7]=[de("Contact Us")])),_:1})]),r[8]||(r[8]=c("li",null,[c("a",{href:"#",class:"text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},"Shipping Policy")],-1)),r[9]||(r[9]=c("li",null,[c("a",{href:"#",class:"text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},"Returns & Exchanges")],-1)),r[10]||(r[10]=c("li",null,[c("a",{href:"#",class:"text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},"FAQs")],-1))])]),r[12]||(r[12]=Tt('<div><h3 class="font-bold text-lg mb-4 text-light-text-primary dark:text-dark-text-primary border-b-2 border-orange-500 dark:border-orange-500 inline-block pb-1">Connect With Us</h3><div class="flex space-x-4 mb-4"><a href="#" class="text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"><span class="sr-only">Facebook</span><svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z" clip-rule="evenodd"></path></svg></a><a href="#" class="text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"><span class="sr-only">Instagram</span><svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465.66.254 1.216.598 1.772 1.153a4.974 4.974 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.974 4.974 0 01-1.153 1.772 4.974 4.974 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.974 4.974 0 01-1.772-1.153 4.974 4.974 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.974 4.974 0 011.153-1.772A4.974 4.974 0 015.45 3.525c.636-.247 1.363-.416 2.427-.465C8.901 3.013 9.256 3 11.685 3h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z" clip-rule="evenodd"></path></svg></a><a href="#" class="text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"><span class="sr-only">Twitter</span><svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"></path></svg></a></div><div class="text-sm text-light-text-secondary dark:text-dark-neutral-700 space-y-1"><p>Kitengela</p><p>Nairobi Kenya, Kitengela</p><p class="mt-2">hello@kreativekanvas.shop</p><p>+2547 4141 4261</p></div></div>',1))]),c("div",rJ,[c("p",nJ," "+K(new Date().getFullYear())+" Sticky Kreation . All rights reserved.",1),r[13]||(r[13]=c("div",{class:"mt-2 flex justify-center space-x-6 text-xs"},[c("a",{href:"#",class:"text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},"Privacy Policy"),c("a",{href:"#",class:"text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},"Terms of Service"),c("a",{href:"#",class:"text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},"Accessibility")],-1))])])]))}};function iJ(t,e){return O(),j("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z","clip-rule":"evenodd"})])}function oJ(t,e){return O(),j("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z","clip-rule":"evenodd"})])}function aJ(t,e){return O(),j("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"fill-rule":"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z","clip-rule":"evenodd"})])}function lJ(t,e){return O(),j("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[c("path",{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 0 1 .67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 1 1-.671-1.34l.041-.022ZM12 9a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z","clip-rule":"evenodd"})])}const cJ={class:"shrink-0"},uJ={class:"flex-1"},dJ={key:0,class:"font-medium"},hJ={class:"text-sm"},fJ={__name:"NotificationItem",props:{notification:{type:Object,required:!0},index:{type:Number,required:!0}},emits:["close"],setup(t,{emit:e}){const r=t,n=e,s=H(!1),i={success:iJ,error:oJ,info:lJ,warning:aJ},o={success:"bg-green-50 text-green-800",error:"bg-red-50 text-red-800",info:"bg-blue-50 text-blue-800",warning:"bg-yellow-50 text-yellow-800"},a=()=>{s.value=!0,setTimeout(()=>{n("close",r.notification.id)},300)};return je(()=>{r.notification.timeout&&setTimeout(()=>{a()},r.notification.timeout)}),(l,d)=>(O(),j("div",{class:$e(["fixed w-72 p-4 rounded-lg shadow-lg transform transition-all duration-300","right-4 flex items-center gap-3",o[t.notification.type]||o.info,{"opacity-0 translate-x-full":s.value}]),style:St({top:`${4+t.index*5}rem`})},[c("div",cJ,[(O(),mt(gd(i[t.notification.type]||i.info),{class:"h-5 w-5"}))]),c("div",uJ,[t.notification.title?(O(),j("p",dJ,K(t.notification.title),1)):fe("",!0),c("p",hJ,K(t.notification.message),1)]),c("button",{onClick:a,class:"text-sm font-medium hover:opacity-75"},"  ")],6))}},pJ={class:"fixed top-0 right-0 z-50 pointer-events-none"},mJ={class:"pointer-events-auto"},gJ={__name:"NotificationContainer",setup(t){const e=In(),{notifications:r}=$3(e),{removeNotification:n}=e;return(s,i)=>(O(),j("div",pJ,[c("div",mJ,[(O(!0),j(ke,null,qe(q(r),(o,a)=>(O(),mt(fJ,{key:o.id,notification:o,index:a,onClose:q(n)},null,8,["notification","index","onClose"]))),128))])]))}},yJ={class:"min-h-screen flex flex-col bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary transition-colors duration-200"},vJ={class:"flex-grow"},bJ={__name:"App",setup(t){const e=xm(),r=oa(),n=$n();return je(async()=>{e.theme==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");try{await He.seedDefaultAdmin()}catch(s){console.error("Failed to seed default admin:",s)}Ww(r,async s=>{s?await n.restoreSession(s):n.logout()}),document.addEventListener("click",s=>{const i=s.target.closest("a");i&&i.href&&(i.href.includes(window.location.origin+"/")||i.getAttribute("href")==="/")&&(window.__navIsUserAction=!0,console.log("User clicked a link:",i.href),setTimeout(()=>{window.__navIsUserAction=!1},500))}),document.addEventListener("click",s=>{s.target.closest('a[href="/"]')&&(console.log("User clicked home link, marking as user action"),window.__navIsUserAction=!0)})}),(s,i)=>{const o=Lr("RouterView");return O(),j("div",yJ,[z(GY),c("main",vJ,[z(o)]),z(sJ),z(gJ)])}}};function xJ(){return"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiB2aWV3Qm94PSIwIDAgMjAwIDIwMCI+CiAgPHJlY3QgZmlsbD0iI2YwZjBmMCIgd2lkdGg9IjIwMCIgaGVpZ2h0PSIyMDAiLz4KICA8dGV4dCBmaWxsPSIjODg4ODg4IiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMjAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjEwMCIgeT0iMTA1Ij5JbWFnZSBOb3QgRm91bmQ8L3RleHQ+CiAgPGcgc3Ryb2tlPSIjODg4ODg4IiBzdHJva2Utd2lkdGg9IjIiPgogICAgPHJlY3QgeD0iNjAiIHk9IjUwIiB3aWR0aD0iODAiIGhlaWdodD0iNjAiIGZpbGw9Im5vbmUiLz4KICAgIDxsaW5lIHgxPSI2MCIgeTE9IjUwIiB4Mj0iMTQwIiB5Mj0iMTEwIi8+CiAgICA8bGluZSB4MT0iMTQwIiB5MT0iNTAiIHgyPSI2MCIgeTI9IjExMCIvPgogIDwvZz4KPC9zdmc+"}const _J={mounted(t){t.onerror=()=>{t.src=xJ(),t.onerror=null}}},dh=Iu(bJ),wJ=A3();dh.use(wJ);dh.use($i);dh.directive("img-fallback",_J);const kJ=()=>{const t=sessionStorage.getItem("spaNavTimestamp"),e=sessionStorage.getItem("spaPath"),r=sessionStorage.getItem("spaSearch")||"",n=sessionStorage.getItem("spaHash")||"";if(!(!e||!t)&&(console.log(`SPA Navigation: Found saved path ${e}${r}${n}`),sessionStorage.removeItem("spaNavTimestamp"),sessionStorage.removeItem("spaPath"),sessionStorage.removeItem("spaSearch"),sessionStorage.removeItem("spaHash"),Date.now()-parseInt(t)<6e4)){const s=e+r+n;window.location.pathname!==e&&(console.log(`SPA Navigation: Redirecting to ${s}`),$i.replace(s).catch(i=>{console.error("SPA Navigation error:",i)}))}},EJ=async()=>{const t=$n();console.log("Starting app initialization");try{const e=await t.initAuth();console.log(`Auth initialization complete: ${e?"User loaded":"No user"}`)}catch(e){console.error("Auth initialization error:",e)}await $i.isReady(),console.log("Router is ready"),dh.mount("#app"),console.log("App mounted"),setTimeout(()=>{kJ()},50)};EJ().catch(t=>{console.error("App initialization error:",t)});export{ed as A,ke as F,_t as R,In as a,c as b,j as c,fe as d,q as e,z as f,S9 as g,Te as h,ns as i,qe as j,O as k,te as l,Z as m,$e as n,je as o,x9 as p,de as q,H as r,mt as s,K as t,$n as u,Pe as v,Rt as w,gd as x,R9 as y,A9 as z};
//# sourceMappingURL=index-DmDlVIj_.js.map
