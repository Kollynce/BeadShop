(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function ln(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const Ke={},Ro=[],or=()=>{},Ma=()=>!1,Xi=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Cp=t=>t.startsWith("onUpdate:"),Qe=Object.assign,Pp=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},iI=Object.prototype.hasOwnProperty,ct=(t,e)=>iI.call(t,e),we=Array.isArray,No=t=>aa(t)==="[object Map]",Zi=t=>aa(t)==="[object Set]",C0=t=>aa(t)==="[object Date]",oI=t=>aa(t)==="[object RegExp]",De=t=>typeof t=="function",Be=t=>typeof t=="string",Gr=t=>typeof t=="symbol",pt=t=>t!==null&&typeof t=="object",Rp=t=>(pt(t)||De(t))&&De(t.then)&&De(t.catch),t1=Object.prototype.toString,aa=t=>t1.call(t),aI=t=>aa(t).slice(8,-1),id=t=>aa(t)==="[object Object]",Np=t=>Be(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Gs=ln(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),lI=ln("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),od=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},cI=/-(\w)/g,Et=od(t=>t.replace(cI,(e,r)=>r?r.toUpperCase():"")),uI=/\B([A-Z])/g,Hr=od(t=>t.replace(uI,"-$1").toLowerCase()),eo=od(t=>t.charAt(0).toUpperCase()+t.slice(1)),$o=od(t=>t?`on${eo(t)}`:""),Vr=(t,e)=>!Object.is(t,e),Oo=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},r1=(t,e,r,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:r})},mu=t=>{const e=parseFloat(t);return isNaN(e)?t:e},gu=t=>{const e=Be(t)?Number(t):NaN;return isNaN(e)?t:e};let P0;const ad=()=>P0||(P0=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function dI(t,e){return t+JSON.stringify(e,(r,n)=>typeof n=="function"?n.toString():n)}const hI="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error,Symbol",fI=ln(hI);function St(t){if(we(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],s=Be(n)?n1(n):St(n);if(s)for(const i in s)e[i]=s[i]}return e}else if(Be(t)||pt(t))return t}const pI=/;(?![^(]*\))/g,mI=/:([^]+)/,gI=/\/\*[^]*?\*\//g;function n1(t){const e={};return t.replace(gI,"").split(pI).forEach(r=>{if(r){const n=r.split(mI);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Ce(t){let e="";if(Be(t))e=t;else if(we(t))for(let r=0;r<t.length;r++){const n=Ce(t[r]);n&&(e+=n+" ")}else if(pt(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}function yI(t){if(!t)return null;let{class:e,style:r}=t;return e&&!Be(e)&&(t.class=Ce(e)),r&&(t.style=St(r)),t}const vI="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",bI="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",xI="annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics",_I="area,base,br,col,embed,hr,img,input,link,meta,param,source,track,wbr",wI=ln(vI),kI=ln(bI),EI=ln(xI),II=ln(_I),TI="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",AI=ln(TI);function s1(t){return!!t||t===""}function SI(t,e){if(t.length!==e.length)return!1;let r=!0;for(let n=0;r&&n<t.length;n++)r=ri(t[n],e[n]);return r}function ri(t,e){if(t===e)return!0;let r=C0(t),n=C0(e);if(r||n)return r&&n?t.getTime()===e.getTime():!1;if(r=Gr(t),n=Gr(e),r||n)return t===e;if(r=we(t),n=we(e),r||n)return r&&n?SI(t,e):!1;if(r=pt(t),n=pt(e),r||n){if(!r||!n)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),c=e.hasOwnProperty(o);if(a&&!c||!a&&c||!ri(t[o],e[o]))return!1}}return String(t)===String(e)}function ld(t,e){return t.findIndex(r=>ri(r,e))}const i1=t=>!!(t&&t.__v_isRef===!0),W=t=>Be(t)?t:t==null?"":we(t)||pt(t)&&(t.toString===t1||!De(t.toString))?i1(t)?W(t.value):JSON.stringify(t,o1,2):String(t),o1=(t,e)=>i1(e)?o1(t,e.value):No(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,s],i)=>(r[Ah(n,i)+" =>"]=s,r),{})}:Zi(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>Ah(r))}:Gr(e)?Ah(e):pt(e)&&!we(e)&&!id(e)?String(e):e,Ah=(t,e="")=>{var r;return Gr(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Mr;class $p{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Mr,!e&&Mr&&(this.index=(Mr.scopes||(Mr.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=Mr;try{return Mr=this,e()}finally{Mr=r}}}on(){Mr=this}off(){Mr=this.parent}stop(e){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0}}}function Op(t){return new $p(t)}function Dp(){return Mr}function a1(t,e=!1){Mr&&Mr.cleanups.push(t)}let bt;const Sh=new WeakSet;class cl{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Mr&&Mr.active&&Mr.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Sh.has(this)&&(Sh.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||c1(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,R0(this),u1(this);const e=bt,r=An;bt=this,An=!0;try{return this.fn()}finally{d1(this),bt=e,An=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Lp(e);this.deps=this.depsTail=void 0,R0(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Sh.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){mf(this)&&this.run()}get dirty(){return mf(this)}}let l1=0,Ka,Ga;function c1(t,e=!1){if(t.flags|=8,e){t.next=Ga,Ga=t;return}t.next=Ka,Ka=t}function Mp(){l1++}function Vp(){if(--l1>0)return;if(Ga){let e=Ga;for(Ga=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;Ka;){let e=Ka;for(Ka=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=r}}if(t)throw t}function u1(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function d1(t){let e,r=t.depsTail,n=r;for(;n;){const s=n.prevDep;n.version===-1?(n===r&&(r=s),Lp(n),CI(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=s}t.deps=e,t.depsTail=r}function mf(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(h1(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function h1(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===ul))return;t.globalVersion=ul;const e=t.dep;if(t.flags|=2,e.version>0&&!t.isSSR&&t.deps&&!mf(t)){t.flags&=-3;return}const r=bt,n=An;bt=t,An=!0;try{u1(t);const s=t.fn(t._value);(e.version===0||Vr(s,t._value))&&(t._value=s,e.version++)}catch(s){throw e.version++,s}finally{bt=r,An=n,d1(t),t.flags&=-3}}function Lp(t,e=!1){const{dep:r,prevSub:n,nextSub:s}=t;if(n&&(n.nextSub=s,t.prevSub=void 0),s&&(s.prevSub=n,t.nextSub=void 0),r.subs===t&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let i=r.computed.deps;i;i=i.nextDep)Lp(i,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function CI(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}function PI(t,e){t.effect instanceof cl&&(t=t.effect.fn);const r=new cl(t);e&&Qe(r,e);try{r.run()}catch(s){throw r.stop(),s}const n=r.run.bind(r);return n.effect=r,n}function RI(t){t.effect.stop()}let An=!0;const f1=[];function li(){f1.push(An),An=!1}function ci(){const t=f1.pop();An=t===void 0?!0:t}function R0(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=bt;bt=void 0;try{e()}finally{bt=r}}}let ul=0;class NI{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class cd{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!bt||!An||bt===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==bt)r=this.activeLink=new NI(bt,this),bt.deps?(r.prevDep=bt.depsTail,bt.depsTail.nextDep=r,bt.depsTail=r):bt.deps=bt.depsTail=r,p1(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=bt.depsTail,r.nextDep=void 0,bt.depsTail.nextDep=r,bt.depsTail=r,bt.deps===r&&(bt.deps=n)}return r}trigger(e){this.version++,ul++,this.notify(e)}notify(e){Mp();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{Vp()}}}function p1(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)p1(n)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const yu=new WeakMap,Ni=Symbol(""),gf=Symbol(""),dl=Symbol("");function kr(t,e,r){if(An&&bt){let n=yu.get(t);n||yu.set(t,n=new Map);let s=n.get(r);s||(n.set(r,s=new cd),s.map=n,s.key=r),s.track()}}function es(t,e,r,n,s,i){const o=yu.get(t);if(!o){ul++;return}const a=c=>{c&&c.trigger()};if(Mp(),e==="clear")o.forEach(a);else{const c=we(t),d=c&&Np(r);if(c&&r==="length"){const h=Number(n);o.forEach((f,p)=>{(p==="length"||p===dl||!Gr(p)&&p>=h)&&a(f)})}else switch((r!==void 0||o.has(void 0))&&a(o.get(r)),d&&a(o.get(dl)),e){case"add":c?d&&a(o.get("length")):(a(o.get(Ni)),No(t)&&a(o.get(gf)));break;case"delete":c||(a(o.get(Ni)),No(t)&&a(o.get(gf)));break;case"set":No(t)&&a(o.get(Ni));break}}Vp()}function $I(t,e){const r=yu.get(t);return r&&r.get(e)}function mo(t){const e=We(t);return e===t?e:(kr(e,"iterate",dl),sn(t)?e:e.map(Er))}function ud(t){return kr(t=We(t),"iterate",dl),t}const OI={__proto__:null,[Symbol.iterator](){return Ch(this,Symbol.iterator,Er)},concat(...t){return mo(this).concat(...t.map(e=>we(e)?mo(e):e))},entries(){return Ch(this,"entries",t=>(t[1]=Er(t[1]),t))},every(t,e){return Gn(this,"every",t,e,void 0,arguments)},filter(t,e){return Gn(this,"filter",t,e,r=>r.map(Er),arguments)},find(t,e){return Gn(this,"find",t,e,Er,arguments)},findIndex(t,e){return Gn(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return Gn(this,"findLast",t,e,Er,arguments)},findLastIndex(t,e){return Gn(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return Gn(this,"forEach",t,e,void 0,arguments)},includes(...t){return Ph(this,"includes",t)},indexOf(...t){return Ph(this,"indexOf",t)},join(t){return mo(this).join(t)},lastIndexOf(...t){return Ph(this,"lastIndexOf",t)},map(t,e){return Gn(this,"map",t,e,void 0,arguments)},pop(){return Aa(this,"pop")},push(...t){return Aa(this,"push",t)},reduce(t,...e){return N0(this,"reduce",t,e)},reduceRight(t,...e){return N0(this,"reduceRight",t,e)},shift(){return Aa(this,"shift")},some(t,e){return Gn(this,"some",t,e,void 0,arguments)},splice(...t){return Aa(this,"splice",t)},toReversed(){return mo(this).toReversed()},toSorted(t){return mo(this).toSorted(t)},toSpliced(...t){return mo(this).toSpliced(...t)},unshift(...t){return Aa(this,"unshift",t)},values(){return Ch(this,"values",Er)}};function Ch(t,e,r){const n=ud(t),s=n[e]();return n!==t&&!sn(t)&&(s._next=s.next,s.next=()=>{const i=s._next();return i.value&&(i.value=r(i.value)),i}),s}const DI=Array.prototype;function Gn(t,e,r,n,s,i){const o=ud(t),a=o!==t&&!sn(t),c=o[e];if(c!==DI[e]){const f=c.apply(t,i);return a?Er(f):f}let d=r;o!==t&&(a?d=function(f,p){return r.call(this,Er(f),p,t)}:r.length>2&&(d=function(f,p){return r.call(this,f,p,t)}));const h=c.call(o,d,n);return a&&s?s(h):h}function N0(t,e,r,n){const s=ud(t);let i=r;return s!==t&&(sn(t)?r.length>3&&(i=function(o,a,c){return r.call(this,o,a,c,t)}):i=function(o,a,c){return r.call(this,o,Er(a),c,t)}),s[e](i,...n)}function Ph(t,e,r){const n=We(t);kr(n,"iterate",dl);const s=n[e](...r);return(s===-1||s===!1)&&fd(r[0])?(r[0]=We(r[0]),n[e](...r)):s}function Aa(t,e,r=[]){li(),Mp();const n=We(t)[e].apply(t,r);return Vp(),ci(),n}const MI=ln("__proto__,__v_isRef,__isVue"),m1=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Gr));function VI(t){Gr(t)||(t=String(t));const e=We(this);return kr(e,"has",t),e.hasOwnProperty(t)}class g1{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,n){if(r==="__v_skip")return e.__v_skip;const s=this._isReadonly,i=this._isShallow;if(r==="__v_isReactive")return!s;if(r==="__v_isReadonly")return s;if(r==="__v_isShallow")return i;if(r==="__v_raw")return n===(s?i?w1:_1:i?x1:b1).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=we(e);if(!s){let c;if(o&&(c=OI[r]))return c;if(r==="hasOwnProperty")return VI}const a=Reflect.get(e,r,Ct(e)?e:n);return(Gr(r)?m1.has(r):MI(r))||(s||kr(e,"get",r),i)?a:Ct(a)?o&&Np(r)?a:a.value:pt(a)?s?Up(a):Qr(a):a}}class y1 extends g1{constructor(e=!1){super(!1,e)}set(e,r,n,s){let i=e[r];if(!this._isShallow){const c=ni(i);if(!sn(n)&&!ni(n)&&(i=We(i),n=We(n)),!we(e)&&Ct(i)&&!Ct(n))return c?!1:(i.value=n,!0)}const o=we(e)&&Np(r)?Number(r)<e.length:ct(e,r),a=Reflect.set(e,r,n,Ct(e)?e:s);return e===We(s)&&(o?Vr(n,i)&&es(e,"set",r,n):es(e,"add",r,n)),a}deleteProperty(e,r){const n=ct(e,r);e[r];const s=Reflect.deleteProperty(e,r);return s&&n&&es(e,"delete",r,void 0),s}has(e,r){const n=Reflect.has(e,r);return(!Gr(r)||!m1.has(r))&&kr(e,"has",r),n}ownKeys(e){return kr(e,"iterate",we(e)?"length":Ni),Reflect.ownKeys(e)}}class v1 extends g1{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const LI=new y1,FI=new v1,UI=new y1(!0),jI=new v1(!0),yf=t=>t,Ac=t=>Reflect.getPrototypeOf(t);function BI(t,e,r){return function(...n){const s=this.__v_raw,i=We(s),o=No(i),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,d=s[t](...n),h=r?yf:e?vf:Er;return!e&&kr(i,"iterate",c?gf:Ni),{next(){const{value:f,done:p}=d.next();return p?{value:f,done:p}:{value:a?[h(f[0]),h(f[1])]:h(f),done:p}},[Symbol.iterator](){return this}}}}function Sc(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function qI(t,e){const r={get(s){const i=this.__v_raw,o=We(i),a=We(s);t||(Vr(s,a)&&kr(o,"get",s),kr(o,"get",a));const{has:c}=Ac(o),d=e?yf:t?vf:Er;if(c.call(o,s))return d(i.get(s));if(c.call(o,a))return d(i.get(a));i!==o&&i.get(s)},get size(){const s=this.__v_raw;return!t&&kr(We(s),"iterate",Ni),Reflect.get(s,"size",s)},has(s){const i=this.__v_raw,o=We(i),a=We(s);return t||(Vr(s,a)&&kr(o,"has",s),kr(o,"has",a)),s===a?i.has(s):i.has(s)||i.has(a)},forEach(s,i){const o=this,a=o.__v_raw,c=We(a),d=e?yf:t?vf:Er;return!t&&kr(c,"iterate",Ni),a.forEach((h,f)=>s.call(i,d(h),d(f),o))}};return Qe(r,t?{add:Sc("add"),set:Sc("set"),delete:Sc("delete"),clear:Sc("clear")}:{add(s){!e&&!sn(s)&&!ni(s)&&(s=We(s));const i=We(this);return Ac(i).has.call(i,s)||(i.add(s),es(i,"add",s,s)),this},set(s,i){!e&&!sn(i)&&!ni(i)&&(i=We(i));const o=We(this),{has:a,get:c}=Ac(o);let d=a.call(o,s);d||(s=We(s),d=a.call(o,s));const h=c.call(o,s);return o.set(s,i),d?Vr(i,h)&&es(o,"set",s,i):es(o,"add",s,i),this},delete(s){const i=We(this),{has:o,get:a}=Ac(i);let c=o.call(i,s);c||(s=We(s),c=o.call(i,s)),a&&a.call(i,s);const d=i.delete(s);return c&&es(i,"delete",s,void 0),d},clear(){const s=We(this),i=s.size!==0,o=s.clear();return i&&es(s,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(s=>{r[s]=BI(s,t,e)}),r}function dd(t,e){const r=qI(t,e);return(n,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?n:Reflect.get(ct(r,s)&&s in n?r:n,s,i)}const HI={get:dd(!1,!1)},zI={get:dd(!1,!0)},WI={get:dd(!0,!1)},KI={get:dd(!0,!0)},b1=new WeakMap,x1=new WeakMap,_1=new WeakMap,w1=new WeakMap;function GI(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function QI(t){return t.__v_skip||!Object.isExtensible(t)?0:GI(aI(t))}function Qr(t){return ni(t)?t:hd(t,!1,LI,HI,b1)}function Fp(t){return hd(t,!1,UI,zI,x1)}function Up(t){return hd(t,!0,FI,WI,_1)}function YI(t){return hd(t,!0,jI,KI,w1)}function hd(t,e,r,n,s){if(!pt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=QI(t);if(o===0)return t;const a=new Proxy(t,o===2?n:r);return s.set(t,a),a}function Sn(t){return ni(t)?Sn(t.__v_raw):!!(t&&t.__v_isReactive)}function ni(t){return!!(t&&t.__v_isReadonly)}function sn(t){return!!(t&&t.__v_isShallow)}function fd(t){return t?!!t.__v_raw:!1}function We(t){const e=t&&t.__v_raw;return e?We(e):t}function pd(t){return!ct(t,"__v_skip")&&Object.isExtensible(t)&&r1(t,"__v_skip",!0),t}const Er=t=>pt(t)?Qr(t):t,vf=t=>pt(t)?Up(t):t;function Ct(t){return t?t.__v_isRef===!0:!1}function q(t){return k1(t,!1)}function md(t){return k1(t,!0)}function k1(t,e){return Ct(t)?t:new JI(t,e)}class JI{constructor(e,r){this.dep=new cd,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:We(e),this._value=r?e:Er(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,n=this.__v_isShallow||sn(e)||ni(e);e=n?e:We(e),Vr(e,r)&&(this._rawValue=e,this._value=n?e:Er(e),this.dep.trigger())}}function XI(t){t.dep&&t.dep.trigger()}function H(t){return Ct(t)?t.value:t}function ZI(t){return De(t)?t():H(t)}const eT={get:(t,e,r)=>e==="__v_raw"?t:H(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const s=t[e];return Ct(s)&&!Ct(r)?(s.value=r,!0):Reflect.set(t,e,r,n)}};function jp(t){return Sn(t)?t:new Proxy(t,eT)}class tT{constructor(e){this.__v_isRef=!0,this._value=void 0;const r=this.dep=new cd,{get:n,set:s}=e(r.track.bind(r),r.trigger.bind(r));this._get=n,this._set=s}get value(){return this._value=this._get()}set value(e){this._set(e)}}function E1(t){return new tT(t)}function I1(t){const e=we(t)?new Array(t.length):{};for(const r in t)e[r]=A1(t,r);return e}class rT{constructor(e,r,n){this._object=e,this._key=r,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return $I(We(this._object),this._key)}}class nT{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function T1(t,e,r){return Ct(t)?t:De(t)?new nT(t):pt(t)&&arguments.length>1?A1(t,e,r):q(t)}function A1(t,e,r){const n=t[e];return Ct(n)?n:new rT(t,e,r)}class sT{constructor(e,r,n){this.fn=e,this.setter=r,this._value=void 0,this.dep=new cd(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=ul-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&bt!==this)return c1(this,!0),!0}get value(){const e=this.dep.track();return h1(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function iT(t,e,r=!1){let n,s;return De(t)?n=t:(n=t.get,s=t.set),new sT(n,s,r)}const oT={GET:"get",HAS:"has",ITERATE:"iterate"},aT={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"},Cc={},vu=new WeakMap;let Ds;function lT(){return Ds}function S1(t,e=!1,r=Ds){if(r){let n=vu.get(r);n||vu.set(r,n=[]),n.push(t)}}function cT(t,e,r=Ke){const{immediate:n,deep:s,once:i,scheduler:o,augmentJob:a,call:c}=r,d=R=>s?R:sn(R)||s===!1||s===0?ts(R,1):ts(R);let h,f,p,y,b=!1,w=!1;if(Ct(t)?(f=()=>t.value,b=sn(t)):Sn(t)?(f=()=>d(t),b=!0):we(t)?(w=!0,b=t.some(R=>Sn(R)||sn(R)),f=()=>t.map(R=>{if(Ct(R))return R.value;if(Sn(R))return d(R);if(De(R))return c?c(R,2):R()})):De(t)?e?f=c?()=>c(t,2):t:f=()=>{if(p){li();try{p()}finally{ci()}}const R=Ds;Ds=h;try{return c?c(t,3,[y]):t(y)}finally{Ds=R}}:f=or,e&&s){const R=f,A=s===!0?1/0:s;f=()=>ts(R(),A)}const x=Dp(),I=()=>{h.stop(),x&&x.active&&Pp(x.effects,h)};if(i&&e){const R=e;e=(...A)=>{R(...A),I()}}let C=w?new Array(t.length).fill(Cc):Cc;const E=R=>{if(!(!(h.flags&1)||!h.dirty&&!R))if(e){const A=h.run();if(s||b||(w?A.some((M,T)=>Vr(M,C[T])):Vr(A,C))){p&&p();const M=Ds;Ds=h;try{const T=[A,C===Cc?void 0:w&&C[0]===Cc?[]:C,y];c?c(e,3,T):e(...T),C=A}finally{Ds=M}}}else h.run()};return a&&a(E),h=new cl(f),h.scheduler=o?()=>o(E,!1):E,y=R=>S1(R,!1,h),p=h.onStop=()=>{const R=vu.get(h);if(R){if(c)c(R,4);else for(const A of R)A();vu.delete(h)}},e?n?E(!0):C=h.run():o?o(E.bind(null,!0),!0):h.run(),I.pause=h.pause.bind(h),I.resume=h.resume.bind(h),I.stop=I,I}function ts(t,e=1/0,r){if(e<=0||!pt(t)||t.__v_skip||(r=r||new Set,r.has(t)))return t;if(r.add(t),e--,Ct(t))ts(t.value,e,r);else if(we(t))for(let n=0;n<t.length;n++)ts(t[n],e,r);else if(Zi(t)||No(t))t.forEach(n=>{ts(n,e,r)});else if(id(t)){for(const n in t)ts(t[n],e,r);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&ts(t[n],e,r)}return t}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const C1=[];function uT(t){C1.push(t)}function dT(){C1.pop()}function hT(t,e){}const fT={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER",COMPONENT_UPDATE:15,15:"COMPONENT_UPDATE",APP_UNMOUNT_CLEANUP:16,16:"APP_UNMOUNT_CLEANUP"},pT={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush",15:"component update",16:"app unmount cleanup function"};function la(t,e,r,n){try{return n?t(...n):t()}catch(s){to(s,e,r)}}function bn(t,e,r,n){if(De(t)){const s=la(t,e,r,n);return s&&Rp(s)&&s.catch(i=>{to(i,e,r)}),s}if(we(t)){const s=[];for(let i=0;i<t.length;i++)s.push(bn(t[i],e,r,n));return s}}function to(t,e,r,n=!0){const s=e?e.vnode:null,{errorHandler:i,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Ke;if(e){let a=e.parent;const c=e.proxy,d=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const h=a.ec;if(h){for(let f=0;f<h.length;f++)if(h[f](t,c,d)===!1)return}a=a.parent}if(i){li(),la(i,null,10,[t,c,d]),ci();return}}mT(t,r,s,n,o)}function mT(t,e,r,n=!0,s=!1){if(s)throw t;console.error(t)}const Lr=[];let Dn=-1;const Do=[];let Ms=null,bo=0;const P1=Promise.resolve();let bu=null;function ar(t){const e=bu||P1;return t?e.then(this?t.bind(this):t):e}function gT(t){let e=Dn+1,r=Lr.length;for(;e<r;){const n=e+r>>>1,s=Lr[n],i=fl(s);i<t||i===t&&s.flags&2?e=n+1:r=n}return e}function Bp(t){if(!(t.flags&1)){const e=fl(t),r=Lr[Lr.length-1];!r||!(t.flags&2)&&e>=fl(r)?Lr.push(t):Lr.splice(gT(e),0,t),t.flags|=1,R1()}}function R1(){bu||(bu=P1.then(N1))}function hl(t){we(t)?Do.push(...t):Ms&&t.id===-1?Ms.splice(bo+1,0,t):t.flags&1||(Do.push(t),t.flags|=1),R1()}function $0(t,e,r=Dn+1){for(;r<Lr.length;r++){const n=Lr[r];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;Lr.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function xu(t){if(Do.length){const e=[...new Set(Do)].sort((r,n)=>fl(r)-fl(n));if(Do.length=0,Ms){Ms.push(...e);return}for(Ms=e,bo=0;bo<Ms.length;bo++){const r=Ms[bo];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}Ms=null,bo=0}}const fl=t=>t.id==null?t.flags&2?-1:1/0:t.id;function N1(t){try{for(Dn=0;Dn<Lr.length;Dn++){const e=Lr[Dn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),la(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Dn<Lr.length;Dn++){const e=Lr[Dn];e&&(e.flags&=-2)}Dn=-1,Lr.length=0,xu(),bu=null,(Lr.length||Do.length)&&N1()}}let xo,Pc=[];function $1(t,e){var r,n;xo=t,xo?(xo.enabled=!0,Pc.forEach(({event:s,args:i})=>xo.emit(s,...i)),Pc=[]):typeof window<"u"&&window.HTMLElement&&!((n=(r=window.navigator)==null?void 0:r.userAgent)!=null&&n.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(i=>{$1(i,e)}),setTimeout(()=>{xo||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Pc=[])},3e3)):Pc=[]}let Xt=null,gd=null;function pl(t){const e=Xt;return Xt=t,gd=t&&t.type.__scopeId||null,e}function yT(t){gd=t}function vT(){gd=null}const bT=t=>Z;function Z(t,e=Xt,r){if(!e||t._n)return t;const n=(...s)=>{n._d&&Tf(-1);const i=pl(e);let o;try{o=t(...s)}finally{pl(i),n._d&&Tf(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function xe(t,e){if(Xt===null)return t;const r=Bl(Xt),n=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,a,c=Ke]=e[s];i&&(De(i)&&(i={mounted:i,updated:i}),i.deep&&ts(o),n.push({dir:i,instance:r,value:o,oldValue:void 0,arg:a,modifiers:c}))}return t}function Mn(t,e,r,n){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let c=a.dir[n];c&&(li(),bn(c,r,8,[t.el,a,t,e]),ci())}}const O1=Symbol("_vte"),D1=t=>t.__isTeleport,Qa=t=>t&&(t.disabled||t.disabled===""),O0=t=>t&&(t.defer||t.defer===""),D0=t=>typeof SVGElement<"u"&&t instanceof SVGElement,M0=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,bf=(t,e)=>{const r=t&&t.to;return Be(r)?e?e(r):null:r},M1={name:"Teleport",__isTeleport:!0,process(t,e,r,n,s,i,o,a,c,d){const{mc:h,pc:f,pbc:p,o:{insert:y,querySelector:b,createText:w,createComment:x}}=d,I=Qa(e.props);let{shapeFlag:C,children:E,dynamicChildren:R}=e;if(t==null){const A=e.el=w(""),M=e.anchor=w("");y(A,r,n),y(M,r,n);const T=(m,k)=>{C&16&&(s&&s.isCE&&(s.ce._teleportTarget=m),h(E,m,k,s,i,o,a,c))},v=()=>{const m=e.target=bf(e.props,b),k=V1(m,e,w,y);m&&(o!=="svg"&&D0(m)?o="svg":o!=="mathml"&&M0(m)&&(o="mathml"),I||(T(m,k),Jc(e,!1)))};I&&(T(r,M),Jc(e,!0)),O0(e.props)?Qt(()=>{v(),e.el.__isMounted=!0},i):v()}else{if(O0(e.props)&&!t.el.__isMounted){Qt(()=>{M1.process(t,e,r,n,s,i,o,a,c,d),delete t.el.__isMounted},i);return}e.el=t.el,e.targetStart=t.targetStart;const A=e.anchor=t.anchor,M=e.target=t.target,T=e.targetAnchor=t.targetAnchor,v=Qa(t.props),m=v?r:M,k=v?A:T;if(o==="svg"||D0(M)?o="svg":(o==="mathml"||M0(M))&&(o="mathml"),R?(p(t.dynamicChildren,R,m,s,i,o,a),Zp(t,e,!0)):c||f(t,e,m,k,s,i,o,a,!1),I)v?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Rc(e,r,A,d,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const N=e.target=bf(e.props,b);N&&Rc(e,N,null,d,0)}else v&&Rc(e,M,T,d,1);Jc(e,I)}},remove(t,e,r,{um:n,o:{remove:s}},i){const{shapeFlag:o,children:a,anchor:c,targetStart:d,targetAnchor:h,target:f,props:p}=t;if(f&&(s(d),s(h)),i&&s(c),o&16){const y=i||!Qa(p);for(let b=0;b<a.length;b++){const w=a[b];n(w,e,r,y,!!w.dynamicChildren)}}},move:Rc,hydrate:xT};function Rc(t,e,r,{o:{insert:n},m:s},i=2){i===0&&n(t.targetAnchor,e,r);const{el:o,anchor:a,shapeFlag:c,children:d,props:h}=t,f=i===2;if(f&&n(o,e,r),(!f||Qa(h))&&c&16)for(let p=0;p<d.length;p++)s(d[p],e,r,2);f&&n(a,e,r)}function xT(t,e,r,n,s,i,{o:{nextSibling:o,parentNode:a,querySelector:c,insert:d,createText:h}},f){const p=e.target=bf(e.props,c);if(p){const y=Qa(e.props),b=p._lpa||p.firstChild;if(e.shapeFlag&16)if(y)e.anchor=f(o(t),e,a(t),r,n,s,i),e.targetStart=b,e.targetAnchor=b&&o(b);else{e.anchor=o(t);let w=b;for(;w;){if(w&&w.nodeType===8){if(w.data==="teleport start anchor")e.targetStart=w;else if(w.data==="teleport anchor"){e.targetAnchor=w,p._lpa=e.targetAnchor&&o(e.targetAnchor);break}}w=o(w)}e.targetAnchor||V1(p,e,h,d),f(b&&o(b),e,p,r,n,s,i)}Jc(e,y)}return e.anchor&&o(e.anchor)}const qp=M1;function Jc(t,e){const r=t.ctx;if(r&&r.ut){let n,s;for(e?(n=t.el,s=t.anchor):(n=t.targetStart,s=t.targetAnchor);n&&n!==s;)n.nodeType===1&&n.setAttribute("data-v-owner",r.uid),n=n.nextSibling;r.ut()}}function V1(t,e,r,n){const s=e.targetStart=r(""),i=e.targetAnchor=r("");return s[O1]=i,t&&(n(s,t),n(i,t)),i}const Vs=Symbol("_leaveCb"),Nc=Symbol("_enterCb");function Hp(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ue(()=>{t.isMounted=!0}),ui(()=>{t.isUnmounting=!0}),t}const hn=[Function,Array],zp={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:hn,onEnter:hn,onAfterEnter:hn,onEnterCancelled:hn,onBeforeLeave:hn,onLeave:hn,onAfterLeave:hn,onLeaveCancelled:hn,onBeforeAppear:hn,onAppear:hn,onAfterAppear:hn,onAppearCancelled:hn},L1=t=>{const e=t.subTree;return e.component?L1(e.component):e},_T={name:"BaseTransition",props:zp,setup(t,{slots:e}){const r=cn(),n=Hp();return()=>{const s=e.default&&yd(e.default(),!0);if(!s||!s.length)return;const i=F1(s),o=We(t),{mode:a}=o;if(n.isLeaving)return Rh(i);const c=V0(i);if(!c)return Rh(i);let d=jo(c,o,n,r,f=>d=f);c.type!==qt&&us(c,d);let h=r.subTree&&V0(r.subTree);if(h&&h.type!==qt&&!Tn(c,h)&&L1(r).type!==qt){let f=jo(h,o,n,r);if(us(h,f),a==="out-in"&&c.type!==qt)return n.isLeaving=!0,f.afterLeave=()=>{n.isLeaving=!1,r.job.flags&8||r.update(),delete f.afterLeave,h=void 0},Rh(i);a==="in-out"&&c.type!==qt?f.delayLeave=(p,y,b)=>{const w=j1(n,h);w[String(h.key)]=h,p[Vs]=()=>{y(),p[Vs]=void 0,delete d.delayedLeave,h=void 0},d.delayedLeave=()=>{b(),delete d.delayedLeave,h=void 0}}:h=void 0}else h&&(h=void 0);return i}}};function F1(t){let e=t[0];if(t.length>1){for(const r of t)if(r.type!==qt){e=r;break}}return e}const U1=_T;function j1(t,e){const{leavingVNodes:r}=t;let n=r.get(e.type);return n||(n=Object.create(null),r.set(e.type,n)),n}function jo(t,e,r,n,s){const{appear:i,mode:o,persisted:a=!1,onBeforeEnter:c,onEnter:d,onAfterEnter:h,onEnterCancelled:f,onBeforeLeave:p,onLeave:y,onAfterLeave:b,onLeaveCancelled:w,onBeforeAppear:x,onAppear:I,onAfterAppear:C,onAppearCancelled:E}=e,R=String(t.key),A=j1(r,t),M=(m,k)=>{m&&bn(m,n,9,k)},T=(m,k)=>{const N=k[1];M(m,k),we(m)?m.every(S=>S.length<=1)&&N():m.length<=1&&N()},v={mode:o,persisted:a,beforeEnter(m){let k=c;if(!r.isMounted)if(i)k=x||c;else return;m[Vs]&&m[Vs](!0);const N=A[R];N&&Tn(t,N)&&N.el[Vs]&&N.el[Vs](),M(k,[m])},enter(m){let k=d,N=h,S=f;if(!r.isMounted)if(i)k=I||d,N=C||h,S=E||f;else return;let P=!1;const le=m[Nc]=ue=>{P||(P=!0,ue?M(S,[m]):M(N,[m]),v.delayedLeave&&v.delayedLeave(),m[Nc]=void 0)};k?T(k,[m,le]):le()},leave(m,k){const N=String(t.key);if(m[Nc]&&m[Nc](!0),r.isUnmounting)return k();M(p,[m]);let S=!1;const P=m[Vs]=le=>{S||(S=!0,k(),le?M(w,[m]):M(b,[m]),m[Vs]=void 0,A[N]===t&&delete A[N])};A[N]=t,y?T(y,[m,P]):P()},clone(m){const k=jo(m,e,r,n,s);return s&&s(k),k}};return v}function Rh(t){if(Ul(t))return t=Pn(t),t.children=null,t}function V0(t){if(!Ul(t))return D1(t.type)&&t.children?F1(t.children):t;const{shapeFlag:e,children:r}=t;if(r){if(e&16)return r[0];if(e&32&&De(r.default))return r.default()}}function us(t,e){t.shapeFlag&6&&t.component?(t.transition=e,us(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function yd(t,e=!1,r){let n=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const a=r==null?o.key:String(r)+String(o.key!=null?o.key:i);o.type===Ee?(o.patchFlag&128&&s++,n=n.concat(yd(o.children,e,a))):(e||o.type!==qt)&&n.push(a!=null?Pn(o,{key:a}):o)}if(s>1)for(let i=0;i<n.length;i++)n[i].patchFlag=-2;return n}/*! #__NO_SIDE_EFFECTS__ */function Ze(t,e){return De(t)?Qe({name:t.name},e,{setup:t}):t}function B1(){const t=cn();return t?(t.appContext.config.idPrefix||"v")+"-"+t.ids[0]+t.ids[1]++:""}function Wp(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}function wT(t){const e=cn(),r=md(null);if(e){const s=e.refs===Ke?e.refs={}:e.refs;Object.defineProperty(s,t,{enumerable:!0,get:()=>r.value,set:i=>r.value=i})}return r}function ml(t,e,r,n,s=!1){if(we(t)){t.forEach((b,w)=>ml(b,e&&(we(e)?e[w]:e),r,n,s));return}if(Qs(n)&&!s){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&ml(t,e,r,n.component.subTree);return}const i=n.shapeFlag&4?Bl(n.component):n.el,o=s?null:i,{i:a,r:c}=t,d=e&&e.r,h=a.refs===Ke?a.refs={}:a.refs,f=a.setupState,p=We(f),y=f===Ke?()=>!1:b=>ct(p,b);if(d!=null&&d!==c&&(Be(d)?(h[d]=null,y(d)&&(f[d]=null)):Ct(d)&&(d.value=null)),De(c))la(c,a,12,[o,h]);else{const b=Be(c),w=Ct(c);if(b||w){const x=()=>{if(t.f){const I=b?y(c)?f[c]:h[c]:c.value;s?we(I)&&Pp(I,i):we(I)?I.includes(i)||I.push(i):b?(h[c]=[i],y(c)&&(f[c]=h[c])):(c.value=[i],t.k&&(h[t.k]=c.value))}else b?(h[c]=o,y(c)&&(f[c]=o)):w&&(c.value=o,t.k&&(h[t.k]=o))};o?(x.id=-1,Qt(x,r)):x()}}}let L0=!1;const go=()=>{L0||(console.error("Hydration completed but contains mismatches."),L0=!0)},kT=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",ET=t=>t.namespaceURI.includes("MathML"),$c=t=>{if(t.nodeType===1){if(kT(t))return"svg";if(ET(t))return"mathml"}},Ao=t=>t.nodeType===8;function IT(t){const{mt:e,p:r,o:{patchProp:n,createText:s,nextSibling:i,parentNode:o,remove:a,insert:c,createComment:d}}=t,h=(E,R)=>{if(!R.hasChildNodes()){r(null,E,R),xu(),R._vnode=E;return}f(R.firstChild,E,null,null,null),xu(),R._vnode=E},f=(E,R,A,M,T,v=!1)=>{v=v||!!R.dynamicChildren;const m=Ao(E)&&E.data==="[",k=()=>w(E,R,A,M,T,m),{type:N,ref:S,shapeFlag:P,patchFlag:le}=R;let ue=E.nodeType;R.el=E,le===-2&&(v=!1,R.dynamicChildren=null);let G=null;switch(N){case Ys:ue!==3?R.children===""?(c(R.el=s(""),o(E),E),G=E):G=k():(E.data!==R.children&&(go(),E.data=R.children),G=i(E));break;case qt:C(E)?(G=i(E),I(R.el=E.content.firstChild,E,A)):ue!==8||m?G=k():G=i(E);break;case Oi:if(m&&(E=i(E),ue=E.nodeType),ue===1||ue===3){G=E;const j=!R.children.length;for(let te=0;te<R.staticCount;te++)j&&(R.children+=G.nodeType===1?G.outerHTML:G.data),te===R.staticCount-1&&(R.anchor=G),G=i(G);return m?i(G):G}else k();break;case Ee:m?G=b(E,R,A,M,T,v):G=k();break;default:if(P&1)(ue!==1||R.type.toLowerCase()!==E.tagName.toLowerCase())&&!C(E)?G=k():G=p(E,R,A,M,T,v);else if(P&6){R.slotScopeIds=T;const j=o(E);if(m?G=x(E):Ao(E)&&E.data==="teleport start"?G=x(E,E.data,"teleport end"):G=i(E),e(R,j,null,A,M,$c(j),v),Qs(R)&&!R.type.__asyncResolved){let te;m?(te=z(Ee),te.anchor=G?G.previousSibling:j.lastChild):te=E.nodeType===3?he(""):z("div"),te.el=E,R.component.subTree=te}}else P&64?ue!==8?G=k():G=R.type.hydrate(E,R,A,M,T,v,t,y):P&128&&(G=R.type.hydrate(E,R,A,M,$c(o(E)),T,v,t,f))}return S!=null&&ml(S,null,M,R),G},p=(E,R,A,M,T,v)=>{v=v||!!R.dynamicChildren;const{type:m,props:k,patchFlag:N,shapeFlag:S,dirs:P,transition:le}=R,ue=m==="input"||m==="option";if(ue||N!==-1){P&&Mn(R,null,A,"created");let G=!1;if(C(E)){G=px(null,le)&&A&&A.vnode.props&&A.vnode.props.appear;const te=E.content.firstChild;G&&le.beforeEnter(te),I(te,E,A),R.el=E=te}if(S&16&&!(k&&(k.innerHTML||k.textContent))){let te=y(E.firstChild,R,E,A,M,T,v);for(;te;){Oc(E,1)||go();const oe=te;te=te.nextSibling,a(oe)}}else if(S&8){let te=R.children;te[0]===`
`&&(E.tagName==="PRE"||E.tagName==="TEXTAREA")&&(te=te.slice(1)),E.textContent!==te&&(Oc(E,0)||go(),E.textContent=R.children)}if(k){if(ue||!v||N&48){const te=E.tagName.includes("-");for(const oe in k)(ue&&(oe.endsWith("value")||oe==="indeterminate")||Xi(oe)&&!Gs(oe)||oe[0]==="."||te)&&n(E,oe,null,k[oe],void 0,A)}else if(k.onClick)n(E,"onClick",null,k.onClick,void 0,A);else if(N&4&&Sn(k.style))for(const te in k.style)k.style[te]}let j;(j=k&&k.onVnodeBeforeMount)&&Br(j,A,R),P&&Mn(R,null,A,"beforeMount"),((j=k&&k.onVnodeMounted)||P||G)&&kx(()=>{j&&Br(j,A,R),G&&le.enter(E),P&&Mn(R,null,A,"mounted")},M)}return E.nextSibling},y=(E,R,A,M,T,v,m)=>{m=m||!!R.dynamicChildren;const k=R.children,N=k.length;for(let S=0;S<N;S++){const P=m?k[S]:k[S]=qr(k[S]),le=P.type===Ys;E?(le&&!m&&S+1<N&&qr(k[S+1]).type===Ys&&(c(s(E.data.slice(P.children.length)),A,i(E)),E.data=P.children),E=f(E,P,M,T,v,m)):le&&!P.children?c(P.el=s(""),A):(Oc(A,1)||go(),r(null,P,A,null,M,T,$c(A),v))}return E},b=(E,R,A,M,T,v)=>{const{slotScopeIds:m}=R;m&&(T=T?T.concat(m):m);const k=o(E),N=y(i(E),R,k,A,M,T,v);return N&&Ao(N)&&N.data==="]"?i(R.anchor=N):(go(),c(R.anchor=d("]"),k,N),N)},w=(E,R,A,M,T,v)=>{if(Oc(E.parentElement,1)||go(),R.el=null,v){const N=x(E);for(;;){const S=i(E);if(S&&S!==N)a(S);else break}}const m=i(E),k=o(E);return a(E),r(null,R,k,m,A,M,$c(k),T),A&&(A.vnode.el=R.el,wd(A,R.el)),m},x=(E,R="[",A="]")=>{let M=0;for(;E;)if(E=i(E),E&&Ao(E)&&(E.data===R&&M++,E.data===A)){if(M===0)return i(E);M--}return E},I=(E,R,A)=>{const M=R.parentNode;M&&M.replaceChild(E,R);let T=A;for(;T;)T.vnode.el===R&&(T.vnode.el=T.subTree.el=E),T=T.parent},C=E=>E.nodeType===1&&E.tagName==="TEMPLATE";return[h,f]}const F0="data-allow-mismatch",TT={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function Oc(t,e){if(e===0||e===1)for(;t&&!t.hasAttribute(F0);)t=t.parentElement;const r=t&&t.getAttribute(F0);if(r==null)return!1;if(r==="")return!0;{const n=r.split(",");return e===0&&n.includes("children")?!0:r.split(",").includes(TT[e])}}const AT=ad().requestIdleCallback||(t=>setTimeout(t,1)),ST=ad().cancelIdleCallback||(t=>clearTimeout(t)),CT=(t=1e4)=>e=>{const r=AT(e,{timeout:t});return()=>ST(r)};function PT(t){const{top:e,left:r,bottom:n,right:s}=t.getBoundingClientRect(),{innerHeight:i,innerWidth:o}=window;return(e>0&&e<i||n>0&&n<i)&&(r>0&&r<o||s>0&&s<o)}const RT=t=>(e,r)=>{const n=new IntersectionObserver(s=>{for(const i of s)if(i.isIntersecting){n.disconnect(),e();break}},t);return r(s=>{if(s instanceof Element){if(PT(s))return e(),n.disconnect(),!1;n.observe(s)}}),()=>n.disconnect()},NT=t=>e=>{if(t){const r=matchMedia(t);if(r.matches)e();else return r.addEventListener("change",e,{once:!0}),()=>r.removeEventListener("change",e)}},$T=(t=[])=>(e,r)=>{Be(t)&&(t=[t]);let n=!1;const s=o=>{n||(n=!0,i(),e(),o.target.dispatchEvent(new o.constructor(o.type,o)))},i=()=>{r(o=>{for(const a of t)o.removeEventListener(a,s)})};return r(o=>{for(const a of t)o.addEventListener(a,s,{once:!0})}),i};function OT(t,e){if(Ao(t)&&t.data==="["){let r=1,n=t.nextSibling;for(;n;){if(n.nodeType===1){if(e(n)===!1)break}else if(Ao(n))if(n.data==="]"){if(--r===0)break}else n.data==="["&&r++;n=n.nextSibling}}else e(t)}const Qs=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function DT(t){De(t)&&(t={loader:t});const{loader:e,loadingComponent:r,errorComponent:n,delay:s=200,hydrate:i,timeout:o,suspensible:a=!0,onError:c}=t;let d=null,h,f=0;const p=()=>(f++,d=null,y()),y=()=>{let b;return d||(b=d=e().catch(w=>{if(w=w instanceof Error?w:new Error(String(w)),c)return new Promise((x,I)=>{c(w,()=>x(p()),()=>I(w),f+1)});throw w}).then(w=>b!==d&&d?d:(w&&(w.__esModule||w[Symbol.toStringTag]==="Module")&&(w=w.default),h=w,w)))};return Ze({name:"AsyncComponentWrapper",__asyncLoader:y,__asyncHydrate(b,w,x){const I=i?()=>{const C=i(x,E=>OT(b,E));C&&(w.bum||(w.bum=[])).push(C)}:x;h?I():y().then(()=>!w.isUnmounted&&I())},get __asyncResolved(){return h},setup(){const b=Jt;if(Wp(b),h)return()=>Nh(h,b);const w=E=>{d=null,to(E,b,13,!n)};if(a&&b.suspense||Bo)return y().then(E=>()=>Nh(E,b)).catch(E=>(w(E),()=>n?z(n,{error:E}):null));const x=q(!1),I=q(),C=q(!!s);return s&&setTimeout(()=>{C.value=!1},s),o!=null&&setTimeout(()=>{if(!x.value&&!I.value){const E=new Error(`Async component timed out after ${o}ms.`);w(E),I.value=E}},o),y().then(()=>{x.value=!0,b.parent&&Ul(b.parent.vnode)&&b.parent.update()}).catch(E=>{w(E),I.value=E}),()=>{if(x.value&&h)return Nh(h,b);if(I.value&&n)return z(n,{error:I.value});if(r&&!C.value)return z(r)}}})}function Nh(t,e){const{ref:r,props:n,children:s,ce:i}=e.vnode,o=z(t,n,s);return o.ref=r,o.ce=i,delete e.vnode.ce,o}const Ul=t=>t.type.__isKeepAlive,MT={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:e}){const r=cn(),n=r.ctx;if(!n.renderer)return()=>{const C=e.default&&e.default();return C&&C.length===1?C[0]:C};const s=new Map,i=new Set;let o=null;const a=r.suspense,{renderer:{p:c,m:d,um:h,o:{createElement:f}}}=n,p=f("div");n.activate=(C,E,R,A,M)=>{const T=C.component;d(C,E,R,0,a),c(T.vnode,C,E,R,T,a,A,C.slotScopeIds,M),Qt(()=>{T.isDeactivated=!1,T.a&&Oo(T.a);const v=C.props&&C.props.onVnodeMounted;v&&Br(v,T.parent,C)},a)},n.deactivate=C=>{const E=C.component;ku(E.m),ku(E.a),d(C,p,null,1,a),Qt(()=>{E.da&&Oo(E.da);const R=C.props&&C.props.onVnodeUnmounted;R&&Br(R,E.parent,C),E.isDeactivated=!0},a)};function y(C){$h(C),h(C,r,a,!0)}function b(C){s.forEach((E,R)=>{const A=Rf(E.type);A&&!C(A)&&w(R)})}function w(C){const E=s.get(C);E&&(!o||!Tn(E,o))?y(E):o&&$h(o),s.delete(C),i.delete(C)}Rt(()=>[t.include,t.exclude],([C,E])=>{C&&b(R=>Va(C,R)),E&&b(R=>!Va(E,R))},{flush:"post",deep:!0});let x=null;const I=()=>{x!=null&&(Eu(r.subTree.type)?Qt(()=>{s.set(x,Dc(r.subTree))},r.subTree.suspense):s.set(x,Dc(r.subTree)))};return Ue(I),bd(I),ui(()=>{s.forEach(C=>{const{subTree:E,suspense:R}=r,A=Dc(E);if(C.type===A.type&&C.key===A.key){$h(A);const M=A.component.da;M&&Qt(M,R);return}y(C)})}),()=>{if(x=null,!e.default)return o=null;const C=e.default(),E=C[0];if(C.length>1)return o=null,C;if(!ds(E)||!(E.shapeFlag&4)&&!(E.shapeFlag&128))return o=null,E;let R=Dc(E);if(R.type===qt)return o=null,R;const A=R.type,M=Rf(Qs(R)?R.type.__asyncResolved||{}:A),{include:T,exclude:v,max:m}=t;if(T&&(!M||!Va(T,M))||v&&M&&Va(v,M))return R.shapeFlag&=-257,o=R,E;const k=R.key==null?A:R.key,N=s.get(k);return R.el&&(R=Pn(R),E.shapeFlag&128&&(E.ssContent=R)),x=k,N?(R.el=N.el,R.component=N.component,R.transition&&us(R,R.transition),R.shapeFlag|=512,i.delete(k),i.add(k)):(i.add(k),m&&i.size>parseInt(m,10)&&w(i.values().next().value)),R.shapeFlag|=256,o=R,Eu(E.type)?E:R}}},VT=MT;function Va(t,e){return we(t)?t.some(r=>Va(r,e)):Be(t)?t.split(",").includes(e):oI(t)?(t.lastIndex=0,t.test(e)):!1}function q1(t,e){z1(t,"a",e)}function H1(t,e){z1(t,"da",e)}function z1(t,e,r=Jt){const n=t.__wdc||(t.__wdc=()=>{let s=r;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(vd(e,n,r),r){let s=r.parent;for(;s&&s.parent;)Ul(s.parent.vnode)&&LT(n,e,r,s),s=s.parent}}function LT(t,e,r,n){const s=vd(e,t,n,!0);Kt(()=>{Pp(n[e],s)},r)}function $h(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function Dc(t){return t.shapeFlag&128?t.ssContent:t}function vd(t,e,r=Jt,n=!1){if(r){const s=r[t]||(r[t]=[]),i=e.__weh||(e.__weh=(...o)=>{li();const a=Ui(r),c=bn(e,r,t,o);return a(),ci(),c});return n?s.unshift(i):s.push(i),i}}const ys=t=>(e,r=Jt)=>{(!Bo||t==="sp")&&vd(t,(...n)=>e(...n),r)},W1=ys("bm"),Ue=ys("m"),Kp=ys("bu"),bd=ys("u"),ui=ys("bum"),Kt=ys("um"),K1=ys("sp"),G1=ys("rtg"),Q1=ys("rtc");function Y1(t,e=Jt){vd("ec",t,e)}const Gp="components",FT="directives";function Rr(t,e){return Qp(Gp,t,!0,e)||t}const J1=Symbol.for("v-ndc");function xd(t){return Be(t)?Qp(Gp,t,!1)||t:t||J1}function UT(t){return Qp(FT,t)}function Qp(t,e,r=!0,n=!1){const s=Xt||Jt;if(s){const i=s.type;if(t===Gp){const a=Rf(i,!1);if(a&&(a===e||a===Et(e)||a===eo(Et(e))))return i}const o=U0(s[t]||i[t],e)||U0(s.appContext[t],e);return!o&&n?i:o}}function U0(t,e){return t&&(t[e]||t[Et(e)]||t[eo(Et(e))])}function He(t,e,r,n){let s;const i=r&&r[n],o=we(t);if(o||Be(t)){const a=o&&Sn(t);let c=!1;a&&(c=!sn(t),t=ud(t)),s=new Array(t.length);for(let d=0,h=t.length;d<h;d++)s[d]=e(c?Er(t[d]):t[d],d,void 0,i&&i[d])}else if(typeof t=="number"){s=new Array(t);for(let a=0;a<t;a++)s[a]=e(a+1,a,void 0,i&&i[a])}else if(pt(t))if(t[Symbol.iterator])s=Array.from(t,(a,c)=>e(a,c,void 0,i&&i[c]));else{const a=Object.keys(t);s=new Array(a.length);for(let c=0,d=a.length;c<d;c++){const h=a[c];s[c]=e(t[h],h,c,i&&i[c])}}else s=[];return r&&(r[n]=s),s}function jT(t,e){for(let r=0;r<e.length;r++){const n=e[r];if(we(n))for(let s=0;s<n.length;s++)t[n[s].name]=n[s].fn;else n&&(t[n.name]=n.key?(...s)=>{const i=n.fn(...s);return i&&(i.key=n.key),i}:n.fn)}return t}function _u(t,e,r={},n,s){if(Xt.ce||Xt.parent&&Qs(Xt.parent)&&Xt.parent.ce)return e!=="default"&&(r.name=e),O(),ht(Ee,null,[z("slot",r,n&&n())],64);let i=t[e];i&&i._c&&(i._d=!1),O();const o=i&&Yp(i(r)),a=r.key||o&&o.key,c=ht(Ee,{key:(a&&!Gr(a)?a:`_${e}`)+(!o&&n?"_fb":"")},o||(n?n():[]),o&&t._===1?64:-2);return!s&&c.scopeId&&(c.slotScopeIds=[c.scopeId+"-s"]),i&&i._c&&(i._d=!0),c}function Yp(t){return t.some(e=>ds(e)?!(e.type===qt||e.type===Ee&&!Yp(e.children)):!0)?t:null}function BT(t,e){const r={};for(const n in t)r[e&&/[A-Z]/.test(n)?`on:${n}`:$o(n)]=t[n];return r}const xf=t=>t?Px(t)?Bl(t):xf(t.parent):null,Ya=Qe(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>xf(t.parent),$root:t=>xf(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>Jp(t),$forceUpdate:t=>t.f||(t.f=()=>{Bp(t.update)}),$nextTick:t=>t.n||(t.n=ar.bind(t.proxy)),$watch:t=>v4.bind(t)}),Oh=(t,e)=>t!==Ke&&!t.__isScriptSetup&&ct(t,e),_f={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:n,data:s,props:i,accessCache:o,type:a,appContext:c}=t;let d;if(e[0]!=="$"){const y=o[e];if(y!==void 0)switch(y){case 1:return n[e];case 2:return s[e];case 4:return r[e];case 3:return i[e]}else{if(Oh(n,e))return o[e]=1,n[e];if(s!==Ke&&ct(s,e))return o[e]=2,s[e];if((d=t.propsOptions[0])&&ct(d,e))return o[e]=3,i[e];if(r!==Ke&&ct(r,e))return o[e]=4,r[e];wf&&(o[e]=0)}}const h=Ya[e];let f,p;if(h)return e==="$attrs"&&kr(t.attrs,"get",""),h(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(r!==Ke&&ct(r,e))return o[e]=4,r[e];if(p=c.config.globalProperties,ct(p,e))return p[e]},set({_:t},e,r){const{data:n,setupState:s,ctx:i}=t;return Oh(s,e)?(s[e]=r,!0):n!==Ke&&ct(n,e)?(n[e]=r,!0):ct(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:s,propsOptions:i}},o){let a;return!!r[o]||t!==Ke&&ct(t,o)||Oh(e,o)||(a=i[0])&&ct(a,o)||ct(n,o)||ct(Ya,o)||ct(s.config.globalProperties,o)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:ct(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}},qT=Qe({},_f,{get(t,e){if(e!==Symbol.unscopables)return _f.get(t,e,t)},has(t,e){return e[0]!=="_"&&!fI(e)}});function HT(){return null}function zT(){return null}function WT(t){}function KT(t){}function GT(){return null}function QT(){}function YT(t,e){return null}function JT(){return X1().slots}function XT(){return X1().attrs}function X1(){const t=cn();return t.setupContext||(t.setupContext=Ox(t))}function gl(t){return we(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}function ZT(t,e){const r=gl(t);for(const n in e){if(n.startsWith("__skip"))continue;let s=r[n];s?we(s)||De(s)?s=r[n]={type:s,default:e[n]}:s.default=e[n]:s===null&&(s=r[n]={default:e[n]}),s&&e[`__skip_${n}`]&&(s.skipFactory=!0)}return r}function e4(t,e){return!t||!e?t||e:we(t)&&we(e)?t.concat(e):Qe({},gl(t),gl(e))}function t4(t,e){const r={};for(const n in t)e.includes(n)||Object.defineProperty(r,n,{enumerable:!0,get:()=>t[n]});return r}function r4(t){const e=cn();let r=t();return Sf(),Rp(r)&&(r=r.catch(n=>{throw Ui(e),n})),[r,()=>Ui(e)]}let wf=!0;function n4(t){const e=Jp(t),r=t.proxy,n=t.ctx;wf=!1,e.beforeCreate&&j0(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:c,inject:d,created:h,beforeMount:f,mounted:p,beforeUpdate:y,updated:b,activated:w,deactivated:x,beforeDestroy:I,beforeUnmount:C,destroyed:E,unmounted:R,render:A,renderTracked:M,renderTriggered:T,errorCaptured:v,serverPrefetch:m,expose:k,inheritAttrs:N,components:S,directives:P,filters:le}=e;if(d&&s4(d,n,null),o)for(const j in o){const te=o[j];De(te)&&(n[j]=te.bind(r))}if(s){const j=s.call(r,r);pt(j)&&(t.data=Qr(j))}if(wf=!0,i)for(const j in i){const te=i[j],oe=De(te)?te.bind(r,r):De(te.get)?te.get.bind(r,r):or,ke=!De(te)&&De(te.set)?te.set.bind(r):or,ye=ee({get:oe,set:ke});Object.defineProperty(n,j,{enumerable:!0,configurable:!0,get:()=>ye.value,set:Se=>ye.value=Se})}if(a)for(const j in a)Z1(a[j],n,r,j);if(c){const j=De(c)?c.call(r):c;Reflect.ownKeys(j).forEach(te=>{zt(te,j[te])})}h&&j0(h,t,"c");function G(j,te){we(te)?te.forEach(oe=>j(oe.bind(r))):te&&j(te.bind(r))}if(G(W1,f),G(Ue,p),G(Kp,y),G(bd,b),G(q1,w),G(H1,x),G(Y1,v),G(Q1,M),G(G1,T),G(ui,C),G(Kt,R),G(K1,m),we(k))if(k.length){const j=t.exposed||(t.exposed={});k.forEach(te=>{Object.defineProperty(j,te,{get:()=>r[te],set:oe=>r[te]=oe})})}else t.exposed||(t.exposed={});A&&t.render===or&&(t.render=A),N!=null&&(t.inheritAttrs=N),S&&(t.components=S),P&&(t.directives=P),m&&Wp(t)}function s4(t,e,r=or){we(t)&&(t=kf(t));for(const n in t){const s=t[n];let i;pt(s)?"default"in s?i=ot(s.from||n,s.default,!0):i=ot(s.from||n):i=ot(s),Ct(i)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[n]=i}}function j0(t,e,r){bn(we(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function Z1(t,e,r,n){let s=n.includes(".")?bx(r,n):()=>r[n];if(Be(t)){const i=e[t];De(i)&&Rt(s,i)}else if(De(t))Rt(s,t.bind(r));else if(pt(t))if(we(t))t.forEach(i=>Z1(i,e,r,n));else{const i=De(t.handler)?t.handler.bind(r):e[t.handler];De(i)&&Rt(s,i,t)}}function Jp(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let c;return a?c=a:!s.length&&!r&&!n?c=e:(c={},s.length&&s.forEach(d=>wu(c,d,o,!0)),wu(c,e,o)),pt(e)&&i.set(e,c),c}function wu(t,e,r,n=!1){const{mixins:s,extends:i}=e;i&&wu(t,i,r,!0),s&&s.forEach(o=>wu(t,o,r,!0));for(const o in e)if(!(n&&o==="expose")){const a=i4[o]||r&&r[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const i4={data:B0,props:q0,emits:q0,methods:La,computed:La,beforeCreate:Dr,created:Dr,beforeMount:Dr,mounted:Dr,beforeUpdate:Dr,updated:Dr,beforeDestroy:Dr,beforeUnmount:Dr,destroyed:Dr,unmounted:Dr,activated:Dr,deactivated:Dr,errorCaptured:Dr,serverPrefetch:Dr,components:La,directives:La,watch:a4,provide:B0,inject:o4};function B0(t,e){return e?t?function(){return Qe(De(t)?t.call(this,this):t,De(e)?e.call(this,this):e)}:e:t}function o4(t,e){return La(kf(t),kf(e))}function kf(t){if(we(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Dr(t,e){return t?[...new Set([].concat(t,e))]:e}function La(t,e){return t?Qe(Object.create(null),t,e):e}function q0(t,e){return t?we(t)&&we(e)?[...new Set([...t,...e])]:Qe(Object.create(null),gl(t),gl(e??{})):e}function a4(t,e){if(!t)return e;if(!e)return t;const r=Qe(Object.create(null),t);for(const n in e)r[n]=Dr(t[n],e[n]);return r}function ex(){return{app:null,config:{isNativeTag:Ma,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let l4=0;function c4(t,e){return function(n,s=null){De(n)||(n=Qe({},n)),s!=null&&!pt(s)&&(s=null);const i=ex(),o=new WeakSet,a=[];let c=!1;const d=i.app={_uid:l4++,_component:n,_props:s,_container:null,_context:i,_instance:null,version:Mx,get config(){return i.config},set config(h){},use(h,...f){return o.has(h)||(h&&De(h.install)?(o.add(h),h.install(d,...f)):De(h)&&(o.add(h),h(d,...f))),d},mixin(h){return i.mixins.includes(h)||i.mixins.push(h),d},component(h,f){return f?(i.components[h]=f,d):i.components[h]},directive(h,f){return f?(i.directives[h]=f,d):i.directives[h]},mount(h,f,p){if(!c){const y=d._ceVNode||z(n,s);return y.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),f&&e?e(y,h):t(y,h,p),c=!0,d._container=h,h.__vue_app__=d,Bl(y.component)}},onUnmount(h){a.push(h)},unmount(){c&&(bn(a,d._instance,16),t(null,d._container),delete d._container.__vue_app__)},provide(h,f){return i.provides[h]=f,d},runWithContext(h){const f=$i;$i=d;try{return h()}finally{$i=f}}};return d}}let $i=null;function zt(t,e){if(Jt){let r=Jt.provides;const n=Jt.parent&&Jt.parent.provides;n===r&&(r=Jt.provides=Object.create(n)),r[t]=e}}function ot(t,e,r=!1){const n=Jt||Xt;if(n||$i){const s=$i?$i._context.provides:n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return r&&De(e)?e.call(n&&n.proxy):e}}function tx(){return!!(Jt||Xt||$i)}const rx={},nx=()=>Object.create(rx),sx=t=>Object.getPrototypeOf(t)===rx;function u4(t,e,r,n=!1){const s={},i=nx();t.propsDefaults=Object.create(null),ix(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);r?t.props=n?s:Fp(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function d4(t,e,r,n){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=We(s),[c]=t.propsOptions;let d=!1;if((n||o>0)&&!(o&16)){if(o&8){const h=t.vnode.dynamicProps;for(let f=0;f<h.length;f++){let p=h[f];if(_d(t.emitsOptions,p))continue;const y=e[p];if(c)if(ct(i,p))y!==i[p]&&(i[p]=y,d=!0);else{const b=Et(p);s[b]=Ef(c,a,b,y,t,!1)}else y!==i[p]&&(i[p]=y,d=!0)}}}else{ix(t,e,s,i)&&(d=!0);let h;for(const f in a)(!e||!ct(e,f)&&((h=Hr(f))===f||!ct(e,h)))&&(c?r&&(r[f]!==void 0||r[h]!==void 0)&&(s[f]=Ef(c,a,f,void 0,t,!0)):delete s[f]);if(i!==a)for(const f in i)(!e||!ct(e,f))&&(delete i[f],d=!0)}d&&es(t.attrs,"set","")}function ix(t,e,r,n){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(Gs(c))continue;const d=e[c];let h;s&&ct(s,h=Et(c))?!i||!i.includes(h)?r[h]=d:(a||(a={}))[h]=d:_d(t.emitsOptions,c)||(!(c in n)||d!==n[c])&&(n[c]=d,o=!0)}if(i){const c=We(r),d=a||Ke;for(let h=0;h<i.length;h++){const f=i[h];r[f]=Ef(s,c,f,d[f],t,!ct(d,f))}}return o}function Ef(t,e,r,n,s,i){const o=t[r];if(o!=null){const a=ct(o,"default");if(a&&n===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&De(c)){const{propsDefaults:d}=s;if(r in d)n=d[r];else{const h=Ui(s);n=d[r]=c.call(null,e),h()}}else n=c;s.ce&&s.ce._setProp(r,n)}o[0]&&(i&&!a?n=!1:o[1]&&(n===""||n===Hr(r))&&(n=!0))}return n}const h4=new WeakMap;function ox(t,e,r=!1){const n=r?h4:e.propsCache,s=n.get(t);if(s)return s;const i=t.props,o={},a=[];let c=!1;if(!De(t)){const h=f=>{c=!0;const[p,y]=ox(f,e,!0);Qe(o,p),y&&a.push(...y)};!r&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!i&&!c)return pt(t)&&n.set(t,Ro),Ro;if(we(i))for(let h=0;h<i.length;h++){const f=Et(i[h]);H0(f)&&(o[f]=Ke)}else if(i)for(const h in i){const f=Et(h);if(H0(f)){const p=i[h],y=o[f]=we(p)||De(p)?{type:p}:Qe({},p),b=y.type;let w=!1,x=!0;if(we(b))for(let I=0;I<b.length;++I){const C=b[I],E=De(C)&&C.name;if(E==="Boolean"){w=!0;break}else E==="String"&&(x=!1)}else w=De(b)&&b.name==="Boolean";y[0]=w,y[1]=x,(w||ct(y,"default"))&&a.push(f)}}const d=[o,a];return pt(t)&&n.set(t,d),d}function H0(t){return t[0]!=="$"&&!Gs(t)}const ax=t=>t[0]==="_"||t==="$stable",Xp=t=>we(t)?t.map(qr):[qr(t)],f4=(t,e,r)=>{if(e._n)return e;const n=Z((...s)=>Xp(e(...s)),r);return n._c=!1,n},lx=(t,e,r)=>{const n=t._ctx;for(const s in t){if(ax(s))continue;const i=t[s];if(De(i))e[s]=f4(s,i,n);else if(i!=null){const o=Xp(i);e[s]=()=>o}}},cx=(t,e)=>{const r=Xp(e);t.slots.default=()=>r},ux=(t,e,r)=>{for(const n in e)(r||n!=="_")&&(t[n]=e[n])},p4=(t,e,r)=>{const n=t.slots=nx();if(t.vnode.shapeFlag&32){const s=e._;s?(ux(n,e,r),r&&r1(n,"_",s,!0)):lx(e,n)}else e&&cx(t,e)},m4=(t,e,r)=>{const{vnode:n,slots:s}=t;let i=!0,o=Ke;if(n.shapeFlag&32){const a=e._;a?r&&a===1?i=!1:ux(s,e,r):(i=!e.$stable,lx(e,s)),o=e}else e&&(cx(t,e),o={default:1});if(i)for(const a in s)!ax(a)&&o[a]==null&&delete s[a]},Qt=kx;function dx(t){return fx(t)}function hx(t){return fx(t,IT)}function fx(t,e){const r=ad();r.__VUE__=!0;const{insert:n,remove:s,patchProp:i,createElement:o,createText:a,createComment:c,setText:d,setElementText:h,parentNode:f,nextSibling:p,setScopeId:y=or,insertStaticContent:b}=t,w=(D,B,Y,ie=null,J=null,se=null,pe=void 0,fe=null,me=!!B.dynamicChildren)=>{if(D===B)return;D&&!Tn(D,B)&&(ie=K(D),Se(D,J,se,!0),D=null),B.patchFlag===-2&&(me=!1,B.dynamicChildren=null);const{type:de,ref:$e,shapeFlag:ve}=B;switch(de){case Ys:x(D,B,Y,ie);break;case qt:I(D,B,Y,ie);break;case Oi:D==null&&C(B,Y,ie,pe);break;case Ee:S(D,B,Y,ie,J,se,pe,fe,me);break;default:ve&1?A(D,B,Y,ie,J,se,pe,fe,me):ve&6?P(D,B,Y,ie,J,se,pe,fe,me):(ve&64||ve&128)&&de.process(D,B,Y,ie,J,se,pe,fe,me,F)}$e!=null&&J&&ml($e,D&&D.ref,se,B||D,!B)},x=(D,B,Y,ie)=>{if(D==null)n(B.el=a(B.children),Y,ie);else{const J=B.el=D.el;B.children!==D.children&&d(J,B.children)}},I=(D,B,Y,ie)=>{D==null?n(B.el=c(B.children||""),Y,ie):B.el=D.el},C=(D,B,Y,ie)=>{[D.el,D.anchor]=b(D.children,B,Y,ie,D.el,D.anchor)},E=({el:D,anchor:B},Y,ie)=>{let J;for(;D&&D!==B;)J=p(D),n(D,Y,ie),D=J;n(B,Y,ie)},R=({el:D,anchor:B})=>{let Y;for(;D&&D!==B;)Y=p(D),s(D),D=Y;s(B)},A=(D,B,Y,ie,J,se,pe,fe,me)=>{B.type==="svg"?pe="svg":B.type==="math"&&(pe="mathml"),D==null?M(B,Y,ie,J,se,pe,fe,me):m(D,B,J,se,pe,fe,me)},M=(D,B,Y,ie,J,se,pe,fe)=>{let me,de;const{props:$e,shapeFlag:ve,transition:Re,dirs:Ie}=D;if(me=D.el=o(D.type,se,$e&&$e.is,$e),ve&8?h(me,D.children):ve&16&&v(D.children,me,null,ie,J,Dh(D,se),pe,fe),Ie&&Mn(D,null,ie,"created"),T(me,D,D.scopeId,pe,ie),$e){for(const lt in $e)lt!=="value"&&!Gs(lt)&&i(me,lt,null,$e[lt],se,ie);"value"in $e&&i(me,"value",null,$e.value,se),(de=$e.onVnodeBeforeMount)&&Br(de,ie,D)}Ie&&Mn(D,null,ie,"beforeMount");const Oe=px(J,Re);Oe&&Re.beforeEnter(me),n(me,B,Y),((de=$e&&$e.onVnodeMounted)||Oe||Ie)&&Qt(()=>{de&&Br(de,ie,D),Oe&&Re.enter(me),Ie&&Mn(D,null,ie,"mounted")},J)},T=(D,B,Y,ie,J)=>{if(Y&&y(D,Y),ie)for(let se=0;se<ie.length;se++)y(D,ie[se]);if(J){let se=J.subTree;if(B===se||Eu(se.type)&&(se.ssContent===B||se.ssFallback===B)){const pe=J.vnode;T(D,pe,pe.scopeId,pe.slotScopeIds,J.parent)}}},v=(D,B,Y,ie,J,se,pe,fe,me=0)=>{for(let de=me;de<D.length;de++){const $e=D[de]=fe?Ls(D[de]):qr(D[de]);w(null,$e,B,Y,ie,J,se,pe,fe)}},m=(D,B,Y,ie,J,se,pe)=>{const fe=B.el=D.el;let{patchFlag:me,dynamicChildren:de,dirs:$e}=B;me|=D.patchFlag&16;const ve=D.props||Ke,Re=B.props||Ke;let Ie;if(Y&&yi(Y,!1),(Ie=Re.onVnodeBeforeUpdate)&&Br(Ie,Y,B,D),$e&&Mn(B,D,Y,"beforeUpdate"),Y&&yi(Y,!0),(ve.innerHTML&&Re.innerHTML==null||ve.textContent&&Re.textContent==null)&&h(fe,""),de?k(D.dynamicChildren,de,fe,Y,ie,Dh(B,J),se):pe||te(D,B,fe,null,Y,ie,Dh(B,J),se,!1),me>0){if(me&16)N(fe,ve,Re,Y,J);else if(me&2&&ve.class!==Re.class&&i(fe,"class",null,Re.class,J),me&4&&i(fe,"style",ve.style,Re.style,J),me&8){const Oe=B.dynamicProps;for(let lt=0;lt<Oe.length;lt++){const nt=Oe[lt],pr=ve[nt],Zt=Re[nt];(Zt!==pr||nt==="value")&&i(fe,nt,pr,Zt,J,Y)}}me&1&&D.children!==B.children&&h(fe,B.children)}else!pe&&de==null&&N(fe,ve,Re,Y,J);((Ie=Re.onVnodeUpdated)||$e)&&Qt(()=>{Ie&&Br(Ie,Y,B,D),$e&&Mn(B,D,Y,"updated")},ie)},k=(D,B,Y,ie,J,se,pe)=>{for(let fe=0;fe<B.length;fe++){const me=D[fe],de=B[fe],$e=me.el&&(me.type===Ee||!Tn(me,de)||me.shapeFlag&70)?f(me.el):Y;w(me,de,$e,null,ie,J,se,pe,!0)}},N=(D,B,Y,ie,J)=>{if(B!==Y){if(B!==Ke)for(const se in B)!Gs(se)&&!(se in Y)&&i(D,se,B[se],null,J,ie);for(const se in Y){if(Gs(se))continue;const pe=Y[se],fe=B[se];pe!==fe&&se!=="value"&&i(D,se,fe,pe,J,ie)}"value"in Y&&i(D,"value",B.value,Y.value,J)}},S=(D,B,Y,ie,J,se,pe,fe,me)=>{const de=B.el=D?D.el:a(""),$e=B.anchor=D?D.anchor:a("");let{patchFlag:ve,dynamicChildren:Re,slotScopeIds:Ie}=B;Ie&&(fe=fe?fe.concat(Ie):Ie),D==null?(n(de,Y,ie),n($e,Y,ie),v(B.children||[],Y,$e,J,se,pe,fe,me)):ve>0&&ve&64&&Re&&D.dynamicChildren?(k(D.dynamicChildren,Re,Y,J,se,pe,fe),(B.key!=null||J&&B===J.subTree)&&Zp(D,B,!0)):te(D,B,Y,$e,J,se,pe,fe,me)},P=(D,B,Y,ie,J,se,pe,fe,me)=>{B.slotScopeIds=fe,D==null?B.shapeFlag&512?J.ctx.activate(B,Y,ie,pe,me):le(B,Y,ie,J,se,pe,me):ue(D,B,me)},le=(D,B,Y,ie,J,se,pe)=>{const fe=D.component=Cx(D,ie,J);if(Ul(D)&&(fe.ctx.renderer=F),Rx(fe,!1,pe),fe.asyncDep){if(J&&J.registerDep(fe,G,pe),!D.el){const me=fe.subTree=z(qt);I(null,me,B,Y)}}else G(fe,D,B,Y,J,se,pe)},ue=(D,B,Y)=>{const ie=B.component=D.component;if(E4(D,B,Y))if(ie.asyncDep&&!ie.asyncResolved){j(ie,B,Y);return}else ie.next=B,ie.update();else B.el=D.el,ie.vnode=B},G=(D,B,Y,ie,J,se,pe)=>{const fe=()=>{if(D.isMounted){let{next:ve,bu:Re,u:Ie,parent:Oe,vnode:lt}=D;{const mr=mx(D);if(mr){ve&&(ve.el=lt.el,j(D,ve,pe)),mr.asyncDep.then(()=>{D.isUnmounted||fe()});return}}let nt=ve,pr;yi(D,!1),ve?(ve.el=lt.el,j(D,ve,pe)):ve=lt,Re&&Oo(Re),(pr=ve.props&&ve.props.onVnodeBeforeUpdate)&&Br(pr,Oe,ve,lt),yi(D,!0);const Zt=Xc(D),tr=D.subTree;D.subTree=Zt,w(tr,Zt,f(tr.el),K(tr),D,J,se),ve.el=Zt.el,nt===null&&wd(D,Zt.el),Ie&&Qt(Ie,J),(pr=ve.props&&ve.props.onVnodeUpdated)&&Qt(()=>Br(pr,Oe,ve,lt),J)}else{let ve;const{el:Re,props:Ie}=B,{bm:Oe,m:lt,parent:nt,root:pr,type:Zt}=D,tr=Qs(B);if(yi(D,!1),Oe&&Oo(Oe),!tr&&(ve=Ie&&Ie.onVnodeBeforeMount)&&Br(ve,nt,B),yi(D,!0),Re&&re){const mr=()=>{D.subTree=Xc(D),re(Re,D.subTree,D,J,null)};tr&&Zt.__asyncHydrate?Zt.__asyncHydrate(Re,D,mr):mr()}else{pr.ce&&pr.ce._injectChildStyle(Zt);const mr=D.subTree=Xc(D);w(null,mr,Y,ie,D,J,se),B.el=mr.el}if(lt&&Qt(lt,J),!tr&&(ve=Ie&&Ie.onVnodeMounted)){const mr=B;Qt(()=>Br(ve,nt,mr),J)}(B.shapeFlag&256||nt&&Qs(nt.vnode)&&nt.vnode.shapeFlag&256)&&D.a&&Qt(D.a,J),D.isMounted=!0,B=Y=ie=null}};D.scope.on();const me=D.effect=new cl(fe);D.scope.off();const de=D.update=me.run.bind(me),$e=D.job=me.runIfDirty.bind(me);$e.i=D,$e.id=D.uid,me.scheduler=()=>Bp($e),yi(D,!0),de()},j=(D,B,Y)=>{B.component=D;const ie=D.vnode.props;D.vnode=B,D.next=null,d4(D,B.props,ie,Y),m4(D,B.children,Y),li(),$0(D),ci()},te=(D,B,Y,ie,J,se,pe,fe,me=!1)=>{const de=D&&D.children,$e=D?D.shapeFlag:0,ve=B.children,{patchFlag:Re,shapeFlag:Ie}=B;if(Re>0){if(Re&128){ke(de,ve,Y,ie,J,se,pe,fe,me);return}else if(Re&256){oe(de,ve,Y,ie,J,se,pe,fe,me);return}}Ie&8?($e&16&&gt(de,J,se),ve!==de&&h(Y,ve)):$e&16?Ie&16?ke(de,ve,Y,ie,J,se,pe,fe,me):gt(de,J,se,!0):($e&8&&h(Y,""),Ie&16&&v(ve,Y,ie,J,se,pe,fe,me))},oe=(D,B,Y,ie,J,se,pe,fe,me)=>{D=D||Ro,B=B||Ro;const de=D.length,$e=B.length,ve=Math.min(de,$e);let Re;for(Re=0;Re<ve;Re++){const Ie=B[Re]=me?Ls(B[Re]):qr(B[Re]);w(D[Re],Ie,Y,null,J,se,pe,fe,me)}de>$e?gt(D,J,se,!0,!1,ve):v(B,Y,ie,J,se,pe,fe,me,ve)},ke=(D,B,Y,ie,J,se,pe,fe,me)=>{let de=0;const $e=B.length;let ve=D.length-1,Re=$e-1;for(;de<=ve&&de<=Re;){const Ie=D[de],Oe=B[de]=me?Ls(B[de]):qr(B[de]);if(Tn(Ie,Oe))w(Ie,Oe,Y,null,J,se,pe,fe,me);else break;de++}for(;de<=ve&&de<=Re;){const Ie=D[ve],Oe=B[Re]=me?Ls(B[Re]):qr(B[Re]);if(Tn(Ie,Oe))w(Ie,Oe,Y,null,J,se,pe,fe,me);else break;ve--,Re--}if(de>ve){if(de<=Re){const Ie=Re+1,Oe=Ie<$e?B[Ie].el:ie;for(;de<=Re;)w(null,B[de]=me?Ls(B[de]):qr(B[de]),Y,Oe,J,se,pe,fe,me),de++}}else if(de>Re)for(;de<=ve;)Se(D[de],J,se,!0),de++;else{const Ie=de,Oe=de,lt=new Map;for(de=Oe;de<=Re;de++){const $r=B[de]=me?Ls(B[de]):qr(B[de]);$r.key!=null&&lt.set($r.key,de)}let nt,pr=0;const Zt=Re-Oe+1;let tr=!1,mr=0;const ks=new Array(Zt);for(de=0;de<Zt;de++)ks[de]=0;for(de=Ie;de<=ve;de++){const $r=D[de];if(pr>=Zt){Se($r,J,se,!0);continue}let dn;if($r.key!=null)dn=lt.get($r.key);else for(nt=Oe;nt<=Re;nt++)if(ks[nt-Oe]===0&&Tn($r,B[nt])){dn=nt;break}dn===void 0?Se($r,J,se,!0):(ks[dn-Oe]=de+1,dn>=mr?mr=dn:tr=!0,w($r,B[dn],Y,null,J,se,pe,fe,me),pr++)}const lo=tr?g4(ks):Ro;for(nt=lo.length-1,de=Zt-1;de>=0;de--){const $r=Oe+de,dn=B[$r],co=$r+1<$e?B[$r+1].el:ie;ks[de]===0?w(null,dn,Y,co,J,se,pe,fe,me):tr&&(nt<0||de!==lo[nt]?ye(dn,Y,co,2):nt--)}}},ye=(D,B,Y,ie,J=null)=>{const{el:se,type:pe,transition:fe,children:me,shapeFlag:de}=D;if(de&6){ye(D.component.subTree,B,Y,ie);return}if(de&128){D.suspense.move(B,Y,ie);return}if(de&64){pe.move(D,B,Y,F);return}if(pe===Ee){n(se,B,Y);for(let ve=0;ve<me.length;ve++)ye(me[ve],B,Y,ie);n(D.anchor,B,Y);return}if(pe===Oi){E(D,B,Y);return}if(ie!==2&&de&1&&fe)if(ie===0)fe.beforeEnter(se),n(se,B,Y),Qt(()=>fe.enter(se),J);else{const{leave:ve,delayLeave:Re,afterLeave:Ie}=fe,Oe=()=>n(se,B,Y),lt=()=>{ve(se,()=>{Oe(),Ie&&Ie()})};Re?Re(se,Oe,lt):lt()}else n(se,B,Y)},Se=(D,B,Y,ie=!1,J=!1)=>{const{type:se,props:pe,ref:fe,children:me,dynamicChildren:de,shapeFlag:$e,patchFlag:ve,dirs:Re,cacheIndex:Ie}=D;if(ve===-2&&(J=!1),fe!=null&&ml(fe,null,Y,D,!0),Ie!=null&&(B.renderCache[Ie]=void 0),$e&256){B.ctx.deactivate(D);return}const Oe=$e&1&&Re,lt=!Qs(D);let nt;if(lt&&(nt=pe&&pe.onVnodeBeforeUnmount)&&Br(nt,B,D),$e&6)It(D.component,Y,ie);else{if($e&128){D.suspense.unmount(Y,ie);return}Oe&&Mn(D,null,B,"beforeUnmount"),$e&64?D.type.remove(D,B,Y,F,ie):de&&!de.hasOnce&&(se!==Ee||ve>0&&ve&64)?gt(de,B,Y,!1,!0):(se===Ee&&ve&384||!J&&$e&16)&&gt(me,B,Y),ie&&Le(D)}(lt&&(nt=pe&&pe.onVnodeUnmounted)||Oe)&&Qt(()=>{nt&&Br(nt,B,D),Oe&&Mn(D,null,B,"unmounted")},Y)},Le=D=>{const{type:B,el:Y,anchor:ie,transition:J}=D;if(B===Ee){at(Y,ie);return}if(B===Oi){R(D);return}const se=()=>{s(Y),J&&!J.persisted&&J.afterLeave&&J.afterLeave()};if(D.shapeFlag&1&&J&&!J.persisted){const{leave:pe,delayLeave:fe}=J,me=()=>pe(Y,se);fe?fe(D.el,se,me):me()}else se()},at=(D,B)=>{let Y;for(;D!==B;)Y=p(D),s(D),D=Y;s(B)},It=(D,B,Y)=>{const{bum:ie,scope:J,job:se,subTree:pe,um:fe,m:me,a:de}=D;ku(me),ku(de),ie&&Oo(ie),J.stop(),se&&(se.flags|=8,Se(pe,D,B,Y)),fe&&Qt(fe,B),Qt(()=>{D.isUnmounted=!0},B),B&&B.pendingBranch&&!B.isUnmounted&&D.asyncDep&&!D.asyncResolved&&D.suspenseId===B.pendingId&&(B.deps--,B.deps===0&&B.resolve())},gt=(D,B,Y,ie=!1,J=!1,se=0)=>{for(let pe=se;pe<D.length;pe++)Se(D[pe],B,Y,ie,J)},K=D=>{if(D.shapeFlag&6)return K(D.component.subTree);if(D.shapeFlag&128)return D.suspense.next();const B=p(D.anchor||D.el),Y=B&&B[O1];return Y?p(Y):B};let L=!1;const U=(D,B,Y)=>{D==null?B._vnode&&Se(B._vnode,null,null,!0):w(B._vnode||null,D,B,null,null,null,Y),B._vnode=D,L||(L=!0,$0(),xu(),L=!1)},F={p:w,um:Se,m:ye,r:Le,mt:le,mc:v,pc:te,pbc:k,n:K,o:t};let be,re;return e&&([be,re]=e(F)),{render:U,hydrate:be,createApp:c4(U,be)}}function Dh({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function yi({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function px(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Zp(t,e,r=!1){const n=t.children,s=e.children;if(we(n)&&we(s))for(let i=0;i<n.length;i++){const o=n[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=Ls(s[i]),a.el=o.el),!r&&a.patchFlag!==-2&&Zp(o,a)),a.type===Ys&&(a.el=o.el)}}function g4(t){const e=t.slice(),r=[0];let n,s,i,o,a;const c=t.length;for(n=0;n<c;n++){const d=t[n];if(d!==0){if(s=r[r.length-1],t[s]<d){e[n]=s,r.push(n);continue}for(i=0,o=r.length-1;i<o;)a=i+o>>1,t[r[a]]<d?i=a+1:o=a;d<t[r[i]]&&(i>0&&(e[n]=r[i-1]),r[i]=n)}}for(i=r.length,o=r[i-1];i-- >0;)r[i]=o,o=e[o];return r}function mx(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:mx(e)}function ku(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const gx=Symbol.for("v-scx"),yx=()=>ot(gx);function ur(t,e){return jl(t,null,e)}function y4(t,e){return jl(t,null,{flush:"post"})}function vx(t,e){return jl(t,null,{flush:"sync"})}function Rt(t,e,r){return jl(t,e,r)}function jl(t,e,r=Ke){const{immediate:n,deep:s,flush:i,once:o}=r,a=Qe({},r),c=e&&n||!e&&i!=="post";let d;if(Bo){if(i==="sync"){const y=yx();d=y.__watcherHandles||(y.__watcherHandles=[])}else if(!c){const y=()=>{};return y.stop=or,y.resume=or,y.pause=or,y}}const h=Jt;a.call=(y,b,w)=>bn(y,h,b,w);let f=!1;i==="post"?a.scheduler=y=>{Qt(y,h&&h.suspense)}:i!=="sync"&&(f=!0,a.scheduler=(y,b)=>{b?y():Bp(y)}),a.augmentJob=y=>{e&&(y.flags|=4),f&&(y.flags|=2,h&&(y.id=h.uid,y.i=h))};const p=cT(t,e,a);return Bo&&(d?d.push(p):c&&p()),p}function v4(t,e,r){const n=this.proxy,s=Be(t)?t.includes(".")?bx(n,t):()=>n[t]:t.bind(n,n);let i;De(e)?i=e:(i=e.handler,r=e);const o=Ui(this),a=jl(s,i.bind(n),r);return o(),a}function bx(t,e){const r=e.split(".");return()=>{let n=t;for(let s=0;s<r.length&&n;s++)n=n[r[s]];return n}}function b4(t,e,r=Ke){const n=cn(),s=Et(e),i=Hr(e),o=xx(t,s),a=E1((c,d)=>{let h,f=Ke,p;return vx(()=>{const y=t[s];Vr(h,y)&&(h=y,d())}),{get(){return c(),r.get?r.get(h):h},set(y){const b=r.set?r.set(y):y;if(!Vr(b,h)&&!(f!==Ke&&Vr(y,f)))return;const w=n.vnode.props;w&&(e in w||s in w||i in w)&&(`onUpdate:${e}`in w||`onUpdate:${s}`in w||`onUpdate:${i}`in w)||(h=y,d()),n.emit(`update:${e}`,b),Vr(y,b)&&Vr(y,f)&&!Vr(b,p)&&d(),f=y,p=b}}});return a[Symbol.iterator]=()=>{let c=0;return{next(){return c<2?{value:c++?o||Ke:a,done:!1}:{done:!0}}}},a}const xx=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Et(e)}Modifiers`]||t[`${Hr(e)}Modifiers`];function x4(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||Ke;let s=r;const i=e.startsWith("update:"),o=i&&xx(n,e.slice(7));o&&(o.trim&&(s=r.map(h=>Be(h)?h.trim():h)),o.number&&(s=r.map(mu)));let a,c=n[a=$o(e)]||n[a=$o(Et(e))];!c&&i&&(c=n[a=$o(Hr(e))]),c&&bn(c,t,6,s);const d=n[a+"Once"];if(d){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,bn(d,t,6,s)}}function _x(t,e,r=!1){const n=e.emitsCache,s=n.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!De(t)){const c=d=>{const h=_x(d,e,!0);h&&(a=!0,Qe(o,h))};!r&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!a?(pt(t)&&n.set(t,null),null):(we(i)?i.forEach(c=>o[c]=null):Qe(o,i),pt(t)&&n.set(t,o),o)}function _d(t,e){return!t||!Xi(e)?!1:(e=e.slice(2).replace(/Once$/,""),ct(t,e[0].toLowerCase()+e.slice(1))||ct(t,Hr(e))||ct(t,e))}function Xc(t){const{type:e,vnode:r,proxy:n,withProxy:s,propsOptions:[i],slots:o,attrs:a,emit:c,render:d,renderCache:h,props:f,data:p,setupState:y,ctx:b,inheritAttrs:w}=t,x=pl(t);let I,C;try{if(r.shapeFlag&4){const R=s||n,A=R;I=qr(d.call(A,R,h,f,y,p,b)),C=a}else{const R=e;I=qr(R.length>1?R(f,{attrs:a,slots:o,emit:c}):R(f,null)),C=e.props?a:w4(a)}}catch(R){Ja.length=0,to(R,t,1),I=z(qt)}let E=I;if(C&&w!==!1){const R=Object.keys(C),{shapeFlag:A}=E;R.length&&A&7&&(i&&R.some(Cp)&&(C=k4(C,i)),E=Pn(E,C,!1,!0))}return r.dirs&&(E=Pn(E,null,!1,!0),E.dirs=E.dirs?E.dirs.concat(r.dirs):r.dirs),r.transition&&us(E,r.transition),I=E,pl(x),I}function _4(t,e=!0){let r;for(let n=0;n<t.length;n++){const s=t[n];if(ds(s)){if(s.type!==qt||s.children==="v-if"){if(r)return;r=s}}else return}return r}const w4=t=>{let e;for(const r in t)(r==="class"||r==="style"||Xi(r))&&((e||(e={}))[r]=t[r]);return e},k4=(t,e)=>{const r={};for(const n in t)(!Cp(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function E4(t,e,r){const{props:n,children:s,component:i}=t,{props:o,children:a,patchFlag:c}=e,d=i.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&c>=0){if(c&1024)return!0;if(c&16)return n?z0(n,o,d):!!o;if(c&8){const h=e.dynamicProps;for(let f=0;f<h.length;f++){const p=h[f];if(o[p]!==n[p]&&!_d(d,p))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?z0(n,o,d):!0:!!o;return!1}function z0(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let s=0;s<n.length;s++){const i=n[s];if(e[i]!==t[i]&&!_d(r,i))return!0}return!1}function wd({vnode:t,parent:e},r){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=r,e=e.parent;else break}}const Eu=t=>t.__isSuspense;let If=0;const I4={name:"Suspense",__isSuspense:!0,process(t,e,r,n,s,i,o,a,c,d){if(t==null)A4(e,r,n,s,i,o,a,c,d);else{if(i&&i.deps>0&&!t.suspense.isInFallback){e.suspense=t.suspense,e.suspense.vnode=e,e.el=t.el;return}S4(t,e,r,n,s,o,a,c,d)}},hydrate:C4,normalize:P4},T4=I4;function yl(t,e){const r=t.props&&t.props[e];De(r)&&r()}function A4(t,e,r,n,s,i,o,a,c){const{p:d,o:{createElement:h}}=c,f=h("div"),p=t.suspense=wx(t,s,n,e,f,r,i,o,a,c);d(null,p.pendingBranch=t.ssContent,f,null,n,p,i,o),p.deps>0?(yl(t,"onPending"),yl(t,"onFallback"),d(null,t.ssFallback,e,r,n,null,i,o),Mo(p,t.ssFallback)):p.resolve(!1,!0)}function S4(t,e,r,n,s,i,o,a,{p:c,um:d,o:{createElement:h}}){const f=e.suspense=t.suspense;f.vnode=e,e.el=t.el;const p=e.ssContent,y=e.ssFallback,{activeBranch:b,pendingBranch:w,isInFallback:x,isHydrating:I}=f;if(w)f.pendingBranch=p,Tn(p,w)?(c(w,p,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0?f.resolve():x&&(I||(c(b,y,r,n,s,null,i,o,a),Mo(f,y)))):(f.pendingId=If++,I?(f.isHydrating=!1,f.activeBranch=w):d(w,s,f),f.deps=0,f.effects.length=0,f.hiddenContainer=h("div"),x?(c(null,p,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0?f.resolve():(c(b,y,r,n,s,null,i,o,a),Mo(f,y))):b&&Tn(p,b)?(c(b,p,r,n,s,f,i,o,a),f.resolve(!0)):(c(null,p,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0&&f.resolve()));else if(b&&Tn(p,b))c(b,p,r,n,s,f,i,o,a),Mo(f,p);else if(yl(e,"onPending"),f.pendingBranch=p,p.shapeFlag&512?f.pendingId=p.component.suspenseId:f.pendingId=If++,c(null,p,f.hiddenContainer,null,s,f,i,o,a),f.deps<=0)f.resolve();else{const{timeout:C,pendingId:E}=f;C>0?setTimeout(()=>{f.pendingId===E&&f.fallback(y)},C):C===0&&f.fallback(y)}}function wx(t,e,r,n,s,i,o,a,c,d,h=!1){const{p:f,m:p,um:y,n:b,o:{parentNode:w,remove:x}}=d;let I;const C=R4(t);C&&e&&e.pendingBranch&&(I=e.pendingId,e.deps++);const E=t.props?gu(t.props.timeout):void 0,R=i,A={vnode:t,parent:e,parentComponent:r,namespace:o,container:n,hiddenContainer:s,deps:0,pendingId:If++,timeout:typeof E=="number"?E:-1,activeBranch:null,pendingBranch:null,isInFallback:!h,isHydrating:h,isUnmounted:!1,effects:[],resolve(M=!1,T=!1){const{vnode:v,activeBranch:m,pendingBranch:k,pendingId:N,effects:S,parentComponent:P,container:le}=A;let ue=!1;A.isHydrating?A.isHydrating=!1:M||(ue=m&&k.transition&&k.transition.mode==="out-in",ue&&(m.transition.afterLeave=()=>{N===A.pendingId&&(p(k,le,i===R?b(m):i,0),hl(S))}),m&&(w(m.el)===le&&(i=b(m)),y(m,P,A,!0)),ue||p(k,le,i,0)),Mo(A,k),A.pendingBranch=null,A.isInFallback=!1;let G=A.parent,j=!1;for(;G;){if(G.pendingBranch){G.effects.push(...S),j=!0;break}G=G.parent}!j&&!ue&&hl(S),A.effects=[],C&&e&&e.pendingBranch&&I===e.pendingId&&(e.deps--,e.deps===0&&!T&&e.resolve()),yl(v,"onResolve")},fallback(M){if(!A.pendingBranch)return;const{vnode:T,activeBranch:v,parentComponent:m,container:k,namespace:N}=A;yl(T,"onFallback");const S=b(v),P=()=>{A.isInFallback&&(f(null,M,k,S,m,null,N,a,c),Mo(A,M))},le=M.transition&&M.transition.mode==="out-in";le&&(v.transition.afterLeave=P),A.isInFallback=!0,y(v,m,null,!0),le||P()},move(M,T,v){A.activeBranch&&p(A.activeBranch,M,T,v),A.container=M},next(){return A.activeBranch&&b(A.activeBranch)},registerDep(M,T,v){const m=!!A.pendingBranch;m&&A.deps++;const k=M.vnode.el;M.asyncDep.catch(N=>{to(N,M,0)}).then(N=>{if(M.isUnmounted||A.isUnmounted||A.pendingId!==M.suspenseId)return;M.asyncResolved=!0;const{vnode:S}=M;Cf(M,N,!1),k&&(S.el=k);const P=!k&&M.subTree.el;T(M,S,w(k||M.subTree.el),k?null:b(M.subTree),A,o,v),P&&x(P),wd(M,S.el),m&&--A.deps===0&&A.resolve()})},unmount(M,T){A.isUnmounted=!0,A.activeBranch&&y(A.activeBranch,r,M,T),A.pendingBranch&&y(A.pendingBranch,r,M,T)}};return A}function C4(t,e,r,n,s,i,o,a,c){const d=e.suspense=wx(e,n,r,t.parentNode,document.createElement("div"),null,s,i,o,a,!0),h=c(t,d.pendingBranch=e.ssContent,r,d,i,o);return d.deps===0&&d.resolve(!1,!0),h}function P4(t){const{shapeFlag:e,children:r}=t,n=e&32;t.ssContent=W0(n?r.default:r),t.ssFallback=n?W0(r.fallback):z(qt)}function W0(t){let e;if(De(t)){const r=Fi&&t._c;r&&(t._d=!1,O()),t=t(),r&&(t._d=!0,e=Tr,Ex())}return we(t)&&(t=_4(t)),t=qr(t),e&&!t.dynamicChildren&&(t.dynamicChildren=e.filter(r=>r!==t)),t}function kx(t,e){e&&e.pendingBranch?we(t)?e.effects.push(...t):e.effects.push(t):hl(t)}function Mo(t,e){t.activeBranch=e;const{vnode:r,parentComponent:n}=t;let s=e.el;for(;!s&&e.component;)e=e.component.subTree,s=e.el;r.el=s,n&&n.subTree===r&&(n.vnode.el=s,wd(n,s))}function R4(t){const e=t.props&&t.props.suspensible;return e!=null&&e!==!1}const Ee=Symbol.for("v-fgt"),Ys=Symbol.for("v-txt"),qt=Symbol.for("v-cmt"),Oi=Symbol.for("v-stc"),Ja=[];let Tr=null;function O(t=!1){Ja.push(Tr=t?null:[])}function Ex(){Ja.pop(),Tr=Ja[Ja.length-1]||null}let Fi=1;function Tf(t,e=!1){Fi+=t,t<0&&Tr&&e&&(Tr.hasOnce=!0)}function Ix(t){return t.dynamicChildren=Fi>0?Tr||Ro:null,Ex(),Fi>0&&Tr&&Tr.push(t),t}function V(t,e,r,n,s,i){return Ix(l(t,e,r,n,s,i,!0))}function ht(t,e,r,n,s){return Ix(z(t,e,r,n,s,!0))}function ds(t){return t?t.__v_isVNode===!0:!1}function Tn(t,e){return t.type===e.type&&t.key===e.key}function N4(t){}const Tx=({key:t})=>t??null,Zc=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?Be(t)||Ct(t)||De(t)?{i:Xt,r:t,k:e,f:!!r}:t:null);function l(t,e=null,r=null,n=0,s=null,i=t===Ee?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Tx(e),ref:e&&Zc(e),scopeId:gd,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Xt};return a?(em(c,r),i&128&&t.normalize(c)):r&&(c.shapeFlag|=Be(r)?8:16),Fi>0&&!o&&Tr&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&Tr.push(c),c}const z=$4;function $4(t,e=null,r=null,n=0,s=null,i=!1){if((!t||t===J1)&&(t=qt),ds(t)){const a=Pn(t,e,!0);return r&&em(a,r),Fi>0&&!i&&Tr&&(a.shapeFlag&6?Tr[Tr.indexOf(t)]=a:Tr.push(a)),a.patchFlag=-2,a}if(F4(t)&&(t=t.__vccOpts),e){e=Ax(e);let{class:a,style:c}=e;a&&!Be(a)&&(e.class=Ce(a)),pt(c)&&(fd(c)&&!we(c)&&(c=Qe({},c)),e.style=St(c))}const o=Be(t)?1:Eu(t)?128:D1(t)?64:pt(t)?4:De(t)?2:0;return l(t,e,r,n,s,o,i,!0)}function Ax(t){return t?fd(t)||sx(t)?Qe({},t):t:null}function Pn(t,e,r=!1,n=!1){const{props:s,ref:i,patchFlag:o,children:a,transition:c}=t,d=e?Sx(s||{},e):s,h={__v_isVNode:!0,__v_skip:!0,type:t.type,props:d,key:d&&Tx(d),ref:e&&e.ref?r&&i?we(i)?i.concat(Zc(e)):[i,Zc(e)]:Zc(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Ee?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Pn(t.ssContent),ssFallback:t.ssFallback&&Pn(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&n&&us(h,c.clone(h)),h}function he(t=" ",e=0){return z(Ys,null,t,e)}function wt(t,e){const r=z(Oi,null,t);return r.staticCount=e,r}function ce(t="",e=!1){return e?(O(),ht(qt,null,t)):z(qt,null,t)}function qr(t){return t==null||typeof t=="boolean"?z(qt):we(t)?z(Ee,null,t.slice()):ds(t)?Ls(t):z(Ys,null,String(t))}function Ls(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Pn(t)}function em(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(we(e))r=16;else if(typeof e=="object")if(n&65){const s=e.default;s&&(s._c&&(s._d=!1),em(t,s()),s._c&&(s._d=!0));return}else{r=32;const s=e._;!s&&!sx(e)?e._ctx=Xt:s===3&&Xt&&(Xt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else De(e)?(e={default:e,_ctx:Xt},r=32):(e=String(e),n&64?(r=16,e=[he(e)]):r=8);t.children=e,t.shapeFlag|=r}function Sx(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const s in n)if(s==="class")e.class!==n.class&&(e.class=Ce([e.class,n.class]));else if(s==="style")e.style=St([e.style,n.style]);else if(Xi(s)){const i=e[s],o=n[s];o&&i!==o&&!(we(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=n[s])}return e}function Br(t,e,r,n=null){bn(t,e,7,[r,n])}const O4=ex();let D4=0;function Cx(t,e,r){const n=t.type,s=(e?e.appContext:t.appContext)||O4,i={uid:D4++,vnode:t,type:n,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new $p(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ox(n,s),emitsOptions:_x(n,s),emit:null,emitted:null,propsDefaults:Ke,inheritAttrs:n.inheritAttrs,ctx:Ke,data:Ke,props:Ke,attrs:Ke,slots:Ke,refs:Ke,setupState:Ke,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=x4.bind(null,i),t.ce&&t.ce(i),i}let Jt=null;const cn=()=>Jt||Xt;let Iu,Af;{const t=ad(),e=(r,n)=>{let s;return(s=t[r])||(s=t[r]=[]),s.push(n),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};Iu=e("__VUE_INSTANCE_SETTERS__",r=>Jt=r),Af=e("__VUE_SSR_SETTERS__",r=>Bo=r)}const Ui=t=>{const e=Jt;return Iu(t),t.scope.on(),()=>{t.scope.off(),Iu(e)}},Sf=()=>{Jt&&Jt.scope.off(),Iu(null)};function Px(t){return t.vnode.shapeFlag&4}let Bo=!1;function Rx(t,e=!1,r=!1){e&&Af(e);const{props:n,children:s}=t.vnode,i=Px(t);u4(t,n,i,e),p4(t,s,r);const o=i?M4(t,e):void 0;return e&&Af(!1),o}function M4(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,_f);const{setup:n}=r;if(n){li();const s=t.setupContext=n.length>1?Ox(t):null,i=Ui(t),o=la(n,t,0,[t.props,s]),a=Rp(o);if(ci(),i(),(a||t.sp)&&!Qs(t)&&Wp(t),a){if(o.then(Sf,Sf),e)return o.then(c=>{Cf(t,c,e)}).catch(c=>{to(c,t,0)});t.asyncDep=o}else Cf(t,o,e)}else $x(t,e)}function Cf(t,e,r){De(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:pt(e)&&(t.setupState=jp(e)),$x(t,r)}let Tu,Pf;function Nx(t){Tu=t,Pf=e=>{e.render._rc&&(e.withProxy=new Proxy(e.ctx,qT))}}const V4=()=>!Tu;function $x(t,e,r){const n=t.type;if(!t.render){if(!e&&Tu&&!n.render){const s=n.template||Jp(t).template;if(s){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:c}=n,d=Qe(Qe({isCustomElement:i,delimiters:a},o),c);n.render=Tu(s,d)}}t.render=n.render||or,Pf&&Pf(t)}{const s=Ui(t);li();try{n4(t)}finally{ci(),s()}}}const L4={get(t,e){return kr(t,"get",""),t[e]}};function Ox(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,L4),slots:t.slots,emit:t.emit,expose:e}}function Bl(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(jp(pd(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in Ya)return Ya[r](t)},has(e,r){return r in e||r in Ya}})):t.proxy}function Rf(t,e=!0){return De(t)?t.displayName||t.name:t.name||e&&t.__name}function F4(t){return De(t)&&"__vccOpts"in t}const ee=(t,e)=>iT(t,e,Bo);function vt(t,e,r){const n=arguments.length;return n===2?pt(e)&&!we(e)?ds(e)?z(t,null,[e]):z(t,e):z(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&ds(r)&&(r=[r]),z(t,e,r))}function U4(){}function j4(t,e,r,n){const s=r[n];if(s&&Dx(s,t))return s;const i=e();return i.memo=t.slice(),i.cacheIndex=n,r[n]=i}function Dx(t,e){const r=t.memo;if(r.length!=e.length)return!1;for(let n=0;n<r.length;n++)if(Vr(r[n],e[n]))return!1;return Fi>0&&Tr&&Tr.push(t),!0}const Mx="3.5.13",B4=or,q4=pT,H4=xo,z4=$1,W4={createComponentInstance:Cx,setupComponent:Rx,renderComponentRoot:Xc,setCurrentRenderingInstance:pl,isVNode:ds,normalizeVNode:qr,getComponentPublicInstance:Bl,ensureValidVNode:Yp,pushWarningContext:uT,popWarningContext:dT},K4=W4,G4=null,Q4=null,Y4=null;/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Nf;const K0=typeof window<"u"&&window.trustedTypes;if(K0)try{Nf=K0.createPolicy("vue",{createHTML:t=>t})}catch{}const Vx=Nf?t=>Nf.createHTML(t):t=>t,J4="http://www.w3.org/2000/svg",X4="http://www.w3.org/1998/Math/MathML",Zn=typeof document<"u"?document:null,G0=Zn&&Zn.createElement("template"),Z4={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const s=e==="svg"?Zn.createElementNS(J4,t):e==="mathml"?Zn.createElementNS(X4,t):r?Zn.createElement(t,{is:r}):Zn.createElement(t);return t==="select"&&n&&n.multiple!=null&&s.setAttribute("multiple",n.multiple),s},createText:t=>Zn.createTextNode(t),createComment:t=>Zn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Zn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,s,i){const o=r?r.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),r),!(s===i||!(s=s.nextSibling)););else{G0.innerHTML=Vx(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const a=G0.content;if(n==="svg"||n==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},As="transition",Sa="animation",qo=Symbol("_vtc"),Lx={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Fx=Qe({},zp,Lx),eA=t=>(t.displayName="Transition",t.props=Fx,t),zs=eA((t,{slots:e})=>vt(U1,Ux(t),e)),vi=(t,e=[])=>{we(t)?t.forEach(r=>r(...e)):t&&t(...e)},Q0=t=>t?we(t)?t.some(e=>e.length>1):t.length>1:!1;function Ux(t){const e={};for(const S in t)S in Lx||(e[S]=t[S]);if(t.css===!1)return e;const{name:r="v",type:n,duration:s,enterFromClass:i=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:c=i,appearActiveClass:d=o,appearToClass:h=a,leaveFromClass:f=`${r}-leave-from`,leaveActiveClass:p=`${r}-leave-active`,leaveToClass:y=`${r}-leave-to`}=t,b=tA(s),w=b&&b[0],x=b&&b[1],{onBeforeEnter:I,onEnter:C,onEnterCancelled:E,onLeave:R,onLeaveCancelled:A,onBeforeAppear:M=I,onAppear:T=C,onAppearCancelled:v=E}=e,m=(S,P,le,ue)=>{S._enterCancelled=ue,Ns(S,P?h:a),Ns(S,P?d:o),le&&le()},k=(S,P)=>{S._isLeaving=!1,Ns(S,f),Ns(S,y),Ns(S,p),P&&P()},N=S=>(P,le)=>{const ue=S?T:C,G=()=>m(P,S,le);vi(ue,[P,G]),Y0(()=>{Ns(P,S?c:i),On(P,S?h:a),Q0(ue)||J0(P,n,w,G)})};return Qe(e,{onBeforeEnter(S){vi(I,[S]),On(S,i),On(S,o)},onBeforeAppear(S){vi(M,[S]),On(S,c),On(S,d)},onEnter:N(!1),onAppear:N(!0),onLeave(S,P){S._isLeaving=!0;const le=()=>k(S,P);On(S,f),S._enterCancelled?(On(S,p),$f()):($f(),On(S,p)),Y0(()=>{S._isLeaving&&(Ns(S,f),On(S,y),Q0(R)||J0(S,n,x,le))}),vi(R,[S,le])},onEnterCancelled(S){m(S,!1,void 0,!0),vi(E,[S])},onAppearCancelled(S){m(S,!0,void 0,!0),vi(v,[S])},onLeaveCancelled(S){k(S),vi(A,[S])}})}function tA(t){if(t==null)return null;if(pt(t))return[Mh(t.enter),Mh(t.leave)];{const e=Mh(t);return[e,e]}}function Mh(t){return gu(t)}function On(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[qo]||(t[qo]=new Set)).add(e)}function Ns(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const r=t[qo];r&&(r.delete(e),r.size||(t[qo]=void 0))}function Y0(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let rA=0;function J0(t,e,r,n){const s=t._endId=++rA,i=()=>{s===t._endId&&n()};if(r!=null)return setTimeout(i,r);const{type:o,timeout:a,propCount:c}=jx(t,e);if(!o)return n();const d=o+"end";let h=0;const f=()=>{t.removeEventListener(d,p),i()},p=y=>{y.target===t&&++h>=c&&f()};setTimeout(()=>{h<c&&f()},a+1),t.addEventListener(d,p)}function jx(t,e){const r=window.getComputedStyle(t),n=b=>(r[b]||"").split(", "),s=n(`${As}Delay`),i=n(`${As}Duration`),o=X0(s,i),a=n(`${Sa}Delay`),c=n(`${Sa}Duration`),d=X0(a,c);let h=null,f=0,p=0;e===As?o>0&&(h=As,f=o,p=i.length):e===Sa?d>0&&(h=Sa,f=d,p=c.length):(f=Math.max(o,d),h=f>0?o>d?As:Sa:null,p=h?h===As?i.length:c.length:0);const y=h===As&&/\b(transform|all)(,|$)/.test(n(`${As}Property`).toString());return{type:h,timeout:f,propCount:p,hasTransform:y}}function X0(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,n)=>Z0(r)+Z0(t[n])))}function Z0(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function $f(){return document.body.offsetHeight}function nA(t,e,r){const n=t[qo];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const Au=Symbol("_vod"),Bx=Symbol("_vsh"),tm={beforeMount(t,{value:e},{transition:r}){t[Au]=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):Ca(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:n}){!e!=!r&&(n?e?(n.beforeEnter(t),Ca(t,!0),n.enter(t)):n.leave(t,()=>{Ca(t,!1)}):Ca(t,e))},beforeUnmount(t,{value:e}){Ca(t,e)}};function Ca(t,e){t.style.display=e?t[Au]:"none",t[Bx]=!e}function sA(){tm.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const qx=Symbol("");function iA(t){const e=cn();if(!e)return;const r=e.ut=(s=t(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(i=>Su(i,s))},n=()=>{const s=t(e.proxy);e.ce?Su(e.ce,s):Of(e.subTree,s),r(s)};Kp(()=>{hl(n)}),Ue(()=>{Rt(n,or,{flush:"post"});const s=new MutationObserver(n);s.observe(e.subTree.el.parentNode,{childList:!0}),Kt(()=>s.disconnect())})}function Of(t,e){if(t.shapeFlag&128){const r=t.suspense;t=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{Of(r.activeBranch,e)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)Su(t.el,e);else if(t.type===Ee)t.children.forEach(r=>Of(r,e));else if(t.type===Oi){let{el:r,anchor:n}=t;for(;r&&(Su(r,e),r!==n);)r=r.nextSibling}}function Su(t,e){if(t.nodeType===1){const r=t.style;let n="";for(const s in e)r.setProperty(`--${s}`,e[s]),n+=`--${s}: ${e[s]};`;r[qx]=n}}const oA=/(^|;)\s*display\s*:/;function aA(t,e,r){const n=t.style,s=Be(r);let i=!1;if(r&&!s){if(e)if(Be(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&eu(n,a,"")}else for(const o in e)r[o]==null&&eu(n,o,"");for(const o in r)o==="display"&&(i=!0),eu(n,o,r[o])}else if(s){if(e!==r){const o=n[qx];o&&(r+=";"+o),n.cssText=r,i=oA.test(r)}}else e&&t.removeAttribute("style");Au in t&&(t[Au]=i?n.display:"",t[Bx]&&(n.display="none"))}const ey=/\s*!important$/;function eu(t,e,r){if(we(r))r.forEach(n=>eu(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=lA(t,e);ey.test(r)?t.setProperty(Hr(n),r.replace(ey,""),"important"):t[n]=r}}const ty=["Webkit","Moz","ms"],Vh={};function lA(t,e){const r=Vh[e];if(r)return r;let n=Et(e);if(n!=="filter"&&n in t)return Vh[e]=n;n=eo(n);for(let s=0;s<ty.length;s++){const i=ty[s]+n;if(i in t)return Vh[e]=i}return e}const ry="http://www.w3.org/1999/xlink";function ny(t,e,r,n,s,i=AI(e)){n&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(ry,e.slice(6,e.length)):t.setAttributeNS(ry,e,r):r==null||i&&!s1(r)?t.removeAttribute(e):t.setAttribute(e,i?"":Gr(r)?String(r):r)}function sy(t,e,r,n,s){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?Vx(r):r);return}const i=t.tagName;if(e==="value"&&i!=="PROGRESS"&&!i.includes("-")){const a=i==="OPTION"?t.getAttribute("value")||"":t.value,c=r==null?t.type==="checkbox"?"on":"":String(r);(a!==c||!("_value"in t))&&(t.value=c),r==null&&t.removeAttribute(e),t._value=r;return}let o=!1;if(r===""||r==null){const a=typeof t[e];a==="boolean"?r=s1(r):r==null&&a==="string"?(r="",o=!0):a==="number"&&(r=0,o=!0)}try{t[e]=r}catch{}o&&t.removeAttribute(s||e)}function rs(t,e,r,n){t.addEventListener(e,r,n)}function cA(t,e,r,n){t.removeEventListener(e,r,n)}const iy=Symbol("_vei");function uA(t,e,r,n,s=null){const i=t[iy]||(t[iy]={}),o=i[e];if(n&&o)o.value=n;else{const[a,c]=dA(e);if(n){const d=i[e]=pA(n,s);rs(t,a,d,c)}else o&&(cA(t,a,o,c),i[e]=void 0)}}const oy=/(?:Once|Passive|Capture)$/;function dA(t){let e;if(oy.test(t)){e={};let n;for(;n=t.match(oy);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Hr(t.slice(2)),e]}let Lh=0;const hA=Promise.resolve(),fA=()=>Lh||(hA.then(()=>Lh=0),Lh=Date.now());function pA(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;bn(mA(n,r.value),e,5,[n])};return r.value=t,r.attached=fA(),r}function mA(t,e){if(we(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>s=>!s._stopped&&n&&n(s))}else return e}const ay=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,gA=(t,e,r,n,s,i)=>{const o=s==="svg";e==="class"?nA(t,n,o):e==="style"?aA(t,r,n):Xi(e)?Cp(e)||uA(t,e,r,n,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):yA(t,e,n,o))?(sy(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&ny(t,e,n,o,i,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Be(n))?sy(t,Et(e),n,i,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),ny(t,e,n,o))};function yA(t,e,r,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&ay(e)&&De(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return ay(e)&&Be(r)?!1:e in t}const ly={};/*! #__NO_SIDE_EFFECTS__ */function Hx(t,e,r){const n=Ze(t,e);id(n)&&Qe(n,e);class s extends kd{constructor(o){super(n,o,r)}}return s.def=n,s}/*! #__NO_SIDE_EFFECTS__ */const vA=(t,e)=>Hx(t,e,r_),bA=typeof HTMLElement<"u"?HTMLElement:class{};class kd extends bA{constructor(e,r={},n=Pu){super(),this._def=e,this._props=r,this._createApp=n,this._isVueCE=!0,this._instance=null,this._app=null,this._nonce=this._def.nonce,this._connected=!1,this._resolved=!1,this._numberProps=null,this._styleChildren=new WeakSet,this._ob=null,this.shadowRoot&&n!==Pu?this._root=this.shadowRoot:e.shadowRoot!==!1?(this.attachShadow({mode:"open"}),this._root=this.shadowRoot):this._root=this,this._def.__asyncLoader||this._resolveProps(this._def)}connectedCallback(){if(!this.isConnected)return;this.shadowRoot||this._parseSlots(),this._connected=!0;let e=this;for(;e=e&&(e.parentNode||e.host);)if(e instanceof kd){this._parent=e;break}this._instance||(this._resolved?(this._setParent(),this._update()):e&&e._pendingResolve?this._pendingResolve=e._pendingResolve.then(()=>{this._pendingResolve=void 0,this._resolveDef()}):this._resolveDef())}_setParent(e=this._parent){e&&(this._instance.parent=e._instance,this._instance.provides=e._instance.provides)}disconnectedCallback(){this._connected=!1,ar(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),this._app&&this._app.unmount(),this._instance&&(this._instance.ce=void 0),this._app=this._instance=null)})}_resolveDef(){if(this._pendingResolve)return;for(let n=0;n<this.attributes.length;n++)this._setAttr(this.attributes[n].name);this._ob=new MutationObserver(n=>{for(const s of n)this._setAttr(s.attributeName)}),this._ob.observe(this,{attributes:!0});const e=(n,s=!1)=>{this._resolved=!0,this._pendingResolve=void 0;const{props:i,styles:o}=n;let a;if(i&&!we(i))for(const c in i){const d=i[c];(d===Number||d&&d.type===Number)&&(c in this._props&&(this._props[c]=gu(this._props[c])),(a||(a=Object.create(null)))[Et(c)]=!0)}this._numberProps=a,s&&this._resolveProps(n),this.shadowRoot&&this._applyStyles(o),this._mount(n)},r=this._def.__asyncLoader;r?this._pendingResolve=r().then(n=>e(this._def=n,!0)):e(this._def)}_mount(e){this._app=this._createApp(e),e.configureApp&&e.configureApp(this._app),this._app._ceVNode=this._createVNode(),this._app.mount(this._root);const r=this._instance&&this._instance.exposed;if(r)for(const n in r)ct(this,n)||Object.defineProperty(this,n,{get:()=>H(r[n])})}_resolveProps(e){const{props:r}=e,n=we(r)?r:Object.keys(r||{});for(const s of Object.keys(this))s[0]!=="_"&&n.includes(s)&&this._setProp(s,this[s]);for(const s of n.map(Et))Object.defineProperty(this,s,{get(){return this._getProp(s)},set(i){this._setProp(s,i,!0,!0)}})}_setAttr(e){if(e.startsWith("data-v-"))return;const r=this.hasAttribute(e);let n=r?this.getAttribute(e):ly;const s=Et(e);r&&this._numberProps&&this._numberProps[s]&&(n=gu(n)),this._setProp(s,n,!1,!0)}_getProp(e){return this._props[e]}_setProp(e,r,n=!0,s=!1){if(r!==this._props[e]&&(r===ly?delete this._props[e]:(this._props[e]=r,e==="key"&&this._app&&(this._app._ceVNode.key=r)),s&&this._instance&&this._update(),n)){const i=this._ob;i&&i.disconnect(),r===!0?this.setAttribute(Hr(e),""):typeof r=="string"||typeof r=="number"?this.setAttribute(Hr(e),r+""):r||this.removeAttribute(Hr(e)),i&&i.observe(this,{attributes:!0})}}_update(){t_(this._createVNode(),this._root)}_createVNode(){const e={};this.shadowRoot||(e.onVnodeMounted=e.onVnodeUpdated=this._renderSlots.bind(this));const r=z(this._def,Qe(e,this._props));return this._instance||(r.ce=n=>{this._instance=n,n.ce=this,n.isCE=!0;const s=(i,o)=>{this.dispatchEvent(new CustomEvent(i,id(o[0])?Qe({detail:o},o[0]):{detail:o}))};n.emit=(i,...o)=>{s(i,o),Hr(i)!==i&&s(Hr(i),o)},this._setParent()}),r}_applyStyles(e,r){if(!e)return;if(r){if(r===this._def||this._styleChildren.has(r))return;this._styleChildren.add(r)}const n=this._nonce;for(let s=e.length-1;s>=0;s--){const i=document.createElement("style");n&&i.setAttribute("nonce",n),i.textContent=e[s],this.shadowRoot.prepend(i)}}_parseSlots(){const e=this._slots={};let r;for(;r=this.firstChild;){const n=r.nodeType===1&&r.getAttribute("slot")||"default";(e[n]||(e[n]=[])).push(r),this.removeChild(r)}}_renderSlots(){const e=(this._teleportTarget||this).querySelectorAll("slot"),r=this._instance.type.__scopeId;for(let n=0;n<e.length;n++){const s=e[n],i=s.getAttribute("name")||"default",o=this._slots[i],a=s.parentNode;if(o)for(const c of o){if(r&&c.nodeType===1){const d=r+"-s",h=document.createTreeWalker(c,1);c.setAttribute(d,"");let f;for(;f=h.nextNode();)f.setAttribute(d,"")}a.insertBefore(c,s)}else for(;s.firstChild;)a.insertBefore(s.firstChild,s);a.removeChild(s)}}_injectChildStyle(e){this._applyStyles(e.styles,e)}_removeChildStyle(e){}}function zx(t){const e=cn(),r=e&&e.ce;return r||null}function xA(){const t=zx();return t&&t.shadowRoot}function _A(t="$style"){{const e=cn();if(!e)return Ke;const r=e.type.__cssModules;if(!r)return Ke;const n=r[t];return n||Ke}}const Wx=new WeakMap,Kx=new WeakMap,Cu=Symbol("_moveCb"),cy=Symbol("_enterCb"),wA=t=>(delete t.props.mode,t),kA=wA({name:"TransitionGroup",props:Qe({},Fx,{tag:String,moveClass:String}),setup(t,{slots:e}){const r=cn(),n=Hp();let s,i;return bd(()=>{if(!s.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!AA(s[0].el,r.vnode.el,o))return;s.forEach(EA),s.forEach(IA);const a=s.filter(TA);$f(),a.forEach(c=>{const d=c.el,h=d.style;On(d,o),h.transform=h.webkitTransform=h.transitionDuration="";const f=d[Cu]=p=>{p&&p.target!==d||(!p||/transform$/.test(p.propertyName))&&(d.removeEventListener("transitionend",f),d[Cu]=null,Ns(d,o))};d.addEventListener("transitionend",f)})}),()=>{const o=We(t),a=Ux(o);let c=o.tag||Ee;if(s=[],i)for(let d=0;d<i.length;d++){const h=i[d];h.el&&h.el instanceof Element&&(s.push(h),us(h,jo(h,a,n,r)),Wx.set(h,h.el.getBoundingClientRect()))}i=e.default?yd(e.default()):[];for(let d=0;d<i.length;d++){const h=i[d];h.key!=null&&us(h,jo(h,a,n,r))}return z(c,null,i)}}}),Gx=kA;function EA(t){const e=t.el;e[Cu]&&e[Cu](),e[cy]&&e[cy]()}function IA(t){Kx.set(t,t.el.getBoundingClientRect())}function TA(t){const e=Wx.get(t),r=Kx.get(t),n=e.left-r.left,s=e.top-r.top;if(n||s){const i=t.el.style;return i.transform=i.webkitTransform=`translate(${n}px,${s}px)`,i.transitionDuration="0s",t}}function AA(t,e,r){const n=t.cloneNode(),s=t[qo];s&&s.forEach(a=>{a.split(/\s+/).forEach(c=>c&&n.classList.remove(c))}),r.split(/\s+/).forEach(a=>a&&n.classList.add(a)),n.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(n);const{hasTransform:o}=jx(n);return i.removeChild(n),o}const si=t=>{const e=t.props["onUpdate:modelValue"]||!1;return we(e)?r=>Oo(e,r):e};function SA(t){t.target.composing=!0}function uy(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const vn=Symbol("_assign"),Pe={created(t,{modifiers:{lazy:e,trim:r,number:n}},s){t[vn]=si(s);const i=n||s.props&&s.props.type==="number";rs(t,e?"change":"input",o=>{if(o.target.composing)return;let a=t.value;r&&(a=a.trim()),i&&(a=mu(a)),t[vn](a)}),r&&rs(t,"change",()=>{t.value=t.value.trim()}),e||(rs(t,"compositionstart",SA),rs(t,"compositionend",uy),rs(t,"change",uy))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:r,modifiers:{lazy:n,trim:s,number:i}},o){if(t[vn]=si(o),t.composing)return;const a=(i||t.type==="number")&&!/^0\d/.test(t.value)?mu(t.value):t.value,c=e??"";a!==c&&(document.activeElement===t&&t.type!=="range"&&(n&&e===r||s&&t.value.trim()===c)||(t.value=c))}},os={deep:!0,created(t,e,r){t[vn]=si(r),rs(t,"change",()=>{const n=t._modelValue,s=Ho(t),i=t.checked,o=t[vn];if(we(n)){const a=ld(n,s),c=a!==-1;if(i&&!c)o(n.concat(s));else if(!i&&c){const d=[...n];d.splice(a,1),o(d)}}else if(Zi(n)){const a=new Set(n);i?a.add(s):a.delete(s),o(a)}else o(Qx(t,i))})},mounted:dy,beforeUpdate(t,e,r){t[vn]=si(r),dy(t,e,r)}};function dy(t,{value:e,oldValue:r},n){t._modelValue=e;let s;if(we(e))s=ld(e,n.props.value)>-1;else if(Zi(e))s=e.has(n.props.value);else{if(e===r)return;s=ri(e,Qx(t,!0))}t.checked!==s&&(t.checked=s)}const rm={created(t,{value:e},r){t.checked=ri(e,r.props.value),t[vn]=si(r),rs(t,"change",()=>{t[vn](Ho(t))})},beforeUpdate(t,{value:e,oldValue:r},n){t[vn]=si(n),e!==r&&(t.checked=ri(e,n.props.value))}},Ln={deep:!0,created(t,{value:e,modifiers:{number:r}},n){const s=Zi(e);rs(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>r?mu(Ho(o)):Ho(o));t[vn](t.multiple?s?new Set(i):i:i[0]),t._assigning=!0,ar(()=>{t._assigning=!1})}),t[vn]=si(n)},mounted(t,{value:e}){hy(t,e)},beforeUpdate(t,e,r){t[vn]=si(r)},updated(t,{value:e}){t._assigning||hy(t,e)}};function hy(t,e){const r=t.multiple,n=we(e);if(!(r&&!n&&!Zi(e))){for(let s=0,i=t.options.length;s<i;s++){const o=t.options[s],a=Ho(o);if(r)if(n){const c=typeof a;c==="string"||c==="number"?o.selected=e.some(d=>String(d)===String(a)):o.selected=ld(e,a)>-1}else o.selected=e.has(a);else if(ri(Ho(o),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!r&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function Ho(t){return"_value"in t?t._value:t.value}function Qx(t,e){const r=e?"_trueValue":"_falseValue";return r in t?t[r]:e}const Yx={created(t,e,r){Mc(t,e,r,null,"created")},mounted(t,e,r){Mc(t,e,r,null,"mounted")},beforeUpdate(t,e,r,n){Mc(t,e,r,n,"beforeUpdate")},updated(t,e,r,n){Mc(t,e,r,n,"updated")}};function Jx(t,e){switch(t){case"SELECT":return Ln;case"TEXTAREA":return Pe;default:switch(e){case"checkbox":return os;case"radio":return rm;default:return Pe}}}function Mc(t,e,r,n,s){const o=Jx(t.tagName,r.props&&r.props.type)[s];o&&o(t,e,r,n)}function CA(){Pe.getSSRProps=({value:t})=>({value:t}),rm.getSSRProps=({value:t},e)=>{if(e.props&&ri(e.props.value,t))return{checked:!0}},os.getSSRProps=({value:t},e)=>{if(we(t)){if(e.props&&ld(t,e.props.value)>-1)return{checked:!0}}else if(Zi(t)){if(e.props&&t.has(e.props.value))return{checked:!0}}else if(t)return{checked:!0}},Yx.getSSRProps=(t,e)=>{if(typeof e.type!="string")return;const r=Jx(e.type.toUpperCase(),e.props&&e.props.type);if(r.getSSRProps)return r.getSSRProps(t,e)}}const PA=["ctrl","shift","alt","meta"],RA={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>PA.some(r=>t[`${r}Key`]&&!e.includes(r))},Ar=(t,e)=>{const r=t._withMods||(t._withMods={}),n=e.join(".");return r[n]||(r[n]=(s,...i)=>{for(let o=0;o<e.length;o++){const a=RA[e[o]];if(a&&a(s,e))return}return t(s,...i)})},NA={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},$A=(t,e)=>{const r=t._withKeys||(t._withKeys={}),n=e.join(".");return r[n]||(r[n]=s=>{if(!("key"in s))return;const i=Hr(s.key);if(e.some(o=>o===i||NA[o]===i))return t(s)})},Xx=Qe({patchProp:gA},Z4);let Xa,fy=!1;function Zx(){return Xa||(Xa=dx(Xx))}function e_(){return Xa=fy?Xa:hx(Xx),fy=!0,Xa}const t_=(...t)=>{Zx().render(...t)},OA=(...t)=>{e_().hydrate(...t)},Pu=(...t)=>{const e=Zx().createApp(...t),{mount:r}=e;return e.mount=n=>{const s=s_(n);if(!s)return;const i=e._component;!De(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.nodeType===1&&(s.textContent="");const o=r(s,!1,n_(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e},r_=(...t)=>{const e=e_().createApp(...t),{mount:r}=e;return e.mount=n=>{const s=s_(n);if(s)return r(s,!0,n_(s))},e};function n_(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function s_(t){return Be(t)?document.querySelector(t):t}let py=!1;const DA=()=>{py||(py=!0,CA(),sA())},MA=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:U1,BaseTransitionPropsValidators:zp,Comment:qt,DeprecationTypes:Y4,EffectScope:$p,ErrorCodes:fT,ErrorTypeStrings:q4,Fragment:Ee,KeepAlive:VT,ReactiveEffect:cl,Static:Oi,Suspense:T4,Teleport:qp,Text:Ys,TrackOpTypes:oT,Transition:zs,TransitionGroup:Gx,TriggerOpTypes:aT,VueElement:kd,assertNumber:hT,callWithAsyncErrorHandling:bn,callWithErrorHandling:la,camelize:Et,capitalize:eo,cloneVNode:Pn,compatUtils:Q4,computed:ee,createApp:Pu,createBlock:ht,createCommentVNode:ce,createElementBlock:V,createElementVNode:l,createHydrationRenderer:hx,createPropsRestProxy:t4,createRenderer:dx,createSSRApp:r_,createSlots:jT,createStaticVNode:wt,createTextVNode:he,createVNode:z,customRef:E1,defineAsyncComponent:DT,defineComponent:Ze,defineCustomElement:Hx,defineEmits:zT,defineExpose:WT,defineModel:QT,defineOptions:KT,defineProps:HT,defineSSRCustomElement:vA,defineSlots:GT,devtools:H4,effect:PI,effectScope:Op,getCurrentInstance:cn,getCurrentScope:Dp,getCurrentWatcher:lT,getTransitionRawChildren:yd,guardReactiveProps:Ax,h:vt,handleError:to,hasInjectionContext:tx,hydrate:OA,hydrateOnIdle:CT,hydrateOnInteraction:$T,hydrateOnMediaQuery:NT,hydrateOnVisible:RT,initCustomFormatter:U4,initDirectivesForSSR:DA,inject:ot,isMemoSame:Dx,isProxy:fd,isReactive:Sn,isReadonly:ni,isRef:Ct,isRuntimeOnly:V4,isShallow:sn,isVNode:ds,markRaw:pd,mergeDefaults:ZT,mergeModels:e4,mergeProps:Sx,nextTick:ar,normalizeClass:Ce,normalizeProps:yI,normalizeStyle:St,onActivated:q1,onBeforeMount:W1,onBeforeUnmount:ui,onBeforeUpdate:Kp,onDeactivated:H1,onErrorCaptured:Y1,onMounted:Ue,onRenderTracked:Q1,onRenderTriggered:G1,onScopeDispose:a1,onServerPrefetch:K1,onUnmounted:Kt,onUpdated:bd,onWatcherCleanup:S1,openBlock:O,popScopeId:vT,provide:zt,proxyRefs:jp,pushScopeId:yT,queuePostFlushCb:hl,reactive:Qr,readonly:Up,ref:q,registerRuntimeCompiler:Nx,render:t_,renderList:He,renderSlot:_u,resolveComponent:Rr,resolveDirective:UT,resolveDynamicComponent:xd,resolveFilter:G4,resolveTransitionHooks:jo,setBlockTracking:Tf,setDevtoolsHook:z4,setTransitionHooks:us,shallowReactive:Fp,shallowReadonly:YI,shallowRef:md,ssrContextKey:gx,ssrUtils:K4,stop:RI,toDisplayString:W,toHandlerKey:$o,toHandlers:BT,toRaw:We,toRef:T1,toRefs:I1,toValue:ZI,transformVNodeArgs:N4,triggerRef:XI,unref:H,useAttrs:XT,useCssModule:_A,useCssVars:iA,useHost:zx,useId:B1,useModel:b4,useSSRContext:yx,useShadowRoot:xA,useSlots:JT,useTemplateRef:wT,useTransitionState:Hp,vModelCheckbox:os,vModelDynamic:Yx,vModelRadio:rm,vModelSelect:Ln,vModelText:Pe,vShow:tm,version:Mx,warn:B4,watch:Rt,watchEffect:ur,watchPostEffect:y4,watchSyncEffect:vx,withAsyncContext:r4,withCtx:Z,withDefaults:YT,withDirectives:xe,withKeys:$A,withMemo:j4,withModifiers:Ar,withScopeId:bT},Symbol.toStringTag,{value:"Module"}));/**
* @vue/compiler-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const vl=Symbol(""),Za=Symbol(""),nm=Symbol(""),Ru=Symbol(""),i_=Symbol(""),ji=Symbol(""),o_=Symbol(""),a_=Symbol(""),sm=Symbol(""),im=Symbol(""),ql=Symbol(""),om=Symbol(""),l_=Symbol(""),am=Symbol(""),lm=Symbol(""),cm=Symbol(""),um=Symbol(""),dm=Symbol(""),hm=Symbol(""),c_=Symbol(""),u_=Symbol(""),Ed=Symbol(""),Nu=Symbol(""),fm=Symbol(""),pm=Symbol(""),bl=Symbol(""),Hl=Symbol(""),mm=Symbol(""),Df=Symbol(""),VA=Symbol(""),Mf=Symbol(""),$u=Symbol(""),LA=Symbol(""),FA=Symbol(""),gm=Symbol(""),UA=Symbol(""),jA=Symbol(""),ym=Symbol(""),d_=Symbol(""),zo={[vl]:"Fragment",[Za]:"Teleport",[nm]:"Suspense",[Ru]:"KeepAlive",[i_]:"BaseTransition",[ji]:"openBlock",[o_]:"createBlock",[a_]:"createElementBlock",[sm]:"createVNode",[im]:"createElementVNode",[ql]:"createCommentVNode",[om]:"createTextVNode",[l_]:"createStaticVNode",[am]:"resolveComponent",[lm]:"resolveDynamicComponent",[cm]:"resolveDirective",[um]:"resolveFilter",[dm]:"withDirectives",[hm]:"renderList",[c_]:"renderSlot",[u_]:"createSlots",[Ed]:"toDisplayString",[Nu]:"mergeProps",[fm]:"normalizeClass",[pm]:"normalizeStyle",[bl]:"normalizeProps",[Hl]:"guardReactiveProps",[mm]:"toHandlers",[Df]:"camelize",[VA]:"capitalize",[Mf]:"toHandlerKey",[$u]:"setBlockTracking",[LA]:"pushScopeId",[FA]:"popScopeId",[gm]:"withCtx",[UA]:"unref",[jA]:"isRef",[ym]:"withMemo",[d_]:"isMemoSame"};function BA(t){Object.getOwnPropertySymbols(t).forEach(e=>{zo[e]=t[e]})}const un={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0},source:""};function qA(t,e=""){return{type:0,source:e,children:t,helpers:new Set,components:[],directives:[],hoists:[],imports:[],cached:[],temps:0,codegenNode:void 0,loc:un}}function xl(t,e,r,n,s,i,o,a=!1,c=!1,d=!1,h=un){return t&&(a?(t.helper(ji),t.helper(Go(t.inSSR,d))):t.helper(Ko(t.inSSR,d)),o&&t.helper(dm)),{type:13,tag:e,props:r,children:n,patchFlag:s,dynamicProps:i,directives:o,isBlock:a,disableTracking:c,isComponent:d,loc:h}}function Di(t,e=un){return{type:17,loc:e,elements:t}}function gn(t,e=un){return{type:15,loc:e,properties:t}}function Ft(t,e){return{type:16,loc:un,key:Be(t)?ze(t,!0):t,value:e}}function ze(t,e=!1,r=un,n=0){return{type:4,loc:r,content:t,isStatic:e,constType:e?3:n}}function Cn(t,e=un){return{type:8,loc:e,children:t}}function Yt(t,e=[],r=un){return{type:14,loc:r,callee:t,arguments:e}}function Wo(t,e=void 0,r=!1,n=!1,s=un){return{type:18,params:t,returns:e,newline:r,isSlot:n,loc:s}}function Vf(t,e,r,n=!0){return{type:19,test:t,consequent:e,alternate:r,newline:n,loc:un}}function HA(t,e,r=!1,n=!1){return{type:20,index:t,value:e,needPauseTracking:r,inVOnce:n,needArraySpread:!1,loc:un}}function zA(t){return{type:21,body:t,loc:un}}function Ko(t,e){return t||e?sm:im}function Go(t,e){return t||e?o_:a_}function vm(t,{helper:e,removeHelper:r,inSSR:n}){t.isBlock||(t.isBlock=!0,r(Ko(n,t.isComponent)),e(ji),e(Go(n,t.isComponent)))}const my=new Uint8Array([123,123]),gy=new Uint8Array([125,125]);function yy(t){return t>=97&&t<=122||t>=65&&t<=90}function Zr(t){return t===32||t===10||t===9||t===12||t===13}function Ss(t){return t===47||t===62||Zr(t)}function Ou(t){const e=new Uint8Array(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}const vr={Cdata:new Uint8Array([67,68,65,84,65,91]),CdataEnd:new Uint8Array([93,93,62]),CommentEnd:new Uint8Array([45,45,62]),ScriptEnd:new Uint8Array([60,47,115,99,114,105,112,116]),StyleEnd:new Uint8Array([60,47,115,116,121,108,101]),TitleEnd:new Uint8Array([60,47,116,105,116,108,101]),TextareaEnd:new Uint8Array([60,47,116,101,120,116,97,114,101,97])};class WA{constructor(e,r){this.stack=e,this.cbs=r,this.state=1,this.buffer="",this.sectionStart=0,this.index=0,this.entityStart=0,this.baseState=1,this.inRCDATA=!1,this.inXML=!1,this.inVPre=!1,this.newlines=[],this.mode=0,this.delimiterOpen=my,this.delimiterClose=gy,this.delimiterIndex=-1,this.currentSequence=void 0,this.sequenceIndex=0}get inSFCRoot(){return this.mode===2&&this.stack.length===0}reset(){this.state=1,this.mode=0,this.buffer="",this.sectionStart=0,this.index=0,this.baseState=1,this.inRCDATA=!1,this.currentSequence=void 0,this.newlines.length=0,this.delimiterOpen=my,this.delimiterClose=gy}getPos(e){let r=1,n=e+1;for(let s=this.newlines.length-1;s>=0;s--){const i=this.newlines[s];if(e>i){r=s+2,n=e-i;break}}return{column:n,line:r,offset:e}}peek(){return this.buffer.charCodeAt(this.index+1)}stateText(e){e===60?(this.index>this.sectionStart&&this.cbs.ontext(this.sectionStart,this.index),this.state=5,this.sectionStart=this.index):!this.inVPre&&e===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e))}stateInterpolationOpen(e){if(e===this.delimiterOpen[this.delimiterIndex])if(this.delimiterIndex===this.delimiterOpen.length-1){const r=this.index+1-this.delimiterOpen.length;r>this.sectionStart&&this.cbs.ontext(this.sectionStart,r),this.state=3,this.sectionStart=r}else this.delimiterIndex++;else this.inRCDATA?(this.state=32,this.stateInRCDATA(e)):(this.state=1,this.stateText(e))}stateInterpolation(e){e===this.delimiterClose[0]&&(this.state=4,this.delimiterIndex=0,this.stateInterpolationClose(e))}stateInterpolationClose(e){e===this.delimiterClose[this.delimiterIndex]?this.delimiterIndex===this.delimiterClose.length-1?(this.cbs.oninterpolation(this.sectionStart,this.index+1),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):this.delimiterIndex++:(this.state=3,this.stateInterpolation(e))}stateSpecialStartSequence(e){const r=this.sequenceIndex===this.currentSequence.length;if(!(r?Ss(e):(e|32)===this.currentSequence[this.sequenceIndex]))this.inRCDATA=!1;else if(!r){this.sequenceIndex++;return}this.sequenceIndex=0,this.state=6,this.stateInTagName(e)}stateInRCDATA(e){if(this.sequenceIndex===this.currentSequence.length){if(e===62||Zr(e)){const r=this.index-this.currentSequence.length;if(this.sectionStart<r){const n=this.index;this.index=r,this.cbs.ontext(this.sectionStart,r),this.index=n}this.sectionStart=r+2,this.stateInClosingTagName(e),this.inRCDATA=!1;return}this.sequenceIndex=0}(e|32)===this.currentSequence[this.sequenceIndex]?this.sequenceIndex+=1:this.sequenceIndex===0?this.currentSequence===vr.TitleEnd||this.currentSequence===vr.TextareaEnd&&!this.inSFCRoot?!this.inVPre&&e===this.delimiterOpen[0]&&(this.state=2,this.delimiterIndex=0,this.stateInterpolationOpen(e)):this.fastForwardTo(60)&&(this.sequenceIndex=1):this.sequenceIndex=+(e===60)}stateCDATASequence(e){e===vr.Cdata[this.sequenceIndex]?++this.sequenceIndex===vr.Cdata.length&&(this.state=28,this.currentSequence=vr.CdataEnd,this.sequenceIndex=0,this.sectionStart=this.index+1):(this.sequenceIndex=0,this.state=23,this.stateInDeclaration(e))}fastForwardTo(e){for(;++this.index<this.buffer.length;){const r=this.buffer.charCodeAt(this.index);if(r===10&&this.newlines.push(this.index),r===e)return!0}return this.index=this.buffer.length-1,!1}stateInCommentLike(e){e===this.currentSequence[this.sequenceIndex]?++this.sequenceIndex===this.currentSequence.length&&(this.currentSequence===vr.CdataEnd?this.cbs.oncdata(this.sectionStart,this.index-2):this.cbs.oncomment(this.sectionStart,this.index-2),this.sequenceIndex=0,this.sectionStart=this.index+1,this.state=1):this.sequenceIndex===0?this.fastForwardTo(this.currentSequence[0])&&(this.sequenceIndex=1):e!==this.currentSequence[this.sequenceIndex-1]&&(this.sequenceIndex=0)}startSpecial(e,r){this.enterRCDATA(e,r),this.state=31}enterRCDATA(e,r){this.inRCDATA=!0,this.currentSequence=e,this.sequenceIndex=r}stateBeforeTagName(e){e===33?(this.state=22,this.sectionStart=this.index+1):e===63?(this.state=24,this.sectionStart=this.index+1):yy(e)?(this.sectionStart=this.index,this.mode===0?this.state=6:this.inSFCRoot?this.state=34:this.inXML?this.state=6:e===116?this.state=30:this.state=e===115?29:6):e===47?this.state=8:(this.state=1,this.stateText(e))}stateInTagName(e){Ss(e)&&this.handleTagName(e)}stateInSFCRootTagName(e){if(Ss(e)){const r=this.buffer.slice(this.sectionStart,this.index);r!=="template"&&this.enterRCDATA(Ou("</"+r),0),this.handleTagName(e)}}handleTagName(e){this.cbs.onopentagname(this.sectionStart,this.index),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)}stateBeforeClosingTagName(e){Zr(e)||(e===62?(this.state=1,this.sectionStart=this.index+1):(this.state=yy(e)?9:27,this.sectionStart=this.index))}stateInClosingTagName(e){(e===62||Zr(e))&&(this.cbs.onclosetag(this.sectionStart,this.index),this.sectionStart=-1,this.state=10,this.stateAfterClosingTagName(e))}stateAfterClosingTagName(e){e===62&&(this.state=1,this.sectionStart=this.index+1)}stateBeforeAttrName(e){e===62?(this.cbs.onopentagend(this.index),this.inRCDATA?this.state=32:this.state=1,this.sectionStart=this.index+1):e===47?this.state=7:e===60&&this.peek()===47?(this.cbs.onopentagend(this.index),this.state=5,this.sectionStart=this.index):Zr(e)||this.handleAttrStart(e)}handleAttrStart(e){e===118&&this.peek()===45?(this.state=13,this.sectionStart=this.index):e===46||e===58||e===64||e===35?(this.cbs.ondirname(this.index,this.index+1),this.state=14,this.sectionStart=this.index+1):(this.state=12,this.sectionStart=this.index)}stateInSelfClosingTag(e){e===62?(this.cbs.onselfclosingtag(this.index),this.state=1,this.sectionStart=this.index+1,this.inRCDATA=!1):Zr(e)||(this.state=11,this.stateBeforeAttrName(e))}stateInAttrName(e){(e===61||Ss(e))&&(this.cbs.onattribname(this.sectionStart,this.index),this.handleAttrNameEnd(e))}stateInDirName(e){e===61||Ss(e)?(this.cbs.ondirname(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===58?(this.cbs.ondirname(this.sectionStart,this.index),this.state=14,this.sectionStart=this.index+1):e===46&&(this.cbs.ondirname(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDirArg(e){e===61||Ss(e)?(this.cbs.ondirarg(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===91?this.state=15:e===46&&(this.cbs.ondirarg(this.sectionStart,this.index),this.state=16,this.sectionStart=this.index+1)}stateInDynamicDirArg(e){e===93?this.state=14:(e===61||Ss(e))&&(this.cbs.ondirarg(this.sectionStart,this.index+1),this.handleAttrNameEnd(e))}stateInDirModifier(e){e===61||Ss(e)?(this.cbs.ondirmodifier(this.sectionStart,this.index),this.handleAttrNameEnd(e)):e===46&&(this.cbs.ondirmodifier(this.sectionStart,this.index),this.sectionStart=this.index+1)}handleAttrNameEnd(e){this.sectionStart=this.index,this.state=17,this.cbs.onattribnameend(this.index),this.stateAfterAttrName(e)}stateAfterAttrName(e){e===61?this.state=18:e===47||e===62?(this.cbs.onattribend(0,this.sectionStart),this.sectionStart=-1,this.state=11,this.stateBeforeAttrName(e)):Zr(e)||(this.cbs.onattribend(0,this.sectionStart),this.handleAttrStart(e))}stateBeforeAttrValue(e){e===34?(this.state=19,this.sectionStart=this.index+1):e===39?(this.state=20,this.sectionStart=this.index+1):Zr(e)||(this.sectionStart=this.index,this.state=21,this.stateInAttrValueNoQuotes(e))}handleInAttrValue(e,r){(e===r||this.fastForwardTo(r))&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(r===34?3:2,this.index+1),this.state=11)}stateInAttrValueDoubleQuotes(e){this.handleInAttrValue(e,34)}stateInAttrValueSingleQuotes(e){this.handleInAttrValue(e,39)}stateInAttrValueNoQuotes(e){Zr(e)||e===62?(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=-1,this.cbs.onattribend(1,this.index),this.state=11,this.stateBeforeAttrName(e)):(e===39||e===60||e===61||e===96)&&this.cbs.onerr(18,this.index)}stateBeforeDeclaration(e){e===91?(this.state=26,this.sequenceIndex=0):this.state=e===45?25:23}stateInDeclaration(e){(e===62||this.fastForwardTo(62))&&(this.state=1,this.sectionStart=this.index+1)}stateInProcessingInstruction(e){(e===62||this.fastForwardTo(62))&&(this.cbs.onprocessinginstruction(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeComment(e){e===45?(this.state=28,this.currentSequence=vr.CommentEnd,this.sequenceIndex=2,this.sectionStart=this.index+1):this.state=23}stateInSpecialComment(e){(e===62||this.fastForwardTo(62))&&(this.cbs.oncomment(this.sectionStart,this.index),this.state=1,this.sectionStart=this.index+1)}stateBeforeSpecialS(e){e===vr.ScriptEnd[3]?this.startSpecial(vr.ScriptEnd,4):e===vr.StyleEnd[3]?this.startSpecial(vr.StyleEnd,4):(this.state=6,this.stateInTagName(e))}stateBeforeSpecialT(e){e===vr.TitleEnd[3]?this.startSpecial(vr.TitleEnd,4):e===vr.TextareaEnd[3]?this.startSpecial(vr.TextareaEnd,4):(this.state=6,this.stateInTagName(e))}startEntity(){}stateInEntity(){}parse(e){for(this.buffer=e;this.index<this.buffer.length;){const r=this.buffer.charCodeAt(this.index);switch(r===10&&this.newlines.push(this.index),this.state){case 1:{this.stateText(r);break}case 2:{this.stateInterpolationOpen(r);break}case 3:{this.stateInterpolation(r);break}case 4:{this.stateInterpolationClose(r);break}case 31:{this.stateSpecialStartSequence(r);break}case 32:{this.stateInRCDATA(r);break}case 26:{this.stateCDATASequence(r);break}case 19:{this.stateInAttrValueDoubleQuotes(r);break}case 12:{this.stateInAttrName(r);break}case 13:{this.stateInDirName(r);break}case 14:{this.stateInDirArg(r);break}case 15:{this.stateInDynamicDirArg(r);break}case 16:{this.stateInDirModifier(r);break}case 28:{this.stateInCommentLike(r);break}case 27:{this.stateInSpecialComment(r);break}case 11:{this.stateBeforeAttrName(r);break}case 6:{this.stateInTagName(r);break}case 34:{this.stateInSFCRootTagName(r);break}case 9:{this.stateInClosingTagName(r);break}case 5:{this.stateBeforeTagName(r);break}case 17:{this.stateAfterAttrName(r);break}case 20:{this.stateInAttrValueSingleQuotes(r);break}case 18:{this.stateBeforeAttrValue(r);break}case 8:{this.stateBeforeClosingTagName(r);break}case 10:{this.stateAfterClosingTagName(r);break}case 29:{this.stateBeforeSpecialS(r);break}case 30:{this.stateBeforeSpecialT(r);break}case 21:{this.stateInAttrValueNoQuotes(r);break}case 7:{this.stateInSelfClosingTag(r);break}case 23:{this.stateInDeclaration(r);break}case 22:{this.stateBeforeDeclaration(r);break}case 25:{this.stateBeforeComment(r);break}case 24:{this.stateInProcessingInstruction(r);break}case 33:{this.stateInEntity();break}}this.index++}this.cleanup(),this.finish()}cleanup(){this.sectionStart!==this.index&&(this.state===1||this.state===32&&this.sequenceIndex===0?(this.cbs.ontext(this.sectionStart,this.index),this.sectionStart=this.index):(this.state===19||this.state===20||this.state===21)&&(this.cbs.onattribdata(this.sectionStart,this.index),this.sectionStart=this.index))}finish(){this.handleTrailingData(),this.cbs.onend()}handleTrailingData(){const e=this.buffer.length;this.sectionStart>=e||(this.state===28?this.currentSequence===vr.CdataEnd?this.cbs.oncdata(this.sectionStart,e):this.cbs.oncomment(this.sectionStart,e):this.state===6||this.state===11||this.state===18||this.state===17||this.state===12||this.state===13||this.state===14||this.state===15||this.state===16||this.state===20||this.state===19||this.state===21||this.state===9||this.cbs.ontext(this.sectionStart,e))}emitCodePoint(e,r){}}function vy(t,{compatConfig:e}){const r=e&&e[t];return t==="MODE"?r||3:r}function Mi(t,e){const r=vy("MODE",e),n=vy(t,e);return r===3?n===!0:n!==!1}function _l(t,e,r,...n){return Mi(t,e)}function bm(t){throw t}function h_(t){}function At(t,e,r,n){const s=`https://vuejs.org/error-reference/#compiler-${t}`,i=new SyntaxError(String(s));return i.code=t,i.loc=e,i}const Wr=t=>t.type===4&&t.isStatic;function f_(t){switch(t){case"Teleport":case"teleport":return Za;case"Suspense":case"suspense":return nm;case"KeepAlive":case"keep-alive":return Ru;case"BaseTransition":case"base-transition":return i_}}const KA=/^\d|[^\$\w\xA0-\uFFFF]/,xm=t=>!KA.test(t),GA=/[A-Za-z_$\xA0-\uFFFF]/,QA=/[\.\?\w$\xA0-\uFFFF]/,YA=/\s+[.[]\s*|\s*[.[]\s+/g,p_=t=>t.type===4?t.content:t.loc.source,JA=t=>{const e=p_(t).trim().replace(YA,a=>a.trim());let r=0,n=[],s=0,i=0,o=null;for(let a=0;a<e.length;a++){const c=e.charAt(a);switch(r){case 0:if(c==="[")n.push(r),r=1,s++;else if(c==="(")n.push(r),r=2,i++;else if(!(a===0?GA:QA).test(c))return!1;break;case 1:c==="'"||c==='"'||c==="`"?(n.push(r),r=3,o=c):c==="["?s++:c==="]"&&(--s||(r=n.pop()));break;case 2:if(c==="'"||c==='"'||c==="`")n.push(r),r=3,o=c;else if(c==="(")i++;else if(c===")"){if(a===e.length-1)return!1;--i||(r=n.pop())}break;case 3:c===o&&(r=n.pop(),o=null);break}}return!s&&!i},m_=JA,XA=/^\s*(async\s*)?(\([^)]*?\)|[\w$_]+)\s*(:[^=]+)?=>|^\s*(async\s+)?function(?:\s+[\w$]+)?\s*\(/,ZA=t=>XA.test(p_(t)),eS=ZA;function pn(t,e,r=!1){for(let n=0;n<t.props.length;n++){const s=t.props[n];if(s.type===7&&(r||s.exp)&&(Be(e)?s.name===e:e.test(s.name)))return s}}function Id(t,e,r=!1,n=!1){for(let s=0;s<t.props.length;s++){const i=t.props[s];if(i.type===6){if(r)continue;if(i.name===e&&(i.value||n))return i}else if(i.name==="bind"&&(i.exp||n)&&Ai(i.arg,e))return i}}function Ai(t,e){return!!(t&&Wr(t)&&t.content===e)}function tS(t){return t.props.some(e=>e.type===7&&e.name==="bind"&&(!e.arg||e.arg.type!==4||!e.arg.isStatic))}function Fh(t){return t.type===5||t.type===2}function rS(t){return t.type===7&&t.name==="slot"}function Du(t){return t.type===1&&t.tagType===3}function Mu(t){return t.type===1&&t.tagType===2}const nS=new Set([bl,Hl]);function g_(t,e=[]){if(t&&!Be(t)&&t.type===14){const r=t.callee;if(!Be(r)&&nS.has(r))return g_(t.arguments[0],e.concat(t))}return[t,e]}function Vu(t,e,r){let n,s=t.type===13?t.props:t.arguments[2],i=[],o;if(s&&!Be(s)&&s.type===14){const a=g_(s);s=a[0],i=a[1],o=i[i.length-1]}if(s==null||Be(s))n=gn([e]);else if(s.type===14){const a=s.arguments[0];!Be(a)&&a.type===15?by(e,a)||a.properties.unshift(e):s.callee===mm?n=Yt(r.helper(Nu),[gn([e]),s]):s.arguments.unshift(gn([e])),!n&&(n=s)}else s.type===15?(by(e,s)||s.properties.unshift(e),n=s):(n=Yt(r.helper(Nu),[gn([e]),s]),o&&o.callee===Hl&&(o=i[i.length-2]));t.type===13?o?o.arguments[0]=n:t.props=n:o?o.arguments[0]=n:t.arguments[2]=n}function by(t,e){let r=!1;if(t.key.type===4){const n=t.key.content;r=e.properties.some(s=>s.key.type===4&&s.key.content===n)}return r}function wl(t,e){return`_${e}_${t.replace(/[^\w]/g,(r,n)=>r==="-"?"_":t.charCodeAt(n).toString())}`}function sS(t){return t.type===14&&t.callee===ym?t.arguments[1].returns:t}const iS=/([\s\S]*?)\s+(?:in|of)\s+(\S[\s\S]*)/,y_={parseMode:"base",ns:0,delimiters:["{{","}}"],getNamespace:()=>0,isVoidTag:Ma,isPreTag:Ma,isIgnoreNewlineTag:Ma,isCustomElement:Ma,onError:bm,onWarn:h_,comments:!1,prefixIdentifiers:!1};let ut=y_,kl=null,as="",_r=null,rt=null,jr="",Jn=-1,wi=-1,_m=0,Fs=!1,Lf=null;const Tt=[],Dt=new WA(Tt,{onerr:Qn,ontext(t,e){Vc(nr(t,e),t,e)},ontextentity(t,e,r){Vc(t,e,r)},oninterpolation(t,e){if(Fs)return Vc(nr(t,e),t,e);let r=t+Dt.delimiterOpen.length,n=e-Dt.delimiterClose.length;for(;Zr(as.charCodeAt(r));)r++;for(;Zr(as.charCodeAt(n-1));)n--;let s=nr(r,n);s.includes("&")&&(s=ut.decodeEntities(s,!1)),Ff({type:5,content:ru(s,!1,Mt(r,n)),loc:Mt(t,e)})},onopentagname(t,e){const r=nr(t,e);_r={type:1,tag:r,ns:ut.getNamespace(r,Tt[0],ut.ns),tagType:0,props:[],children:[],loc:Mt(t-1,e),codegenNode:void 0}},onopentagend(t){_y(t)},onclosetag(t,e){const r=nr(t,e);if(!ut.isVoidTag(r)){let n=!1;for(let s=0;s<Tt.length;s++)if(Tt[s].tag.toLowerCase()===r.toLowerCase()){n=!0,s>0&&Qn(24,Tt[0].loc.start.offset);for(let o=0;o<=s;o++){const a=Tt.shift();tu(a,e,o<s)}break}n||Qn(23,v_(t,60))}},onselfclosingtag(t){const e=_r.tag;_r.isSelfClosing=!0,_y(t),Tt[0]&&Tt[0].tag===e&&tu(Tt.shift(),t)},onattribname(t,e){rt={type:6,name:nr(t,e),nameLoc:Mt(t,e),value:void 0,loc:Mt(t)}},ondirname(t,e){const r=nr(t,e),n=r==="."||r===":"?"bind":r==="@"?"on":r==="#"?"slot":r.slice(2);if(!Fs&&n===""&&Qn(26,t),Fs||n==="")rt={type:6,name:r,nameLoc:Mt(t,e),value:void 0,loc:Mt(t)};else if(rt={type:7,name:n,rawName:r,exp:void 0,arg:void 0,modifiers:r==="."?[ze("prop")]:[],loc:Mt(t)},n==="pre"){Fs=Dt.inVPre=!0,Lf=_r;const s=_r.props;for(let i=0;i<s.length;i++)s[i].type===7&&(s[i]=gS(s[i]))}},ondirarg(t,e){if(t===e)return;const r=nr(t,e);if(Fs)rt.name+=r,Si(rt.nameLoc,e);else{const n=r[0]!=="[";rt.arg=ru(n?r:r.slice(1,-1),n,Mt(t,e),n?3:0)}},ondirmodifier(t,e){const r=nr(t,e);if(Fs)rt.name+="."+r,Si(rt.nameLoc,e);else if(rt.name==="slot"){const n=rt.arg;n&&(n.content+="."+r,Si(n.loc,e))}else{const n=ze(r,!0,Mt(t,e));rt.modifiers.push(n)}},onattribdata(t,e){jr+=nr(t,e),Jn<0&&(Jn=t),wi=e},onattribentity(t,e,r){jr+=t,Jn<0&&(Jn=e),wi=r},onattribnameend(t){const e=rt.loc.start.offset,r=nr(e,t);rt.type===7&&(rt.rawName=r),_r.props.some(n=>(n.type===7?n.rawName:n.name)===r)&&Qn(2,e)},onattribend(t,e){if(_r&&rt){if(Si(rt.loc,e),t!==0)if(jr.includes("&")&&(jr=ut.decodeEntities(jr,!0)),rt.type===6)rt.name==="class"&&(jr=x_(jr).trim()),t===1&&!jr&&Qn(13,e),rt.value={type:2,content:jr,loc:t===1?Mt(Jn,wi):Mt(Jn-1,wi+1)},Dt.inSFCRoot&&_r.tag==="template"&&rt.name==="lang"&&jr&&jr!=="html"&&Dt.enterRCDATA(Ou("</template"),0);else{let r=0;rt.exp=ru(jr,!1,Mt(Jn,wi),0,r),rt.name==="for"&&(rt.forParseResult=aS(rt.exp));let n=-1;rt.name==="bind"&&(n=rt.modifiers.findIndex(s=>s.content==="sync"))>-1&&_l("COMPILER_V_BIND_SYNC",ut,rt.loc,rt.rawName)&&(rt.name="model",rt.modifiers.splice(n,1))}(rt.type!==7||rt.name!=="pre")&&_r.props.push(rt)}jr="",Jn=wi=-1},oncomment(t,e){ut.comments&&Ff({type:3,content:nr(t,e),loc:Mt(t-4,e+3)})},onend(){const t=as.length;for(let e=0;e<Tt.length;e++)tu(Tt[e],t-1),Qn(24,Tt[e].loc.start.offset)},oncdata(t,e){Tt[0].ns!==0?Vc(nr(t,e),t,e):Qn(1,t-9)},onprocessinginstruction(t){(Tt[0]?Tt[0].ns:ut.ns)===0&&Qn(21,t-1)}}),xy=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,oS=/^\(|\)$/g;function aS(t){const e=t.loc,r=t.content,n=r.match(iS);if(!n)return;const[,s,i]=n,o=(f,p,y=!1)=>{const b=e.start.offset+p,w=b+f.length;return ru(f,!1,Mt(b,w),0,y?1:0)},a={source:o(i.trim(),r.indexOf(i,s.length)),value:void 0,key:void 0,index:void 0,finalized:!1};let c=s.trim().replace(oS,"").trim();const d=s.indexOf(c),h=c.match(xy);if(h){c=c.replace(xy,"").trim();const f=h[1].trim();let p;if(f&&(p=r.indexOf(f,d+c.length),a.key=o(f,p,!0)),h[2]){const y=h[2].trim();y&&(a.index=o(y,r.indexOf(y,a.key?p+f.length:d+c.length),!0))}}return c&&(a.value=o(c,d,!0)),a}function nr(t,e){return as.slice(t,e)}function _y(t){Dt.inSFCRoot&&(_r.innerLoc=Mt(t+1,t+1)),Ff(_r);const{tag:e,ns:r}=_r;r===0&&ut.isPreTag(e)&&_m++,ut.isVoidTag(e)?tu(_r,t):(Tt.unshift(_r),(r===1||r===2)&&(Dt.inXML=!0)),_r=null}function Vc(t,e,r){{const i=Tt[0]&&Tt[0].tag;i!=="script"&&i!=="style"&&t.includes("&")&&(t=ut.decodeEntities(t,!1))}const n=Tt[0]||kl,s=n.children[n.children.length-1];s&&s.type===2?(s.content+=t,Si(s.loc,r)):n.children.push({type:2,content:t,loc:Mt(e,r)})}function tu(t,e,r=!1){r?Si(t.loc,v_(e,60)):Si(t.loc,lS(e,62)+1),Dt.inSFCRoot&&(t.children.length?t.innerLoc.end=Qe({},t.children[t.children.length-1].loc.end):t.innerLoc.end=Qe({},t.innerLoc.start),t.innerLoc.source=nr(t.innerLoc.start.offset,t.innerLoc.end.offset));const{tag:n,ns:s,children:i}=t;if(Fs||(n==="slot"?t.tagType=2:wy(t)?t.tagType=3:uS(t)&&(t.tagType=1)),Dt.inRCDATA||(t.children=b_(i)),s===0&&ut.isIgnoreNewlineTag(n)){const o=i[0];o&&o.type===2&&(o.content=o.content.replace(/^\r?\n/,""))}s===0&&ut.isPreTag(n)&&_m--,Lf===t&&(Fs=Dt.inVPre=!1,Lf=null),Dt.inXML&&(Tt[0]?Tt[0].ns:ut.ns)===0&&(Dt.inXML=!1);{const o=t.props;if(!Dt.inSFCRoot&&Mi("COMPILER_NATIVE_TEMPLATE",ut)&&t.tag==="template"&&!wy(t)){const c=Tt[0]||kl,d=c.children.indexOf(t);c.children.splice(d,1,...t.children)}const a=o.find(c=>c.type===6&&c.name==="inline-template");a&&_l("COMPILER_INLINE_TEMPLATE",ut,a.loc)&&t.children.length&&(a.value={type:2,content:nr(t.children[0].loc.start.offset,t.children[t.children.length-1].loc.end.offset),loc:a.loc})}}function lS(t,e){let r=t;for(;as.charCodeAt(r)!==e&&r<as.length-1;)r++;return r}function v_(t,e){let r=t;for(;as.charCodeAt(r)!==e&&r>=0;)r--;return r}const cS=new Set(["if","else","else-if","for","slot"]);function wy({tag:t,props:e}){if(t==="template"){for(let r=0;r<e.length;r++)if(e[r].type===7&&cS.has(e[r].name))return!0}return!1}function uS({tag:t,props:e}){if(ut.isCustomElement(t))return!1;if(t==="component"||dS(t.charCodeAt(0))||f_(t)||ut.isBuiltInComponent&&ut.isBuiltInComponent(t)||ut.isNativeTag&&!ut.isNativeTag(t))return!0;for(let r=0;r<e.length;r++){const n=e[r];if(n.type===6){if(n.name==="is"&&n.value){if(n.value.content.startsWith("vue:"))return!0;if(_l("COMPILER_IS_ON_ELEMENT",ut,n.loc))return!0}}else if(n.name==="bind"&&Ai(n.arg,"is")&&_l("COMPILER_IS_ON_ELEMENT",ut,n.loc))return!0}return!1}function dS(t){return t>64&&t<91}const hS=/\r\n/g;function b_(t,e){const r=ut.whitespace!=="preserve";let n=!1;for(let s=0;s<t.length;s++){const i=t[s];if(i.type===2)if(_m)i.content=i.content.replace(hS,`
`);else if(fS(i.content)){const o=t[s-1]&&t[s-1].type,a=t[s+1]&&t[s+1].type;!o||!a||r&&(o===3&&(a===3||a===1)||o===1&&(a===3||a===1&&pS(i.content)))?(n=!0,t[s]=null):i.content=" "}else r&&(i.content=x_(i.content))}return n?t.filter(Boolean):t}function fS(t){for(let e=0;e<t.length;e++)if(!Zr(t.charCodeAt(e)))return!1;return!0}function pS(t){for(let e=0;e<t.length;e++){const r=t.charCodeAt(e);if(r===10||r===13)return!0}return!1}function x_(t){let e="",r=!1;for(let n=0;n<t.length;n++)Zr(t.charCodeAt(n))?r||(e+=" ",r=!0):(e+=t[n],r=!1);return e}function Ff(t){(Tt[0]||kl).children.push(t)}function Mt(t,e){return{start:Dt.getPos(t),end:e==null?e:Dt.getPos(e),source:e==null?e:nr(t,e)}}function mS(t){return Mt(t.start.offset,t.end.offset)}function Si(t,e){t.end=Dt.getPos(e),t.source=nr(t.start.offset,e)}function gS(t){const e={type:6,name:t.rawName,nameLoc:Mt(t.loc.start.offset,t.loc.start.offset+t.rawName.length),value:void 0,loc:t.loc};if(t.exp){const r=t.exp.loc;r.end.offset<t.loc.end.offset&&(r.start.offset--,r.start.column--,r.end.offset++,r.end.column++),e.value={type:2,content:t.exp.content,loc:r}}return e}function ru(t,e=!1,r,n=0,s=0){return ze(t,e,r,n)}function Qn(t,e,r){ut.onError(At(t,Mt(e,e)))}function yS(){Dt.reset(),_r=null,rt=null,jr="",Jn=-1,wi=-1,Tt.length=0}function vS(t,e){if(yS(),as=t,ut=Qe({},y_),e){let s;for(s in e)e[s]!=null&&(ut[s]=e[s])}Dt.mode=ut.parseMode==="html"?1:ut.parseMode==="sfc"?2:0,Dt.inXML=ut.ns===1||ut.ns===2;const r=e&&e.delimiters;r&&(Dt.delimiterOpen=Ou(r[0]),Dt.delimiterClose=Ou(r[1]));const n=kl=qA([],t);return Dt.parse(as),n.loc=Mt(0,t.length),n.children=b_(n.children),kl=null,n}function bS(t,e){nu(t,void 0,e,__(t,t.children[0]))}function __(t,e){const{children:r}=t;return r.length===1&&e.type===1&&!Mu(e)}function nu(t,e,r,n=!1,s=!1){const{children:i}=t,o=[];for(let h=0;h<i.length;h++){const f=i[h];if(f.type===1&&f.tagType===0){const p=n?0:tn(f,r);if(p>0){if(p>=2){f.codegenNode.patchFlag=-1,o.push(f);continue}}else{const y=f.codegenNode;if(y.type===13){const b=y.patchFlag;if((b===void 0||b===512||b===1)&&k_(f,r)>=2){const w=E_(f);w&&(y.props=r.hoist(w))}y.dynamicProps&&(y.dynamicProps=r.hoist(y.dynamicProps))}}}else if(f.type===12&&(n?0:tn(f,r))>=2){o.push(f);continue}if(f.type===1){const p=f.tagType===1;p&&r.scopes.vSlot++,nu(f,t,r,!1,s),p&&r.scopes.vSlot--}else if(f.type===11)nu(f,t,r,f.children.length===1,!0);else if(f.type===9)for(let p=0;p<f.branches.length;p++)nu(f.branches[p],t,r,f.branches[p].children.length===1,s)}let a=!1;if(o.length===i.length&&t.type===1){if(t.tagType===0&&t.codegenNode&&t.codegenNode.type===13&&we(t.codegenNode.children))t.codegenNode.children=c(Di(t.codegenNode.children)),a=!0;else if(t.tagType===1&&t.codegenNode&&t.codegenNode.type===13&&t.codegenNode.children&&!we(t.codegenNode.children)&&t.codegenNode.children.type===15){const h=d(t.codegenNode,"default");h&&(h.returns=c(Di(h.returns)),a=!0)}else if(t.tagType===3&&e&&e.type===1&&e.tagType===1&&e.codegenNode&&e.codegenNode.type===13&&e.codegenNode.children&&!we(e.codegenNode.children)&&e.codegenNode.children.type===15){const h=pn(t,"slot",!0),f=h&&h.arg&&d(e.codegenNode,h.arg);f&&(f.returns=c(Di(f.returns)),a=!0)}}if(!a)for(const h of o)h.codegenNode=r.cache(h.codegenNode);function c(h){const f=r.cache(h);return s&&r.hmr&&(f.needArraySpread=!0),f}function d(h,f){if(h.children&&!we(h.children)&&h.children.type===15){const p=h.children.properties.find(y=>y.key===f||y.key.content===f);return p&&p.value}}o.length&&r.transformHoist&&r.transformHoist(i,r,t)}function tn(t,e){const{constantCache:r}=e;switch(t.type){case 1:if(t.tagType!==0)return 0;const n=r.get(t);if(n!==void 0)return n;const s=t.codegenNode;if(s.type!==13||s.isBlock&&t.tag!=="svg"&&t.tag!=="foreignObject"&&t.tag!=="math")return 0;if(s.patchFlag===void 0){let o=3;const a=k_(t,e);if(a===0)return r.set(t,0),0;a<o&&(o=a);for(let c=0;c<t.children.length;c++){const d=tn(t.children[c],e);if(d===0)return r.set(t,0),0;d<o&&(o=d)}if(o>1)for(let c=0;c<t.props.length;c++){const d=t.props[c];if(d.type===7&&d.name==="bind"&&d.exp){const h=tn(d.exp,e);if(h===0)return r.set(t,0),0;h<o&&(o=h)}}if(s.isBlock){for(let c=0;c<t.props.length;c++)if(t.props[c].type===7)return r.set(t,0),0;e.removeHelper(ji),e.removeHelper(Go(e.inSSR,s.isComponent)),s.isBlock=!1,e.helper(Ko(e.inSSR,s.isComponent))}return r.set(t,o),o}else return r.set(t,0),0;case 2:case 3:return 3;case 9:case 11:case 10:return 0;case 5:case 12:return tn(t.content,e);case 4:return t.constType;case 8:let i=3;for(let o=0;o<t.children.length;o++){const a=t.children[o];if(Be(a)||Gr(a))continue;const c=tn(a,e);if(c===0)return 0;c<i&&(i=c)}return i;case 20:return 2;default:return 0}}const xS=new Set([fm,pm,bl,Hl]);function w_(t,e){if(t.type===14&&!Be(t.callee)&&xS.has(t.callee)){const r=t.arguments[0];if(r.type===4)return tn(r,e);if(r.type===14)return w_(r,e)}return 0}function k_(t,e){let r=3;const n=E_(t);if(n&&n.type===15){const{properties:s}=n;for(let i=0;i<s.length;i++){const{key:o,value:a}=s[i],c=tn(o,e);if(c===0)return c;c<r&&(r=c);let d;if(a.type===4?d=tn(a,e):a.type===14?d=w_(a,e):d=0,d===0)return d;d<r&&(r=d)}}return r}function E_(t){const e=t.codegenNode;if(e.type===13)return e.props}function _S(t,{filename:e="",prefixIdentifiers:r=!1,hoistStatic:n=!1,hmr:s=!1,cacheHandlers:i=!1,nodeTransforms:o=[],directiveTransforms:a={},transformHoist:c=null,isBuiltInComponent:d=or,isCustomElement:h=or,expressionPlugins:f=[],scopeId:p=null,slotted:y=!0,ssr:b=!1,inSSR:w=!1,ssrCssVars:x="",bindingMetadata:I=Ke,inline:C=!1,isTS:E=!1,onError:R=bm,onWarn:A=h_,compatConfig:M}){const T=e.replace(/\?.*$/,"").match(/([^/\\]+)\.\w+$/),v={filename:e,selfName:T&&eo(Et(T[1])),prefixIdentifiers:r,hoistStatic:n,hmr:s,cacheHandlers:i,nodeTransforms:o,directiveTransforms:a,transformHoist:c,isBuiltInComponent:d,isCustomElement:h,expressionPlugins:f,scopeId:p,slotted:y,ssr:b,inSSR:w,ssrCssVars:x,bindingMetadata:I,inline:C,isTS:E,onError:R,onWarn:A,compatConfig:M,root:t,helpers:new Map,components:new Set,directives:new Set,hoists:[],imports:[],cached:[],constantCache:new WeakMap,temps:0,identifiers:Object.create(null),scopes:{vFor:0,vSlot:0,vPre:0,vOnce:0},parent:null,grandParent:null,currentNode:t,childIndex:0,inVOnce:!1,helper(m){const k=v.helpers.get(m)||0;return v.helpers.set(m,k+1),m},removeHelper(m){const k=v.helpers.get(m);if(k){const N=k-1;N?v.helpers.set(m,N):v.helpers.delete(m)}},helperString(m){return`_${zo[v.helper(m)]}`},replaceNode(m){v.parent.children[v.childIndex]=v.currentNode=m},removeNode(m){const k=v.parent.children,N=m?k.indexOf(m):v.currentNode?v.childIndex:-1;!m||m===v.currentNode?(v.currentNode=null,v.onNodeRemoved()):v.childIndex>N&&(v.childIndex--,v.onNodeRemoved()),v.parent.children.splice(N,1)},onNodeRemoved:or,addIdentifiers(m){},removeIdentifiers(m){},hoist(m){Be(m)&&(m=ze(m)),v.hoists.push(m);const k=ze(`_hoisted_${v.hoists.length}`,!1,m.loc,2);return k.hoisted=m,k},cache(m,k=!1,N=!1){const S=HA(v.cached.length,m,k,N);return v.cached.push(S),S}};return v.filters=new Set,v}function wS(t,e){const r=_S(t,e);Td(t,r),e.hoistStatic&&bS(t,r),e.ssr||kS(t,r),t.helpers=new Set([...r.helpers.keys()]),t.components=[...r.components],t.directives=[...r.directives],t.imports=r.imports,t.hoists=r.hoists,t.temps=r.temps,t.cached=r.cached,t.transformed=!0,t.filters=[...r.filters]}function kS(t,e){const{helper:r}=e,{children:n}=t;if(n.length===1){const s=n[0];if(__(t,s)&&s.codegenNode){const i=s.codegenNode;i.type===13&&vm(i,e),t.codegenNode=i}else t.codegenNode=s}else if(n.length>1){let s=64;t.codegenNode=xl(e,r(vl),void 0,t.children,s,void 0,void 0,!0,void 0,!1)}}function ES(t,e){let r=0;const n=()=>{r--};for(;r<t.children.length;r++){const s=t.children[r];Be(s)||(e.grandParent=e.parent,e.parent=t,e.childIndex=r,e.onNodeRemoved=n,Td(s,e))}}function Td(t,e){e.currentNode=t;const{nodeTransforms:r}=e,n=[];for(let i=0;i<r.length;i++){const o=r[i](t,e);if(o&&(we(o)?n.push(...o):n.push(o)),e.currentNode)t=e.currentNode;else return}switch(t.type){case 3:e.ssr||e.helper(ql);break;case 5:e.ssr||e.helper(Ed);break;case 9:for(let i=0;i<t.branches.length;i++)Td(t.branches[i],e);break;case 10:case 11:case 1:case 0:ES(t,e);break}e.currentNode=t;let s=n.length;for(;s--;)n[s]()}function I_(t,e){const r=Be(t)?n=>n===t:n=>t.test(n);return(n,s)=>{if(n.type===1){const{props:i}=n;if(n.tagType===3&&i.some(rS))return;const o=[];for(let a=0;a<i.length;a++){const c=i[a];if(c.type===7&&r(c.name)){i.splice(a,1),a--;const d=e(n,c,s);d&&o.push(d)}}return o}}}const Ad="/*@__PURE__*/",T_=t=>`${zo[t]}: _${zo[t]}`;function IS(t,{mode:e="function",prefixIdentifiers:r=e==="module",sourceMap:n=!1,filename:s="template.vue.html",scopeId:i=null,optimizeImports:o=!1,runtimeGlobalName:a="Vue",runtimeModuleName:c="vue",ssrRuntimeModuleName:d="vue/server-renderer",ssr:h=!1,isTS:f=!1,inSSR:p=!1}){const y={mode:e,prefixIdentifiers:r,sourceMap:n,filename:s,scopeId:i,optimizeImports:o,runtimeGlobalName:a,runtimeModuleName:c,ssrRuntimeModuleName:d,ssr:h,isTS:f,inSSR:p,source:t.source,code:"",column:1,line:1,offset:0,indentLevel:0,pure:!1,map:void 0,helper(w){return`_${zo[w]}`},push(w,x=-2,I){y.code+=w},indent(){b(++y.indentLevel)},deindent(w=!1){w?--y.indentLevel:b(--y.indentLevel)},newline(){b(y.indentLevel)}};function b(w){y.push(`
`+"  ".repeat(w),0)}return y}function TS(t,e={}){const r=IS(t,e);e.onContextCreated&&e.onContextCreated(r);const{mode:n,push:s,prefixIdentifiers:i,indent:o,deindent:a,newline:c,scopeId:d,ssr:h}=r,f=Array.from(t.helpers),p=f.length>0,y=!i&&n!=="module";AS(t,r);const w=h?"ssrRender":"render",I=(h?["_ctx","_push","_parent","_attrs"]:["_ctx","_cache"]).join(", ");if(s(`function ${w}(${I}) {`),o(),y&&(s("with (_ctx) {"),o(),p&&(s(`const { ${f.map(T_).join(", ")} } = _Vue
`,-1),c())),t.components.length&&(Uh(t.components,"component",r),(t.directives.length||t.temps>0)&&c()),t.directives.length&&(Uh(t.directives,"directive",r),t.temps>0&&c()),t.filters&&t.filters.length&&(c(),Uh(t.filters,"filter",r),c()),t.temps>0){s("let ");for(let C=0;C<t.temps;C++)s(`${C>0?", ":""}_temp${C}`)}return(t.components.length||t.directives.length||t.temps)&&(s(`
`,0),c()),h||s("return "),t.codegenNode?Sr(t.codegenNode,r):s("null"),y&&(a(),s("}")),a(),s("}"),{ast:t,code:r.code,preamble:"",map:r.map?r.map.toJSON():void 0}}function AS(t,e){const{ssr:r,prefixIdentifiers:n,push:s,newline:i,runtimeModuleName:o,runtimeGlobalName:a,ssrRuntimeModuleName:c}=e,d=a,h=Array.from(t.helpers);if(h.length>0&&(s(`const _Vue = ${d}
`,-1),t.hoists.length)){const f=[sm,im,ql,om,l_].filter(p=>h.includes(p)).map(T_).join(", ");s(`const { ${f} } = _Vue
`,-1)}SS(t.hoists,e),i(),s("return ")}function Uh(t,e,{helper:r,push:n,newline:s,isTS:i}){const o=r(e==="filter"?um:e==="component"?am:cm);for(let a=0;a<t.length;a++){let c=t[a];const d=c.endsWith("__self");d&&(c=c.slice(0,-6)),n(`const ${wl(c,e)} = ${o}(${JSON.stringify(c)}${d?", true":""})${i?"!":""}`),a<t.length-1&&s()}}function SS(t,e){if(!t.length)return;e.pure=!0;const{push:r,newline:n}=e;n();for(let s=0;s<t.length;s++){const i=t[s];i&&(r(`const _hoisted_${s+1} = `),Sr(i,e),n())}e.pure=!1}function wm(t,e){const r=t.length>3||!1;e.push("["),r&&e.indent(),zl(t,e,r),r&&e.deindent(),e.push("]")}function zl(t,e,r=!1,n=!0){const{push:s,newline:i}=e;for(let o=0;o<t.length;o++){const a=t[o];Be(a)?s(a,-3):we(a)?wm(a,e):Sr(a,e),o<t.length-1&&(r?(n&&s(","),i()):n&&s(", "))}}function Sr(t,e){if(Be(t)){e.push(t,-3);return}if(Gr(t)){e.push(e.helper(t));return}switch(t.type){case 1:case 9:case 11:Sr(t.codegenNode,e);break;case 2:CS(t,e);break;case 4:A_(t,e);break;case 5:PS(t,e);break;case 12:Sr(t.codegenNode,e);break;case 8:S_(t,e);break;case 3:NS(t,e);break;case 13:$S(t,e);break;case 14:DS(t,e);break;case 15:MS(t,e);break;case 17:VS(t,e);break;case 18:LS(t,e);break;case 19:FS(t,e);break;case 20:US(t,e);break;case 21:zl(t.body,e,!0,!1);break}}function CS(t,e){e.push(JSON.stringify(t.content),-3,t)}function A_(t,e){const{content:r,isStatic:n}=t;e.push(n?JSON.stringify(r):r,-3,t)}function PS(t,e){const{push:r,helper:n,pure:s}=e;s&&r(Ad),r(`${n(Ed)}(`),Sr(t.content,e),r(")")}function S_(t,e){for(let r=0;r<t.children.length;r++){const n=t.children[r];Be(n)?e.push(n,-3):Sr(n,e)}}function RS(t,e){const{push:r}=e;if(t.type===8)r("["),S_(t,e),r("]");else if(t.isStatic){const n=xm(t.content)?t.content:JSON.stringify(t.content);r(n,-2,t)}else r(`[${t.content}]`,-3,t)}function NS(t,e){const{push:r,helper:n,pure:s}=e;s&&r(Ad),r(`${n(ql)}(${JSON.stringify(t.content)})`,-3,t)}function $S(t,e){const{push:r,helper:n,pure:s}=e,{tag:i,props:o,children:a,patchFlag:c,dynamicProps:d,directives:h,isBlock:f,disableTracking:p,isComponent:y}=t;let b;c&&(b=String(c)),h&&r(n(dm)+"("),f&&r(`(${n(ji)}(${p?"true":""}), `),s&&r(Ad);const w=f?Go(e.inSSR,y):Ko(e.inSSR,y);r(n(w)+"(",-2,t),zl(OS([i,o,a,b,d]),e),r(")"),f&&r(")"),h&&(r(", "),Sr(h,e),r(")"))}function OS(t){let e=t.length;for(;e--&&t[e]==null;);return t.slice(0,e+1).map(r=>r||"null")}function DS(t,e){const{push:r,helper:n,pure:s}=e,i=Be(t.callee)?t.callee:n(t.callee);s&&r(Ad),r(i+"(",-2,t),zl(t.arguments,e),r(")")}function MS(t,e){const{push:r,indent:n,deindent:s,newline:i}=e,{properties:o}=t;if(!o.length){r("{}",-2,t);return}const a=o.length>1||!1;r(a?"{":"{ "),a&&n();for(let c=0;c<o.length;c++){const{key:d,value:h}=o[c];RS(d,e),r(": "),Sr(h,e),c<o.length-1&&(r(","),i())}a&&s(),r(a?"}":" }")}function VS(t,e){wm(t.elements,e)}function LS(t,e){const{push:r,indent:n,deindent:s}=e,{params:i,returns:o,body:a,newline:c,isSlot:d}=t;d&&r(`_${zo[gm]}(`),r("(",-2,t),we(i)?zl(i,e):i&&Sr(i,e),r(") => "),(c||a)&&(r("{"),n()),o?(c&&r("return "),we(o)?wm(o,e):Sr(o,e)):a&&Sr(a,e),(c||a)&&(s(),r("}")),d&&(t.isNonScopedSlot&&r(", undefined, true"),r(")"))}function FS(t,e){const{test:r,consequent:n,alternate:s,newline:i}=t,{push:o,indent:a,deindent:c,newline:d}=e;if(r.type===4){const f=!xm(r.content);f&&o("("),A_(r,e),f&&o(")")}else o("("),Sr(r,e),o(")");i&&a(),e.indentLevel++,i||o(" "),o("? "),Sr(n,e),e.indentLevel--,i&&d(),i||o(" "),o(": ");const h=s.type===19;h||e.indentLevel++,Sr(s,e),h||e.indentLevel--,i&&c(!0)}function US(t,e){const{push:r,helper:n,indent:s,deindent:i,newline:o}=e,{needPauseTracking:a,needArraySpread:c}=t;c&&r("[...("),r(`_cache[${t.index}] || (`),a&&(s(),r(`${n($u)}(-1`),t.inVOnce&&r(", true"),r("),"),o(),r("(")),r(`_cache[${t.index}] = `),Sr(t.value,e),a&&(r(`).cacheIndex = ${t.index},`),o(),r(`${n($u)}(1),`),o(),r(`_cache[${t.index}]`),i()),r(")"),c&&r(")]")}new RegExp("\\b"+"arguments,await,break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,let,new,return,super,switch,throw,try,var,void,while,with,yield".split(",").join("\\b|\\b")+"\\b");const jS=I_(/^(if|else|else-if)$/,(t,e,r)=>BS(t,e,r,(n,s,i)=>{const o=r.parent.children;let a=o.indexOf(n),c=0;for(;a-->=0;){const d=o[a];d&&d.type===9&&(c+=d.branches.length)}return()=>{if(i)n.codegenNode=Ey(s,c,r);else{const d=qS(n.codegenNode);d.alternate=Ey(s,c+n.branches.length-1,r)}}}));function BS(t,e,r,n){if(e.name!=="else"&&(!e.exp||!e.exp.content.trim())){const s=e.exp?e.exp.loc:t.loc;r.onError(At(28,e.loc)),e.exp=ze("true",!1,s)}if(e.name==="if"){const s=ky(t,e),i={type:9,loc:mS(t.loc),branches:[s]};if(r.replaceNode(i),n)return n(i,s,!0)}else{const s=r.parent.children;let i=s.indexOf(t);for(;i-->=-1;){const o=s[i];if(o&&o.type===3){r.removeNode(o);continue}if(o&&o.type===2&&!o.content.trim().length){r.removeNode(o);continue}if(o&&o.type===9){e.name==="else-if"&&o.branches[o.branches.length-1].condition===void 0&&r.onError(At(30,t.loc)),r.removeNode();const a=ky(t,e);o.branches.push(a);const c=n&&n(o,a,!1);Td(a,r),c&&c(),r.currentNode=null}else r.onError(At(30,t.loc));break}}}function ky(t,e){const r=t.tagType===3;return{type:10,loc:t.loc,condition:e.name==="else"?void 0:e.exp,children:r&&!pn(t,"for")?t.children:[t],userKey:Id(t,"key"),isTemplateIf:r}}function Ey(t,e,r){return t.condition?Vf(t.condition,Iy(t,e,r),Yt(r.helper(ql),['""',"true"])):Iy(t,e,r)}function Iy(t,e,r){const{helper:n}=r,s=Ft("key",ze(`${e}`,!1,un,2)),{children:i}=t,o=i[0];if(i.length!==1||o.type!==1)if(i.length===1&&o.type===11){const c=o.codegenNode;return Vu(c,s,r),c}else return xl(r,n(vl),gn([s]),i,64,void 0,void 0,!0,!1,!1,t.loc);else{const c=o.codegenNode,d=sS(c);return d.type===13&&vm(d,r),Vu(d,s,r),c}}function qS(t){for(;;)if(t.type===19)if(t.alternate.type===19)t=t.alternate;else return t;else t.type===20&&(t=t.value)}const HS=(t,e,r)=>{const{modifiers:n,loc:s}=t,i=t.arg;let{exp:o}=t;if(o&&o.type===4&&!o.content.trim()&&(o=void 0),!o){if(i.type!==4||!i.isStatic)return r.onError(At(52,i.loc)),{props:[Ft(i,ze("",!0,s))]};C_(t),o=t.exp}return i.type!==4?(i.children.unshift("("),i.children.push(') || ""')):i.isStatic||(i.content=`${i.content} || ""`),n.some(a=>a.content==="camel")&&(i.type===4?i.isStatic?i.content=Et(i.content):i.content=`${r.helperString(Df)}(${i.content})`:(i.children.unshift(`${r.helperString(Df)}(`),i.children.push(")"))),r.inSSR||(n.some(a=>a.content==="prop")&&Ty(i,"."),n.some(a=>a.content==="attr")&&Ty(i,"^")),{props:[Ft(i,o)]}},C_=(t,e)=>{const r=t.arg,n=Et(r.content);t.exp=ze(n,!1,r.loc)},Ty=(t,e)=>{t.type===4?t.isStatic?t.content=e+t.content:t.content=`\`${e}\${${t.content}}\``:(t.children.unshift(`'${e}' + (`),t.children.push(")"))},zS=I_("for",(t,e,r)=>{const{helper:n,removeHelper:s}=r;return WS(t,e,r,i=>{const o=Yt(n(hm),[i.source]),a=Du(t),c=pn(t,"memo"),d=Id(t,"key",!1,!0);d&&d.type===7&&!d.exp&&C_(d);let f=d&&(d.type===6?d.value?ze(d.value.content,!0):void 0:d.exp);const p=d&&f?Ft("key",f):null,y=i.source.type===4&&i.source.constType>0,b=y?64:d?128:256;return i.codegenNode=xl(r,n(vl),void 0,o,b,void 0,void 0,!0,!y,!1,t.loc),()=>{let w;const{children:x}=i,I=x.length!==1||x[0].type!==1,C=Mu(t)?t:a&&t.children.length===1&&Mu(t.children[0])?t.children[0]:null;if(C?(w=C.codegenNode,a&&p&&Vu(w,p,r)):I?w=xl(r,n(vl),p?gn([p]):void 0,t.children,64,void 0,void 0,!0,void 0,!1):(w=x[0].codegenNode,a&&p&&Vu(w,p,r),w.isBlock!==!y&&(w.isBlock?(s(ji),s(Go(r.inSSR,w.isComponent))):s(Ko(r.inSSR,w.isComponent))),w.isBlock=!y,w.isBlock?(n(ji),n(Go(r.inSSR,w.isComponent))):n(Ko(r.inSSR,w.isComponent))),c){const E=Wo(Uf(i.parseResult,[ze("_cached")]));E.body=zA([Cn(["const _memo = (",c.exp,")"]),Cn(["if (_cached",...f?[" && _cached.key === ",f]:[],` && ${r.helperString(d_)}(_cached, _memo)) return _cached`]),Cn(["const _item = ",w]),ze("_item.memo = _memo"),ze("return _item")]),o.arguments.push(E,ze("_cache"),ze(String(r.cached.length))),r.cached.push(null)}else o.arguments.push(Wo(Uf(i.parseResult),w,!0))}})});function WS(t,e,r,n){if(!e.exp){r.onError(At(31,e.loc));return}const s=e.forParseResult;if(!s){r.onError(At(32,e.loc));return}P_(s);const{addIdentifiers:i,removeIdentifiers:o,scopes:a}=r,{source:c,value:d,key:h,index:f}=s,p={type:11,loc:e.loc,source:c,valueAlias:d,keyAlias:h,objectIndexAlias:f,parseResult:s,children:Du(t)?t.children:[t]};r.replaceNode(p),a.vFor++;const y=n&&n(p);return()=>{a.vFor--,y&&y()}}function P_(t,e){t.finalized||(t.finalized=!0)}function Uf({value:t,key:e,index:r},n=[]){return KS([t,e,r,...n])}function KS(t){let e=t.length;for(;e--&&!t[e];);return t.slice(0,e+1).map((r,n)=>r||ze("_".repeat(n+1),!1))}const Ay=ze("undefined",!1),GS=(t,e)=>{if(t.type===1&&(t.tagType===1||t.tagType===3)){const r=pn(t,"slot");if(r)return r.exp,e.scopes.vSlot++,()=>{e.scopes.vSlot--}}},QS=(t,e,r,n)=>Wo(t,r,!1,!0,r.length?r[0].loc:n);function YS(t,e,r=QS){e.helper(gm);const{children:n,loc:s}=t,i=[],o=[];let a=e.scopes.vSlot>0||e.scopes.vFor>0;const c=pn(t,"slot",!0);if(c){const{arg:x,exp:I}=c;x&&!Wr(x)&&(a=!0),i.push(Ft(x||ze("default",!0),r(I,void 0,n,s)))}let d=!1,h=!1;const f=[],p=new Set;let y=0;for(let x=0;x<n.length;x++){const I=n[x];let C;if(!Du(I)||!(C=pn(I,"slot",!0))){I.type!==3&&f.push(I);continue}if(c){e.onError(At(37,C.loc));break}d=!0;const{children:E,loc:R}=I,{arg:A=ze("default",!0),exp:M,loc:T}=C;let v;Wr(A)?v=A?A.content:"default":a=!0;const m=pn(I,"for"),k=r(M,m,E,R);let N,S;if(N=pn(I,"if"))a=!0,o.push(Vf(N.exp,Lc(A,k,y++),Ay));else if(S=pn(I,/^else(-if)?$/,!0)){let P=x,le;for(;P--&&(le=n[P],le.type===3););if(le&&Du(le)&&pn(le,/^(else-)?if$/)){let ue=o[o.length-1];for(;ue.alternate.type===19;)ue=ue.alternate;ue.alternate=S.exp?Vf(S.exp,Lc(A,k,y++),Ay):Lc(A,k,y++)}else e.onError(At(30,S.loc))}else if(m){a=!0;const P=m.forParseResult;P?(P_(P),o.push(Yt(e.helper(hm),[P.source,Wo(Uf(P),Lc(A,k),!0)]))):e.onError(At(32,m.loc))}else{if(v){if(p.has(v)){e.onError(At(38,T));continue}p.add(v),v==="default"&&(h=!0)}i.push(Ft(A,k))}}if(!c){const x=(I,C)=>{const E=r(I,void 0,C,s);return e.compatConfig&&(E.isNonScopedSlot=!0),Ft("default",E)};d?f.length&&f.some(I=>R_(I))&&(h?e.onError(At(39,f[0].loc)):i.push(x(void 0,f))):i.push(x(void 0,n))}const b=a?2:su(t.children)?3:1;let w=gn(i.concat(Ft("_",ze(b+"",!1))),s);return o.length&&(w=Yt(e.helper(u_),[w,Di(o)])),{slots:w,hasDynamicSlots:a}}function Lc(t,e,r){const n=[Ft("name",t),Ft("fn",e)];return r!=null&&n.push(Ft("key",ze(String(r),!0))),gn(n)}function su(t){for(let e=0;e<t.length;e++){const r=t[e];switch(r.type){case 1:if(r.tagType===2||su(r.children))return!0;break;case 9:if(su(r.branches))return!0;break;case 10:case 11:if(su(r.children))return!0;break}}return!1}function R_(t){return t.type!==2&&t.type!==12?!0:t.type===2?!!t.content.trim():R_(t.content)}const N_=new WeakMap,JS=(t,e)=>function(){if(t=e.currentNode,!(t.type===1&&(t.tagType===0||t.tagType===1)))return;const{tag:n,props:s}=t,i=t.tagType===1;let o=i?XS(t,e):`"${n}"`;const a=pt(o)&&o.callee===lm;let c,d,h=0,f,p,y,b=a||o===Za||o===nm||!i&&(n==="svg"||n==="foreignObject"||n==="math");if(s.length>0){const w=$_(t,e,void 0,i,a);c=w.props,h=w.patchFlag,p=w.dynamicPropNames;const x=w.directives;y=x&&x.length?Di(x.map(I=>e5(I,e))):void 0,w.shouldUseBlock&&(b=!0)}if(t.children.length>0)if(o===Ru&&(b=!0,h|=1024),i&&o!==Za&&o!==Ru){const{slots:x,hasDynamicSlots:I}=YS(t,e);d=x,I&&(h|=1024)}else if(t.children.length===1&&o!==Za){const x=t.children[0],I=x.type,C=I===5||I===8;C&&tn(x,e)===0&&(h|=1),C||I===2?d=x:d=t.children}else d=t.children;p&&p.length&&(f=t5(p)),t.codegenNode=xl(e,o,c,d,h===0?void 0:h,f,y,!!b,!1,i,t.loc)};function XS(t,e,r=!1){let{tag:n}=t;const s=jf(n),i=Id(t,"is",!1,!0);if(i)if(s||Mi("COMPILER_IS_ON_ELEMENT",e)){let a;if(i.type===6?a=i.value&&ze(i.value.content,!0):(a=i.exp,a||(a=ze("is",!1,i.arg.loc))),a)return Yt(e.helper(lm),[a])}else i.type===6&&i.value.content.startsWith("vue:")&&(n=i.value.content.slice(4));const o=f_(n)||e.isBuiltInComponent(n);return o?(r||e.helper(o),o):(e.helper(am),e.components.add(n),wl(n,"component"))}function $_(t,e,r=t.props,n,s,i=!1){const{tag:o,loc:a,children:c}=t;let d=[];const h=[],f=[],p=c.length>0;let y=!1,b=0,w=!1,x=!1,I=!1,C=!1,E=!1,R=!1;const A=[],M=k=>{d.length&&(h.push(gn(Sy(d),a)),d=[]),k&&h.push(k)},T=()=>{e.scopes.vFor>0&&d.push(Ft(ze("ref_for",!0),ze("true")))},v=({key:k,value:N})=>{if(Wr(k)){const S=k.content,P=Xi(S);if(P&&(!n||s)&&S.toLowerCase()!=="onclick"&&S!=="onUpdate:modelValue"&&!Gs(S)&&(C=!0),P&&Gs(S)&&(R=!0),P&&N.type===14&&(N=N.arguments[0]),N.type===20||(N.type===4||N.type===8)&&tn(N,e)>0)return;S==="ref"?w=!0:S==="class"?x=!0:S==="style"?I=!0:S!=="key"&&!A.includes(S)&&A.push(S),n&&(S==="class"||S==="style")&&!A.includes(S)&&A.push(S)}else E=!0};for(let k=0;k<r.length;k++){const N=r[k];if(N.type===6){const{loc:S,name:P,nameLoc:le,value:ue}=N;let G=!0;if(P==="ref"&&(w=!0,T()),P==="is"&&(jf(o)||ue&&ue.content.startsWith("vue:")||Mi("COMPILER_IS_ON_ELEMENT",e)))continue;d.push(Ft(ze(P,!0,le),ze(ue?ue.content:"",G,ue?ue.loc:S)))}else{const{name:S,arg:P,exp:le,loc:ue,modifiers:G}=N,j=S==="bind",te=S==="on";if(S==="slot"){n||e.onError(At(40,ue));continue}if(S==="once"||S==="memo"||S==="is"||j&&Ai(P,"is")&&(jf(o)||Mi("COMPILER_IS_ON_ELEMENT",e))||te&&i)continue;if((j&&Ai(P,"key")||te&&p&&Ai(P,"vue:before-update"))&&(y=!0),j&&Ai(P,"ref")&&T(),!P&&(j||te)){if(E=!0,le)if(j){if(T(),M(),Mi("COMPILER_V_BIND_OBJECT_ORDER",e)){h.unshift(le);continue}h.push(le)}else M({type:14,loc:ue,callee:e.helper(mm),arguments:n?[le]:[le,"true"]});else e.onError(At(j?34:35,ue));continue}j&&G.some(ke=>ke.content==="prop")&&(b|=32);const oe=e.directiveTransforms[S];if(oe){const{props:ke,needRuntime:ye}=oe(N,t,e);!i&&ke.forEach(v),te&&P&&!Wr(P)?M(gn(ke,a)):d.push(...ke),ye&&(f.push(N),Gr(ye)&&N_.set(N,ye))}else lI(S)||(f.push(N),p&&(y=!0))}}let m;if(h.length?(M(),h.length>1?m=Yt(e.helper(Nu),h,a):m=h[0]):d.length&&(m=gn(Sy(d),a)),E?b|=16:(x&&!n&&(b|=2),I&&!n&&(b|=4),A.length&&(b|=8),C&&(b|=32)),!y&&(b===0||b===32)&&(w||R||f.length>0)&&(b|=512),!e.inSSR&&m)switch(m.type){case 15:let k=-1,N=-1,S=!1;for(let ue=0;ue<m.properties.length;ue++){const G=m.properties[ue].key;Wr(G)?G.content==="class"?k=ue:G.content==="style"&&(N=ue):G.isHandlerKey||(S=!0)}const P=m.properties[k],le=m.properties[N];S?m=Yt(e.helper(bl),[m]):(P&&!Wr(P.value)&&(P.value=Yt(e.helper(fm),[P.value])),le&&(I||le.value.type===4&&le.value.content.trim()[0]==="["||le.value.type===17)&&(le.value=Yt(e.helper(pm),[le.value])));break;case 14:break;default:m=Yt(e.helper(bl),[Yt(e.helper(Hl),[m])]);break}return{props:m,directives:f,patchFlag:b,dynamicPropNames:A,shouldUseBlock:y}}function Sy(t){const e=new Map,r=[];for(let n=0;n<t.length;n++){const s=t[n];if(s.key.type===8||!s.key.isStatic){r.push(s);continue}const i=s.key.content,o=e.get(i);o?(i==="style"||i==="class"||Xi(i))&&ZS(o,s):(e.set(i,s),r.push(s))}return r}function ZS(t,e){t.value.type===17?t.value.elements.push(e.value):t.value=Di([t.value,e.value],t.loc)}function e5(t,e){const r=[],n=N_.get(t);n?r.push(e.helperString(n)):(e.helper(cm),e.directives.add(t.name),r.push(wl(t.name,"directive")));const{loc:s}=t;if(t.exp&&r.push(t.exp),t.arg&&(t.exp||r.push("void 0"),r.push(t.arg)),Object.keys(t.modifiers).length){t.arg||(t.exp||r.push("void 0"),r.push("void 0"));const i=ze("true",!1,s);r.push(gn(t.modifiers.map(o=>Ft(o,i)),s))}return Di(r,t.loc)}function t5(t){let e="[";for(let r=0,n=t.length;r<n;r++)e+=JSON.stringify(t[r]),r<n-1&&(e+=", ");return e+"]"}function jf(t){return t==="component"||t==="Component"}const r5=(t,e)=>{if(Mu(t)){const{children:r,loc:n}=t,{slotName:s,slotProps:i}=n5(t,e),o=[e.prefixIdentifiers?"_ctx.$slots":"$slots",s,"{}","undefined","true"];let a=2;i&&(o[2]=i,a=3),r.length&&(o[3]=Wo([],r,!1,!1,n),a=4),e.scopeId&&!e.slotted&&(a=5),o.splice(a),t.codegenNode=Yt(e.helper(c_),o,n)}};function n5(t,e){let r='"default"',n;const s=[];for(let i=0;i<t.props.length;i++){const o=t.props[i];if(o.type===6)o.value&&(o.name==="name"?r=JSON.stringify(o.value.content):(o.name=Et(o.name),s.push(o)));else if(o.name==="bind"&&Ai(o.arg,"name")){if(o.exp)r=o.exp;else if(o.arg&&o.arg.type===4){const a=Et(o.arg.content);r=o.exp=ze(a,!1,o.arg.loc)}}else o.name==="bind"&&o.arg&&Wr(o.arg)&&(o.arg.content=Et(o.arg.content)),s.push(o)}if(s.length>0){const{props:i,directives:o}=$_(t,e,s,!1,!1);n=i,o.length&&e.onError(At(36,o[0].loc))}return{slotName:r,slotProps:n}}const O_=(t,e,r,n)=>{const{loc:s,modifiers:i,arg:o}=t;!t.exp&&!i.length&&r.onError(At(35,s));let a;if(o.type===4)if(o.isStatic){let f=o.content;f.startsWith("vue:")&&(f=`vnode-${f.slice(4)}`);const p=e.tagType!==0||f.startsWith("vnode")||!/[A-Z]/.test(f)?$o(Et(f)):`on:${f}`;a=ze(p,!0,o.loc)}else a=Cn([`${r.helperString(Mf)}(`,o,")"]);else a=o,a.children.unshift(`${r.helperString(Mf)}(`),a.children.push(")");let c=t.exp;c&&!c.content.trim()&&(c=void 0);let d=r.cacheHandlers&&!c&&!r.inVOnce;if(c){const f=m_(c),p=!(f||eS(c)),y=c.content.includes(";");(p||d&&f)&&(c=Cn([`${p?"$event":"(...args)"} => ${y?"{":"("}`,c,y?"}":")"]))}let h={props:[Ft(a,c||ze("() => {}",!1,s))]};return n&&(h=n(h)),d&&(h.props[0].value=r.cache(h.props[0].value)),h.props.forEach(f=>f.key.isHandlerKey=!0),h},s5=(t,e)=>{if(t.type===0||t.type===1||t.type===11||t.type===10)return()=>{const r=t.children;let n,s=!1;for(let i=0;i<r.length;i++){const o=r[i];if(Fh(o)){s=!0;for(let a=i+1;a<r.length;a++){const c=r[a];if(Fh(c))n||(n=r[i]=Cn([o],o.loc)),n.children.push(" + ",c),r.splice(a,1),a--;else{n=void 0;break}}}}if(!(!s||r.length===1&&(t.type===0||t.type===1&&t.tagType===0&&!t.props.find(i=>i.type===7&&!e.directiveTransforms[i.name])&&t.tag!=="template")))for(let i=0;i<r.length;i++){const o=r[i];if(Fh(o)||o.type===8){const a=[];(o.type!==2||o.content!==" ")&&a.push(o),!e.ssr&&tn(o,e)===0&&a.push("1"),r[i]={type:12,content:o,loc:o.loc,codegenNode:Yt(e.helper(om),a)}}}}},Cy=new WeakSet,i5=(t,e)=>{if(t.type===1&&pn(t,"once",!0))return Cy.has(t)||e.inVOnce||e.inSSR?void 0:(Cy.add(t),e.inVOnce=!0,e.helper($u),()=>{e.inVOnce=!1;const r=e.currentNode;r.codegenNode&&(r.codegenNode=e.cache(r.codegenNode,!0,!0))})},D_=(t,e,r)=>{const{exp:n,arg:s}=t;if(!n)return r.onError(At(41,t.loc)),Fc();const i=n.loc.source.trim(),o=n.type===4?n.content:i,a=r.bindingMetadata[i];if(a==="props"||a==="props-aliased")return r.onError(At(44,n.loc)),Fc();if(!o.trim()||!m_(n))return r.onError(At(42,n.loc)),Fc();const c=s||ze("modelValue",!0),d=s?Wr(s)?`onUpdate:${Et(s.content)}`:Cn(['"onUpdate:" + ',s]):"onUpdate:modelValue";let h;const f=r.isTS?"($event: any)":"$event";h=Cn([`${f} => ((`,n,") = $event)"]);const p=[Ft(c,t.exp),Ft(d,h)];if(t.modifiers.length&&e.tagType===1){const y=t.modifiers.map(w=>w.content).map(w=>(xm(w)?w:JSON.stringify(w))+": true").join(", "),b=s?Wr(s)?`${s.content}Modifiers`:Cn([s,' + "Modifiers"']):"modelModifiers";p.push(Ft(b,ze(`{ ${y} }`,!1,t.loc,2)))}return Fc(p)};function Fc(t=[]){return{props:t}}const o5=/[\w).+\-_$\]]/,a5=(t,e)=>{Mi("COMPILER_FILTERS",e)&&(t.type===5?Lu(t.content,e):t.type===1&&t.props.forEach(r=>{r.type===7&&r.name!=="for"&&r.exp&&Lu(r.exp,e)}))};function Lu(t,e){if(t.type===4)Py(t,e);else for(let r=0;r<t.children.length;r++){const n=t.children[r];typeof n=="object"&&(n.type===4?Py(n,e):n.type===8?Lu(t,e):n.type===5&&Lu(n.content,e))}}function Py(t,e){const r=t.content;let n=!1,s=!1,i=!1,o=!1,a=0,c=0,d=0,h=0,f,p,y,b,w=[];for(y=0;y<r.length;y++)if(p=f,f=r.charCodeAt(y),n)f===39&&p!==92&&(n=!1);else if(s)f===34&&p!==92&&(s=!1);else if(i)f===96&&p!==92&&(i=!1);else if(o)f===47&&p!==92&&(o=!1);else if(f===124&&r.charCodeAt(y+1)!==124&&r.charCodeAt(y-1)!==124&&!a&&!c&&!d)b===void 0?(h=y+1,b=r.slice(0,y).trim()):x();else{switch(f){case 34:s=!0;break;case 39:n=!0;break;case 96:i=!0;break;case 40:d++;break;case 41:d--;break;case 91:c++;break;case 93:c--;break;case 123:a++;break;case 125:a--;break}if(f===47){let I=y-1,C;for(;I>=0&&(C=r.charAt(I),C===" ");I--);(!C||!o5.test(C))&&(o=!0)}}b===void 0?b=r.slice(0,y).trim():h!==0&&x();function x(){w.push(r.slice(h,y).trim()),h=y+1}if(w.length){for(y=0;y<w.length;y++)b=l5(b,w[y],e);t.content=b,t.ast=void 0}}function l5(t,e,r){r.helper(um);const n=e.indexOf("(");if(n<0)return r.filters.add(e),`${wl(e,"filter")}(${t})`;{const s=e.slice(0,n),i=e.slice(n+1);return r.filters.add(s),`${wl(s,"filter")}(${t}${i!==")"?","+i:i}`}}const Ry=new WeakSet,c5=(t,e)=>{if(t.type===1){const r=pn(t,"memo");return!r||Ry.has(t)?void 0:(Ry.add(t),()=>{const n=t.codegenNode||e.currentNode.codegenNode;n&&n.type===13&&(t.tagType!==1&&vm(n,e),t.codegenNode=Yt(e.helper(ym),[r.exp,Wo(void 0,n),"_cache",String(e.cached.length)]),e.cached.push(null))})}};function u5(t){return[[i5,jS,c5,zS,a5,r5,JS,GS,s5],{on:O_,bind:HS,model:D_}]}function d5(t,e={}){const r=e.onError||bm,n=e.mode==="module";e.prefixIdentifiers===!0?r(At(47)):n&&r(At(48));const s=!1;e.cacheHandlers&&r(At(49)),e.scopeId&&!n&&r(At(50));const i=Qe({},e,{prefixIdentifiers:s}),o=Be(t)?vS(t,i):t,[a,c]=u5();return wS(o,Qe({},i,{nodeTransforms:[...a,...e.nodeTransforms||[]],directiveTransforms:Qe({},c,e.directiveTransforms||{})})),TS(o,i)}const h5=()=>({props:[]});/**
* @vue/compiler-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const M_=Symbol(""),V_=Symbol(""),L_=Symbol(""),F_=Symbol(""),Bf=Symbol(""),U_=Symbol(""),j_=Symbol(""),B_=Symbol(""),q_=Symbol(""),H_=Symbol("");BA({[M_]:"vModelRadio",[V_]:"vModelCheckbox",[L_]:"vModelText",[F_]:"vModelSelect",[Bf]:"vModelDynamic",[U_]:"withModifiers",[j_]:"withKeys",[B_]:"vShow",[q_]:"Transition",[H_]:"TransitionGroup"});let yo;function f5(t,e=!1){return yo||(yo=document.createElement("div")),e?(yo.innerHTML=`<div foo="${t.replace(/"/g,"&quot;")}">`,yo.children[0].getAttribute("foo")):(yo.innerHTML=t,yo.textContent)}const p5={parseMode:"html",isVoidTag:II,isNativeTag:t=>wI(t)||kI(t)||EI(t),isPreTag:t=>t==="pre",isIgnoreNewlineTag:t=>t==="pre"||t==="textarea",decodeEntities:f5,isBuiltInComponent:t=>{if(t==="Transition"||t==="transition")return q_;if(t==="TransitionGroup"||t==="transition-group")return H_},getNamespace(t,e,r){let n=e?e.ns:r;if(e&&n===2)if(e.tag==="annotation-xml"){if(t==="svg")return 1;e.props.some(s=>s.type===6&&s.name==="encoding"&&s.value!=null&&(s.value.content==="text/html"||s.value.content==="application/xhtml+xml"))&&(n=0)}else/^m(?:[ions]|text)$/.test(e.tag)&&t!=="mglyph"&&t!=="malignmark"&&(n=0);else e&&n===1&&(e.tag==="foreignObject"||e.tag==="desc"||e.tag==="title")&&(n=0);if(n===0){if(t==="svg")return 1;if(t==="math")return 2}return n}},m5=t=>{t.type===1&&t.props.forEach((e,r)=>{e.type===6&&e.name==="style"&&e.value&&(t.props[r]={type:7,name:"bind",arg:ze("style",!0,e.loc),exp:g5(e.value.content,e.loc),modifiers:[],loc:e.loc})})},g5=(t,e)=>{const r=n1(t);return ze(JSON.stringify(r),!1,e,3)};function Js(t,e){return At(t,e)}const y5=(t,e,r)=>{const{exp:n,loc:s}=t;return n||r.onError(Js(53,s)),e.children.length&&(r.onError(Js(54,s)),e.children.length=0),{props:[Ft(ze("innerHTML",!0,s),n||ze("",!0))]}},v5=(t,e,r)=>{const{exp:n,loc:s}=t;return n||r.onError(Js(55,s)),e.children.length&&(r.onError(Js(56,s)),e.children.length=0),{props:[Ft(ze("textContent",!0),n?tn(n,r)>0?n:Yt(r.helperString(Ed),[n],s):ze("",!0))]}},b5=(t,e,r)=>{const n=D_(t,e,r);if(!n.props.length||e.tagType===1)return n;t.arg&&r.onError(Js(58,t.arg.loc));const{tag:s}=e,i=r.isCustomElement(s);if(s==="input"||s==="textarea"||s==="select"||i){let o=L_,a=!1;if(s==="input"||i){const c=Id(e,"type");if(c){if(c.type===7)o=Bf;else if(c.value)switch(c.value.content){case"radio":o=M_;break;case"checkbox":o=V_;break;case"file":a=!0,r.onError(Js(59,t.loc));break}}else tS(e)&&(o=Bf)}else s==="select"&&(o=F_);a||(n.needRuntime=r.helper(o))}else r.onError(Js(57,t.loc));return n.props=n.props.filter(o=>!(o.key.type===4&&o.key.content==="modelValue")),n},x5=ln("passive,once,capture"),_5=ln("stop,prevent,self,ctrl,shift,alt,meta,exact,middle"),w5=ln("left,right"),z_=ln("onkeyup,onkeydown,onkeypress"),k5=(t,e,r,n)=>{const s=[],i=[],o=[];for(let a=0;a<e.length;a++){const c=e[a].content;c==="native"&&_l("COMPILER_V_ON_NATIVE",r)||x5(c)?o.push(c):w5(c)?Wr(t)?z_(t.content.toLowerCase())?s.push(c):i.push(c):(s.push(c),i.push(c)):_5(c)?i.push(c):s.push(c)}return{keyModifiers:s,nonKeyModifiers:i,eventOptionModifiers:o}},Ny=(t,e)=>Wr(t)&&t.content.toLowerCase()==="onclick"?ze(e,!0):t.type!==4?Cn(["(",t,`) === "onClick" ? "${e}" : (`,t,")"]):t,E5=(t,e,r)=>O_(t,e,r,n=>{const{modifiers:s}=t;if(!s.length)return n;let{key:i,value:o}=n.props[0];const{keyModifiers:a,nonKeyModifiers:c,eventOptionModifiers:d}=k5(i,s,r,t.loc);if(c.includes("right")&&(i=Ny(i,"onContextmenu")),c.includes("middle")&&(i=Ny(i,"onMouseup")),c.length&&(o=Yt(r.helper(U_),[o,JSON.stringify(c)])),a.length&&(!Wr(i)||z_(i.content.toLowerCase()))&&(o=Yt(r.helper(j_),[o,JSON.stringify(a)])),d.length){const h=d.map(eo).join("");i=Wr(i)?ze(`${i.content}${h}`,!0):Cn(["(",i,`) + "${h}"`])}return{props:[Ft(i,o)]}}),I5=(t,e,r)=>{const{exp:n,loc:s}=t;return n||r.onError(Js(61,s)),{props:[],needRuntime:r.helper(B_)}},T5=(t,e)=>{t.type===1&&t.tagType===0&&(t.tag==="script"||t.tag==="style")&&e.removeNode()},A5=[m5],S5={cloak:h5,html:y5,text:v5,model:b5,on:E5,show:I5};function C5(t,e={}){return d5(t,Qe({},p5,e,{nodeTransforms:[T5,...A5,...e.nodeTransforms||[]],directiveTransforms:Qe({},S5,e.directiveTransforms||{}),transformHoist:null}))}/**
* vue v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const $y=Object.create(null);function P5(t,e){if(!Be(t))if(t.nodeType)t=t.innerHTML;else return or;const r=dI(t,e),n=$y[r];if(n)return n;if(t[0]==="#"){const a=document.querySelector(t);t=a?a.innerHTML:""}const s=Qe({hoistStatic:!0,onError:void 0,onWarn:or},e);!s.isCustomElement&&typeof customElements<"u"&&(s.isCustomElement=a=>!!customElements.get(a));const{code:i}=C5(t,s),o=new Function("Vue",i)(MA);return o._rc=!0,$y[r]=o}Nx(P5);/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let W_;const Sd=t=>W_=t,K_=Symbol();function qf(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var el;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(el||(el={}));function R5(){const t=Op(!0),e=t.run(()=>q({}));let r=[],n=[];const s=pd({install(i){Sd(s),s._a=i,i.provide(K_,s),i.config.globalProperties.$pinia=s,n.forEach(o=>r.push(o)),n=[]},use(i){return this._a?r.push(i):n.push(i),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return s}const G_=()=>{};function Oy(t,e,r,n=G_){t.push(e);const s=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),n())};return!r&&Dp()&&a1(s),s}function vo(t,...e){t.slice().forEach(r=>{r(...e)})}const N5=t=>t(),Dy=Symbol(),jh=Symbol();function Hf(t,e){t instanceof Map&&e instanceof Map?e.forEach((r,n)=>t.set(n,r)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r],s=t[r];qf(s)&&qf(n)&&t.hasOwnProperty(r)&&!Ct(n)&&!Sn(n)?t[r]=Hf(s,n):t[r]=n}return t}const $5=Symbol();function O5(t){return!qf(t)||!t.hasOwnProperty($5)}const{assign:$s}=Object;function D5(t){return!!(Ct(t)&&t.effect)}function M5(t,e,r,n){const{state:s,actions:i,getters:o}=e,a=r.state.value[t];let c;function d(){a||(r.state.value[t]=s?s():{});const h=I1(r.state.value[t]);return $s(h,i,Object.keys(o||{}).reduce((f,p)=>(f[p]=pd(ee(()=>{Sd(r);const y=r._s.get(t);return o[p].call(y,y)})),f),{}))}return c=Q_(t,d,e,r,n,!0),c}function Q_(t,e,r={},n,s,i){let o;const a=$s({actions:{}},r),c={deep:!0};let d,h,f=[],p=[],y;const b=n.state.value[t];!i&&!b&&(n.state.value[t]={}),q({});let w;function x(v){let m;d=h=!1,typeof v=="function"?(v(n.state.value[t]),m={type:el.patchFunction,storeId:t,events:y}):(Hf(n.state.value[t],v),m={type:el.patchObject,payload:v,storeId:t,events:y});const k=w=Symbol();ar().then(()=>{w===k&&(d=!0)}),h=!0,vo(f,m,n.state.value[t])}const I=i?function(){const{state:m}=r,k=m?m():{};this.$patch(N=>{$s(N,k)})}:G_;function C(){o.stop(),f=[],p=[],n._s.delete(t)}const E=(v,m="")=>{if(Dy in v)return v[jh]=m,v;const k=function(){Sd(n);const N=Array.from(arguments),S=[],P=[];function le(j){S.push(j)}function ue(j){P.push(j)}vo(p,{args:N,name:k[jh],store:A,after:le,onError:ue});let G;try{G=v.apply(this&&this.$id===t?this:A,N)}catch(j){throw vo(P,j),j}return G instanceof Promise?G.then(j=>(vo(S,j),j)).catch(j=>(vo(P,j),Promise.reject(j))):(vo(S,G),G)};return k[Dy]=!0,k[jh]=m,k},R={_p:n,$id:t,$onAction:Oy.bind(null,p),$patch:x,$reset:I,$subscribe(v,m={}){const k=Oy(f,v,m.detached,()=>N()),N=o.run(()=>Rt(()=>n.state.value[t],S=>{(m.flush==="sync"?h:d)&&v({storeId:t,type:el.direct,events:y},S)},$s({},c,m)));return k},$dispose:C},A=Qr(R);n._s.set(t,A);const T=(n._a&&n._a.runWithContext||N5)(()=>n._e.run(()=>(o=Op()).run(()=>e({action:E}))));for(const v in T){const m=T[v];if(Ct(m)&&!D5(m)||Sn(m))i||(b&&O5(m)&&(Ct(m)?m.value=b[v]:Hf(m,b[v])),n.state.value[t][v]=m);else if(typeof m=="function"){const k=E(m,v);T[v]=k,a.actions[v]=m}}return $s(A,T),$s(We(A),T),Object.defineProperty(A,"$state",{get:()=>n.state.value[t],set:v=>{x(m=>{$s(m,v)})}}),n._p.forEach(v=>{$s(A,o.run(()=>v({store:A,app:n._a,pinia:n,options:a})))}),b&&i&&r.hydrate&&r.hydrate(A.$state,b),d=!0,h=!0,A}/*! #__NO_SIDE_EFFECTS__ */function Cd(t,e,r){let n,s;const i=typeof e=="function";typeof t=="string"?(n=t,s=i?r:e):(s=t,n=t.id);function o(a,c){const d=tx();return a=a||(d?ot(K_,null):null),a&&Sd(a),a=W_,a._s.has(n)||(i?Q_(n,e,s,a):M5(n,s,a)),a._s.get(n)}return o.$id=n,o}function V5(t){{const e=We(t),r={};for(const n in e){const s=e[n];s.effect?r[n]=ee({get:()=>t[n],set(i){t[n]=i}}):(Ct(s)||Sn(s))&&(r[n]=T1(t,n))}return r}}const km=Cd("theme",()=>{const t=()=>{const s=localStorage.getItem("theme");return s||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")},e=q("light");typeof window<"u"&&(e.value=t(),r(e.value)),Rt(e,s=>{localStorage.setItem("theme",s),r(s)});function r(s){s==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}function n(){e.value=e.value==="light"?"dark":"light"}return{theme:e,toggleTheme:n}});/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const _o=typeof document<"u";function Y_(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function L5(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&Y_(t.default)}const dt=Object.assign;function Bh(t,e){const r={};for(const n in e){const s=e[n];r[n]=Rn(s)?s.map(t):t(s)}return r}const tl=()=>{},Rn=Array.isArray,J_=/#/g,F5=/&/g,U5=/\//g,j5=/=/g,B5=/\?/g,X_=/\+/g,q5=/%5B/g,H5=/%5D/g,Z_=/%5E/g,z5=/%60/g,ew=/%7B/g,W5=/%7C/g,tw=/%7D/g,K5=/%20/g;function Em(t){return encodeURI(""+t).replace(W5,"|").replace(q5,"[").replace(H5,"]")}function G5(t){return Em(t).replace(ew,"{").replace(tw,"}").replace(Z_,"^")}function zf(t){return Em(t).replace(X_,"%2B").replace(K5,"+").replace(J_,"%23").replace(F5,"%26").replace(z5,"`").replace(ew,"{").replace(tw,"}").replace(Z_,"^")}function Q5(t){return zf(t).replace(j5,"%3D")}function Y5(t){return Em(t).replace(J_,"%23").replace(B5,"%3F")}function J5(t){return t==null?"":Y5(t).replace(U5,"%2F")}function El(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const X5=/\/$/,Z5=t=>t.replace(X5,"");function qh(t,e,r="/"){let n,s={},i="",o="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(n=e.slice(0,c),i=e.slice(c+1,a>-1?a:e.length),s=t(i)),a>-1&&(n=n||e.slice(0,a),o=e.slice(a,e.length)),n=nC(n??e,r),{fullPath:n+(i&&"?")+i+o,path:n,query:s,hash:El(o)}}function eC(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function My(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function tC(t,e,r){const n=e.matched.length-1,s=r.matched.length-1;return n>-1&&n===s&&Qo(e.matched[n],r.matched[s])&&rw(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function Qo(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function rw(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!rC(t[r],e[r]))return!1;return!0}function rC(t,e){return Rn(t)?Vy(t,e):Rn(e)?Vy(e,t):t===e}function Vy(t,e){return Rn(e)?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function nC(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),n=t.split("/"),s=n[n.length-1];(s===".."||s===".")&&n.push("");let i=r.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")i>1&&i--;else break;return r.slice(0,i).join("/")+"/"+n.slice(o).join("/")}const Cs={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Il;(function(t){t.pop="pop",t.push="push"})(Il||(Il={}));var rl;(function(t){t.back="back",t.forward="forward",t.unknown=""})(rl||(rl={}));function sC(t){if(!t)if(_o){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Z5(t)}const iC=/^[^#]+#/;function oC(t,e){return t.replace(iC,"#")+e}function aC(t,e){const r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-r.left-(e.left||0),top:n.top-r.top-(e.top||0)}}const Pd=()=>({left:window.scrollX,top:window.scrollY});function lC(t){let e;if("el"in t){const r=t.el,n=typeof r=="string"&&r.startsWith("#"),s=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!s)return;e=aC(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function Ly(t,e){return(history.state?history.state.position-e:-1)+t}const Wf=new Map;function cC(t,e){Wf.set(t,e)}function uC(t){const e=Wf.get(t);return Wf.delete(t),e}let dC=()=>location.protocol+"//"+location.host;function nw(t,e){const{pathname:r,search:n,hash:s}=e,i=t.indexOf("#");if(i>-1){let a=s.includes(t.slice(i))?t.slice(i).length:1,c=s.slice(a);return c[0]!=="/"&&(c="/"+c),My(c,"")}return My(r,t)+n+s}function hC(t,e,r,n){let s=[],i=[],o=null;const a=({state:p})=>{const y=nw(t,location),b=r.value,w=e.value;let x=0;if(p){if(r.value=y,e.value=p,o&&o===b){o=null;return}x=w?p.position-w.position:0}else n(y);s.forEach(I=>{I(r.value,b,{delta:x,type:Il.pop,direction:x?x>0?rl.forward:rl.back:rl.unknown})})};function c(){o=r.value}function d(p){s.push(p);const y=()=>{const b=s.indexOf(p);b>-1&&s.splice(b,1)};return i.push(y),y}function h(){const{history:p}=window;p.state&&p.replaceState(dt({},p.state,{scroll:Pd()}),"")}function f(){for(const p of i)p();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:c,listen:d,destroy:f}}function Fy(t,e,r,n=!1,s=!1){return{back:t,current:e,forward:r,replaced:n,position:window.history.length,scroll:s?Pd():null}}function fC(t){const{history:e,location:r}=window,n={value:nw(t,r)},s={value:e.state};s.value||i(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(c,d,h){const f=t.indexOf("#"),p=f>-1?(r.host&&document.querySelector("base")?t:t.slice(f))+c:dC()+t+c;try{e[h?"replaceState":"pushState"](d,"",p),s.value=d}catch(y){console.error(y),r[h?"replace":"assign"](p)}}function o(c,d){const h=dt({},e.state,Fy(s.value.back,c,s.value.forward,!0),d,{position:s.value.position});i(c,h,!0),n.value=c}function a(c,d){const h=dt({},s.value,e.state,{forward:c,scroll:Pd()});i(h.current,h,!0);const f=dt({},Fy(n.value,c,null),{position:h.position+1},d);i(c,f,!1),n.value=c}return{location:n,state:s,push:a,replace:o}}function pC(t){t=sC(t);const e=fC(t),r=hC(t,e.state,e.location,e.replace);function n(i,o=!0){o||r.pauseListeners(),history.go(i)}const s=dt({location:"",base:t,go:n,createHref:oC.bind(null,t)},e,r);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function mC(t){return typeof t=="string"||t&&typeof t=="object"}function sw(t){return typeof t=="string"||typeof t=="symbol"}const iw=Symbol("");var Uy;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Uy||(Uy={}));function Yo(t,e){return dt(new Error,{type:t,[iw]:!0},e)}function Yn(t,e){return t instanceof Error&&iw in t&&(e==null||!!(t.type&e))}const jy="[^/]+?",gC={sensitive:!1,strict:!1,start:!0,end:!0},yC=/[.+*?^${}()[\]/\\]/g;function vC(t,e){const r=dt({},gC,e),n=[];let s=r.start?"^":"";const i=[];for(const d of t){const h=d.length?[]:[90];r.strict&&!d.length&&(s+="/");for(let f=0;f<d.length;f++){const p=d[f];let y=40+(r.sensitive?.25:0);if(p.type===0)f||(s+="/"),s+=p.value.replace(yC,"\\$&"),y+=40;else if(p.type===1){const{value:b,repeatable:w,optional:x,regexp:I}=p;i.push({name:b,repeatable:w,optional:x});const C=I||jy;if(C!==jy){y+=10;try{new RegExp(`(${C})`)}catch(R){throw new Error(`Invalid custom RegExp for param "${b}" (${C}): `+R.message)}}let E=w?`((?:${C})(?:/(?:${C}))*)`:`(${C})`;f||(E=x&&d.length<2?`(?:/${E})`:"/"+E),x&&(E+="?"),s+=E,y+=20,x&&(y+=-8),w&&(y+=-20),C===".*"&&(y+=-50)}h.push(y)}n.push(h)}if(r.strict&&r.end){const d=n.length-1;n[d][n[d].length-1]+=.7000000000000001}r.strict||(s+="/?"),r.end?s+="$":r.strict&&!s.endsWith("/")&&(s+="(?:/|$)");const o=new RegExp(s,r.sensitive?"":"i");function a(d){const h=d.match(o),f={};if(!h)return null;for(let p=1;p<h.length;p++){const y=h[p]||"",b=i[p-1];f[b.name]=y&&b.repeatable?y.split("/"):y}return f}function c(d){let h="",f=!1;for(const p of t){(!f||!h.endsWith("/"))&&(h+="/"),f=!1;for(const y of p)if(y.type===0)h+=y.value;else if(y.type===1){const{value:b,repeatable:w,optional:x}=y,I=b in d?d[b]:"";if(Rn(I)&&!w)throw new Error(`Provided param "${b}" is an array but it is not repeatable (* or + modifiers)`);const C=Rn(I)?I.join("/"):I;if(!C)if(x)p.length<2&&(h.endsWith("/")?h=h.slice(0,-1):f=!0);else throw new Error(`Missing required param "${b}"`);h+=C}}return h||"/"}return{re:o,score:n,keys:i,parse:a,stringify:c}}function bC(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=e[r]-t[r];if(n)return n;r++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function ow(t,e){let r=0;const n=t.score,s=e.score;for(;r<n.length&&r<s.length;){const i=bC(n[r],s[r]);if(i)return i;r++}if(Math.abs(s.length-n.length)===1){if(By(n))return 1;if(By(s))return-1}return s.length-n.length}function By(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const xC={type:0,value:""},_C=/[a-zA-Z0-9_]/;function wC(t){if(!t)return[[]];if(t==="/")return[[xC]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(y){throw new Error(`ERR (${r})/"${d}": ${y}`)}let r=0,n=r;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,c,d="",h="";function f(){d&&(r===0?i.push({type:0,value:d}):r===1||r===2||r===3?(i.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${d}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:d,regexp:h,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),d="")}function p(){d+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:c==="/"?(d&&f(),o()):c===":"?(f(),r=1):p();break;case 4:p(),r=n;break;case 1:c==="("?r=2:_C.test(c)?p():(f(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+c:r=3:h+=c;break;case 3:f(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,h="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${d}"`),f(),o(),s}function kC(t,e,r){const n=vC(wC(t.path),r),s=dt(n,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function EC(t,e){const r=[],n=new Map;e=Wy({strict:!1,end:!0,sensitive:!1},e);function s(f){return n.get(f)}function i(f,p,y){const b=!y,w=Hy(f);w.aliasOf=y&&y.record;const x=Wy(e,f),I=[w];if("alias"in f){const R=typeof f.alias=="string"?[f.alias]:f.alias;for(const A of R)I.push(Hy(dt({},w,{components:y?y.record.components:w.components,path:A,aliasOf:y?y.record:w})))}let C,E;for(const R of I){const{path:A}=R;if(p&&A[0]!=="/"){const M=p.record.path,T=M[M.length-1]==="/"?"":"/";R.path=p.record.path+(A&&T+A)}if(C=kC(R,p,x),y?y.alias.push(C):(E=E||C,E!==C&&E.alias.push(C),b&&f.name&&!zy(C)&&o(f.name)),aw(C)&&c(C),w.children){const M=w.children;for(let T=0;T<M.length;T++)i(M[T],C,y&&y.children[T])}y=y||C}return E?()=>{o(E)}:tl}function o(f){if(sw(f)){const p=n.get(f);p&&(n.delete(f),r.splice(r.indexOf(p),1),p.children.forEach(o),p.alias.forEach(o))}else{const p=r.indexOf(f);p>-1&&(r.splice(p,1),f.record.name&&n.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return r}function c(f){const p=AC(f,r);r.splice(p,0,f),f.record.name&&!zy(f)&&n.set(f.record.name,f)}function d(f,p){let y,b={},w,x;if("name"in f&&f.name){if(y=n.get(f.name),!y)throw Yo(1,{location:f});x=y.record.name,b=dt(qy(p.params,y.keys.filter(E=>!E.optional).concat(y.parent?y.parent.keys.filter(E=>E.optional):[]).map(E=>E.name)),f.params&&qy(f.params,y.keys.map(E=>E.name))),w=y.stringify(b)}else if(f.path!=null)w=f.path,y=r.find(E=>E.re.test(w)),y&&(b=y.parse(w),x=y.record.name);else{if(y=p.name?n.get(p.name):r.find(E=>E.re.test(p.path)),!y)throw Yo(1,{location:f,currentLocation:p});x=y.record.name,b=dt({},p.params,f.params),w=y.stringify(b)}const I=[];let C=y;for(;C;)I.unshift(C.record),C=C.parent;return{name:x,path:w,params:b,matched:I,meta:TC(I)}}t.forEach(f=>i(f));function h(){r.length=0,n.clear()}return{addRoute:i,resolve:d,removeRoute:o,clearRoutes:h,getRoutes:a,getRecordMatcher:s}}function qy(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function Hy(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:IC(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function IC(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const n in t.components)e[n]=typeof r=="object"?r[n]:r;return e}function zy(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function TC(t){return t.reduce((e,r)=>dt(e,r.meta),{})}function Wy(t,e){const r={};for(const n in t)r[n]=n in e?e[n]:t[n];return r}function AC(t,e){let r=0,n=e.length;for(;r!==n;){const i=r+n>>1;ow(t,e[i])<0?n=i:r=i+1}const s=SC(t);return s&&(n=e.lastIndexOf(s,n-1)),n}function SC(t){let e=t;for(;e=e.parent;)if(aw(e)&&ow(t,e)===0)return e}function aw({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function CC(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<n.length;++s){const i=n[s].replace(X_," "),o=i.indexOf("="),a=El(o<0?i:i.slice(0,o)),c=o<0?null:El(i.slice(o+1));if(a in e){let d=e[a];Rn(d)||(d=e[a]=[d]),d.push(c)}else e[a]=c}return e}function Ky(t){let e="";for(let r in t){const n=t[r];if(r=Q5(r),n==null){n!==void 0&&(e+=(e.length?"&":"")+r);continue}(Rn(n)?n.map(i=>i&&zf(i)):[n&&zf(n)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+r,i!=null&&(e+="="+i))})}return e}function PC(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=Rn(n)?n.map(s=>s==null?null:""+s):n==null?n:""+n)}return e}const RC=Symbol(""),Gy=Symbol(""),Rd=Symbol(""),Im=Symbol(""),Kf=Symbol("");function Pa(){let t=[];function e(n){return t.push(n),()=>{const s=t.indexOf(n);s>-1&&t.splice(s,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function Us(t,e,r,n,s,i=o=>o()){const o=n&&(n.enterCallbacks[s]=n.enterCallbacks[s]||[]);return()=>new Promise((a,c)=>{const d=p=>{p===!1?c(Yo(4,{from:r,to:e})):p instanceof Error?c(p):mC(p)?c(Yo(2,{from:e,to:p})):(o&&n.enterCallbacks[s]===o&&typeof p=="function"&&o.push(p),a())},h=i(()=>t.call(n&&n.instances[s],e,r,d));let f=Promise.resolve(h);t.length<3&&(f=f.then(d)),f.catch(p=>c(p))})}function Hh(t,e,r,n,s=i=>i()){const i=[];for(const o of t)for(const a in o.components){let c=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(Y_(c)){const h=(c.__vccOpts||c)[e];h&&i.push(Us(h,r,n,o,a,s))}else{let d=c();i.push(()=>d.then(h=>{if(!h)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=L5(h)?h.default:h;o.mods[a]=h,o.components[a]=f;const y=(f.__vccOpts||f)[e];return y&&Us(y,r,n,o,a,s)()}))}}return i}function Qy(t){const e=ot(Rd),r=ot(Im),n=ee(()=>{const c=H(t.to);return e.resolve(c)}),s=ee(()=>{const{matched:c}=n.value,{length:d}=c,h=c[d-1],f=r.matched;if(!h||!f.length)return-1;const p=f.findIndex(Qo.bind(null,h));if(p>-1)return p;const y=Yy(c[d-2]);return d>1&&Yy(h)===y&&f[f.length-1].path!==y?f.findIndex(Qo.bind(null,c[d-2])):p}),i=ee(()=>s.value>-1&&DC(r.params,n.value.params)),o=ee(()=>s.value>-1&&s.value===r.matched.length-1&&rw(r.params,n.value.params));function a(c={}){if(OC(c)){const d=e[H(t.replace)?"replace":"push"](H(t.to)).catch(tl);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>d),d}return Promise.resolve()}return{route:n,href:ee(()=>n.value.href),isActive:i,isExactActive:o,navigate:a}}function NC(t){return t.length===1?t[0]:t}const $C=Ze({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Qy,setup(t,{slots:e}){const r=Qr(Qy(t)),{options:n}=ot(Rd),s=ee(()=>({[Jy(t.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[Jy(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const i=e.default&&NC(e.default(r));return t.custom?i:vt("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:s.value},i)}}}),_t=$C;function OC(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function DC(t,e){for(const r in e){const n=e[r],s=t[r];if(typeof n=="string"){if(n!==s)return!1}else if(!Rn(s)||s.length!==n.length||n.some((i,o)=>i!==s[o]))return!1}return!0}function Yy(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Jy=(t,e,r)=>t??e??r,MC=Ze({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const n=ot(Kf),s=ee(()=>t.route||n.value),i=ot(Gy,0),o=ee(()=>{let d=H(i);const{matched:h}=s.value;let f;for(;(f=h[d])&&!f.components;)d++;return d}),a=ee(()=>s.value.matched[o.value]);zt(Gy,ee(()=>o.value+1)),zt(RC,a),zt(Kf,s);const c=q();return Rt(()=>[c.value,a.value,t.name],([d,h,f],[p,y,b])=>{h&&(h.instances[f]=d,y&&y!==h&&d&&d===p&&(h.leaveGuards.size||(h.leaveGuards=y.leaveGuards),h.updateGuards.size||(h.updateGuards=y.updateGuards))),d&&h&&(!y||!Qo(h,y)||!p)&&(h.enterCallbacks[f]||[]).forEach(w=>w(d))},{flush:"post"}),()=>{const d=s.value,h=t.name,f=a.value,p=f&&f.components[h];if(!p)return Xy(r.default,{Component:p,route:d});const y=f.props[h],b=y?y===!0?d.params:typeof y=="function"?y(d):y:null,x=vt(p,dt({},b,e,{onVnodeUnmounted:I=>{I.component.isUnmounted&&(f.instances[h]=null)},ref:c}));return Xy(r.default,{Component:x,route:d})||x}}});function Xy(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const VC=MC;function LC(t){const e=EC(t.routes,t),r=t.parseQuery||CC,n=t.stringifyQuery||Ky,s=t.history,i=Pa(),o=Pa(),a=Pa(),c=md(Cs);let d=Cs;_o&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Bh.bind(null,K=>""+K),f=Bh.bind(null,J5),p=Bh.bind(null,El);function y(K,L){let U,F;return sw(K)?(U=e.getRecordMatcher(K),F=L):F=K,e.addRoute(F,U)}function b(K){const L=e.getRecordMatcher(K);L&&e.removeRoute(L)}function w(){return e.getRoutes().map(K=>K.record)}function x(K){return!!e.getRecordMatcher(K)}function I(K,L){if(L=dt({},L||c.value),typeof K=="string"){const B=qh(r,K,L.path),Y=e.resolve({path:B.path},L),ie=s.createHref(B.fullPath);return dt(B,Y,{params:p(Y.params),hash:El(B.hash),redirectedFrom:void 0,href:ie})}let U;if(K.path!=null)U=dt({},K,{path:qh(r,K.path,L.path).path});else{const B=dt({},K.params);for(const Y in B)B[Y]==null&&delete B[Y];U=dt({},K,{params:f(B)}),L.params=f(L.params)}const F=e.resolve(U,L),be=K.hash||"";F.params=h(p(F.params));const re=eC(n,dt({},K,{hash:G5(be),path:F.path})),D=s.createHref(re);return dt({fullPath:re,hash:be,query:n===Ky?PC(K.query):K.query||{}},F,{redirectedFrom:void 0,href:D})}function C(K){return typeof K=="string"?qh(r,K,c.value.path):dt({},K)}function E(K,L){if(d!==K)return Yo(8,{from:L,to:K})}function R(K){return T(K)}function A(K){return R(dt(C(K),{replace:!0}))}function M(K){const L=K.matched[K.matched.length-1];if(L&&L.redirect){const{redirect:U}=L;let F=typeof U=="function"?U(K):U;return typeof F=="string"&&(F=F.includes("?")||F.includes("#")?F=C(F):{path:F},F.params={}),dt({query:K.query,hash:K.hash,params:F.path!=null?{}:K.params},F)}}function T(K,L){const U=d=I(K),F=c.value,be=K.state,re=K.force,D=K.replace===!0,B=M(U);if(B)return T(dt(C(B),{state:typeof B=="object"?dt({},be,B.state):be,force:re,replace:D}),L||U);const Y=U;Y.redirectedFrom=L;let ie;return!re&&tC(n,F,U)&&(ie=Yo(16,{to:Y,from:F}),ye(F,F,!0,!1)),(ie?Promise.resolve(ie):k(Y,F)).catch(J=>Yn(J)?Yn(J,2)?J:ke(J):te(J,Y,F)).then(J=>{if(J){if(Yn(J,2))return T(dt({replace:D},C(J.to),{state:typeof J.to=="object"?dt({},be,J.to.state):be,force:re}),L||Y)}else J=S(Y,F,!0,D,be);return N(Y,F,J),J})}function v(K,L){const U=E(K,L);return U?Promise.reject(U):Promise.resolve()}function m(K){const L=at.values().next().value;return L&&typeof L.runWithContext=="function"?L.runWithContext(K):K()}function k(K,L){let U;const[F,be,re]=FC(K,L);U=Hh(F.reverse(),"beforeRouteLeave",K,L);for(const B of F)B.leaveGuards.forEach(Y=>{U.push(Us(Y,K,L))});const D=v.bind(null,K,L);return U.push(D),gt(U).then(()=>{U=[];for(const B of i.list())U.push(Us(B,K,L));return U.push(D),gt(U)}).then(()=>{U=Hh(be,"beforeRouteUpdate",K,L);for(const B of be)B.updateGuards.forEach(Y=>{U.push(Us(Y,K,L))});return U.push(D),gt(U)}).then(()=>{U=[];for(const B of re)if(B.beforeEnter)if(Rn(B.beforeEnter))for(const Y of B.beforeEnter)U.push(Us(Y,K,L));else U.push(Us(B.beforeEnter,K,L));return U.push(D),gt(U)}).then(()=>(K.matched.forEach(B=>B.enterCallbacks={}),U=Hh(re,"beforeRouteEnter",K,L,m),U.push(D),gt(U))).then(()=>{U=[];for(const B of o.list())U.push(Us(B,K,L));return U.push(D),gt(U)}).catch(B=>Yn(B,8)?B:Promise.reject(B))}function N(K,L,U){a.list().forEach(F=>m(()=>F(K,L,U)))}function S(K,L,U,F,be){const re=E(K,L);if(re)return re;const D=L===Cs,B=_o?history.state:{};U&&(F||D?s.replace(K.fullPath,dt({scroll:D&&B&&B.scroll},be)):s.push(K.fullPath,be)),c.value=K,ye(K,L,U,D),ke()}let P;function le(){P||(P=s.listen((K,L,U)=>{if(!It.listening)return;const F=I(K),be=M(F);if(be){T(dt(be,{replace:!0,force:!0}),F).catch(tl);return}d=F;const re=c.value;_o&&cC(Ly(re.fullPath,U.delta),Pd()),k(F,re).catch(D=>Yn(D,12)?D:Yn(D,2)?(T(dt(C(D.to),{force:!0}),F).then(B=>{Yn(B,20)&&!U.delta&&U.type===Il.pop&&s.go(-1,!1)}).catch(tl),Promise.reject()):(U.delta&&s.go(-U.delta,!1),te(D,F,re))).then(D=>{D=D||S(F,re,!1),D&&(U.delta&&!Yn(D,8)?s.go(-U.delta,!1):U.type===Il.pop&&Yn(D,20)&&s.go(-1,!1)),N(F,re,D)}).catch(tl)}))}let ue=Pa(),G=Pa(),j;function te(K,L,U){ke(K);const F=G.list();return F.length?F.forEach(be=>be(K,L,U)):console.error(K),Promise.reject(K)}function oe(){return j&&c.value!==Cs?Promise.resolve():new Promise((K,L)=>{ue.add([K,L])})}function ke(K){return j||(j=!K,le(),ue.list().forEach(([L,U])=>K?U(K):L()),ue.reset()),K}function ye(K,L,U,F){const{scrollBehavior:be}=t;if(!_o||!be)return Promise.resolve();const re=!U&&uC(Ly(K.fullPath,0))||(F||!U)&&history.state&&history.state.scroll||null;return ar().then(()=>be(K,L,re)).then(D=>D&&lC(D)).catch(D=>te(D,K,L))}const Se=K=>s.go(K);let Le;const at=new Set,It={currentRoute:c,listening:!0,addRoute:y,removeRoute:b,clearRoutes:e.clearRoutes,hasRoute:x,getRoutes:w,resolve:I,options:t,push:R,replace:A,go:Se,back:()=>Se(-1),forward:()=>Se(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:G.add,isReady:oe,install(K){const L=this;K.component("RouterLink",_t),K.component("RouterView",VC),K.config.globalProperties.$router=L,Object.defineProperty(K.config.globalProperties,"$route",{enumerable:!0,get:()=>H(c)}),_o&&!Le&&c.value===Cs&&(Le=!0,R(s.location).catch(be=>{}));const U={};for(const be in Cs)Object.defineProperty(U,be,{get:()=>c.value[be],enumerable:!0});K.provide(Rd,L),K.provide(Im,Fp(U)),K.provide(Kf,c);const F=K.unmount;at.add(K),K.unmount=function(){at.delete(K),at.size<1&&(d=Cs,P&&P(),P=null,c.value=Cs,Le=!1,j=!1),F()}}};function gt(K){return K.reduce((L,U)=>L.then(()=>m(U)),Promise.resolve())}return It}function FC(t,e){const r=[],n=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(d=>Qo(d,a))?n.push(a):r.push(a));const c=t.matched[o];c&&(e.matched.find(d=>Qo(d,c))||s.push(c))}return[r,n,s]}function di(){return ot(Rd)}function Nd(t){return ot(Im)}var Zy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let s=t.charCodeAt(n);s<128?e[r++]=s:s<2048?(e[r++]=s>>6|192,e[r++]=s&63|128):(s&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=s>>18|240,e[r++]=s>>12&63|128,e[r++]=s>>6&63|128,e[r++]=s&63|128):(e[r++]=s>>12|224,e[r++]=s>>6&63|128,e[r++]=s&63|128)}return e},UC=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const s=t[r++];if(s<128)e[n++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[r++];e[n++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[r++],o=t[r++],a=t[r++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const i=t[r++],o=t[r++];e[n++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},cw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|d>>6,y=d&63;c||(y=64,o||(p=64)),n.push(r[h],r[f],r[p],r[y])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(lw(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):UC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let s=0;s<t.length;){const i=r[t.charAt(s++)],a=s<t.length?r[t.charAt(s)]:0;++s;const d=s<t.length?r[t.charAt(s)]:64;++s;const f=s<t.length?r[t.charAt(s)]:64;if(++s,i==null||a==null||d==null||f==null)throw new jC;const p=i<<2|a>>4;if(n.push(p),d!==64){const y=a<<4&240|d>>2;if(n.push(y),f!==64){const b=d<<6&192|f;n.push(b)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class jC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BC=function(t){const e=lw(t);return cw.encodeByteArray(e,!0)},Fu=function(t){return BC(t).replace(/\./g,"")},uw=function(t){try{return cw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=()=>qC().__FIREBASE_DEFAULTS__,zC=()=>{if(typeof process>"u"||typeof Zy>"u")return;const t=Zy.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},WC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&uw(t[1]);return e&&JSON.parse(e)},$d=()=>{try{return HC()||zC()||WC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},dw=t=>{var e,r;return(r=(e=$d())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},Tm=t=>{const e=dw(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},hw=()=>{var t;return(t=$d())===null||t===void 0?void 0:t.config},fw=t=>{var e;return(e=$d())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Fu(JSON.stringify(r)),Fu(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nr())}function QC(){var t;const e=(t=$d())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function YC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function mw(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function JC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function XC(){const t=Nr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function ZC(){return!QC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function gw(){try{return typeof indexedDB=="object"}catch{return!1}}function yw(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(n);s.onsuccess=()=>{s.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},s.onupgradeneeded=()=>{r=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(r){e(r)}})}function e3(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t3="FirebaseError";class wn extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=t3,Object.setPrototypeOf(this,wn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ro.prototype.create)}}class ro{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?r3(i,n):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new wn(s,a,n)}}function r3(t,e){return t.replace(n3,(r,n)=>{const s=e[n];return s!=null?String(s):`<${n}?>`})}const n3=/\{\$([^}]+)}/g;function s3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Tl(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const s of r){if(!n.includes(s))return!1;const i=t[s],o=e[s];if(ev(i)&&ev(o)){if(!Tl(i,o))return!1}else if(i!==o)return!1}for(const s of n)if(!r.includes(s))return!1;return!0}function ev(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wl(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(s=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Fa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[s,i]=n.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Ua(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function i3(t,e){const r=new o3(t,e);return r.subscribe.bind(r)}class o3{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let s;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");a3(e,["next","error","complete"])?s=e:s={next:e,error:r,complete:n},s.next===void 0&&(s.next=zh),s.error===void 0&&(s.error=zh),s.complete===void 0&&(s.complete=zh);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function a3(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function zh(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l3=1e3,c3=2,u3=4*60*60*1e3,d3=.5;function tv(t,e=l3,r=c3){const n=e*Math.pow(r,t),s=Math.round(d3*n*(Math.random()-.5)*2);return Math.min(u3,n+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mt(t){return t&&t._delegate?t._delegate:t}class an{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new KC;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:r});s&&n.resolve(s)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(p3(e))try{this.getOrInitializeService({instanceIdentifier:ki})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(r);try{const i=this.getOrInitializeService({instanceIdentifier:s});n.resolve(i)}catch{}}}}clearInstance(e=ki){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ki){return this.instances.has(e)}getOptions(e=ki){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);n===a&&o.resolve(s)}return s}onInit(e,r){var n;const s=this.normalizeInstanceIdentifier(r),i=(n=this.onInitCallbacks.get(s))!==null&&n!==void 0?n:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const s of n)try{s(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:f3(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=ki){return this.component?this.component.multipleInstances?e:ki:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function f3(t){return t===ki?void 0:t}function p3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new h3(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Je||(Je={}));const g3={debug:Je.DEBUG,verbose:Je.VERBOSE,info:Je.INFO,warn:Je.WARN,error:Je.ERROR,silent:Je.SILENT},y3=Je.INFO,v3={[Je.DEBUG]:"log",[Je.VERBOSE]:"log",[Je.INFO]:"info",[Je.WARN]:"warn",[Je.ERROR]:"error"},b3=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),s=v3[e];if(s)console[s](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Od{constructor(e){this.name=e,this._logLevel=y3,this._logHandler=b3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?g3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Je.DEBUG,...e),this._logHandler(this,Je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Je.VERBOSE,...e),this._logHandler(this,Je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Je.INFO,...e),this._logHandler(this,Je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Je.WARN,...e),this._logHandler(this,Je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Je.ERROR,...e),this._logHandler(this,Je.ERROR,...e)}}const x3=(t,e)=>e.some(r=>t instanceof r);let rv,nv;function _3(){return rv||(rv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function w3(){return nv||(nv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vw=new WeakMap,Gf=new WeakMap,bw=new WeakMap,Wh=new WeakMap,Am=new WeakMap;function k3(t){const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{r(Xs(t.result)),s()},o=()=>{n(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(r=>{r instanceof IDBCursor&&vw.set(r,t)}).catch(()=>{}),Am.set(e,t),e}function E3(t){if(Gf.has(t))return;const e=new Promise((r,n)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{r(),s()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Gf.set(t,e)}let Qf={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return Gf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bw.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Xs(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function I3(t){Qf=t(Qf)}function T3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Kh(this),e,...r);return bw.set(n,e.sort?e.sort():[e]),Xs(n)}:w3().includes(t)?function(...e){return t.apply(Kh(this),e),Xs(vw.get(this))}:function(...e){return Xs(t.apply(Kh(this),e))}}function A3(t){return typeof t=="function"?T3(t):(t instanceof IDBTransaction&&E3(t),x3(t,_3())?new Proxy(t,Qf):t)}function Xs(t){if(t instanceof IDBRequest)return k3(t);if(Wh.has(t))return Wh.get(t);const e=A3(t);return e!==t&&(Wh.set(t,e),Am.set(e,t)),e}const Kh=t=>Am.get(t);function xw(t,e,{blocked:r,upgrade:n,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Xs(o);return n&&o.addEventListener("upgradeneeded",c=>{n(Xs(o.result),c.oldVersion,c.newVersion,Xs(o.transaction),c)}),r&&o.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const S3=["get","getKey","getAll","getAllKeys","count"],C3=["put","add","delete","clear"],Gh=new Map;function sv(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gh.get(e))return Gh.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,s=C3.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(s||S3.includes(r)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let d=c.store;return n&&(d=d.index(a.shift())),(await Promise.all([d[r](...a),s&&c.done]))[0]};return Gh.set(e,i),i}I3(t=>({...t,get:(e,r,n)=>sv(e,r)||t.get(e,r,n),has:(e,r)=>!!sv(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(R3(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function R3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yf="@firebase/app",iv="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new Od("@firebase/app"),N3="@firebase/app-compat",$3="@firebase/analytics-compat",O3="@firebase/analytics",D3="@firebase/app-check-compat",M3="@firebase/app-check",V3="@firebase/auth",L3="@firebase/auth-compat",F3="@firebase/database",U3="@firebase/data-connect",j3="@firebase/database-compat",B3="@firebase/functions",q3="@firebase/functions-compat",H3="@firebase/installations",z3="@firebase/installations-compat",W3="@firebase/messaging",K3="@firebase/messaging-compat",G3="@firebase/performance",Q3="@firebase/performance-compat",Y3="@firebase/remote-config",J3="@firebase/remote-config-compat",X3="@firebase/storage",Z3="@firebase/storage-compat",eP="@firebase/firestore",tP="@firebase/vertexai-preview",rP="@firebase/firestore-compat",nP="firebase",sP="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf="[DEFAULT]",iP={[Yf]:"fire-core",[N3]:"fire-core-compat",[O3]:"fire-analytics",[$3]:"fire-analytics-compat",[M3]:"fire-app-check",[D3]:"fire-app-check-compat",[V3]:"fire-auth",[L3]:"fire-auth-compat",[F3]:"fire-rtdb",[U3]:"fire-data-connect",[j3]:"fire-rtdb-compat",[B3]:"fire-fn",[q3]:"fire-fn-compat",[H3]:"fire-iid",[z3]:"fire-iid-compat",[W3]:"fire-fcm",[K3]:"fire-fcm-compat",[G3]:"fire-perf",[Q3]:"fire-perf-compat",[Y3]:"fire-rc",[J3]:"fire-rc-compat",[X3]:"fire-gcs",[Z3]:"fire-gcs-compat",[eP]:"fire-fst",[rP]:"fire-fst-compat",[tP]:"fire-vertex","fire-js":"fire-js",[nP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al=new Map,oP=new Map,Xf=new Map;function ov(t,e){try{t.container.addComponent(e)}catch(r){hs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function xn(t){const e=t.name;if(Xf.has(e))return hs.debug(`There were multiple attempts to register component ${e}.`),!1;Xf.set(e,t);for(const r of Al.values())ov(r,t);for(const r of oP.values())ov(r,t);return!0}function vs(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Vn(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zs=new ro("app","Firebase",aP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new an("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const no=sP;function Sm(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:Jf,automaticDataCollectionEnabled:!1},e),s=n.name;if(typeof s!="string"||!s)throw Zs.create("bad-app-name",{appName:String(s)});if(r||(r=hw()),!r)throw Zs.create("no-options");const i=Al.get(s);if(i){if(Tl(r,i.options)&&Tl(n,i.config))return i;throw Zs.create("duplicate-app",{appName:s})}const o=new m3(s);for(const c of Xf.values())o.addComponent(c);const a=new lP(r,n,o);return Al.set(s,a),a}function ca(t=Jf){const e=Al.get(t);if(!e&&t===Jf&&hw())return Sm();if(!e)throw Zs.create("no-app",{appName:t});return e}function cP(){return Array.from(Al.values())}function Cr(t,e,r){var n;let s=(n=iP[t])!==null&&n!==void 0?n:t;r&&(s+=`-${r}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hs.warn(a.join(" "));return}xn(new an(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP="firebase-heartbeat-database",dP=1,Sl="firebase-heartbeat-store";let Qh=null;function _w(){return Qh||(Qh=xw(uP,dP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Sl)}catch(r){console.warn(r)}}}}).catch(t=>{throw Zs.create("idb-open",{originalErrorMessage:t.message})})),Qh}async function hP(t){try{const r=(await _w()).transaction(Sl),n=await r.objectStore(Sl).get(ww(t));return await r.done,n}catch(e){if(e instanceof wn)hs.warn(e.message);else{const r=Zs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hs.warn(r.message)}}}async function av(t,e){try{const n=(await _w()).transaction(Sl,"readwrite");await n.objectStore(Sl).put(e,ww(t)),await n.done}catch(r){if(r instanceof wn)hs.warn(r.message);else{const n=Zs.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});hs.warn(n.message)}}}function ww(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP=1024,pP=30*24*60*60*1e3;class mP{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new yP(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=lv();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=pP}),this._storage.overwrite(this._heartbeatsCache))}catch(n){hs.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=lv(),{heartbeatsToSend:n,unsentEntries:s}=gP(this._heartbeatsCache.heartbeats),i=Fu(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(r){return hs.warn(r),""}}}function lv(){return new Date().toISOString().substring(0,10)}function gP(t,e=fP){const r=[];let n=t.slice();for(const s of t){const i=r.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),cv(r)>e){i.dates.pop();break}}else if(r.push({agent:s.agent,dates:[s.date]}),cv(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class yP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return gw()?yw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await hP(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return av(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const s=await this.read();return av(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function cv(t){return Fu(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vP(t){xn(new an("platform-logger",e=>new P3(e),"PRIVATE")),xn(new an("heartbeat",e=>new mP(e),"PRIVATE")),Cr(Yf,iv,t),Cr(Yf,iv,"esm2017"),Cr("fire-js","")}vP("");function Cm(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function kw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bP=kw,Ew=new ro("auth","Firebase",kw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uu=new Od("@firebase/auth");function xP(t,...e){Uu.logLevel<=Je.WARN&&Uu.warn(`Auth (${no}): ${t}`,...e)}function iu(t,...e){Uu.logLevel<=Je.ERROR&&Uu.error(`Auth (${no}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(t,...e){throw Pm(t,...e)}function Fn(t,...e){return Pm(t,...e)}function Iw(t,e,r){const n=Object.assign(Object.assign({},bP()),{[e]:r});return new ro("auth","Firebase",n).create(e,{appName:t.name})}function ls(t){return Iw(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Pm(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return Ew.create(t,...e)}function Me(t,e,...r){if(!t)throw Pm(e,...r)}function ns(t){const e="INTERNAL ASSERTION FAILED: "+t;throw iu(e),new Error(e)}function fs(t,e){t||ns(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function _P(){return uv()==="http:"||uv()==="https:"}function uv(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_P()||mw()||"connection"in navigator)?navigator.onLine:!0}function kP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,r){this.shortDelay=e,this.longDelay=r,fs(r>e,"Short delay should be less than long delay!"),this.isMobile=GC()||JC()}get(){return wP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(t,e){fs(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP=new Kl(3e4,6e4);function bs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function xs(t,e,r,n,s={}){return Aw(t,s,async()=>{let i={},o={};n&&(e==="GET"?o=n:i={body:JSON.stringify(n)});const a=Wl(Object.assign({key:t.config.apiKey},o)).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d=Object.assign({method:e,headers:c},i);return YC()||(d.referrerPolicy="no-referrer"),Tw.fetch()(Sw(t,t.config.apiHost,r,a),d)})}async function Aw(t,e,r){t._canInitEmulator=!1;const n=Object.assign(Object.assign({},EP),e);try{const s=new AP(t),i=await Promise.race([r(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Uc(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,d]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uc(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw Uc(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw Uc(t,"user-disabled",o);const h=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Iw(t,h,d);Nn(t,h)}}catch(s){if(s instanceof wn)throw s;Nn(t,"network-request-failed",{message:String(s)})}}async function Gl(t,e,r,n,s={}){const i=await xs(t,e,r,n,s);return"mfaPendingCredential"in i&&Nn(t,"multi-factor-auth-required",{_serverResponse:i}),i}function Sw(t,e,r,n){const s=`${e}${r}?${n}`;return t.config.emulator?Rm(t.config,s):`${t.config.apiScheme}://${s}`}function TP(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class AP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Fn(this.auth,"network-request-failed")),IP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Uc(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const s=Fn(t,e,n);return s.customData._tokenResponse=r,s}function dv(t){return t!==void 0&&t.enterprise!==void 0}class SP{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return TP(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function CP(t,e){return xs(t,"GET","/v2/recaptchaConfig",bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PP(t,e){return xs(t,"POST","/v1/accounts:delete",e)}async function Cw(t,e){return xs(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function RP(t,e=!1){const r=mt(t),n=await r.getIdToken(e),s=Nm(n);Me(s&&s.exp&&s.auth_time&&s.iat,r.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:n,authTime:nl(Yh(s.auth_time)),issuedAtTime:nl(Yh(s.iat)),expirationTime:nl(Yh(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Yh(t){return Number(t)*1e3}function Nm(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return iu("JWT malformed, contained fewer than 3 sections"),null;try{const s=uw(r);return s?JSON.parse(s):(iu("Failed to decode base64 JWT payload"),null)}catch(s){return iu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function hv(t){const e=Nm(t);return Me(e,"internal-error"),Me(typeof e.exp<"u","internal-error"),Me(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cl(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof wn&&NP(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function NP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var r;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=nl(this.lastLoginAt),this.creationTime=nl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ju(t){var e;const r=t.auth,n=await t.getIdToken(),s=await Cl(t,Cw(r,{idToken:n}));Me(s==null?void 0:s.users.length,r,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?Pw(i.providerUserInfo):[],a=DP(t.providerData,o),c=t.isAnonymous,d=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=c?d:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new ep(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,f)}async function OP(t){const e=mt(t);await ju(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function DP(t,e){return[...t.filter(n=>!e.some(s=>s.providerId===n.providerId)),...e]}function Pw(t){return t.map(e=>{var{providerId:r}=e,n=Cm(e,["providerId"]);return{providerId:r,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MP(t,e){const r=await Aw(t,{},async()=>{const n=Wl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=Sw(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Tw.fetch()(o,{method:"POST",headers:a,body:n})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function VP(t,e){return xs(t,"POST","/v2/accounts:revokeToken",bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Me(e.idToken,"internal-error"),Me(typeof e.idToken<"u","internal-error"),Me(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):hv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Me(e.length!==0,"internal-error");const r=hv(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Me(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:s,expiresIn:i}=await MP(e,r);this.updateTokensAndExpiration(n,s,Number(i))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:s,expirationTime:i}=r,o=new Vo;return n&&(Me(typeof n=="string","internal-error",{appName:e}),o.refreshToken=n),s&&(Me(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(Me(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vo,this.toJSON())}_performRefresh(){return ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ps(t,e){Me(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ss{constructor(e){var{uid:r,auth:n,stsTokenManager:s}=e,i=Cm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $P(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ep(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await Cl(this,this.stsTokenManager.getToken(this.auth,e));return Me(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return RP(this,e)}reload(){return OP(this)}_assign(e){this!==e&&(Me(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>Object.assign({},r)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ss(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(e){Me(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await ju(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vn(this.auth.app))return Promise.reject(ls(this.auth));const e=await this.getIdToken();return await Cl(this,PP(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){var n,s,i,o,a,c,d,h;const f=(n=r.displayName)!==null&&n!==void 0?n:void 0,p=(s=r.email)!==null&&s!==void 0?s:void 0,y=(i=r.phoneNumber)!==null&&i!==void 0?i:void 0,b=(o=r.photoURL)!==null&&o!==void 0?o:void 0,w=(a=r.tenantId)!==null&&a!==void 0?a:void 0,x=(c=r._redirectEventId)!==null&&c!==void 0?c:void 0,I=(d=r.createdAt)!==null&&d!==void 0?d:void 0,C=(h=r.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:E,emailVerified:R,isAnonymous:A,providerData:M,stsTokenManager:T}=r;Me(E&&T,e,"internal-error");const v=Vo.fromJSON(this.name,T);Me(typeof E=="string",e,"internal-error"),Ps(f,e.name),Ps(p,e.name),Me(typeof R=="boolean",e,"internal-error"),Me(typeof A=="boolean",e,"internal-error"),Ps(y,e.name),Ps(b,e.name),Ps(w,e.name),Ps(x,e.name),Ps(I,e.name),Ps(C,e.name);const m=new ss({uid:E,auth:e,email:p,emailVerified:R,displayName:f,isAnonymous:A,photoURL:b,phoneNumber:y,tenantId:w,stsTokenManager:v,createdAt:I,lastLoginAt:C});return M&&Array.isArray(M)&&(m.providerData=M.map(k=>Object.assign({},k))),x&&(m._redirectEventId=x),m}static async _fromIdTokenResponse(e,r,n=!1){const s=new Vo;s.updateFromServerResponse(r);const i=new ss({uid:r.localId,auth:e,stsTokenManager:s,isAnonymous:n});return await ju(i),i}static async _fromGetAccountInfoResponse(e,r,n){const s=r.users[0];Me(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?Pw(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Vo;a.updateFromIdToken(n);const c=new ss({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new ep(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=new Map;function is(t){fs(t instanceof Function,"Expected a class definition");let e=fv.get(t);return e?(fs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,fv.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}Rw.type="NONE";const pv=Rw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(t,e,r){return`firebase:${t}:${e}:${r}`}class Lo{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:s,name:i}=this.auth;this.fullUserKey=ou(this.userKey,s.apiKey,i),this.fullPersistenceKey=ou("persistence",s.apiKey,i),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ss._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Lo(is(pv),e,n);const s=(await Promise.all(r.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||is(pv);const o=ou(n,e.config.apiKey,e.name);let a=null;for(const d of r)try{const h=await d._get(o);if(h){const f=ss._fromJSON(e,h);d!==i&&(a=f),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new Lo(i,e,n):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(r.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new Lo(i,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mv(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Dw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Nw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Vw(e))return"Blackberry";if(Lw(e))return"Webos";if($w(e))return"Safari";if((e.includes("chrome/")||Ow(e))&&!e.includes("edge/"))return"Chrome";if(Mw(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function Nw(t=Nr()){return/firefox\//i.test(t)}function $w(t=Nr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ow(t=Nr()){return/crios\//i.test(t)}function Dw(t=Nr()){return/iemobile/i.test(t)}function Mw(t=Nr()){return/android/i.test(t)}function Vw(t=Nr()){return/blackberry/i.test(t)}function Lw(t=Nr()){return/webos/i.test(t)}function $m(t=Nr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function LP(t=Nr()){var e;return $m(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function FP(){return XC()&&document.documentMode===10}function Fw(t=Nr()){return $m(t)||Mw(t)||Lw(t)||Vw(t)||/windows phone/i.test(t)||Dw(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(t,e=[]){let r;switch(t){case"Browser":r=mv(Nr());break;case"Worker":r=`${mv(Nr())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${no}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});n.onAbort=r,this.queue.push(n);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const s of r)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jP(t,e={}){return xs(t,"GET","/v2/passwordPolicy",bs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP=6;class qP{constructor(e){var r,n,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(r=o.minPasswordLength)!==null&&r!==void 0?r:BP,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var r,n,s,i,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=(r=c.meetsMinPasswordLength)!==null&&r!==void 0?r:!0),c.isValid&&(c.isValid=(n=c.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),c.isValid&&(c.isValid=(s=c.containsLowercaseLetter)!==null&&s!==void 0?s:!0),c.isValid&&(c.isValid=(i=c.containsUppercaseLetter)!==null&&i!==void 0?i:!0),c.isValid&&(c.isValid=(o=c.containsNumericCharacter)!==null&&o!==void 0?o:!0),c.isValid&&(c.isValid=(a=c.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),c}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),s&&(r.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let s=0;s<e.length;s++)n=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e,r,n,s){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gv(this),this.idTokenSubscription=new gv(this),this.beforeStateQueue=new UP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ew,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=is(r)),this._initializationPromise=this.queue(async()=>{var n,s;if(!this._deleted&&(this.persistenceManager=await Lo.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await Cw(this,{idToken:e}),n=await ss._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var r;if(Vn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,a=s==null?void 0:s._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(s=c.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Me(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await ju(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vn(this.app))return Promise.reject(ls(this));const r=e?mt(e):null;return r&&Me(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Me(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vn(this.app)?Promise.reject(ls(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vn(this.app)?Promise.reject(ls(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jP(this),r=new qP(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ro("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await VP(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&is(e)||this._popupRedirectResolver;Me(r,this,"argument-error"),this.redirectPersistenceManager=await Lo.create(this,[is(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(r=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,s){if(this._deleted)return()=>{};const i=typeof r=="function"?r:r.next.bind(r);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Me(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,s);return()=>{o=!0,c()}}else{const c=e.addObserver(r);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Me(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Uw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(r["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r}async _getAppCheckToken(){var e;const r=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return r!=null&&r.error&&xP(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function so(t){return mt(t)}class gv{constructor(e){this.auth=e,this.observer=null,this.addObserver=i3(r=>this.observer=r)}get next(){return Me(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zP(t){Dd=t}function jw(t){return Dd.loadJS(t)}function WP(){return Dd.recaptchaEnterpriseScript}function KP(){return Dd.gapiScript}function GP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const QP="recaptcha-enterprise",YP="NO_RECAPTCHA";class JP{constructor(e){this.type=QP,this.auth=so(e)}async verify(e="verify",r=!1){async function n(i){if(!r){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{CP(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const d=new SP(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(c=>{a(c)})})}function s(i,o,a){const c=window.grecaptcha;dv(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(YP)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{n(this.auth).then(a=>{if(!r&&dv(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=WP();c.length!==0&&(c+=a),jw(c).then(()=>{s(a,i,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})}}async function yv(t,e,r,n=!1){const s=new JP(t);let i;try{i=await s.verify(r)}catch{i=await s.verify(r,!0)}const o=Object.assign({},e);return n?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function tp(t,e,r,n){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await yv(t,e,r,r==="getOobCode");return n(t,i)}else return n(t,e).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await yv(t,e,r,r==="getOobCode");return n(t,o)}else return Promise.reject(i)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XP(t,e){const r=vs(t,"auth");if(r.isInitialized()){const s=r.getImmediate(),i=r.getOptions();if(Tl(i,e??{}))return s;Nn(s,"already-initialized")}return r.initialize({options:e})}function ZP(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(is);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function eR(t,e,r){const n=so(t);Me(n._canInitEmulator,n,"emulator-config-failed"),Me(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const s=!1,i=Bw(e),{host:o,port:a}=tR(e),c=a===null?"":`:${a}`;n.config.emulator={url:`${i}//${o}${c}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),rR()}function Bw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function tR(t){const e=Bw(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(n);if(s){const i=s[1];return{host:i,port:vv(n.substr(i.length+1))}}else{const[i,o]=n.split(":");return{host:i,port:vv(o)}}}function vv(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function rR(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return ns("not implemented")}_getIdTokenResponse(e){return ns("not implemented")}_linkToIdToken(e,r){return ns("not implemented")}_getReauthenticationResolver(e){return ns("not implemented")}}async function nR(t,e){return xs(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sR(t,e){return Gl(t,"POST","/v1/accounts:signInWithPassword",bs(t,e))}async function iR(t,e){return xs(t,"POST","/v1/accounts:sendOobCode",bs(t,e))}async function oR(t,e){return iR(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aR(t,e){return Gl(t,"POST","/v1/accounts:signInWithEmailLink",bs(t,e))}async function lR(t,e){return Gl(t,"POST","/v1/accounts:signInWithEmailLink",bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl extends Om{constructor(e,r,n,s=null){super("password",n),this._email=e,this._password=r,this._tenantId=s}static _fromEmailAndPassword(e,r){return new Pl(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new Pl(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tp(e,r,"signInWithPassword",sR);case"emailLink":return aR(e,{email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return tp(e,n,"signUpPassword",nR);case"emailLink":return lR(e,{idToken:r,email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fo(t,e){return Gl(t,"POST","/v1/accounts:signInWithIdp",bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="http://localhost";class Bi extends Om{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new Bi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Nn("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:s}=r,i=Cm(r,["providerId","signInMethod"]);if(!n||!s)return null;const o=new Bi(n,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const r=this.buildRequest();return Fo(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Fo(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Fo(e,r)}buildRequest(){const e={requestUri:cR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=Wl(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uR(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function dR(t){const e=Fa(Ua(t)).link,r=e?Fa(Ua(e)).deep_link_id:null,n=Fa(Ua(t)).deep_link_id;return(n?Fa(Ua(n)).link:null)||n||r||e||t}class Dm{constructor(e){var r,n,s,i,o,a;const c=Fa(Ua(e)),d=(r=c.apiKey)!==null&&r!==void 0?r:null,h=(n=c.oobCode)!==null&&n!==void 0?n:null,f=uR((s=c.mode)!==null&&s!==void 0?s:null);Me(d&&h&&f,"argument-error"),this.apiKey=d,this.operation=f,this.code=h,this.continueUrl=(i=c.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const r=dR(e);try{return new Dm(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(){this.providerId=ua.PROVIDER_ID}static credential(e,r){return Pl._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=Dm.parseLink(r);return Me(n,"argument-error"),Pl._fromEmailAndCode(e,n.code,n.tenantId)}}ua.PROVIDER_ID="password";ua.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ua.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql extends qw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js extends Ql{constructor(){super("facebook.com")}static credential(e){return Bi._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return js.credential(e.oauthAccessToken)}catch{return null}}}js.FACEBOOK_SIGN_IN_METHOD="facebook.com";js.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs extends Ql{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return Bi._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Bs.credentialFromTaggedObject(e)}static credentialFromError(e){return Bs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Bs.credential(r,n)}catch{return null}}}Bs.GOOGLE_SIGN_IN_METHOD="google.com";Bs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends Ql{constructor(){super("github.com")}static credential(e){return Bi._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qs.credential(e.oauthAccessToken)}catch{return null}}}qs.GITHUB_SIGN_IN_METHOD="github.com";qs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs extends Ql{constructor(){super("twitter.com")}static credential(e,r){return Bi._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Hs.credentialFromTaggedObject(e)}static credentialFromError(e){return Hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Hs.credential(r,n)}catch{return null}}}Hs.TWITTER_SIGN_IN_METHOD="twitter.com";Hs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hR(t,e){return Gl(t,"POST","/v1/accounts:signUp",bs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,s=!1){const i=await ss._fromIdTokenResponse(e,n,s),o=bv(n);return new qi({user:i,providerId:o,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const s=bv(n);return new qi({user:e,providerId:s,_tokenResponse:n,operationType:r})}}function bv(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu extends wn{constructor(e,r,n,s){var i;super(r.code,r.message),this.operationType=n,this.user=s,Object.setPrototypeOf(this,Bu.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,s){return new Bu(e,r,n,s)}}function Hw(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Bu._fromErrorAndOperation(t,i,e,n):i})}async function fR(t,e,r=!1){const n=await Cl(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return qi._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pR(t,e,r=!1){const{auth:n}=t;if(Vn(n.app))return Promise.reject(ls(n));const s="reauthenticate";try{const i=await Cl(t,Hw(n,s,e,t),r);Me(i.idToken,n,"internal-error");const o=Nm(i.idToken);Me(o,n,"internal-error");const{sub:a}=o;return Me(t.uid===a,n,"user-mismatch"),qi._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Nn(n,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zw(t,e,r=!1){if(Vn(t.app))return Promise.reject(ls(t));const n="signIn",s=await Hw(t,n,e),i=await qi._fromIdTokenResponse(t,n,s);return r||await t._updateCurrentUser(i.user),i}async function mR(t,e){return zw(so(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ww(t){const e=so(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Kw(t,e,r){if(Vn(t.app))return Promise.reject(ls(t));const n=so(t),o=await tp(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hR).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&Ww(t),c}),a=await qi._fromIdTokenResponse(n,"signIn",o);return await n._updateCurrentUser(a.user),a}function Gw(t,e,r){return Vn(t.app)?Promise.reject(ls(t)):mR(mt(t),ua.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&Ww(t),n})}async function xv(t,e){const r=mt(t),s={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()},{email:i}=await oR(r.auth,s);i!==t.email&&await t.reload()}function gR(t,e,r,n){return mt(t).onIdTokenChanged(e,r,n)}function yR(t,e,r){return mt(t).beforeAuthStateChanged(e,r)}function Qw(t,e,r,n){return mt(t).onAuthStateChanged(e,r,n)}function vR(t){return mt(t).signOut()}const qu="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(qu,"1"),this.storage.removeItem(qu),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=1e3,xR=10;class Jw extends Yw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Fw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),s=this.localCache[r];n!==s&&e(r,s,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(n);!r&&this.localCache[n]===o||this.notifyListeners(n,o)},i=this.storage.getItem(n);FP()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,xR):s()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},bR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}Jw.type="LOCAL";const _R=Jw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw extends Yw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}Xw.type="SESSION";const Zw=Xw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(s=>s.isListeningto(e));if(r)return r;const n=new Md(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:s,data:i}=r.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:s});const a=Array.from(o).map(async d=>d(r.origin,i)),c=await wR(a);r.ports[0].postMessage({status:"done",eventId:n,eventType:s,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Md.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const d=Mm("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},n);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:r},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Un(){return window}function ER(t){Un().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ek(){return typeof Un().WorkerGlobalScope<"u"&&typeof Un().importScripts=="function"}async function IR(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function TR(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function AR(){return ek()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk="firebaseLocalStorageDb",SR=1,Hu="firebaseLocalStorage",rk="fbase_key";class Yl{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Vd(t,e){return t.transaction([Hu],e?"readwrite":"readonly").objectStore(Hu)}function CR(){const t=indexedDB.deleteDatabase(tk);return new Yl(t).toPromise()}function rp(){const t=indexedDB.open(tk,SR);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(Hu,{keyPath:rk})}catch(s){r(s)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(Hu)?e(n):(n.close(),await CR(),e(await rp()))})})}async function _v(t,e,r){const n=Vd(t,!0).put({[rk]:e,value:r});return new Yl(n).toPromise()}async function PR(t,e){const r=Vd(t,!1).get(e),n=await new Yl(r).toPromise();return n===void 0?null:n.value}function wv(t,e){const r=Vd(t,!0).delete(e);return new Yl(r).toPromise()}const RR=800,NR=3;class nk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await rp(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>NR)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ek()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Md._getInstance(AR()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var e,r;if(this.activeServiceWorker=await IR(),!this.activeServiceWorker)return;this.sender=new kR(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((r=n[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||TR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await rp();return await _v(e,qu,"1"),await wv(e,qu),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>_v(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>PR(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>wv(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Vd(s,!1).getAll();return new Yl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)n.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),r.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!n.has(s)&&(this.notifyListeners(s,null),r.push(s));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const s of Array.from(n))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),RR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nk.type="LOCAL";const $R=nk;new Kl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OR(t,e){return e?is(e):(Me(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm extends Om{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fo(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Fo(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Fo(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function DR(t){return zw(t.auth,new Vm(t),t.bypassAuthState)}function MR(t){const{auth:e,user:r}=t;return Me(r,e,"internal-error"),pR(r,new Vm(t),t.bypassAuthState)}async function VR(t){const{auth:e,user:r}=t;return Me(r,e,"internal-error"),fR(r,new Vm(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sk{constructor(e,r,n,s,i=!1){this.auth=e,this.resolver=n,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return DR;case"linkViaPopup":case"linkViaRedirect":return VR;case"reauthViaPopup":case"reauthViaRedirect":return MR;default:Nn(this.auth,"internal-error")}}resolve(e){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=new Kl(2e3,1e4);class So extends sk{constructor(e,r,n,s,i){super(e,r,s,i),this.provider=n,this.authWindow=null,this.pollId=null,So.currentPopupAction&&So.currentPopupAction.cancel(),So.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Me(e,this.auth,"internal-error"),e}async onExecution(){fs(this.filter.length===1,"Popup operations only handle one event");const e=Mm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Fn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Fn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,So.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if(!((n=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,LR.get())};e()}}So.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR="pendingRedirect",au=new Map;class UR extends sk{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=au.get(this.auth._key());if(!e){try{const n=await jR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}au.set(this.auth._key(),e)}return this.bypassAuthState||au.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function jR(t,e){const r=HR(e),n=qR(t);if(!await n._isAvailable())return!1;const s=await n._get(r)==="true";return await n._remove(r),s}function BR(t,e){au.set(t._key(),e)}function qR(t){return is(t._redirectPersistence)}function HR(t){return ou(FR,t.config.apiKey,t.name)}async function zR(t,e,r=!1){if(Vn(t.app))return Promise.reject(ls(t));const n=so(t),s=OR(n,e),o=await new UR(n,s,r).execute();return o&&!r&&(delete o.user._redirectEventId,await n._persistUserIfCurrent(o.user),await n._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WR=10*60*1e3;class KR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GR(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!ik(e)){const s=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";r.onError(Fn(this.auth,s))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=WR&&this.cachedEventUids.clear(),this.cachedEventUids.has(kv(e))}saveEventToCache(e){this.cachedEventUids.add(kv(e)),this.lastProcessedEventTime=Date.now()}}function kv(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ik({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function GR(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ik(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QR(t,e={}){return xs(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,JR=/^https?/;async function XR(t){if(t.config.emulator)return;const{authorizedDomains:e}=await QR(t);for(const r of e)try{if(ZR(r))return}catch{}Nn(t,"unauthorized-domain")}function ZR(t){const e=Zf(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&o.hostname===n}if(!JR.test(r))return!1;if(YR.test(t))return n===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e6=new Kl(3e4,6e4);function Ev(){const t=Un().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function t6(t){return new Promise((e,r)=>{var n,s,i;function o(){Ev(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ev(),r(Fn(t,"network-request-failed"))},timeout:e6.get()})}if(!((s=(n=Un().gapi)===null||n===void 0?void 0:n.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Un().gapi)===null||i===void 0)&&i.load)o();else{const a=GP("iframefcb");return Un()[a]=()=>{gapi.load?o():r(Fn(t,"network-request-failed"))},jw(`${KP()}?onload=${a}`).catch(c=>r(c))}}).catch(e=>{throw lu=null,e})}let lu=null;function r6(t){return lu=lu||t6(t),lu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6=new Kl(5e3,15e3),s6="__/auth/iframe",i6="emulator/auth/iframe",o6={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},a6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function l6(t){const e=t.config;Me(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?Rm(e,i6):`https://${t.config.authDomain}/${s6}`,n={apiKey:e.apiKey,appName:t.name,v:no},s=a6.get(t.config.apiHost);s&&(n.eid=s);const i=t._getFrameworks();return i.length&&(n.fw=i.join(",")),`${r}?${Wl(n).slice(1)}`}async function c6(t){const e=await r6(t),r=Un().gapi;return Me(r,t,"internal-error"),e.open({where:document.body,url:l6(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:o6,dontclear:!0},n=>new Promise(async(s,i)=>{await n.restyle({setHideOnLeave:!1});const o=Fn(t,"network-request-failed"),a=Un().setTimeout(()=>{i(o)},n6.get());function c(){Un().clearTimeout(a),s(n)}n.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u6={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},d6=500,h6=600,f6="_blank",p6="http://localhost";class Iv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function m6(t,e,r,n=d6,s=h6){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let a="";const c=Object.assign(Object.assign({},u6),{width:n.toString(),height:s.toString(),top:i,left:o}),d=Nr().toLowerCase();r&&(a=Ow(d)?f6:r),Nw(d)&&(e=e||p6,c.scrollbars="yes");const h=Object.entries(c).reduce((p,[y,b])=>`${p}${y}=${b},`,"");if(LP(d)&&a!=="_self")return g6(e||"",a),new Iv(null);const f=window.open(e||"",a,h);Me(f,t,"popup-blocked");try{f.focus()}catch{}return new Iv(f)}function g6(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6="__/auth/handler",v6="emulator/auth/handler",b6=encodeURIComponent("fac");async function Tv(t,e,r,n,s,i){Me(t.config.authDomain,t,"auth-domain-config-required"),Me(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:no,eventId:s};if(e instanceof qw){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",s3(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Ql){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const c=await t._getAppCheckToken(),d=c?`#${b6}=${encodeURIComponent(c)}`:"";return`${x6(t)}?${Wl(a).slice(1)}${d}`}function x6({config:t}){return t.emulator?Rm(t,v6):`https://${t.authDomain}/${y6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh="webStorageSupport";class _6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zw,this._completeRedirectFn=zR,this._overrideRedirectResult=BR}async _openPopup(e,r,n,s){var i;fs((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await Tv(e,r,n,Zf(),s);return m6(e,o,Mm())}async _openRedirect(e,r,n,s){await this._originValidation(e);const i=await Tv(e,r,n,Zf(),s);return ER(i),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:s,promise:i}=this.eventManagers[r];return s?Promise.resolve(s):(fs(i,"If manager is not set, promise should be"),i)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await c6(e),n=new KR(e);return r.register("authEvent",s=>(Me(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:n.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Jh,{type:Jh},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Jh];o!==void 0&&r(!!o),Nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=XR(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return Fw()||$w()||$m()}}const w6=_6;var Av="@firebase/auth",Sv="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Me(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E6(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function I6(t){xn(new an("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=n.options;Me(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Uw(t)},d=new HP(n,s,i,c);return ZP(d,r),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),xn(new an("auth-internal",e=>{const r=so(e.getProvider("auth").getImmediate());return(n=>new k6(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cr(Av,Sv,E6(t)),Cr(Av,Sv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T6=5*60,A6=fw("authIdTokenMaxAge")||T6;let Cv=null;const S6=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>A6)return;const s=r==null?void 0:r.token;Cv!==s&&(Cv=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Hi(t=ca()){const e=vs(t,"auth");if(e.isInitialized())return e.getImmediate();const r=XP(t,{popupRedirectResolver:w6,persistence:[$R,_R,Zw]}),n=fw("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(n,location.origin);if(location.origin===i.origin){const o=S6(i.toString());yR(r,o,()=>o(r.currentUser)),gR(r,a=>o(a))}}const s=dw("auth");return s&&eR(r,`http://${s}`),r}function C6(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}zP({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=s=>{const i=Fn("internal-error");i.customData=s,r(i)},n.type="text/javascript",n.charset="UTF-8",C6().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});I6("Browser");var P6="firebase",R6="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cr(P6,R6,"app");var Pv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vi,ok;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(T,v){function m(){}m.prototype=v.prototype,T.D=v.prototype,T.prototype=new m,T.prototype.constructor=T,T.C=function(k,N,S){for(var P=Array(arguments.length-2),le=2;le<arguments.length;le++)P[le-2]=arguments[le];return v.prototype[N].apply(k,P)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(T,v,m){m||(m=0);var k=Array(16);if(typeof v=="string")for(var N=0;16>N;++N)k[N]=v.charCodeAt(m++)|v.charCodeAt(m++)<<8|v.charCodeAt(m++)<<16|v.charCodeAt(m++)<<24;else for(N=0;16>N;++N)k[N]=v[m++]|v[m++]<<8|v[m++]<<16|v[m++]<<24;v=T.g[0],m=T.g[1],N=T.g[2];var S=T.g[3],P=v+(S^m&(N^S))+k[0]+3614090360&4294967295;v=m+(P<<7&4294967295|P>>>25),P=S+(N^v&(m^N))+k[1]+3905402710&4294967295,S=v+(P<<12&4294967295|P>>>20),P=N+(m^S&(v^m))+k[2]+606105819&4294967295,N=S+(P<<17&4294967295|P>>>15),P=m+(v^N&(S^v))+k[3]+3250441966&4294967295,m=N+(P<<22&4294967295|P>>>10),P=v+(S^m&(N^S))+k[4]+4118548399&4294967295,v=m+(P<<7&4294967295|P>>>25),P=S+(N^v&(m^N))+k[5]+1200080426&4294967295,S=v+(P<<12&4294967295|P>>>20),P=N+(m^S&(v^m))+k[6]+2821735955&4294967295,N=S+(P<<17&4294967295|P>>>15),P=m+(v^N&(S^v))+k[7]+4249261313&4294967295,m=N+(P<<22&4294967295|P>>>10),P=v+(S^m&(N^S))+k[8]+1770035416&4294967295,v=m+(P<<7&4294967295|P>>>25),P=S+(N^v&(m^N))+k[9]+2336552879&4294967295,S=v+(P<<12&4294967295|P>>>20),P=N+(m^S&(v^m))+k[10]+4294925233&4294967295,N=S+(P<<17&4294967295|P>>>15),P=m+(v^N&(S^v))+k[11]+2304563134&4294967295,m=N+(P<<22&4294967295|P>>>10),P=v+(S^m&(N^S))+k[12]+1804603682&4294967295,v=m+(P<<7&4294967295|P>>>25),P=S+(N^v&(m^N))+k[13]+4254626195&4294967295,S=v+(P<<12&4294967295|P>>>20),P=N+(m^S&(v^m))+k[14]+2792965006&4294967295,N=S+(P<<17&4294967295|P>>>15),P=m+(v^N&(S^v))+k[15]+1236535329&4294967295,m=N+(P<<22&4294967295|P>>>10),P=v+(N^S&(m^N))+k[1]+4129170786&4294967295,v=m+(P<<5&4294967295|P>>>27),P=S+(m^N&(v^m))+k[6]+3225465664&4294967295,S=v+(P<<9&4294967295|P>>>23),P=N+(v^m&(S^v))+k[11]+643717713&4294967295,N=S+(P<<14&4294967295|P>>>18),P=m+(S^v&(N^S))+k[0]+3921069994&4294967295,m=N+(P<<20&4294967295|P>>>12),P=v+(N^S&(m^N))+k[5]+3593408605&4294967295,v=m+(P<<5&4294967295|P>>>27),P=S+(m^N&(v^m))+k[10]+38016083&4294967295,S=v+(P<<9&4294967295|P>>>23),P=N+(v^m&(S^v))+k[15]+3634488961&4294967295,N=S+(P<<14&4294967295|P>>>18),P=m+(S^v&(N^S))+k[4]+3889429448&4294967295,m=N+(P<<20&4294967295|P>>>12),P=v+(N^S&(m^N))+k[9]+568446438&4294967295,v=m+(P<<5&4294967295|P>>>27),P=S+(m^N&(v^m))+k[14]+3275163606&4294967295,S=v+(P<<9&4294967295|P>>>23),P=N+(v^m&(S^v))+k[3]+4107603335&4294967295,N=S+(P<<14&4294967295|P>>>18),P=m+(S^v&(N^S))+k[8]+1163531501&4294967295,m=N+(P<<20&4294967295|P>>>12),P=v+(N^S&(m^N))+k[13]+2850285829&4294967295,v=m+(P<<5&4294967295|P>>>27),P=S+(m^N&(v^m))+k[2]+4243563512&4294967295,S=v+(P<<9&4294967295|P>>>23),P=N+(v^m&(S^v))+k[7]+1735328473&4294967295,N=S+(P<<14&4294967295|P>>>18),P=m+(S^v&(N^S))+k[12]+2368359562&4294967295,m=N+(P<<20&4294967295|P>>>12),P=v+(m^N^S)+k[5]+4294588738&4294967295,v=m+(P<<4&4294967295|P>>>28),P=S+(v^m^N)+k[8]+2272392833&4294967295,S=v+(P<<11&4294967295|P>>>21),P=N+(S^v^m)+k[11]+1839030562&4294967295,N=S+(P<<16&4294967295|P>>>16),P=m+(N^S^v)+k[14]+4259657740&4294967295,m=N+(P<<23&4294967295|P>>>9),P=v+(m^N^S)+k[1]+2763975236&4294967295,v=m+(P<<4&4294967295|P>>>28),P=S+(v^m^N)+k[4]+1272893353&4294967295,S=v+(P<<11&4294967295|P>>>21),P=N+(S^v^m)+k[7]+4139469664&4294967295,N=S+(P<<16&4294967295|P>>>16),P=m+(N^S^v)+k[10]+3200236656&4294967295,m=N+(P<<23&4294967295|P>>>9),P=v+(m^N^S)+k[13]+681279174&4294967295,v=m+(P<<4&4294967295|P>>>28),P=S+(v^m^N)+k[0]+3936430074&4294967295,S=v+(P<<11&4294967295|P>>>21),P=N+(S^v^m)+k[3]+3572445317&4294967295,N=S+(P<<16&4294967295|P>>>16),P=m+(N^S^v)+k[6]+76029189&4294967295,m=N+(P<<23&4294967295|P>>>9),P=v+(m^N^S)+k[9]+3654602809&4294967295,v=m+(P<<4&4294967295|P>>>28),P=S+(v^m^N)+k[12]+3873151461&4294967295,S=v+(P<<11&4294967295|P>>>21),P=N+(S^v^m)+k[15]+530742520&4294967295,N=S+(P<<16&4294967295|P>>>16),P=m+(N^S^v)+k[2]+3299628645&4294967295,m=N+(P<<23&4294967295|P>>>9),P=v+(N^(m|~S))+k[0]+4096336452&4294967295,v=m+(P<<6&4294967295|P>>>26),P=S+(m^(v|~N))+k[7]+1126891415&4294967295,S=v+(P<<10&4294967295|P>>>22),P=N+(v^(S|~m))+k[14]+2878612391&4294967295,N=S+(P<<15&4294967295|P>>>17),P=m+(S^(N|~v))+k[5]+4237533241&4294967295,m=N+(P<<21&4294967295|P>>>11),P=v+(N^(m|~S))+k[12]+1700485571&4294967295,v=m+(P<<6&4294967295|P>>>26),P=S+(m^(v|~N))+k[3]+2399980690&4294967295,S=v+(P<<10&4294967295|P>>>22),P=N+(v^(S|~m))+k[10]+4293915773&4294967295,N=S+(P<<15&4294967295|P>>>17),P=m+(S^(N|~v))+k[1]+2240044497&4294967295,m=N+(P<<21&4294967295|P>>>11),P=v+(N^(m|~S))+k[8]+1873313359&4294967295,v=m+(P<<6&4294967295|P>>>26),P=S+(m^(v|~N))+k[15]+4264355552&4294967295,S=v+(P<<10&4294967295|P>>>22),P=N+(v^(S|~m))+k[6]+2734768916&4294967295,N=S+(P<<15&4294967295|P>>>17),P=m+(S^(N|~v))+k[13]+1309151649&4294967295,m=N+(P<<21&4294967295|P>>>11),P=v+(N^(m|~S))+k[4]+4149444226&4294967295,v=m+(P<<6&4294967295|P>>>26),P=S+(m^(v|~N))+k[11]+3174756917&4294967295,S=v+(P<<10&4294967295|P>>>22),P=N+(v^(S|~m))+k[2]+718787259&4294967295,N=S+(P<<15&4294967295|P>>>17),P=m+(S^(N|~v))+k[9]+3951481745&4294967295,T.g[0]=T.g[0]+v&4294967295,T.g[1]=T.g[1]+(N+(P<<21&4294967295|P>>>11))&4294967295,T.g[2]=T.g[2]+N&4294967295,T.g[3]=T.g[3]+S&4294967295}n.prototype.u=function(T,v){v===void 0&&(v=T.length);for(var m=v-this.blockSize,k=this.B,N=this.h,S=0;S<v;){if(N==0)for(;S<=m;)s(this,T,S),S+=this.blockSize;if(typeof T=="string"){for(;S<v;)if(k[N++]=T.charCodeAt(S++),N==this.blockSize){s(this,k),N=0;break}}else for(;S<v;)if(k[N++]=T[S++],N==this.blockSize){s(this,k),N=0;break}}this.h=N,this.o+=v},n.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var v=1;v<T.length-8;++v)T[v]=0;var m=8*this.o;for(v=T.length-8;v<T.length;++v)T[v]=m&255,m/=256;for(this.u(T),T=Array(16),v=m=0;4>v;++v)for(var k=0;32>k;k+=8)T[m++]=this.g[v]>>>k&255;return T};function i(T,v){var m=a;return Object.prototype.hasOwnProperty.call(m,T)?m[T]:m[T]=v(T)}function o(T,v){this.h=v;for(var m=[],k=!0,N=T.length-1;0<=N;N--){var S=T[N]|0;k&&S==v||(m[N]=S,k=!1)}this.g=m}var a={};function c(T){return-128<=T&&128>T?i(T,function(v){return new o([v|0],0>v?-1:0)}):new o([T|0],0>T?-1:0)}function d(T){if(isNaN(T)||!isFinite(T))return f;if(0>T)return x(d(-T));for(var v=[],m=1,k=0;T>=m;k++)v[k]=T/m|0,m*=4294967296;return new o(v,0)}function h(T,v){if(T.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(T.charAt(0)=="-")return x(h(T.substring(1),v));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var m=d(Math.pow(v,8)),k=f,N=0;N<T.length;N+=8){var S=Math.min(8,T.length-N),P=parseInt(T.substring(N,N+S),v);8>S?(S=d(Math.pow(v,S)),k=k.j(S).add(d(P))):(k=k.j(m),k=k.add(d(P)))}return k}var f=c(0),p=c(1),y=c(16777216);t=o.prototype,t.m=function(){if(w(this))return-x(this).m();for(var T=0,v=1,m=0;m<this.g.length;m++){var k=this.i(m);T+=(0<=k?k:4294967296+k)*v,v*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(b(this))return"0";if(w(this))return"-"+x(this).toString(T);for(var v=d(Math.pow(T,6)),m=this,k="";;){var N=R(m,v).g;m=I(m,N.j(v));var S=((0<m.g.length?m.g[0]:m.h)>>>0).toString(T);if(m=N,b(m))return S+k;for(;6>S.length;)S="0"+S;k=S+k}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function b(T){if(T.h!=0)return!1;for(var v=0;v<T.g.length;v++)if(T.g[v]!=0)return!1;return!0}function w(T){return T.h==-1}t.l=function(T){return T=I(this,T),w(T)?-1:b(T)?0:1};function x(T){for(var v=T.g.length,m=[],k=0;k<v;k++)m[k]=~T.g[k];return new o(m,~T.h).add(p)}t.abs=function(){return w(this)?x(this):this},t.add=function(T){for(var v=Math.max(this.g.length,T.g.length),m=[],k=0,N=0;N<=v;N++){var S=k+(this.i(N)&65535)+(T.i(N)&65535),P=(S>>>16)+(this.i(N)>>>16)+(T.i(N)>>>16);k=P>>>16,S&=65535,P&=65535,m[N]=P<<16|S}return new o(m,m[m.length-1]&-2147483648?-1:0)};function I(T,v){return T.add(x(v))}t.j=function(T){if(b(this)||b(T))return f;if(w(this))return w(T)?x(this).j(x(T)):x(x(this).j(T));if(w(T))return x(this.j(x(T)));if(0>this.l(y)&&0>T.l(y))return d(this.m()*T.m());for(var v=this.g.length+T.g.length,m=[],k=0;k<2*v;k++)m[k]=0;for(k=0;k<this.g.length;k++)for(var N=0;N<T.g.length;N++){var S=this.i(k)>>>16,P=this.i(k)&65535,le=T.i(N)>>>16,ue=T.i(N)&65535;m[2*k+2*N]+=P*ue,C(m,2*k+2*N),m[2*k+2*N+1]+=S*ue,C(m,2*k+2*N+1),m[2*k+2*N+1]+=P*le,C(m,2*k+2*N+1),m[2*k+2*N+2]+=S*le,C(m,2*k+2*N+2)}for(k=0;k<v;k++)m[k]=m[2*k+1]<<16|m[2*k];for(k=v;k<2*v;k++)m[k]=0;return new o(m,0)};function C(T,v){for(;(T[v]&65535)!=T[v];)T[v+1]+=T[v]>>>16,T[v]&=65535,v++}function E(T,v){this.g=T,this.h=v}function R(T,v){if(b(v))throw Error("division by zero");if(b(T))return new E(f,f);if(w(T))return v=R(x(T),v),new E(x(v.g),x(v.h));if(w(v))return v=R(T,x(v)),new E(x(v.g),v.h);if(30<T.g.length){if(w(T)||w(v))throw Error("slowDivide_ only works with positive integers.");for(var m=p,k=v;0>=k.l(T);)m=A(m),k=A(k);var N=M(m,1),S=M(k,1);for(k=M(k,2),m=M(m,2);!b(k);){var P=S.add(k);0>=P.l(T)&&(N=N.add(m),S=P),k=M(k,1),m=M(m,1)}return v=I(T,N.j(v)),new E(N,v)}for(N=f;0<=T.l(v);){for(m=Math.max(1,Math.floor(T.m()/v.m())),k=Math.ceil(Math.log(m)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),S=d(m),P=S.j(v);w(P)||0<P.l(T);)m-=k,S=d(m),P=S.j(v);b(S)&&(S=p),N=N.add(S),T=I(T,P)}return new E(N,T)}t.A=function(T){return R(this,T).h},t.and=function(T){for(var v=Math.max(this.g.length,T.g.length),m=[],k=0;k<v;k++)m[k]=this.i(k)&T.i(k);return new o(m,this.h&T.h)},t.or=function(T){for(var v=Math.max(this.g.length,T.g.length),m=[],k=0;k<v;k++)m[k]=this.i(k)|T.i(k);return new o(m,this.h|T.h)},t.xor=function(T){for(var v=Math.max(this.g.length,T.g.length),m=[],k=0;k<v;k++)m[k]=this.i(k)^T.i(k);return new o(m,this.h^T.h)};function A(T){for(var v=T.g.length+1,m=[],k=0;k<v;k++)m[k]=T.i(k)<<1|T.i(k-1)>>>31;return new o(m,T.h)}function M(T,v){var m=v>>5;v%=32;for(var k=T.g.length-m,N=[],S=0;S<k;S++)N[S]=0<v?T.i(S+m)>>>v|T.i(S+m+1)<<32-v:T.i(S+m);return new o(N,T.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,ok=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,Vi=o}).apply(typeof Pv<"u"?Pv:typeof self<"u"?self:typeof window<"u"?window:{});var jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ak,ja,lk,cu,np,ck,uk,dk;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,g,_){return u==Array.prototype||u==Object.prototype||(u[g]=_.value),u};function r(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof jc=="object"&&jc];for(var g=0;g<u.length;++g){var _=u[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var n=r(this);function s(u,g){if(g)e:{var _=n;u=u.split(".");for(var $=0;$<u.length-1;$++){var Q=u[$];if(!(Q in _))break e;_=_[Q]}u=u[u.length-1],$=_[u],g=g($),g!=$&&g!=null&&e(_,u,{configurable:!0,writable:!0,value:g})}}function i(u,g){u instanceof String&&(u+="");var _=0,$=!1,Q={next:function(){if(!$&&_<u.length){var X=_++;return{value:g(X,u[X]),done:!1}}return $=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}s("Array.prototype.values",function(u){return u||function(){return i(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function c(u){var g=typeof u;return g=g!="object"?g:u?Array.isArray(u)?"array":g:"null",g=="array"||g=="object"&&typeof u.length=="number"}function d(u){var g=typeof u;return g=="object"&&u!=null||g=="function"}function h(u,g,_){return u.call.apply(u.bind,arguments)}function f(u,g,_){if(!u)throw Error();if(2<arguments.length){var $=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,$),u.apply(g,Q)}}return function(){return u.apply(g,arguments)}}function p(u,g,_){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:f,p.apply(null,arguments)}function y(u,g){var _=Array.prototype.slice.call(arguments,1);return function(){var $=_.slice();return $.push.apply($,arguments),u.apply(this,$)}}function b(u,g){function _(){}_.prototype=g.prototype,u.aa=g.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function($,Q,X){for(var ge=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)ge[yt-2]=arguments[yt];return g.prototype[Q].apply($,ge)}}function w(u){const g=u.length;if(0<g){const _=Array(g);for(let $=0;$<g;$++)_[$]=u[$];return _}return[]}function x(u,g){for(let _=1;_<arguments.length;_++){const $=arguments[_];if(c($)){const Q=u.length||0,X=$.length||0;u.length=Q+X;for(let ge=0;ge<X;ge++)u[Q+ge]=$[ge]}else u.push($)}}class I{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function C(u){return/^[\s\xa0]*$/.test(u)}function E(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function R(u){return R[" "](u),u}R[" "]=function(){};var A=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function M(u,g,_){for(const $ in u)g.call(_,u[$],$,u)}function T(u,g){for(const _ in u)g.call(void 0,u[_],_,u)}function v(u){const g={};for(const _ in u)g[_]=u[_];return g}const m="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(u,g){let _,$;for(let Q=1;Q<arguments.length;Q++){$=arguments[Q];for(_ in $)u[_]=$[_];for(let X=0;X<m.length;X++)_=m[X],Object.prototype.hasOwnProperty.call($,_)&&(u[_]=$[_])}}function N(u){var g=1;u=u.split(":");const _=[];for(;0<g&&u.length;)_.push(u.shift()),g--;return u.length&&_.push(u.join(":")),_}function S(u){a.setTimeout(()=>{throw u},0)}function P(){var u=oe;let g=null;return u.g&&(g=u.g,u.g=u.g.next,u.g||(u.h=null),g.next=null),g}class le{constructor(){this.h=this.g=null}add(g,_){const $=ue.get();$.set(g,_),this.h?this.h.next=$:this.g=$,this.h=$}}var ue=new I(()=>new G,u=>u.reset());class G{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let j,te=!1,oe=new le,ke=()=>{const u=a.Promise.resolve(void 0);j=()=>{u.then(ye)}};var ye=()=>{for(var u;u=P();){try{u.h.call(u.g)}catch(_){S(_)}var g=ue;g.j(u),100>g.h&&(g.h++,u.next=g.g,g.g=u)}te=!1};function Se(){this.s=this.s,this.C=this.C}Se.prototype.s=!1,Se.prototype.ma=function(){this.s||(this.s=!0,this.N())},Se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Le(u,g){this.type=u,this.g=this.target=g,this.defaultPrevented=!1}Le.prototype.h=function(){this.defaultPrevented=!0};var at=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,g=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};a.addEventListener("test",_,g),a.removeEventListener("test",_,g)}catch{}return u}();function It(u,g){if(Le.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,$=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=g,g=u.relatedTarget){if(A){e:{try{R(g.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(g=null)}}else _=="mouseover"?g=u.fromElement:_=="mouseout"&&(g=u.toElement);this.relatedTarget=g,$?(this.clientX=$.clientX!==void 0?$.clientX:$.pageX,this.clientY=$.clientY!==void 0?$.clientY:$.pageY,this.screenX=$.screenX||0,this.screenY=$.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:gt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&It.aa.h.call(this)}}b(It,Le);var gt={2:"touch",3:"pen",4:"mouse"};It.prototype.h=function(){It.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var K="closure_listenable_"+(1e6*Math.random()|0),L=0;function U(u,g,_,$,Q){this.listener=u,this.proxy=null,this.src=g,this.type=_,this.capture=!!$,this.ha=Q,this.key=++L,this.da=this.fa=!1}function F(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function be(u){this.src=u,this.g={},this.h=0}be.prototype.add=function(u,g,_,$,Q){var X=u.toString();u=this.g[X],u||(u=this.g[X]=[],this.h++);var ge=D(u,g,$,Q);return-1<ge?(g=u[ge],_||(g.fa=!1)):(g=new U(g,this.src,X,!!$,Q),g.fa=_,u.push(g)),g};function re(u,g){var _=g.type;if(_ in u.g){var $=u.g[_],Q=Array.prototype.indexOf.call($,g,void 0),X;(X=0<=Q)&&Array.prototype.splice.call($,Q,1),X&&(F(g),u.g[_].length==0&&(delete u.g[_],u.h--))}}function D(u,g,_,$){for(var Q=0;Q<u.length;++Q){var X=u[Q];if(!X.da&&X.listener==g&&X.capture==!!_&&X.ha==$)return Q}return-1}var B="closure_lm_"+(1e6*Math.random()|0),Y={};function ie(u,g,_,$,Q){if(Array.isArray(g)){for(var X=0;X<g.length;X++)ie(u,g[X],_,$,Q);return null}return _=Re(_),u&&u[K]?u.K(g,_,d($)?!!$.capture:!1,Q):J(u,g,_,!1,$,Q)}function J(u,g,_,$,Q,X){if(!g)throw Error("Invalid event type");var ge=d(Q)?!!Q.capture:!!Q,yt=$e(u);if(yt||(u[B]=yt=new be(u)),_=yt.add(g,_,$,ge,X),_.proxy)return _;if($=se(),_.proxy=$,$.src=u,$.listener=_,u.addEventListener)at||(Q=ge),Q===void 0&&(Q=!1),u.addEventListener(g.toString(),$,Q);else if(u.attachEvent)u.attachEvent(me(g.toString()),$);else if(u.addListener&&u.removeListener)u.addListener($);else throw Error("addEventListener and attachEvent are unavailable.");return _}function se(){function u(_){return g.call(u.src,u.listener,_)}const g=de;return u}function pe(u,g,_,$,Q){if(Array.isArray(g))for(var X=0;X<g.length;X++)pe(u,g[X],_,$,Q);else $=d($)?!!$.capture:!!$,_=Re(_),u&&u[K]?(u=u.i,g=String(g).toString(),g in u.g&&(X=u.g[g],_=D(X,_,$,Q),-1<_&&(F(X[_]),Array.prototype.splice.call(X,_,1),X.length==0&&(delete u.g[g],u.h--)))):u&&(u=$e(u))&&(g=u.g[g.toString()],u=-1,g&&(u=D(g,_,$,Q)),(_=-1<u?g[u]:null)&&fe(_))}function fe(u){if(typeof u!="number"&&u&&!u.da){var g=u.src;if(g&&g[K])re(g.i,u);else{var _=u.type,$=u.proxy;g.removeEventListener?g.removeEventListener(_,$,u.capture):g.detachEvent?g.detachEvent(me(_),$):g.addListener&&g.removeListener&&g.removeListener($),(_=$e(g))?(re(_,u),_.h==0&&(_.src=null,g[B]=null)):F(u)}}}function me(u){return u in Y?Y[u]:Y[u]="on"+u}function de(u,g){if(u.da)u=!0;else{g=new It(g,this);var _=u.listener,$=u.ha||u.src;u.fa&&fe(u),u=_.call($,g)}return u}function $e(u){return u=u[B],u instanceof be?u:null}var ve="__closure_events_fn_"+(1e9*Math.random()>>>0);function Re(u){return typeof u=="function"?u:(u[ve]||(u[ve]=function(g){return u.handleEvent(g)}),u[ve])}function Ie(){Se.call(this),this.i=new be(this),this.M=this,this.F=null}b(Ie,Se),Ie.prototype[K]=!0,Ie.prototype.removeEventListener=function(u,g,_,$){pe(this,u,g,_,$)};function Oe(u,g){var _,$=u.F;if($)for(_=[];$;$=$.F)_.push($);if(u=u.M,$=g.type||g,typeof g=="string")g=new Le(g,u);else if(g instanceof Le)g.target=g.target||u;else{var Q=g;g=new Le($,u),k(g,Q)}if(Q=!0,_)for(var X=_.length-1;0<=X;X--){var ge=g.g=_[X];Q=lt(ge,$,!0,g)&&Q}if(ge=g.g=u,Q=lt(ge,$,!0,g)&&Q,Q=lt(ge,$,!1,g)&&Q,_)for(X=0;X<_.length;X++)ge=g.g=_[X],Q=lt(ge,$,!1,g)&&Q}Ie.prototype.N=function(){if(Ie.aa.N.call(this),this.i){var u=this.i,g;for(g in u.g){for(var _=u.g[g],$=0;$<_.length;$++)F(_[$]);delete u.g[g],u.h--}}this.F=null},Ie.prototype.K=function(u,g,_,$){return this.i.add(String(u),g,!1,_,$)},Ie.prototype.L=function(u,g,_,$){return this.i.add(String(u),g,!0,_,$)};function lt(u,g,_,$){if(g=u.i.g[String(g)],!g)return!0;g=g.concat();for(var Q=!0,X=0;X<g.length;++X){var ge=g[X];if(ge&&!ge.da&&ge.capture==_){var yt=ge.listener,rr=ge.ha||ge.src;ge.fa&&re(u.i,ge),Q=yt.call(rr,$)!==!1&&Q}}return Q&&!$.defaultPrevented}function nt(u,g,_){if(typeof u=="function")_&&(u=p(u,_));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:a.setTimeout(u,g||0)}function pr(u){u.g=nt(()=>{u.g=null,u.i&&(u.i=!1,pr(u))},u.l);const g=u.h;u.h=null,u.m.apply(null,g)}class Zt extends Se{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:pr(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tr(u){Se.call(this),this.h=u,this.g={}}b(tr,Se);var mr=[];function ks(u){M(u.g,function(g,_){this.g.hasOwnProperty(_)&&fe(g)},u),u.g={}}tr.prototype.N=function(){tr.aa.N.call(this),ks(this)},tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var lo=a.JSON.stringify,$r=a.JSON.parse,dn=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function co(){}co.prototype.h=null;function Lg(u){return u.h||(u.h=u.i())}function Fg(){}var ma={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fh(){Le.call(this,"d")}b(fh,Le);function ph(){Le.call(this,"c")}b(ph,Le);var fi={},Ug=null;function hc(){return Ug=Ug||new Ie}fi.La="serverreachability";function jg(u){Le.call(this,fi.La,u)}b(jg,Le);function ga(u){const g=hc();Oe(g,new jg(g))}fi.STAT_EVENT="statevent";function Bg(u,g){Le.call(this,fi.STAT_EVENT,u),this.stat=g}b(Bg,Le);function Or(u){const g=hc();Oe(g,new Bg(g,u))}fi.Ma="timingevent";function qg(u,g){Le.call(this,fi.Ma,u),this.size=g}b(qg,Le);function ya(u,g){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},g)}function va(){this.g=!0}va.prototype.xa=function(){this.g=!1};function ME(u,g,_,$,Q,X){u.info(function(){if(u.g)if(X)for(var ge="",yt=X.split("&"),rr=0;rr<yt.length;rr++){var st=yt[rr].split("=");if(1<st.length){var gr=st[0];st=st[1];var yr=gr.split("_");ge=2<=yr.length&&yr[1]=="type"?ge+(gr+"="+st+"&"):ge+(gr+"=redacted&")}}else ge=null;else ge=X;return"XMLHTTP REQ ("+$+") [attempt "+Q+"]: "+g+`
`+_+`
`+ge})}function VE(u,g,_,$,Q,X,ge){u.info(function(){return"XMLHTTP RESP ("+$+") [ attempt "+Q+"]: "+g+`
`+_+`
`+X+" "+ge})}function uo(u,g,_,$){u.info(function(){return"XMLHTTP TEXT ("+g+"): "+FE(u,_)+($?" "+$:"")})}function LE(u,g){u.info(function(){return"TIMEOUT: "+g})}va.prototype.info=function(){};function FE(u,g){if(!u.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var $=_[u];if(!(2>$.length)){var Q=$[1];if(Array.isArray(Q)&&!(1>Q.length)){var X=Q[0];if(X!="noop"&&X!="stop"&&X!="close")for(var ge=1;ge<Q.length;ge++)Q[ge]=""}}}}return lo(_)}catch{return g}}var fc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Hg={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mh;function pc(){}b(pc,co),pc.prototype.g=function(){return new XMLHttpRequest},pc.prototype.i=function(){return{}},mh=new pc;function Es(u,g,_,$){this.j=u,this.i=g,this.l=_,this.R=$||1,this.U=new tr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zg}function zg(){this.i=null,this.g="",this.h=!1}var Wg={},gh={};function yh(u,g,_){u.L=1,u.v=vc(Wn(g)),u.m=_,u.P=!0,Kg(u,null)}function Kg(u,g){u.F=Date.now(),mc(u),u.A=Wn(u.v);var _=u.A,$=u.R;Array.isArray($)||($=[String($)]),a0(_.i,"t",$),u.C=0,_=u.j.J,u.h=new zg,u.g=I0(u.j,_?g:null,!u.m),0<u.O&&(u.M=new Zt(p(u.Y,u,u.g),u.O)),g=u.U,_=u.g,$=u.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(mr[0]=Q.toString()),Q=mr);for(var X=0;X<Q.length;X++){var ge=ie(_,Q[X],$||g.handleEvent,!1,g.h||g);if(!ge)break;g.g[ge.key]=ge}g=u.H?v(u.H):{},u.m?(u.u||(u.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,g)):(u.u="GET",u.g.ea(u.A,u.u,null,g)),ga(),ME(u.i,u.u,u.A,u.l,u.R,u.m)}Es.prototype.ca=function(u){u=u.target;const g=this.M;g&&Kn(u)==3?g.j():this.Y(u)},Es.prototype.Y=function(u){try{if(u==this.g)e:{const yr=Kn(this.g);var g=this.g.Ba();const po=this.g.Z();if(!(3>yr)&&(yr!=3||this.g&&(this.h.h||this.g.oa()||p0(this.g)))){this.J||yr!=4||g==7||(g==8||0>=po?ga(3):ga(2)),vh(this);var _=this.g.Z();this.X=_;t:if(Gg(this)){var $=p0(this.g);u="";var Q=$.length,X=Kn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pi(this),ba(this);var ge="";break t}this.h.i=new a.TextDecoder}for(g=0;g<Q;g++)this.h.h=!0,u+=this.h.i.decode($[g],{stream:!(X&&g==Q-1)});$.length=0,this.h.g+=u,this.C=0,ge=this.h.g}else ge=this.g.oa();if(this.o=_==200,VE(this.i,this.u,this.A,this.l,this.R,yr,_),this.o){if(this.T&&!this.K){t:{if(this.g){var yt,rr=this.g;if((yt=rr.g?rr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(yt)){var st=yt;break t}}st=null}if(_=st)uo(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bh(this,_);else{this.o=!1,this.s=3,Or(12),pi(this),ba(this);break e}}if(this.P){_=!0;let En;for(;!this.J&&this.C<ge.length;)if(En=UE(this,ge),En==gh){yr==4&&(this.s=4,Or(14),_=!1),uo(this.i,this.l,null,"[Incomplete Response]");break}else if(En==Wg){this.s=4,Or(15),uo(this.i,this.l,ge,"[Invalid Chunk]"),_=!1;break}else uo(this.i,this.l,En,null),bh(this,En);if(Gg(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yr!=4||ge.length!=0||this.h.h||(this.s=1,Or(16),_=!1),this.o=this.o&&_,!_)uo(this.i,this.l,ge,"[Invalid Chunked Response]"),pi(this),ba(this);else if(0<ge.length&&!this.W){this.W=!0;var gr=this.j;gr.g==this&&gr.ba&&!gr.M&&(gr.j.info("Great, no buffering proxy detected. Bytes received: "+ge.length),Ih(gr),gr.M=!0,Or(11))}}else uo(this.i,this.l,ge,null),bh(this,ge);yr==4&&pi(this),this.o&&!this.J&&(yr==4?_0(this.j,this):(this.o=!1,mc(this)))}else nI(this.g),_==400&&0<ge.indexOf("Unknown SID")?(this.s=3,Or(12)):(this.s=0,Or(13)),pi(this),ba(this)}}}catch{}finally{}};function Gg(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function UE(u,g){var _=u.C,$=g.indexOf(`
`,_);return $==-1?gh:(_=Number(g.substring(_,$)),isNaN(_)?Wg:($+=1,$+_>g.length?gh:(g=g.slice($,$+_),u.C=$+_,g)))}Es.prototype.cancel=function(){this.J=!0,pi(this)};function mc(u){u.S=Date.now()+u.I,Qg(u,u.I)}function Qg(u,g){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ya(p(u.ba,u),g)}function vh(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Es.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(LE(this.i,this.A),this.L!=2&&(ga(),Or(17)),pi(this),this.s=2,ba(this)):Qg(this,this.S-u)};function ba(u){u.j.G==0||u.J||_0(u.j,u)}function pi(u){vh(u);var g=u.M;g&&typeof g.ma=="function"&&g.ma(),u.M=null,ks(u.U),u.g&&(g=u.g,u.g=null,g.abort(),g.ma())}function bh(u,g){try{var _=u.j;if(_.G!=0&&(_.g==u||xh(_.h,u))){if(!u.K&&xh(_.h,u)&&_.G==3){try{var $=_.Da.g.parse(g)}catch{$=null}if(Array.isArray($)&&$.length==3){var Q=$;if(Q[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)Ec(_),wc(_);else break e;Eh(_),Or(18)}}else _.za=Q[1],0<_.za-_.T&&37500>Q[2]&&_.F&&_.v==0&&!_.C&&(_.C=ya(p(_.Za,_),6e3));if(1>=Xg(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else gi(_,11)}else if((u.K||_.g==u)&&Ec(_),!C(g))for(Q=_.Da.g.parse(g),g=0;g<Q.length;g++){let st=Q[g];if(_.T=st[0],st=st[1],_.G==2)if(st[0]=="c"){_.K=st[1],_.ia=st[2];const gr=st[3];gr!=null&&(_.la=gr,_.j.info("VER="+_.la));const yr=st[4];yr!=null&&(_.Aa=yr,_.j.info("SVER="+_.Aa));const po=st[5];po!=null&&typeof po=="number"&&0<po&&($=1.5*po,_.L=$,_.j.info("backChannelRequestTimeoutMs_="+$)),$=_;const En=u.g;if(En){const Tc=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tc){var X=$.h;X.g||Tc.indexOf("spdy")==-1&&Tc.indexOf("quic")==-1&&Tc.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(_h(X,X.h),X.h=null))}if($.D){const Th=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;Th&&($.ya=Th,xt($.I,$.D,Th))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),$=_;var ge=u;if($.qa=E0($,$.J?$.ia:null,$.W),ge.K){Zg($.h,ge);var yt=ge,rr=$.L;rr&&(yt.I=rr),yt.B&&(vh(yt),mc(yt)),$.g=ge}else b0($);0<_.i.length&&kc(_)}else st[0]!="stop"&&st[0]!="close"||gi(_,7);else _.G==3&&(st[0]=="stop"||st[0]=="close"?st[0]=="stop"?gi(_,7):kh(_):st[0]!="noop"&&_.l&&_.l.ta(st),_.v=0)}}ga(4)}catch{}}var jE=class{constructor(u,g){this.g=u,this.map=g}};function Yg(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Jg(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Xg(u){return u.h?1:u.g?u.g.size:0}function xh(u,g){return u.h?u.h==g:u.g?u.g.has(g):!1}function _h(u,g){u.g?u.g.add(g):u.h=g}function Zg(u,g){u.h&&u.h==g?u.h=null:u.g&&u.g.has(g)&&u.g.delete(g)}Yg.prototype.cancel=function(){if(this.i=e0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function e0(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let g=u.i;for(const _ of u.g.values())g=g.concat(_.D);return g}return w(u.i)}function BE(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(c(u)){for(var g=[],_=u.length,$=0;$<_;$++)g.push(u[$]);return g}g=[],_=0;for($ in u)g[_++]=u[$];return g}function qE(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(c(u)||typeof u=="string"){var g=[];u=u.length;for(var _=0;_<u;_++)g.push(_);return g}g=[],_=0;for(const $ in u)g[_++]=$;return g}}}function t0(u,g){if(u.forEach&&typeof u.forEach=="function")u.forEach(g,void 0);else if(c(u)||typeof u=="string")Array.prototype.forEach.call(u,g,void 0);else for(var _=qE(u),$=BE(u),Q=$.length,X=0;X<Q;X++)g.call(void 0,$[X],_&&_[X],u)}var r0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function HE(u,g){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var $=u[_].indexOf("="),Q=null;if(0<=$){var X=u[_].substring(0,$);Q=u[_].substring($+1)}else X=u[_];g(X,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function mi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof mi){this.h=u.h,gc(this,u.j),this.o=u.o,this.g=u.g,yc(this,u.s),this.l=u.l;var g=u.i,_=new wa;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),n0(this,_),this.m=u.m}else u&&(g=String(u).match(r0))?(this.h=!1,gc(this,g[1]||"",!0),this.o=xa(g[2]||""),this.g=xa(g[3]||"",!0),yc(this,g[4]),this.l=xa(g[5]||"",!0),n0(this,g[6]||"",!0),this.m=xa(g[7]||"")):(this.h=!1,this.i=new wa(null,this.h))}mi.prototype.toString=function(){var u=[],g=this.j;g&&u.push(_a(g,s0,!0),":");var _=this.g;return(_||g=="file")&&(u.push("//"),(g=this.o)&&u.push(_a(g,s0,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(_a(_,_.charAt(0)=="/"?KE:WE,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",_a(_,QE)),u.join("")};function Wn(u){return new mi(u)}function gc(u,g,_){u.j=_?xa(g,!0):g,u.j&&(u.j=u.j.replace(/:$/,""))}function yc(u,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);u.s=g}else u.s=null}function n0(u,g,_){g instanceof wa?(u.i=g,YE(u.i,u.h)):(_||(g=_a(g,GE)),u.i=new wa(g,u.h))}function xt(u,g,_){u.i.set(g,_)}function vc(u){return xt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function xa(u,g){return u?g?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function _a(u,g,_){return typeof u=="string"?(u=encodeURI(u).replace(g,zE),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function zE(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var s0=/[#\/\?@]/g,WE=/[#\?:]/g,KE=/[#\?]/g,GE=/[#\?@]/g,QE=/#/g;function wa(u,g){this.h=this.g=null,this.i=u||null,this.j=!!g}function Is(u){u.g||(u.g=new Map,u.h=0,u.i&&HE(u.i,function(g,_){u.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}t=wa.prototype,t.add=function(u,g){Is(this),this.i=null,u=ho(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(g),this.h+=1,this};function i0(u,g){Is(u),g=ho(u,g),u.g.has(g)&&(u.i=null,u.h-=u.g.get(g).length,u.g.delete(g))}function o0(u,g){return Is(u),g=ho(u,g),u.g.has(g)}t.forEach=function(u,g){Is(this),this.g.forEach(function(_,$){_.forEach(function(Q){u.call(g,Q,$,this)},this)},this)},t.na=function(){Is(this);const u=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let $=0;$<g.length;$++){const Q=u[$];for(let X=0;X<Q.length;X++)_.push(g[$])}return _},t.V=function(u){Is(this);let g=[];if(typeof u=="string")o0(this,u)&&(g=g.concat(this.g.get(ho(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)g=g.concat(u[_])}return g},t.set=function(u,g){return Is(this),this.i=null,u=ho(this,u),o0(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[g]),this.h+=1,this},t.get=function(u,g){return u?(u=this.V(u),0<u.length?String(u[0]):g):g};function a0(u,g,_){i0(u,g),0<_.length&&(u.i=null,u.g.set(ho(u,g),w(_)),u.h+=_.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var $=g[_];const X=encodeURIComponent(String($)),ge=this.V($);for($=0;$<ge.length;$++){var Q=X;ge[$]!==""&&(Q+="="+encodeURIComponent(String(ge[$]))),u.push(Q)}}return this.i=u.join("&")};function ho(u,g){return g=String(g),u.j&&(g=g.toLowerCase()),g}function YE(u,g){g&&!u.j&&(Is(u),u.i=null,u.g.forEach(function(_,$){var Q=$.toLowerCase();$!=Q&&(i0(this,$),a0(this,Q,_))},u)),u.j=g}function JE(u,g){const _=new va;if(a.Image){const $=new Image;$.onload=y(Ts,_,"TestLoadImage: loaded",!0,g,$),$.onerror=y(Ts,_,"TestLoadImage: error",!1,g,$),$.onabort=y(Ts,_,"TestLoadImage: abort",!1,g,$),$.ontimeout=y(Ts,_,"TestLoadImage: timeout",!1,g,$),a.setTimeout(function(){$.ontimeout&&$.ontimeout()},1e4),$.src=u}else g(!1)}function XE(u,g){const _=new va,$=new AbortController,Q=setTimeout(()=>{$.abort(),Ts(_,"TestPingServer: timeout",!1,g)},1e4);fetch(u,{signal:$.signal}).then(X=>{clearTimeout(Q),X.ok?Ts(_,"TestPingServer: ok",!0,g):Ts(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(Q),Ts(_,"TestPingServer: error",!1,g)})}function Ts(u,g,_,$,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),$(_)}catch{}}function ZE(){this.g=new dn}function eI(u,g,_){const $=_||"";try{t0(u,function(Q,X){let ge=Q;d(Q)&&(ge=lo(Q)),g.push($+X+"="+encodeURIComponent(ge))})}catch(Q){throw g.push($+"type="+encodeURIComponent("_badmap")),Q}}function bc(u){this.l=u.Ub||null,this.j=u.eb||!1}b(bc,co),bc.prototype.g=function(){return new xc(this.l,this.j)},bc.prototype.i=function(u){return function(){return u}}({});function xc(u,g){Ie.call(this),this.D=u,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(xc,Ie),t=xc.prototype,t.open=function(u,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=g,this.readyState=1,Ea(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(g.body=u),(this.D||a).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ka(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ea(this)),this.g&&(this.readyState=3,Ea(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;l0(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function l0(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var g=u.value?u.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!u.done}))&&(this.response=this.responseText+=g)}u.done?ka(this):Ea(this),this.readyState==3&&l0(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,ka(this))},t.Qa=function(u){this.g&&(this.response=u,ka(this))},t.ga=function(){this.g&&ka(this)};function ka(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ea(u)}t.setRequestHeader=function(u,g){this.u.append(u,g)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=g.next();return u.join(`\r
`)};function Ea(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(xc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function c0(u){let g="";return M(u,function(_,$){g+=$,g+=":",g+=_,g+=`\r
`}),g}function wh(u,g,_){e:{for($ in _){var $=!1;break e}$=!0}$||(_=c0(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):xt(u,g,_))}function Ot(u){Ie.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(Ot,Ie);var tI=/^https?$/i,rI=["POST","PUT"];t=Ot.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,g,_,$){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);g=g?g.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mh.g(),this.v=this.o?Lg(this.o):Lg(mh),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(g,String(u),!0),this.B=!1}catch(X){u0(this,X);return}if(u=_||"",_=new Map(this.headers),$)if(Object.getPrototypeOf($)===Object.prototype)for(var Q in $)_.set(Q,$[Q]);else if(typeof $.keys=="function"&&typeof $.get=="function")for(const X of $.keys())_.set(X,$.get(X));else throw Error("Unknown input type for opt_headers: "+String($));$=Array.from(_.keys()).find(X=>X.toLowerCase()=="content-type"),Q=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(rI,g,void 0))||$||Q||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,ge]of _)this.g.setRequestHeader(X,ge);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{f0(this),this.u=!0,this.g.send(u),this.u=!1}catch(X){u0(this,X)}};function u0(u,g){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=g,u.m=5,d0(u),_c(u)}function d0(u){u.A||(u.A=!0,Oe(u,"complete"),Oe(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Oe(this,"complete"),Oe(this,"abort"),_c(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_c(this,!0)),Ot.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?h0(this):this.bb())},t.bb=function(){h0(this)};function h0(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Kn(u)!=4||u.Z()!=2)){if(u.u&&Kn(u)==4)nt(u.Ea,0,u);else if(Oe(u,"readystatechange"),Kn(u)==4){u.h=!1;try{const ge=u.Z();e:switch(ge){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var $;if($=ge===0){var Q=String(u.D).match(r0)[1]||null;!Q&&a.self&&a.self.location&&(Q=a.self.location.protocol.slice(0,-1)),$=!tI.test(Q?Q.toLowerCase():"")}_=$}if(_)Oe(u,"complete"),Oe(u,"success");else{u.m=6;try{var X=2<Kn(u)?u.g.statusText:""}catch{X=""}u.l=X+" ["+u.Z()+"]",d0(u)}}finally{_c(u)}}}}function _c(u,g){if(u.g){f0(u);const _=u.g,$=u.v[0]?()=>{}:null;u.g=null,u.v=null,g||Oe(u,"ready");try{_.onreadystatechange=$}catch{}}}function f0(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Kn(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Kn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var g=this.g.responseText;return u&&g.indexOf(u)==0&&(g=g.substring(u.length)),$r(g)}};function p0(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function nI(u){const g={};u=(u.g&&2<=Kn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let $=0;$<u.length;$++){if(C(u[$]))continue;var _=N(u[$]);const Q=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const X=g[Q]||[];g[Q]=X,X.push(_)}T(g,function($){return $.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ia(u,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||g}function m0(u){this.Aa=0,this.i=[],this.j=new va,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ia("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ia("baseRetryDelayMs",5e3,u),this.cb=Ia("retryDelaySeedMs",1e4,u),this.Wa=Ia("forwardChannelMaxRetries",2,u),this.wa=Ia("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Yg(u&&u.concurrentRequestLimit),this.Da=new ZE,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=m0.prototype,t.la=8,t.G=1,t.connect=function(u,g,_,$){Or(0),this.W=u,this.H=g||{},_&&$!==void 0&&(this.H.OSID=_,this.H.OAID=$),this.F=this.X,this.I=E0(this,null,this.W),kc(this)};function kh(u){if(g0(u),u.G==3){var g=u.U++,_=Wn(u.I);if(xt(_,"SID",u.K),xt(_,"RID",g),xt(_,"TYPE","terminate"),Ta(u,_),g=new Es(u,u.j,g),g.L=2,g.v=vc(Wn(_)),_=!1,a.navigator&&a.navigator.sendBeacon)try{_=a.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&a.Image&&(new Image().src=g.v,_=!0),_||(g.g=I0(g.j,null),g.g.ea(g.v)),g.F=Date.now(),mc(g)}k0(u)}function wc(u){u.g&&(Ih(u),u.g.cancel(),u.g=null)}function g0(u){wc(u),u.u&&(a.clearTimeout(u.u),u.u=null),Ec(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function kc(u){if(!Jg(u.h)&&!u.s){u.s=!0;var g=u.Ga;j||ke(),te||(j(),te=!0),oe.add(g,u),u.B=0}}function sI(u,g){return Xg(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=g.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ya(p(u.Ga,u,g),w0(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const Q=new Es(this,this.j,u);let X=this.o;if(this.S&&(X?(X=v(X),k(X,this.S)):X=this.S),this.m!==null||this.O||(Q.H=X,X=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var $=this.i[_];if("__data__"in $.map&&($=$.map.__data__,typeof $=="string")){$=$.length;break t}$=void 0}if($===void 0)break;if(g+=$,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=v0(this,Q,g),_=Wn(this.I),xt(_,"RID",u),xt(_,"CVER",22),this.D&&xt(_,"X-HTTP-Session-Id",this.D),Ta(this,_),X&&(this.O?g="headers="+encodeURIComponent(String(c0(X)))+"&"+g:this.m&&wh(_,this.m,X)),_h(this.h,Q),this.Ua&&xt(_,"TYPE","init"),this.P?(xt(_,"$req",g),xt(_,"SID","null"),Q.T=!0,yh(Q,_,null)):yh(Q,_,g),this.G=2}}else this.G==3&&(u?y0(this,u):this.i.length==0||Jg(this.h)||y0(this))};function y0(u,g){var _;g?_=g.l:_=u.U++;const $=Wn(u.I);xt($,"SID",u.K),xt($,"RID",_),xt($,"AID",u.T),Ta(u,$),u.m&&u.o&&wh($,u.m,u.o),_=new Es(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),g&&(u.i=g.D.concat(u.i)),g=v0(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),_h(u.h,_),yh(_,$,g)}function Ta(u,g){u.H&&M(u.H,function(_,$){xt(g,$,_)}),u.l&&t0({},function(_,$){xt(g,$,_)})}function v0(u,g,_){_=Math.min(u.i.length,_);var $=u.l?p(u.l.Na,u.l,u):null;e:{var Q=u.i;let X=-1;for(;;){const ge=["count="+_];X==-1?0<_?(X=Q[0].g,ge.push("ofs="+X)):X=0:ge.push("ofs="+X);let yt=!0;for(let rr=0;rr<_;rr++){let st=Q[rr].g;const gr=Q[rr].map;if(st-=X,0>st)X=Math.max(0,Q[rr].g-100),yt=!1;else try{eI(gr,ge,"req"+st+"_")}catch{$&&$(gr)}}if(yt){$=ge.join("&");break e}}}return u=u.i.splice(0,_),g.D=u,$}function b0(u){if(!u.g&&!u.u){u.Y=1;var g=u.Fa;j||ke(),te||(j(),te=!0),oe.add(g,u),u.v=0}}function Eh(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ya(p(u.Fa,u),w0(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,x0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ya(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Or(10),wc(this),x0(this))};function Ih(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function x0(u){u.g=new Es(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var g=Wn(u.qa);xt(g,"RID","rpc"),xt(g,"SID",u.K),xt(g,"AID",u.T),xt(g,"CI",u.F?"0":"1"),!u.F&&u.ja&&xt(g,"TO",u.ja),xt(g,"TYPE","xmlhttp"),Ta(u,g),u.m&&u.o&&wh(g,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=vc(Wn(g)),_.m=null,_.P=!0,Kg(_,u)}t.Za=function(){this.C!=null&&(this.C=null,wc(this),Eh(this),Or(19))};function Ec(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function _0(u,g){var _=null;if(u.g==g){Ec(u),Ih(u),u.g=null;var $=2}else if(xh(u.h,g))_=g.D,Zg(u.h,g),$=1;else return;if(u.G!=0){if(g.o)if($==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var Q=u.B;$=hc(),Oe($,new qg($,_)),kc(u)}else b0(u);else if(Q=g.s,Q==3||Q==0&&0<g.X||!($==1&&sI(u,g)||$==2&&Eh(u)))switch(_&&0<_.length&&(g=u.h,g.i=g.i.concat(_)),Q){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function w0(u,g){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*g}function gi(u,g){if(u.j.info("Error code "+g),g==2){var _=p(u.fb,u),$=u.Xa;const Q=!$;$=new mi($||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||gc($,"https"),vc($),Q?JE($.toString(),_):XE($.toString(),_)}else Or(2);u.G=0,u.l&&u.l.sa(g),k0(u),g0(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Or(2)):(this.j.info("Failed to ping google.com"),Or(1))};function k0(u){if(u.G=0,u.ka=[],u.l){const g=e0(u.h);(g.length!=0||u.i.length!=0)&&(x(u.ka,g),x(u.ka,u.i),u.h.i.length=0,w(u.i),u.i.length=0),u.l.ra()}}function E0(u,g,_){var $=_ instanceof mi?Wn(_):new mi(_);if($.g!="")g&&($.g=g+"."+$.g),yc($,$.s);else{var Q=a.location;$=Q.protocol,g=g?g+"."+Q.hostname:Q.hostname,Q=+Q.port;var X=new mi(null);$&&gc(X,$),g&&(X.g=g),Q&&yc(X,Q),_&&(X.l=_),$=X}return _=u.D,g=u.ya,_&&g&&xt($,_,g),xt($,"VER",u.la),Ta(u,$),$}function I0(u,g,_){if(g&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=u.Ca&&!u.pa?new Ot(new bc({eb:_})):new Ot(u.pa),g.Ha(u.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function T0(){}t=T0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ic(){}Ic.prototype.g=function(u,g){return new Jr(u,g)};function Jr(u,g){Ie.call(this),this.g=new m0(g),this.l=u,this.h=g&&g.messageUrlParams||null,u=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(u?u["X-WebChannel-Content-Type"]=g.messageContentType:u={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(u?u["X-WebChannel-Client-Profile"]=g.va:u={"X-WebChannel-Client-Profile":g.va}),this.g.S=u,(u=g&&g.Sb)&&!C(u)&&(this.g.m=u),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!C(g)&&(this.g.D=g,u=this.h,u!==null&&g in u&&(u=this.h,g in u&&delete u[g])),this.j=new fo(this)}b(Jr,Ie),Jr.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jr.prototype.close=function(){kh(this.g)},Jr.prototype.o=function(u){var g=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=lo(u),u=_);g.i.push(new jE(g.Ya++,u)),g.G==3&&kc(g)},Jr.prototype.N=function(){this.g.l=null,delete this.j,kh(this.g),delete this.g,Jr.aa.N.call(this)};function A0(u){fh.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var g=u.__sm__;if(g){e:{for(const _ in g){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,g=g!==null&&u in g?g[u]:void 0),this.data=g}else this.data=u}b(A0,fh);function S0(){ph.call(this),this.status=1}b(S0,ph);function fo(u){this.g=u}b(fo,T0),fo.prototype.ua=function(){Oe(this.g,"a")},fo.prototype.ta=function(u){Oe(this.g,new A0(u))},fo.prototype.sa=function(u){Oe(this.g,new S0)},fo.prototype.ra=function(){Oe(this.g,"b")},Ic.prototype.createWebChannel=Ic.prototype.g,Jr.prototype.send=Jr.prototype.o,Jr.prototype.open=Jr.prototype.m,Jr.prototype.close=Jr.prototype.close,dk=function(){return new Ic},uk=function(){return hc()},ck=fi,np={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},fc.NO_ERROR=0,fc.TIMEOUT=8,fc.HTTP_ERROR=6,cu=fc,Hg.COMPLETE="complete",lk=Hg,Fg.EventType=ma,ma.OPEN="a",ma.CLOSE="b",ma.ERROR="c",ma.MESSAGE="d",Ie.prototype.listen=Ie.prototype.K,ja=Fg,Ot.prototype.listenOnce=Ot.prototype.L,Ot.prototype.getLastError=Ot.prototype.Ka,Ot.prototype.getLastErrorCode=Ot.prototype.Ba,Ot.prototype.getStatus=Ot.prototype.Z,Ot.prototype.getResponseJson=Ot.prototype.Oa,Ot.prototype.getResponseText=Ot.prototype.oa,Ot.prototype.send=Ot.prototype.ea,Ot.prototype.setWithCredentials=Ot.prototype.Ha,ak=Ot}).apply(typeof jc<"u"?jc:typeof self<"u"?self:typeof window<"u"?window:{});const Rv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wr.UNAUTHENTICATED=new wr(null),wr.GOOGLE_CREDENTIALS=new wr("google-credentials-uid"),wr.FIRST_PARTY=new wr("first-party-uid"),wr.MOCK_USER=new wr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let da="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zi=new Od("@firebase/firestore");function Ra(){return zi.logLevel}function Te(t,...e){if(zi.logLevel<=Je.DEBUG){const r=e.map(Lm);zi.debug(`Firestore (${da}): ${t}`,...r)}}function ps(t,...e){if(zi.logLevel<=Je.ERROR){const r=e.map(Lm);zi.error(`Firestore (${da}): ${t}`,...r)}}function Jo(t,...e){if(zi.logLevel<=Je.WARN){const r=e.map(Lm);zi.warn(`Firestore (${da}): ${t}`,...r)}}function Lm(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ve(t="Unexpected state"){const e=`FIRESTORE (${da}) INTERNAL ASSERTION FAILED: `+t;throw ps(e),new Error(e)}function ft(t,e){t||Ve()}function qe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends wn{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class N6{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(wr.UNAUTHENTICATED))}shutdown(){}}class $6{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class O6{constructor(e){this.t=e,this.currentUser=wr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){ft(this.o===void 0);let n=this.i;const s=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let i=new cs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new cs,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{Te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(Te("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new cs)}},0),o()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(Te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(ft(typeof n.accessToken=="string"),new hk(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ft(e===null||typeof e=="string"),new wr(e)}}class D6{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=wr.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class M6{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new D6(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(wr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class V6{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class L6{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){ft(this.o===void 0);const n=i=>{i.error!=null&&Te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,Te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?r(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>n(i))};const s=i=>{Te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):Te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(ft(typeof r.token=="string"),this.R=r.token,new V6(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const s=F6(40);for(let i=0;i<s.length;++i)n.length<20&&s[i]<r&&(n+=e.charAt(s[i]%e.length))}return n}}function it(t,e){return t<e?-1:t>e?1:0}function Xo(t,e,r){return t.length===e.length&&t.every((n,s)=>r(n,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new _e(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new _e(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new _e(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Wt.fromMillis(Date.now())}static fromDate(e){return Wt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new Wt(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?it(this.nanoseconds,e.nanoseconds):it(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.timestamp=e}static fromTimestamp(e){return new je(e)}static min(){return new je(new Wt(0,0))}static max(){return new je(new Wt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rl{constructor(e,r,n){r===void 0?r=0:r>e.length&&Ve(),n===void 0?n=e.length-r:n>e.length-r&&Ve(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Rl.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Rl?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let s=0;s<n;s++){const i=e.get(s),o=r.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class kt extends Rl{construct(e,r,n){return new kt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new _e(ne.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(s=>s.length>0))}return new kt(r)}static emptyPath(){return new kt([])}}const U6=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ir extends Rl{construct(e,r,n){return new ir(e,r,n)}static isValidIdentifier(e){return U6.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ir.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ir(["__name__"])}static fromServerFormat(e){const r=[];let n="",s=0;const i=()=>{if(n.length===0)throw new _e(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new _e(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new _e(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(n+=a,s++):(i(),s++)}if(i(),o)throw new _e(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ir(r)}static emptyPath(){return new ir([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(kt.fromString(e))}static fromName(e){return new Ne(kt.fromString(e).popFirst(5))}static empty(){return new Ne(kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return kt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new kt(e.slice()))}}function j6(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,s=je.fromTimestamp(n===1e9?new Wt(r+1,0):new Wt(r,n));return new ii(s,Ne.empty(),e)}function B6(t){return new ii(t.readTime,t.key,-1)}class ii{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new ii(je.min(),Ne.empty(),-1)}static max(){return new ii(je.max(),Ne.empty(),-1)}}function q6(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=Ne.comparator(t.documentKey,e.documentKey),r!==0?r:it(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H6="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class z6{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jl(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==H6)throw t;Te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Ve(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new ae((n,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(n,s)},this.catchCallback=i=>{this.wrapFailure(r,i).next(n,s)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof ae?r:ae.resolve(r)}catch(r){return ae.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):ae.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):ae.reject(r)}static resolve(e){return new ae((r,n)=>{r(e)})}static reject(e){return new ae((r,n)=>{n(e)})}static waitFor(e){return new ae((r,n)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&r()},c=>n(c))}),o=!0,i===s&&r()})}static or(e){let r=ae.resolve(!1);for(const n of e)r=r.next(s=>s?ae.resolve(s):n());return r}static forEach(e,r){const n=[];return e.forEach((s,i)=>{n.push(r.call(this,s,i))}),this.waitFor(n)}static mapArray(e,r){return new ae((n,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const d=c;r(e[d]).next(h=>{o[d]=h,++a,a===i&&n(o)},h=>s(h))}})}static doWhile(e,r){return new ae((n,s)=>{const i=()=>{e()===!0?r().next(()=>{i()},s):n()};i()})}}function W6(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Xl(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Fm.oe=-1;function Ld(t){return t==null}function zu(t){return t===0&&1/t==-1/0}function K6(t){return typeof t=="number"&&Number.isInteger(t)&&!zu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function io(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function pk(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e,r){this.comparator=e,this.root=r||sr.EMPTY}insert(e,r){return new Nt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,sr.BLACK,null,null))}remove(e){return new Nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,sr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return r+n.left.size;s<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bc(this.root,e,this.comparator,!0)}}class Bc{constructor(e,r,n,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=r?n(e.key,r):1,r&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class sr{constructor(e,r,n,s,i){this.key=e,this.value=r,this.color=n??sr.RED,this.left=s??sr.EMPTY,this.right=i??sr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,s,i){return new sr(e??this.key,r??this.value,n??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let s=this;const i=n(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,r,n),null):i===0?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(e,r,n)),s.fixUp()}removeMin(){if(this.left.isEmpty())return sr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,s=this;if(r(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,r),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),r(e,s.key)===0){if(s.right.isEmpty())return sr.EMPTY;n=s.right.min(),s=s.copy(n.key,n.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,r))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,sr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,sr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ve();const e=this.left.check();if(e!==this.right.check())throw Ve();return e+(this.isRed()?0:1)}}sr.EMPTY=null,sr.RED=!0,sr.BLACK=!1;sr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ve()}get value(){throw Ve()}get color(){throw Ve()}get left(){throw Ve()}get right(){throw Ve()}copy(e,r,n,s,i){return this}insert(e,r,n){return new sr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.comparator=e,this.data=new Nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const s=n.getNext();if(this.comparator(s.key,e[1])>=0)return;r(s.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new $v(this.data.getIterator())}getIteratorFrom(e){return new $v(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof lr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const s=r.getNext().key,i=n.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new lr(this.comparator);return r.data=e,r}}class $v{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e){this.fields=e,e.sort(ir.comparator)}static empty(){return new rn([])}unionWith(e){let r=new lr(ir.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new rn(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Xo(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new mk("Invalid base64 string: "+i):i}}(e);return new dr(r)}static fromUint8Array(e){const r=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new dr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let s=0;s<r.length;s++)n[s]=r.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return it(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dr.EMPTY_BYTE_STRING=new dr("");const G6=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oi(t){if(ft(!!t),typeof t=="string"){let e=0;const r=G6.exec(t);if(ft(!!r),r[1]){let s=r[1];s=(s+"000000000").substr(0,9),e=Number(s)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Vt(t.seconds),nanos:Vt(t.nanos)}}function Vt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Wi(t){return typeof t=="string"?dr.fromBase64String(t):dr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function jm(t){const e=t.mapValue.fields.__previous_value__;return Um(e)?jm(e):e}function Nl(t){const e=oi(t.mapValue.fields.__local_write_time__.timestampValue);return new Wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e,r,n,s,i,o,a,c,d){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d}}class $l{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qc={mapValue:{}};function Ki(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Um(t)?4:J6(t)?9007199254740991:Y6(t)?10:11:Ve()}function qn(t,e){if(t===e)return!0;const r=Ki(t);if(r!==Ki(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Nl(t).isEqual(Nl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=oi(s.timestampValue),a=oi(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Wi(s.bytesValue).isEqual(Wi(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Vt(s.geoPointValue.latitude)===Vt(i.geoPointValue.latitude)&&Vt(s.geoPointValue.longitude)===Vt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Vt(s.integerValue)===Vt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=Vt(s.doubleValue),a=Vt(i.doubleValue);return o===a?zu(o)===zu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Xo(t.arrayValue.values||[],e.arrayValue.values||[],qn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Nv(o)!==Nv(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!qn(o[c],a[c])))return!1;return!0}(t,e);default:return Ve()}}function Ol(t,e){return(t.values||[]).find(r=>qn(r,e))!==void 0}function Zo(t,e){if(t===e)return 0;const r=Ki(t),n=Ki(e);if(r!==n)return it(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return it(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=Vt(i.integerValue||i.doubleValue),c=Vt(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return Ov(t.timestampValue,e.timestampValue);case 4:return Ov(Nl(t),Nl(e));case 5:return it(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Wi(i),c=Wi(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let d=0;d<a.length&&d<c.length;d++){const h=it(a[d],c[d]);if(h!==0)return h}return it(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=it(Vt(i.latitude),Vt(o.latitude));return a!==0?a:it(Vt(i.longitude),Vt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Dv(t.arrayValue,e.arrayValue);case 10:return function(i,o){var a,c,d,h;const f=i.fields||{},p=o.fields||{},y=(a=f.value)===null||a===void 0?void 0:a.arrayValue,b=(c=p.value)===null||c===void 0?void 0:c.arrayValue,w=it(((d=y==null?void 0:y.values)===null||d===void 0?void 0:d.length)||0,((h=b==null?void 0:b.values)===null||h===void 0?void 0:h.length)||0);return w!==0?w:Dv(y,b)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===qc.mapValue&&o===qc.mapValue)return 0;if(i===qc.mapValue)return 1;if(o===qc.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),d=o.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const p=it(c[f],h[f]);if(p!==0)return p;const y=Zo(a[c[f]],d[h[f]]);if(y!==0)return y}return it(c.length,h.length)}(t.mapValue,e.mapValue);default:throw Ve()}}function Ov(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return it(t,e);const r=oi(t),n=oi(e),s=it(r.seconds,n.seconds);return s!==0?s:it(r.nanos,n.nanos)}function Dv(t,e){const r=t.values||[],n=e.values||[];for(let s=0;s<r.length&&s<n.length;++s){const i=Zo(r[s],n[s]);if(i)return i}return it(r.length,n.length)}function ea(t){return sp(t)}function sp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=oi(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Wi(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return Ne.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",s=!0;for(const i of r.values||[])s?s=!1:n+=",",n+=sp(i);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let s="{",i=!0;for(const o of n)i?i=!1:s+=",",s+=`${o}:${sp(r.fields[o])}`;return s+"}"}(t.mapValue):Ve()}function Mv(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ip(t){return!!t&&"integerValue"in t}function Bm(t){return!!t&&"arrayValue"in t}function Vv(t){return!!t&&"nullValue"in t}function Lv(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function uu(t){return!!t&&"mapValue"in t}function Y6(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function sl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return io(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=sl(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=sl(t.arrayValue.values[r]);return e}return Object.assign({},t)}function J6(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e){this.value=e}static empty(){return new zr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!uu(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=sl(r)}setAll(e){let r=ir.emptyPath(),n={},s=[];e.forEach((o,a)=>{if(!r.isImmediateParentOf(a)){const c=this.getFieldsMap(r);this.applyChanges(c,n,s),n={},s=[],r=a.popLast()}o?n[a.lastSegment()]=sl(o):s.push(a.lastSegment())});const i=this.getFieldsMap(r);this.applyChanges(i,n,s)}delete(e){const r=this.field(e.popLast());uu(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return qn(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let s=r.mapValue.fields[e.get(n)];uu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=s),r=s}return r.mapValue.fields}applyChanges(e,r,n){io(r,(s,i)=>e[s]=i);for(const s of n)delete e[s]}clone(){return new zr(sl(this.value))}}function gk(t){const e=[];return io(t.fields,(r,n)=>{const s=new ir([r]);if(uu(n)){const i=gk(n.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e,r,n,s,i,o,a){this.key=e,this.documentType=r,this.version=n,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ir(e,0,je.min(),je.min(),je.min(),zr.empty(),0)}static newFoundDocument(e,r,n,s){return new Ir(e,1,r,je.min(),n,s,0)}static newNoDocument(e,r){return new Ir(e,2,r,je.min(),je.min(),zr.empty(),0)}static newUnknownDocument(e,r){return new Ir(e,3,r,je.min(),je.min(),zr.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(je.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ir&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ir(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,r){this.position=e,this.inclusive=r}}function Fv(t,e,r){let n=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?n=Ne.comparator(Ne.fromName(o.referenceValue),r.key):n=Zo(o,r.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function Uv(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!qn(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,r="asc"){this.field=e,this.dir=r}}function X6(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{}class Ht extends yk{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new eN(e,r,n):r==="array-contains"?new nN(e,n):r==="in"?new sN(e,n):r==="not-in"?new iN(e,n):r==="array-contains-any"?new oN(e,n):new Ht(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new tN(e,n):new rN(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(Zo(r,this.value)):r!==null&&Ki(this.value)===Ki(r)&&this.matchesComparison(Zo(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ve()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $n extends yk{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new $n(e,r)}matches(e){return vk(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function vk(t){return t.op==="and"}function bk(t){return Z6(t)&&vk(t)}function Z6(t){for(const e of t.filters)if(e instanceof $n)return!1;return!0}function op(t){if(t instanceof Ht)return t.field.canonicalString()+t.op.toString()+ea(t.value);if(bk(t))return t.filters.map(e=>op(e)).join(",");{const e=t.filters.map(r=>op(r)).join(",");return`${t.op}(${e})`}}function xk(t,e){return t instanceof Ht?function(n,s){return s instanceof Ht&&n.op===s.op&&n.field.isEqual(s.field)&&qn(n.value,s.value)}(t,e):t instanceof $n?function(n,s){return s instanceof $n&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((i,o,a)=>i&&xk(o,s.filters[a]),!0):!1}(t,e):void Ve()}function _k(t){return t instanceof Ht?function(r){return`${r.field.canonicalString()} ${r.op} ${ea(r.value)}`}(t):t instanceof $n?function(r){return r.op.toString()+" {"+r.getFilters().map(_k).join(" ,")+"}"}(t):"Filter"}class eN extends Ht{constructor(e,r,n){super(e,r,n),this.key=Ne.fromName(n.referenceValue)}matches(e){const r=Ne.comparator(e.key,this.key);return this.matchesComparison(r)}}class tN extends Ht{constructor(e,r){super(e,"in",r),this.keys=wk("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class rN extends Ht{constructor(e,r){super(e,"not-in",r),this.keys=wk("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function wk(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>Ne.fromName(n.referenceValue))}class nN extends Ht{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Bm(r)&&Ol(r.arrayValue,this.value)}}class sN extends Ht{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&Ol(this.value.arrayValue,r)}}class iN extends Ht{constructor(e,r){super(e,"not-in",r)}matches(e){if(Ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!Ol(this.value.arrayValue,r)}}class oN extends Ht{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Bm(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>Ol(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,r=null,n=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.ue=null}}function jv(t,e=null,r=[],n=[],s=null,i=null,o=null){return new aN(t,e,r,n,s,i,o)}function qm(t){const e=qe(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>op(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(i){return i.field.canonicalString()+i.dir}(n)).join(","),Ld(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>ea(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>ea(n)).join(",")),e.ue=r}return e.ue}function Hm(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!X6(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!xk(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Uv(t.startAt,e.startAt)&&Uv(t.endAt,e.endAt)}function ap(t){return Ne.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,r=null,n=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function lN(t,e,r,n,s,i,o,a){return new ha(t,e,r,n,s,i,o,a)}function Fd(t){return new ha(t)}function Bv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function kk(t){return t.collectionGroup!==null}function il(t){const e=qe(t);if(e.ce===null){e.ce=[];const r=new Set;for(const i of e.explicitOrderBy)e.ce.push(i),r.add(i.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new lr(ir.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{r.has(i.canonicalString())||i.isKeyField()||e.ce.push(new Dl(i,n))}),r.has(ir.keyField().canonicalString())||e.ce.push(new Dl(ir.keyField(),n))}return e.ce}function jn(t){const e=qe(t);return e.le||(e.le=cN(e,il(t))),e.le}function cN(t,e){if(t.limitType==="F")return jv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Dl(s.field,i)});const r=t.endAt?new Wu(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Wu(t.startAt.position,t.startAt.inclusive):null;return jv(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function lp(t,e){const r=t.filters.concat([e]);return new ha(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function Ku(t,e,r){return new ha(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Ud(t,e){return Hm(jn(t),jn(e))&&t.limitType===e.limitType}function Ek(t){return`${qm(jn(t))}|lt:${t.limitType}`}function wo(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(s=>_k(s)).join(", ")}]`),Ld(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(s=>ea(s)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(s=>ea(s)).join(",")),`Target(${n})`}(jn(t))}; limitType=${t.limitType})`}function jd(t,e){return e.isFoundDocument()&&function(n,s){const i=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Ne.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,s){for(const i of il(n))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const i of n.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(o,a,c){const d=Fv(o,a,c);return o.inclusive?d<=0:d<0}(n.startAt,il(n),s)||n.endAt&&!function(o,a,c){const d=Fv(o,a,c);return o.inclusive?d>=0:d>0}(n.endAt,il(n),s))}(t,e)}function uN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Ik(t){return(e,r)=>{let n=!1;for(const s of il(t)){const i=dN(s,e,r);if(i!==0)return i;n=n||s.field.isKeyField()}return 0}}function dN(t,e,r){const n=t.field.isKeyField()?Ne.comparator(e.key,r.key):function(i,o,a){const c=o.data.field(i),d=a.data.field(i);return c!==null&&d!==null?Zo(c,d):Ve()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Ve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[s,i]of n)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,r]);s.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let s=0;s<n.length;s++)if(this.equalsFn(n[s][0],e))return n.length===1?delete this.inner[r]:n.splice(s,1),this.innerSize--,!0;return!1}forEach(e){io(this.inner,(r,n)=>{for(const[s,i]of n)e(s,i)})}isEmpty(){return pk(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=new Nt(Ne.comparator);function ms(){return hN}const Tk=new Nt(Ne.comparator);function Ba(...t){let e=Tk;for(const r of t)e=e.insert(r.key,r);return e}function Ak(t){let e=Tk;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function Ci(){return ol()}function Sk(){return ol()}function ol(){return new fa(t=>t.toString(),(t,e)=>t.isEqual(e))}const fN=new Nt(Ne.comparator),pN=new lr(Ne.comparator);function Ge(...t){let e=pN;for(const r of t)e=e.add(r);return e}const mN=new lr(it);function gN(){return mN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zu(e)?"-0":e}}function Ck(t){return{integerValue:""+t}}function yN(t,e){return K6(e)?Ck(e):zm(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bd{constructor(){this._=void 0}}function vN(t,e,r){return t instanceof Ml?function(s,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Um(i)&&(i=jm(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(r,e):t instanceof Vl?Rk(t,e):t instanceof Ll?Nk(t,e):function(s,i){const o=Pk(s,i),a=qv(o)+qv(s.Pe);return ip(o)&&ip(s.Pe)?Ck(a):zm(s.serializer,a)}(t,e)}function bN(t,e,r){return t instanceof Vl?Rk(t,e):t instanceof Ll?Nk(t,e):r}function Pk(t,e){return t instanceof Gu?function(n){return ip(n)||function(i){return!!i&&"doubleValue"in i}(n)}(e)?e:{integerValue:0}:null}class Ml extends Bd{}class Vl extends Bd{constructor(e){super(),this.elements=e}}function Rk(t,e){const r=$k(e);for(const n of t.elements)r.some(s=>qn(s,n))||r.push(n);return{arrayValue:{values:r}}}class Ll extends Bd{constructor(e){super(),this.elements=e}}function Nk(t,e){let r=$k(e);for(const n of t.elements)r=r.filter(s=>!qn(s,n));return{arrayValue:{values:r}}}class Gu extends Bd{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function qv(t){return Vt(t.integerValue||t.doubleValue)}function $k(t){return Bm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e,r){this.field=e,this.transform=r}}function _N(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof Vl&&s instanceof Vl||n instanceof Ll&&s instanceof Ll?Xo(n.elements,s.elements,qn):n instanceof Gu&&s instanceof Gu?qn(n.Pe,s.Pe):n instanceof Ml&&s instanceof Ml}(t.transform,e.transform)}class wN{constructor(e,r){this.version=e,this.transformResults=r}}class Fr{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Fr}static exists(e){return new Fr(void 0,e)}static updateTime(e){return new Fr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function du(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qd{}function Ok(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Hd(t.key,Fr.none()):new Zl(t.key,t.data,Fr.none());{const r=t.data,n=zr.empty();let s=new lr(ir.comparator);for(let i of e.fields)if(!s.has(i)){let o=r.field(i);o===null&&i.length>1&&(i=i.popLast(),o=r.field(i)),o===null?n.delete(i):n.set(i,o),s=s.add(i)}return new hi(t.key,n,new rn(s.toArray()),Fr.none())}}function kN(t,e,r){t instanceof Zl?function(s,i,o){const a=s.value.clone(),c=zv(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,r):t instanceof hi?function(s,i,o){if(!du(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=zv(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(Dk(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,r):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,r)}function al(t,e,r,n){return t instanceof Zl?function(i,o,a,c){if(!du(i.precondition,o))return a;const d=i.value.clone(),h=Wv(i.fieldTransforms,c,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,r,n):t instanceof hi?function(i,o,a,c){if(!du(i.precondition,o))return a;const d=Wv(i.fieldTransforms,c,o),h=o.data;return h.setAll(Dk(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,r,n):function(i,o,a){return du(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,r)}function EN(t,e){let r=null;for(const n of t.fieldTransforms){const s=e.data.field(n.field),i=Pk(n.transform,s||null);i!=null&&(r===null&&(r=zr.empty()),r.set(n.field,i))}return r||null}function Hv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&Xo(n,s,(i,o)=>_N(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zl extends qd{constructor(e,r,n,s=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class hi extends qd{constructor(e,r,n,s,i=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Dk(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function zv(t,e,r){const n=new Map;ft(t.length===r.length);for(let s=0;s<r.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);n.set(i.field,bN(o,a,r[s]))}return n}function Wv(t,e,r){const n=new Map;for(const s of t){const i=s.transform,o=r.data.field(s.field);n.set(s.field,vN(i,o,e))}return n}class Hd extends qd{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class IN extends qd{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(e,r,n,s){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=s}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&kN(i,e,n[s])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=al(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=al(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=Sk();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=r.has(s.key)?null:a;const c=Ok(o,a);c!==null&&n.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(je.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Ge())}isEqual(e){return this.batchId===e.batchId&&Xo(this.mutations,e.mutations,(r,n)=>Hv(r,n))&&Xo(this.baseMutations,e.baseMutations,(r,n)=>Hv(r,n))}}class Wm{constructor(e,r,n,s){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=s}static from(e,r,n){ft(e.mutations.length===n.length);let s=function(){return fN}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,n[o].version);return new Wm(e,r,n,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt,et;function CN(t){switch(t){default:return Ve();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0}}function Mk(t){if(t===void 0)return ps("GRPC error has no .code"),ne.UNKNOWN;switch(t){case jt.OK:return ne.OK;case jt.CANCELLED:return ne.CANCELLED;case jt.UNKNOWN:return ne.UNKNOWN;case jt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case jt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case jt.INTERNAL:return ne.INTERNAL;case jt.UNAVAILABLE:return ne.UNAVAILABLE;case jt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case jt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case jt.NOT_FOUND:return ne.NOT_FOUND;case jt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case jt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case jt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case jt.ABORTED:return ne.ABORTED;case jt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case jt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case jt.DATA_LOSS:return ne.DATA_LOSS;default:return Ve()}}(et=jt||(jt={}))[et.OK=0]="OK",et[et.CANCELLED=1]="CANCELLED",et[et.UNKNOWN=2]="UNKNOWN",et[et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",et[et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",et[et.NOT_FOUND=5]="NOT_FOUND",et[et.ALREADY_EXISTS=6]="ALREADY_EXISTS",et[et.PERMISSION_DENIED=7]="PERMISSION_DENIED",et[et.UNAUTHENTICATED=16]="UNAUTHENTICATED",et[et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",et[et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",et[et.ABORTED=10]="ABORTED",et[et.OUT_OF_RANGE=11]="OUT_OF_RANGE",et[et.UNIMPLEMENTED=12]="UNIMPLEMENTED",et[et.INTERNAL=13]="INTERNAL",et[et.UNAVAILABLE=14]="UNAVAILABLE",et[et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=new Vi([4294967295,4294967295],0);function Kv(t){const e=PN().encode(t),r=new ok;return r.update(e),new Uint8Array(r.digest())}function Gv(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Vi([r,n],0),new Vi([s,i],0)]}class Km{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new qa(`Invalid padding: ${r}`);if(n<0)throw new qa(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new qa(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new qa(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=Vi.fromNumber(this.Ie)}Ee(e,r,n){let s=e.add(r.multiply(Vi.fromNumber(n)));return s.compare(RN)===1&&(s=new Vi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=Kv(e),[n,s]=Gv(r);for(let i=0;i<this.hashCount;i++){const o=this.Ee(n,s,i);if(!this.de(o))return!1}return!0}static create(e,r,n){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Km(i,s,r);return n.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const r=Kv(e),[n,s]=Gv(r);for(let i=0;i<this.hashCount;i++){const o=this.Ee(n,s,i);this.Ae(o)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class qa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,r,n,s,i){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const s=new Map;return s.set(e,ec.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new zd(je.min(),s,new Nt(it),ms(),Ge())}}class ec{constructor(e,r,n,s,i){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new ec(n,r,Ge(),Ge(),Ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,r,n,s){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=s}}class Vk{constructor(e,r){this.targetId=e,this.me=r}}class Lk{constructor(e,r,n=dr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=s}}class Qv{constructor(){this.fe=0,this.ge=Jv(),this.pe=dr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ge(),r=Ge(),n=Ge();return this.ge.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:r=r.add(s);break;case 1:n=n.add(s);break;default:Ve()}}),new ec(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=Jv()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ft(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class NN{constructor(e){this.Le=e,this.Be=new Map,this.ke=ms(),this.qe=Yv(),this.Qe=new Nt(it)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:Ve()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,s)=>{this.ze(s)&&r(s)})}He(e){const r=e.targetId,n=e.me.count,s=this.Je(r);if(s){const i=s.target;if(ap(i))if(n===0){const o=new Ne(i.path);this.Ue(r,o,Ir.newNoDocument(o,je.min()))}else ft(n===1);else{const o=this.Ye(r);if(o!==n){const a=this.Ze(e),c=a?this.Xe(a,e,o):1;if(c!==0){this.je(r);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,d)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:s=0},hashCount:i=0}=r;let o,a;try{o=Wi(n).toUint8Array()}catch(c){if(c instanceof mk)return Jo("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new Km(o,s,i)}catch(c){return Jo(c instanceof qa?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.Ie===0?null:a}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let s=0;return n.forEach(i=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.Ue(r,i,null),s++)}),s}rt(e){const r=new Map;this.Be.forEach((i,o)=>{const a=this.Je(o);if(a){if(i.current&&ap(a.target)){const c=new Ne(a.target.path);this.ke.get(c)!==null||this.it(o,c)||this.Ue(o,c,Ir.newNoDocument(c,e))}i.be&&(r.set(o,i.ve()),i.Ce())}});let n=Ge();this.qe.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const d=this.Je(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(n=n.add(i))}),this.ke.forEach((i,o)=>o.setReadTime(e));const s=new zd(e,r,this.Qe,this.ke,n);return this.ke=ms(),this.qe=Yv(),this.Qe=new Nt(it),s}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const s=this.Ge(e);this.it(e,r)?s.Fe(r,1):s.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new Qv,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new lr(it),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||Te("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Qv),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function Yv(){return new Nt(Ne.comparator)}function Jv(){return new Nt(Ne.comparator)}const $N={asc:"ASCENDING",desc:"DESCENDING"},ON={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DN={and:"AND",or:"OR"};class MN{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function cp(t,e){return t.useProto3Json||Ld(e)?e:{value:e}}function Qu(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Fk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function VN(t,e){return Qu(t,e.toTimestamp())}function Bn(t){return ft(!!t),je.fromTimestamp(function(r){const n=oi(r);return new Wt(n.seconds,n.nanos)}(t))}function Gm(t,e){return up(t,e).canonicalString()}function up(t,e){const r=function(s){return new kt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?r:r.child(e)}function Uk(t){const e=kt.fromString(t);return ft(zk(e)),e}function dp(t,e){return Gm(t.databaseId,e.path)}function Xh(t,e){const r=Uk(e);if(r.get(1)!==t.databaseId.projectId)throw new _e(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new _e(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new Ne(Bk(r))}function jk(t,e){return Gm(t.databaseId,e)}function LN(t){const e=Uk(t);return e.length===4?kt.emptyPath():Bk(e)}function hp(t){return new kt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Bk(t){return ft(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Xv(t,e,r){return{name:dp(t,e),fields:r.value.mapValue.fields}}function FN(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ve()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(ft(h===void 0||typeof h=="string"),dr.fromBase64String(h||"")):(ft(h===void 0||h instanceof Buffer||h instanceof Uint8Array),dr.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const h=d.code===void 0?ne.UNKNOWN:Mk(d.code);return new _e(h,d.message||"")}(o);r=new Lk(n,s,i,a||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const s=Xh(t,n.document.name),i=Bn(n.document.updateTime),o=n.document.createTime?Bn(n.document.createTime):je.min(),a=new zr({mapValue:{fields:n.document.fields}}),c=Ir.newFoundDocument(s,i,o,a),d=n.targetIds||[],h=n.removedTargetIds||[];r=new hu(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const s=Xh(t,n.document),i=n.readTime?Bn(n.readTime):je.min(),o=Ir.newNoDocument(s,i),a=n.removedTargetIds||[];r=new hu([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const s=Xh(t,n.document),i=n.removedTargetIds||[];r=new hu([],i,s,null)}else{if(!("filter"in e))return Ve();{e.filter;const n=e.filter;n.targetId;const{count:s=0,unchangedNames:i}=n,o=new SN(s,i),a=n.targetId;r=new Vk(a,o)}}return r}function UN(t,e){let r;if(e instanceof Zl)r={update:Xv(t,e.key,e.value)};else if(e instanceof Hd)r={delete:dp(t,e.key)};else if(e instanceof hi)r={update:Xv(t,e.key,e.data),updateMask:QN(e.fieldMask)};else{if(!(e instanceof IN))return Ve();r={verify:dp(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(i,o){const a=o.transform;if(a instanceof Ml)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Vl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ll)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Gu)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Ve()}(0,n))),e.precondition.isNone||(r.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:VN(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Ve()}(t,e.precondition)),r}function jN(t,e){return t&&t.length>0?(ft(e!==void 0),t.map(r=>function(s,i){let o=s.updateTime?Bn(s.updateTime):Bn(i);return o.isEqual(je.min())&&(o=Bn(i)),new wN(o,s.transformResults||[])}(r,e))):[]}function BN(t,e){return{documents:[jk(t,e.path)]}}function qN(t,e){const r={structuredQuery:{}},n=e.path;let s;e.collectionGroup!==null?(s=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=jk(t,s);const i=function(d){if(d.length!==0)return Hk($n.create(d,"and"))}(e.filters);i&&(r.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(p){return{field:ko(p.field),direction:WN(p.dir)}}(h))}(e.orderBy);o&&(r.structuredQuery.orderBy=o);const a=cp(t,e.limit);return a!==null&&(r.structuredQuery.limit=a),e.startAt&&(r.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:r,parent:s}}function HN(t){let e=LN(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let s=null;if(n>0){ft(n===1);const h=r.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];r.where&&(i=function(f){const p=qk(f);return p instanceof $n&&bk(p)?p.getFilters():[p]}(r.where));let o=[];r.orderBy&&(o=function(f){return f.map(p=>function(b){return new Dl(Eo(b.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(p))}(r.orderBy));let a=null;r.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Ld(p)?null:p}(r.limit));let c=null;r.startAt&&(c=function(f){const p=!!f.before,y=f.values||[];return new Wu(y,p)}(r.startAt));let d=null;return r.endAt&&(d=function(f){const p=!f.before,y=f.values||[];return new Wu(y,p)}(r.endAt)),lN(e,s,o,i,a,"F",c,d)}function zN(t,e){const r=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ve()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function qk(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Eo(r.unaryFilter.field);return Ht.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=Eo(r.unaryFilter.field);return Ht.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Eo(r.unaryFilter.field);return Ht.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Eo(r.unaryFilter.field);return Ht.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ve()}}(t):t.fieldFilter!==void 0?function(r){return Ht.create(Eo(r.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ve()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return $n.create(r.compositeFilter.filters.map(n=>qk(n)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ve()}}(r.compositeFilter.op))}(t):Ve()}function WN(t){return $N[t]}function KN(t){return ON[t]}function GN(t){return DN[t]}function ko(t){return{fieldPath:t.canonicalString()}}function Eo(t){return ir.fromServerFormat(t.fieldPath)}function Hk(t){return t instanceof Ht?function(r){if(r.op==="=="){if(Lv(r.value))return{unaryFilter:{field:ko(r.field),op:"IS_NAN"}};if(Vv(r.value))return{unaryFilter:{field:ko(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Lv(r.value))return{unaryFilter:{field:ko(r.field),op:"IS_NOT_NAN"}};if(Vv(r.value))return{unaryFilter:{field:ko(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ko(r.field),op:KN(r.op),value:r.value}}}(t):t instanceof $n?function(r){const n=r.getFilters().map(s=>Hk(s));return n.length===1?n[0]:{compositeFilter:{op:GN(r.op),filters:n}}}(t):Ve()}function QN(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function zk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,r,n,s,i=je.min(),o=je.min(),a=dr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new Ws(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ws(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e){this.ct=e}}function JN(t){const e=HN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Ku(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(){this.un=new ZN}addToCollectionParentIndex(e,r){return this.un.add(r),ae.resolve()}getCollectionParents(e,r){return ae.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return ae.resolve()}deleteFieldIndex(e,r){return ae.resolve()}deleteAllFieldIndexes(e){return ae.resolve()}createTargetIndexes(e,r){return ae.resolve()}getDocumentsMatchingTarget(e,r){return ae.resolve(null)}getIndexType(e,r){return ae.resolve(0)}getFieldIndexes(e,r){return ae.resolve([])}getNextCollectionGroupToUpdate(e){return ae.resolve(null)}getMinOffset(e,r){return ae.resolve(ii.min())}getMinOffsetFromCollectionGroup(e,r){return ae.resolve(ii.min())}updateCollectionGroup(e,r,n){return ae.resolve()}updateIndexEntries(e,r){return ae.resolve()}}class ZN{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r]||new lr(kt.comparator),i=!s.has(n);return this.index[r]=s.add(n),i}has(e){const r=e.lastSegment(),n=e.popLast(),s=this.index[r];return s&&s.has(n)}getEntries(e){return(this.index[e]||new lr(kt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ta(0)}static kn(){return new ta(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e${constructor(){this.changes=new fa(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Ir.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?ae.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t${constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${constructor(e,r,n,s){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=s}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(s=>(n=s,this.remoteDocumentCache.getEntry(e,r))).next(s=>(n!==null&&al(n.mutation,s,rn.empty(),Wt.now()),s))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Ge()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Ge()){const s=Ci();return this.populateOverlays(e,s,r).next(()=>this.computeViews(e,r,s,n).next(i=>{let o=Ba();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,r){const n=Ci();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Ge()))}populateOverlays(e,r,n){const s=[];return n.forEach(i=>{r.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{r.set(o,a)})})}computeViews(e,r,n,s){let i=ms();const o=ol(),a=function(){return ol()}();return r.forEach((c,d)=>{const h=n.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof hi)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),al(h.mutation,d,h.mutation.getFieldMask(),Wt.now())):o.set(d.key,rn.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,h)=>o.set(d,h)),r.forEach((d,h)=>{var f;return a.set(d,new t$(h,(f=o.get(d))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,r){const n=ol();let s=new Nt((o,a)=>o-a),i=Ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(o=>{for(const a of o)a.keys().forEach(c=>{const d=r.get(c);if(d===null)return;let h=n.get(c)||rn.empty();h=a.applyToLocalView(d,h),n.set(c,h);const f=(s.get(a.batchId)||Ge()).add(c);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),d=c.key,h=c.value,f=Sk();h.forEach(p=>{if(!i.has(p)){const y=Ok(r.get(p),n.get(p));y!==null&&f.set(p,y),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return ae.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,s){return function(o){return Ne.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):kk(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,s):this.getDocumentsMatchingCollectionQuery(e,r,n,s)}getNextDocuments(e,r,n,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,s-i.size):ae.resolve(Ci());let a=-1,c=i;return o.next(d=>ae.forEach(d,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?ae.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{c=c.insert(h,p)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,Ge())).next(h=>({batchId:a,changes:Ak(h)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new Ne(r)).next(n=>{let s=Ba();return n.isFoundDocument()&&(s=s.insert(n.key,n)),s})}getDocumentsMatchingCollectionGroupQuery(e,r,n,s){const i=r.collectionGroup;let o=Ba();return this.indexManager.getCollectionParents(e,i).next(a=>ae.forEach(a,c=>{const d=function(f,p){return new ha(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(r,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,n,s).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,r,n,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,i,s))).next(o=>{i.forEach((c,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,Ir.newInvalidDocument(h)))});let a=Ba();return o.forEach((c,d)=>{const h=i.get(c);h!==void 0&&al(h.mutation,d,rn.empty(),Wt.now()),jd(r,d)&&(a=a.insert(c,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n${constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return ae.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(s){return{id:s.id,version:s.version,createTime:Bn(s.createTime)}}(r)),ae.resolve()}getNamedQuery(e,r){return ae.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(s){return{name:s.name,query:JN(s.bundledQuery),readTime:Bn(s.readTime)}}(r)),ae.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s${constructor(){this.overlays=new Nt(Ne.comparator),this.Ir=new Map}getOverlay(e,r){return ae.resolve(this.overlays.get(r))}getOverlays(e,r){const n=Ci();return ae.forEach(r,s=>this.getOverlay(e,s).next(i=>{i!==null&&n.set(s,i)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((s,i)=>{this.ht(e,r,i)}),ae.resolve()}removeOverlaysForBatchId(e,r,n){const s=this.Ir.get(n);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Ir.delete(n)),ae.resolve()}getOverlaysForCollection(e,r,n){const s=Ci(),i=r.length+1,o=new Ne(r.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,d=c.getKey();if(!r.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>n&&s.set(c.getKey(),c)}return ae.resolve(s)}getOverlaysForCollectionGroup(e,r,n,s){let i=new Nt((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===r&&d.largestBatchId>n){let h=i.get(d.largestBatchId);h===null&&(h=Ci(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=Ci(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=s)););return ae.resolve(a)}ht(e,r,n){const s=this.overlays.get(n.key);if(s!==null){const o=this.Ir.get(s.largestBatchId).delete(n.key);this.Ir.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new AN(r,n));let i=this.Ir.get(r);i===void 0&&(i=Ge(),this.Ir.set(r,i)),this.Ir.set(r,i.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(){this.sessionToken=dr.EMPTY_BYTE_STRING}getSessionToken(e){return ae.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,ae.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(){this.Tr=new lr(er.Er),this.dr=new lr(er.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new er(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new er(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new Ne(new kt([])),n=new er(r,e),s=new er(r,e+1),i=[];return this.dr.forEachInRange([n,s],o=>{this.Vr(o),i.push(o.key)}),i}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new Ne(new kt([])),n=new er(r,e),s=new er(r,e+1);let i=Ge();return this.dr.forEachInRange([n,s],o=>{i=i.add(o.key)}),i}containsKey(e){const r=new er(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class er{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return Ne.comparator(e.key,r.key)||it(e.wr,r.wr)}static Ar(e,r){return it(e.wr,r.wr)||Ne.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o${constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new lr(er.Er)}checkEmpty(e){return ae.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,s){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new TN(i,r,n,s);this.mutationQueue.push(o);for(const a of s)this.br=this.br.add(new er(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return ae.resolve(o)}lookupMutationBatch(e,r){return ae.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,s=this.vr(n),i=s<0?0:s;return ae.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ae.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return ae.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new er(r,0),s=new er(r,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,s],o=>{const a=this.Dr(o.wr);i.push(a)}),ae.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new lr(it);return r.forEach(s=>{const i=new er(s,0),o=new er(s,Number.POSITIVE_INFINITY);this.br.forEachInRange([i,o],a=>{n=n.add(a.wr)})}),ae.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,s=n.length+1;let i=n;Ne.isDocumentKey(i)||(i=i.child(""));const o=new er(new Ne(i),0);let a=new lr(it);return this.br.forEachWhile(c=>{const d=c.key.path;return!!n.isPrefixOf(d)&&(d.length===s&&(a=a.add(c.wr)),!0)},o),ae.resolve(this.Cr(a))}Cr(e){const r=[];return e.forEach(n=>{const s=this.Dr(n);s!==null&&r.push(s)}),r}removeMutationBatch(e,r){ft(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return ae.forEach(r.mutations,s=>{const i=new er(s.key,r.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new er(r,0),s=this.br.firstAfterOrEqual(n);return ae.resolve(r.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ae.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a${constructor(e){this.Mr=e,this.docs=function(){return new Nt(Ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,s=this.docs.get(n),i=s?s.size:0,o=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return ae.resolve(n?n.document.mutableCopy():Ir.newInvalidDocument(r))}getEntries(e,r){let n=ms();return r.forEach(s=>{const i=this.docs.get(s);n=n.insert(s,i?i.document.mutableCopy():Ir.newInvalidDocument(s))}),ae.resolve(n)}getDocumentsMatchingQuery(e,r,n,s){let i=ms();const o=r.path,a=new Ne(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||q6(B6(h),n)<=0||(s.has(h.key)||jd(r,h))&&(i=i.insert(h.key,h.mutableCopy()))}return ae.resolve(i)}getAllFromCollectionGroup(e,r,n,s){Ve()}Or(e,r){return ae.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new l$(this)}getSize(e){return ae.resolve(this.size)}}class l$ extends e${constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,s)=>{s.isValidDocument()?r.push(this.cr.addEntry(e,s)):this.cr.removeEntry(n)}),ae.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c${constructor(e){this.persistence=e,this.Nr=new fa(r=>qm(r),Hm),this.lastRemoteSnapshotVersion=je.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Qm,this.targetCount=0,this.kr=ta.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,s)=>r(s)),ae.resolve()}getLastRemoteSnapshotVersion(e){return ae.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ae.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),ae.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),ae.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new ta(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,ae.resolve()}updateTargetData(e,r){return this.Kn(r),ae.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,ae.resolve()}removeTargets(e,r,n){let s=0;const i=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=r&&n.get(a.targetId)===null&&(this.Nr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),ae.waitFor(i).next(()=>s)}getTargetCount(e){return ae.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return ae.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),ae.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const s=this.persistence.referenceDelegate,i=[];return s&&r.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),ae.waitFor(i)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),ae.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return ae.resolve(n)}containsKey(e,r){return ae.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u${constructor(e,r){this.qr={},this.overlays={},this.Qr=new Fm(0),this.Kr=!1,this.Kr=!0,this.$r=new i$,this.referenceDelegate=e(this),this.Ur=new c$(this),this.indexManager=new XN,this.remoteDocumentCache=function(s){return new a$(s)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new YN(r),this.Gr=new n$(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new s$,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new o$(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){Te("MemoryPersistence","Starting transaction:",e);const s=new d$(this.Qr.next());return this.referenceDelegate.zr(),n(s).next(i=>this.referenceDelegate.jr(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Hr(e,r){return ae.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class d$ extends z6{constructor(e){super(),this.currentSequenceNumber=e}}class Ym{constructor(e){this.persistence=e,this.Jr=new Qm,this.Yr=null}static Zr(e){return new Ym(e)}get Xr(){if(this.Yr)return this.Yr;throw Ve()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),ae.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),ae.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),ae.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(s=>this.Xr.add(s.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(s=>{s.forEach(i=>this.Xr.add(i.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ae.forEach(this.Xr,n=>{const s=Ne.fromPath(n);return this.ei(e,s).next(i=>{i||r.removeEntry(s,je.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return ae.or([()=>ae.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,r,n,s){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=s}static Wi(e,r){let n=Ge(),s=Ge();for(const i of r.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Jm(e,r.fromCache,n,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h${constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f${constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return ZC()?8:W6(Nr())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,s){const i={result:null};return this.Yi(e,r).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Zi(e,r,s,n).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new h$;return this.Xi(e,r,o).next(a=>{if(i.result=a,this.zi)return this.es(e,r,o,a.size)})}).next(()=>i.result)}es(e,r,n,s){return n.documentReadCount<this.ji?(Ra()<=Je.DEBUG&&Te("QueryEngine","SDK will not create cache indexes for query:",wo(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),ae.resolve()):(Ra()<=Je.DEBUG&&Te("QueryEngine","Query:",wo(r),"scans",n.documentReadCount,"local documents and returns",s,"documents as results."),n.documentReadCount>this.Hi*s?(Ra()<=Je.DEBUG&&Te("QueryEngine","The SDK decides to create cache indexes for query:",wo(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,jn(r))):ae.resolve())}Yi(e,r){if(Bv(r))return ae.resolve(null);let n=jn(r);return this.indexManager.getIndexType(e,n).next(s=>s===0?null:(r.limit!==null&&s===1&&(r=Ku(r,null,"F"),n=jn(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(i=>{const o=Ge(...i);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,n).next(c=>{const d=this.ts(r,a);return this.ns(r,d,o,c.readTime)?this.Yi(e,Ku(r,null,"F")):this.rs(e,d,r,c)}))})))}Zi(e,r,n,s){return Bv(r)||s.isEqual(je.min())?ae.resolve(null):this.Ji.getDocuments(e,n).next(i=>{const o=this.ts(r,i);return this.ns(r,o,n,s)?ae.resolve(null):(Ra()<=Je.DEBUG&&Te("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),wo(r)),this.rs(e,o,r,j6(s,-1)).next(a=>a))})}ts(e,r){let n=new lr(Ik(e));return r.forEach((s,i)=>{jd(e,i)&&(n=n.add(i))}),n}ns(e,r,n,s){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const i=e.limitType==="F"?r.last():r.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Xi(e,r,n){return Ra()<=Je.DEBUG&&Te("QueryEngine","Using full collection scan to execute query:",wo(r)),this.Ji.getDocumentsMatchingQuery(e,r,ii.min(),n)}rs(e,r,n,s){return this.Ji.getDocumentsMatchingQuery(e,n,s).next(i=>(r.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p${constructor(e,r,n,s){this.persistence=e,this.ss=r,this.serializer=s,this.os=new Nt(it),this._s=new fa(i=>qm(i),Hm),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new r$(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function m$(t,e,r,n){return new p$(t,e,r,n)}async function Wk(t,e){const r=qe(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let s;return r.mutationQueue.getAllMutationBatches(n).next(i=>(s=i,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(i=>{const o=[],a=[];let c=Ge();for(const d of s){o.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of i){a.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return r.localDocuments.getDocuments(n,c).next(d=>({hs:d,removedBatchIds:o,addedBatchIds:a}))})})}function g$(t,e){const r=qe(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const s=e.batch.keys(),i=r.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,d,h){const f=d.batch,p=f.keys();let y=ae.resolve();return p.forEach(b=>{y=y.next(()=>h.getEntry(c,b)).next(w=>{const x=d.docVersions.get(b);ft(x!==null),w.version.compareTo(x)<0&&(f.applyToRemoteDocument(w,d),w.isValidDocument()&&(w.setReadTime(d.commitVersion),h.addEntry(w)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(r,n,e,i).next(()=>i.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,s,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(a){let c=Ge();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(c=c.add(a.batch.mutations[d].key));return c}(e))).next(()=>r.localDocuments.getDocuments(n,s))})}function Kk(t){const e=qe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function y$(t,e){const r=qe(t),n=e.snapshotVersion;let s=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=r.cs.newChangeBuffer({trackRemovals:!0});s=r.os;const a=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;a.push(r.Ur.removeMatchingKeys(i,h.removedDocuments,f).next(()=>r.Ur.addMatchingKeys(i,h.addedDocuments,f)));let y=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?y=y.withResumeToken(dr.EMPTY_BYTE_STRING,je.min()).withLastLimboFreeSnapshotVersion(je.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,n)),s=s.insert(f,y),function(w,x,I){return w.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:I.addedDocuments.size+I.modifiedDocuments.size+I.removedDocuments.size>0}(p,y,h)&&a.push(r.Ur.updateTargetData(i,y))});let c=ms(),d=Ge();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(r.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(v$(i,o,e.documentUpdates).next(h=>{c=h.Ps,d=h.Is})),!n.isEqual(je.min())){const h=r.Ur.getLastRemoteSnapshotVersion(i).next(f=>r.Ur.setTargetsMetadata(i,i.currentSequenceNumber,n));a.push(h)}return ae.waitFor(a).next(()=>o.apply(i)).next(()=>r.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(r.os=s,i))}function v$(t,e,r){let n=Ge(),s=Ge();return r.forEach(i=>n=n.add(i)),e.getEntries(t,n).next(i=>{let o=ms();return r.forEach((a,c)=>{const d=i.get(a);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(je.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):Te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",c.version)}),{Ps:o,Is:s}})}function b$(t,e){const r=qe(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function x$(t,e){const r=qe(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let s;return r.Ur.getTargetData(n,e).next(i=>i?(s=i,ae.resolve(s)):r.Ur.allocateTargetId(n).next(o=>(s=new Ws(e,o,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,s).next(()=>s))))}).then(n=>{const s=r.os.get(n.targetId);return(s===null||n.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function fp(t,e,r){const n=qe(t),s=n.os.get(e),i=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",i,o=>n.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Xl(o))throw o;Te("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}n.os=n.os.remove(e),n._s.delete(s.target)}function Zv(t,e,r){const n=qe(t);let s=je.min(),i=Ge();return n.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,h){const f=qe(c),p=f._s.get(h);return p!==void 0?ae.resolve(f.os.get(p)):f.Ur.getTargetData(d,h)}(n,o,jn(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>n.ss.getDocumentsMatchingQuery(o,e,r?s:je.min(),r?i:Ge())).next(a=>(_$(n,uN(e),a),{documents:a,Ts:i})))}function _$(t,e,r){let n=t.us.get(e)||je.min();r.forEach((s,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),t.us.set(e,n)}class eb{constructor(){this.activeTargetIds=gN()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class w${constructor(){this.so=new eb,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new eb,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k${_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hc=null;function Zh(){return Hc===null?Hc=function(){return 268435456+Math.round(2147483648*Math.random())}():Hc++,"0x"+Hc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I${constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br="WebChannelConnection";class T$ extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${s}/databases/${i}`,this.Co=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${i}`}get Fo(){return!1}Mo(r,n,s,i,o){const a=Zh(),c=this.xo(r,n.toUriEncodedString());Te("RestConnection",`Sending RPC '${r}' ${a}:`,c,s);const d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,i,o),this.No(r,c,d,s).then(h=>(Te("RestConnection",`Received RPC '${r}' ${a}: `,h),h),h=>{throw Jo("RestConnection",`RPC '${r}' ${a} failed with error: `,h,"url: ",c,"request:",s),h})}Lo(r,n,s,i,o,a){return this.Mo(r,n,s,i,o)}Oo(r,n,s){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+da}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,o)=>r[o]=i),s&&s.headers.forEach((i,o)=>r[o]=i)}xo(r,n){const s=E$[r];return`${this.Do}/v1/${n}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,s){const i=Zh();return new Promise((o,a)=>{const c=new ak;c.setWithCredentials(!0),c.listenOnce(lk.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case cu.NO_ERROR:const h=c.getResponseJson();Te(br,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case cu.TIMEOUT:Te(br,`RPC '${e}' ${i} timed out`),a(new _e(ne.DEADLINE_EXCEEDED,"Request time out"));break;case cu.HTTP_ERROR:const f=c.getStatus();if(Te(br,`RPC '${e}' ${i} failed with status:`,f,"response text:",c.getResponseText()),f>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const y=p==null?void 0:p.error;if(y&&y.status&&y.message){const b=function(x){const I=x.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(I)>=0?I:ne.UNKNOWN}(y.status);a(new _e(b,y.message))}else a(new _e(ne.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new _e(ne.UNAVAILABLE,"Connection failed."));break;default:Ve()}}finally{Te(br,`RPC '${e}' ${i} completed.`)}});const d=JSON.stringify(s);Te(br,`RPC '${e}' ${i} sending request:`,s),c.send(r,"POST",d,n,15)})}Bo(e,r,n){const s=Zh(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=dk(),a=uk(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,r,n),c.encodeInitMessageHeaders=!0;const h=i.join("");Te(br,`Creating RPC '${e}' stream ${s}: ${h}`,c);const f=o.createWebChannel(h,c);let p=!1,y=!1;const b=new I$({Io:x=>{y?Te(br,`Not sending because RPC '${e}' stream ${s} is closed:`,x):(p||(Te(br,`Opening RPC '${e}' stream ${s} transport.`),f.open(),p=!0),Te(br,`RPC '${e}' stream ${s} sending:`,x),f.send(x))},To:()=>f.close()}),w=(x,I,C)=>{x.listen(I,E=>{try{C(E)}catch(R){setTimeout(()=>{throw R},0)}})};return w(f,ja.EventType.OPEN,()=>{y||(Te(br,`RPC '${e}' stream ${s} transport opened.`),b.yo())}),w(f,ja.EventType.CLOSE,()=>{y||(y=!0,Te(br,`RPC '${e}' stream ${s} transport closed`),b.So())}),w(f,ja.EventType.ERROR,x=>{y||(y=!0,Jo(br,`RPC '${e}' stream ${s} transport errored:`,x),b.So(new _e(ne.UNAVAILABLE,"The operation could not be completed")))}),w(f,ja.EventType.MESSAGE,x=>{var I;if(!y){const C=x.data[0];ft(!!C);const E=C,R=E.error||((I=E[0])===null||I===void 0?void 0:I.error);if(R){Te(br,`RPC '${e}' stream ${s} received error:`,R);const A=R.status;let M=function(m){const k=jt[m];if(k!==void 0)return Mk(k)}(A),T=R.message;M===void 0&&(M=ne.INTERNAL,T="Unknown error status: "+A+" with message "+R.message),y=!0,b.So(new _e(M,T)),f.close()}else Te(br,`RPC '${e}' stream ${s} received:`,C),b.bo(C)}}),w(a,ck.STAT_EVENT,x=>{x.stat===np.PROXY?Te(br,`RPC '${e}' stream ${s} detected buffering proxy`):x.stat===np.NOPROXY&&Te(br,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{b.wo()},0),b}}function ef(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wd(t){return new MN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(e,r,n=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),s=Math.max(0,r-n);s>0&&Te("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e,r,n,s,i,o,a,c){this.ui=e,this.Ho=n,this.Jo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Gk(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===ne.RESOURCE_EXHAUSTED?(ps(r.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,s])=>{this.Yo===r&&this.P_(n,s)},n=>{e(()=>{const s=new _e(ne.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(s)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(s=>{n(()=>this.I_(s))}),this.stream.onMessage(s=>{n(()=>++this.e_==1?this.E_(s):this.onNext(s))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(Te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class A$ extends Qk{constructor(e,r,n,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,s,o),this.serializer=i}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=FN(this.serializer,e),n=function(i){if(!("targetChange"in i))return je.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?je.min():o.readTime?Bn(o.readTime):je.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=hp(this.serializer),r.addTarget=function(i,o){let a;const c=o.target;if(a=ap(c)?{documents:BN(i,c)}:{query:qN(i,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Fk(i,o.resumeToken);const d=cp(i,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(je.min())>0){a.readTime=Qu(i,o.snapshotVersion.toTimestamp());const d=cp(i,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const n=zN(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=hp(this.serializer),r.removeTarget=e,this.a_(r)}}class S$ extends Qk{constructor(e,r,n,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,s,o),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return ft(!!e.streamToken),this.lastStreamToken=e.streamToken,ft(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ft(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=jN(e.writeResults,e.commitTime),n=Bn(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=hp(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>UN(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C$ extends class{}{constructor(e,r,n,s){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=s,this.y_=!1}w_(){if(this.y_)throw new _e(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Mo(e,up(r,n),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new _e(ne.UNKNOWN,i.toString())})}Lo(e,r,n,s,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,up(r,n),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new _e(ne.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class P${constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ps(r),this.D_=!1):Te("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R${constructor(e,r,n,s,i){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o(o=>{n.enqueueAndForget(async()=>{oo(this)&&(Te("RemoteStore","Restarting streams for network reachability change."),await async function(c){const d=qe(c);d.L_.add(4),await tc(d),d.q_.set("Unknown"),d.L_.delete(4),await Kd(d)}(this))})}),this.q_=new P$(n,s)}}async function Kd(t){if(oo(t))for(const e of t.B_)await e(!0)}async function tc(t){for(const e of t.B_)await e(!1)}function Yk(t,e){const r=qe(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),tg(r)?eg(r):pa(r).r_()&&Zm(r,e))}function Xm(t,e){const r=qe(t),n=pa(r);r.N_.delete(e),n.r_()&&Jk(r,e),r.N_.size===0&&(n.r_()?n.o_():oo(r)&&r.q_.set("Unknown"))}function Zm(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(je.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}pa(t).A_(e)}function Jk(t,e){t.Q_.xe(e),pa(t).R_(e)}function eg(t){t.Q_=new NN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),pa(t).start(),t.q_.v_()}function tg(t){return oo(t)&&!pa(t).n_()&&t.N_.size>0}function oo(t){return qe(t).L_.size===0}function Xk(t){t.Q_=void 0}async function N$(t){t.q_.set("Online")}async function $$(t){t.N_.forEach((e,r)=>{Zm(t,e)})}async function O$(t,e){Xk(t),tg(t)?(t.q_.M_(e),eg(t)):t.q_.set("Unknown")}async function D$(t,e,r){if(t.q_.set("Online"),e instanceof Lk&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.N_.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.N_.delete(a),s.Q_.removeTarget(a))}(t,e)}catch(n){Te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Yu(t,n)}else if(e instanceof hu?t.Q_.Ke(e):e instanceof Vk?t.Q_.He(e):t.Q_.We(e),!r.isEqual(je.min()))try{const n=await Kk(t.localStore);r.compareTo(n)>=0&&await function(i,o){const a=i.Q_.rt(o);return a.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.N_.get(d);h&&i.N_.set(d,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,d)=>{const h=i.N_.get(c);if(!h)return;i.N_.set(c,h.withResumeToken(dr.EMPTY_BYTE_STRING,h.snapshotVersion)),Jk(i,c);const f=new Ws(h.target,c,d,h.sequenceNumber);Zm(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,r)}catch(n){Te("RemoteStore","Failed to raise snapshot:",n),await Yu(t,n)}}async function Yu(t,e,r){if(!Xl(e))throw e;t.L_.add(1),await tc(t),t.q_.set("Offline"),r||(r=()=>Kk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Te("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await Kd(t)})}function Zk(t,e){return e().catch(r=>Yu(t,r,e))}async function Gd(t){const e=qe(t),r=ai(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;M$(e);)try{const s=await b$(e.localStore,n);if(s===null){e.O_.length===0&&r.o_();break}n=s.batchId,V$(e,s)}catch(s){await Yu(e,s)}e2(e)&&t2(e)}function M$(t){return oo(t)&&t.O_.length<10}function V$(t,e){t.O_.push(e);const r=ai(t);r.r_()&&r.V_&&r.m_(e.mutations)}function e2(t){return oo(t)&&!ai(t).n_()&&t.O_.length>0}function t2(t){ai(t).start()}async function L$(t){ai(t).p_()}async function F$(t){const e=ai(t);for(const r of t.O_)e.m_(r.mutations)}async function U$(t,e,r){const n=t.O_.shift(),s=Wm.from(n,e,r);await Zk(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Gd(t)}async function j$(t,e){e&&ai(t).V_&&await async function(n,s){if(function(o){return CN(o)&&o!==ne.ABORTED}(s.code)){const i=n.O_.shift();ai(n).s_(),await Zk(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Gd(n)}}(t,e),e2(t)&&t2(t)}async function rb(t,e){const r=qe(t);r.asyncQueue.verifyOperationInProgress(),Te("RemoteStore","RemoteStore received new credentials");const n=oo(r);r.L_.add(3),await tc(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await Kd(r)}async function B$(t,e){const r=qe(t);e?(r.L_.delete(2),await Kd(r)):e||(r.L_.add(2),await tc(r),r.q_.set("Unknown"))}function pa(t){return t.K_||(t.K_=function(r,n,s){const i=qe(r);return i.w_(),new A$(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:N$.bind(null,t),Ro:$$.bind(null,t),mo:O$.bind(null,t),d_:D$.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),tg(t)?eg(t):t.q_.set("Unknown")):(await t.K_.stop(),Xk(t))})),t.K_}function ai(t){return t.U_||(t.U_=function(r,n,s){const i=qe(r);return i.w_(),new S$(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:L$.bind(null,t),mo:j$.bind(null,t),f_:F$.bind(null,t),g_:U$.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Gd(t)):(await t.U_.stop(),t.O_.length>0&&(Te("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rg{constructor(e,r,n,s,i){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=s,this.removalCallback=i,this.deferred=new cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,s,i){const o=Date.now()+n,a=new rg(e,r,o,s,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new _e(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ng(t,e){if(ps("AsyncQueue",`${e}: ${t}`),Xl(t))return new _e(ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.comparator=e?(r,n)=>e(r,n)||Ne.comparator(r.key,n.key):(r,n)=>Ne.comparator(r.key,n.key),this.keyedMap=Ba(),this.sortedSet=new Nt(this.comparator)}static emptySet(e){return new Uo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Uo)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const s=r.getNext().key,i=n.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Uo;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(){this.W_=new Nt(Ne.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Ve():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class ra{constructor(e,r,n,s,i,o,a,c,d){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,r,n,s,i){const o=[];return r.forEach(a=>{o.push({type:0,doc:a})}),new ra(e,r,Uo.emptySet(r),o,n,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ud(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let s=0;s<r.length;s++)if(r[s].type!==n[s].type||!r[s].doc.isEqual(n[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class H${constructor(){this.queries=sb(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const s=qe(r),i=s.queries;s.queries=sb(),i.forEach((o,a)=>{for(const c of a.j_)c.onError(n)})})(this,new _e(ne.ABORTED,"Firestore shutting down"))}}function sb(){return new fa(t=>Ek(t),Ud)}async function sg(t,e){const r=qe(t);let n=3;const s=e.query;let i=r.queries.get(s);i?!i.H_()&&e.J_()&&(n=2):(i=new q$,n=e.J_()?0:1);try{switch(n){case 0:i.z_=await r.onListen(s,!0);break;case 1:i.z_=await r.onListen(s,!1);break;case 2:await r.onFirstRemoteStoreListen(s)}}catch(o){const a=ng(o,`Initialization of query '${wo(e.query)}' failed`);return void e.onError(a)}r.queries.set(s,i),i.j_.push(e),e.Z_(r.onlineState),i.z_&&e.X_(i.z_)&&og(r)}async function ig(t,e){const r=qe(t),n=e.query;let s=3;const i=r.queries.get(n);if(i){const o=i.j_.indexOf(e);o>=0&&(i.j_.splice(o,1),i.j_.length===0?s=e.J_()?0:1:!i.H_()&&e.J_()&&(s=2))}switch(s){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function z$(t,e){const r=qe(t);let n=!1;for(const s of e){const i=s.query,o=r.queries.get(i);if(o){for(const a of o.j_)a.X_(s)&&(n=!0);o.z_=s}}n&&og(r)}function W$(t,e,r){const n=qe(t),s=n.queries.get(e);if(s)for(const i of s.j_)i.onError(r);n.queries.delete(e)}function og(t){t.Y_.forEach(e=>{e.next()})}var pp,ib;(ib=pp||(pp={})).ea="default",ib.Cache="cache";class ag{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const s of e.docChanges)s.type!==3&&n.push(s);e=new ra(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=ra.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==pp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e){this.key=e}}class n2{constructor(e){this.key=e}}class K${constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Ge(),this.mutatedKeys=Ge(),this.Aa=Ik(e),this.Ra=new Uo(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new nb,s=r?r.Ra:this.Ra;let i=r?r.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),y=jd(this.query,f)?f:null,b=!!p&&this.mutatedKeys.has(p.key),w=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations);let x=!1;p&&y?p.data.isEqual(y.data)?b!==w&&(n.track({type:3,doc:y}),x=!0):this.ga(p,y)||(n.track({type:2,doc:y}),x=!0,(c&&this.Aa(y,c)>0||d&&this.Aa(y,d)<0)&&(a=!0)):!p&&y?(n.track({type:0,doc:y}),x=!0):p&&!y&&(n.track({type:1,doc:p}),x=!0,(c||d)&&(a=!0)),x&&(y?(o=o.add(y),i=w?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),n.track({type:1,doc:h})}return{Ra:o,fa:n,ns:a,mutatedKeys:i}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,s){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,f)=>function(y,b){const w=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ve()}};return w(y)-w(b)}(h.type,f.type)||this.Aa(h.doc,f.doc)),this.pa(n),s=s!=null&&s;const a=r&&!s?this.ya():[],c=this.da.size===0&&this.current&&!s?1:0,d=c!==this.Ea;return this.Ea=c,o.length!==0||d?{snapshot:new ra(this.query,e.Ra,i,o,e.mutatedKeys,c===0,d,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new nb,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Ge(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new n2(n))}),this.da.forEach(n=>{e.has(n)||r.push(new r2(n))}),r}ba(e){this.Ta=e.Ts,this.da=Ge();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return ra.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class G${constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class Q${constructor(e){this.key=e,this.va=!1}}class Y${constructor(e,r,n,s,i,o){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new fa(a=>Ek(a),Ud),this.Ma=new Map,this.xa=new Set,this.Oa=new Nt(Ne.comparator),this.Na=new Map,this.La=new Qm,this.Ba={},this.ka=new Map,this.qa=ta.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function J$(t,e,r=!0){const n=c2(t);let s;const i=n.Fa.get(e);return i?(n.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.Da()):s=await s2(n,e,r,!0),s}async function X$(t,e){const r=c2(t);await s2(r,e,!0,!1)}async function s2(t,e,r,n){const s=await x$(t.localStore,jn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,r);let a;return n&&(a=await Z$(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&r&&Yk(t.remoteStore,s),a}async function Z$(t,e,r,n,s){t.Ka=(f,p,y)=>async function(w,x,I,C){let E=x.view.ma(I);E.ns&&(E=await Zv(w.localStore,x.query,!1).then(({documents:T})=>x.view.ma(T,E)));const R=C&&C.targetChanges.get(x.targetId),A=C&&C.targetMismatches.get(x.targetId)!=null,M=x.view.applyChanges(E,w.isPrimaryClient,R,A);return ab(w,x.targetId,M.wa),M.snapshot}(t,f,p,y);const i=await Zv(t.localStore,e,!0),o=new K$(e,i.Ts),a=o.ma(i.documents),c=ec.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",s),d=o.applyChanges(a,t.isPrimaryClient,c);ab(t,r,d.wa);const h=new G$(e,r,o);return t.Fa.set(e,h),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),d.snapshot}async function e7(t,e,r){const n=qe(t),s=n.Fa.get(e),i=n.Ma.get(s.targetId);if(i.length>1)return n.Ma.set(s.targetId,i.filter(o=>!Ud(o,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await fp(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),r&&Xm(n.remoteStore,s.targetId),mp(n,s.targetId)}).catch(Jl)):(mp(n,s.targetId),await fp(n.localStore,s.targetId,!0))}async function t7(t,e){const r=qe(t),n=r.Fa.get(e),s=r.Ma.get(n.targetId);r.isPrimaryClient&&s.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),Xm(r.remoteStore,n.targetId))}async function r7(t,e,r){const n=c7(t);try{const s=await function(o,a){const c=qe(o),d=Wt.now(),h=a.reduce((y,b)=>y.add(b.key),Ge());let f,p;return c.persistence.runTransaction("Locally write mutations","readwrite",y=>{let b=ms(),w=Ge();return c.cs.getEntries(y,h).next(x=>{b=x,b.forEach((I,C)=>{C.isValidDocument()||(w=w.add(I))})}).next(()=>c.localDocuments.getOverlayedDocuments(y,b)).next(x=>{f=x;const I=[];for(const C of a){const E=EN(C,f.get(C.key).overlayedDocument);E!=null&&I.push(new hi(C.key,E,gk(E.value.mapValue),Fr.exists(!0)))}return c.mutationQueue.addMutationBatch(y,d,I,a)}).next(x=>{p=x;const I=x.applyToLocalDocumentSet(f,w);return c.documentOverlayCache.saveOverlays(y,x.batchId,I)})}).then(()=>({batchId:p.batchId,changes:Ak(f)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let d=o.Ba[o.currentUser.toKey()];d||(d=new Nt(it)),d=d.insert(a,c),o.Ba[o.currentUser.toKey()]=d}(n,s.batchId,r),await rc(n,s.changes),await Gd(n.remoteStore)}catch(s){const i=ng(s,"Failed to persist write");r.reject(i)}}async function i2(t,e){const r=qe(t);try{const n=await y$(r.localStore,e);e.targetChanges.forEach((s,i)=>{const o=r.Na.get(i);o&&(ft(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.va=!0:s.modifiedDocuments.size>0?ft(o.va):s.removedDocuments.size>0&&(ft(o.va),o.va=!1))}),await rc(r,n,e)}catch(n){await Jl(n)}}function ob(t,e,r){const n=qe(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const s=[];n.Fa.forEach((i,o)=>{const a=o.view.Z_(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=qe(o);c.onlineState=a;let d=!1;c.queries.forEach((h,f)=>{for(const p of f.j_)p.Z_(a)&&(d=!0)}),d&&og(c)}(n.eventManager,e),s.length&&n.Ca.d_(s),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function n7(t,e,r){const n=qe(t);n.sharedClientState.updateQueryState(e,"rejected",r);const s=n.Na.get(e),i=s&&s.key;if(i){let o=new Nt(Ne.comparator);o=o.insert(i,Ir.newNoDocument(i,je.min()));const a=Ge().add(i),c=new zd(je.min(),new Map,new Nt(it),o,a);await i2(n,c),n.Oa=n.Oa.remove(i),n.Na.delete(e),lg(n)}else await fp(n.localStore,e,!1).then(()=>mp(n,e,r)).catch(Jl)}async function s7(t,e){const r=qe(t),n=e.batch.batchId;try{const s=await g$(r.localStore,e);a2(r,n,null),o2(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await rc(r,s)}catch(s){await Jl(s)}}async function i7(t,e,r){const n=qe(t);try{const s=await function(o,a){const c=qe(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,a).next(f=>(ft(f!==null),h=f.keys(),c.mutationQueue.removeMutationBatch(d,f))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(n.localStore,e);a2(n,e,r),o2(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await rc(n,s)}catch(s){await Jl(s)}}function o2(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function a2(t,e,r){const n=qe(t);let s=n.Ba[n.currentUser.toKey()];if(s){const i=s.get(e);i&&(r?i.reject(r):i.resolve(),s=s.remove(e)),n.Ba[n.currentUser.toKey()]=s}}function mp(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||l2(t,n)})}function l2(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(Xm(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),lg(t))}function ab(t,e,r){for(const n of r)n instanceof r2?(t.La.addReference(n.key,e),o7(t,n)):n instanceof n2?(Te("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||l2(t,n.key)):Ve()}function o7(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(Te("SyncEngine","New document in limbo: "+r),t.xa.add(n),lg(t))}function lg(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new Ne(kt.fromString(e)),n=t.qa.next();t.Na.set(n,new Q$(r)),t.Oa=t.Oa.insert(r,n),Yk(t.remoteStore,new Ws(jn(Fd(r.path)),n,"TargetPurposeLimboResolution",Fm.oe))}}async function rc(t,e,r){const n=qe(t),s=[],i=[],o=[];n.Fa.isEmpty()||(n.Fa.forEach((a,c)=>{o.push(n.Ka(c,e,r).then(d=>{var h;if((d||r)&&n.isPrimaryClient){const f=d?!d.fromCache:(h=r==null?void 0:r.targetChanges.get(c.targetId))===null||h===void 0?void 0:h.current;n.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){s.push(d);const f=Jm.Wi(c.targetId,d);i.push(f)}}))}),await Promise.all(o),n.Ca.d_(s),await async function(c,d){const h=qe(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>ae.forEach(d,p=>ae.forEach(p.$i,y=>h.persistence.referenceDelegate.addReference(f,p.targetId,y)).next(()=>ae.forEach(p.Ui,y=>h.persistence.referenceDelegate.removeReference(f,p.targetId,y)))))}catch(f){if(!Xl(f))throw f;Te("LocalStore","Failed to update sequence numbers: "+f)}for(const f of d){const p=f.targetId;if(!f.fromCache){const y=h.os.get(p),b=y.snapshotVersion,w=y.withLastLimboFreeSnapshotVersion(b);h.os=h.os.insert(p,w)}}}(n.localStore,i))}async function a7(t,e){const r=qe(t);if(!r.currentUser.isEqual(e)){Te("SyncEngine","User change. New user:",e.toKey());const n=await Wk(r.localStore,e);r.currentUser=e,function(i,o){i.ka.forEach(a=>{a.forEach(c=>{c.reject(new _e(ne.CANCELLED,o))})}),i.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await rc(r,n.hs)}}function l7(t,e){const r=qe(t),n=r.Na.get(e);if(n&&n.va)return Ge().add(n.key);{let s=Ge();const i=r.Ma.get(e);if(!i)return s;for(const o of i){const a=r.Fa.get(o);s=s.unionWith(a.view.Va)}return s}}function c2(t){const e=qe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=i2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=l7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=n7.bind(null,e),e.Ca.d_=z$.bind(null,e.eventManager),e.Ca.$a=W$.bind(null,e.eventManager),e}function c7(t){const e=qe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=s7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=i7.bind(null,e),e}class Ju{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return m$(this.persistence,new f$,e.initialUser,this.serializer)}Ga(e){return new u$(Ym.Zr,this.serializer)}Wa(e){return new w$}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ju.provider={build:()=>new Ju};class gp{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>ob(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=a7.bind(null,this.syncEngine),await B$(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new H$}()}createDatastore(e){const r=Wd(e.databaseInfo.databaseId),n=function(i){return new T$(i)}(e.databaseInfo);return function(i,o,a,c){return new C$(i,o,a,c)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,s,i,o,a){return new R$(n,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,r=>ob(this.syncEngine,r,0),function(){return tb.D()?new tb:new k$}())}createSyncEngine(e,r){return function(s,i,o,a,c,d,h){const f=new Y$(s,i,o,a,c,d);return h&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(s){const i=qe(s);Te("RemoteStore","RemoteStore shutting down."),i.L_.add(5),await tc(i),i.k_.shutdown(),i.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}gp.provider={build:()=>new gp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ps("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u7{constructor(e,r,n,s,i){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=s,this.user=wr.UNAUTHENTICATED,this.clientId=fk.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,async o=>{Te("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(n,o=>(Te("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=ng(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function tf(t,e){t.asyncQueue.verifyOperationInProgress(),Te("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async s=>{n.isEqual(s)||(await Wk(e.localStore,s),n=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function lb(t,e){t.asyncQueue.verifyOperationInProgress();const r=await d7(t);Te("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>rb(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,s)=>rb(e.remoteStore,s)),t._onlineComponents=e}async function d7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Te("FirestoreClient","Using user provided OfflineComponentProvider");try{await tf(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(s){return s.name==="FirebaseError"?s.code===ne.FAILED_PRECONDITION||s.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(r))throw r;Jo("Error using user provided cache. Falling back to memory cache: "+r),await tf(t,new Ju)}}else Te("FirestoreClient","Using default OfflineComponentProvider"),await tf(t,new Ju);return t._offlineComponents}async function u2(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Te("FirestoreClient","Using user provided OnlineComponentProvider"),await lb(t,t._uninitializedComponentsProvider._online)):(Te("FirestoreClient","Using default OnlineComponentProvider"),await lb(t,new gp))),t._onlineComponents}function h7(t){return u2(t).then(e=>e.syncEngine)}async function Xu(t){const e=await u2(t),r=e.eventManager;return r.onListen=J$.bind(null,e.syncEngine),r.onUnlisten=e7.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=X$.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=t7.bind(null,e.syncEngine),r}function f7(t,e,r={}){const n=new cs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,d){const h=new cg({next:p=>{h.Za(),o.enqueueAndForget(()=>ig(i,f));const y=p.docs.has(a);!y&&p.fromCache?d.reject(new _e(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&p.fromCache&&c&&c.source==="server"?d.reject(new _e(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new ag(Fd(a.path),h,{includeMetadataChanges:!0,_a:!0});return sg(i,f)}(await Xu(t),t.asyncQueue,e,r,n)),n.promise}function p7(t,e,r={}){const n=new cs;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,d){const h=new cg({next:p=>{h.Za(),o.enqueueAndForget(()=>ig(i,f)),p.fromCache&&c.source==="server"?d.reject(new _e(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new ag(a,h,{includeMetadataChanges:!0,_a:!0});return sg(i,f)}(await Xu(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d2(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(t,e,r){if(!r)throw new _e(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function m7(t,e,r,n){if(e===!0&&n===!0)throw new _e(ne.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function ub(t){if(!Ne.isDocumentKey(t))throw new _e(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function db(t){if(Ne.isDocumentKey(t))throw new _e(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Qd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ve()}function Ur(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new _e(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Qd(t);throw new _e(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function g7(t,e){if(e<=0)throw new _e(ne.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new _e(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new _e(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}m7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=d2((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new _e(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new _e(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new _e(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,s){return n.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yd{constructor(e,r,n,s){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new hb({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new _e(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new _e(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new hb(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new N6;switch(n.type){case"firstParty":return new M6(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new _e(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=cb.get(r);n&&(Te("ComponentProvider","Removing Datastore"),cb.delete(r),n.terminate())}(this),Promise.resolve()}}function y7(t,e,r,n={}){var s;const i=(t=Ur(t,Yd))._getSettings(),o=`${e}:${r}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&Jo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),n.mockUserToken){let a,c;if(typeof n.mockUserToken=="string")a=n.mockUserToken,c=wr.MOCK_USER;else{a=pw(n.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const d=n.mockUserToken.sub||n.mockUserToken.user_id;if(!d)throw new _e(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new wr(d)}t._authCredentials=new $6(new hk(a,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new _s(this.firestore,e,this._query)}}class Pr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ei(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Pr(this.firestore,e,this._key)}}class ei extends _s{constructor(e,r,n){super(e,r,Fd(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Pr(this.firestore,null,new Ne(e))}withConverter(e){return new ei(this.firestore,e,this._path)}}function Ut(t,e,...r){if(t=mt(t),h2("collection","path",e),t instanceof Yd){const n=kt.fromString(e,...r);return db(n),new ei(t,null,n)}{if(!(t instanceof Pr||t instanceof ei))throw new _e(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(kt.fromString(e,...r));return db(n),new ei(t.firestore,null,n)}}function xr(t,e,...r){if(t=mt(t),arguments.length===1&&(e=fk.newId()),h2("doc","path",e),t instanceof Yd){const n=kt.fromString(e,...r);return ub(n),new Pr(t,null,new Ne(n))}{if(!(t instanceof Pr||t instanceof ei))throw new _e(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(kt.fromString(e,...r));return ub(n),new Pr(t.firestore,t instanceof ei?t.converter:null,new Ne(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Gk(this,"async_queue_retry"),this.Vu=()=>{const n=ef();n&&Te("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=ef();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=ef();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new cs;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Xl(e))throw e;Te("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const s=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(n);throw ps("INTERNAL UNHANDLED ERROR: ",s),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const s=rg.createAndSchedule(this,e,r,n,i=>this.yu(i));return this.Tu.push(s),s}fu(){this.Eu&&Ve()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}function pb(t){return function(r,n){if(typeof r!="object"||r===null)return!1;const s=r;for(const i of n)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class Hn extends Yd{constructor(e,r,n,s){super(e,r,n,s),this.type="firestore",this._queue=new fb,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fb(e),this._firestoreClient=void 0,await e}}}function f2(t,e){const r=typeof t=="object"?t:ca(),n=typeof t=="string"?t:"(default)",s=vs(r,"firestore").getImmediate({identifier:n});if(!s._initialized){const i=Tm("firestore");i&&y7(s,...i)}return s}function nc(t){if(t._terminated)throw new _e(ne.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||v7(t),t._firestoreClient}function v7(t){var e,r,n;const s=t._freezeSettings(),i=function(a,c,d,h){return new Q6(a,c,d,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,d2(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((r=s.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=s.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new u7(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e){this._byteString=e}static fromBase64String(e){try{return new na(dr.fromBase64String(e))}catch(r){throw new _e(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new na(dr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new _e(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ir(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new _e(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new _e(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return it(this._lat,e._lat)||it(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,s){if(n.length!==s.length)return!1;for(let i=0;i<n.length;++i)if(n[i]!==s[i])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b7=/^__.*__$/;class x7{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new hi(e,this.data,this.fieldMask,r,this.fieldTransforms):new Zl(e,this.data,r,this.fieldTransforms)}}class p2{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new hi(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function m2(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ve()}}class hg{constructor(e,r,n,s,i,o){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=s,i===void 0&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new hg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.Fu({path:n,xu:!1});return s.Ou(e),s}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),s=this.Fu({path:n,xu:!1});return s.vu(),s}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Zu(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(m2(this.Cu)&&b7.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class _7{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||Wd(e)}Qu(e,r,n,s=!1){return new hg({Cu:e,methodName:r,qu:n,path:ir.emptyPath(),xu:!1,ku:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ic(t){const e=t._freezeSettings(),r=Wd(t._databaseId);return new _7(t._databaseId,!!e.ignoreUndefinedProperties,r)}function fg(t,e,r,n,s,i={}){const o=t.Qu(i.merge||i.mergeFields?2:0,e,r,s);mg("Data must be an object, but it was:",o,n);const a=v2(n,o);let c,d;if(i.merge)c=new rn(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=yp(e,f,r);if(!o.contains(p))throw new _e(ne.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);x2(h,p)||h.push(p)}c=new rn(h),d=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,d=o.fieldTransforms;return new x7(new zr(a),c,d)}class Xd extends Jd{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xd}}class pg extends Jd{_toFieldTransform(e){return new xN(e.path,new Ml)}isEqual(e){return e instanceof pg}}function g2(t,e,r,n){const s=t.Qu(1,e,r);mg("Data must be an object, but it was:",s,n);const i=[],o=zr.empty();io(n,(c,d)=>{const h=gg(e,c,r);d=mt(d);const f=s.Nu(h);if(d instanceof Xd)i.push(h);else{const p=oc(d,f);p!=null&&(i.push(h),o.set(h,p))}});const a=new rn(i);return new p2(o,a,s.fieldTransforms)}function y2(t,e,r,n,s,i){const o=t.Qu(1,e,r),a=[yp(e,n,r)],c=[s];if(i.length%2!=0)throw new _e(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(yp(e,i[p])),c.push(i[p+1]);const d=[],h=zr.empty();for(let p=a.length-1;p>=0;--p)if(!x2(d,a[p])){const y=a[p];let b=c[p];b=mt(b);const w=o.Nu(y);if(b instanceof Xd)d.push(y);else{const x=oc(b,w);x!=null&&(d.push(y),h.set(y,x))}}const f=new rn(d);return new p2(h,f,o.fieldTransforms)}function w7(t,e,r,n=!1){return oc(r,t.Qu(n?4:3,e))}function oc(t,e){if(b2(t=mt(t)))return mg("Unsupported field value:",e,t),v2(t,e);if(t instanceof Jd)return function(n,s){if(!m2(s.Cu))throw s.Bu(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Bu(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,s){const i=[];let o=0;for(const a of n){let c=oc(a,s.Lu(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(n,s){if((n=mt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return yN(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Wt.fromDate(n);return{timestampValue:Qu(s.serializer,i)}}if(n instanceof Wt){const i=new Wt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Qu(s.serializer,i)}}if(n instanceof ug)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof na)return{bytesValue:Fk(s.serializer,n._byteString)};if(n instanceof Pr){const i=s.databaseId,o=n.firestore._databaseId;if(!o.isEqual(i))throw s.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Gm(n.firestore._databaseId||s.databaseId,n._key.path)}}if(n instanceof dg)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.Bu("VectorValues must only contain numeric values.");return zm(a.serializer,c)})}}}}}}(n,s);throw s.Bu(`Unsupported field value: ${Qd(n)}`)}(t,e)}function v2(t,e){const r={};return pk(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):io(t,(n,s)=>{const i=oc(s,e.Mu(n));i!=null&&(r[n]=i)}),{mapValue:{fields:r}}}function b2(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Wt||t instanceof ug||t instanceof na||t instanceof Pr||t instanceof Jd||t instanceof dg)}function mg(t,e,r){if(!b2(r)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(r)){const n=Qd(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function yp(t,e,r){if((e=mt(e))instanceof sc)return e._internalPath;if(typeof e=="string")return gg(t,e);throw Zu("Field path arguments must be of type string or ",t,!1,void 0,r)}const k7=new RegExp("[~\\*/\\[\\]]");function gg(t,e,r){if(e.search(k7)>=0)throw Zu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new sc(...e.split("."))._internalPath}catch{throw Zu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Zu(t,e,r,n,s){const i=n&&!n.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;r&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${n}`),o&&(c+=` in document ${s}`),c+=")"),new _e(ne.INVALID_ARGUMENT,a+t+c)}function x2(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e,r,n,s,i){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Pr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new E7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(Zd("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class E7 extends _2{data(){return super.data()}}function Zd(t,e){return typeof e=="string"?gg(t,e):e instanceof sc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w2(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new _e(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class yg{}class vg extends yg{}function Xn(t,e,...r){let n=[];e instanceof yg&&n.push(e),n=n.concat(r),function(i){const o=i.filter(c=>c instanceof bg).length,a=i.filter(c=>c instanceof eh).length;if(o>1||o>0&&a>0)throw new _e(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const s of n)t=s._apply(t);return t}class eh extends vg{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new eh(e,r,n)}_apply(e){const r=this._parse(e);return k2(e._query,r),new _s(e.firestore,e.converter,lp(e._query,r))}_parse(e){const r=ic(e.firestore);return function(i,o,a,c,d,h,f){let p;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new _e(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){gb(f,h);const y=[];for(const b of f)y.push(mb(c,i,b));p={arrayValue:{values:y}}}else p=mb(c,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||gb(f,h),p=w7(a,o,f,h==="in"||h==="not-in");return Ht.create(d,h,p)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Ei(t,e,r){const n=e,s=Zd("where",t);return eh._create(s,n,r)}class bg extends yg{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new bg(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:$n.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const c of a)k2(o,c),o=lp(o,c)}(e._query,r),new _s(e.firestore,e.converter,lp(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class xg extends vg{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new xg(e,r)}_apply(e){const r=function(s,i,o){if(s.startAt!==null)throw new _e(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new _e(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Dl(i,o)}(e._query,this._field,this._direction);return new _s(e.firestore,e.converter,function(s,i){const o=s.explicitOrderBy.concat([i]);return new ha(s.path,s.collectionGroup,o,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,r))}}function Io(t,e="asc"){const r=e,n=Zd("orderBy",t);return xg._create(n,r)}class _g extends vg{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new _g(e,r,n)}_apply(e){return new _s(e.firestore,e.converter,Ku(e._query,this._limit,this._limitType))}}function I7(t){return g7("limit",t),_g._create("limit",t,"F")}function mb(t,e,r){if(typeof(r=mt(r))=="string"){if(r==="")throw new _e(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kk(e)&&r.indexOf("/")!==-1)throw new _e(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(kt.fromString(r));if(!Ne.isDocumentKey(n))throw new _e(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Mv(t,new Ne(n))}if(r instanceof Pr)return Mv(t,r._key);throw new _e(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qd(r)}.`)}function gb(t,e){if(!Array.isArray(t)||t.length===0)throw new _e(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function k2(t,e){const r=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new _e(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new _e(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class T7{convertValue(e,r="none"){switch(Ki(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Wi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Ve()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return io(e,(s,i)=>{n[s]=this.convertValue(i,r)}),n}convertVectorValue(e){var r,n,s;const i=(s=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||s===void 0?void 0:s.map(o=>Vt(o.doubleValue));return new dg(i)}convertGeoPoint(e){return new ug(Vt(e.latitude),Vt(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=jm(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Nl(e));default:return null}}convertTimestamp(e){const r=oi(e);return new Wt(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=kt.fromString(e);ft(zk(n));const s=new $l(n.get(1),n.get(3)),i=new Ne(n.popFirst(5));return s.isEqual(r)||ps(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class E2 extends _2{constructor(e,r,n,s,i,o){super(e,r,n,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new fu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(Zd("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class fu extends E2{data(e={}){return super.data(e)}}class I2{constructor(e,r,n,s){this._firestore=e,this._userDataWriter=r,this._snapshot=s,this.metadata=new Ha(s.hasPendingWrites,s.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new fu(this._firestore,this._userDataWriter,n.key,n,new Ha(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new _e(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const c=new fu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ha(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new fu(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Ha(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:A7(a.type),doc:c,oldIndex:d,newIndex:h}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function A7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(t){t=Ur(t,Pr);const e=Ur(t.firestore,Hn);return f7(nc(e),t._key).then(r=>T2(e,t,r))}class kg extends T7{constructor(e){super(),this.firestore=e}convertBytes(e){return new na(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new Pr(this.firestore,null,r)}}function Xr(t){t=Ur(t,_s);const e=Ur(t.firestore,Hn),r=nc(e),n=new kg(e);return w2(t._query),p7(r,t._query).then(s=>new I2(e,n,t,s))}function zc(t,e,r){t=Ur(t,Pr);const n=Ur(t.firestore,Hn),s=wg(t.converter,e,r);return ac(n,[fg(ic(n),"setDoc",t._key,s,t.converter!==null,r).toMutation(t._key,Fr.none())])}function To(t,e,r,...n){t=Ur(t,Pr);const s=Ur(t.firestore,Hn),i=ic(s);let o;return o=typeof(e=mt(e))=="string"||e instanceof sc?y2(i,"updateDoc",t._key,e,r,n):g2(i,"updateDoc",t._key,e),ac(s,[o.toMutation(t._key,Fr.exists(!0))])}function yb(t){return ac(Ur(t.firestore,Hn),[new Hd(t._key,Fr.none())])}function Os(t,e){const r=Ur(t.firestore,Hn),n=xr(t),s=wg(t.converter,e);return ac(r,[fg(ic(t.firestore),"addDoc",n._key,s,t.converter!==null,{}).toMutation(n._key,Fr.exists(!1))]).then(()=>n)}function S7(t,...e){var r,n,s;t=mt(t);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||pb(e[o])||(i=e[o],o++);const a={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(pb(e[o])){const f=e[o];e[o]=(r=f.next)===null||r===void 0?void 0:r.bind(f),e[o+1]=(n=f.error)===null||n===void 0?void 0:n.bind(f),e[o+2]=(s=f.complete)===null||s===void 0?void 0:s.bind(f)}let c,d,h;if(t instanceof Pr)d=Ur(t.firestore,Hn),h=Fd(t._key.path),c={next:f=>{e[o]&&e[o](T2(d,t,f))},error:e[o+1],complete:e[o+2]};else{const f=Ur(t,_s);d=Ur(f.firestore,Hn),h=f._query;const p=new kg(d);c={next:y=>{e[o]&&e[o](new I2(d,p,f,y))},error:e[o+1],complete:e[o+2]},w2(t._query)}return function(p,y,b,w){const x=new cg(w),I=new ag(y,x,b);return p.asyncQueue.enqueueAndForget(async()=>sg(await Xu(p),I)),()=>{x.Za(),p.asyncQueue.enqueueAndForget(async()=>ig(await Xu(p),I))}}(nc(d),h,a,c)}function ac(t,e){return function(n,s){const i=new cs;return n.asyncQueue.enqueueAndForget(async()=>r7(await h7(n),s,i)),i.promise}(nc(t),e)}function T2(t,e,r){const n=r.docs.get(e._key),s=new kg(t);return new E2(t,s,e._key,n,new Ha(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C7{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=ic(e)}set(e,r,n){this._verifyNotCommitted();const s=rf(e,this._firestore),i=wg(s.converter,r,n),o=fg(this._dataReader,"WriteBatch.set",s._key,i,s.converter!==null,n);return this._mutations.push(o.toMutation(s._key,Fr.none())),this}update(e,r,n,...s){this._verifyNotCommitted();const i=rf(e,this._firestore);let o;return o=typeof(r=mt(r))=="string"||r instanceof sc?y2(this._dataReader,"WriteBatch.update",i._key,r,n,s):g2(this._dataReader,"WriteBatch.update",i._key,r),this._mutations.push(o.toMutation(i._key,Fr.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=rf(e,this._firestore);return this._mutations=this._mutations.concat(new Hd(r._key,Fr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new _e(ne.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function rf(t,e){if((t=mt(t)).firestore!==e)throw new _e(ne.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Gt(){return new pg("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P7(t){return nc(t=Ur(t,Hn)),new C7(t,e=>ac(t,e))}(function(e,r=!0){(function(s){da=s})(no),xn(new an("firestore",(n,{instanceIdentifier:s,options:i})=>{const o=n.getProvider("app").getImmediate(),a=new Hn(new O6(n.getProvider("auth-internal")),new L6(n.getProvider("app-check-internal")),function(d,h){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new _e(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(d.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:r},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Cr(Rv,"4.7.3",e),Cr(Rv,"4.7.3","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2="firebasestorage.googleapis.com",S2="storageBucket",R7=2*60*1e3,N7=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends wn{constructor(e,r,n=0){super(nf(e),`Firebase Storage: ${r} (${nf(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return nf(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var hr;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(hr||(hr={}));function nf(t){return"storage/"+t}function $7(){const t="An unknown error occurred, please check the error payload for server response.";return new fr(hr.UNKNOWN,t)}function O7(t){return new fr(hr.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function D7(t){return new fr(hr.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function M7(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new fr(hr.UNAUTHENTICATED,t)}function V7(){return new fr(hr.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function L7(t){return new fr(hr.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function F7(){return new fr(hr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function U7(){return new fr(hr.CANCELED,"User canceled the upload/download.")}function j7(t){return new fr(hr.INVALID_URL,"Invalid URL '"+t+"'.")}function B7(t){return new fr(hr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function q7(){return new fr(hr.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+S2+"' property when initializing the app?")}function vp(t){return new fr(hr.INVALID_ARGUMENT,t)}function C2(){return new fr(hr.APP_DELETED,"The Firebase app was deleted.")}function H7(t){return new fr(hr.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Na(t){throw new fr(hr.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=yn.makeFromUrl(e,r)}catch{return new yn(e,"")}if(n.path==="")return n;throw B7(e)}static makeFromUrl(e,r){let n=null;const s="([A-Za-z0-9.\\-_]+)";function i(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),c={bucket:1,path:3};function d(R){R.path_=decodeURIComponent(R.path)}const h="v[A-Za-z0-9_]+",f=r.replace(/[.]/g,"\\."),p="(/([^?#]*).*)?$",y=new RegExp(`^https?://${f}/${h}/b/${s}/o${p}`,"i"),b={bucket:1,path:3},w=r===A2?"(?:storage.googleapis.com|storage.cloud.google.com)":r,x="([^?#]*)",I=new RegExp(`^https?://${w}/${s}/${x}`,"i"),E=[{regex:a,indices:c,postModify:i},{regex:y,indices:b,postModify:d},{regex:I,indices:{bucket:1,path:2},postModify:d}];for(let R=0;R<E.length;R++){const A=E[R],M=A.regex.exec(e);if(M){const T=M[A.indices.bucket];let v=M[A.indices.path];v||(v=""),n=new yn(T,v),A.postModify(n);break}}if(n==null)throw j7(e);return n}}class z7{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W7(t,e,r){let n=1,s=null,i=null,o=!1,a=0;function c(){return a===2}let d=!1;function h(...x){d||(d=!0,e.apply(null,x))}function f(x){s=setTimeout(()=>{s=null,t(y,c())},x)}function p(){i&&clearTimeout(i)}function y(x,...I){if(d){p();return}if(x){p(),h.call(null,x,...I);return}if(c()||o){p(),h.call(null,x,...I);return}n<64&&(n*=2);let E;a===1?(a=2,E=0):E=(n+Math.random())*1e3,f(E)}let b=!1;function w(x){b||(b=!0,p(),!d&&(s!==null?(x||(a=2),clearTimeout(s),f(0)):x||(a=1)))}return f(0),i=setTimeout(()=>{o=!0,w(!0)},r),w}function K7(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G7(t){return t!==void 0}function vb(t,e,r,n){if(n<e)throw vp(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw vp(`Invalid value for '${t}'. Expected ${r} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q7(t,e,r){let n=e;return r==null&&(n=`https://${e}`),`${r}://${n}/v0${t}`}function Y7(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const s=e(n)+"="+e(t[n]);r=r+s+"&"}return r=r.slice(0,-1),r}var Li;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Li||(Li={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J7(t,e){const r=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return r||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X7{constructor(e,r,n,s,i,o,a,c,d,h,f,p=!0){this.url_=e,this.method_=r,this.headers_=n,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=d,this.progressCallback_=h,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,b)=>{this.resolve_=y,this.reject_=b,this.start_()})}start_(){const e=(n,s)=>{if(s){n(!1,new Wc(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const c=a.loaded,d=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,d)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===Li.NO_ERROR,c=i.getStatus();if(!a||J7(c,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===Li.ABORT;n(!1,new Wc(!1,null,h));return}const d=this.successCodes_.indexOf(c)!==-1;n(!0,new Wc(d,i))})},r=(n,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());G7(c)?i(c):i()}catch(c){o(c)}else if(a!==null){const c=$7();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(s.canceled){const c=this.appDelete_?C2():U7();o(c)}else{const c=F7();o(c)}};this.canceled_?r(!1,new Wc(!1,null,!0)):this.backoffId_=W7(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&K7(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Wc{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function Z7(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function eO(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function tO(t,e){e&&(t["X-Firebase-GMPID"]=e)}function rO(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function nO(t,e,r,n,s,i,o=!0){const a=Y7(t.urlParams),c=t.url+a,d=Object.assign({},t.headers);return tO(d,e),Z7(d,r),eO(d,i),rO(d,n),new X7(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sO(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function iO(t,e){const r=e.split("/").filter(n=>n.length>0).join("/");return t.length===0?r:t+"/"+r}function oO(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}class aO{constructor(e,r,n,s){this.url=e,this.method=r,this.handler=n,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function lO(t){function e(r,n){let s;return r.getStatus()===401?r.getErrorText().includes("Firebase App Check token is invalid")?s=V7():s=M7():r.getStatus()===402?s=D7(t.bucket):r.getStatus()===403?s=L7(t.path):s=n,s.status=r.getStatus(),s.serverResponse=n.serverResponse,s}return e}function cO(t){const e=lO(t);function r(n,s){let i=e(n,s);return n.getStatus()===404&&(i=O7(t.path)),i.serverResponse=s.serverResponse,i}return r}function uO(t,e){const r=e.fullServerUrl(),n=Q7(r,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(c,d){}const a=new aO(n,s,o,i);return a.successCodes=[200,204],a.errorHandler=cO(e),a}class dO{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Li.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Li.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Li.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,r,n,s){if(this.sent_)throw Na("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(r,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Na("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Na("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Na("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Na("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class hO extends dO{initXhr(){this.xhr_.responseType="text"}}function fO(){return new hO}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,r){this._service=e,r instanceof yn?this._location=r:this._location=yn.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new Gi(e,r)}get root(){const e=new yn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return oO(this._location.path)}get storage(){return this._service}get parent(){const e=sO(this._location.path);if(e===null)return null;const r=new yn(this._location.bucket,e);return new Gi(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw H7(e)}}function pO(t){t._throwIfRoot("deleteObject");const e=uO(t.storage,t._location);return t.storage.makeRequestWithTokens(e,fO)}function mO(t,e){const r=iO(t._location.path,e),n=new yn(t._location.bucket,r);return new Gi(t.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gO(t){return/^[A-Za-z]+:\/\//.test(t)}function yO(t,e){return new Gi(t,e)}function P2(t,e){if(t instanceof Eg){const r=t;if(r._bucket==null)throw q7();const n=new Gi(r,r._bucket);return e!=null?P2(n,e):n}else return e!==void 0?mO(t,e):t}function vO(t,e){if(e&&gO(e)){if(t instanceof Eg)return yO(t,e);throw vp("To use ref(service, url), the first argument must be a Storage instance.")}else return P2(t,e)}function bb(t,e){const r=e==null?void 0:e[S2];return r==null?null:yn.makeFromBucketSpec(r,t)}function bO(t,e,r,n={}){t.host=`${e}:${r}`,t._protocol="http";const{mockUserToken:s}=n;s&&(t._overrideAuthToken=typeof s=="string"?s:pw(s,t.app.options.projectId))}class Eg{constructor(e,r,n,s,i){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=A2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=R7,this._maxUploadRetryTime=N7,this._requests=new Set,s!=null?this._bucket=yn.makeFromBucketSpec(s,this._host):this._bucket=bb(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=yn.makeFromBucketSpec(this._url,e):this._bucket=bb(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){vb("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){vb("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Gi(this,e)}_makeRequest(e,r,n,s,i=!0){if(this._deleted)return new z7(C2());{const o=nO(e,this._appId,n,s,r,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,r){const[n,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,s).getPromise()}}const xb="@firebase/storage",_b="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R2="storage";function xO(t){return t=mt(t),pO(t)}function _O(t,e){return t=mt(t),vO(t,e)}function N2(t=ca(),e){t=mt(t);const n=vs(t,R2).getImmediate({identifier:e}),s=Tm("storage");return s&&wO(n,...s),n}function wO(t,e,r,n={}){bO(t,e,r,n)}function kO(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Eg(r,n,s,e,no)}function EO(){xn(new an(R2,kO,"PUBLIC").setMultipleInstances(!0)),Cr(xb,_b,""),Cr(xb,_b,"esm2017")}EO();const IO=[{id:"1",name:"Diamond Engagement Ring",description:"Beautiful 1-carat diamond set in 18k rose gold with pavé band",price:2499.99,image:"https://images.unsplash.com/photo-1605100804763-247f67b3557e?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",category:"rings",metal:"rose-gold",tags:["luxury","new-arrivals"],inStock:!0},{id:"2",name:"Pearl Pendant Necklace",description:"Elegant freshwater pearl pendant on sterling silver chain",price:89.99,image:"https://images.unsplash.com/photo-1599643478518-a784e5dc4c8f?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",category:"necklaces",metal:"silver",tags:["under-100","trending"],inStock:!0},{id:"3",name:"Gold Hoop Earrings",description:"Classic 14k gold hoop earrings, perfect for everyday wear",price:349.99,image:"https://images.unsplash.com/photo-1610694955371-d4a3f5146182?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",category:"earrings",metal:"gold",tags:["100-500","trending"],inStock:!0},{id:"4",name:"Platinum Wedding Band",description:"Simple and elegant platinum wedding band with matte finish",price:899.99,image:"https://images.unsplash.com/photo-1575224526797-5730d09d781d?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",category:"rings",metal:"platinum",tags:["500-1000","luxury"],inStock:!0},{id:"5",name:"Silver Charm Bracelet",description:"Adjustable sterling silver bracelet with various charms",price:129.99,image:"https://images.unsplash.com/photo-1618019309815-e5698a9a900a?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",category:"bracelets",metal:"silver",tags:["100-500","trending"],inStock:!0},{id:"6",name:"Luxury Diamond Watch",description:"Premium watch with diamond accents and leather strap",price:3299.99,image:"https://images.unsplash.com/photo-1587836374828-4dbafa94cf0e?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",category:"watches",metal:"gold",tags:["1000-plus","luxury","new-arrivals"],inStock:!0},{id:"7",name:"Rose Gold Tennis Bracelet",description:"Stunning rose gold tennis bracelet with cubic zirconia stones",price:799.99,image:"https://images.unsplash.com/photo-1602173574767-37ac01994b2c?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",category:"bracelets",metal:"rose-gold",tags:["500-1000","new-arrivals"],inStock:!0},{id:"8",name:"Silver Drop Earrings",description:"Elegant sterling silver drop earrings with blue topaz",price:79.99,image:"https://images.unsplash.com/photo-1600721391689-2564bb8055de?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",category:"earrings",metal:"silver",tags:["under-100","sale"],inStock:!0},{id:"9",name:"Platinum Diamond Necklace",description:"Exquisite platinum necklace with 2-carat diamond pendant",price:4999.99,image:"https://images.unsplash.com/photo-1608043152269-423dbba4e7e1?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80",category:"necklaces",metal:"platinum",tags:["1000-plus","luxury"],inStock:!0}],$a={products:IO},TO=[{id:"default-1",name:"Classic Pearl Necklace",description:"Elegant freshwater pearl necklace, perfect for any occasion.",price:129.99,image:"https://via.placeholder.com/400x400?text=Pearl+Necklace",category:"necklaces",material:"Freshwater pearls",beadSize:"8mm",length:"18 inches",closure:"Silver lobster clasp"},{id:"default-2",name:"Amethyst Beaded Bracelet",description:"Stunning amethyst beads with sterling silver accents.",price:79.99,image:"https://via.placeholder.com/400x400?text=Amethyst+Bracelet",category:"bracelets",material:"Amethyst",beadSize:"6mm",length:"7.5 inches",closure:"Toggle clasp"}],Co={getProducts(){return new Promise(t=>{setTimeout(()=>{const e=$a!=null&&$a.products&&$a.products.length>0?$a.products:TO;t(e)},500)})},getProductById(t){return new Promise(async(e,r)=>{try{const n=await this.getProducts(),s=String(t).toLowerCase();let i=n.find(o=>String(o.id).toLowerCase()===s||String(o.id).toLowerCase().includes(s)||s.includes(String(o.id).toLowerCase()));!i&&n.length>0&&(console.warn(`Product with ID ${t} not found. Using first product as fallback.`),i=n[0]),i?e(i):r(new Error(`Product with ID ${t} not found and no fallbacks available`))}catch(n){r(n)}})},getProduct(t){return this.getProductById(t)},getAllProducts(){return this.getProducts()}},Rs={email:"admin@beabedart.com",password:"Admin@123!",userData:{firstName:"System",lastName:"Administrator",isAdmin:!0,isSuperAdmin:!0,createdAt:new Date}},AO={apiKey:"AIzaSyBPm5bQCfdebLEJlhI_75ytU8eZ_XMhhhs",authDomain:"beadingart-ca4ba.firebaseapp.com",projectId:"beadingart-ca4ba",storageBucket:"beadingart-ca4ba.firebasestorage.app",messagingSenderId:"589402844834",appId:"1:589402844834:web:65a0e51343ab650fc071fb"},$2=Sm(AO),tt=f2($2),SO=N2($2),Fe={async createUserProfile(t,e){const r=xr(tt,"users",t),n={...e,isAdmin:!!e.isAdmin,createdAt:Gt(),adminUpdatedAt:Gt()};await zc(r,n),console.log("Created user profile with admin status:",n.isAdmin)},async getUserProfile(t){try{const e=xr(tt,"users",t),r=await bi(e),n=xr(tt,"users","default-admin"),s=await bi(n);if(s.exists()&&s.data().uid===t)return{...s.data(),id:t,isAdmin:!0,isSuperAdmin:!0};if(!r.exists()){const o=localStorage.getItem("userIsAdmin")==="true";return console.log("No user profile found, using stored admin status:",o),o?(await this.createUserProfile(t,{isAdmin:!0}),{id:t,isAdmin:!0}):null}const i=r.data();return i.isAdmin=!!i.isAdmin,i.isAdmin&&localStorage.setItem("userIsAdmin","true"),{id:t,...i,isAdmin:i.isAdmin}}catch(e){console.error("Error getting user profile:",e);const r=localStorage.getItem("userIsAdmin")==="true";return{id:t,isAdmin:r}}},async updateUserProfile(t,e){const r=xr(tt,"users",t);await zc(r,e,{merge:!0})},async setUserAdminStatus(t,e){try{const r=xr(tt,"users","default-admin"),n=await bi(r);if(n.exists()&&n.data().uid===t)return console.warn("Cannot modify super admin status"),!1;const s=xr(tt,"users",t);return await To(s,{isAdmin:!!e,updatedAt:Gt(),adminUpdatedAt:Gt()}),console.log(`Updated admin status for user ${t} to:`,e),!0}catch(r){throw console.error("Error updating admin status:",r),r}},async submitVariantRequest(t){try{const e=Ut(tt,"variantRequests"),r={productId:t.productId,productName:t.productName,suggestion:t.suggestion,requestedColors:t.colors||[],userId:t.userId||null,userEmail:t.userEmail||"Anonymous",status:"pending",createdAt:Gt(),updatedAt:Gt()};return{id:(await Os(e,r)).id,...r}}catch(e){throw console.error("Error submitting variant request:",e),e}},async getVariantRequests(){try{const t=Ut(tt,"variantRequests"),e=Xn(t,Io("createdAt","desc"));return(await Xr(e)).docs.map(n=>({id:n.id,...n.data()}))}catch(t){throw console.error("Error getting variant requests:",t),t}},async submitCustomDesign(t){try{const e=Ut(tt,"customDesigns"),r={...t,status:"pending",createdAt:Gt(),updatedAt:Gt()};return{id:(await Os(e,r)).id,...r}}catch(e){throw console.error("Error submitting custom design request:",e),e}},async getProducts(){try{const t=Ut(tt,"products"),e=await Xr(t);if(e.empty)throw new Error("No products found");return e.docs.map(r=>({id:r.id,...r.data()}))}catch{return console.log("Firebase: falling back to mock data for all products"),Co.getProducts()}},async getFeaturedProducts(t=4){try{const e=Ut(tt,"products"),r=Xn(e,Ei("featured","==",!0),Io("createdAt","desc")),n=await Xr(r);return n.empty?Co.getFeaturedProducts(t):n.docs.map(s=>({id:s.id,...s.data()})).slice(0,t)}catch{return console.log("Firebase: falling back to mock data for featured products"),Co.getFeaturedProducts(t)}},async getProduct(t){try{const e=xr(tt,"products",t),r=await bi(e);if(!r.exists())throw new Error(`Product with ID: ${t} not found`);let n=r.data();return n.variants||(n.variants=[{name:"Default",colors:["#ffffff","#000000"]}]),{id:r.id,...n}}catch{return console.log(`Firebase: falling back to mock data for product ${t}`),Co.getProductById(t)}},async createProduct(t){try{const e=Gt(),n={...{materials:"",dimensions:"",careInstructions:`Store in a cool, dry place away from direct sunlight
Avoid contact with perfumes, lotions, and chemicals
Clean gently with a soft, lint-free cloth
Remove before swimming or bathing`,sizingAndFit:"Our standard bracelet length is 7.5 inches. Necklaces are available in 16, 18, and 20 inch lengths. Please contact us for custom sizing.",shippingInfo:"Handmade to order. Please allow 1-3 business days for production plus shipping time.",returnPolicy:"We accept returns within 14 days of delivery for unworn items in original packaging.",...t},createdAt:e,updatedAt:e},s=Ut(tt,"products");return{id:(await Os(s,n)).id,...n}}catch(e){throw console.error("Error creating product:",e),e}},async updateProduct(t,e){try{const r=xr(tt,"products",t),n={...e,updatedAt:Gt()};return await To(r,n),{id:t,...n}}catch(r){throw console.error(`Error updating product ${t}:`,r),r}},async deleteProduct(t){try{const e=xr(tt,"products",t),r=await bi(e);if(!r.exists())throw new Error(`Product with ID: ${t} not found`);const n=r.data();if(await yb(e),n.images&&Array.isArray(n.images)){const s=n.images.filter(i=>i.startsWith("gs://")||i.includes("firebasestorage.googleapis.com"));for(const i of s)try{let o=i;if(i.includes("firebasestorage.googleapis.com")){const d=new URL(i).pathname.match(/\/o\/(.+)\?/);if(d&&d[1])o=decodeURIComponent(d[1]);else{console.warn(`Could not extract path from URL: ${i}`);continue}}const a=_O(SO,o);await xO(a)}catch(o){console.warn(`Failed to delete image ${i}:`,o)}}return!0}catch(e){throw console.error(`Error deleting product ${t}:`,e),e}},async uploadProductImage(t){try{const r=`${Date.now()}_${t.name}`,n=await this.resizeImage(t,{maxWidth:800,maxHeight:800,quality:.85});if(n.size>500*1024){const s=await this.resizeImage(t,{maxWidth:600,maxHeight:600,quality:.7});if(s.size>500*1024)throw new Error("Image still too large after resizing. Please use a smaller image or reduce its quality.");return this.blobToBase64(s)}return this.blobToBase64(n)}catch(e){throw console.error("Error processing image:",e),new Error(`Failed to process image: ${e.message||"Unknown error"}`)}},blobToBase64(t){return new Promise((e,r)=>{const n=new FileReader;n.onload=()=>{const s=n.result;e(`base64://${s}`)},n.onerror=()=>{r(new Error("Failed to read the image file"))},n.readAsDataURL(t)})},resizeImage(t,e={}){const{maxWidth:r=800,maxHeight:n=800,quality:s=.85}=e;return new Promise((i,o)=>{const a=new FileReader;a.onload=c=>{const d=new Image;d.onload=()=>{let h=d.width,f=d.height;h>r&&(f=Math.round(f*(r/h)),h=r),f>n&&(h=Math.round(h*(n/f)),f=n);const p=document.createElement("canvas");p.width=h,p.height=f,p.getContext("2d").drawImage(d,0,0,h,f);let b=t.type;["image/jpeg","image/png","image/webp"].includes(b)||(b="image/jpeg"),p.toBlob(w=>{w?i(w):o(new Error("Failed to create image blob"))},b,s)},d.onerror=()=>{o(new Error("Failed to load image"))},d.src=c.target.result},a.onerror=()=>{o(new Error("Failed to read file"))},a.readAsDataURL(t)})},async getCategories(){try{const t=Ut(tt,"categories");return(await Xr(t)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){return console.error("Error getting categories:",t),[{id:"beaded",name:"Beaded Jewelry",slug:"beaded-jewelry"},{id:"string",name:"String Jewelry",slug:"string-jewelry"},{id:"metal",name:"Metal Jewelry",slug:"metal-jewelry"},{id:"gemstones",name:"Gemstones",slug:"gemstones"},{id:"earrings",name:"Earrings",slug:"earrings"},{id:"necklaces",name:"Necklaces",slug:"necklaces"},{id:"bracelets",name:"Bracelets",slug:"bracelets"},{id:"rings",name:"Rings",slug:"rings"}]}},async createCategory(t){try{const e=Ut(tt,"categories");return{id:(await Os(e,{...t,createdAt:Gt()})).id,...t}}catch(e){throw console.error("Error creating category:",e),e}},async getAllUsers(){try{const t=Ut(tt,"users");return(await Xr(t)).docs.map(r=>{var n;return{id:r.id,...r.data(),createdAt:((n=r.data().createdAt)==null?void 0:n.toDate())||new Date}})}catch(t){throw console.error("Error getting all users:",t),t}},async updateUser(t,e){try{const r=xr(tt,"users",t);return await To(r,{...e,updatedAt:Gt()}),!0}catch(r){throw console.error("Error updating user:",r),r}},async deleteUser(t){try{const e=xr(tt,"users",t);return await yb(e),!0}catch(e){throw console.error("Error deleting user:",e),e}},async createOrder(t){try{const e=Gt(),r={...t,createdAt:e,orderDate:t.orderDate||e,status:t.status||"processing",items:Array.isArray(t.items)?t.items:[]};console.log("Creating order with data:",r);const n=Ut(tt,"orders");return await Os(n,r)}catch(e){throw console.error("Error creating order:",e),e}},async getUserOrders(t){try{const e=Ut(tt,"orders"),r=Xn(e,Ei("userId","==",t),Io("createdAt","desc")),n=await Xr(r);return n.empty?(console.log(`No orders found for user: ${t}`),[]):n.docs.map(s=>({id:s.id,...s.data()}))}catch(e){if(e.code==="failed-precondition"){console.warn("Creating required index for orders query...");const r=Ut(tt,"orders"),n=Xn(r,Ei("userId","==",t));return(await Xr(n)).docs.map(i=>({id:i.id,...i.data()}))}throw e}},async getAllOrders(){try{const t=Ut(tt,"orders");let e;try{const n=Xn(t,Io("createdAt","desc"));e=await Xr(n)}catch(n){console.warn("Index error, using fallback query:",n),e=await Xr(t)}return await Promise.all(e.docs.map(async n=>{const s=n.data();let i=s.email,o="";if(s.userId)try{const c=await this.getUserProfile(s.userId);i=i||(c==null?void 0:c.email),(c!=null&&c.firstName||c!=null&&c.lastName)&&(o=`${c.firstName||""} ${c.lastName||""}`.trim())}catch(c){console.warn(`Could not fetch details for user ${s.userId}:`,c)}(s.firstName||s.lastName)&&(o=`${s.firstName||""} ${s.lastName||""}`.trim());let a=[];return Array.isArray(s.items)&&(a=await Promise.all(s.items.map(async c=>{var d;if(c.productId)try{const h=await this.getProduct(c.productId);return{...c,name:h.name||c.name||"Product Not Found",image:((d=h.images)==null?void 0:d[0])||c.image||"/assets/placeholder.jpg"}}catch(h){return console.warn(`Could not fetch product details for ${c.productId}:`,h),c}return c}))),{id:n.id,...s,items:a,customerName:o||"N/A",email:i||"N/A",orderNumber:s.orderNumber||`ORD-${n.id.substring(0,6)}`,status:s.status||"processing"}}))}catch(t){return console.error("Error getting all orders:",t),[]}},async updateOrderStatus(t,e){try{const r=xr(tt,"orders",t);return await To(r,{status:e,updatedAt:Gt()}),!0}catch(r){throw console.error(`Error updating order ${t}:`,r),r}},getFirestore(){return tt},getCollection(t){return Ut(tt,t)},async getDocuments(t){return await Xr(t)},async seedDefaultAdmin(){try{const t=Hi(),e=xr(tt,"users","default-admin");if(!(await bi(e)).exists())try{const n=await Kw(t,Rs.email,Rs.password);await zc(e,{...Rs.userData,uid:n.user.uid,email:Rs.email,adminCreatedAt:Gt()}),console.log("Default admin account created successfully")}catch(n){if(n.code==="auth/email-already-in-use"){const{user:s}=await Gw(t,Rs.email,Rs.password);await zc(e,{...Rs.userData,uid:s.uid,email:Rs.email,adminCreatedAt:Gt()},{merge:!0}),console.log("Default admin profile updated")}else throw n}return!0}catch(t){throw console.error("Error seeding default admin:",t),t}},async subscribeToNewsletter(t,e){try{const r=Ut(tt,"newsletters"),n=Xn(r,Ei("email","==",t));if(!(await Xr(n)).empty)return{success:!1,message:"This email is already subscribed."};const i={email:t,name:e||"",subscriptionDate:Gt(),status:"active"};return{success:!0,message:"Subscription successful!",id:(await Os(r,i)).id}}catch(r){throw console.error("Error subscribing to newsletter:",r),r}},async recordUserCookieConsent(t,e){try{const r=Ut(tt,"cookieConsents");await Os(r,{userId:t,...e,createdAt:Gt()});const n=xr(tt,"users",t);return(await bi(n)).exists()&&await To(n,{cookiePreferences:{necessary:e.necessary,functional:e.functional,analytics:e.analytics,marketing:e.marketing,lastUpdated:e.lastUpdated||new Date().toISOString()}}),!0}catch(r){return console.error("Error recording cookie consent:",r),!1}},async getUserCookieConsentHistory(t){try{const e=Ut(tt,"cookieConsents"),r=Xn(e,Ei("userId","==",t),Io("createdAt","desc"));return(await Xr(r)).docs.map(s=>({id:s.id,...s.data()}))}catch(e){return console.error("Error getting cookie consent history:",e),[]}},async deleteUserCookieConsent(t){try{const e=Ut(tt,"cookieConsents"),r=Xn(e,Ei("userId","==",t)),n=await Xr(r),s=P7(tt);return n.forEach(i=>{s.delete(i.ref)}),await s.commit(),!0}catch(e){return console.error("Error deleting cookie consent data:",e),!1}}},CO="modulepreload",PO=function(t){return"/"+t},wb={},sf=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=PO(c),c in wb)return;wb[c]=!0;const d=c.endsWith(".css"),h=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${h}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":CO,d||(f.as="script"),f.crossOrigin="",f.href=c,a&&f.setAttribute("nonce",a),document.head.appendChild(f),d)return new Promise((p,y)=>{f.addEventListener("load",p),f.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},O2="@firebase/installations",Ig="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D2=1e4,M2=`w:${Ig}`,V2="FIS_v2",RO="https://firebaseinstallations.googleapis.com/v1",NO=60*60*1e3,$O="installations",OO="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Qi=new ro($O,OO,DO);function L2(t){return t instanceof wn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2({projectId:t}){return`${RO}/projects/${t}/installations`}function U2(t){return{token:t.token,requestStatus:2,expiresIn:VO(t.expiresIn),creationTime:Date.now()}}async function j2(t,e){const n=(await e.json()).error;return Qi.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function B2({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function MO(t,{refreshToken:e}){const r=B2(t);return r.append("Authorization",LO(e)),r}async function q2(t){const e=await t();return e.status>=500&&e.status<600?t():e}function VO(t){return Number(t.replace("s","000"))}function LO(t){return`${V2} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FO({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=F2(t),s=B2(t),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={fid:r,authVersion:V2,appId:t.appId,sdkVersion:M2},a={method:"POST",headers:s,body:JSON.stringify(o)},c=await q2(()=>fetch(n,a));if(c.ok){const d=await c.json();return{fid:d.fid||r,registrationStatus:2,refreshToken:d.refreshToken,authToken:U2(d.authToken)}}else throw await j2("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO=/^[cdef][\w-]{21}$/,bp="";function BO(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=qO(t);return jO.test(r)?r:bp}catch{return bp}}function qO(t){return UO(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function th(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=new Map;function W2(t,e){const r=th(t);K2(r,e),HO(r,e)}function K2(t,e){const r=z2.get(t);if(r)for(const n of r)n(e)}function HO(t,e){const r=zO();r&&r.postMessage({key:t,fid:e}),WO()}let Pi=null;function zO(){return!Pi&&"BroadcastChannel"in self&&(Pi=new BroadcastChannel("[Firebase] FID Change"),Pi.onmessage=t=>{K2(t.data.key,t.data.fid)}),Pi}function WO(){z2.size===0&&Pi&&(Pi.close(),Pi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KO="firebase-installations-database",GO=1,Yi="firebase-installations-store";let of=null;function Tg(){return of||(of=xw(KO,GO,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Yi)}}})),of}async function ed(t,e){const r=th(t),s=(await Tg()).transaction(Yi,"readwrite"),i=s.objectStore(Yi),o=await i.get(r);return await i.put(e,r),await s.done,(!o||o.fid!==e.fid)&&W2(t,e.fid),e}async function G2(t){const e=th(t),n=(await Tg()).transaction(Yi,"readwrite");await n.objectStore(Yi).delete(e),await n.done}async function rh(t,e){const r=th(t),s=(await Tg()).transaction(Yi,"readwrite"),i=s.objectStore(Yi),o=await i.get(r),a=e(o);return a===void 0?await i.delete(r):await i.put(a,r),await s.done,a&&(!o||o.fid!==a.fid)&&W2(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ag(t){let e;const r=await rh(t.appConfig,n=>{const s=QO(n),i=YO(t,s);return e=i.registrationPromise,i.installationEntry});return r.fid===bp?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function QO(t){const e=t||{fid:BO(),registrationStatus:0};return Q2(e)}function YO(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Qi.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=JO(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:XO(t)}:{installationEntry:e}}async function JO(t,e){try{const r=await FO(t,e);return ed(t.appConfig,r)}catch(r){throw L2(r)&&r.customData.serverCode===409?await G2(t.appConfig):await ed(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function XO(t){let e=await kb(t.appConfig);for(;e.registrationStatus===1;)await H2(100),e=await kb(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await Ag(t);return n||r}return e}function kb(t){return rh(t,e=>{if(!e)throw Qi.create("installation-not-found");return Q2(e)})}function Q2(t){return ZO(t)?{fid:t.fid,registrationStatus:0}:t}function ZO(t){return t.registrationStatus===1&&t.registrationTime+D2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD({appConfig:t,heartbeatServiceProvider:e},r){const n=tD(t,r),s=MO(t,r),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={installation:{sdkVersion:M2,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},c=await q2(()=>fetch(n,a));if(c.ok){const d=await c.json();return U2(d)}else throw await j2("Generate Auth Token",c)}function tD(t,{fid:e}){return`${F2(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sg(t,e=!1){let r;const n=await rh(t.appConfig,i=>{if(!Y2(i))throw Qi.create("not-registered");const o=i.authToken;if(!e&&sD(o))return i;if(o.requestStatus===1)return r=rD(t,e),i;{if(!navigator.onLine)throw Qi.create("app-offline");const a=oD(i);return r=nD(t,a),a}});return r?await r:n.authToken}async function rD(t,e){let r=await Eb(t.appConfig);for(;r.authToken.requestStatus===1;)await H2(100),r=await Eb(t.appConfig);const n=r.authToken;return n.requestStatus===0?Sg(t,e):n}function Eb(t){return rh(t,e=>{if(!Y2(e))throw Qi.create("not-registered");const r=e.authToken;return aD(r)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function nD(t,e){try{const r=await eD(t,e),n=Object.assign(Object.assign({},e),{authToken:r});return await ed(t.appConfig,n),r}catch(r){if(L2(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await G2(t.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await ed(t.appConfig,n)}throw r}}function Y2(t){return t!==void 0&&t.registrationStatus===2}function sD(t){return t.requestStatus===2&&!iD(t)}function iD(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+NO}function oD(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function aD(t){return t.requestStatus===1&&t.requestTime+D2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lD(t){const e=t,{installationEntry:r,registrationPromise:n}=await Ag(e);return n?n.catch(console.error):Sg(e).catch(console.error),r.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cD(t,e=!1){const r=t;return await uD(r),(await Sg(r,e)).token}async function uD(t){const{registrationPromise:e}=await Ag(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(t){if(!t||!t.options)throw af("App Configuration");if(!t.name)throw af("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw af(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function af(t){return Qi.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="installations",hD="installations-internal",fD=t=>{const e=t.getProvider("app").getImmediate(),r=dD(e),n=vs(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},pD=t=>{const e=t.getProvider("app").getImmediate(),r=vs(e,J2).getImmediate();return{getId:()=>lD(r),getToken:s=>cD(r,s)}};function mD(){xn(new an(J2,fD,"PUBLIC")),xn(new an(hD,pD,"PRIVATE"))}mD();Cr(O2,Ig);Cr(O2,Ig,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const td="analytics",gD="firebase_id",yD="origin",vD=60*1e3,bD="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Cg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=new Od("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},on=new ro("analytics","Analytics",xD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _D(t){if(!t.startsWith(Cg)){const e=on.create("invalid-gtag-resource",{gtagURL:t});return Kr.warn(e.message),""}return t}function X2(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function wD(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function kD(t,e){const r=wD("firebase-js-sdk-policy",{createScriptURL:_D}),n=document.createElement("script"),s=`${Cg}?l=${t}&id=${e}`;n.src=r?r==null?void 0:r.createScriptURL(s):s,n.async=!0,document.head.appendChild(n)}function ED(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function ID(t,e,r,n,s,i){const o=n[s];try{if(o)await e[o];else{const c=(await X2(r)).find(d=>d.measurementId===s);c&&await e[c.appId]}}catch(a){Kr.error(a)}t("config",s,i)}async function TD(t,e,r,n,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await X2(r);for(const c of o){const d=a.find(f=>f.measurementId===c),h=d&&e[d.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",n,s||{})}catch(i){Kr.error(i)}}function AD(t,e,r,n){async function s(i,...o){try{if(i==="event"){const[a,c]=o;await TD(t,e,r,a,c)}else if(i==="config"){const[a,c]=o;await ID(t,e,r,n,a,c)}else if(i==="consent"){const[a,c]=o;t("consent",a,c)}else if(i==="get"){const[a,c,d]=o;t("get",a,c,d)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){Kr.error(a)}}return s}function SD(t,e,r,n,s){let i=function(...o){window[n].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=AD(i,t,e,r),{gtagCore:i,wrappedGtag:window[s]}}function CD(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(Cg)&&r.src.includes(t))return r;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PD=30,RD=1e3;class ND{constructor(e={},r=RD){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Z2=new ND;function $D(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function OD(t){var e;const{appId:r,apiKey:n}=t,s={method:"GET",headers:$D(n)},i=bD.replace("{app-id}",r),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let a="";try{const c=await o.json();!((e=c.error)===null||e===void 0)&&e.message&&(a=c.error.message)}catch{}throw on.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function DD(t,e=Z2,r){const{appId:n,apiKey:s,measurementId:i}=t.options;if(!n)throw on.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:n};throw on.create("no-api-key")}const o=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new LD;return setTimeout(async()=>{a.abort()},vD),eE({appId:n,apiKey:s,measurementId:i},o,a,e)}async function eE(t,{throttleEndTimeMillis:e,backoffCount:r},n,s=Z2){var i;const{appId:o,measurementId:a}=t;try{await MD(n,e)}catch(c){if(a)return Kr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw c}try{const c=await OD(t);return s.deleteThrottleMetadata(o),c}catch(c){const d=c;if(!VD(d)){if(s.deleteThrottleMetadata(o),a)return Kr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:o,measurementId:a};throw c}const h=Number((i=d==null?void 0:d.customData)===null||i===void 0?void 0:i.httpStatus)===503?tv(r,s.intervalMillis,PD):tv(r,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:r+1};return s.setThrottleMetadata(o,f),Kr.debug(`Calling attemptFetch again in ${h} millis`),eE(t,f,n,s)}}function MD(t,e){return new Promise((r,n)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(r,s);t.addEventListener(()=>{clearTimeout(i),n(on.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function VD(t){if(!(t instanceof wn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class LD{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function FD(t,e,r,n,s){if(s&&s.global){t("event",r,n);return}else{const i=await e,o=Object.assign(Object.assign({},n),{send_to:i});t("event",r,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UD(){if(gw())try{await yw()}catch(t){return Kr.warn(on.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Kr.warn(on.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function jD(t,e,r,n,s,i,o){var a;const c=DD(t);c.then(y=>{r[y.measurementId]=y.appId,t.options.measurementId&&y.measurementId!==t.options.measurementId&&Kr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${y.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(y=>Kr.error(y)),e.push(c);const d=UD().then(y=>{if(y)return n.getId()}),[h,f]=await Promise.all([c,d]);CD(i)||kD(i,h.measurementId),s("js",new Date);const p=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return p[yD]="firebase",p.update=!0,f!=null&&(p[gD]=f),s("config",h.measurementId,p),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.app=e}_delete(){return delete ll[this.app.options.appId],Promise.resolve()}}let ll={},Ib=[];const Tb={};let lf="dataLayer",qD="gtag",Ab,tE,Sb=!1;function HD(){const t=[];if(mw()&&t.push("This is a browser extension environment."),e3()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,s)=>`(${s+1}) ${n}`).join(" "),r=on.create("invalid-analytics-context",{errorInfo:e});Kr.warn(r.message)}}function zD(t,e,r){HD();const n=t.options.appId;if(!n)throw on.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Kr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw on.create("no-api-key");if(ll[n]!=null)throw on.create("already-exists",{id:n});if(!Sb){ED(lf);const{wrappedGtag:i,gtagCore:o}=SD(ll,Ib,Tb,lf,qD);tE=i,Ab=o,Sb=!0}return ll[n]=jD(t,Ib,Tb,e,Ab,lf,r),new BD(t)}function WD(t=ca()){t=mt(t);const e=vs(t,td);return e.isInitialized()?e.getImmediate():KD(t)}function KD(t,e={}){const r=vs(t,td);if(r.isInitialized()){const s=r.getImmediate();if(Tl(e,r.getOptions()))return s;throw on.create("already-initialized")}return r.initialize({options:e})}function GD(t,e,r,n){t=mt(t),FD(tE,ll[t.app.options.appId],e,r,n).catch(s=>Kr.error(s))}const Cb="@firebase/analytics",Pb="0.10.8";function QD(){xn(new an(td,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return zD(n,s,r)},"PUBLIC")),xn(new an("analytics-internal",t,"PRIVATE")),Cr(Cb,Pb),Cr(Cb,Pb,"esm2017");function t(e){try{const r=e.getProvider(td).getImmediate();return{logEvent:(n,s,i)=>GD(r,n,s,i)}}catch(r){throw on.create("interop-component-reg-failed",{reason:r})}}}QD();/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YD{constructor(e,r,n){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=r.getImmediate({optional:!0}),this.auth||e.get().then(s=>this.auth=s,()=>{}),this.messaging||r.get().then(s=>this.messaging=s,()=>{}),this.appCheck||n.get().then(s=>this.appCheck=s,()=>{})}async getAuthToken(){if(this.auth)try{const e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(e){if(this.appCheck){const r=e?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return r.error?null:r.token}return null}async getContext(e){const r=await this.getAuthToken(),n=await this.getMessagingToken(),s=await this.getAppCheckToken(e);return{authToken:r,messagingToken:n,appCheckToken:s}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="us-central1";class JD{constructor(e,r,n,s,i=xp,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new YD(r,n,s),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(i);this.customDomain=a.origin+(a.pathname==="/"?"":a.pathname),this.region=xp}catch{this.customDomain=null,this.region=i}}_delete(){return this.deleteService()}_url(e){const r=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${r}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${r}.cloudfunctions.net/${e}`}}function XD(t,e,r){t.emulatorOrigin=`http://${e}:${r}`}const Rb="@firebase/functions",Nb="0.11.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD="auth-internal",eM="app-check-internal",tM="messaging-internal";function rM(t,e){const r=(n,{instanceIdentifier:s})=>{const i=n.getProvider("app").getImmediate(),o=n.getProvider(ZD),a=n.getProvider(tM),c=n.getProvider(eM);return new JD(i,o,a,c,s,t)};xn(new an(rE,r,"PUBLIC").setMultipleInstances(!0)),Cr(Rb,Nb,e),Cr(Rb,Nb,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nM(t=ca(),e=xp){const n=vs(mt(t),rE).getImmediate({identifier:e}),s=Tm("functions");return s&&sM(n,...s),n}function sM(t,e,r){XD(mt(t),e,r)}rM(fetch.bind(self));const iM={apiKey:"AIzaSyBPm5bQCfdebLEJlhI_75ytU8eZ_XMhhhs",authDomain:"beadingart-ca4ba.firebaseapp.com",projectId:"beadingart-ca4ba",storageBucket:"beadingart-ca4ba.firebasestorage.app",messagingSenderId:"589402844834",appId:"1:589402844834:web:65a0e51343ab650fc071fb",measurementId:"G-HM50GF0DN0"};let Ji;cP().length===0?(Ji=Sm(iM),console.log("Firebase initialized")):(Ji=ca(),console.log("Using existing Firebase app"));WD(Ji);const cf=f2(Ji),uf=Hi(Ji);nM(Ji);N2(Ji);const en=Cd("notification",()=>{const t=q([]),e=q([]);let r=0,n=null;const s=q(!1),i=q(null),o=b=>{const w=r++;return t.value.push({id:w,type:"info",timeout:5e3,...b,timestamp:new Date}),b.timeout&&setTimeout(()=>{a(w)},b.timeout),w},a=b=>{const w=t.value.findIndex(x=>x.id===b);w!==-1&&t.value.splice(w,1)},c=async(b,w=null)=>{try{const x=uf.currentUser;if(!w&&x&&(w=x.uid),!w)return console.error("No user ID provided for notification"),null;const I={...b,userId:w,type:b.type||"info",read:!1,createdAt:Gt()},C=await Os(Ut(cf,"notifications"),I);return o(b),C.id}catch(x){return console.error("Error adding notification:",x),o({title:"Error",message:"Failed to save notification",type:"error"}),null}},d=b=>{const w=b.message.match(/https:\/\/console\.firebase\.google\.com[^"'\s]+/);return w?w[0]:null};return{notifications:t,userNotifications:e,addNotification:o,removeNotification:a,addPersistedNotification:c,loadUserNotifications:(b=20)=>{try{const w=uf.currentUser;if(!w){console.log("No authenticated user to load notifications for"),e.value=[];return}if(n&&(n(),n=null),s.value){console.log("Skipping notification query because required index is missing");return}const x=Xn(Ut(cf,"notifications"),Ei("userId","==",w.uid),Io("createdAt","desc"),I7(b));n=S7(x,I=>{e.value=I.docs.map(C=>{const E=C.data();return{id:C.id,...E,createdAt:E.createdAt instanceof Wt?E.createdAt.toDate():E.createdAt?new Date(E.createdAt):new Date}}),s.value&&(s.value=!1,i.value=null,console.log("Index is now available, notifications loaded successfully")),console.log("Loaded notifications:",e.value)},I=>{var C;console.error("Error loading notifications:",I),I.message.includes("The query requires an index")?(s.value=!0,i.value=d(I),console.log("Missing Firestore index. Please create the index at:",i.value),(C=uf.currentUser)!=null&&C.isAdmin&&o({title:"Database Setup Required",message:"The notification system needs a database index to be created. Please check the console for instructions.",type:"warning",timeout:1e4})):o({title:"Error",message:"Failed to load notifications",type:"error"})})}catch(w){console.error("Error setting up notifications listener:",w)}},markAsRead:async b=>{try{console.log("Marking notification as read:",b);const w=xr(cf,"notifications",b);await To(w,{read:!0});const x=e.value.findIndex(I=>I.id===b);return x!==-1&&(e.value[x].read=!0),!0}catch(w){return console.error("Error marking notification as read:",w),o({title:"Error",message:"Failed to update notification",type:"error"}),!1}},cleanup:()=>{n&&(n(),n=null)},indexMissing:s,indexCreationUrl:i,openIndexCreationUrl:()=>i.value?(window.open(i.value,"_blank"),!0):!1}}),ao=Cd("cart",{state:()=>({cart:[],loading:!1}),getters:{itemCount:t=>t.cart.reduce((e,r)=>e+r.quantity,0),subtotal:t=>t.cart.reduce((e,r)=>e+r.price*r.quantity,0)},actions:{async addToCart(t,e=1){var n;const r=en();try{const s=this.cart.find(i=>i.id===t.id);s?(s.quantity+=e,r.addNotification({title:"Cart Updated",message:`Increased ${t.name} quantity by ${e}`,type:"success",timeout:3e3})):(this.cart.push({id:t.id,name:t.name,price:t.price,image:((n=t.images)==null?void 0:n[0])||t.image,quantity:e}),r.addNotification({title:"Added to Cart",message:`${e} ${t.name}${e>1?"s":""} added to cart`,type:"success",timeout:3e3}))}catch(s){console.error("Error adding to cart:",s),r.addNotification({title:"Error",message:"Failed to add item to cart",type:"error",timeout:5e3})}},async updateQuantity(t,e){const r=en();try{const n=this.cart.find(s=>s.id===t);if(n){const s=n.quantity;n.quantity=e,r.addNotification({title:"Cart Updated",message:`Updated ${n.name} quantity from ${s} to ${e}`,type:"success",timeout:3e3})}}catch(n){console.error("Error updating quantity:",n),r.addNotification({title:"Error",message:"Failed to update item quantity",type:"error",timeout:5e3})}},async removeFromCart(t){const e=en();try{const r=this.cart.findIndex(n=>n.id===t);if(r>-1){const n=this.cart[r];this.cart.splice(r,1),e.addNotification({title:"Item Removed",message:`${n.name} has been removed from your cart`,type:"info",timeout:3e3})}}catch(r){console.error("Error removing from cart:",r),e.addNotification({title:"Error",message:"Failed to remove item from cart",type:"error",timeout:5e3})}},clearCart(){this.cart=[]}}}),Ye=t=>`KES ${t.toFixed(2)}`,oM="/assets/main-ZXFK6tAQ.css",aM="/assets/placeholder-k9fHw5HI.jpg",nE="/";function Pt(t){if(!t)return new URL("/assets/placeholder-k9fHw5HI.jpg",import.meta.url).href;if(t.startsWith("http"))return t;const e=t.startsWith("/")?t.substring(1):t;try{return new URL(Object.assign({"../assets/main.css":oM,"../assets/placeholder.jpg":aM})[`../assets/${e}`],import.meta.url).href}catch{return`${nE}${e}`}}function fn(t){if(!t)return null;if(t.startsWith("http"))return t;const e=t.startsWith("/")?t.substring(1):t;return`${nE}${e}`}const Yr=(t,e)=>{const r=t.__vccOpts||t;for(const[n,s]of e)r[n]=s;return r},lM={class:"group relative bg-light-primary dark:bg-dark-primary rounded-lg shadow hover:shadow-lg transition-all duration-300"},cM={class:"aspect-h-1 aspect-w-1 w-full overflow-hidden rounded-t-lg bg-light-neutral-100 dark:bg-dark-neutral-800"},uM=["src","alt"],dM={class:"p-4"},hM={class:"items-start"},fM={class:"text-light-text-primary dark:text-dark-text-primary text-lg font-medium hover:text-btn-primary"},pM={class:"text-light-text-secondary dark:text-dark-text-secondary text-sm"},mM={class:"mt-2 flex items-center justify-between"},gM={class:"text-lg font-medium text-purple-700 dark:text-accent-primary"},yM={class:"px-4 pb-4"},vM={__name:"ProductCard",props:{product:{type:Object,required:!0},processImageUrl:{type:Function,default:t=>t}},setup(t){const e=t,r=ao(),n=q(null),s=q(null),i=()=>{const d=Pt("placeholder.jpg");if(e.product.images&&e.product.images.length>0){const h=e.product.images[0];if(typeof h=="string")return o(h);if(h.main)return o(h.main);if(h.url)return o(h.url)}return e.product.image?o(e.product.image):e.product.imageUrl?o(e.product.imageUrl):d},o=d=>d?typeof d=="string"&&d.startsWith("base64://")?d.replace("base64://",""):d:null,a=d=>{console.error("Image failed to load:",d.target.src),d.target.src=Pt("placeholder.jpg"),d.target.onerror=function(){const h=d.target.parentNode;if(h){const f=document.createElement("div");f.innerHTML=`
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="100%" height="100%">
          <rect width="100%" height="100%" fill="#f0f0f0"/>
          <path d="M12 6v12M6 12h12" stroke="#aaa" stroke-width="2" stroke-linecap="round"/>
        </svg>
      `,f.className="broken-image",h.replaceChild(f,d.target)}}},c=async d=>{const h=event.target.getBoundingClientRect(),f=h.left+h.width/2,p=h.top+h.height/2,y=document.querySelector(".group-hover\\:text-gray-500")||document.querySelector('a[href="/cart"] svg');let b=window.innerWidth-60,w=20;if(y){const x=y.getBoundingClientRect();b=x.left+x.width/2,w=x.top+x.height/2}n.value=d,await ar(),s.value?(s.value.style.top=`${p}px`,s.value.style.left=`${f}px`,s.value.style.opacity="1",s.value.style.transform="scale(1)",setTimeout(()=>{s.value.style.top=`${w}px`,s.value.style.left=`${b}px`,s.value.style.opacity="0",s.value.style.transform="scale(0.3)"},50),setTimeout(()=>{r.addToCart(d,1),n.value=null},600)):r.addToCart(d,1)};return(d,h)=>{var p,y;const f=Rr("router-link");return O(),V("div",lM,[n.value?(O(),V("div",{key:0,class:"cart-animation fixed pointer-events-none z-50",ref_key:"cartAnimationEl",ref:s,style:St({backgroundImage:`url(${((p=n.value)==null?void 0:p.imageUrl)||((y=n.value)==null?void 0:y.image)})`})},null,4)):ce("",!0),z(f,{to:`/product/${t.product.id}`,class:"cursor-pointer block"},{default:Z(()=>[l("div",cM,[l("img",{src:i(),alt:t.product.name,class:"h-60 w-full object-cover object-center group-hover:opacity-90",onError:a},null,40,uM)]),l("div",dM,[l("div",hM,[l("h3",fM,W(t.product.name),1),l("p",pM,W(t.product.category),1),l("div",mM,[l("p",gM,W(H(Ye)(t.product.price)),1)])])])]),_:1},8,["to"]),l("div",yM,[l("button",{onClick:h[0]||(h[0]=b=>c(t.product)),class:"w-full bg-btn-primary hover:bg-btn-primary-hover active:bg-btn-primary-dark text-white py-2 rounded-btn shadow-btn hover:shadow-btn-hover transition-btn text-sm font-medium"}," Add to cart ")])])}}},sE=Yr(vM,[["__scopeId","data-v-3d7a655a"]]),bM={class:"min-h-screen bg-light-primary dark:bg-dark-primary"},xM={class:"relative overflow-hidden bg-light-secondary dark:bg-dark-secondary"},_M={class:"pt-16 pb-80 sm:pt-24 sm:pb-40 lg:pt-40 lg:pb-48"},wM={class:"relative mx-auto max-w-7xl px-4 sm:static sm:px-6 lg:px-8"},kM={class:"sm:max-w-lg fade-slide-up"},EM={class:"text-2xl sm:text-4xl font-bold tracking-tight text-light-text-primary dark:text-dark-text-primary"},IM={class:"animated-text-wrapper"},TM={class:"mt-6 block lg:hidden"},AM={class:"mt-10"},SM={class:"py-16 bg-light-primary dark:bg-dark-primary w-full"},CM={class:"w-full px-4 sm:px-6 lg:px-8 max-w-none mx-auto"},PM={class:"max-w-7xl mx-auto"},RM={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"},NM=["src","alt"],$M={class:"absolute inset-0 bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-300 flex flex-col justify-center items-center p-6"},OM={class:"text-center transform translate-y-8 opacity-0 group-hover:translate-y-0 group-hover:opacity-100 transition-all duration-500"},DM={class:"text-white text-2xl font-bold mb-2"},MM={class:"text-white text-sm mb-4"},VM={class:"bg-light-secondary dark:bg-dark-secondary py-16"},LM={class:"container mx-auto px-4"},FM={class:"flex justify-between items-center mb-10 fade-slide-up"},UM={key:0,class:"flex justify-center py-12"},jM={key:1,class:"text-center py-12"},BM={key:2,class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-6"},qM={class:"bg-light-secondary dark:bg-dark-secondary"},HM={class:"mx-auto grid max-w-2xl grid-cols-1 items-center gap-x-8 gap-y-16 px-4 py-24 sm:px-6 sm:py-32 lg:max-w-7xl lg:grid-cols-2 lg:px-8"},zM={class:"mt-16 grid grid-cols-1 gap-x-6 gap-y-10 sm:grid-cols-2 sm:gap-y-16 lg:gap-x-8"},WM={class:"font-medium text-light-text-primary dark:text-dark-text-primary"},KM={class:"mt-2 text-sm text-light-text-secondary dark:text-dark-text-secondary"},GM={class:"grid grid-cols-2 grid-rows-2 gap-4 sm:gap-6 lg:gap-8"},QM=["src"],YM=["src"],JM=["src"],XM=["src"],ZM={class:"relative py-16 overflow-hidden"},eV={class:"mx-auto max-w-2xl lg:max-w-7xl px-4 sm:px-6 lg:px-8"},tV={class:"bg-gradient-to-r from-accent-quaternary to-accent-secondary rounded-xl shadow-xl overflow-hidden"},rV={class:"relative py-10 px-6 md:px-10"},nV={class:"flex flex-col md:flex-row gap-8"},sV={class:"w-full md:w-1/2"},iV={class:"bg-white rounded-xl shadow-md p-6"},oV={class:"relative"},aV={class:"relative"},lV={class:"pt-2"},cV=["disabled"],uV={key:0,class:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},dV={__name:"HomeView",setup(t){const e=R=>R?typeof R=="string"&&R.startsWith("base64://")?R.replace("base64://",""):(typeof R=="string"&&R.includes("firebasestorage.googleapis.com"),R):"https://via.placeholder.com/300x300?text=No+Image",r=R=>{console.error("Image failed to load:",R.target.src),R.target.src=Pt("placeholder.jpg"),R.target.onerror=function(){const A=R.target.parentNode;if(A){const M=document.createElement("div");M.innerHTML=`
        <svg xmlns="http://www.w3.org/200/svg" viewBox="0 0 24 24" width="100%" height="100%">
          <rect width="100%" height="100%" fill="#f0f0f0"/>
          <path d="M12 6v12M6 12h12" stroke="#aaa" stroke-width="2" stroke-linecap="round"/>
        </svg>
      `,M.className="broken-image",A.replaceChild(M,R.target)}}},n=q([]),s=q([]),i=q([]),o=q(!0);ao();const a=q(null),c=q(null);q([{id:1,title:"Blog Post 1",excerpt:"Lorem ipsum dolor sit amet...",image:"https://via.placeholder.com/400x200?text=Blog+1"},{id:2,title:"Blog Post 2",excerpt:"Consectetur adipiscing elit...",image:"https://via.placeholder.com/400x200?text=Blog+2"},{id:3,title:"Blog Post 3",excerpt:"Sed do eiusmod tempor...",image:"https://via.placeholder.com/400x200?text=Blog+3"}]);const d=[{name:"Materials",description:"Premium glass beads, natural gemstones, and sterling silver components"},{name:"Craftsmanship",description:"Each piece handcrafted by skilled artisans using traditional techniques"},{name:"Customization",description:"Available in various sizes, colors, and custom designs upon request"},{name:"Durability",description:"Double-knotted silk thread and reinforced clasps for everyday wear"},{name:"Care",description:"Store in provided pouch, avoid water exposure, and clean with soft dry cloth"},{name:"Sustainability",description:"Ethically sourced materials and eco-friendly packaging"}],h=q([{name:"Rings",description:"Exquisite engagement rings, wedding bands, and statement pieces crafted with precision and passion.",image:fn("images/Golden Green.jpeg"),category:"rings"},{name:"Necklaces",description:"Elegant pendants and chains designed to complement any outfit and occasion.",image:fn("images/Neeon Moon.jpeg"),category:"necklaces"},{name:"Earrings",description:"From subtle studs to dramatic drops, find the perfect accent for your personal style.",image:fn("images/Auqa Sand.jpeg"),category:"earrings"},{name:"Bracelets",description:"Add sparkle to your wrist with our selection of charm bracelets, bangles, and cuffs.",image:fn("images/Golden black.jpeg"),category:"bracelets"},{name:"Keyholders",description:"Stylish and functional keyholders featuring elegant beadwork and durable design.",image:fn("images/Neeon Moon 2.jpeg"),category:"keyholders"},{name:"Custom Collection",description:"Exclusive high-end pieces for those special moments that deserve extraordinary jewelry.",image:fn("images/Neeon Moon 3.jpeg"),category:"Custom"}]);function f(){return[{id:"fallback-1",name:"Diamond Ring",category:"rings",price:1299.99,imageUrl:"https://images.unsplash.com/photo-1605100804763-247f67b3557e?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:"fallback-2",name:"Pearl Necklace",category:"necklaces",price:499.99,imageUrl:"https://images.unsplash.com/photo-1608043152269-423dbba4e7e1?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:"fallback-3",name:"Gold Earrings",category:"earrings",price:299.99,imageUrl:"https://images.unsplash.com/photo-1610694955371-d4a3f5146182?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"},{id:"fallback-4",name:"Silver Bracelet",category:"bracelets",price:199.99,imageUrl:"https://images.unsplash.com/photo-1602173574767-37ac01994b2c?ixlib=rb-1.2.1&auto=format&fit=crop&w=800&q=80"}]}Ue(async()=>{try{let R;try{const A=await p();A.length>0?(console.log("Loaded products from Firestore:",A.length),R=A):(console.log("No products in Firestore, using service fallback"),R=await Fe.getProducts())}catch(A){console.warn("Firebase fetch failed, using mock data:",A),R=await Co.getProducts()}(!R||R.length===0)&&(console.warn("No products found in any source, using fallback data"),R=f()),console.log("Total products loaded:",R.length),n.value=R.slice(0,4),s.value=R.slice(4,8),i.value=R.filter(A=>A.featured||Math.random()>.5).slice(0,8)}catch(R){console.error("Error loading products:",R),i.value=f()}finally{o.value=!1}});const p=async()=>{try{if(!Fe.getFirestore())return[];const A=Fe.getCollection("products"),M=await Fe.getDocuments(A);return M.empty?[]:M.docs.map(T=>{const v=T.data();return{id:T.id,...v,name:v.name||"Unnamed Product",price:v.price||0,category:v.category||"Uncategorized",description:v.description||"",images:v.images||[],image:v.images&&v.images.length>0?v.images[0].startsWith("base64://")?v.images[0].replace("base64://",""):v.images[0]:"https://via.placeholder.com/300x300?text=No+Image"}})}catch(R){return console.error("Error loading products from Firestore:",R),[]}},y=q({name:"",email:"",loading:!1,success:!1,message:""}),b=async()=>{if(y.value.email){y.value.loading=!0,y.value.message="";try{const R=await Fe.subscribeToNewsletter(y.value.email,y.value.name);y.value.success=R.success,y.value.message=R.message||"Thank you for subscribing to our newsletter!",R.success&&(y.value.name="",y.value.email="")}catch(R){console.error("Error subscribing to newsletter:",R),y.value.success=!1,y.value.message="Failed to subscribe. Please try again later."}finally{y.value.loading=!1}}},w=q(0),x=["That Elevates Style","With Timeless Beauty","For Every Moment","That Tells Stories","With Perfect Detail","For Your Journey"];Ue(()=>{setInterval(()=>{w.value=(w.value+1)%x.length},3e3),window.addEventListener("scroll",E)}),ui(()=>{window.removeEventListener("scroll",E)});const I=q(!1),C=()=>{window.scrollTo({top:0,behavior:"smooth"})},E=()=>{I.value=window.scrollY>500};return(R,A)=>{var T,v;const M=Rr("router-link");return O(),V("div",bM,[a.value?(O(),V("div",{key:0,class:"cart-animation fixed pointer-events-none z-50",ref_key:"cartAnimationEl",ref:c,style:St({backgroundImage:`url(${((T=a.value)==null?void 0:T.image)||((v=a.value)==null?void 0:v.imageUrl)||H(Pt)("placeholder.jpg")})`})},null,4)):ce("",!0),xe(l("button",{onClick:C,class:"scroll-to-top-btn fixed bottom-6 right-6 bg-accent-primary hover:bg-accent-secondary text-white rounded-full w-12 h-12 flex items-center justify-center shadow-lg transition-all duration-300 z-50","aria-label":"Scroll to top"},A[2]||(A[2]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",class:"w-6 h-6"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 10l7-7m0 0l7 7m-7-7v18"})],-1)]),512),[[tm,I.value]]),l("div",xM,[l("div",_M,[l("div",wM,[l("div",kM,[l("h1",EM,[A[3]||(A[3]=he(" Discover Handcrafted Jewelry ")),l("span",IM,[(O(),V(Ee,null,He(x,(m,k)=>l("span",{key:m,class:Ce(["animated-text-item",{active:w.value===k}])},W(m),3)),64))])]),A[5]||(A[5]=l("p",{class:"mt-4 text-xl text-light-text-secondary dark:text-dark-text-secondary"},"Our handcrafted beaded jewelry pieces combine artistry and elegance, adding the perfect colorful accent to enhance any outfit.",-1)),l("div",TM,[z(M,{to:"/products",class:"inline-block rounded-md border border-transparent bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark px-8 py-3 text-center font-medium text-white"},{default:Z(()=>A[4]||(A[4]=[he("Shop Collection")])),_:1})])]),l("div",null,[l("div",AM,[A[7]||(A[7]=wt('<div aria-hidden="true" class="pointer-events-none lg:absolute lg:inset-y-0 lg:mx-auto lg:w-full lg:max-w-7xl" data-v-cb77d531><div class="absolute transform sm:top-0 sm:left-1/2 sm:translate-x-8 lg:top-1/2 lg:left-1/2 lg:-translate-y-1/2 lg:translate-x-8" data-v-cb77d531><div class="flex items-center justify-center space-x-3 sm:space-x-6 lg:space-x-8 overflow-hidden w-full max-w-screen-sm mx-auto px-4 sm:px-0" data-v-cb77d531><div class="scroll-container w-1/2 sm:w-auto max-w-[45vw] sm:max-w-none" data-v-cb77d531><div class="scroll-content scroll-up" data-v-cb77d531><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-01.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-02.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-03.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-04.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-01.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-02.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-03.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-04.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div></div></div><div class="scroll-container w-1/2 sm:w-auto" data-v-cb77d531><div class="scroll-content scroll-down" data-v-cb77d531><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-04.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-05.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-06.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-07.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-04.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-05.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-06.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-07.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div></div></div><div class="scroll-container hidden sm:block" data-v-cb77d531><div class="scroll-content scroll-up-slow" data-v-cb77d531><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-01.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-02.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-03.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-06.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-01.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-02.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-03.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div><div class="h-64 w-full overflow-hidden rounded-lg product-image-container" data-v-cb77d531><img src="https://tailwindcss.com/plus-assets/img/ecommerce-images/home-page-03-hero-image-tile-06.jpg" alt="" class="w-full h-full object-cover" data-v-cb77d531></div></div></div></div></div></div>',1)),z(M,{to:"/products",class:"hidden lg:inline-block rounded-md border border-transparent bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark px-8 py-3 text-center font-medium text-white"},{default:Z(()=>A[6]||(A[6]=[he("Shop Collection")])),_:1})])])])])]),l("section",SM,[A[9]||(A[9]=l("div",{class:"text-center mb-12 fade-slide-up"},[l("h2",{class:"text-3xl font-bold text-light-text-primary dark:text-dark-text-primary"},"Our Collections")],-1)),l("div",CM,[l("div",PM,[l("div",RM,[(O(!0),V(Ee,null,He(h.value,(m,k)=>(O(),V("div",{key:m.name,class:"collection-card relative overflow-hidden rounded-lg shadow-lg group h-80 fade-slide-up",style:St({animationDelay:k*100+"ms"})},[l("img",{src:e(m.image),alt:m.name,class:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110",onError:r},null,40,NM),l("div",$M,[l("div",OM,[l("h3",DM,W(m.name),1),l("p",MM,W(m.description),1),z(M,{to:`/products?category=${m.category}`,class:"inline-block bg-btn-primary hover:bg-btn-primary-hover text-white font-semibold py-2 px-4 rounded-md transition duration-300"},{default:Z(()=>A[8]||(A[8]=[he(" View Collection ")])),_:2},1032,["to"])])])],4))),128))])])])]),l("section",VM,[l("div",LM,[l("div",FM,[A[11]||(A[11]=l("h2",{class:"text-3xl font-bold text-light-text-primary dark:text-dark-text-primary"},"Featured Products",-1)),z(M,{to:"/products",class:"text-btn-primary hover:text-accent-secondary font-medium"},{default:Z(()=>A[10]||(A[10]=[he(" View all products "),l("span",{"aria-hidden":"true"},"→",-1)])),_:1})]),o.value?(O(),V("div",UM,A[12]||(A[12]=[l("div",{class:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-accent-primary"},null,-1)]))):i.value.length===0?(O(),V("div",jM,A[13]||(A[13]=[l("p",{class:"text-light-neutral-600 dark:text-dark-neutral-600"},"No products found. Please check back later.",-1)]))):(O(),V("div",BM,[(O(!0),V(Ee,null,He(i.value,(m,k)=>(O(),V("div",{key:m.id,class:"relative fade-slide-up",style:St({animationDelay:k*100+"ms"})},[z(sE,{product:m,processImageUrl:e},null,8,["product"])],4))),128))]))])]),l("section",qM,[l("div",HM,[l("div",null,[A[14]||(A[14]=l("h2",{class:"text-3xl font-bold tracking-tight text-light-text-primary dark:text-dark-text-primary sm:text-4xl"},"Craftsmanship Details",-1)),A[15]||(A[15]=l("p",{class:"mt-4 text-light-text-secondary dark:text-dark-text-secondary"},"Our handcrafted beaded jewelry combines traditional techniques with modern design. Each piece is meticulously created using premium materials, ensuring both beauty and durability for everyday wear.",-1)),l("dl",zM,[(O(),V(Ee,null,He(d,m=>l("div",{key:m.name,class:"border-t border-light-neutral-300 dark:border-dark-neutral-700 pt-4"},[l("dt",WM,W(m.name),1),l("dd",KM,W(m.description),1)])),64))])]),l("div",GM,[l("img",{src:H(fn)("images/Auqa Sand.jpeg"),alt:"Close-up of beaded bracelet showing intricate pattern work.",class:"rounded-lg bg-light-neutral-100 dark:bg-dark-neutral-800",onError:r},null,40,QM),l("img",{src:H(fn)("images/Golden black.jpeg"),alt:"Detail view of beaded necklace clasp and finishing.",class:"rounded-lg bg-light-neutral-100 dark:bg-dark-neutral-800",onError:r},null,40,YM),l("img",{src:H(fn)("images/Golden Green.jpeg"),alt:"Arrangement of colorful beads used in our jewelry collection.",class:"rounded-lg bg-light-neutral-100 dark:bg-dark-neutral-800",onError:r},null,40,JM),l("img",{src:H(fn)("images/Neeon Moon 3.jpeg"),alt:"Handcrafting process showing artisan creating a beaded piece.",class:"rounded-lg bg-light-neutral-100 dark:bg-dark-neutral-800",onError:r},null,40,XM)])])]),l("section",ZM,[l("div",eV,[l("div",tV,[A[22]||(A[22]=l("div",{class:"absolute inset-0 opacity-10"},[l("div",{class:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmZmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48cGF0aCBkPSJNMzYgMzRjMC0yLjIgMS44LTQgNC00czQgMS44IDQgNC0xLjggNC00IDQtNC0xLjgtNC00TTAgMGg0djRIMHoiLz48L2c+PC9nPjwvZz48L2c+PC9nPjwvZz48L2c+PC9nPjwvZz48L2c+PC9nPjwvZz48L2c+PC9nPjwvZz48L3N2Zz4=')]"})],-1)),l("div",rV,[l("div",nV,[A[21]||(A[21]=wt('<div class="w-full md:w-1/2 text-white" data-v-cb77d531><span class="inline-block px-3 py-1 bg-white bg-opacity-20 rounded-full text-sm font-semibold mb-4" data-v-cb77d531> Stay Connected </span><h3 class="text-2xl md:text-3xl font-bold mb-4" data-v-cb77d531>Join Our Jewelry Community</h3><p class="text-white text-opacity-90 mb-6" data-v-cb77d531> Subscribe to receive updates on new collections, exclusive offers, and styling tips. </p><div class="flex flex-wrap gap-4 mb-6" data-v-cb77d531><div class="flex items-center" data-v-cb77d531><div class="flex-shrink-0 mr-2" data-v-cb77d531><svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20" data-v-cb77d531><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" data-v-cb77d531></path></svg></div><p class="text-sm" data-v-cb77d531>Early access to sales</p></div><div class="flex items-center" data-v-cb77d531><div class="flex-shrink-0 mr-2" data-v-cb77d531><svg class="w-5 h-5 text-white" fill="currentColor" viewBox="0 0 20 20" data-v-cb77d531><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" data-v-cb77d531></path></svg></div><p class="text-sm" data-v-cb77d531>Exclusive offers</p></div></div></div>',1)),l("div",sV,[l("div",iV,[l("form",{onSubmit:Ar(b,["prevent"]),class:"space-y-4"},[A[19]||(A[19]=l("h4",{class:"text-gray-800 text-xl font-semibold mb-4"},"Subscribe to our newsletter",-1)),l("div",null,[A[16]||(A[16]=l("label",{for:"fullName",class:"block text-sm font-medium leading-6 text-light-text-primary dark:text-dark-text-primary mb-2"},"Full Name",-1)),l("div",oV,[xe(l("input",{type:"text",id:"fullName","onUpdate:modelValue":A[0]||(A[0]=m=>y.value.name=m),placeholder:"Enter your name",class:"block w-full rounded-lg bg-light-secondary dark:bg-dark-secondary border-0 px-4 py-3 text-light-text-primary dark:text-dark-text-primary shadow-sm ring-1 ring-inset ring-light-neutral-300 dark:ring-dark-neutral-700 placeholder:text-light-neutral-400 dark:placeholder:text-dark-neutral-400 focus:ring-2 focus:ring-accent-primary focus:outline-none transition-all duration-200 sm:text-sm"},null,512),[[Pe,y.value.name]])])]),l("div",null,[A[17]||(A[17]=l("label",{for:"email",class:"block text-sm font-medium leading-6 text-light-text-primary dark:text-dark-text-primary mb-2"},"Email Address",-1)),l("div",aV,[xe(l("input",{type:"email",id:"email","onUpdate:modelValue":A[1]||(A[1]=m=>y.value.email=m),required:"",placeholder:"Enter your email",class:"block w-full rounded-lg bg-light-secondary dark:bg-dark-secondary border-0 px-4 py-3 text-light-text-primary dark:text-dark-text-primary shadow-sm ring-1 ring-inset ring-light-neutral-300 dark:ring-dark-neutral-700 placeholder:text-light-neutral-400 dark:placeholder:text-dark-neutral-400 focus:ring-2 focus:ring-accent-primary focus:outline-none transition-all duration-200 sm:text-sm"},null,512),[[Pe,y.value.email]])])]),l("div",lV,[l("button",{type:"submit",class:"inline-flex items-center justify-center rounded-lg bg-orange-500 px-6 py-3 w-full text-sm font-semibold text-white shadow-sm hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200",disabled:y.value.loading},[y.value.loading?(O(),V("svg",uV,A[18]||(A[18]=[l("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),l("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):ce("",!0),l("span",null,W(y.value.loading?"Subscribing...":"Subscribe Now"),1)],8,cV)]),y.value.message?(O(),V("p",{key:0,class:Ce([{"text-green-600":y.value.success,"text-red-600":!y.value.success},"text-sm mt-2 text-center"])},W(y.value.message),3)):ce("",!0),A[20]||(A[20]=l("p",{class:"text-xs text-gray-500 text-center mt-4"}," By subscribing, you agree to our Privacy Policy. ",-1))],32)])])])])])])])])}}},$b=Yr(dV,[["__scopeId","data-v-cb77d531"]]),hV=(t,e,r)=>{var s,i;const n=kn();if(console.log("Checking admin status:",{user:n.user,isAdmin:(s=n.user)==null?void 0:s.isAdmin,authenticated:n.isAuthenticated}),!n.isAuthenticated||!((i=n.user)!=null&&i.isAdmin)){console.log("Access denied: User is not admin"),r("/login");return}r()};function fV(t,e,r){let n=q(r==null?void 0:r.value),s=ee(()=>t.value!==void 0);return[ee(()=>s.value?t.value:n.value),function(i){return s.value||(n.value=i),e==null?void 0:e(i)}]}function nh(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function lc(){let t=[],e={addEventListener(r,n,s,i){return r.addEventListener(n,s,i),e.add(()=>r.removeEventListener(n,s,i))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);e.add(()=>cancelAnimationFrame(n))},nextFrame(...r){e.requestAnimationFrame(()=>{e.requestAnimationFrame(...r)})},setTimeout(...r){let n=setTimeout(...r);e.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return nh(()=>{n.current&&r[0]()}),e.add(()=>{n.current=!1})},style(r,n,s){let i=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:s}),this.add(()=>{Object.assign(r.style,{[n]:i})})},group(r){let n=lc();return r(n),this.add(()=>n.dispose())},add(r){return t.push(r),()=>{let n=t.indexOf(r);if(n>=0)for(let s of t.splice(n,1))s()}},dispose(){for(let r of t.splice(0))r()}};return e}var Ob;let pV=Symbol("headlessui.useid"),mV=0;const _n=(Ob=B1)!=null?Ob:function(){return ot(pV,()=>`${++mV}`)()};function Ae(t){var e;if(t==null||t.value==null)return null;let r=(e=t.value.$el)!=null?e:t.value;return r instanceof Node?r:null}function cr(t,e,...r){if(t in e){let s=e[t];return typeof s=="function"?s(...r):s}let n=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(s=>`"${s}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,cr),n}var gV=Object.defineProperty,yV=(t,e,r)=>e in t?gV(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Db=(t,e,r)=>(yV(t,typeof e!="symbol"?e+"":e,r),r);let vV=class{constructor(){Db(this,"current",this.detect()),Db(this,"currentId",0)}set(e){this.current!==e&&(this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},cc=new vV;function ws(t){if(cc.isServer)return null;if(t instanceof Node)return t.ownerDocument;if(t!=null&&t.hasOwnProperty("value")){let e=Ae(t);if(e)return e.ownerDocument}return document}let _p=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Bt=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t))(Bt||{}),Po=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(Po||{}),bV=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(bV||{});function iE(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(_p)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var Pg=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(Pg||{});function Rg(t,e=0){var r;return t===((r=ws(t))==null?void 0:r.body)?!1:cr(e,{0(){return t.matches(_p)},1(){let n=t;for(;n!==null;){if(n.matches(_p))return!0;n=n.parentElement}return!1}})}function oE(t){let e=ws(t);ar(()=>{e&&!Rg(e.activeElement,0)&&ti(t)})}var xV=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(xV||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function ti(t){t==null||t.focus({preventScroll:!0})}let _V=["textarea","input"].join(",");function wV(t){var e,r;return(r=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,_V))!=null?r:!1}function Ii(t,e=r=>r){return t.slice().sort((r,n)=>{let s=e(r),i=e(n);if(s===null||i===null)return 0;let o=s.compareDocumentPosition(i);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function kV(t,e){return In(iE(),e,{relativeTo:t})}function In(t,e,{sorted:r=!0,relativeTo:n=null,skipElements:s=[]}={}){var i;let o=(i=Array.isArray(t)?t.length>0?t[0].ownerDocument:document:t==null?void 0:t.ownerDocument)!=null?i:document,a=Array.isArray(t)?r?Ii(t):t:iE(t);s.length>0&&a.length>1&&(a=a.filter(b=>!s.includes(b))),n=n??o.activeElement;let c=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),d=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,a.indexOf(n))-1;if(e&4)return Math.max(0,a.indexOf(n))+1;if(e&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),h=e&32?{preventScroll:!0}:{},f=0,p=a.length,y;do{if(f>=p||f+p<=0)return 0;let b=d+f;if(e&16)b=(b+p)%p;else{if(b<0)return 3;if(b>=p)return 1}y=a[b],y==null||y.focus(h),f+=c}while(y!==o.activeElement);return e&6&&wV(y)&&y.select(),2}function aE(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function EV(){return/Android/gi.test(window.navigator.userAgent)}function IV(){return aE()||EV()}function Kc(t,e,r){cc.isServer||ur(n=>{document.addEventListener(t,e,r),n(()=>document.removeEventListener(t,e,r))})}function lE(t,e,r){cc.isServer||ur(n=>{window.addEventListener(t,e,r),n(()=>window.removeEventListener(t,e,r))})}function cE(t,e,r=ee(()=>!0)){function n(i,o){if(!r.value||i.defaultPrevented)return;let a=o(i);if(a===null||!a.getRootNode().contains(a))return;let c=function d(h){return typeof h=="function"?d(h()):Array.isArray(h)||h instanceof Set?h:[h]}(t);for(let d of c){if(d===null)continue;let h=d instanceof HTMLElement?d:Ae(d);if(h!=null&&h.contains(a)||i.composed&&i.composedPath().includes(h))return}return!Rg(a,Pg.Loose)&&a.tabIndex!==-1&&i.preventDefault(),e(i,a)}let s=q(null);Kc("pointerdown",i=>{var o,a;r.value&&(s.value=((a=(o=i.composedPath)==null?void 0:o.call(i))==null?void 0:a[0])||i.target)},!0),Kc("mousedown",i=>{var o,a;r.value&&(s.value=((a=(o=i.composedPath)==null?void 0:o.call(i))==null?void 0:a[0])||i.target)},!0),Kc("click",i=>{IV()||s.value&&(n(i,()=>s.value),s.value=null)},!0),Kc("touchend",i=>n(i,()=>i.target instanceof HTMLElement?i.target:null),!0),lE("blur",i=>n(i,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}function Mb(t,e){if(t)return t;let r=e??"button";if(typeof r=="string"&&r.toLowerCase()==="button")return"button"}function sh(t,e){let r=q(Mb(t.value.type,t.value.as));return Ue(()=>{r.value=Mb(t.value.type,t.value.as)}),ur(()=>{var n;r.value||Ae(e)&&Ae(e)instanceof HTMLButtonElement&&!((n=Ae(e))!=null&&n.hasAttribute("type"))&&(r.value="button")}),r}function Vb(t){return[t.screenX,t.screenY]}function TV(){let t=q([-1,-1]);return{wasMoved(e){let r=Vb(e);return t.value[0]===r[0]&&t.value[1]===r[1]?!1:(t.value=r,!0)},update(e){t.value=Vb(e)}}}function AV({container:t,accept:e,walk:r,enabled:n}){ur(()=>{let s=t.value;if(!s||n!==void 0&&!n.value)return;let i=ws(t);if(!i)return;let o=Object.assign(c=>e(c),{acceptNode:e}),a=i.createTreeWalker(s,NodeFilter.SHOW_ELEMENT,o,!1);for(;a.nextNode();)r(a.currentNode)})}var zn=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(zn||{}),Ks=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Ks||{});function $t({visible:t=!0,features:e=0,ourProps:r,theirProps:n,...s}){var i;let o=dE(n,r),a=Object.assign(s,{props:o});if(t||e&2&&o.static)return df(a);if(e&1){let c=(i=o.unmount)==null||i?0:1;return cr(c,{0(){return null},1(){return df({...s,props:{...o,hidden:!0,style:{display:"none"}}})}})}return df(a)}function df({props:t,attrs:e,slots:r,slot:n,name:s}){var i,o;let{as:a,...c}=ih(t,["unmount","static"]),d=(i=r.default)==null?void 0:i.call(r,n),h={};if(n){let f=!1,p=[];for(let[y,b]of Object.entries(n))typeof b=="boolean"&&(f=!0),b===!0&&p.push(y);f&&(h["data-headlessui-state"]=p.join(" "))}if(a==="template"){if(d=uE(d??[]),Object.keys(c).length>0||Object.keys(e).length>0){let[f,...p]=d??[];if(!CV(f)||p.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${s} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(c).concat(Object.keys(e)).map(w=>w.trim()).filter((w,x,I)=>I.indexOf(w)===x).sort((w,x)=>w.localeCompare(x)).map(w=>`  - ${w}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(w=>`  - ${w}`).join(`
`)].join(`
`));let y=dE((o=f.props)!=null?o:{},c,h),b=Pn(f,y,!0);for(let w in y)w.startsWith("on")&&(b.props||(b.props={}),b.props[w]=y[w]);return b}return Array.isArray(d)&&d.length===1?d[0]:d}return vt(a,Object.assign({},c,h),{default:()=>d})}function uE(t){return t.flatMap(e=>e.type===Ee?uE(e.children):[e])}function dE(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let s in n)s.startsWith("on")&&typeof n[s]=="function"?(r[s]!=null||(r[s]=[]),r[s].push(n[s])):e[s]=n[s];if(e.disabled||e["aria-disabled"])return Object.assign(e,Object.fromEntries(Object.keys(r).map(n=>[n,void 0])));for(let n in r)Object.assign(e,{[n](s,...i){let o=r[n];for(let a of o){if(s instanceof Event&&s.defaultPrevented)return;a(s,...i)}}});return e}function SV(t){let e=Object.assign({},t);for(let r in e)e[r]===void 0&&delete e[r];return e}function ih(t,e=[]){let r=Object.assign({},t);for(let n of e)n in r&&delete r[n];return r}function CV(t){return t==null?!1:typeof t.type=="string"||typeof t.type=="object"||typeof t.type=="function"}var sa=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(sa||{});let ia=Ze({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(t,{slots:e,attrs:r}){return()=>{var n;let{features:s,...i}=t,o={"aria-hidden":(s&2)===2?!0:(n=i["aria-hidden"])!=null?n:void 0,hidden:(s&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(s&4)===4&&(s&2)!==2&&{display:"none"}}};return $t({ourProps:o,theirProps:i,slot:{},attrs:r,slots:e,name:"Hidden"})}}}),hE=Symbol("Context");var Lt=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Lt||{});function PV(){return uc()!==null}function uc(){return ot(hE,null)}function Ng(t){zt(hE,t)}var Xe=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(Xe||{});function RV(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Ti=[];RV(()=>{function t(e){e.target instanceof HTMLElement&&e.target!==document.body&&Ti[0]!==e.target&&(Ti.unshift(e.target),Ti=Ti.filter(r=>r!=null&&r.isConnected),Ti.splice(10))}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function NV(t){throw new Error("Unexpected object: "+t)}var nn=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(nn||{});function $V(t,e){let r=e.resolveItems();if(r.length<=0)return null;let n=e.resolveActiveIndex(),s=n??-1;switch(t.focus){case 0:{for(let i=0;i<r.length;++i)if(!e.resolveDisabled(r[i],i,r))return i;return n}case 1:{s===-1&&(s=r.length);for(let i=s-1;i>=0;--i)if(!e.resolveDisabled(r[i],i,r))return i;return n}case 2:{for(let i=s+1;i<r.length;++i)if(!e.resolveDisabled(r[i],i,r))return i;return n}case 3:{for(let i=r.length-1;i>=0;--i)if(!e.resolveDisabled(r[i],i,r))return i;return n}case 4:{for(let i=0;i<r.length;++i)if(e.resolveId(r[i],i,r)===t.id)return i;return n}case 5:return null;default:NV(t)}}function OV(t){var e,r;let n=(e=t==null?void 0:t.form)!=null?e:t.closest("form");if(n){for(let s of n.elements)if(s!==t&&(s.tagName==="INPUT"&&s.type==="submit"||s.tagName==="BUTTON"&&s.type==="submit"||s.nodeName==="INPUT"&&s.type==="image")){s.click();return}(r=n.requestSubmit)==null||r.call(n)}}function fE(t,e,r,n){cc.isServer||ur(s=>{t=t??window,t.addEventListener(e,r,n),s(()=>t.removeEventListener(e,r,n))})}var za=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(za||{});function DV(){let t=q(0);return lE("keydown",e=>{e.key==="Tab"&&(t.value=e.shiftKey?1:0)}),t}function pE(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let r of t.value){let n=Ae(r);n instanceof HTMLElement&&e.add(n)}return e}var mE=(t=>(t[t.None=1]="None",t[t.InitialFocus=2]="InitialFocus",t[t.TabLock=4]="TabLock",t[t.FocusLock=8]="FocusLock",t[t.RestoreFocus=16]="RestoreFocus",t[t.All=30]="All",t))(mE||{});let Oa=Object.assign(Ze({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:q(new Set)}},inheritAttrs:!1,setup(t,{attrs:e,slots:r,expose:n}){let s=q(null);n({el:s,$el:s});let i=ee(()=>ws(s)),o=q(!1);Ue(()=>o.value=!0),Kt(()=>o.value=!1),VV({ownerDocument:i},ee(()=>o.value&&!!(t.features&16)));let a=LV({ownerDocument:i,container:s,initialFocus:ee(()=>t.initialFocus)},ee(()=>o.value&&!!(t.features&2)));FV({ownerDocument:i,container:s,containers:t.containers,previousActiveElement:a},ee(()=>o.value&&!!(t.features&8)));let c=DV();function d(y){let b=Ae(s);b&&(w=>w())(()=>{cr(c.value,{[za.Forwards]:()=>{In(b,Bt.First,{skipElements:[y.relatedTarget]})},[za.Backwards]:()=>{In(b,Bt.Last,{skipElements:[y.relatedTarget]})}})})}let h=q(!1);function f(y){y.key==="Tab"&&(h.value=!0,requestAnimationFrame(()=>{h.value=!1}))}function p(y){if(!o.value)return;let b=pE(t.containers);Ae(s)instanceof HTMLElement&&b.add(Ae(s));let w=y.relatedTarget;w instanceof HTMLElement&&w.dataset.headlessuiFocusGuard!=="true"&&(gE(b,w)||(h.value?In(Ae(s),cr(c.value,{[za.Forwards]:()=>Bt.Next,[za.Backwards]:()=>Bt.Previous})|Bt.WrapAround,{relativeTo:y.target}):y.target instanceof HTMLElement&&ti(y.target)))}return()=>{let y={},b={ref:s,onKeydown:f,onFocusout:p},{features:w,initialFocus:x,containers:I,...C}=t;return vt(Ee,[!!(w&4)&&vt(ia,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:sa.Focusable}),$t({ourProps:b,theirProps:{...e,...C},slot:y,attrs:e,slots:r,name:"FocusTrap"}),!!(w&4)&&vt(ia,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:d,features:sa.Focusable})])}}}),{features:mE});function MV(t){let e=q(Ti.slice());return Rt([t],([r],[n])=>{n===!0&&r===!1?nh(()=>{e.value.splice(0)}):n===!1&&r===!0&&(e.value=Ti.slice())},{flush:"post"}),()=>{var r;return(r=e.value.find(n=>n!=null&&n.isConnected))!=null?r:null}}function VV({ownerDocument:t},e){let r=MV(e);Ue(()=>{ur(()=>{var n,s;e.value||((n=t.value)==null?void 0:n.activeElement)===((s=t.value)==null?void 0:s.body)&&ti(r())},{flush:"post"})}),Kt(()=>{e.value&&ti(r())})}function LV({ownerDocument:t,container:e,initialFocus:r},n){let s=q(null),i=q(!1);return Ue(()=>i.value=!0),Kt(()=>i.value=!1),Ue(()=>{Rt([e,r,n],(o,a)=>{if(o.every((d,h)=>(a==null?void 0:a[h])===d)||!n.value)return;let c=Ae(e);c&&nh(()=>{var d,h;if(!i.value)return;let f=Ae(r),p=(d=t.value)==null?void 0:d.activeElement;if(f){if(f===p){s.value=p;return}}else if(c.contains(p)){s.value=p;return}f?ti(f):In(c,Bt.First|Bt.NoScroll)===Po.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),s.value=(h=t.value)==null?void 0:h.activeElement})},{immediate:!0,flush:"post"})}),s}function FV({ownerDocument:t,container:e,containers:r,previousActiveElement:n},s){var i;fE((i=t.value)==null?void 0:i.defaultView,"focus",o=>{if(!s.value)return;let a=pE(r);Ae(e)instanceof HTMLElement&&a.add(Ae(e));let c=n.value;if(!c)return;let d=o.target;d&&d instanceof HTMLElement?gE(a,d)?(n.value=d,ti(d)):(o.preventDefault(),o.stopPropagation(),ti(c)):ti(n.value)},!0)}function gE(t,e){for(let r of t)if(r.contains(e))return!0;return!1}function UV(t){let e=md(t.getSnapshot());return Kt(t.subscribe(()=>{e.value=t.getSnapshot()})),e}function jV(t,e){let r=t(),n=new Set;return{getSnapshot(){return r},subscribe(s){return n.add(s),()=>n.delete(s)},dispatch(s,...i){let o=e[s].call(r,...i);o&&(r=o,n.forEach(a=>a()))}}}function BV(){let t;return{before({doc:e}){var r;let n=e.documentElement;t=((r=e.defaultView)!=null?r:window).innerWidth-n.clientWidth},after({doc:e,d:r}){let n=e.documentElement,s=n.clientWidth-n.offsetWidth,i=t-s;r.style(n,"paddingRight",`${i}px`)}}}function qV(){return aE()?{before({doc:t,d:e,meta:r}){function n(s){return r.containers.flatMap(i=>i()).some(i=>i.contains(s))}e.microTask(()=>{var s;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let a=lc();a.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>a.dispose()))}let i=(s=window.scrollY)!=null?s:window.pageYOffset,o=null;e.addEventListener(t,"click",a=>{if(a.target instanceof HTMLElement)try{let c=a.target.closest("a");if(!c)return;let{hash:d}=new URL(c.href),h=t.querySelector(d);h&&!n(h)&&(o=h)}catch{}},!0),e.addEventListener(t,"touchstart",a=>{if(a.target instanceof HTMLElement)if(n(a.target)){let c=a.target;for(;c.parentElement&&n(c.parentElement);)c=c.parentElement;e.style(c,"overscrollBehavior","contain")}else e.style(a.target,"touchAction","none")}),e.addEventListener(t,"touchmove",a=>{if(a.target instanceof HTMLElement){if(a.target.tagName==="INPUT")return;if(n(a.target)){let c=a.target;for(;c.parentElement&&c.dataset.headlessuiPortal!==""&&!(c.scrollHeight>c.clientHeight||c.scrollWidth>c.clientWidth);)c=c.parentElement;c.dataset.headlessuiPortal===""&&a.preventDefault()}else a.preventDefault()}},{passive:!1}),e.add(()=>{var a;let c=(a=window.scrollY)!=null?a:window.pageYOffset;i!==c&&window.scrollTo(0,i),o&&o.isConnected&&(o.scrollIntoView({block:"nearest"}),o=null)})})}}:{}}function HV(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function zV(t){let e={};for(let r of t)Object.assign(e,r(e));return e}let Ri=jV(()=>new Map,{PUSH(t,e){var r;let n=(r=this.get(t))!=null?r:{doc:t,count:0,d:lc(),meta:new Set};return n.count++,n.meta.add(e),this.set(t,n),this},POP(t,e){let r=this.get(t);return r&&(r.count--,r.meta.delete(e)),this},SCROLL_PREVENT({doc:t,d:e,meta:r}){let n={doc:t,d:e,meta:zV(r)},s=[qV(),BV(),HV()];s.forEach(({before:i})=>i==null?void 0:i(n)),s.forEach(({after:i})=>i==null?void 0:i(n))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});Ri.subscribe(()=>{let t=Ri.getSnapshot(),e=new Map;for(let[r]of t)e.set(r,r.documentElement.style.overflow);for(let r of t.values()){let n=e.get(r.doc)==="hidden",s=r.count!==0;(s&&!n||!s&&n)&&Ri.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&Ri.dispatch("TEARDOWN",r)}});function WV(t,e,r){let n=UV(Ri),s=ee(()=>{let i=t.value?n.value.get(t.value):void 0;return i?i.count>0:!1});return Rt([t,e],([i,o],[a],c)=>{if(!i||!o)return;Ri.dispatch("PUSH",i,r);let d=!1;c(()=>{d||(Ri.dispatch("POP",a??i,r),d=!0)})},{immediate:!0}),s}let hf=new Map,Da=new Map;function Lb(t,e=q(!0)){ur(r=>{var n;if(!e.value)return;let s=Ae(t);if(!s)return;r(function(){var o;if(!s)return;let a=(o=Da.get(s))!=null?o:1;if(a===1?Da.delete(s):Da.set(s,a-1),a!==1)return;let c=hf.get(s);c&&(c["aria-hidden"]===null?s.removeAttribute("aria-hidden"):s.setAttribute("aria-hidden",c["aria-hidden"]),s.inert=c.inert,hf.delete(s))});let i=(n=Da.get(s))!=null?n:0;Da.set(s,i+1),i===0&&(hf.set(s,{"aria-hidden":s.getAttribute("aria-hidden"),inert:s.inert}),s.setAttribute("aria-hidden","true"),s.inert=!0)})}function KV({defaultContainers:t=[],portals:e,mainTreeNodeRef:r}={}){let n=q(null),s=ws(n);function i(){var o,a,c;let d=[];for(let h of t)h!==null&&(h instanceof HTMLElement?d.push(h):"value"in h&&h.value instanceof HTMLElement&&d.push(h.value));if(e!=null&&e.value)for(let h of e.value)d.push(h);for(let h of(o=s==null?void 0:s.querySelectorAll("html > *, body > *"))!=null?o:[])h!==document.body&&h!==document.head&&h instanceof HTMLElement&&h.id!=="headlessui-portal-root"&&(h.contains(Ae(n))||h.contains((c=(a=Ae(n))==null?void 0:a.getRootNode())==null?void 0:c.host)||d.some(f=>h.contains(f))||d.push(h));return d}return{resolveContainers:i,contains(o){return i().some(a=>a.contains(o))},mainTreeNodeRef:n,MainTreeNode(){return r!=null?null:vt(ia,{features:sa.Hidden,ref:n})}}}let yE=Symbol("ForcePortalRootContext");function GV(){return ot(yE,!1)}let Fb=Ze({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(t,{slots:e,attrs:r}){return zt(yE,t.force),()=>{let{force:n,...s}=t;return $t({theirProps:s,ourProps:{},slot:{},slots:e,attrs:r,name:"ForcePortalRoot"})}}}),vE=Symbol("StackContext");var wp=(t=>(t[t.Add=0]="Add",t[t.Remove=1]="Remove",t))(wp||{});function QV(){return ot(vE,()=>{})}function YV({type:t,enabled:e,element:r,onUpdate:n}){let s=QV();function i(...o){n==null||n(...o),s(...o)}Ue(()=>{Rt(e,(o,a)=>{o?i(0,t,r):a===!0&&i(1,t,r)},{immediate:!0,flush:"sync"})}),Kt(()=>{e.value&&i(1,t,r)}),zt(vE,i)}let JV=Symbol("DescriptionContext");function XV({slot:t=q({}),name:e="Description",props:r={}}={}){let n=q([]);function s(i){return n.value.push(i),()=>{let o=n.value.indexOf(i);o!==-1&&n.value.splice(o,1)}}return zt(JV,{register:s,slot:t,name:e,props:r}),ee(()=>n.value.length>0?n.value.join(" "):void 0)}function ZV(t){let e=ws(t);if(!e){if(t===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${t}`)}let r=e.getElementById("headlessui-portal-root");if(r)return r;let n=e.createElement("div");return n.setAttribute("id","headlessui-portal-root"),e.body.appendChild(n)}const kp=new WeakMap;function e8(t){var e;return(e=kp.get(t))!=null?e:0}function Ub(t,e){let r=e(e8(t));return r<=0?kp.delete(t):kp.set(t,r),r}let t8=Ze({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(t,{slots:e,attrs:r}){let n=q(null),s=ee(()=>ws(n)),i=GV(),o=ot(bE,null),a=q(i===!0||o==null?ZV(n.value):o.resolveTarget());a.value&&Ub(a.value,p=>p+1);let c=q(!1);Ue(()=>{c.value=!0}),ur(()=>{i||o!=null&&(a.value=o.resolveTarget())});let d=ot(Ep,null),h=!1,f=cn();return Rt(n,()=>{if(h||!d)return;let p=Ae(n);p&&(Kt(d.register(p),f),h=!0)}),Kt(()=>{var p,y;let b=(p=s.value)==null?void 0:p.getElementById("headlessui-portal-root");!b||a.value!==b||Ub(a.value,w=>w-1)||a.value.children.length>0||(y=a.value.parentElement)==null||y.removeChild(a.value)}),()=>{if(!c.value||a.value===null)return null;let p={ref:n,"data-headlessui-portal":""};return vt(qp,{to:a.value},$t({ourProps:p,theirProps:t,slot:{},attrs:r,slots:e,name:"Portal"}))}}}),Ep=Symbol("PortalParentContext");function r8(){let t=ot(Ep,null),e=q([]);function r(i){return e.value.push(i),t&&t.register(i),()=>n(i)}function n(i){let o=e.value.indexOf(i);o!==-1&&e.value.splice(o,1),t&&t.unregister(i)}let s={register:r,unregister:n,portals:e};return[e,Ze({name:"PortalWrapper",setup(i,{slots:o}){return zt(Ep,s),()=>{var a;return(a=o.default)==null?void 0:a.call(o)}}})]}let bE=Symbol("PortalGroupContext"),n8=Ze({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(t,{attrs:e,slots:r}){let n=Qr({resolveTarget(){return t.target}});return zt(bE,n),()=>{let{target:s,...i}=t;return $t({theirProps:i,ourProps:{},slot:{},attrs:e,slots:r,name:"PortalGroup"})}}});var s8=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(s8||{});let Ip=Symbol("DialogContext");function $g(t){let e=ot(Ip,null);if(e===null){let r=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,$g),r}return e}let Gc="DC8F892D-2EBD-447C-A4C8-A03058436FF4",oh=Ze({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:Gc},initialFocus:{type:Object,default:null},id:{type:String,default:null},role:{type:String,default:"dialog"}},emits:{close:t=>!0},setup(t,{emit:e,attrs:r,slots:n,expose:s}){var i,o;let a=(i=t.id)!=null?i:`headlessui-dialog-${_n()}`,c=q(!1);Ue(()=>{c.value=!0});let d=!1,h=ee(()=>t.role==="dialog"||t.role==="alertdialog"?t.role:(d||(d=!0,console.warn(`Invalid role [${h}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")),f=q(0),p=uc(),y=ee(()=>t.open===Gc&&p!==null?(p.value&Lt.Open)===Lt.Open:t.open),b=q(null),w=ee(()=>ws(b));if(s({el:b,$el:b}),!(t.open!==Gc||p!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof y.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${y.value===Gc?void 0:t.open}`);let x=ee(()=>c.value&&y.value?0:1),I=ee(()=>x.value===0),C=ee(()=>f.value>1),E=ot(Ip,null)!==null,[R,A]=r8(),{resolveContainers:M,mainTreeNodeRef:T,MainTreeNode:v}=KV({portals:R,defaultContainers:[ee(()=>{var ye;return(ye=j.panelRef.value)!=null?ye:b.value})]}),m=ee(()=>C.value?"parent":"leaf"),k=ee(()=>p!==null?(p.value&Lt.Closing)===Lt.Closing:!1),N=ee(()=>E||k.value?!1:I.value),S=ee(()=>{var ye,Se,Le;return(Le=Array.from((Se=(ye=w.value)==null?void 0:ye.querySelectorAll("body > *"))!=null?Se:[]).find(at=>at.id==="headlessui-portal-root"?!1:at.contains(Ae(T))&&at instanceof HTMLElement))!=null?Le:null});Lb(S,N);let P=ee(()=>C.value?!0:I.value),le=ee(()=>{var ye,Se,Le;return(Le=Array.from((Se=(ye=w.value)==null?void 0:ye.querySelectorAll("[data-headlessui-portal]"))!=null?Se:[]).find(at=>at.contains(Ae(T))&&at instanceof HTMLElement))!=null?Le:null});Lb(le,P),YV({type:"Dialog",enabled:ee(()=>x.value===0),element:b,onUpdate:(ye,Se)=>{if(Se==="Dialog")return cr(ye,{[wp.Add]:()=>f.value+=1,[wp.Remove]:()=>f.value-=1})}});let ue=XV({name:"DialogDescription",slot:ee(()=>({open:y.value}))}),G=q(null),j={titleId:G,panelRef:q(null),dialogState:x,setTitleId(ye){G.value!==ye&&(G.value=ye)},close(){e("close",!1)}};zt(Ip,j);let te=ee(()=>!(!I.value||C.value));cE(M,(ye,Se)=>{ye.preventDefault(),j.close(),ar(()=>Se==null?void 0:Se.focus())},te);let oe=ee(()=>!(C.value||x.value!==0));fE((o=w.value)==null?void 0:o.defaultView,"keydown",ye=>{oe.value&&(ye.defaultPrevented||ye.key===Xe.Escape&&(ye.preventDefault(),ye.stopPropagation(),j.close()))});let ke=ee(()=>!(k.value||x.value!==0||E));return WV(w,ke,ye=>{var Se;return{containers:[...(Se=ye.containers)!=null?Se:[],M]}}),ur(ye=>{if(x.value!==0)return;let Se=Ae(b);if(!Se)return;let Le=new ResizeObserver(at=>{for(let It of at){let gt=It.target.getBoundingClientRect();gt.x===0&&gt.y===0&&gt.width===0&&gt.height===0&&j.close()}});Le.observe(Se),ye(()=>Le.disconnect())}),()=>{let{open:ye,initialFocus:Se,...Le}=t,at={...r,ref:b,id:a,role:h.value,"aria-modal":x.value===0?!0:void 0,"aria-labelledby":G.value,"aria-describedby":ue.value},It={open:x.value===0};return vt(Fb,{force:!0},()=>[vt(t8,()=>vt(n8,{target:b.value},()=>vt(Fb,{force:!1},()=>vt(Oa,{initialFocus:Se,containers:M,features:I.value?cr(m.value,{parent:Oa.features.RestoreFocus,leaf:Oa.features.All&~Oa.features.FocusLock}):Oa.features.None},()=>vt(A,{},()=>$t({ourProps:at,theirProps:{...Le,...r},slot:It,attrs:r,slots:n,visible:x.value===0,features:zn.RenderStrategy|zn.Static,name:"Dialog"})))))),vt(v)])}}}),ah=Ze({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:null}},setup(t,{attrs:e,slots:r,expose:n}){var s;let i=(s=t.id)!=null?s:`headlessui-dialog-panel-${_n()}`,o=$g("DialogPanel");n({el:o.panelRef,$el:o.panelRef});function a(c){c.stopPropagation()}return()=>{let{...c}=t,d={id:i,ref:o.panelRef,onClick:a};return $t({ourProps:d,theirProps:c,slot:{open:o.dialogState.value===0},attrs:e,slots:r,name:"DialogPanel"})}}}),xE=Ze({name:"DialogTitle",props:{as:{type:[Object,String],default:"h2"},id:{type:String,default:null}},setup(t,{attrs:e,slots:r}){var n;let s=(n=t.id)!=null?n:`headlessui-dialog-title-${_n()}`,i=$g("DialogTitle");return Ue(()=>{i.setTitleId(s),Kt(()=>i.setTitleId(null))}),()=>{let{...o}=t;return $t({ourProps:{id:s},theirProps:o,slot:{open:i.dialogState.value===0},attrs:e,slots:r,name:"DialogTitle"})}}});var i8=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(i8||{});let _E=Symbol("DisclosureContext");function Og(t){let e=ot(_E,null);if(e===null){let r=new Error(`<${t} /> is missing a parent <Disclosure /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Og),r}return e}let wE=Symbol("DisclosurePanelContext");function o8(){return ot(wE,null)}let rd=Ze({name:"Disclosure",props:{as:{type:[Object,String],default:"template"},defaultOpen:{type:[Boolean],default:!1}},setup(t,{slots:e,attrs:r}){let n=q(t.defaultOpen?0:1),s=q(null),i=q(null),o={buttonId:q(`headlessui-disclosure-button-${_n()}`),panelId:q(`headlessui-disclosure-panel-${_n()}`),disclosureState:n,panel:s,button:i,toggleDisclosure(){n.value=cr(n.value,{0:1,1:0})},closeDisclosure(){n.value!==1&&(n.value=1)},close(a){o.closeDisclosure();let c=a?a instanceof HTMLElement?a:a.value instanceof HTMLElement?Ae(a):Ae(o.button):Ae(o.button);c==null||c.focus()}};return zt(_E,o),Ng(ee(()=>cr(n.value,{0:Lt.Open,1:Lt.Closed}))),()=>{let{defaultOpen:a,...c}=t,d={open:n.value===0,close:o.close};return $t({theirProps:c,ourProps:{},slot:d,slots:e,attrs:r,name:"Disclosure"})}}}),nd=Ze({name:"DisclosureButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(t,{attrs:e,slots:r,expose:n}){let s=Og("DisclosureButton"),i=o8(),o=ee(()=>i===null?!1:i.value===s.panelId.value);Ue(()=>{o.value||t.id!==null&&(s.buttonId.value=t.id)}),Kt(()=>{o.value||(s.buttonId.value=null)});let a=q(null);n({el:a,$el:a}),o.value||ur(()=>{s.button.value=a.value});let c=sh(ee(()=>({as:t.as,type:e.type})),a);function d(){var p;t.disabled||(o.value?(s.toggleDisclosure(),(p=Ae(s.button))==null||p.focus()):s.toggleDisclosure())}function h(p){var y;if(!t.disabled)if(o.value)switch(p.key){case Xe.Space:case Xe.Enter:p.preventDefault(),p.stopPropagation(),s.toggleDisclosure(),(y=Ae(s.button))==null||y.focus();break}else switch(p.key){case Xe.Space:case Xe.Enter:p.preventDefault(),p.stopPropagation(),s.toggleDisclosure();break}}function f(p){switch(p.key){case Xe.Space:p.preventDefault();break}}return()=>{var p;let y={open:s.disclosureState.value===0},{id:b,...w}=t,x=o.value?{ref:a,type:c.value,onClick:d,onKeydown:h}:{id:(p=s.buttonId.value)!=null?p:b,ref:a,type:c.value,"aria-expanded":s.disclosureState.value===0,"aria-controls":s.disclosureState.value===0||Ae(s.panel)?s.panelId.value:void 0,disabled:t.disabled?!0:void 0,onClick:d,onKeydown:h,onKeyup:f};return $t({ourProps:x,theirProps:w,slot:y,attrs:e,slots:r,name:"DisclosureButton"})}}}),sd=Ze({name:"DisclosurePanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(t,{attrs:e,slots:r,expose:n}){let s=Og("DisclosurePanel");Ue(()=>{t.id!==null&&(s.panelId.value=t.id)}),Kt(()=>{s.panelId.value=null}),n({el:s.panel,$el:s.panel}),zt(wE,s.panelId);let i=uc(),o=ee(()=>i!==null?(i.value&Lt.Open)===Lt.Open:s.disclosureState.value===0);return()=>{var a;let c={open:s.disclosureState.value===0,close:s.close},{id:d,...h}=t,f={id:(a=s.panelId.value)!=null?a:d,ref:s.panel};return $t({ourProps:f,theirProps:h,slot:c,attrs:e,slots:r,features:zn.RenderStrategy|zn.Static,visible:o.value,name:"DisclosurePanel"})}}}),jb=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function Bb(t){var e,r;let n=(e=t.innerText)!=null?e:"",s=t.cloneNode(!0);if(!(s instanceof HTMLElement))return n;let i=!1;for(let a of s.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),i=!0;let o=i?(r=s.innerText)!=null?r:"":n;return jb.test(o)&&(o=o.replace(jb,"")),o}function a8(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let r=t.getAttribute("aria-labelledby");if(r){let n=r.split(" ").map(s=>{let i=document.getElementById(s);if(i){let o=i.getAttribute("aria-label");return typeof o=="string"?o.trim():Bb(i).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return Bb(t).trim()}function l8(t){let e=q(""),r=q("");return()=>{let n=Ae(t);if(!n)return"";let s=n.innerText;if(e.value===s)return r.value;let i=a8(n).trim().toLowerCase();return e.value=s,r.value=i,i}}var c8=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(c8||{}),u8=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(u8||{});function d8(t){requestAnimationFrame(()=>requestAnimationFrame(t))}let kE=Symbol("MenuContext");function lh(t){let e=ot(kE,null);if(e===null){let r=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,lh),r}return e}let EE=Ze({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(t,{slots:e,attrs:r}){let n=q(1),s=q(null),i=q(null),o=q([]),a=q(""),c=q(null),d=q(1);function h(p=y=>y){let y=c.value!==null?o.value[c.value]:null,b=Ii(p(o.value.slice()),x=>Ae(x.dataRef.domRef)),w=y?b.indexOf(y):null;return w===-1&&(w=null),{items:b,activeItemIndex:w}}let f={menuState:n,buttonRef:s,itemsRef:i,items:o,searchQuery:a,activeItemIndex:c,activationTrigger:d,closeMenu:()=>{n.value=1,c.value=null},openMenu:()=>n.value=0,goToItem(p,y,b){let w=h(),x=$V(p===nn.Specific?{focus:nn.Specific,id:y}:{focus:p},{resolveItems:()=>w.items,resolveActiveIndex:()=>w.activeItemIndex,resolveId:I=>I.id,resolveDisabled:I=>I.dataRef.disabled});a.value="",c.value=x,d.value=b??1,o.value=w.items},search(p){let y=a.value!==""?0:1;a.value+=p.toLowerCase();let b=(c.value!==null?o.value.slice(c.value+y).concat(o.value.slice(0,c.value+y)):o.value).find(x=>x.dataRef.textValue.startsWith(a.value)&&!x.dataRef.disabled),w=b?o.value.indexOf(b):-1;w===-1||w===c.value||(c.value=w,d.value=1)},clearSearch(){a.value=""},registerItem(p,y){let b=h(w=>[...w,{id:p,dataRef:y}]);o.value=b.items,c.value=b.activeItemIndex,d.value=1},unregisterItem(p){let y=h(b=>{let w=b.findIndex(x=>x.id===p);return w!==-1&&b.splice(w,1),b});o.value=y.items,c.value=y.activeItemIndex,d.value=1}};return cE([s,i],(p,y)=>{var b;f.closeMenu(),Rg(y,Pg.Loose)||(p.preventDefault(),(b=Ae(s))==null||b.focus())},ee(()=>n.value===0)),zt(kE,f),Ng(ee(()=>cr(n.value,{0:Lt.Open,1:Lt.Closed}))),()=>{let p={open:n.value===0,close:f.closeMenu};return $t({ourProps:{},theirProps:t,slot:p,slots:e,attrs:r,name:"Menu"})}}}),IE=Ze({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(t,{attrs:e,slots:r,expose:n}){var s;let i=(s=t.id)!=null?s:`headlessui-menu-button-${_n()}`,o=lh("MenuButton");n({el:o.buttonRef,$el:o.buttonRef});function a(f){switch(f.key){case Xe.Space:case Xe.Enter:case Xe.ArrowDown:f.preventDefault(),f.stopPropagation(),o.openMenu(),ar(()=>{var p;(p=Ae(o.itemsRef))==null||p.focus({preventScroll:!0}),o.goToItem(nn.First)});break;case Xe.ArrowUp:f.preventDefault(),f.stopPropagation(),o.openMenu(),ar(()=>{var p;(p=Ae(o.itemsRef))==null||p.focus({preventScroll:!0}),o.goToItem(nn.Last)});break}}function c(f){switch(f.key){case Xe.Space:f.preventDefault();break}}function d(f){t.disabled||(o.menuState.value===0?(o.closeMenu(),ar(()=>{var p;return(p=Ae(o.buttonRef))==null?void 0:p.focus({preventScroll:!0})})):(f.preventDefault(),o.openMenu(),d8(()=>{var p;return(p=Ae(o.itemsRef))==null?void 0:p.focus({preventScroll:!0})})))}let h=sh(ee(()=>({as:t.as,type:e.type})),o.buttonRef);return()=>{var f;let p={open:o.menuState.value===0},{...y}=t,b={ref:o.buttonRef,id:i,type:h.value,"aria-haspopup":"menu","aria-controls":(f=Ae(o.itemsRef))==null?void 0:f.id,"aria-expanded":o.menuState.value===0,onKeydown:a,onKeyup:c,onClick:d};return $t({ourProps:b,theirProps:y,slot:p,attrs:e,slots:r,name:"MenuButton"})}}}),TE=Ze({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null}},setup(t,{attrs:e,slots:r,expose:n}){var s;let i=(s=t.id)!=null?s:`headlessui-menu-items-${_n()}`,o=lh("MenuItems"),a=q(null);n({el:o.itemsRef,$el:o.itemsRef}),AV({container:ee(()=>Ae(o.itemsRef)),enabled:ee(()=>o.menuState.value===0),accept(p){return p.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:p.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(p){p.setAttribute("role","none")}});function c(p){var y;switch(a.value&&clearTimeout(a.value),p.key){case Xe.Space:if(o.searchQuery.value!=="")return p.preventDefault(),p.stopPropagation(),o.search(p.key);case Xe.Enter:if(p.preventDefault(),p.stopPropagation(),o.activeItemIndex.value!==null){let b=o.items.value[o.activeItemIndex.value];(y=Ae(b.dataRef.domRef))==null||y.click()}o.closeMenu(),oE(Ae(o.buttonRef));break;case Xe.ArrowDown:return p.preventDefault(),p.stopPropagation(),o.goToItem(nn.Next);case Xe.ArrowUp:return p.preventDefault(),p.stopPropagation(),o.goToItem(nn.Previous);case Xe.Home:case Xe.PageUp:return p.preventDefault(),p.stopPropagation(),o.goToItem(nn.First);case Xe.End:case Xe.PageDown:return p.preventDefault(),p.stopPropagation(),o.goToItem(nn.Last);case Xe.Escape:p.preventDefault(),p.stopPropagation(),o.closeMenu(),ar(()=>{var b;return(b=Ae(o.buttonRef))==null?void 0:b.focus({preventScroll:!0})});break;case Xe.Tab:p.preventDefault(),p.stopPropagation(),o.closeMenu(),ar(()=>kV(Ae(o.buttonRef),p.shiftKey?Bt.Previous:Bt.Next));break;default:p.key.length===1&&(o.search(p.key),a.value=setTimeout(()=>o.clearSearch(),350));break}}function d(p){switch(p.key){case Xe.Space:p.preventDefault();break}}let h=uc(),f=ee(()=>h!==null?(h.value&Lt.Open)===Lt.Open:o.menuState.value===0);return()=>{var p,y;let b={open:o.menuState.value===0},{...w}=t,x={"aria-activedescendant":o.activeItemIndex.value===null||(p=o.items.value[o.activeItemIndex.value])==null?void 0:p.id,"aria-labelledby":(y=Ae(o.buttonRef))==null?void 0:y.id,id:i,onKeydown:c,onKeyup:d,role:"menu",tabIndex:0,ref:o.itemsRef};return $t({ourProps:x,theirProps:w,slot:b,attrs:e,slots:r,features:zn.RenderStrategy|zn.Static,visible:f.value,name:"MenuItems"})}}}),Wa=Ze({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:null}},setup(t,{slots:e,attrs:r,expose:n}){var s;let i=(s=t.id)!=null?s:`headlessui-menu-item-${_n()}`,o=lh("MenuItem"),a=q(null);n({el:a,$el:a});let c=ee(()=>o.activeItemIndex.value!==null?o.items.value[o.activeItemIndex.value].id===i:!1),d=l8(a),h=ee(()=>({disabled:t.disabled,get textValue(){return d()},domRef:a}));Ue(()=>o.registerItem(i,h)),Kt(()=>o.unregisterItem(i)),ur(()=>{o.menuState.value===0&&c.value&&o.activationTrigger.value!==0&&ar(()=>{var I,C;return(C=(I=Ae(a))==null?void 0:I.scrollIntoView)==null?void 0:C.call(I,{block:"nearest"})})});function f(I){if(t.disabled)return I.preventDefault();o.closeMenu(),oE(Ae(o.buttonRef))}function p(){if(t.disabled)return o.goToItem(nn.Nothing);o.goToItem(nn.Specific,i)}let y=TV();function b(I){y.update(I)}function w(I){y.wasMoved(I)&&(t.disabled||c.value||o.goToItem(nn.Specific,i,0))}function x(I){y.wasMoved(I)&&(t.disabled||c.value&&o.goToItem(nn.Nothing))}return()=>{let{disabled:I,...C}=t,E={active:c.value,disabled:I,close:o.closeMenu};return $t({ourProps:{id:i,ref:a,role:"menuitem",tabIndex:I===!0?void 0:-1,"aria-disabled":I===!0?!0:void 0,onClick:f,onFocus:p,onPointerenter:b,onMouseenter:b,onPointermove:w,onMousemove:w,onPointerleave:x,onMouseleave:x},theirProps:{...r,...C},slot:E,attrs:r,slots:e,name:"MenuItem"})}}}),h8=Symbol("GroupContext"),f8=Ze({name:"Switch",emits:{"update:modelValue":t=>!0},props:{as:{type:[Object,String],default:"button"},modelValue:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,optional:!0},form:{type:String,optional:!0},name:{type:String,optional:!0},value:{type:String,optional:!0},id:{type:String,default:null},disabled:{type:Boolean,default:!1},tabIndex:{type:Number,default:0}},inheritAttrs:!1,setup(t,{emit:e,attrs:r,slots:n,expose:s}){var i;let o=(i=t.id)!=null?i:`headlessui-switch-${_n()}`,a=ot(h8,null),[c,d]=fV(ee(()=>t.modelValue),C=>e("update:modelValue",C),ee(()=>t.defaultChecked));function h(){d(!c.value)}let f=q(null),p=a===null?f:a.switchRef,y=sh(ee(()=>({as:t.as,type:r.type})),p);s({el:p,$el:p});function b(C){C.preventDefault(),h()}function w(C){C.key===Xe.Space?(C.preventDefault(),h()):C.key===Xe.Enter&&OV(C.currentTarget)}function x(C){C.preventDefault()}let I=ee(()=>{var C,E;return(E=(C=Ae(p))==null?void 0:C.closest)==null?void 0:E.call(C,"form")});return Ue(()=>{Rt([I],()=>{if(!I.value||t.defaultChecked===void 0)return;function C(){d(t.defaultChecked)}return I.value.addEventListener("reset",C),()=>{var E;(E=I.value)==null||E.removeEventListener("reset",C)}},{immediate:!0})}),()=>{let{name:C,value:E,form:R,tabIndex:A,...M}=t,T={checked:c.value},v={id:o,ref:p,role:"switch",type:y.value,tabIndex:A===-1?0:A,"aria-checked":c.value,"aria-labelledby":a==null?void 0:a.labelledby.value,"aria-describedby":a==null?void 0:a.describedby.value,onClick:b,onKeyup:w,onKeypress:x};return vt(Ee,[C!=null&&c.value!=null?vt(ia,SV({features:sa.Hidden,as:"input",type:"checkbox",hidden:!0,readOnly:!0,checked:c.value,form:R,disabled:M.disabled,name:C,value:E})):null,$t({ourProps:v,theirProps:{...r,...ih(M,["modelValue","defaultChecked"])},slot:T,attrs:r,slots:n,name:"Switch"})])}}}),p8=Ze({props:{onFocus:{type:Function,required:!0}},setup(t){let e=q(!0);return()=>e.value?vt(ia,{as:"button",type:"button",features:sa.Focusable,onFocus(r){r.preventDefault();let n,s=50;function i(){var o;if(s--<=0){n&&cancelAnimationFrame(n);return}if((o=t.onFocus)!=null&&o.call(t)){e.value=!1,cancelAnimationFrame(n);return}n=requestAnimationFrame(i)}n=requestAnimationFrame(i)}}):null}});var m8=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(m8||{}),g8=(t=>(t[t.Less=-1]="Less",t[t.Equal=0]="Equal",t[t.Greater=1]="Greater",t))(g8||{});let AE=Symbol("TabsContext");function dc(t){let e=ot(AE,null);if(e===null){let r=new Error(`<${t} /> is missing a parent <TabGroup /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,dc),r}return e}let Dg=Symbol("TabsSSRContext"),y8=Ze({name:"TabGroup",emits:{change:t=>!0},props:{as:{type:[Object,String],default:"template"},selectedIndex:{type:[Number],default:null},defaultIndex:{type:[Number],default:0},vertical:{type:[Boolean],default:!1},manual:{type:[Boolean],default:!1}},inheritAttrs:!1,setup(t,{slots:e,attrs:r,emit:n}){var s;let i=q((s=t.selectedIndex)!=null?s:t.defaultIndex),o=q([]),a=q([]),c=ee(()=>t.selectedIndex!==null),d=ee(()=>c.value?t.selectedIndex:i.value);function h(w){var x;let I=Ii(f.tabs.value,Ae),C=Ii(f.panels.value,Ae),E=I.filter(R=>{var A;return!((A=Ae(R))!=null&&A.hasAttribute("disabled"))});if(w<0||w>I.length-1){let R=cr(i.value===null?0:Math.sign(w-i.value),{[-1]:()=>1,0:()=>cr(Math.sign(w),{[-1]:()=>0,0:()=>0,1:()=>1}),1:()=>0}),A=cr(R,{0:()=>I.indexOf(E[0]),1:()=>I.indexOf(E[E.length-1])});A!==-1&&(i.value=A),f.tabs.value=I,f.panels.value=C}else{let R=I.slice(0,w),A=[...I.slice(w),...R].find(T=>E.includes(T));if(!A)return;let M=(x=I.indexOf(A))!=null?x:f.selectedIndex.value;M===-1&&(M=f.selectedIndex.value),i.value=M,f.tabs.value=I,f.panels.value=C}}let f={selectedIndex:ee(()=>{var w,x;return(x=(w=i.value)!=null?w:t.defaultIndex)!=null?x:null}),orientation:ee(()=>t.vertical?"vertical":"horizontal"),activation:ee(()=>t.manual?"manual":"auto"),tabs:o,panels:a,setSelectedIndex(w){d.value!==w&&n("change",w),c.value||h(w)},registerTab(w){var x;if(o.value.includes(w))return;let I=o.value[i.value];if(o.value.push(w),o.value=Ii(o.value,Ae),!c.value){let C=(x=o.value.indexOf(I))!=null?x:i.value;C!==-1&&(i.value=C)}},unregisterTab(w){let x=o.value.indexOf(w);x!==-1&&o.value.splice(x,1)},registerPanel(w){a.value.includes(w)||(a.value.push(w),a.value=Ii(a.value,Ae))},unregisterPanel(w){let x=a.value.indexOf(w);x!==-1&&a.value.splice(x,1)}};zt(AE,f);let p=q({tabs:[],panels:[]}),y=q(!1);Ue(()=>{y.value=!0}),zt(Dg,ee(()=>y.value?null:p.value));let b=ee(()=>t.selectedIndex);return Ue(()=>{Rt([b],()=>{var w;return h((w=t.selectedIndex)!=null?w:t.defaultIndex)},{immediate:!0})}),ur(()=>{if(!c.value||d.value==null||f.tabs.value.length<=0)return;let w=Ii(f.tabs.value,Ae);w.some((x,I)=>Ae(f.tabs.value[I])!==Ae(x))&&f.setSelectedIndex(w.findIndex(x=>Ae(x)===Ae(f.tabs.value[d.value])))}),()=>{let w={selectedIndex:i.value};return vt(Ee,[o.value.length<=0&&vt(p8,{onFocus:()=>{for(let x of o.value){let I=Ae(x);if((I==null?void 0:I.tabIndex)===0)return I.focus(),!0}return!1}}),$t({theirProps:{...r,...ih(t,["selectedIndex","defaultIndex","manual","vertical","onChange"])},ourProps:{},slot:w,slots:e,attrs:r,name:"TabGroup"})])}}}),v8=Ze({name:"TabList",props:{as:{type:[Object,String],default:"div"}},setup(t,{attrs:e,slots:r}){let n=dc("TabList");return()=>{let s={selectedIndex:n.selectedIndex.value},i={role:"tablist","aria-orientation":n.orientation.value};return $t({ourProps:i,theirProps:t,slot:s,attrs:e,slots:r,name:"TabList"})}}}),qb=Ze({name:"Tab",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:null}},setup(t,{attrs:e,slots:r,expose:n}){var s;let i=(s=t.id)!=null?s:`headlessui-tabs-tab-${_n()}`,o=dc("Tab"),a=q(null);n({el:a,$el:a}),Ue(()=>o.registerTab(a)),Kt(()=>o.unregisterTab(a));let c=ot(Dg),d=ee(()=>{if(c.value){let C=c.value.tabs.indexOf(i);return C===-1?c.value.tabs.push(i)-1:C}return-1}),h=ee(()=>{let C=o.tabs.value.indexOf(a);return C===-1?d.value:C}),f=ee(()=>h.value===o.selectedIndex.value);function p(C){var E;let R=C();if(R===Po.Success&&o.activation.value==="auto"){let A=(E=ws(a))==null?void 0:E.activeElement,M=o.tabs.value.findIndex(T=>Ae(T)===A);M!==-1&&o.setSelectedIndex(M)}return R}function y(C){let E=o.tabs.value.map(R=>Ae(R)).filter(Boolean);if(C.key===Xe.Space||C.key===Xe.Enter){C.preventDefault(),C.stopPropagation(),o.setSelectedIndex(h.value);return}switch(C.key){case Xe.Home:case Xe.PageUp:return C.preventDefault(),C.stopPropagation(),p(()=>In(E,Bt.First));case Xe.End:case Xe.PageDown:return C.preventDefault(),C.stopPropagation(),p(()=>In(E,Bt.Last))}if(p(()=>cr(o.orientation.value,{vertical(){return C.key===Xe.ArrowUp?In(E,Bt.Previous|Bt.WrapAround):C.key===Xe.ArrowDown?In(E,Bt.Next|Bt.WrapAround):Po.Error},horizontal(){return C.key===Xe.ArrowLeft?In(E,Bt.Previous|Bt.WrapAround):C.key===Xe.ArrowRight?In(E,Bt.Next|Bt.WrapAround):Po.Error}}))===Po.Success)return C.preventDefault()}let b=q(!1);function w(){var C;b.value||(b.value=!0,!t.disabled&&((C=Ae(a))==null||C.focus({preventScroll:!0}),o.setSelectedIndex(h.value),nh(()=>{b.value=!1})))}function x(C){C.preventDefault()}let I=sh(ee(()=>({as:t.as,type:e.type})),a);return()=>{var C,E;let R={selected:f.value,disabled:(C=t.disabled)!=null?C:!1},{...A}=t,M={ref:a,onKeydown:y,onMousedown:x,onClick:w,id:i,role:"tab",type:I.value,"aria-controls":(E=Ae(o.panels.value[h.value]))==null?void 0:E.id,"aria-selected":f.value,tabIndex:f.value?0:-1,disabled:t.disabled?!0:void 0};return $t({ourProps:M,theirProps:A,slot:R,attrs:e,slots:r,name:"Tab"})}}}),b8=Ze({name:"TabPanels",props:{as:{type:[Object,String],default:"div"}},setup(t,{slots:e,attrs:r}){let n=dc("TabPanels");return()=>{let s={selectedIndex:n.selectedIndex.value};return $t({theirProps:t,ourProps:{},slot:s,attrs:r,slots:e,name:"TabPanels"})}}}),Hb=Ze({name:"TabPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:null},tabIndex:{type:Number,default:0}},setup(t,{attrs:e,slots:r,expose:n}){var s;let i=(s=t.id)!=null?s:`headlessui-tabs-panel-${_n()}`,o=dc("TabPanel"),a=q(null);n({el:a,$el:a}),Ue(()=>o.registerPanel(a)),Kt(()=>o.unregisterPanel(a));let c=ot(Dg),d=ee(()=>{if(c.value){let p=c.value.panels.indexOf(i);return p===-1?c.value.panels.push(i)-1:p}return-1}),h=ee(()=>{let p=o.panels.value.indexOf(a);return p===-1?d.value:p}),f=ee(()=>h.value===o.selectedIndex.value);return()=>{var p;let y={selected:f.value},{tabIndex:b,...w}=t,x={ref:a,id:i,role:"tabpanel","aria-labelledby":(p=Ae(o.tabs.value[h.value]))==null?void 0:p.id,tabIndex:f.value?b:-1};return!f.value&&t.unmount&&!t.static?vt(ia,{as:"span","aria-hidden":!0,...x}):$t({ourProps:x,theirProps:w,slot:y,attrs:e,slots:r,features:zn.Static|zn.RenderStrategy,visible:f.value,name:"TabPanel"})}}});function x8(t){let e={called:!1};return(...r)=>{if(!e.called)return e.called=!0,t(...r)}}function ff(t,...e){t&&e.length>0&&t.classList.add(...e)}function Qc(t,...e){t&&e.length>0&&t.classList.remove(...e)}var Tp=(t=>(t.Finished="finished",t.Cancelled="cancelled",t))(Tp||{});function _8(t,e){let r=lc();if(!t)return r.dispose;let{transitionDuration:n,transitionDelay:s}=getComputedStyle(t),[i,o]=[n,s].map(a=>{let[c=0]=a.split(",").filter(Boolean).map(d=>d.includes("ms")?parseFloat(d):parseFloat(d)*1e3).sort((d,h)=>h-d);return c});return i!==0?r.setTimeout(()=>e("finished"),i+o):e("finished"),r.add(()=>e("cancelled")),r.dispose}function zb(t,e,r,n,s,i){let o=lc(),a=i!==void 0?x8(i):()=>{};return Qc(t,...s),ff(t,...e,...r),o.nextFrame(()=>{Qc(t,...r),ff(t,...n),o.add(_8(t,c=>(Qc(t,...n,...e),ff(t,...s),a(c))))}),o.add(()=>Qc(t,...e,...r,...n,...s)),o.add(()=>a("cancelled")),o.dispose}function xi(t=""){return t.split(/\s+/).filter(e=>e.length>1)}let Mg=Symbol("TransitionContext");var w8=(t=>(t.Visible="visible",t.Hidden="hidden",t))(w8||{});function k8(){return ot(Mg,null)!==null}function E8(){let t=ot(Mg,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}function I8(){let t=ot(Vg,null);if(t===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return t}let Vg=Symbol("NestingContext");function ch(t){return"children"in t?ch(t.children):t.value.filter(({state:e})=>e==="visible").length>0}function SE(t){let e=q([]),r=q(!1);Ue(()=>r.value=!0),Kt(()=>r.value=!1);function n(i,o=Ks.Hidden){let a=e.value.findIndex(({id:c})=>c===i);a!==-1&&(cr(o,{[Ks.Unmount](){e.value.splice(a,1)},[Ks.Hidden](){e.value[a].state="hidden"}}),!ch(e)&&r.value&&(t==null||t()))}function s(i){let o=e.value.find(({id:a})=>a===i);return o?o.state!=="visible"&&(o.state="visible"):e.value.push({id:i,state:"visible"}),()=>n(i,Ks.Unmount)}return{children:e,register:s,unregister:n}}let CE=zn.RenderStrategy,gs=Ze({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:r,slots:n,expose:s}){let i=q(0);function o(){i.value|=Lt.Opening,e("beforeEnter")}function a(){i.value&=~Lt.Opening,e("afterEnter")}function c(){i.value|=Lt.Closing,e("beforeLeave")}function d(){i.value&=~Lt.Closing,e("afterLeave")}if(!k8()&&PV())return()=>vt(mn,{...t,onBeforeEnter:o,onAfterEnter:a,onBeforeLeave:c,onAfterLeave:d},n);let h=q(null),f=ee(()=>t.unmount?Ks.Unmount:Ks.Hidden);s({el:h,$el:h});let{show:p,appear:y}=E8(),{register:b,unregister:w}=I8(),x=q(p.value?"visible":"hidden"),I={value:!0},C=_n(),E={value:!1},R=SE(()=>{!E.value&&x.value!=="hidden"&&(x.value="hidden",w(C),d())});Ue(()=>{let P=b(C);Kt(P)}),ur(()=>{if(f.value===Ks.Hidden&&C){if(p.value&&x.value!=="visible"){x.value="visible";return}cr(x.value,{hidden:()=>w(C),visible:()=>b(C)})}});let A=xi(t.enter),M=xi(t.enterFrom),T=xi(t.enterTo),v=xi(t.entered),m=xi(t.leave),k=xi(t.leaveFrom),N=xi(t.leaveTo);Ue(()=>{ur(()=>{if(x.value==="visible"){let P=Ae(h);if(P instanceof Comment&&P.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function S(P){let le=I.value&&!y.value,ue=Ae(h);!ue||!(ue instanceof HTMLElement)||le||(E.value=!0,p.value&&o(),p.value||c(),P(p.value?zb(ue,A,M,T,v,G=>{E.value=!1,G===Tp.Finished&&a()}):zb(ue,m,k,N,v,G=>{E.value=!1,G===Tp.Finished&&(ch(R)||(x.value="hidden",w(C),d()))})))}return Ue(()=>{Rt([p],(P,le,ue)=>{S(ue),I.value=!1},{immediate:!0})}),zt(Vg,R),Ng(ee(()=>cr(x.value,{visible:Lt.Open,hidden:Lt.Closed})|i.value)),()=>{let{appear:P,show:le,enter:ue,enterFrom:G,enterTo:j,entered:te,leave:oe,leaveFrom:ke,leaveTo:ye,...Se}=t,Le={ref:h},at={...Se,...y.value&&p.value&&cc.isServer?{class:Ce([r.class,Se.class,...A,...M])}:{}};return $t({theirProps:at,ourProps:Le,slot:{},slots:n,attrs:r,features:CE,visible:x.value==="visible",name:"TransitionChild"})}}}),T8=gs,mn=Ze({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(t,{emit:e,attrs:r,slots:n}){let s=uc(),i=ee(()=>t.show===null&&s!==null?(s.value&Lt.Open)===Lt.Open:t.show);ur(()=>{if(![!0,!1].includes(i.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let o=q(i.value?"visible":"hidden"),a=SE(()=>{o.value="hidden"}),c=q(!0),d={show:i,appear:ee(()=>t.appear||!c.value)};return Ue(()=>{ur(()=>{c.value=!1,i.value?o.value="visible":ch(a)||(o.value="hidden")})}),zt(Vg,a),zt(Mg,d),()=>{let h=ih(t,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),f={unmount:t.unmount};return $t({ourProps:{...f,as:"template"},theirProps:{},slot:{},slots:{...n,default:()=>[vt(T8,{onBeforeEnter:()=>e("beforeEnter"),onAfterEnter:()=>e("afterEnter"),onBeforeLeave:()=>e("beforeLeave"),onAfterLeave:()=>e("afterLeave"),...r,...f,...h},n.default)]},attrs:{},features:CE,visible:o.value==="visible",name:"Transition"})}}});function A8(t,e){return O(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"})])}function S8(t,e){return O(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5"})])}function C8(t,e){return O(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0"})])}function P8(t,e){return O(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"})])}function R8(t,e){return O(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"})])}function Fl(t,e){return O(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function Wb(t,e){return O(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 12.75 6 6 9-13.5"})])}function N8(t,e){return O(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"})])}function PE(t,e){return O(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"})])}function $8(t,e){return O(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m4.5 15.75 7.5-7.5 7.5 7.5"})])}function O8(t,e){return O(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function D8(t,e){return O(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"})])}function M8(t,e){return O(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"})])}function V8(t,e){return O(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"})])}function L8(t,e){return O(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.182 16.318A4.486 4.486 0 0 0 12.016 15a4.486 4.486 0 0 0-3.198 1.318M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0ZM9.75 9.75c0 .414-.168.75-.375.75S9 10.164 9 9.75 9.168 9 9.375 9s.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Zm5.625 0c0 .414-.168.75-.375.75s-.375-.336-.375-.75.168-.75.375-.75.375.336.375.75Zm-.375 0h.008v.015h-.008V9.75Z"})])}function F8(t,e){return O(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"})])}function U8(t,e){return O(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"})])}function j8(t,e){return O(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"})])}function pf(t,e){return O(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"})])}function Kb(t,e){return O(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z"})])}function RE(t,e){return O(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"})])}function B8(t,e){return O(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"})])}function pu(t,e){return O(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 10.5V6a3.75 3.75 0 1 0-7.5 0v4.5m11.356-1.993 1.263 12c.07.665-.45 1.243-1.119 1.243H4.25a1.125 1.125 0 0 1-1.12-1.243l1.264-12A1.125 1.125 0 0 1 5.513 7.5h12.974c.576 0 1.059.435 1.119 1.007ZM8.625 10.5a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Zm7.5 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"})])}function Gb(t,e){return O(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z"})])}function q8(t,e){return O(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"})])}function uh(t,e){return O(),V("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})])}function H8(t,e){return O(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"fill-rule":"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z","clip-rule":"evenodd"})])}function NE(t,e){return O(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{d:"M3 4a2 2 0 0 0-2 2v1.161l8.441 4.221a1.25 1.25 0 0 0 1.118 0L19 7.162V6a2 2 0 0 0-2-2H3Z"}),l("path",{d:"m19 8.839-7.77 3.885a2.75 2.75 0 0 1-2.46 0L1 8.839V14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.839Z"})])}function Ap(t,e){return O(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm-8-5a.75.75 0 0 1 .75.75v4.5a.75.75 0 0 1-1.5 0v-4.5A.75.75 0 0 1 10 5Zm0 10a1 1 0 1 0 0-2 1 1 0 0 0 0 2Z","clip-rule":"evenodd"})])}function z8(t,e){return O(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"fill-rule":"evenodd",d:"M2.628 1.601C5.028 1.206 7.49 1 10 1s4.973.206 7.372.601a.75.75 0 0 1 .628.74v2.288a2.25 2.25 0 0 1-.659 1.59l-4.682 4.683a2.25 2.25 0 0 0-.659 1.59v3.037c0 .684-.31 1.33-.844 1.757l-1.937 1.55A.75.75 0 0 1 8 18.25v-5.757a2.25 2.25 0 0 0-.659-1.591L2.659 6.22A2.25 2.25 0 0 1 2 4.629V2.34a.75.75 0 0 1 .628-.74Z","clip-rule":"evenodd"})])}function Sp(t,e){return O(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"fill-rule":"evenodd",d:"M10 1a4.5 4.5 0 0 0-4.5 4.5V9H5a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2h-.5V5.5A4.5 4.5 0 0 0 10 1Zm3 8V5.5a3 3 0 1 0-6 0V9h6Z","clip-rule":"evenodd"})])}function Qb(t,e){return O(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"fill-rule":"evenodd",d:"M4 10a.75.75 0 0 1 .75-.75h10.5a.75.75 0 0 1 0 1.5H4.75A.75.75 0 0 1 4 10Z","clip-rule":"evenodd"})])}function Yb(t,e){return O(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{d:"M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5Z"})])}function W8(t,e){return O(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"fill-rule":"evenodd",d:"M4.25 2A2.25 2.25 0 0 0 2 4.25v2.5A2.25 2.25 0 0 0 4.25 9h2.5A2.25 2.25 0 0 0 9 6.75v-2.5A2.25 2.25 0 0 0 6.75 2h-2.5Zm0 9A2.25 2.25 0 0 0 2 13.25v2.5A2.25 2.25 0 0 0 4.25 18h2.5A2.25 2.25 0 0 0 9 15.75v-2.5A2.25 2.25 0 0 0 6.75 11h-2.5Zm9-9A2.25 2.25 0 0 0 11 4.25v2.5A2.25 2.25 0 0 0 13.25 9h2.5A2.25 2.25 0 0 0 18 6.75v-2.5A2.25 2.25 0 0 0 15.75 2h-2.5Zm0 9A2.25 2.25 0 0 0 11 13.25v2.5A2.25 2.25 0 0 0 13.25 18h2.5A2.25 2.25 0 0 0 18 15.75v-2.5A2.25 2.25 0 0 0 15.75 11h-2.5Z","clip-rule":"evenodd"})])}function Jb(t,e){return O(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{d:"M10 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM3.465 14.493a1.23 1.23 0 0 0 .41 1.412A9.957 9.957 0 0 0 10 18c2.31 0 4.438-.784 6.131-2.1.43-.333.604-.903.408-1.41a7.002 7.002 0 0 0-13.074.003Z"})])}const K8={class:"min-h-screen bg-light-primary dark:bg-dark-secondary"},G8={class:"fixed inset-0 z-40 flex"},Q8={class:"flex items-center justify-between px-4"},Y8={class:"mt-4 border-t border-light-neutral-200 dark:border-dark-neutral-700"},J8={role:"list",class:"px-2 py-3 font-medium text-light-text-primary dark:text-dark-text-primary"},X8=["onClick"],Z8={class:"-mx-2 -my-3 flow-root"},e9={class:"font-medium text-light-text-primary dark:text-dark-text-primary"},t9={class:"ml-6 flex items-center"},r9={class:"space-y-6"},n9={class:"flex h-5 shrink-0 items-center"},s9={class:"group grid size-4 grid-cols-1"},i9=["id","name","value","checked","onChange"],o9=["for"],a9={class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},l9={class:"flex items-baseline justify-between border-b border-light-neutral-200 dark:border-dark-neutral-700 pt-24 pb-6"},c9={class:"flex items-center"},u9={class:"py-1"},d9=["onClick"],h9={type:"button",class:"-m-2 ml-5 p-2 text-light-neutral-400 dark:text-dark-neutral-600 hover:text-light-neutral-500 dark:hover:text-dark-neutral-500 sm:ml-7"},f9={"aria-labelledby":"products-heading",class:"pt-6 pb-24"},p9={class:"grid grid-cols-1 gap-x-8 gap-y-10 lg:grid-cols-4"},m9={class:"hidden lg:block"},g9={role:"list",class:"space-y-4 border-b border-light-neutral-200 dark:border-dark-neutral-700 pb-6 text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},y9=["onClick"],v9={class:"mt-2"},b9={class:"-my-3 flow-root"},x9={class:"font-medium text-light-text-primary dark:text-dark-text-primary"},_9={class:"ml-6 flex items-center"},w9={class:"space-y-4"},k9={class:"flex h-5 shrink-0 items-center"},E9={class:"group grid size-4 grid-cols-1"},I9=["id","name","value","checked","onChange"],T9=["for"],A9={class:"lg:col-span-3"},S9={key:0,class:"text-center py-8"},C9={key:1,class:"text-center py-8"},P9={key:2,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"},R9={__name:"ProductsView",setup(t){const e=q([]),r=q([]),n=q(!0);ao();const s=q(!1),i=q(null),o=q(null),a=Qr({metal:[],category:[],price:[]}),c=[{name:"Most Popular",href:"#",current:!0},{name:"Best Rating",href:"#",current:!1},{name:"Newest",href:"#",current:!1},{name:"Price: Low to High",href:"#",current:!1,sort:(C,E)=>C.price-E.price},{name:"Price: High to Low",href:"#",current:!1,sort:(C,E)=>E.price-C.price}],d=q(c[0]),h=[{name:"Beaded Jewelry",href:"#",value:"Beaded Jewelry"},{name:"String Jewelry",href:"#",value:"String Jewelry"},{name:"Metal Jewelry",href:"#",value:"Metal Jewelry"},{name:"Gemstones",href:"#",value:"Gemstones"},{name:"Earrings",href:"#",value:"Earrings"},{name:"Necklaces",href:"#",value:"Necklaces"},{name:"Bracelets",href:"#",value:"Bracelets"},{name:"Rings",href:"#",value:"Rings"}],f=[{id:"metal",name:"Metal Type",options:[{value:"gold",label:"Gold",checked:!1},{value:"silver",label:"Sterling Silver",checked:!1},{value:"rose-gold",label:"Rose Gold",checked:!1},{value:"beads",label:"Glass Beads",checked:!1},{value:"gemstones",label:"Gemstones",checked:!1},{value:"pearls",label:"Pearls",checked:!1}]},{id:"style",name:"Style",options:[{value:"handcrafted",label:"Handcrafted",checked:!1},{value:"modern",label:"Modern",checked:!1},{value:"traditional",label:"Traditional",checked:!1},{value:"luxury",label:"Luxury",checked:!1}]},{id:"price",name:"Price Range",options:[{value:"under-5000",label:"Under KES 5,000",checked:!1},{value:"5000-10000",label:"KES 5,000 - 10,000",checked:!1},{value:"10000-20000",label:"KES 10,000 - 20,000",checked:!1},{value:"20000-plus",label:"KES 20,000+",checked:!1}]}],p=ee(()=>{let C=[...r.value];return a.metal.length>0&&(C=C.filter(E=>a.metal.includes(E.metal))),a.category.length>0&&(C=C.filter(E=>E.tags&&E.tags.some(R=>a.category.includes(R)))),a.price.length>0&&(C=C.filter(E=>{const R=E.price;return a.price.some(A=>A==="under-5000"?R<5e3:A==="5000-10000"?R>=5e3&&R<=1e4:A==="10000-20000"?R>=1e4&&R<=2e4:A==="20000-plus"?R>2e4:!1)})),d.value.sort&&(C=[...C].sort(d.value.sort)),C}),y=()=>{e.value=p.value},b=(C,E)=>{const R=a[C],A=R.indexOf(E);A===-1?R.push(E):R.splice(A,1),f.forEach(M=>{M.id===C&&M.options.forEach(T=>{T.checked=R.includes(T.value)})}),y()},w=C=>{a.category=[],e.value=r.value.filter(E=>E.category===C)},x=C=>{c.forEach(E=>E.current=E===C),d.value=C,y()};Ue(async()=>{n.value=!0;try{const C=await I();if(C.length>0)console.log("Loaded products from Firestore:",C.length),r.value=C,e.value=C;else{console.log("No products in Firestore, using mock data");const E=await Co.getProducts();r.value=E||[],e.value=E||[]}console.log("Total products loaded:",e.value.length)}catch(C){console.error("Error loading products:",C),r.value=[],e.value=[]}finally{n.value=!1}});const I=async()=>{try{if(!Fe.getFirestore())return[];const E=Fe.getCollection("products"),R=await Fe.getDocuments(E);return R.empty?[]:R.docs.map(A=>{const M=A.data();return{id:A.id,...M,name:M.name||"Unnamed Product",price:M.price||0,category:M.category||"Uncategorized",description:M.description||"",images:M.images||[],image:M.images&&M.images.length>0?M.images[0].startsWith("base64://")?M.images[0].replace("base64://",""):M.images[0]:"https://via.placeholder.com/300x300?text=No+Image"}})}catch(C){return console.error("Error loading products from Firestore:",C),[]}};return(C,E)=>{var R;return O(),V("div",K8,[i.value?(O(),V("div",{key:0,class:"cart-animation fixed pointer-events-none z-50",ref_key:"cartAnimationEl",ref:o,style:St({backgroundImage:`url(${(R=i.value)==null?void 0:R.image})`})},null,4)):ce("",!0),l("div",null,[z(H(mn),{as:"template",show:s.value},{default:Z(()=>[z(H(oh),{class:"relative z-40 lg:hidden",onClose:E[1]||(E[1]=A=>s.value=!1)},{default:Z(()=>[z(H(gs),{as:"template",enter:"transition-opacity ease-linear duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-linear duration-300","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Z(()=>E[4]||(E[4]=[l("div",{class:"fixed inset-0 bg-black/25"},null,-1)])),_:1}),l("div",G8,[z(H(gs),{as:"template",enter:"transition ease-in-out duration-300 transform","enter-from":"translate-x-full","enter-to":"translate-x-0",leave:"transition ease-in-out duration-300 transform","leave-from":"translate-x-0","leave-to":"translate-x-full"},{default:Z(()=>[z(H(ah),{class:"relative ml-auto flex size-full max-w-xs flex-col overflow-y-auto bg-light-secondary dark:bg-dark-secondary py-4 pb-12 shadow-xl"},{default:Z(()=>[l("div",Q8,[E[6]||(E[6]=l("h2",{class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary"},"Filters",-1)),l("button",{type:"button",class:"-mr-2 flex size-10 items-center justify-center rounded-md bg-light-secondary dark:bg-dark-secondary p-2 text-light-neutral-500 dark:text-dark-neutral-500",onClick:E[0]||(E[0]=A=>s.value=!1)},[E[5]||(E[5]=l("span",{class:"sr-only"},"Close menu",-1)),z(H(uh),{class:"size-6","aria-hidden":"true"})])]),l("form",Y8,[E[8]||(E[8]=l("h3",{class:"sr-only"},"Categories",-1)),l("ul",J8,[(O(),V(Ee,null,He(h,A=>l("li",{key:A.name},[l("a",{href:"#",onClick:Ar(M=>w(A.value),["prevent"]),class:"block px-2 py-3"},W(A.name),9,X8)])),64))]),(O(),V(Ee,null,He(f,A=>z(H(rd),{as:"div",key:A.id,class:"border-t border-light-neutral-200 dark:border-dark-neutral-700 px-4 py-6"},{default:Z(({open:M})=>[l("h3",Z8,[z(H(nd),{class:"flex w-full items-center justify-between bg-light-secondary dark:bg-dark-secondary px-2 py-3 text-light-neutral-500 dark:text-dark-neutral-500 hover:text-light-neutral-700 dark:hover:text-dark-neutral-300"},{default:Z(()=>[l("span",e9,W(A.name),1),l("span",t9,[M?(O(),ht(H(Qb),{key:1,class:"size-5","aria-hidden":"true"})):(O(),ht(H(Yb),{key:0,class:"size-5","aria-hidden":"true"}))])]),_:2},1024)]),z(H(sd),{class:"pt-6"},{default:Z(()=>[l("div",r9,[(O(!0),V(Ee,null,He(A.options,(T,v)=>(O(),V("div",{key:T.value,class:"flex gap-3"},[l("div",n9,[l("div",s9,[l("input",{id:`filter-mobile-${A.id}-${v}`,name:`${A.id}[]`,value:T.value,type:"checkbox",checked:T.checked,onChange:m=>b(A.id,T.value),class:"col-start-1 row-start-1 appearance-none rounded-sm border border-light-neutral-300 dark:border-dark-neutral-700 bg-light-secondary dark:bg-dark-secondary checked:border-accent-primary checked:bg-accent-primary focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent-primary disabled:border-light-neutral-300 dark:disabled:border-dark-neutral-700 disabled:bg-light-neutral-100 dark:disabled:bg-dark-neutral-800"},null,40,i9),E[7]||(E[7]=l("svg",{class:"pointer-events-none col-start-1 row-start-1 size-3.5 self-center justify-self-center stroke-white group-has-disabled:stroke-light-neutral-900/25 dark:group-has-disabled:stroke-dark-neutral-100/25",viewBox:"0 0 14 14",fill:"none"},[l("path",{class:"opacity-0 group-has-checked:opacity-100",d:"M3 8L6 11L11 3.5","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{class:"opacity-0 group-has-indeterminate:opacity-100",d:"M3 7H11","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1))])]),l("label",{for:`filter-mobile-${A.id}-${v}`,class:"min-w-0 flex-1 text-light-neutral-600 dark:text-dark-neutral-400"},W(T.label),9,o9)]))),128))])]),_:2},1024)]),_:2},1024)),64))])]),_:1})]),_:1})])]),_:1})]),_:1},8,["show"]),l("main",a9,[l("div",l9,[E[12]||(E[12]=l("h1",{class:"text-2xl lg:text-4xl font-bold tracking-tight text-light-text-primary dark:text-dark-text-primary"},"Our Collection",-1)),l("div",c9,[z(H(EE),{as:"div",class:"relative inline-block text-left"},{default:Z(()=>[l("div",null,[z(H(IE),{class:"group inline-flex justify-center text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary"},{default:Z(()=>[E[9]||(E[9]=he(" Sort ")),z(H(H8),{class:"-mr-1 ml-1 size-5 shrink-0 text-light-neutral-400 dark:text-dark-neutral-600 group-hover:text-light-neutral-500 dark:group-hover:text-dark-neutral-500","aria-hidden":"true"})]),_:1})]),z(zs,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:Z(()=>[z(H(TE),{class:"absolute right-0 z-10 mt-2 w-40 origin-top-right rounded-md bg-light-secondary dark:bg-dark-secondary ring-1 shadow-2xl ring-black/5 focus:outline-hidden"},{default:Z(()=>[l("div",u9,[(O(),V(Ee,null,He(c,A=>z(H(Wa),{key:A.name},{default:Z(({active:M})=>[l("a",{href:"#",onClick:Ar(T=>x(A),["prevent"]),class:Ce([A.current?"font-medium text-light-text-primary dark:text-dark-text-primary":"text-light-text-secondary dark:text-dark-text-secondary",M?"bg-light-neutral-100 dark:bg-dark-neutral-800 outline-hidden":"","block px-4 py-2 text-sm"])},W(A.name),11,d9)]),_:2},1024)),64))])]),_:1})]),_:1})]),_:1}),l("button",h9,[E[10]||(E[10]=l("span",{class:"sr-only"},"View grid",-1)),z(H(W8),{class:"size-5","aria-hidden":"true"})]),l("button",{type:"button",class:"-m-2 ml-4 p-2 text-light-neutral-400 dark:text-dark-neutral-600 hover:text-light-neutral-500 dark:hover:text-dark-neutral-500 sm:ml-6 lg:hidden",onClick:E[2]||(E[2]=A=>s.value=!0)},[E[11]||(E[11]=l("span",{class:"sr-only"},"Filters",-1)),z(H(z8),{class:"size-5","aria-hidden":"true"})])])]),l("section",f9,[E[17]||(E[17]=l("h2",{id:"products-heading",class:"sr-only"},"Products",-1)),l("div",p9,[l("form",m9,[E[14]||(E[14]=l("h3",{class:"sr-only"},"Categories",-1)),l("ul",g9,[(O(),V(Ee,null,He(h,A=>l("li",{key:A.name},[l("a",{href:"#",onClick:Ar(M=>w(A.value),["prevent"])},W(A.name),9,y9)])),64)),l("li",v9,[l("a",{href:"#",onClick:E[3]||(E[3]=Ar(A=>e.value=r.value,["prevent"])),class:"text-accent-primary hover:text-accent-secondary"}," View All ")])]),(O(),V(Ee,null,He(f,A=>z(H(rd),{as:"div",key:A.id,class:"border-b border-light-neutral-200 dark:border-dark-neutral-700 py-6"},{default:Z(({open:M})=>[l("h3",b9,[z(H(nd),{class:"flex w-full items-center justify-between dark:bg-dark-secondary py-3 text-sm text-light-neutral-400 dark:text-dark-neutral-600 hover:text-light-neutral-500 dark:hover:text-dark-neutral-500"},{default:Z(()=>[l("span",x9,W(A.name),1),l("span",_9,[M?(O(),ht(H(Qb),{key:1,class:"size-5","aria-hidden":"true"})):(O(),ht(H(Yb),{key:0,class:"size-5","aria-hidden":"true"}))])]),_:2},1024)]),z(H(sd),{class:"pt-6"},{default:Z(()=>[l("div",w9,[(O(!0),V(Ee,null,He(A.options,(T,v)=>(O(),V("div",{key:T.value,class:"flex gap-3"},[l("div",k9,[l("div",E9,[l("input",{id:`filter-${A.id}-${v}`,name:`${A.id}[]`,value:T.value,type:"checkbox",checked:T.checked,onChange:m=>b(A.id,T.value),class:"col-start-1 row-start-1 appearance-none rounded-sm border border-light-neutral-300 dark:border-dark-neutral-700 bg-light-secondary dark:bg-dark-secondary checked:border-accent-primary checked:bg-accent-primary focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent-primary disabled:border-light-neutral-300 dark:disabled:border-dark-neutral-700 disabled:bg-light-neutral-100 dark:disabled:bg-dark-neutral-800"},null,40,I9),E[13]||(E[13]=l("svg",{class:"pointer-events-none col-start-1 row-start-1 size-3.5 self-center justify-self-center stroke-white group-has-disabled:stroke-light-neutral-900/25 dark:group-has-disabled:stroke-dark-neutral-100/25",viewBox:"0 0 14 14",fill:"none"},[l("path",{class:"opacity-0 group-has-checked:opacity-100",d:"M3 8L6 11L11 3.5","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),l("path",{class:"opacity-0 group-has-indeterminate:opacity-100",d:"M3 7H11","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1))])]),l("label",{for:`filter-${A.id}-${v}`,class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},W(T.label),9,T9)]))),128))])]),_:2},1024)]),_:2},1024)),64))]),l("div",A9,[n.value?(O(),V("div",S9,E[15]||(E[15]=[l("p",{class:"text-light-text-secondary dark:text-dark-text-secondary"},"Loading products...",-1)]))):e.value.length===0?(O(),V("div",C9,E[16]||(E[16]=[l("p",{class:"text-light-text-secondary dark:text-dark-text-secondary"},"No products found.",-1)]))):(O(),V("div",P9,[(O(!0),V(Ee,null,He(e.value,A=>(O(),ht(sE,{key:A.id,product:A},null,8,["product"]))),128))]))])])])])])])}}},N9=Yr(R9,[["__scopeId","data-v-79bb339f"]]),$9={class:"flex h-full items-center justify-center p-4"},O9=["src","alt"],D9={__name:"ImageViewer",props:{images:{type:Array,required:!0},currentIndex:{type:Number,required:!0},isOpen:{type:Boolean,required:!0},alt:{type:String,default:"Product image"}},emits:["update:currentIndex","close"],setup(t,{emit:e}){const r=t,n=e,s=q(r.images[r.currentIndex]);Rt(()=>r.currentIndex,c=>{s.value=r.images[c]});const i=()=>{const c=(r.currentIndex+1)%r.images.length;n("update:currentIndex",c)},o=()=>{const c=(r.currentIndex-1+r.images.length)%r.images.length;n("update:currentIndex",c)},a=()=>{n("close")};return(c,d)=>t.isOpen?(O(),V("div",{key:0,class:"fixed inset-0 z-50 bg-black/80",onClick:Ar(a,["self"])},[l("div",{class:"absolute top-4 right-4 z-50"},[l("button",{onClick:a,class:"p-2 text-white hover:text-accent-primary"},d[0]||(d[0]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),l("div",$9,[l("button",{onClick:o,class:"absolute left-4 p-2 text-white hover:text-accent-primary"},d[1]||(d[1]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),l("img",{src:s.value,alt:t.alt,class:"max-h-full max-w-full object-contain"},null,8,O9),l("button",{onClick:i,class:"absolute right-4 p-2 text-white hover:text-accent-primary"},d[2]||(d[2]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]))])])):ce("",!0)}},M9={class:"flex mb-4","aria-label":"Breadcrumb"},V9={class:"inline-flex items-center space-x-1 md:space-x-3"},L9={key:1,class:"text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},dh={__name:"Breadcrumbs",props:{items:{type:Array,required:!0}},setup(t){return(e,r)=>{const n=Rr("router-link");return O(),V("nav",M9,[l("ol",V9,[(O(!0),V(Ee,null,He(t.items,(s,i)=>(O(),V("li",{key:i,class:"inline-flex items-center"},[i===0?(O(),ht(n,{key:0,to:s.path,class:"inline-flex items-center text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary hover:text-accent-primary dark:hover:text-accent-primary"},{default:Z(()=>[z(H(F8),{class:"w-4 h-4 mr-2"}),he(" "+W(s.text),1)]),_:2},1032,["to"])):(O(),V(Ee,{key:1},[z(H(PE),{class:"w-4 h-4 mx-1 text-light-neutral-400 dark:text-dark-neutral-600"}),s.path?(O(),ht(n,{key:0,to:s.path,class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary hover:text-accent-primary dark:hover:text-accent-primary"},{default:Z(()=>[he(W(s.text),1)]),_:2},1032,["to"])):(O(),V("span",L9,W(s.text),1))],64))]))),128))])])}}},F9={class:"bg-light-primary dark:bg-dark-primary"},U9={class:"pt-6"},j9={class:"mx-auto max-w-2xl px-4 sm:px-6 lg:max-w-7xl lg:px-8"},B9={key:0,class:"text-center py-8"},q9={key:1,class:"mx-auto max-w-2xl px-4 sm:px-6 lg:max-w-7xl lg:px-8"},H9={class:"bg-red-100 dark:bg-red-900/20 p-4 rounded mb-6"},z9={class:"text-red-700 dark:text-red-400"},W9={class:"mx-auto mt-6 max-w-2xl sm:px-6 lg:max-w-7xl lg:px-8"},K9={class:"hidden sm:block lg:grid lg:grid-cols-3 lg:gap-4"},G9={class:"lg:grid lg:grid-rows-2 lg:gap-4"},Q9=["src","alt"],Y9=["src","alt"],J9={class:"lg:grid lg:grid-rows-2 lg:gap-4"},X9=["src","alt"],Z9=["src","alt"],eL={class:"lg:grid lg:grid-rows-2 lg:gap-4"},tL=["src","alt"],rL=["src","alt"],nL={class:"block sm:hidden relative"},sL={class:"relative overflow-hidden h-[70vh] rounded-lg bg-light-secondary dark:bg-dark-secondary"},iL=["src","alt"],oL={class:"flex justify-center mt-4"},aL=["onClick","aria-label"],lL={class:"mx-auto max-w-2xl px-4 pb-16 pt-10 sm:px-6 lg:grid lg:max-w-7xl lg:grid-cols-3 lg:grid-rows-[auto,auto,1fr] lg:gap-x-8 lg:px-8 lg:pb-24 lg:pt-16"},cL={class:"lg:col-span-2"},uL={class:"text-2xl font-bold tracking-tight text-light-text-primary dark:text-dark-text-primary"},dL={class:"mt-4 lg:row-span-3 lg:mt-0 lg:border-l lg:border-accent-primary/30 dark:lg:border-accent-primary/20 lg:pl-8"},hL={key:0,class:"bg-accent-primary/10 border border-accent-primary/30 text-accent-primary dark:text-dark-text-primary px-4 py-3 rounded mb-4"},fL={class:"mb-6"},pL={class:"text-3xl font-semibold tracking-tight text-purple-700 dark:text-white"},mL={key:0,class:"text-sm text-purple-600 dark:text-dark-text-secondary mt-1"},gL={class:"mt-10"},yL={class:"flex items-center justify-between mb-4"},vL={class:"grid grid-cols-2 gap-3 mb-6"},bL=["onClick"],xL={key:0,class:"absolute -top-2 -left-1 text-xs px-1.5 py-0.5 bg-amber-500 text-white rounded-full"},_L={class:"absolute -top-1 -right-1 flex -space-x-1"},wL={class:"bg-white dark:bg-dark-primary rounded-lg p-6 max-w-md w-full"},kL={class:"mb-4"},EL={class:"mb-4"},IL={class:"flex flex-wrap gap-2 items-center"},TL=["onUpdate:modelValue"],AL=["onClick"],SL=["disabled","title"],CL={key:0,class:"mt-2 text-sm text-red-500"},PL={class:"flex justify-end gap-3"},RL=["disabled"],NL={class:"mb-6"},$L={class:"flex items-center justify-center border border-light-neutral-200 dark:border-dark-neutral-700 rounded-lg bg-light-secondary dark:bg-dark-secondary"},OL=["max"],DL={class:"py-10 lg:col-span-2 lg:col-start-1 lg:pb-16 lg:pr-8 lg:pt-6"},ML={class:"space-y-6"},VL={class:"text-base text-light-text-primary dark:text-dark-text-primary"},LL={key:0,class:"mt-10"},FL={class:"list-disc space-y-2 pl-4 text-sm"},UL={key:0,class:"text-light-text-secondary dark:text-dark-text-secondary"},jL={key:1,class:"text-light-text-secondary dark:text-dark-text-secondary"},BL={key:1,class:"mt-10"},qL={class:"list-disc space-y-2 pl-4 text-sm"},HL={key:2,class:"mt-10"},zL={class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},WL={key:3,class:"mt-10"},KL={class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},GL={key:4,class:"mt-10"},QL={class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},YL={key:3,class:"text-center py-8"},JL={__name:"ProductDetailView",setup(t){const e=Nd(),r=di(),n=ao(),s=kn(),i=q(null),o=q(!0),a=q(null),c=q(1),d=q(0),h=q(!1),f=q(0),p=q(null),y=q(null),b=q(!1),w=q(""),x=q(["#ffffff"]),I=q(""),C=q([]),E=q(!1),R=q(0),A=ee(()=>e.params.id),M=ee(()=>i.value?i.value.price*c.value:0),T=ee(()=>{var K,L;return((L=(K=i.value)==null?void 0:K.images)==null?void 0:L.map(U=>k(U.main)||Pt("placeholder.jpg")))||[]}),v=ee(()=>{var K,L;return((L=(K=i.value)==null?void 0:K.careInstructions)==null?void 0:L.split(`
`).filter(U=>U.trim()))||[]}),m=ee(()=>{var K,L;return((L=(K=i.value)==null?void 0:K.images)==null?void 0:L.some(U=>{var F;return(F=U.main)==null?void 0:F.startsWith("temp://")}))||!1}),k=K=>K?typeof K=="string"&&K.startsWith("base64://")?K.replace("base64://",""):K:Pt("placeholder.jpg"),N=async()=>{o.value=!0,a.value=null;try{const K=await Fe.getProduct(A.value);i.value={...K,careInstructions:K.careInstructions||"",sizingAndFit:K.sizingAndFit||"Standard sizing available. Contact for custom sizes.",shippingInfo:K.shippingInfo||"Standard shipping available.",returnPolicy:K.returnPolicy||"Standard return policy applies.",materials:K.materials||"",dimensions:K.dimensions||"",variants:K.variants||[{name:"Default",colors:["#000000"]}],images:S(K.images)},await Se()}catch(K){console.error("Error fetching product:",K),a.value="Failed to load product details"}finally{o.value=!1}},S=K=>!Array.isArray(K)||K.length===0?[{main:Pt("placeholder.jpg"),thumb:Pt("placeholder.jpg")}]:K.map(L=>({main:k(L.main||L)||Pt("placeholder.jpg"),thumb:k(L.thumb||L)||Pt("placeholder.jpg")})),P=K=>{console.error("Image failed to load:",K.target.src),K.target.src=Pt("placeholder.jpg"),K.target.onerror=()=>{const L=K.target.parentNode;if(L){const U=document.createElement("div");U.innerHTML=`
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="100%" height="100%">
          <rect width="100%" height="100%" fill="#f0f0f0"/>
          <path d="M12 6v12M6 12h12" stroke="#aaa" stroke-width="2" stroke-linecap="round"/>
        </svg>
      `,U.className="broken-image",L.replaceChild(U,K.target)}}},le=async K=>{if(!i.value)return;const L=K.target.getBoundingClientRect(),U=L.left+L.width/2,F=L.top+L.height/2,be=document.querySelector(".group-hover\\:text-gray-500")||document.querySelector('a[href="/cart"] svg');let re=window.innerWidth-60,D=20;if(be){const B=be.getBoundingClientRect();re=B.left+B.width/2,D=B.top+B.height/2}p.value=i.value,await ar(),y.value?(y.value.style.top=`${F}px`,y.value.style.left=`${U}px`,y.value.style.opacity="1",y.value.style.transform="scale(1)",setTimeout(()=>{y.value.style.top=`${D}px`,y.value.style.left=`${re}px`,y.value.style.opacity="0",y.value.style.transform="scale(0.3)"},50),setTimeout(()=>{n.addToCart(i.value,c.value),p.value=null},600)):n.addToCart(i.value,c.value)},ue=()=>r.back(),G=K=>{f.value=K,h.value=!0},j=()=>{h.value=!1},te=()=>{x.value.length<5?(x.value.push("#ffffff"),I.value=""):I.value="Maximum 5 colors allowed"},oe=K=>{x.value.length>1&&(x.value.splice(K,1),I.value="")},ke=()=>{b.value=!1,w.value="",x.value=["#ffffff"],I.value=""},ye=async()=>{if(w.value.trim())try{const K=s.getUser;await Fe.submitVariantRequest({productId:i.value.id,productName:i.value.name,suggestion:w.value,colors:x.value,userId:(K==null?void 0:K.uid)||null,userEmail:(K==null?void 0:K.email)||"Anonymous",timestamp:new Date}),alert("Thank you! Your custom variant request has been submitted."),ke()}catch(K){console.error("Error submitting variant request:",K),alert("Failed to submit request. Please try again.")}},Se=async()=>{var K;if((K=i.value)!=null&&K.id){E.value=!0;try{const L=await Fe.getVariantRequests();C.value=L.filter(U=>U.productId===i.value.id).map(U=>{var F,be;return{name:U.suggestion.length>20?U.suggestion.substring(0,20)+"...":U.suggestion,colors:U.requestedColors||[],fullSuggestion:U.suggestion,isSuggested:!0,userEmail:U.userEmail,createdAt:((be=(F=U.createdAt)==null?void 0:F.toDate)==null?void 0:be.call(F))||new Date}})}catch(L){console.error("Error fetching variant suggestions:",L)}finally{E.value=!1}}},Le=ee(()=>{var L;return[...((L=i.value)==null?void 0:L.variants.map(U=>({...U,isSuggested:!1})))||[],...C.value]}),at=ee(()=>{if(!i.value)return[{text:"Home",path:"/"},{text:"Products",path:"/products"}];const K=[{text:"Home",path:"/"},{text:"Products",path:"/products"}];return i.value.category&&K.push({text:i.value.category,path:`/products?category=${encodeURIComponent(i.value.category)}`}),K.push({text:i.value.name}),K}),It=()=>{var K,L;(L=(K=i.value)==null?void 0:K.images)!=null&&L.length&&(R.value=(R.value+1)%i.value.images.length)},gt=()=>{var K,L;(L=(K=i.value)==null?void 0:K.images)!=null&&L.length&&(R.value=(R.value-1+i.value.images.length)%i.value.images.length)};return Ue(N),Rt(()=>e.params.id,N),(K,L)=>{var U,F,be,re,D,B,Y,ie;return O(),V("div",F9,[l("div",U9,[l("div",j9,[z(dh,{items:at.value},null,8,["items"])]),o.value?(O(),V("div",B9,L[13]||(L[13]=[l("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-accent-primary mb-2"},null,-1),l("p",{class:"text-light-text-primary dark:text-dark-text-primary"},"Loading your beautiful jewelry...",-1)]))):a.value?(O(),V("div",q9,[l("div",H9,[l("p",z9,W(a.value),1),l("button",{onClick:ue,class:"mt-2 text-sm text-accent-primary hover:underline"},"← Return to previous page")])])):i.value?(O(),V(Ee,{key:2},[l("div",W9,[l("div",K9,[l("div",G9,[l("div",{class:"aspect-square overflow-hidden rounded-lg cursor-pointer bg-light-secondary dark:bg-dark-secondary",onClick:L[0]||(L[0]=J=>G(0))},[l("img",{src:k((U=i.value.images[0])==null?void 0:U.main)||H(Pt)("placeholder.jpg"),alt:i.value.name,class:"h-full w-full object-cover",onError:P},null,40,Q9)]),l("div",{class:"aspect-square overflow-hidden rounded-lg cursor-pointer bg-light-secondary dark:bg-dark-secondary",onClick:L[1]||(L[1]=J=>G(1))},[l("img",{src:k((F=i.value.images[1])==null?void 0:F.main)||H(Pt)("placeholder.jpg"),alt:i.value.name,class:"h-full w-full object-cover",onError:P},null,40,Y9)])]),l("div",J9,[l("div",{class:"aspect-square overflow-hidden rounded-lg cursor-pointer bg-light-secondary dark:bg-dark-secondary",onClick:L[2]||(L[2]=J=>G(2))},[l("img",{src:k((be=i.value.images[2])==null?void 0:be.main)||H(Pt)("placeholder.jpg"),alt:i.value.name,class:"h-full w-full object-cover",onError:P},null,40,X9)]),l("div",{class:"aspect-square overflow-hidden rounded-lg cursor-pointer bg-light-secondary dark:bg-dark-secondary",onClick:L[3]||(L[3]=J=>G(3))},[l("img",{src:k((re=i.value.images[3])==null?void 0:re.main)||H(Pt)("placeholder.jpg"),alt:i.value.name,class:"h-full w-full object-cover",onError:P},null,40,Z9)])]),l("div",eL,[l("div",{class:"aspect-square overflow-hidden rounded-lg cursor-pointer bg-light-secondary dark:bg-dark-secondary",onClick:L[4]||(L[4]=J=>G(4))},[l("img",{src:k((D=i.value.images[4])==null?void 0:D.main)||H(Pt)("placeholder.jpg"),alt:i.value.name,class:"h-full w-full object-cover",onError:P},null,40,tL)]),l("div",{class:"aspect-square overflow-hidden rounded-lg cursor-pointer bg-light-secondary dark:bg-dark-secondary",onClick:L[5]||(L[5]=J=>G(5))},[l("img",{src:k((B=i.value.images[5])==null?void 0:B.main)||H(Pt)("placeholder.jpg"),alt:i.value.name,class:"h-full w-full object-cover",onError:P},null,40,rL)])])]),l("div",nL,[l("div",sL,[l("img",{src:k((Y=i.value.images[R.value])==null?void 0:Y.main)||H(Pt)("placeholder.jpg"),alt:i.value.name,class:"h-full w-full object-contain",onError:P},null,40,iL),l("button",{onClick:gt,class:"absolute left-2 top-1/2 -translate-y-1/2 bg-white/70 dark:bg-black/60 rounded-full p-2 shadow-lg text-accent-primary hover:bg-white hover:text-btn-primary-hover transition-colors"},L[14]||(L[14]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})],-1)])),l("button",{onClick:It,class:"absolute right-2 top-1/2 -translate-y-1/2 bg-white/70 dark:bg-black/60 rounded-full p-2 shadow-lg text-accent-primary hover:bg-white hover:text-btn-primary-hover transition-colors"},L[15]||(L[15]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})],-1)])),l("button",{onClick:L[6]||(L[6]=J=>G(R.value)),class:"absolute right-2 top-2 bg-white/70 dark:bg-black/60 rounded-full p-2 shadow-lg text-accent-primary hover:bg-white hover:text-btn-primary-hover transition-colors"},L[16]||(L[16]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 3.75v4.5m0-4.5h4.5m9 0h4.5m-4.5 0v4.5m-9 18.75h4.5m-4.5 0v-4.5m4.5 0h9m-9 0v4.5m0 0h4.5"})],-1)]))]),l("div",oL,[(O(!0),V(Ee,null,He(T.value,(J,se)=>(O(),V("button",{key:se,onClick:pe=>R.value=se,class:Ce(["w-2 h-2 mx-1 rounded-full transition-colors",R.value===se?"bg-accent-primary":"bg-gray-300 dark:bg-dark-neutral-600"]),"aria-label":`View image ${se+1}`},null,10,aL))),128))])])]),i.value?(O(),ht(D9,{key:0,images:T.value,"current-index":f.value,"is-open":h.value,alt:i.value.name,"onUpdate:currentIndex":L[7]||(L[7]=J=>f.value=J),onClose:j},null,8,["images","current-index","is-open","alt"])):ce("",!0),p.value?(O(),V("div",{key:1,class:"cart-animation",ref_key:"cartAnimationEl",ref:y,style:St({backgroundImage:`url(${k((ie=p.value.images[0])==null?void 0:ie.main)||H(Pt)("placeholder.jpg")})`})},null,4)):ce("",!0),l("div",lL,[l("div",cL,[l("h1",uL,W(i.value.name),1)]),l("div",dL,[m.value?(O(),V("div",hL,L[17]||(L[17]=[l("strong",{class:"font-bold"},"Warning:",-1),he(" Some images are temporarily stored locally. ")]))):ce("",!0),l("div",fL,[L[18]||(L[18]=l("h2",{class:"sr-only"},"Product information",-1)),l("p",pL,W(H(Ye)(M.value)),1),c.value>1?(O(),V("p",mL,W(H(Ye)(i.value.price))+" each",1)):ce("",!0)]),l("div",gL,[l("div",yL,[L[19]||(L[19]=l("h3",{class:"text-sm font-medium text-gray-900 dark:text-dark-text-primary"},"Variants",-1)),l("button",{onClick:L[8]||(L[8]=J=>b.value=!0),class:"text-sm text-btn-primary hover:text-btn-primary-hover transition-colors"},"Request Custom Variant")]),l("div",vL,[(O(!0),V(Ee,null,He(Le.value,(J,se)=>(O(),V("button",{key:se,onClick:pe=>d.value=se,class:Ce(["relative flex items-center justify-center rounded-lg border-2 py-3 px-4 text-sm font-medium transition-all duration-200",d.value===se?"border-purple-600 bg-purple-50 text-purple-700 dark:border-accent-primary dark:bg-accent-primary/10 dark:text-accent-primary shadow-sm":"border-gray-300 dark:border-dark-neutral-700 text-purple-700 dark:text-dark-text-primary hover:border-purple-600/50"])},[l("span",null,W(J.name),1),J.isSuggested?(O(),V("span",xL," Suggested ")):ce("",!0),l("div",_L,[(O(!0),V(Ee,null,He(J.colors,(pe,fe)=>(O(),V("div",{key:fe,class:"w-3 h-3 rounded-full border border-white dark:border-dark-neutral-800",style:St({backgroundColor:pe})},null,4))),128))])],10,bL))),128))]),b.value?(O(),V("div",{key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",onClick:Ar(ke,["self"])},[l("div",wL,[l("div",{class:"flex justify-between items-center mb-4"},[L[20]||(L[20]=l("h3",{class:"text-lg font-medium text-gray-900 dark:text-dark-text-primary"},"Request Custom Variant",-1)),l("button",{onClick:ke,class:"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200"},"✕")]),l("div",kL,[L[21]||(L[21]=l("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Describe your desired variant",-1)),xe(l("textarea",{"onUpdate:modelValue":L[9]||(L[9]=J=>w.value=J),rows:"4",placeholder:"Example: I'd love this in blue crystal beads with silver threading",class:"w-full p-3 border rounded-lg bg-white dark:bg-dark-secondary text-gray-700 dark:text-gray-200 border-gray-300 dark:border-dark-neutral-600 focus:ring-2 focus:ring-purple-500 focus:border-purple-500"},null,512),[[Pe,w.value]])]),l("div",EL,[L[22]||(L[22]=l("label",{class:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"},"Select Colors (Max 5)",-1)),l("div",IL,[(O(!0),V(Ee,null,He(x.value,(J,se)=>(O(),V("div",{key:se,class:"flex items-center gap-2 bg-accent-primary/20 p-2 rounded-lg shadow-sm"},[xe(l("input",{type:"color","onUpdate:modelValue":pe=>x.value[se]=pe,class:"w-8 h-8 rounded cursor-pointer border-0"},null,8,TL),[[Pe,x.value[se]]]),x.value.length>1?(O(),V("button",{key:0,onClick:pe=>oe(se),class:"text-gray-400 hover:text-red-500 transition-colors",title:"Remove color"},"✕",8,AL)):ce("",!0)]))),128)),l("button",{onClick:te,disabled:x.value.length>=5,class:Ce(["w-8 h-8 rounded-lg border-2 border-dashed flex items-center justify-center transition-colors",x.value.length>=5?"border-gray-300 text-gray-300 cursor-not-allowed":"border-gray-400 text-gray-400 hover:border-accent-primary hover:text-accent-primary"]),title:x.value.length>=5?"Maximum colors reached":"Add color"},"+",10,SL)]),I.value?(O(),V("p",CL,W(I.value),1)):ce("",!0)]),l("div",PL,[l("button",{onClick:ke,class:"px-4 py-2 text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-dark-neutral-800 rounded-lg"},"Cancel"),l("button",{onClick:ye,disabled:!w.value.trim(),class:"px-4 py-2 bg-btn-primary hover:bg-btn-primary-hover active:bg-btn-primary-dark text-white rounded-lg"},"Submit Request",8,RL)])])])):ce("",!0)]),l("div",NL,[L[23]||(L[23]=l("h3",{class:"text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-3"},"Quantity",-1)),l("div",$L,[l("button",{onClick:L[10]||(L[10]=J=>c.value>1?c.value--:null),class:"w-12 h-12 flex items-center justify-center text-light-text-primary dark:text-dark-text-primary hover:bg-light-neutral-100 dark:hover:bg-dark-neutral-800 rounded-l-lg"},"−"),xe(l("input",{"onUpdate:modelValue":L[11]||(L[11]=J=>c.value=J),type:"number",min:"1",max:i.value.stock,class:"w-16 h-12 text-center border-x border-light-neutral-200 dark:border-dark-neutral-700 bg-transparent text-light-text-primary dark:text-dark-text-primary"},null,8,OL),[[Pe,c.value]]),l("button",{onClick:L[12]||(L[12]=J=>c.value<i.value.stock?c.value++:null),class:"w-12 h-12 flex items-center justify-center text-light-text-primary dark:text-dark-text-primary hover:bg-light-neutral-100 dark:hover:bg-dark-neutral-800 rounded-r-lg"},"+")])]),l("button",{onClick:le,class:"w-full h-12 flex items-center justify-center rounded-lg bg-btn-primary hover:bg-btn-primary-hover active:bg-btn-primary-dark text-white font-medium shadow-btn hover:shadow-btn-hover transition-all"},"Add to bag")]),l("div",DL,[l("div",null,[L[24]||(L[24]=l("h3",{class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary mb-4"},"Description",-1)),l("div",ML,[l("p",VL,W(i.value.description),1)])]),i.value.materials||i.value.dimensions?(O(),V("div",LL,[L[27]||(L[27]=l("h3",{class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary mb-4"},"Materials & Dimensions",-1)),l("ul",FL,[i.value.materials?(O(),V("li",UL,[L[25]||(L[25]=l("span",{class:"font-medium text-light-text-primary dark:text-dark-text-primary"},"Materials:",-1)),he(" "+W(i.value.materials),1)])):ce("",!0),i.value.dimensions?(O(),V("li",jL,[L[26]||(L[26]=l("span",{class:"font-medium text-light-text-primary dark:text-dark-text-primary"},"Dimensions:",-1)),he(" "+W(i.value.dimensions),1)])):ce("",!0)])])):ce("",!0),i.value.careInstructions?(O(),V("div",BL,[L[28]||(L[28]=l("h3",{class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary mb-4"},"Care Instructions",-1)),l("ul",qL,[(O(!0),V(Ee,null,He(v.value,(J,se)=>(O(),V("li",{key:se,class:"text-light-text-secondary dark:text-dark-text-secondary"},W(J),1))),128))])])):ce("",!0),i.value.sizingAndFit?(O(),V("div",HL,[L[29]||(L[29]=l("h3",{class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary mb-4"},"Sizing & Fit",-1)),l("p",zL,W(i.value.sizingAndFit),1)])):ce("",!0),i.value.shippingInfo?(O(),V("div",WL,[L[30]||(L[30]=l("h3",{class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary mb-4"},"Shipping",-1)),l("p",KL,W(i.value.shippingInfo),1)])):ce("",!0),i.value.returnPolicy?(O(),V("div",GL,[L[31]||(L[31]=l("h3",{class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary mb-4"},"Return Policy",-1)),l("p",QL,W(i.value.returnPolicy),1)])):ce("",!0)])])],64)):(O(),V("div",YL,[L[32]||(L[32]=l("p",{class:"text-light-text-primary dark:text-dark-text-primary"},"Product not found.",-1)),l("button",{onClick:ue,class:"mt-4 bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark text-white px-4 py-2 rounded"},"Return to Shop")]))])])}}},XL=Yr(JL,[["__scopeId","data-v-9a2d6ee9"]]),ZL={class:"min-h-full flex flex-col justify-center py-12 sm:px-6 lg:px-8 bg-light-primary dark:bg-dark-primary"},eF={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},tF={class:"bg-light-secondary dark:bg-dark-secondary py-8 px-4 shadow sm:rounded-lg sm:px-10 border border-light-neutral-300 dark:border-dark-neutral-600"},rF={key:0,class:"rounded-md bg-red-50 p-4 mb-6"},nF={class:"flex"},sF={class:"flex-shrink-0"},iF={class:"ml-3"},oF={class:"mt-2 text-sm text-red-700"},aF={class:"mt-1 relative rounded-md shadow-sm"},lF={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},cF={class:"mt-1 relative rounded-md shadow-sm"},uF={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},dF=["disabled"],hF={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},fF={class:"mt-6"},pF={class:"mt-2 text-center"},mF={__name:"LoginView",setup(t){const e=kn(),r=di(),n=Nd(),s=q(""),i=q(""),o=q(""),a=q(!1),c=q("");Ue(()=>{if(e.isAuthenticated){const h=n.query.redirect||"/account";r.replace(h)}});const d=async()=>{if(!s.value||!i.value){o.value="Please enter both email and password.";return}try{a.value=!0,o.value=null,c.value="Signing in...";const h=await e.login(s.value,i.value);c.value="Redirecting...",r.replace(h)}catch(h){console.error("Login error:",h),o.value=h.message||"Failed to sign in. Please check your credentials.",c.value=""}finally{a.value=!1}};return(h,f)=>{const p=Rr("RouterLink");return O(),V("div",ZL,[f[9]||(f[9]=l("div",{class:"sm:mx-auto sm:w-full sm:max-w-md"},[l("h2",{class:"text-center text-3xl font-extrabold text-light-text-primary dark:text-dark-text-primary"},"Sign in to your account")],-1)),l("div",eF,[l("div",tF,[z(H(mn),{appear:"",show:!!o.value},{default:Z(()=>[o.value?(O(),V("div",rF,[l("div",nF,[l("div",sF,[z(H(Ap),{class:"h-5 w-5 text-red-400","aria-hidden":"true"})]),l("div",iF,[f[2]||(f[2]=l("h3",{class:"text-sm font-medium text-red-800"},"Authentication Error",-1)),l("div",oF,[l("p",null,W(o.value),1)])])])])):ce("",!0)]),_:1},8,["show"]),l("form",{onSubmit:Ar(d,["prevent"]),class:"space-y-6"},[l("div",null,[f[3]||(f[3]=l("label",{for:"email",class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},"Email address",-1)),l("div",aF,[l("div",lF,[z(H(NE),{class:"h-5 w-5 text-light-neutral-500 dark:text-dark-neutral-500","aria-hidden":"true"})]),xe(l("input",{id:"email","onUpdate:modelValue":f[0]||(f[0]=y=>s.value=y),type:"email",required:"",class:"appearance-none block w-full pl-10 pr-3 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded-md shadow-sm bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary placeholder-light-neutral-400 dark:placeholder-dark-neutral-500 focus:ring-2 focus:ring-accent-primary focus:border-accent-primary",placeholder:"Your email"},null,512),[[Pe,s.value]])])]),l("div",null,[f[4]||(f[4]=l("label",{for:"password",class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},"Password",-1)),l("div",cF,[l("div",uF,[z(H(Sp),{class:"h-5 w-5 text-light-neutral-500 dark:text-dark-neutral-500","aria-hidden":"true"})]),xe(l("input",{id:"password","onUpdate:modelValue":f[1]||(f[1]=y=>i.value=y),type:"password",required:"",class:"appearance-none block w-full pl-10 pr-3 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded-md shadow-sm bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary placeholder-light-neutral-400 dark:placeholder-dark-neutral-500 focus:ring-2 focus:ring-accent-primary focus:border-accent-primary",placeholder:"Your password"},null,512),[[Pe,i.value]])])]),f[6]||(f[6]=wt('<div class="flex items-center justify-between"><div class="flex items-center"><input id="remember-me" name="remember-me" type="checkbox" class="h-4 w-4 text-orange-500 focus:ring-orange-500 border-light-neutral-300 dark:border-dark-neutral-600 rounded"><label for="remember-me" class="ml-2 block text-sm text-light-text-primary dark:text-dark-text-primary">Remember me</label></div><div class="text-sm"><a href="#" class="font-medium text-orange-500 hover:text-orange-600 dark:text-orange-400 dark:hover:text-orange-500">Forgot your password?</a></div></div>',1)),l("div",null,[l("button",{type:"submit",class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-orange-500 hover:bg-orange-600 dark:bg-orange-600 dark:hover:bg-orange-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",disabled:a.value},[a.value?(O(),V("svg",hF,f[5]||(f[5]=[l("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),l("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):ce("",!0),he(" "+W(a.value?c.value:"Sign in"),1)],8,dF)])],32),l("div",fF,[f[8]||(f[8]=wt('<div class="relative"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-light-neutral-300 dark:border-dark-neutral-600"></div></div><div class="relative flex justify-center text-sm"><span class="px-2 bg-light-secondary dark:bg-dark-secondary text-light-text-secondary dark:text-dark-text-secondary">Don&#39;t have an account?</span></div></div>',1)),l("div",pF,[z(p,{to:"/register",class:"font-medium text-orange-500 hover:text-orange-600 dark:text-orange-400 dark:hover:text-orange-500"},{default:Z(()=>f[7]||(f[7]=[he("Create an account")])),_:1})])])])])])}}},gF={class:"min-h-full flex flex-col justify-center py-12 sm:px-6 lg:px-8 bg-light-primary dark:bg-dark-primary"},yF={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},vF={class:"bg-light-secondary dark:bg-dark-secondary py-8 px-4 shadow sm:rounded-lg sm:px-10 border border-light-neutral-300 dark:border-dark-neutral-600"},bF={key:0,class:"rounded-md bg-red-50 p-4 mb-6"},xF={class:"flex"},_F={class:"flex-shrink-0"},wF={class:"ml-3"},kF={class:"mt-2 text-sm text-red-700"},EF={class:"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-2"},IF={class:"mt-1 relative rounded-md shadow-sm"},TF={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},AF={class:"mt-1 relative rounded-md shadow-sm"},SF={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},CF={class:"mt-1 relative rounded-md shadow-sm"},PF={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},RF={class:"mt-1 relative rounded-md shadow-sm"},NF={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},$F={class:"mt-1 relative rounded-md shadow-sm"},OF={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},DF={key:0,class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},MF={key:0,class:"mt-2 text-sm text-red-600"},VF=["disabled"],LF={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},FF={class:"mt-6"},UF={class:"mt-2 text-center"},jF={__name:"RegisterView",setup(t){const e=kn(),r=di(),n=q(""),s=q(""),i=q(""),o=q(""),a=q(""),c=q(""),d=q(!1),h=q(!1),f=()=>{i.value&&s.value!==i.value?h.value=!0:h.value=!1},p=async()=>{if(c.value="",d.value=!0,s.value!==i.value){c.value="Passwords do not match",d.value=!1;return}try{await e.register(n.value,s.value,{firstName:o.value,lastName:a.value,email:n.value}),r.push("/")}catch(y){c.value=y.message||"Failed to register. Please try again."}finally{d.value=!1}};return(y,b)=>{const w=Rr("RouterLink");return O(),V("div",gF,[b[15]||(b[15]=l("div",{class:"sm:mx-auto sm:w-full sm:max-w-md"},[l("h2",{class:"text-center text-3xl font-extrabold text-light-text-primary dark:text-dark-text-primary"},"Create your account"),l("p",{class:"mt-2 text-center text-sm text-light-text-secondary dark:text-dark-text-secondary"}," Join our jewelry community today ")],-1)),l("div",yF,[l("div",vF,[z(H(mn),{appear:"",show:!!c.value},{default:Z(()=>[c.value?(O(),V("div",bF,[l("div",xF,[l("div",_F,[z(H(Ap),{class:"h-5 w-5 text-red-400","aria-hidden":"true"})]),l("div",wF,[b[5]||(b[5]=l("h3",{class:"text-sm font-medium text-red-800"},"Registration Error",-1)),l("div",kF,[l("p",null,W(c.value),1)])])])])):ce("",!0)]),_:1},8,["show"]),l("form",{onSubmit:Ar(p,["prevent"]),class:"space-y-6"},[l("div",EF,[l("div",null,[b[6]||(b[6]=l("label",{for:"firstName",class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},"First name",-1)),l("div",IF,[l("div",TF,[z(H(Jb),{class:"h-5 w-5 text-light-neutral-500 dark:text-dark-neutral-500","aria-hidden":"true"})]),xe(l("input",{id:"firstName","onUpdate:modelValue":b[0]||(b[0]=x=>o.value=x),type:"text",required:"",class:"appearance-none block w-full pl-10 pr-3 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded-md shadow-sm bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary placeholder-light-neutral-400 dark:placeholder-dark-neutral-500 focus:ring-2 focus:ring-accent-primary focus:border-accent-primary",placeholder:"First name"},null,512),[[Pe,o.value]])])]),l("div",null,[b[7]||(b[7]=l("label",{for:"lastName",class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},"Last name",-1)),l("div",AF,[l("div",SF,[z(H(Jb),{class:"h-5 w-5 text-light-neutral-500 dark:text-dark-neutral-500","aria-hidden":"true"})]),xe(l("input",{id:"lastName","onUpdate:modelValue":b[1]||(b[1]=x=>a.value=x),type:"text",required:"",class:"appearance-none block w-full pl-10 pr-3 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded-md shadow-sm bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary placeholder-light-neutral-400 dark:placeholder-dark-neutral-500 focus:ring-2 focus:ring-accent-primary focus:border-accent-primary",placeholder:"Last name"},null,512),[[Pe,a.value]])])])]),l("div",null,[b[8]||(b[8]=l("label",{for:"email",class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},"Email address",-1)),l("div",CF,[l("div",PF,[z(H(NE),{class:"h-5 w-5 text-light-neutral-500 dark:text-dark-neutral-500","aria-hidden":"true"})]),xe(l("input",{id:"email","onUpdate:modelValue":b[2]||(b[2]=x=>n.value=x),type:"email",required:"",class:"appearance-none block w-full pl-10 pr-3 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded-md shadow-sm bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary placeholder-light-neutral-400 dark:placeholder-dark-neutral-500 focus:ring-2 focus:ring-accent-primary focus:border-accent-primary",placeholder:"Your email"},null,512),[[Pe,n.value]])])]),l("div",null,[b[9]||(b[9]=l("label",{for:"password",class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},"Password",-1)),l("div",RF,[l("div",NF,[z(H(Sp),{class:"h-5 w-5 text-light-neutral-500 dark:text-dark-neutral-500","aria-hidden":"true"})]),xe(l("input",{id:"password","onUpdate:modelValue":b[3]||(b[3]=x=>s.value=x),type:"password",required:"",minlength:"6",class:"appearance-none block w-full pl-10 pr-3 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded-md shadow-sm bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary placeholder-light-neutral-400 dark:placeholder-dark-neutral-500 focus:ring-2 focus:ring-accent-primary focus:border-accent-primary",placeholder:"Create password"},null,512),[[Pe,s.value]])]),b[10]||(b[10]=l("p",{class:"mt-1 text-xs text-light-text-secondary dark:text-dark-text-secondary"},"Password must be at least 6 characters",-1))]),l("div",null,[b[11]||(b[11]=l("label",{for:"confirmPassword",class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},"Confirm Password",-1)),l("div",$F,[l("div",OF,[z(H(Sp),{class:"h-5 w-5 text-light-neutral-500 dark:text-dark-neutral-500","aria-hidden":"true"})]),xe(l("input",{id:"confirmPassword","onUpdate:modelValue":b[4]||(b[4]=x=>i.value=x),type:"password",required:"",minlength:"6",onInput:f,class:Ce(["appearance-none block w-full pl-10 pr-3 py-2 border rounded-md shadow-sm placeholder-light-neutral-400 dark:placeholder-dark-neutral-500 focus:ring-2 focus:outline-none",h.value?"border-red-300 text-red-900 focus:ring-red-500 focus:border-red-500":"border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary"]),placeholder:"Confirm password"},null,34),[[Pe,i.value]]),h.value?(O(),V("div",DF,[z(H(Ap),{class:"h-5 w-5 text-red-500","aria-hidden":"true"})])):ce("",!0)]),h.value?(O(),V("p",MF,"Passwords don't match")):ce("",!0)]),l("div",null,[l("button",{type:"submit",class:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-orange-500 hover:bg-orange-600 dark:bg-orange-600 dark:hover:bg-orange-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",disabled:d.value||h.value},[d.value?(O(),V("svg",LF,b[12]||(b[12]=[l("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),l("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):ce("",!0),he(" "+W(d.value?"Creating Account...":"Create Account"),1)],8,VF)])],32),l("div",FF,[b[14]||(b[14]=wt('<div class="relative"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-light-neutral-300 dark:border-dark-neutral-600"></div></div><div class="relative flex justify-center text-sm"><span class="px-2 bg-light-secondary dark:bg-dark-secondary text-light-text-secondary dark:text-dark-text-secondary">Already have an account?</span></div></div>',1)),l("div",UF,[z(w,{to:"/login",class:"font-medium text-orange-500 hover:text-orange-600 dark:text-orange-400 dark:hover:text-orange-500"},{default:Z(()=>b[13]||(b[13]=[he("Sign in instead")])),_:1})])])])])])}}},BF={class:"bg-white dark:bg-dark-secondary rounded-lg shadow-md p-5 mb-5"},qF={key:0,class:"flex items-center justify-center py-4"},HF={key:1},zF={key:0,class:"flex items-center text-green-600 dark:text-green-500"},WF={key:1},KF={class:"text-light-text-secondary dark:text-dark-text-secondary mb-4"},GF=["disabled"],QF={key:0,class:"flex items-center"},YF={key:1},JF={key:0,class:"mt-2 text-sm text-light-text-secondary dark:text-dark-text-secondary"},XF={__name:"EmailVerificationStatus",setup(t){const e=kn(),r=q(!0),n=q(!1),s=q(0);let i=null;const o=ee(()=>{var f;return((f=e.user)==null?void 0:f.email)||""}),a=ee(()=>e.isEmailVerified),c=async()=>{r.value=!0;try{await e.checkEmailVerification()}catch(f){console.error("Error checking verification status:",f)}finally{r.value=!1}},d=async()=>{if(!(s.value>0||n.value)){n.value=!0;try{await e.sendVerificationEmail(),s.value=60,h()}catch(f){console.error("Error resending verification email:",f)}finally{n.value=!1}}},h=()=>{i&&clearInterval(i),i=setInterval(()=>{s.value-=1,s.value<=0&&(clearInterval(i),i=null)},1e3)};return Ue(async()=>{await c()}),ui(()=>{i&&clearInterval(i)}),(f,p)=>(O(),V("div",BF,[p[6]||(p[6]=l("h3",{class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary mb-2"},"Email Verification Status",-1)),r.value?(O(),V("div",qF,p[0]||(p[0]=[l("div",{class:"animate-spin rounded-full h-6 w-6 border-b-2 border-orange-500"},null,-1),l("span",{class:"ml-2 text-light-text-secondary dark:text-dark-text-secondary"},"Checking status...",-1)]))):(O(),V("div",HF,[a.value?(O(),V("div",zF,p[1]||(p[1]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z","clip-rule":"evenodd"})],-1),l("span",null,"Your email address has been verified.",-1)]))):(O(),V("div",WF,[p[5]||(p[5]=l("div",{class:"flex items-center text-amber-600 dark:text-amber-500 mb-3"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor"},[l("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})]),l("span",null,"Your email address is not verified.")],-1)),l("p",KF,[p[2]||(p[2]=he(" Please verify your email address to access all features of this website. A verification link has been sent to ")),l("strong",null,W(o.value),1),p[3]||(p[3]=he(". "))]),l("button",{onClick:d,class:"bg-orange-500 hover:bg-orange-600 text-white font-semibold py-2 px-4 rounded focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-opacity-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",disabled:n.value},[n.value?(O(),V("div",QF,p[4]||(p[4]=[l("div",{class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},null,-1),he(" Sending... ")]))):(O(),V("span",YF,"Resend Verification Email"))],8,GF),s.value>0?(O(),V("div",JF," You can request another email in "+W(s.value)+" seconds. ",1)):ce("",!0)]))]))]))}},ZF={class:"min-h-screen bg-light-primary dark:bg-dark-primary"},eU={class:"max-w-4xl mx-auto px-4 py-8"},tU={key:0,class:"space-y-6 animate-pulse"},rU={class:"bg-white shadow rounded-lg p-6"},nU={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},sU={class:"bg-white shadow rounded-lg p-6"},iU={class:"bg-green-50 border-l-4 border-green-500 p-4 rounded-md shadow-sm flex items-center"},oU={class:"text-green-700"},aU={class:"bg-red-50 border-l-4 border-red-500 p-4 rounded-md shadow-sm flex items-center"},lU={class:"text-red-700"},cU={key:0,class:"ml-2 bg-accent-secondary/20 text-accent-primary text-xs px-2 py-0.5 rounded-full"},uU={class:"bg-white dark:bg-dark-neutral-800 shadow-sm rounded-lg overflow-hidden ring-1 ring-gray-900/5 dark:ring-dark-neutral-700"},dU={class:"bg-gradient-to-r from-accent-quaternary to-accent-secondary px-6 py-4"},hU={class:"flex justify-between items-center"},fU={class:"p-6"},pU={key:0,class:"grid md:grid-cols-2 gap-y-6 gap-x-8"},mU={class:"profile-field"},gU={class:"text-gray-800"},yU={class:"profile-field"},vU={class:"text-gray-800"},bU={class:"profile-field"},xU={class:"text-gray-800"},_U={class:"profile-field"},wU={class:"text-gray-800"},kU={class:"space-y-2"},EU={class:"space-y-2"},IU={class:"space-y-2"},TU={class:"space-y-2"},AU={class:"md:col-span-2 space-y-2"},SU={class:"md:col-span-2 flex justify-end space-x-4 pt-4"},CU={type:"submit",class:"px-4 py-2.5 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white font-medium rounded-lg shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-200 flex items-center"},PU={class:"bg-white dark:bg-dark-neutral-800 shadow-sm rounded-lg overflow-hidden ring-1 ring-gray-900/5 dark:ring-dark-neutral-700"},RU={class:"p-6"},NU={key:0,class:"text-center py-12 bg-gray-50 dark:bg-indigo-900/20 rounded-lg"},$U={key:1,class:"space-y-6"},OU={class:"flex items-start space-x-4"},DU={class:"bg-indigo-100 rounded-full p-2 hidden sm:block"},MU={class:"font-medium text-gray-900 dark:text-gray-100"},VU={class:"flex items-center text-sm text-gray-600 mt-1"},LU={class:"flex flex-col items-end mt-2 sm:mt-0"},FU={class:"font-semibold text-lg text-gray-900 dark:text-gray-100"},UU={key:0,class:"text-sm italic text-gray-800"},jU={key:1,class:"space-y-2 mb-4"},BU={class:"flex items-center"},qU={class:"h-14 w-14 rounded-md overflow-hidden border border-gray-200 mr-3 flex-shrink-0 bg-gray-50"},HU=["src","alt"],zU={class:"text-gray-800 font-medium"},WU={class:"flex items-center mt-1"},KU={class:"bg-indigo-100 text-indigo-800 rounded-full w-5 h-5 flex items-center justify-center mr-2 text-xs"},GU={class:"text-xs text-gray-500 md:hidden"},QU={class:"flex flex-col items-end"},YU={class:"text-gray-900 font-medium"},JU={class:"text-xs text-gray-500 hidden md:block"},XU={class:"mt-4 flex flex-col space-y-2 text-sm"},ZU={class:"flex justify-between text-gray-800 pt-2 border-t"},ej={class:"text-gray-800"},tj={class:"flex justify-between text-gray-800"},rj={class:"text-gray-800"},nj={__name:"AccountView",setup(t){const e=kn(),r=q(null),n=q([]),s=q(!0),i=q(!1),o=q(""),a=q("");q("profile"),q(!1);const c=q({firstName:"",lastName:"",email:"",phone:"",address:""}),d=q(!1);Ue(async()=>{if(e.user)try{const x=await Fe.getUserProfile(e.user.uid);r.value=x,x&&(c.value={firstName:x.firstName||"",lastName:x.lastName||"",email:x.email||e.user.email,phone:x.phone||"",address:x.address||""});try{console.log("Fetching orders for user:",e.user.uid);const I=await Fe.getUserOrders(e.user.uid);console.log("Orders received:",I.length,I),I&&I.length>0?(n.value=I.map(C=>({...C,formattedDate:h(C.orderDate),displayTotal:typeof C.total=="number"?C.total.toFixed(2):"0.00",orderNumber:C.orderNumber||`ORD-${C.id.substring(0,6)}`,items:Array.isArray(C.items)?C.items:[]})),console.log("Processed orders:",n.value)):(console.log("No orders found or empty array returned"),n.value=[])}catch(I){console.error("Error fetching orders:",I),n.value=[],a.value="Could not load order history"}}catch(x){a.value="Error loading user data",console.error("Error in account view:",x)}finally{s.value=!1,setTimeout(()=>{d.value=!0},100)}else s.value=!1,setTimeout(()=>{d.value=!0},100)});const h=x=>{if(!x)return"N/A";try{let I;if(x.toDate&&typeof x.toDate=="function")I=x.toDate();else if(x.seconds)I=new Date(x.seconds*1e3);else if(x instanceof Date)I=x;else if(typeof x=="string")I=new Date(x);else if(typeof x=="number")I=new Date(x);else return"Invalid date";return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric"}).format(I)}catch(I){return console.error("Error formatting date:",I,x),"Date error"}},f=async()=>{a.value="",o.value="";try{await Fe.updateUserProfile(e.user.uid,c.value),r.value={...r.value,...c.value},i.value=!1,o.value="Profile updated successfully!",setTimeout(()=>{o.value=""},3e3)}catch(x){a.value="Failed to update profile",console.error("Error updating profile:",x)}},p=x=>({Processing:"bg-amber-100 text-amber-800 border border-amber-300",Shipped:"bg-blue-100 text-blue-800 border border-blue-300",Delivered:"bg-emerald-100 text-emerald-800 border border-emerald-300",Cancelled:"bg-red-100 text-red-800 border border-red-300"})[x]||"bg-gray-100 text-gray-800 border border-gray-300",y=(x=0)=>({"transition-all duration-500 ease-out":!0,"opacity-0 translate-y-4":!d.value,"opacity-100 translate-y-0":d.value,[`delay-${x}`]:x>0}),b=x=>{if(!x)return Pt("placeholder.jpg");if(typeof x=="string"){if(x.startsWith("base64://"))return x.replace("base64://","");if(x.startsWith("temp://"))return x.replace("temp://","")}return x},w=x=>{console.error("Image failed to load:",x.target.src),x.target.src=Pt("placeholder.jpg"),x.target.onerror=function(){const I=x.target.parentNode;if(I){I.classList.add("flex","items-center","justify-center","bg-gray-100"),x.target.style.display="none";const C=document.createElement("div");C.innerHTML=`
        <svg xmlns="http://www.w3.org/200/svg" viewBox="0 0 24 24" width="100%" height="100%">
          <rect width="100%" height="100%" fill="#f0f0f0"/>
          <path d="M12 6v12M6 12h12" stroke="#aaa" stroke-width="2" stroke-linecap="round"/>
        </svg>
      `,C.className="broken-image",I.appendChild(C)}}};return(x,I)=>{const C=Rr("router-link");return O(),V("div",ZF,[l("div",eU,[I[31]||(I[31]=l("h1",{class:"text-3xl font-bold mb-8 text-light-text-primary dark:text-dark-text-primary"},"My Account",-1)),s.value?(O(),V("div",tU,[l("div",rU,[I[8]||(I[8]=l("div",{class:"h-6 bg-gray-200 rounded w-1/3 mb-6"},null,-1)),l("div",nU,[(O(),V(Ee,null,He(4,E=>l("div",{key:E,class:"space-y-2"},I[7]||(I[7]=[l("div",{class:"h-4 bg-gray-200 rounded w-1/4"},null,-1),l("div",{class:"h-6 bg-gray-200 rounded"},null,-1)]))),64))])]),l("div",sU,[I[10]||(I[10]=l("div",{class:"h-6 bg-gray-200 rounded w-1/3 mb-6"},null,-1)),(O(),V(Ee,null,He(3,E=>l("div",{key:E,class:"mb-4 pb-4 border-b last:border-b-0"},I[9]||(I[9]=[l("div",{class:"flex justify-between mb-2"},[l("div",{class:"h-6 bg-gray-200 rounded w-1/4"}),l("div",{class:"h-6 bg-gray-200 rounded w-20"})],-1),l("div",{class:"h-4 bg-gray-200 rounded w-2/3"},null,-1)]))),64))])])):ce("",!0),z(H(mn),{appear:"",show:!s.value,as:"div",enter:"transition-opacity duration-500","enter-from":"opacity-0","enter-to":"opacity-100"},{default:Z(()=>[l("div",null,[z(H(mn),{appear:"",show:!!o.value,as:"div",enter:"transform transition duration-300 ease-out","enter-from":"-translate-y-4 opacity-0","enter-to":"translate-y-0 opacity-100",leave:"transform transition duration-200 ease-in","leave-from":"translate-y-0 opacity-100","leave-to":"-translate-y-4 opacity-0",class:"mb-6"},{default:Z(()=>[l("div",iU,[z(H(Wb),{class:"w-5 h-5 text-green-500 mr-3 flex-shrink-0"}),l("p",oU,W(o.value),1)])]),_:1},8,["show"]),z(H(mn),{appear:"",show:!!a.value,as:"div",enter:"transform transition duration-300 ease-out","enter-from":"-translate-y-4 opacity-0","enter-to":"translate-y-0 opacity-100",leave:"transform transition duration-200 ease-in","leave-from":"translate-y-0 opacity-100","leave-to":"-translate-y-4 opacity-0",class:"mb-6"},{default:Z(()=>[l("div",aU,[z(H(uh),{class:"w-5 h-5 text-red-500 mr-3 flex-shrink-0"}),l("p",lU,W(a.value),1)])]),_:1},8,["show"]),z(H(y8),{defaultIndex:0,as:"div",class:Ce(y(100))},{default:Z(()=>[z(H(v8),{class:"flex border-b border-light-neutral-300 dark:border-dark-neutral-700 mb-6 space-x-2"},{default:Z(()=>[z(H(qb),{as:"template"},{default:Z(({selected:E})=>[l("button",{class:Ce(["py-3 px-6 font-medium focus:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary rounded-t-md transition-colors",[E?"text-accent-primary border-b-2 border-accent-primary bg-accent-secondary/10":"text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary hover:bg-light-secondary dark:hover:bg-dark-secondary"]])}," Profile Information ",2)]),_:1}),z(H(qb),{as:"template"},{default:Z(({selected:E})=>[l("button",{class:Ce(["py-3 px-6 font-medium focus:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary rounded-t-md transition-colors flex items-center",[E?"text-accent-primary border-b-2 border-accent-primary bg-accent-secondary/10":"text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary hover:bg-light-secondary dark:hover:bg-dark-secondary"]])},[I[11]||(I[11]=he(" Order History ")),n.value.length?(O(),V("span",cU,W(n.value.length),1)):ce("",!0)],2)]),_:1})]),_:1}),z(H(b8),{class:"focus:outline-none"},{default:Z(()=>[z(H(Hb),{class:Ce([y(200),"focus:outline-none space-y-6"])},{default:Z(()=>{var E,R,A,M,T;return[H(e).isAuthenticated?(O(),ht(XF,{key:0})):ce("",!0),l("div",uU,[l("div",dU,[l("div",hU,[I[13]||(I[13]=l("h2",{class:"text-xl font-semibold text-white"},"Personal Details",-1)),i.value?ce("",!0):(O(),V("button",{key:0,onClick:I[0]||(I[0]=v=>i.value=!0),class:"btn-white focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-offset-2 focus-visible:ring-offset-indigo-600","aria-label":"Edit profile"},[z(H(RE),{class:"w-4 h-4 mr-1"}),I[12]||(I[12]=he(" Edit "))]))])]),l("div",fU,[i.value?ce("",!0):(O(),V("div",pU,[l("div",mU,[I[14]||(I[14]=l("p",{class:"text-gray-800"},"Full Name",-1)),l("p",gU,W(((E=r.value)==null?void 0:E.firstName)||"-")+" "+W(((R=r.value)==null?void 0:R.lastName)||""),1)]),l("div",yU,[I[15]||(I[15]=l("p",{class:"text-gray-800"},"Email",-1)),l("p",vU,W(((A=r.value)==null?void 0:A.email)||H(e).user.email),1)]),l("div",bU,[I[16]||(I[16]=l("p",{class:"text-gray-800"},"Phone",-1)),l("p",xU,W(((M=r.value)==null?void 0:M.phone)||"Not provided"),1)]),l("div",_U,[I[17]||(I[17]=l("p",{class:"text-gray-800"},"Address",-1)),l("p",wU,W(((T=r.value)==null?void 0:T.address)||"Not provided"),1)])])),z(H(mn),{appear:"",show:i.value,enter:"transition-opacity ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-in duration-200","leave-from":"opacity-100","leave-to":"opacity-0",as:"div"},{default:Z(()=>[l("form",{onSubmit:Ar(f,["prevent"]),class:"grid md:grid-cols-2 gap-6"},[l("div",kU,[I[18]||(I[18]=l("label",{class:"text-sm font-medium field-label",for:"firstName"},"First Name",-1)),xe(l("input",{id:"firstName","onUpdate:modelValue":I[1]||(I[1]=v=>c.value.firstName=v),type:"text",class:"w-full px-4 py-2.5 bg-white border border-gray-300 dark:border-dark-neutral-600 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 placeholder-gray-400 dark:placeholder-gray-500 text-gray-900 dark:text-gray-500 transition-colors duration-200",placeholder:"Enter your first name"},null,512),[[Pe,c.value.firstName]])]),l("div",EU,[I[19]||(I[19]=l("label",{class:"text-sm font-medium field-label",for:"lastName"},"Last Name",-1)),xe(l("input",{id:"lastName","onUpdate:modelValue":I[2]||(I[2]=v=>c.value.lastName=v),type:"text",class:"w-full px-4 py-2.5 bg-white border border-gray-300 dark:border-dark-neutral-600 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 placeholder-gray-400 dark:placeholder-gray-500 text-gray-900 dark:text-gray-500 transition-colors duration-200",placeholder:"Enter your last name"},null,512),[[Pe,c.value.lastName]])]),l("div",IU,[I[20]||(I[20]=l("label",{class:"text-sm font-medium field-label",for:"email"},"Email",-1)),xe(l("input",{id:"email","onUpdate:modelValue":I[3]||(I[3]=v=>c.value.email=v),type:"email",class:"w-full px-4 py-2.5 bg-gray-50 border border-gray-200 dark:border-dark-neutral-700 rounded-lg shadow-sm cursor-not-allowed text-gray-500 dark:text-gray-400",disabled:"","aria-disabled":"true"},null,512),[[Pe,c.value.email]]),I[21]||(I[21]=l("p",{class:"text-xs text-gray-500 mt-1.5"},"Email cannot be changed",-1))]),l("div",TU,[I[22]||(I[22]=l("label",{class:"text-sm font-medium field-label",for:"phone"},"Phone",-1)),xe(l("input",{id:"phone","onUpdate:modelValue":I[4]||(I[4]=v=>c.value.phone=v),type:"tel",class:"w-full px-4 py-2.5 bg-white border border-gray-300 dark:border-dark-neutral-600 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 placeholder-gray-400 dark:placeholder-gray-500 text-gray-900 dark:text-white transition-colors duration-200",placeholder:"Enter your phone number"},null,512),[[Pe,c.value.phone]])]),l("div",AU,[I[23]||(I[23]=l("label",{class:"text-sm font-medium field-label",for:"address"},"Address",-1)),xe(l("textarea",{id:"address","onUpdate:modelValue":I[5]||(I[5]=v=>c.value.address=v),class:"w-full px-4 py-2.5 bg-white border border-gray-300 dark:border-dark-neutral-600 rounded-lg shadow-sm focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 placeholder-gray-400 dark:placeholder-gray-500 text-gray-900 dark:text-white transition-colors duration-200 min-h-[100px] resize-y",placeholder:"Enter your address"},null,512),[[Pe,c.value.address]])]),l("div",SU,[l("button",{type:"button",onClick:I[6]||(I[6]=v=>i.value=!1),class:"px-4 py-2.5 border border-gray-300 dark:border-dark-neutral-600 rounded-lg shadow-sm text-gray-700 dark:text-gray-200 bg-white dark:bg-dark-neutral-700 hover:bg-gray-50 dark:hover:bg-dark-neutral-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors duration-200"}," Cancel "),l("button",CU,[z(H(Wb),{class:"w-4 h-4 mr-1.5"}),I[24]||(I[24]=he(" Save Changes "))])])],32)]),_:1},8,["show"])])])]}),_:1},8,["class"]),z(H(Hb),{class:Ce([y(300),"focus:outline-none"])},{default:Z(()=>[l("div",PU,[I[30]||(I[30]=l("div",{class:"bg-gradient-to-r from-accent-quaternary to-accent-secondary px-6 py-4"},[l("h2",{class:"text-xl font-semibold text-white"},"Order History")],-1)),l("div",RU,[n.value.length===0?(O(),V("div",NU,[z(H(pu),{class:"w-16 h-16 text-gray-400 mx-auto mb-4"}),I[26]||(I[26]=l("p",{class:"text-gray-500 mb-4"},"You haven't placed any orders yet.",-1)),z(C,{to:"/products",class:"btn btn-primary inline-flex items-center justify-center"},{default:Z(()=>[z(H(pu),{class:"w-4 h-4 mr-2"}),I[25]||(I[25]=he(" Start Shopping "))]),_:1})])):(O(),V("div",$U,[z(H(mn),{appear:"",show:!0,enter:"transition-opacity ease-out duration-300","enter-from":"opacity-0","enter-to":"opacity-100",as:"div",class:"space-y-6"},{default:Z(()=>[(O(!0),V(Ee,null,He(n.value,(E,R)=>(O(),V("div",{key:E.id,class:Ce(["bg-white dark:bg-dark-neutral-800 border border-gray-200 dark:border-dark-neutral-700 rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-all duration-200",{"delay-100":R===0,"delay-150":R===1,"delay-200":R>=2}])},[z(H(rd),{as:"div",defaultOpen:""},{default:Z(({open:A})=>[z(H(nd),{class:"w-full bg-gray-50 dark:bg-indigo-900/20 p-4 flex flex-wrap justify-between items-center border-b dark:border-dark-neutral-600 text-left focus:outline-none focus-visible:ring-2 focus-visible:ring-indigo-500"},{default:Z(()=>[l("div",OU,[l("div",DU,[z(H(pu),{class:"w-5 h-5 text-indigo-600"})]),l("div",null,[l("p",MU," Order #"+W(E.orderNumber),1),l("div",VU,[z(H(P8),{class:"w-3.5 h-3.5 mr-1.5"}),he(" "+W(E.formattedDate),1)])])]),l("div",LU,[l("p",FU,W(H(Ye)(E.total)),1),l("span",{class:Ce(["text-xs px-3 py-1 rounded-full mt-1 inline-flex items-center",p(E.status||"Processing")])},[l("span",{class:Ce(["w-1.5 h-1.5 rounded-full mr-1",{"bg-amber-500":(E.status||"Processing")==="Processing","bg-blue-500":E.status==="Shipped","bg-emerald-500":E.status==="Delivered","bg-red-500":E.status==="Cancelled"}])},null,2),he(" "+W(E.status||"Processing"),1)],2),z(H(PE),{class:Ce(["w-5 h-5 text-gray-400 mt-1.5 transition-transform duration-200",{"transform rotate-90":A}])},null,8,["class"])])]),_:2},1024),z(H(sd),{class:"p-4 bg-white dark:bg-dark-neutral-800/50"},{default:Z(()=>[I[29]||(I[29]=l("div",{class:"mb-2 pb-2 border-b border-dashed"},[l("h4",{class:"text-sm font-medium text-gray-800 mb-2"},"Items")],-1)),!E.items||E.items.length===0?(O(),V("p",UU," No items found in this order ")):(O(),V("div",jU,[(O(!0),V(Ee,null,He(E.items,(M,T)=>(O(),V("div",{key:T,class:"flex justify-between text-sm py-2 border-b border-gray-100 last:border-b-0"},[l("div",BU,[l("div",qU,[l("img",{src:b(M.imageUrl||M.image),alt:M.name,class:"h-full w-full object-cover object-center",onError:w,loading:"lazy"},null,40,HU)]),l("div",null,[l("span",zU,W(M.name),1),l("div",WU,[l("span",KU,W(M.quantity),1),l("span",GU,W(H(Ye)(M.price))+" each ",1)])])]),l("div",QU,[l("span",YU,W(H(Ye)(M.price*M.quantity)),1),l("span",JU,W(H(Ye)(M.price))+" each ",1)])]))),128))])),l("div",XU,[l("div",ZU,[I[27]||(I[27]=l("span",null,"Order date:",-1)),l("span",ej,W(E.formattedDate),1)]),l("div",tj,[I[28]||(I[28]=l("span",null,"Total:",-1)),l("span",rj,W(H(Ye)(E.total)),1)])])]),_:2},1024)]),_:2},1024)],2))),128))]),_:1})]))])])]),_:1},8,["class"])]),_:1})]),_:1},8,["class"])])]),_:1},8,["show"])])])}}},sj=Yr(nj,[["__scopeId","data-v-ffeb1315"]]),ij={class:"container mx-auto px-4 py-8 max-w-6xl"},oj={key:0,class:"text-center py-12 bg-light-secondary dark:bg-dark-secondary rounded-lg shadow-sm border border-light-neutral-300 dark:border-dark-neutral-600"},aj={key:1,class:"grid grid-cols-1 md:grid-cols-3 gap-8"},lj={class:"md:col-span-2","aria-labelledby":"cart-items-heading"},cj={class:"space-y-2 text-sm"},uj={class:"flex justify-between text-light-text-primary dark:text-dark-text-primary"},dj={class:"flex justify-between"},hj={key:0,class:"text-light-text-primary dark:text-dark-text-primary"},fj={key:1,class:"text-accent-tertiary"},pj={key:0,class:"text-sm bg-accent-quaternary/10 text-accent-quaternary p-3 rounded-md mt-3"},mj={class:"mt-1"},gj={class:"border-t border-light-neutral-300 dark:border-dark-neutral-600 pt-2 mt-2"},yj={class:"flex justify-between font-bold text-light-text-primary dark:text-dark-text-primary"},vj={class:"mt-4 space-y-3"},bj={class:"relative"},xj=["src","alt"],_j={class:"ml-6 flex-grow"},wj={class:"text-light-text-secondary dark:text-dark-text-secondary mt-1"},kj={class:"flex items-center mt-3"},Ej={class:"flex items-center border border-light-neutral-300 dark:border-dark-neutral-600 rounded-md shadow-sm"},Ij=["onClick"],Tj={class:"px-4 py-1 min-w-[40px] text-center text-light-text-primary dark:text-dark-text-primary","aria-label":"Quantity"},Aj=["onClick"],Sj=["onClick"],Cj={class:"text-right"},Pj={class:"font-semibold text-light-text-primary dark:text-dark-text-primary"},Rj={class:"bg-light-secondary dark:bg-dark-secondary p-6 rounded-lg shadow-sm h-fit md:sticky md:top-24 hidden md:block border border-light-neutral-300 dark:border-dark-neutral-600","aria-labelledby":"order-summary-heading"},Nj={class:"space-y-4"},$j={class:"flex justify-between text-light-text-primary dark:text-dark-text-primary"},Oj={class:"flex justify-between text-light-text-primary dark:text-dark-text-primary"},Dj={key:0},Mj={key:1,class:"text-accent-tertiary font-medium"},Vj={key:0,class:"text-sm bg-accent-quaternary/10 text-accent-quaternary p-3 rounded-md"},Lj={class:"mt-1"},Fj={class:"border-t border-light-neutral-300 dark:border-dark-neutral-600 pt-4 mt-2"},Uj={class:"flex justify-between font-bold text-lg text-light-text-primary dark:text-dark-text-primary"},jj={class:"mt-8 space-y-4"},Bj={class:"fixed inset-0 overflow-y-auto"},qj={class:"flex min-h-full items-center justify-center p-4 text-center"},Hj={class:"mt-2"},zj={class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},Wj={class:"mt-6 flex space-x-3 justify-end"},Kj={__name:"CartView",setup(t){const e=ao(),r=q(!1),n=q(!1),s=q(null),i=ee(()=>e.cart),o=ee(()=>e.subtotal),a=ee(()=>e.itemCount),c=ee(()=>o.value>=1e4?0:1e3),d=ee(()=>o.value+c.value),h=async(y,b)=>{r.value=!0,b<=0?await e.removeFromCart(y):await e.updateQuantity(y,b),setTimeout(()=>{r.value=!1},300)},f=y=>{s.value=y,n.value=!0},p=()=>{s.value&&(e.removeFromCart(s.value.id),n.value=!1,s.value=null)};return(y,b)=>{const w=Rr("router-link");return O(),V("main",ij,[b[21]||(b[21]=l("h1",{class:"text-3xl font-bold mb-8 text-light-text-primary dark:text-dark-text-primary"},"Shopping Cart",-1)),i.value.length===0?(O(),V("div",oj,[b[3]||(b[3]=wt('<div class="w-40 h-40 mx-auto mb-6" data-v-392a5ccd><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" class="w-full h-full text-light-neutral-400 dark:text-dark-neutral-500" data-v-392a5ccd><circle cx="9" cy="21" r="1" fill="currentColor" data-v-392a5ccd></circle><circle cx="20" cy="21" r="1" fill="currentColor" data-v-392a5ccd></circle><path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6" stroke-linecap="round" stroke-linejoin="round" data-v-392a5ccd></path><line x1="5" y1="5" x2="22" y2="5" class="text-red-500" stroke-width="1.5" data-v-392a5ccd></line></svg></div><p class="text-xl mb-6 text-light-text-secondary dark:text-dark-text-secondary" data-v-392a5ccd>Your cart is empty</p>',2)),z(w,{to:"/products",class:"bg-orange-500 hover:bg-orange-600 dark:bg-orange-600 dark:hover:bg-orange-500 text-white px-6 py-3 rounded-md inline-block transition-colors focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 focus:outline-none"},{default:Z(()=>b[2]||(b[2]=[he(" Browse Products ")])),_:1})])):(O(),V("div",aj,[l("section",lj,[b[12]||(b[12]=l("h2",{id:"cart-items-heading",class:"sr-only"},"Cart Items",-1)),z(H(rd),{as:"div",class:"mb-6 md:hidden"},{default:Z(()=>[z(H(nd),{class:"flex w-full justify-between rounded-lg bg-light-secondary dark:bg-dark-secondary px-4 py-3 text-left text-sm font-medium text-light-text-primary dark:text-dark-text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary"},{default:Z(()=>[l("span",null,"Order Summary ("+W(a.value)+" items)",1),z(H($8),{class:"h-5 w-5 ui-open:rotate-180 ui-open:transform transition-transform"})]),_:1}),z(H(sd),{class:"px-4 pt-4 pb-5 bg-light-secondary dark:bg-dark-secondary rounded-b-lg"},{default:Z(()=>[l("div",cj,[l("div",uj,[b[4]||(b[4]=l("span",null,"Subtotal",-1)),l("span",null,W(H(Ye)(o.value)),1)]),l("div",dj,[b[5]||(b[5]=l("span",{class:"text-light-text-primary dark:text-dark-text-primary"},"Shipping",-1)),c.value>0?(O(),V("span",hj,W(H(Ye)(c.value)),1)):(O(),V("span",fj,"Free"))]),c.value>0?(O(),V("div",pj,[b[6]||(b[6]=l("p",null,"Free shipping on orders over KES 10,000",-1)),l("p",mj,"Add "+W(H(Ye)(1e4-o.value))+" more to qualify",1)])):ce("",!0),l("div",gj,[l("div",yj,[b[7]||(b[7]=l("span",null,"Total",-1)),l("span",null,W(H(Ye)(d.value)),1)])])]),l("div",vj,[z(w,{to:"/checkout",class:"bg-orange-500 hover:bg-orange-600 dark:bg-orange-600 dark:hover:bg-orange-500 text-white w-full py-2 block text-center rounded-md transition-colors focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 focus:outline-none text-sm disabled:opacity-50 disabled:cursor-not-allowed",disabled:i.value.length===0,"aria-disabled":i.value.length===0},{default:Z(()=>b[8]||(b[8]=[he(" Proceed to Checkout ")])),_:1},8,["disabled","aria-disabled"]),z(w,{to:"/products",class:"text-accent-quaternary hover:text-accent-quaternary/80 transition-colors text-center block focus:outline-none focus:underline text-sm"},{default:Z(()=>b[9]||(b[9]=[he(" Continue Shopping ")])),_:1})])]),_:1})]),_:1}),z(Gx,{name:"cart-item",tag:"ul",class:"divide-y divide-light-neutral-300 dark:divide-dark-neutral-600"},{default:Z(()=>[(O(!0),V(Ee,null,He(i.value,x=>(O(),V("li",{key:x.id,class:Ce(["flex py-6 first:pt-0 items-center cart-item-transition",{"opacity-50":r.value}])},[l("div",bj,[l("img",{src:x.image,alt:x.name,class:"w-24 h-24 object-cover rounded-md shadow-sm",loading:"lazy"},null,8,xj)]),l("div",_j,[z(w,{to:`/product/${x.id}`,class:"text-lg font-semibold text-light-text-primary dark:text-dark-text-primary hover:text-orange-500 dark:hover:text-orange-400 focus:outline-none focus:underline","aria-label":`View ${x.name} details`},{default:Z(()=>[he(W(x.name),1)]),_:2},1032,["to","aria-label"]),l("p",wj,W(H(Ye)(x.price))+" each",1),l("div",kj,[l("div",Ej,[l("button",{onClick:I=>h(x.id,x.quantity-1),class:"px-3 py-1 text-light-text-primary dark:text-dark-text-primary hover:bg-light-neutral-100 dark:hover:bg-dark-neutral-700 transition-colors rounded-l-md focus:outline-none focus:ring-2 focus:ring-accent-primary focus:ring-inset","aria-label":"Decrease quantity"},b[10]||(b[10]=[l("span",{"aria-hidden":"true"},"−",-1)]),8,Ij),l("span",Tj,W(x.quantity),1),l("button",{onClick:I=>h(x.id,x.quantity+1),class:"px-3 py-1 text-light-text-primary dark:text-dark-text-primary hover:bg-light-neutral-100 dark:hover:bg-dark-neutral-700 transition-colors rounded-r-md focus:outline-none focus:ring-2 focus:ring-accent-primary focus:ring-inset","aria-label":"Increase quantity"},b[11]||(b[11]=[l("span",{"aria-hidden":"true"},"+",-1)]),8,Aj)]),l("button",{onClick:I=>f(x),class:"ml-4 text-red-500 hover:text-red-700 transition-colors focus:outline-none focus:underline","aria-label":"Remove item from cart"}," Remove ",8,Sj)])]),l("div",Cj,[l("p",Pj,W(H(Ye)(x.price*x.quantity)),1)])],2))),128))]),_:1})]),l("section",Rj,[b[18]||(b[18]=l("h2",{id:"order-summary-heading",class:"text-xl font-bold mb-6 border-b border-light-neutral-300 dark:border-dark-neutral-600 pb-3 text-light-text-primary dark:text-dark-text-primary"},"Order Summary",-1)),l("div",Nj,[l("div",$j,[l("span",null,"Subtotal ("+W(a.value)+" "+W(a.value===1?"item":"items")+")",1),l("span",null,W(H(Ye)(o.value)),1)]),l("div",Oj,[b[13]||(b[13]=l("span",null,"Shipping",-1)),c.value>0?(O(),V("span",Dj,W(H(Ye)(c.value)),1)):(O(),V("span",Mj,"Free"))]),c.value>0?(O(),V("div",Vj,[b[14]||(b[14]=l("p",null,"Free shipping on orders over KES 10,000",-1)),l("p",Lj,"Add "+W(H(Ye)(1e4-o.value))+" more to qualify",1)])):ce("",!0),l("div",Fj,[l("div",Uj,[b[15]||(b[15]=l("span",null,"Total",-1)),l("span",null,W(H(Ye)(d.value)),1)])])]),l("div",jj,[z(w,{to:"/checkout",class:"bg-orange-500 hover:bg-orange-600 dark:bg-orange-600 dark:hover:bg-orange-500 text-white w-full py-3 block text-center rounded-md transition-colors focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 focus:outline-none disabled:opacity-50 disabled:cursor-not-allowed",disabled:i.value.length===0,"aria-disabled":i.value.length===0},{default:Z(()=>b[16]||(b[16]=[he(" Proceed to Checkout ")])),_:1},8,["disabled","aria-disabled"]),z(w,{to:"/products",class:"text-accent-quaternary hover:text-accent-quaternary/80 transition-colors text-center block focus:outline-none focus:underline"},{default:Z(()=>b[17]||(b[17]=[he(" Continue Shopping ")])),_:1})])])])),z(H(mn),{appear:"",show:n.value,as:"template"},{default:Z(()=>[z(H(oh),{as:"div",onClose:b[1]||(b[1]=x=>n.value=!1),class:"relative z-10"},{default:Z(()=>[z(H(gs),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Z(()=>b[19]||(b[19]=[l("div",{class:"fixed inset-0 bg-black bg-opacity-25"},null,-1)])),_:1}),l("div",Bj,[l("div",qj,[z(H(gs),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:Z(()=>[z(H(ah),{class:"w-full max-w-md transform overflow-hidden rounded-lg bg-light-secondary dark:bg-dark-secondary p-6 text-left align-middle shadow-xl transition-all"},{default:Z(()=>{var x;return[z(H(xE),{as:"h3",class:"text-lg font-medium leading-6 text-light-text-primary dark:text-dark-text-primary"},{default:Z(()=>b[20]||(b[20]=[he(" Remove Item ")])),_:1}),l("div",Hj,[l("p",zj,' Are you sure you want to remove "'+W((x=s.value)==null?void 0:x.name)+'" from your cart? ',1)]),l("div",Wj,[l("button",{type:"button",class:"inline-flex justify-center rounded-md border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary px-4 py-2 text-sm font-medium text-light-text-primary dark:text-dark-text-primary hover:bg-light-neutral-100 dark:hover:bg-dark-neutral-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:ring-offset-2",onClick:b[0]||(b[0]=I=>n.value=!1)}," Cancel "),l("button",{type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-red-500 px-4 py-2 text-sm font-medium text-white hover:bg-red-600 focus:outline-none focus-visible:ring-2 focus-visible:ring-red-500 focus-visible:ring-offset-2",onClick:p}," Remove ")])]}),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])])}}},Gj=Yr(Kj,[["__scopeId","data-v-392a5ccd"]]);/*!
 * paypal-js v8.2.0 (2025-01-23T17:26:53.747Z)
 * Copyright 2020-present, PayPal, Inc. All rights reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qj(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function Yj(t,e){var r=document.querySelector('script[src="'.concat(t,'"]'));if(r===null)return null;var n=$E(t,e),s=r.cloneNode();if(delete s.dataset.uidAuto,Object.keys(s.dataset).length!==Object.keys(n.dataset).length)return null;var i=!0;return Object.keys(s.dataset).forEach(function(o){s.dataset[o]!==n.dataset[o]&&(i=!1)}),i?r:null}function Jj(t){var e=t.url,r=t.attributes,n=t.onSuccess,s=t.onError,i=$E(e,r);i.onerror=s,i.onload=n,document.head.insertBefore(i,document.head.firstElementChild)}function Xj(t){var e=t.sdkBaseUrl,r=t.environment,n=Qj(t,["sdkBaseUrl","environment"]),s=e||tB(r),i=n,o=Object.keys(i).filter(function(d){return typeof i[d]<"u"&&i[d]!==null&&i[d]!==""}).reduce(function(d,h){var f=i[h].toString();return h=Zj(h),h.substring(0,4)==="data"||h==="crossorigin"?d.attributes[h]=f:d.queryParams[h]=f,d},{queryParams:{},attributes:{}}),a=o.queryParams,c=o.attributes;return a["merchant-id"]&&a["merchant-id"].indexOf(",")!==-1&&(c["data-merchant-id"]=a["merchant-id"],a["merchant-id"]="*"),{url:"".concat(s,"?").concat(eB(a)),attributes:c}}function Zj(t){var e=function(r,n){return(n?"-":"")+r.toLowerCase()};return t.replace(/[A-Z]+(?![a-z])|[A-Z]/g,e)}function eB(t){var e="";return Object.keys(t).forEach(function(r){e.length!==0&&(e+="&"),e+=r+"="+t[r]}),e}function tB(t){return t==="sandbox"?"https://www.sandbox.paypal.com/sdk/js":"https://www.paypal.com/sdk/js"}function $E(t,e){e===void 0&&(e={});var r=document.createElement("script");return r.src=t,Object.keys(e).forEach(function(n){r.setAttribute(n,e[n]),n==="data-csp-nonce"&&r.setAttribute("nonce",e["data-csp-nonce"])}),r}function rB(t,e){if(e===void 0&&(e=Promise),OE(t,e),typeof document>"u")return e.resolve(null);var r=Xj(t),n=r.url,s=r.attributes,i=s["data-namespace"]||"paypal",o=Xb(i);return s["data-js-sdk-library"]||(s["data-js-sdk-library"]="paypal-js"),Yj(n,s)&&o?e.resolve(o):nB({url:n,attributes:s},e).then(function(){var a=Xb(i);if(a)return a;throw new Error("The window.".concat(i," global variable is not available."))})}function nB(t,e){e===void 0&&(e=Promise),OE(t,e);var r=t.url,n=t.attributes;if(typeof r!="string"||r.length===0)throw new Error("Invalid url.");if(typeof n<"u"&&typeof n!="object")throw new Error("Expected attributes to be an object.");return new e(function(s,i){if(typeof document>"u")return s();Jj({url:r,attributes:n,onSuccess:function(){return s()},onError:function(){var o=new Error('The script "'.concat(r,'" failed to load. Check the HTTP status code and response body in DevTools to learn more.'));return i(o)}})})}function Xb(t){return window[t]}function OE(t,e){if(typeof t!="object"||t===null)throw new Error("Expected an options object.");var r=t.environment;if(r&&r!=="production"&&r!=="sandbox")throw new Error('The `environment` option must be either "production" or "sandbox".');if(typeof e<"u"&&typeof e!="function")throw new Error("Expected PromisePonyfill to be a function.")}const sB="YOUR_PAYPAL_CLIENT_ID",Yc={async initializePayPal(){try{return await rB({"client-id":sB,currency:"USD",intent:"capture"})}catch(t){throw console.error("Failed to load PayPal JS SDK:",t),t}},createOrder(t,e){return{purchase_units:[{amount:{currency_code:"USD",value:t.toFixed(2),breakdown:{item_total:{currency_code:"USD",value:t.toFixed(2)}}},items:e.map(r=>({name:r.name,unit_amount:{currency_code:"USD",value:r.price.toFixed(2)},quantity:r.quantity.toString()}))}]}},async handlePayPalError(t){throw console.error("PayPal Error:",t),t}},iB={class:"bg-light-primary dark:bg-dark-primary min-h-screen pb-16"},oB={key:0,class:"container mx-auto px-4"},aB={class:"max-w-3xl mx-auto bg-light-secondary dark:bg-dark-secondary shadow-lg rounded-lg overflow-hidden"},lB={class:"bg-green-50 dark:bg-green-900 p-6 sm:p-10 text-center"},cB={class:"text-green-700 dark:text-green-300 text-lg"},uB={class:"mt-8 flex justify-center"},dB={key:1,class:"container mx-auto px-4 mb-8"},hB={class:"max-w-3xl mx-auto bg-red-50 dark:bg-red-900 border border-red-200 dark:border-red-800 p-4 rounded-lg flex items-start"},fB={class:"ml-3"},pB={class:"text-red-700 dark:text-red-300 font-medium"},mB={key:2,class:"container mx-auto px-4"},gB={class:"grid grid-cols-1 lg:grid-cols-3 lg:gap-8"},yB={class:"lg:col-span-2"},vB={class:"bg-light-secondary dark:bg-dark-secondary shadow rounded-lg overflow-hidden mb-8"},bB={class:"p-6"},xB={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},_B={class:"mb-6"},wB={class:"mb-6"},kB=["value"],EB={key:0,class:"mb-6"},IB=["value"],TB={key:1,class:"mb-6"},AB={class:"mt-6"},SB={class:"flex items-center"},CB={class:"bg-light-secondary dark:bg-dark-secondary shadow rounded-lg overflow-hidden mb-8"},PB={class:"p-6"},RB={class:"border-b border-light-neutral-200 dark:border-dark-neutral-700"},NB={class:"-mb-px flex space-x-8"},$B=["onClick"],OB={key:0,class:"mt-6"},DB={class:"mb-6"},MB={key:1,class:"mt-6"},VB={class:"bg-light-neutral-100 dark:bg-dark-neutral-800 p-4 rounded-md"},LB={class:"mt-4"},FB={class:"flex items-center"},UB={class:"ml-2 text-sm text-light-text-primary dark:text-dark-text-primary"},jB={key:2,class:"mt-6"},BB={class:"p-6"},qB={class:"mb-6"},HB={class:"mb-6"},zB={class:"relative"},WB={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},KB={class:"relative"},GB={class:"absolute inset-y-0 right-0 pr-3 flex items-center"},QB={key:0,class:"mt-1 text-sm text-light-neutral-500 dark:text-dark-neutral-500"},YB={key:3,class:"mt-6"},JB={class:"bg-light-neutral-100 dark:bg-dark-neutral-800 p-4 rounded-md text-center"},XB={class:"mx-auto max-w-[200px] mb-4"},ZB=["disabled"],eq={key:0,class:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},tq={class:"mt-10 lg:mt-0"},rq={class:"bg-light-secondary dark:bg-dark-secondary shadow rounded-lg overflow-hidden sticky top-6"},nq={class:"px-6 py-4"},sq={class:"flow-root"},iq={class:"-my-4 divide-y divide-light-neutral-200 dark:divide-dark-neutral-700"},oq={class:"flex-shrink-0 w-16 h-16 border border-light-neutral-200 dark:border-dark-neutral-700 rounded-md overflow-hidden"},aq=["src","alt"],lq={class:"ml-4 flex-1 flex flex-col"},cq={class:"flex justify-between text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},uq={class:"ml-4"},dq={class:"mt-1 text-sm text-light-text-secondary dark:text-dark-text-secondary"},hq={class:"flex-1 flex items-end justify-between text-sm"},fq={class:"text-light-text-secondary dark:text-dark-text-secondary"},pq={class:"border-t border-light-neutral-200 dark:border-dark-neutral-700 px-6 py-4 space-y-3"},mq={class:"flex justify-between text-sm text-light-text-secondary dark:text-dark-text-secondary"},gq={class:"flex justify-between text-sm text-light-text-secondary dark:text-dark-text-secondary"},yq={key:0},vq={key:1,class:"text-green-600 dark:text-green-400"},bq={class:"flex justify-between text-sm text-light-text-secondary dark:text-dark-text-secondary"},xq={class:"pt-3 border-t border-light-neutral-200 dark:border-dark-neutral-700"},_q={class:"flex justify-between text-base font-medium text-light-text-primary dark:text-dark-text-primary"},wq={__name:"CheckoutView",setup(t){const e=di(),r=kn(),n=ao(),s=en(),i=q(!1),o=q(""),a=q(""),c=q(null),d=q(!1),h=q(!0),f=["Nairobi","Mombasa","Kisumu","Nakuru","Eldoret","Kitengela","Thika","Machakos","Kahawa","Ruiru","Athi River","Kiambu","Rongai"],p={Nairobi:["CBD - Kencom House","CBD - Archives","CBD - Afya Centre","Westlands - The Mall","Eastleigh - First Avenue","South B - Capital Center","Karen - Karen Hub"],Kitengela:["Kitengela Mall","EPZ Plaza","Milestone Mall"],Kahawa:["Kahawa West Shopping Center","Kahawa Sukari Mall","Kahawa Wendani Plaza"]},y=q({firstName:"",lastName:"",email:"",phone:"",deliveryMethod:"",city:"",pickupPoint:"",address:""}),b=q([]),w=()=>{y.value.pickupPoint="",y.value.address=""},x=()=>{y.value.pickupPoint="",y.value.city&&p[y.value.city]?b.value=p[y.value.city]:b.value=[]},I=q({cardName:"",cardNumber:"",expirationDate:"",cvv:""}),C=[{id:"mobile-money",name:"M-Pesa"},{id:"cash",name:"Cash on Delivery"},{id:"card",name:"Card Payment"},{id:"paypal",name:"PayPal"}],E=q("mobile-money"),R=q({phoneNumber:""}),A=q(!1),M=q(null),T=q(!1),v=q(!1);q(1),Rt(E,async U=>{U==="paypal"&&!T.value&&await m()});const m=async()=>{try{const U=await Yc.initializePayPal();M.value&&(U.Buttons({style:{layout:"vertical",color:"blue",shape:"rect",label:"paypal"},createOrder:async(F,be)=>{const re=Yc.createOrder(oe.value+j.value*.08,G.value);return be.order.create(re)},onApprove:async(F,be)=>{v.value=!0;try{const re=await be.order.capture();await k(re)}catch(re){await Yc.handlePayPalError(re)}finally{v.value=!1}},onError:async F=>{await Yc.handlePayPalError(F)}}).render(M.value),T.value=!0)}catch(U){console.error("Failed to initialize PayPal:",U),o.value="Failed to initialize PayPal. Please try another payment method."}},k=async U=>{try{const F={...N(),paymentMethod:"paypal",paymentDetails:{paypal:!0,orderId:U.id,status:U.status,payerEmail:U.payer.email_address},status:"paid"};await Fe.createOrder(F),n.clearCart(),s.addNotification({title:"PayPal Payment Successful",message:"Your payment has been processed successfully",type:"success",timeout:5e3}),await s.addPersistedNotification({title:"Order Confirmation",message:"Your PayPal payment was successful and your order has been confirmed",type:"success",userId:r.user.uid}),a.value="Order placed successfully! Payment completed via PayPal.",setTimeout(()=>{e.push("/account")},3e3)}catch(F){console.error("Error processing PayPal order:",F),o.value="Failed to process PayPal payment. Please contact support.",s.addNotification({title:"PayPal Error",message:"Failed to process your PayPal payment. Please try again or contact support.",type:"error",timeout:5e3})}},N=()=>({userId:r.user.uid,orderNumber:`ORD-${Date.now().toString().slice(-6)}`,items:G.value,subtotal:j.value,shipping:te.value,total:oe.value+j.value*.08,shippingInfo:{...y.value},orderDate:new Date,estimatedDelivery:new Date(Date.now()+7*24*60*60*1e3)}),S=ee(()=>{switch(E.value){case"mobile-money":return/^254[0-9]{9}$/.test(R.value.phoneNumber);case"cash":return A.value;case"card":return I.value.cardNumber&&I.value.cardName&&I.value.expirationDate&&I.value.cvv;case"paypal":return!0;default:return!1}}),P=()=>{if(i.value)return"Processing...";switch(E.value){case"mobile-money":return`Pay with M-Pesa - ${Ye(oe.value+j.value*.08)}`;case"cash":return`Place Order - Pay ${Ye(oe.value+j.value*.08)} on Delivery`;case"card":return`Pay ${Ye(oe.value+j.value*.08)}`;case"paypal":return`Proceed to PayPal - ${Ye(oe.value+j.value*.08)}`;default:return`Complete Order - ${Ye(oe.value+j.value*.08)}`}},le=()=>{console.log("Redirecting to PayPal...")},ue=()=>{window.open("/digital-wallet/ways-to-pay/add-payment-method","WIPaypal","toolbar=no, location=no, directories=no, status=no, menubar=no, scrollbars=yes, resizable=yes, width=1060, height=700")},G=ee(()=>n.cart),j=ee(()=>n.subtotal),te=ee(()=>j.value>=100?0:10),oe=ee(()=>j.value+te.value);Ue(async()=>{if(r.user)try{const U=await Fe.getUserProfile(r.user.uid);c.value=U,U&&(y.value={...y.value,firstName:U.firstName||"",lastName:U.lastName||"",email:U.email||r.user.email,phone:U.phone||"",address:U.address||""})}catch(U){console.error("Error loading user profile:",U)}else e.push("/login?redirect=checkout");G.value.length===0&&e.push("/cart")});const ke=async()=>{if(i.value=!0,o.value="",G.value.length===0){o.value="Your cart is empty",i.value=!1,s.addNotification({title:"Error",message:"Cannot place order with empty cart",type:"error",timeout:5e3});return}try{const U=new Date,F=`ORD-${Date.now().toString().slice(-6)}`,be={userId:r.user.uid,orderNumber:F,items:G.value,subtotal:j.value,shipping:te.value,total:oe.value,shippingInfo:{...y.value},paymentMethod:E.value,paymentDetails:ye(),status:Se(),orderDate:U,estimatedDelivery:new Date(U.setDate(U.getDate()+7))},re=await Fe.createOrder(be);E.value==="mobile-money"&&(await at(re.id),await s.addPersistedNotification({title:"Payment Required",message:`Please complete M-Pesa payment for order ${F}`,type:"warning",userId:r.user.uid})),n.clearCart(),a.value=Le(F),s.addNotification({title:"Order Placed",message:`Order ${F} has been placed successfully`,type:"success",timeout:5e3}),await s.addPersistedNotification({title:"Order Confirmation",message:`Your order ${F} has been received and is being processed`,type:"success",userId:r.user.uid}),await s.addPersistedNotification({title:"New Order Received",message:`New order ${F} received from ${y.value.firstName} ${y.value.lastName}`,type:"info",isAdmin:!0}),setTimeout(()=>{e.push("/account")},3e3)}catch(U){o.value="Failed to place order. Please try again.",console.error("Error placing order:",U),s.addNotification({title:"Order Failed",message:"Failed to place your order. Please try again.",type:"error",timeout:5e3})}finally{i.value=!1}},ye=()=>{switch(E.value){case"mobile-money":return{phoneNumber:R.value.phoneNumber};case"cash":return{cashOnDelivery:!0};case"card":return{cardName:I.value.cardName,lastFourDigits:I.value.cardNumber.slice(-4),cardType:It(I.value.cardNumber)};case"paypal":return{paypal:!0};default:return{}}},Se=()=>{switch(E.value){case"mobile-money":return"awaiting_payment";case"cash":return"pending";case"card":case"paypal":return"processing";default:return"pending"}},Le=U=>{switch(E.value){case"mobile-money":return`Order ${U} placed! Please check your phone for the M-Pesa payment prompt.`;case"cash":return`Order ${U} placed! Please have ${Ye(oe.value+j.value*.08)} ready for delivery.`;case"card":return`Order ${U} placed successfully! Your card has been charged.`;case"paypal":return`Order ${U} placed successfully! Payment completed via PayPal.`;default:return`Order placed successfully! Your order number is ${U}.`}},at=async U=>{try{console.log("Initiating M-Pesa payment for order:",U)}catch(F){throw console.error("Error initiating M-Pesa payment:",F),F}},It=U=>{const F=U.replace(/\D/g,"");return/^4/.test(F)?"Visa":/^5[1-5]/.test(F)?"MasterCard":/^3[47]/.test(F)?"American Express":/^6(?:011|5)/.test(F)?"Discover":"Unknown"},gt={mounted(U,F){U.addEventListener("input",be=>{const{value:re}=F;if(!re||!re.value)return;const D=be.target.value.replace(/\D/g,""),B=re.value;let Y="",ie=0;for(let J=0;J<B.length&&ie<D.length;J++)B[J]==="#"?(Y+=D[ie],ie++):Y+=B[J];be.target.value=Y})}},L={mounted(U,F){F&&F.value&&gt.mounted(U,F)}};return(U,F)=>{const be=Rr("router-link");return O(),V("div",iB,[F[57]||(F[57]=wt('<div class="bg-light-secondary dark:bg-dark-secondary shadow-sm py-8 mb-8" data-v-d3cc8e63><div class="container mx-auto px-4" data-v-d3cc8e63><div class="max-w-4xl mx-auto" data-v-d3cc8e63><div class="flex flex-col sm:flex-row items-center justify-between gap-4" data-v-d3cc8e63><div class="flex items-center w-full sm:w-auto" data-v-d3cc8e63><div class="relative" data-v-d3cc8e63><div class="w-12 h-12 rounded-full bg-btn-primary text-white flex items-center justify-center font-semibold text-lg" data-v-d3cc8e63> 1 </div><div class="absolute -right-4 top-1/2 h-1 w-8 bg-btn-primary hidden sm:block" data-v-d3cc8e63></div></div><div class="ml-4" data-v-d3cc8e63><p class="font-medium text-btn-primary" data-v-d3cc8e63>Cart</p><p class="text-sm text-light-text-secondary dark:text-dark-text-secondary" data-v-d3cc8e63>Review items</p></div></div><div class="flex items-center w-full sm:w-auto" data-v-d3cc8e63><div class="relative" data-v-d3cc8e63><div class="w-12 h-12 rounded-full bg-btn-primary text-white flex items-center justify-center font-semibold text-lg" data-v-d3cc8e63> 2 </div><div class="absolute -right-4 top-1/2 h-1 w-8 bg-btn-primary hidden sm:block" data-v-d3cc8e63></div><div class="absolute -left-4 top-1/2 h-1 w-8 bg-btn-primary hidden sm:block" data-v-d3cc8e63></div></div><div class="ml-4" data-v-d3cc8e63><p class="font-medium text-btn-primary" data-v-d3cc8e63>Checkout</p><p class="text-sm text-light-text-secondary dark:text-dark-text-secondary" data-v-d3cc8e63>Payment details</p></div></div><div class="flex items-center w-full sm:w-auto" data-v-d3cc8e63><div class="relative" data-v-d3cc8e63><div class="w-12 h-12 rounded-full bg-light-neutral-300 dark:bg-dark-neutral-600 text-light-neutral-600 dark:text-dark-neutral-300 flex items-center justify-center font-semibold text-lg" data-v-d3cc8e63> 3 </div><div class="absolute -left-4 top-1/2 h-1 w-8 bg-light-neutral-300 dark:bg-dark-neutral-600 hidden sm:block" data-v-d3cc8e63></div></div><div class="ml-4" data-v-d3cc8e63><p class="font-medium text-light-neutral-500 dark:text-dark-neutral-400" data-v-d3cc8e63>Confirmation</p><p class="text-sm text-light-text-secondary dark:text-dark-text-secondary" data-v-d3cc8e63>Order complete</p></div></div></div></div></div></div>',1)),a.value?(O(),V("div",oB,[l("div",aB,[l("div",lB,[F[18]||(F[18]=wt('<div class="flex justify-center mb-5" data-v-d3cc8e63><div class="rounded-full bg-green-100 dark:bg-green-800 p-3" data-v-d3cc8e63><svg class="h-10 w-10 text-green-600 dark:text-green-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-d3cc8e63><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" data-v-d3cc8e63></path></svg></div></div><h2 class="text-2xl font-bold text-green-800 dark:text-green-200 mb-2" data-v-d3cc8e63>Order Placed Successfully!</h2>',2)),l("p",cB,W(a.value),1),F[19]||(F[19]=l("p",{class:"mt-4 text-light-text-secondary dark:text-dark-text-secondary"},"Redirecting to your account page...",-1)),l("div",uB,[z(be,{to:"/account",class:"px-6 py-3 bg-accent-primary hover:bg-accent-secondary text-white font-medium rounded-md transition-all"},{default:Z(()=>F[17]||(F[17]=[he(" View order details ")])),_:1})])])])])):o.value?(O(),V("div",dB,[l("div",hB,[F[21]||(F[21]=l("div",{class:"flex-shrink-0 mt-0.5"},[l("svg",{class:"h-5 w-5 text-red-600 dark:text-red-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),l("div",fB,[l("p",pB,W(o.value),1)]),l("button",{onClick:F[0]||(F[0]=re=>o.value=""),class:"ml-auto text-red-600 dark:text-red-400 hover:text-red-800 dark:hover:text-red-300"},F[20]||(F[20]=[l("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])])):(O(),V("div",mB,[l("div",gB,[l("div",yB,[l("form",{onSubmit:Ar(ke,["prevent"])},[l("div",vB,[F[35]||(F[35]=wt('<div class="bg-light-neutral-100 dark:bg-dark-neutral-800 py-4 px-6 border-b border-light-neutral-200 dark:border-dark-neutral-700" data-v-d3cc8e63><div class="flex items-center" data-v-d3cc8e63><div class="bg-accent-primary rounded-full h-8 w-8 flex items-center justify-center mr-3" data-v-d3cc8e63><svg class="h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-d3cc8e63><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z" data-v-d3cc8e63></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" data-v-d3cc8e63></path></svg></div><h2 class="text-xl font-bold text-light-text-primary dark:text-dark-text-primary" data-v-d3cc8e63>Shipping Information</h2></div></div>',1)),l("div",bB,[l("div",xB,[l("div",null,[F[22]||(F[22]=l("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"First Name",-1)),xe(l("input",{"onUpdate:modelValue":F[1]||(F[1]=re=>y.value.firstName=re),type:"text",required:"",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all",placeholder:"Your first name"},null,512),[[Pe,y.value.firstName]])]),l("div",null,[F[23]||(F[23]=l("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"Last Name",-1)),xe(l("input",{"onUpdate:modelValue":F[2]||(F[2]=re=>y.value.lastName=re),type:"text",required:"",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all",placeholder:"Your last name"},null,512),[[Pe,y.value.lastName]])]),l("div",null,[F[24]||(F[24]=l("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"Email",-1)),xe(l("input",{"onUpdate:modelValue":F[3]||(F[3]=re=>y.value.email=re),type:"email",required:"",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all",placeholder:"your.email@example.com"},null,512),[[Pe,y.value.email]])]),l("div",null,[F[25]||(F[25]=l("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"Phone",-1)),xe(l("input",{"onUpdate:modelValue":F[4]||(F[4]=re=>y.value.phone=re),type:"tel",required:"",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all",placeholder:"254XXXXXXXXX"},null,512),[[Pe,y.value.phone]])])]),l("div",_B,[F[27]||(F[27]=l("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"Delivery Method",-1)),xe(l("select",{"onUpdate:modelValue":F[5]||(F[5]=re=>y.value.deliveryMethod=re),required:"",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all",onChange:w},F[26]||(F[26]=[l("option",{value:""},"Select delivery method",-1),l("option",{value:"delivery"},"Home/Office Delivery",-1),l("option",{value:"pickup"},"Pickup Point",-1)]),544),[[Ln,y.value.deliveryMethod]])]),l("div",wB,[F[29]||(F[29]=l("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"City",-1)),xe(l("select",{"onUpdate:modelValue":F[6]||(F[6]=re=>y.value.city=re),required:"",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all",onChange:x},[F[28]||(F[28]=l("option",{value:""},"Select city",-1)),(O(),V(Ee,null,He(f,re=>l("option",{key:re,value:re},W(re),9,kB)),64))],544),[[Ln,y.value.city]])]),y.value.deliveryMethod==="pickup"?(O(),V("div",EB,[F[31]||(F[31]=l("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"Pickup Point",-1)),xe(l("select",{"onUpdate:modelValue":F[7]||(F[7]=re=>y.value.pickupPoint=re),required:"",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all"},[F[30]||(F[30]=l("option",{value:""},"Select pickup point",-1)),(O(!0),V(Ee,null,He(b.value,re=>(O(),V("option",{key:re,value:re},W(re),9,IB))),128))],512),[[Ln,y.value.pickupPoint]])])):ce("",!0),y.value.deliveryMethod==="delivery"?(O(),V("div",TB,[F[32]||(F[32]=l("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"Detailed Address",-1)),xe(l("textarea",{"onUpdate:modelValue":F[8]||(F[8]=re=>y.value.address=re),required:"",rows:"3",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all",placeholder:"Enter your detailed address (e.g., House/Apartment number, Street name, Estate/Area)"},null,512),[[Pe,y.value.address]]),F[33]||(F[33]=l("p",{class:"mt-1 text-sm text-light-text-secondary dark:text-dark-text-secondary"}," Please provide landmarks or additional directions to help locate your address ",-1))])):ce("",!0),l("div",AB,[l("div",SB,[xe(l("input",{id:"save-info",type:"checkbox","onUpdate:modelValue":F[9]||(F[9]=re=>h.value=re),class:"h-4 w-4 text-accent-primary focus:ring-accent-primary border-light-neutral-300 dark:border-dark-neutral-600 rounded"},null,512),[[os,h.value]]),F[34]||(F[34]=l("label",{for:"save-info",class:"ml-2 block text-sm text-light-text-primary dark:text-dark-text-primary"}," Save this information for next time ",-1))])])])]),l("div",CB,[F[48]||(F[48]=wt('<div class="bg-light-neutral-100 dark:bg-dark-neutral-800 py-4 px-6 border-b border-light-neutral-200 dark:border-dark-neutral-700" data-v-d3cc8e63><div class="flex items-center" data-v-d3cc8e63><div class="bg-accent-primary rounded-full h-8 w-8 flex items-center justify-center mr-3" data-v-d3cc8e63><svg class="h-4 w-4 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-d3cc8e63><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z" data-v-d3cc8e63></path></svg></div><h2 class="text-xl font-bold text-light-text-primary dark:text-dark-text-primary" data-v-d3cc8e63>Payment Method</h2></div></div>',1)),l("div",PB,[l("div",RB,[l("nav",NB,[(O(),V(Ee,null,He(C,re=>l("button",{key:re.id,onClick:D=>E.value=re.id,class:Ce([E.value===re.id?"border-accent-primary text-accent-primary":"border-transparent text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary hover:border-light-neutral-300 dark:hover:border-dark-neutral-700","whitespace-nowrap py-4 px-1 border-b-2 font-medium text-sm"])},W(re.name),11,$B)),64))])]),E.value==="mobile-money"?(O(),V("div",OB,[l("div",DB,[F[36]||(F[36]=l("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"Phone Number",-1)),xe(l("input",{"onUpdate:modelValue":F[10]||(F[10]=re=>R.value.phoneNumber=re),type:"tel",required:"",placeholder:"254XXXXXXXXX",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all"},null,512),[[Pe,R.value.phoneNumber]])]),F[37]||(F[37]=l("p",{class:"text-sm text-light-text-secondary dark:text-dark-text-secondary mt-2"}," You will receive an M-Pesa prompt on your phone to complete the payment. ",-1))])):ce("",!0),E.value==="cash"?(O(),V("div",MB,[l("div",VB,[F[38]||(F[38]=l("p",{class:"text-sm text-light-text-primary dark:text-dark-text-primary"}," You will pay in cash when your order is delivered. Please have the exact amount ready. ",-1)),l("div",LB,[l("label",FB,[xe(l("input",{type:"checkbox","onUpdate:modelValue":F[11]||(F[11]=re=>A.value=re),class:"h-4 w-4 text-accent-primary focus:ring-accent-primary border-light-neutral-300 dark:border-dark-neutral-600 rounded"},null,512),[[os,A.value]]),l("span",UB," I agree to pay the full amount of "+W(H(Ye)(oe.value+j.value*.08))+" upon delivery ",1)])])])])):ce("",!0),E.value==="card"?(O(),V("div",jB,[l("div",BB,[F[45]||(F[45]=wt('<div class="mb-8" data-v-d3cc8e63><div class="flex items-center justify-between mb-4" data-v-d3cc8e63><p class="text-sm font-medium text-light-text-primary dark:text-dark-text-primary" data-v-d3cc8e63>Accepted Cards</p><div class="flex space-x-2" data-v-d3cc8e63><div class="h-8 w-12 rounded border bg-light-neutral-100 dark:bg-dark-neutral-800 flex items-center justify-center" data-v-d3cc8e63><span class="text-xs font-bold text-blue-700" data-v-d3cc8e63>VISA</span></div><div class="h-8 w-12 rounded border bg-light-neutral-100 dark:bg-dark-neutral-800 flex items-center justify-center" data-v-d3cc8e63><span class="text-xs font-bold text-red-700" data-v-d3cc8e63>MC</span></div><div class="h-8 w-12 rounded border bg-light-neutral-100 dark:bg-dark-neutral-800 flex items-center justify-center" data-v-d3cc8e63><span class="text-xs font-bold text-blue-900" data-v-d3cc8e63>AMEX</span></div></div></div></div>',1)),l("div",qB,[F[39]||(F[39]=l("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"Name on Card",-1)),xe(l("input",{"onUpdate:modelValue":F[12]||(F[12]=re=>I.value.cardName=re),type:"text",required:"",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all"},null,512),[[Pe,I.value.cardName]])]),l("div",HB,[F[41]||(F[41]=l("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"Card Number",-1)),l("div",zB,[xe(l("input",{"onUpdate:modelValue":F[13]||(F[13]=re=>I.value.cardNumber=re),type:"text",required:"",placeholder:"1234 5678 9012 3456",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all"},null,512),[[Pe,I.value.cardNumber],[H(L),"#### #### #### ####"]]),F[40]||(F[40]=l("div",{class:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none"},[l("svg",{class:"h-5 w-5 text-light-neutral-400 dark:text-dark-neutral-600",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})])],-1))])]),l("div",WB,[l("div",null,[F[42]||(F[42]=l("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"Expiration Date",-1)),xe(l("input",{"onUpdate:modelValue":F[14]||(F[14]=re=>I.value.expirationDate=re),type:"text",required:"",placeholder:"MM/YY",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all"},null,512),[[Pe,I.value.expirationDate],[H(L),"##/##"]])]),l("div",null,[F[44]||(F[44]=l("label",{class:"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary mb-1"},"CVV",-1)),l("div",KB,[xe(l("input",{"onUpdate:modelValue":F[15]||(F[15]=re=>I.value.cvv=re),type:"text",required:"",placeholder:"123",class:"w-full px-4 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary rounded-md focus:ring-2 focus:ring-accent-primary focus:border-accent-primary outline-none transition-all",maxlength:"3"},null,512),[[Pe,I.value.cvv],[H(L),"###"]]),l("div",GB,[l("button",{type:"button",onClick:F[16]||(F[16]=re=>d.value=!d.value),class:"text-light-neutral-400 dark:text-dark-neutral-600 hover:text-light-neutral-500 dark:hover:text-dark-neutral-500 focus:outline-none"},F[43]||(F[43]=[l("svg",{class:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})],-1)]))])]),d.value?(O(),V("div",QB," The CVV is a 3-digit security code found on the back of your card. ")):ce("",!0)])])])])):ce("",!0),E.value==="paypal"?(O(),V("div",YB,[l("div",JB,[l("div",XB,[l("a",{href:"/digital-wallet/ways-to-pay/add-payment-method",title:"How PayPal Works",onClick:Ar(ue,["prevent"]),class:"inline-block"},F[46]||(F[46]=[l("img",{src:"https://www.paypalobjects.com/webstatic/mktg/logo/pp_cc_mark_74x46.jpg",alt:"PayPal Logo",class:"mx-auto"},null,-1)]))]),F[47]||(F[47]=l("p",{class:"text-sm text-light-text-primary dark:text-dark-text-primary my-4"}," You will be redirected to PayPal to complete your payment securely. ",-1)),l("div",{ref_key:"paypalButtonsContainer",ref:M},null,512),l("button",{type:"button",onClick:le,class:"w-full py-3 bg-btn-primary hover:bg-btn-primary-hover active:bg-btn-primary-dark text-white font-medium rounded-md transition-all"}," Checkout with PayPal ")])])):ce("",!0)])]),l("button",{type:"submit",class:Ce(["w-full py-4 bg-btn-primary hover:bg-btn-primary-hover active:bg-btn-primary-dark text-white text-lg font-medium rounded-md transition-all flex items-center justify-center focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent-primary",{"opacity-75 cursor-not-allowed":i.value||!S.value}]),disabled:i.value||!S.value},[i.value?(O(),V("svg",eq,F[49]||(F[49]=[l("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),l("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):ce("",!0),he(" "+W(P()),1)],10,ZB)],32)]),l("div",tq,[l("div",rq,[F[55]||(F[55]=l("div",{class:"bg-light-neutral-100 dark:bg-dark-neutral-800 py-4 px-6 border-b border-light-neutral-200 dark:border-dark-neutral-700"},[l("h2",{class:"text-lg font-bold text-light-text-primary dark:text-dark-text-primary"},"Order Summary")],-1)),l("div",nq,[l("div",sq,[l("ul",iq,[(O(!0),V(Ee,null,He(G.value,re=>(O(),V("li",{key:re.id,class:"py-4 flex"},[l("div",oq,[l("img",{src:re.imageUrl||re.image||"https://placehold.co/64",alt:re.name,class:"w-full h-full object-center object-cover"},null,8,aq)]),l("div",lq,[l("div",null,[l("div",cq,[l("h3",null,W(re.name),1),l("p",uq,W(H(Ye)(re.price*re.quantity)),1)]),l("p",dq,W(re.category||"Jewelry"),1)]),l("div",hq,[l("p",fq,"Qty "+W(re.quantity),1)])])]))),128))])])]),l("div",pq,[l("div",mq,[F[50]||(F[50]=l("p",null,"Subtotal",-1)),l("p",null,W(H(Ye)(j.value)),1)]),l("div",gq,[F[51]||(F[51]=l("p",null,"Shipping",-1)),te.value>0?(O(),V("p",yq,W(H(Ye)(te.value)),1)):(O(),V("p",vq,"Free"))]),l("div",bq,[F[52]||(F[52]=l("p",null,"Taxes (estimated)",-1)),l("p",null,W(H(Ye)(j.value*.08)),1)]),l("div",xq,[l("div",_q,[F[53]||(F[53]=l("p",null,"Total",-1)),l("p",null,W(H(Ye)(oe.value+j.value*.08)),1)]),F[54]||(F[54]=l("p",{class:"mt-1 text-sm text-light-text-secondary dark:text-dark-text-secondary"},"Shipping and taxes calculated at checkout",-1))])]),F[56]||(F[56]=wt('<div class="px-6 pb-6 pt-2" data-v-d3cc8e63><div class="mt-2" data-v-d3cc8e63><div class="border border-light-neutral-300 dark:border-dark-neutral-600 rounded-md p-4 bg-light-neutral-100 dark:bg-dark-neutral-800" data-v-d3cc8e63><div class="flex" data-v-d3cc8e63><div class="flex-shrink-0" data-v-d3cc8e63><svg class="h-5 w-5 text-green-500" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-d3cc8e63><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" data-v-d3cc8e63></path></svg></div><div class="ml-3" data-v-d3cc8e63><p class="text-sm text-light-text-primary dark:text-dark-text-primary" data-v-d3cc8e63><strong data-v-d3cc8e63>Secure checkout</strong> - Your payment information is protected </p></div></div></div></div><div class="mt-4 flex justify-center" data-v-d3cc8e63><div class="flex items-center space-x-2" data-v-d3cc8e63><svg class="h-5 w-5 text-light-neutral-400 dark:text-dark-neutral-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-d3cc8e63><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" data-v-d3cc8e63></path></svg><span class="text-xs text-light-text-secondary dark:text-dark-text-secondary" data-v-d3cc8e63>SSL Secure Payment</span></div></div></div>',1))])])])]))])}}},kq=Yr(wq,[["__scopeId","data-v-d3cc8e63"]]),Eq="/images/Neeon%20Moon%201.jpeg",Iq="/images/Golden%20black.jpeg",Tq={class:"bg-light-primary dark:bg-dark-primary min-h-screen"},Aq={class:"bg-light-primary dark:bg-dark-primary py-24 sm:py-32"},Sq={class:"mx-auto max-w-7xl px-6 lg:px-8"},Cq={class:"mx-auto mt-16 max-w-2xl sm:mt-20 lg:mt-24 lg:max-w-4xl"},Pq={class:"grid max-w-xl grid-cols-1 gap-x-8 gap-y-10 lg:max-w-none lg:grid-cols-2 lg:gap-y-16"},Rq={class:"text-base font-semibold leading-7 text-light-text-primary dark:text-dark-text-primary"},Nq={class:"absolute left-0 top-0 flex h-10 w-10 items-center justify-center rounded-lg bg-accent-primary"},$q={class:"mt-2 text-base leading-7 text-light-text-secondary dark:text-dark-text-secondary"},Oq={class:"bg-light-secondary dark:bg-dark-secondary py-24 sm:py-32"},Dq={class:"mx-auto max-w-7xl px-6 lg:px-8"},Mq={role:"list",class:"mx-auto mt-20 grid max-w-2xl grid-cols-1 gap-x-8 gap-y-16 sm:grid-cols-2 lg:mx-0 lg:max-w-none lg:grid-cols-3"},Vq=["src","alt"],Lq={class:"mt-6"},Fq={class:"text-lg font-semibold leading-8 tracking-tight text-light-text-primary dark:text-dark-text-primary"},Uq={class:"text-base leading-7 text-accent-primary"},jq={class:"mt-4 text-base leading-7 text-light-text-secondary dark:text-dark-text-secondary"},Bq={class:"bg-light-primary dark:bg-dark-primary"},qq={class:"mx-auto max-w-7xl py-24 sm:px-6 sm:py-32 lg:px-8"},Hq={class:"relative isolate overflow-hidden bg-accent-primary px-6 pt-16 shadow-2xl sm:rounded-3xl sm:px-16 md:pt-24 lg:flex lg:gap-x-20 lg:px-24 lg:pt-0 fade-in",style:{"animation-delay":"0.3s"}},zq={class:"mx-auto max-w-md text-center lg:mx-0 lg:flex-auto lg:py-32 lg:text-left"},Wq={class:"mt-10 flex flex-col space-y-4 sm:flex-row sm:space-y-0 sm:items-center sm:justify-center sm:gap-x-6 lg:justify-start"},Kq={key:0,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},Gq={class:"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},Qq={class:"inline-block align-bottom bg-white dark:bg-dark-secondary rounded-lg px-4 pt-5 pb-4 text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full sm:p-6"},Yq={class:"absolute top-0 right-0 pt-4 pr-4"},Jq={class:"grid grid-cols-1 gap-y-6 sm:grid-cols-2 sm:gap-x-6"},Xq={class:"relative"},Zq={key:0,class:"mt-2 text-sm text-red-600"},eH={class:"relative"},tH={key:0,class:"mt-2 text-sm text-red-600"},rH={class:"relative"},nH={key:0,class:"mt-2 text-sm text-red-600"},sH={class:"relative"},iH={key:0,class:"mt-2 text-sm text-red-600"},oH={class:"relative"},aH={key:0,class:"mt-2 text-sm text-red-600"},lH={class:"relative"},cH={key:0,class:"mt-2 text-sm text-red-600"},uH={class:"flex justify-end pt-4"},dH=["disabled"],hH={key:0,class:"inline-block animate-spin mr-2"},fH={key:0,class:"mt-6 rounded-lg bg-green-50 dark:bg-opacity-10 p-4"},pH={class:"flex"},mH={class:"flex-shrink-0"},gH={__name:"AboutUs",setup(t){Ue(()=>{const h=new IntersectionObserver(f=>{f.forEach(p=>{p.isIntersecting&&(p.target.style.visibility="visible")})},{threshold:.1});document.querySelectorAll(".fade-in, .slide-up, .slide-in-right, .stagger-item").forEach(f=>{f.style.visibility="hidden",h.observe(f)})});const e=[{title:"Quality Craftsmanship",description:"Every piece is crafted to the highest standards, using premium materials and meticulous attention to detail.",icon:Ze({template:`
        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v17.25m0 0c-1.472 0-2.882.265-4.185.75M12 20.25c1.472 0 2.882.265 4.185.75M18.75 4.97A48.416 48.416 0 0012 4.5c-2.291 0-4.545.16-6.75.47m13.5 0c1.01.143 2.01.317 3 .52m-3-.52l2.62 10.726c.122.499-.106 1.028-.589 1.202a5.988 5.988 0 01-2.031.352 5.988 5.988 0 01-2.031-.352c-.483-.174-.711-.703-.59-1.202L18.75 4.971zm-16.5.52c.99-.203 1.99-.377 3-.52m0 0l2.62 10.726c.122.499-.106 1.028-.589 1.202a5.989 5.989 0 01-2.031.352 5.989 5.989 0 01-2.031-.352c-.483-.174-.711-.703-.59-1.202L5.25 4.971z" />
        </svg>
      `})},{title:"Artistic Innovation",description:"We blend traditional techniques with contemporary design to create unique pieces that stand out.",icon:Ze({template:`
        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M9.813 15.904L9 18.75l-.813-2.846a4.5 4.5 0 00-3.09-3.09L2.25 12l2.846-.813a4.5 4.5 0 003.09-3.09L9 5.25l.813 2.846a4.5 4.5 0 003.09 3.09L15.75 12l-2.846.813a4.5 4.5 0 00-3.09 3.09zM18.259 8.715L18 9.75l-.259-1.035a3.375 3.375 0 00-2.455-2.456L14.25 6l1.036-.259a3.375 3.375 0 002.455-2.456L18 2.25l.259 1.035a3.375 3.375 0 002.456 2.456L21.75 6l-1.035.259a3.375 3.375 0 00-2.456 2.456zM16.894 20.567L16.5 21.75l-.394-1.183a2.25 2.25 0 00-1.423-1.423L13.5 18.75l1.183-.394a2.25 2.25 0 001.423-1.423l.394-1.183.394 1.183a2.25 2.25 0 001.423 1.423l1.183.394-1.183.394a2.25 2.25 0 00-1.423 1.423z" />
        </svg>
      `})},{title:"Personalized Experience",description:"We believe in creating personal connections with our customers and offering jewelry that tells their unique story.",icon:Ze({template:`
        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M21 8.25c0-2.485-2.099-4.5-4.688-4.5-1.935 0-3.597 1.126-4.312 2.733-.715-1.607-2.377-2.733-4.313-2.733C5.1 3.75 3 5.765 3 8.25c0 7.22 9 12 9 12s9-4.78 9-12z" />
        </svg>
      `})},{title:"Sustainable Practices",description:"We're committed to environmentally responsible practices, from ethically sourced materials to eco-friendly packaging.",icon:Ze({template:`
        <svg class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
          <path stroke-linecap="round" stroke-linejoin="round" d="M12.75 3.03v.568c0 .334.148.65.405.864l1.068.89c.442.369.535 1.01.216 1.49l-.51.766a2.25 2.25 0 01-1.161.886l-.143.048a1.107 1.107 0 00-.57 1.664c.369.555.169 1.307-.427 1.605L9 13.125l.423 1.059a.956.956 0 01-1.652.928l-.679-.906a1.125 1.125 0 00-1.906.172L4.5 15.75l-.612.153M12.75 3.031a9 9 0 00-8.862 12.872M12.75 3.031a9 9 0 016.69 14.036m0 0l-.177-.529A2.25 2.25 0 0017.128 15H16.5l-.324-.324a1.453 1.453 0 00-2.328.377l-.036.073a1.586 1.586 0 01-.982.816l-.99.282c-.55.157-.894.702-.8 1.267l.073.438c.08.474.49.821.97.821.846 0 1.598.542 1.865 1.345l.215.643m5.276-3.67a9.012 9.012 0 01-5.276 3.67m0 0a9 9 0 01-10.275-4.835M15.75 9c0 .896-.393 1.7-1.016 2.25" />
        </svg>
      `})}],r=[{name:"Emma Anderson",role:"Founder & Lead Designer",description:"Emma brings over 15 years of jewelry design experience and a passion for creating pieces that tell stories.",image:"https://images.unsplash.com/photo-1580489944761-15a19d654956?ixlib=rb-1.2.1&auto=format&fit=crop&w=1061&q=80"},{name:"Daniel Martinez",role:"Master Craftsman",description:"Daniel's precision and attention to detail ensure that every piece meets our exacting quality standards.",image:"https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-1.2.1&auto=format&fit=crop&w=987&q=80"},{name:"Sophia Chen",role:"Materials Specialist",description:"Sophia sources the finest materials from around the world, ensuring both quality and ethical practices.",image:"https://images.unsplash.com/photo-1534528741775-53994a69daeb?ixlib=rb-1.2.1&auto=format&fit=crop&w=928&q=80"}],n=q(!1),s=q({firstName:"",lastName:"",email:"",phone:"",description:"",budget:""}),i=Qr({firstName:"",lastName:"",email:"",phone:"",description:"",budget:""}),o=q(!1),a=q(!1),c=()=>{let h=!0;return Object.keys(i).forEach(f=>i[f]=""),s.value.firstName.trim()||(i.firstName="First name is required",h=!1),s.value.lastName.trim()||(i.lastName="Last name is required",h=!1),s.value.email.trim()?/^\S+@\S+\.\S+$/.test(s.value.email)||(i.email="Please enter a valid email address",h=!1):(i.email="Email is required",h=!1),s.value.phone.trim()?/^\+?[\d\s-]+$/.test(s.value.phone)||(i.phone="Please enter a valid phone number",h=!1):(i.phone="Phone number is required",h=!1),s.value.description.trim()||(i.description="Design description is required",h=!1),s.value.budget||(i.budget="Please select a budget range",h=!1),h},d=async()=>{if(!c())return;o.value=!0;const h=en();try{await Fe.submitCustomDesign({firstName:s.value.firstName,lastName:s.value.lastName,email:s.value.email,phone:s.value.phone,description:s.value.description,budget:s.value.budget}),s.value={firstName:"",lastName:"",email:"",phone:"",description:"",budget:""},a.value=!0,h.addNotification({type:"success",message:"Your custom design request has been submitted successfully! We will contact you soon."}),setTimeout(()=>{n.value=!1,a.value=!1},3e3)}catch(f){console.error("Error submitting form:",f),h.addNotification({type:"error",message:"There was an error submitting your request. Please try again."})}finally{o.value=!1}};return(h,f)=>(O(),V(Ee,null,[l("div",Tq,[f[16]||(f[16]=wt('<div class="relative overflow-hidden" data-v-bfd141d3><div class="absolute inset-0 fade-in" data-v-bfd141d3><img src="'+Eq+'" alt="Jewelry crafting" class="h-full w-full object-cover object-center" data-v-bfd141d3><div class="absolute inset-0 bg-gray-900 opacity-60" data-v-bfd141d3></div></div><div class="relative px-6 py-32 sm:py-40 lg:px-8" data-v-bfd141d3><div class="mx-auto max-w-2xl text-center slide-up" data-v-bfd141d3><h1 class="text-4xl font-bold tracking-tight text-white sm:text-6xl" data-v-bfd141d3>About Beabed Art</h1><p class="mt-6 text-lg leading-8 text-white" data-v-bfd141d3>Crafting uniquely beautiful jewelry to celebrate life&#39;s special moments</p></div></div></div><div class="overflow-hidden bg-light-secondary dark:bg-dark-secondary py-24 sm:py-32" data-v-bfd141d3><div class="mx-auto max-w-7xl px-6 lg:px-8" data-v-bfd141d3><div class="mx-auto grid max-w-2xl grid-cols-1 gap-x-8 gap-y-16 sm:gap-y-20 lg:mx-0 lg:max-w-none lg:grid-cols-2" data-v-bfd141d3><div class="lg:pr-8 lg:pt-4 slide-up" style="animation-delay:0.3s;" data-v-bfd141d3><div class="lg:max-w-lg" data-v-bfd141d3><h2 class="text-base font-semibold leading-7 text-accent-primary" data-v-bfd141d3>Our Story</h2><p class="mt-2 text-3xl font-bold tracking-tight text-light-text-primary dark:text-dark-text-primary sm:text-4xl" data-v-bfd141d3>Handcrafted with passion</p><p class="mt-6 text-lg leading-8 text-light-text-secondary dark:text-dark-text-secondary" data-v-bfd141d3> Beabed Art was born from a simple love of creating beautiful things. What started as a hobby in a small home workshop has grown into a passionate pursuit of craftsmanship and artistic expression. </p><p class="mt-6 text-lg leading-8 text-light-text-secondary dark:text-dark-text-secondary" data-v-bfd141d3> Every piece in our collection is handcrafted with meticulous attention to detail, using traditional techniques passed down through generations alongside innovative modern approaches. </p><p class="mt-6 text-lg leading-8 text-light-text-secondary dark:text-dark-text-secondary" data-v-bfd141d3> We believe jewelry should be as unique as the person wearing it, telling a story and creating a connection that lasts a lifetime. </p></div></div><img src="https://images.unsplash.com/photo-1617038260897-41a1f14a8ca0?ixlib=rb-4.0.3&amp;auto=format&amp;fit=crop&amp;w=987&amp;q=80" alt="Jewelry making process" class="slide-in-right w-[48rem] max-h-[30rem] object-cover rounded-xl shadow-xl ring-1 ring-light-neutral-300 dark:ring-dark-neutral-700 sm:w-[57rem] md:-ml-4 lg:-ml-0" style="animation-delay:0.6s;" width="2432" height="1442" data-v-bfd141d3></div></div></div>',2)),l("div",Aq,[l("div",Sq,[f[9]||(f[9]=l("div",{class:"mx-auto max-w-2xl lg:text-center slide-up",style:{"animation-delay":"0.3s"}},[l("h2",{class:"text-base font-semibold leading-7 text-accent-primary"},"Our Values"),l("p",{class:"mt-2 text-3xl font-bold tracking-tight text-light-text-primary dark:text-dark-text-primary sm:text-4xl"}," What guides our craft "),l("p",{class:"mt-6 text-lg leading-8 text-light-text-secondary dark:text-dark-text-secondary"}," At Beabed Art, these principles guide everything we do, from design to customer service. ")],-1)),l("div",Cq,[l("dl",Pq,[(O(),V(Ee,null,He(e,(p,y)=>l("div",{key:y,class:"relative pl-16 stagger-item",style:St({animationDelay:`${.3+y*.2}s`})},[l("dt",Rq,[l("div",Nq,[(O(),ht(xd(p.icon),{class:"h-6 w-6 text-light-text-primary dark:text-dark-text-primary"}))]),he(" "+W(p.title),1)]),l("dd",$q,W(p.description),1)],4)),64))])])])]),l("div",Oq,[l("div",Dq,[f[10]||(f[10]=l("div",{class:"mx-auto max-w-2xl lg:mx-0 slide-up",style:{"animation-delay":"0.3s"}},[l("h2",{class:"text-3xl font-bold tracking-tight text-light-text-primary dark:text-dark-text-primary sm:text-4xl"},"Our Team"),l("p",{class:"mt-6 text-lg leading-8 text-light-text-secondary dark:text-dark-text-secondary"}," Meet the creative minds and skilled hands behind every Beabed Art creation. ")],-1)),l("ul",Mq,[(O(),V(Ee,null,He(r,(p,y)=>l("li",{key:p.name,class:"group stagger-item",style:St({animationDelay:`${.5+y*.2}s`})},[l("img",{class:Ce(["aspect-[3/2] w-full rounded-2xl object-cover transition-all duration-300 group-hover:opacity-90","ring-1 ring-light-neutral-300 dark:ring-dark-neutral-700"]),src:p.image,alt:p.name},null,8,Vq),l("div",Lq,[l("h3",Fq,W(p.name),1),l("p",Uq,W(p.role),1),l("p",jq,W(p.description),1)])],4)),64))])])]),l("div",Bq,[l("div",qq,[l("div",Hq,[f[14]||(f[14]=wt('<svg viewBox="0 0 1024 1024" class="absolute left-1/2 top-1/2 -z-10 h-[64rem] w-[64rem] -translate-y-1/2 [mask-image:radial-gradient(closest-side,white,transparent)] sm:left-full sm:-ml-80 lg:left-1/2 lg:ml-0 lg:-translate-x-1/2 lg:translate-y-0" aria-hidden="true" data-v-bfd141d3><circle cx="512" cy="512" r="512" fill="url(#759c1415-0410-454c-8f7c-9a820de03641)" fill-opacity="0.7" data-v-bfd141d3></circle><defs data-v-bfd141d3><radialGradient id="759c1415-0410-454c-8f7c-9a820de03641" data-v-bfd141d3><stop stop-color="#7775D6" data-v-bfd141d3></stop><stop offset="1" stop-color="#E935C1" data-v-bfd141d3></stop></radialGradient></defs></svg>',1)),l("div",zq,[f[12]||(f[12]=l("h2",{class:"text-3xl font-bold tracking-tight text-light-text-primary sm:text-4xl"},"Custom Design Service",-1)),f[13]||(f[13]=l("p",{class:"mt-6 text-lg leading-8 text-light-text-primary/80"}," Have a unique vision? Let us bring your dream jewelry to life. Request a custom design or visit our workshop to discuss your ideas. ",-1)),l("div",Wq,[l("button",{onClick:f[0]||(f[0]=p=>n.value=!0),class:"rounded-btn bg-btn-primary px-3.5 py-2.5 text-sm font-semibold text-white shadow-btn hover:bg-btn-primary-hover hover:shadow-btn-hover transition-btn text-center"}," Request Custom Design "),z(H(_t),{to:"/products",class:"text-sm font-semibold leading-6 text-light-text-primary hover:text-accent-secondary transition-colors text-center"},{default:Z(()=>f[11]||(f[11]=[he(" Shop Our Collection "),l("span",{"aria-hidden":"true"},"→",-1)])),_:1})])]),f[15]||(f[15]=l("div",{class:"relative my-8"},[l("img",{class:"w-[48rem] max-h-[30rem] object-cover rounded-xl shadow-xl ring-1 ring-light-neutral-300 dark:ring-dark-neutral-700 sm:w-[57rem] md:-ml-4 lg:-ml-0",src:Iq,alt:"Jewelry workshop"})],-1))])])])]),n.value?(O(),V("div",Kq,[l("div",Gq,[l("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:f[1]||(f[1]=p=>n.value=!1)}),l("div",Qq,[l("div",Yq,[l("button",{onClick:f[2]||(f[2]=p=>n.value=!1),class:"text-gray-400 hover:text-gray-500"},f[17]||(f[17]=[l("span",{class:"sr-only"},"Close",-1),l("svg",{class:"h-6 w-6",fill:"none",viewBox:"0  0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),l("form",{onSubmit:Ar(d,["prevent"]),class:"space-y-6"},[f[26]||(f[26]=l("h3",{class:"text-2xl font-semibold text-light-text-primary dark:text-dark-text-primary"},"Custom Design Request",-1)),l("div",Jq,[l("div",null,[f[18]||(f[18]=l("label",{for:"first-name",class:"block text-sm font-medium leading-6 text-light-text-primary dark:text-dark-text-primary mb-2"}," First name ",-1)),l("div",Xq,[xe(l("input",{"onUpdate:modelValue":f[3]||(f[3]=p=>s.value.firstName=p),type:"text",id:"first-name",autocomplete:"given-name",class:Ce(["block w-full rounded-lg bg-light-secondary dark:bg-dark-secondary border-0 px-4 py-3 text-light-text-primary dark:text-dark-text-primary shadow-sm ring-1 ring-inset ring-light-neutral-300 dark:ring-dark-neutral-700 placeholder:text-light-neutral-400 dark:placeholder:text-dark-neutral-400 focus:ring-2 focus:ring-accent-primary focus:outline-none transition-all duration-200 sm:text-sm",{"ring-red-500":i.firstName}]),required:""},null,2),[[Pe,s.value.firstName]]),i.firstName?(O(),V("p",Zq,W(i.firstName),1)):ce("",!0)])]),l("div",null,[f[19]||(f[19]=l("label",{for:"last-name",class:"block text-sm font-medium leading-6 text-light-text-primary dark:text-dark-text-primary mb-2"}," Last name ",-1)),l("div",eH,[xe(l("input",{"onUpdate:modelValue":f[4]||(f[4]=p=>s.value.lastName=p),type:"text",id:"last-name",autocomplete:"family-name",class:Ce(["block w-full rounded-lg bg-light-secondary dark:bg-dark-secondary border-0 px-4 py-3 text-light-text-primary dark:text-dark-text-primary shadow-sm ring-1 ring-inset ring-light-neutral-300 dark:ring-dark-neutral-700 placeholder:text-light-neutral-400 dark:placeholder:text-dark-neutral-400 focus:ring-2 focus:ring-accent-primary focus:outline-none transition-all duration-200 sm:text-sm",{"ring-red-500":i.lastName}]),required:""},null,2),[[Pe,s.value.lastName]]),i.lastName?(O(),V("p",tH,W(i.lastName),1)):ce("",!0)])])]),l("div",null,[f[20]||(f[20]=l("label",{for:"phone",class:"block text-sm font-medium leading-6 text-light-text-primary dark:text-dark-text-primary mb-2"}," Phone Number ",-1)),l("div",rH,[xe(l("input",{"onUpdate:modelValue":f[5]||(f[5]=p=>s.value.phone=p),id:"phone",type:"tel",autocomplete:"tel",class:Ce(["block w-full rounded-lg bg-light-secondary dark:bg-dark-secondary border-0 px-4 py-3 text-light-text-primary dark:text-dark-text-primary shadow-sm ring-1 ring-inset ring-light-neutral-300 dark:ring-dark-neutral-700 placeholder:text-light-neutral-400 dark:placeholder:text-dark-neutral-400 focus:ring-2 focus:ring-accent-primary focus:outline-none transition-all duration-200 sm:text-sm",{"ring-red-500":i.phone}]),required:""},null,2),[[Pe,s.value.phone]]),i.phone?(O(),V("p",nH,W(i.phone),1)):ce("",!0)])]),l("div",null,[f[21]||(f[21]=l("label",{for:"email",class:"block text-sm font-medium leading-6 text-light-text-primary dark:text-dark-text-primary mb-2"}," Email ",-1)),l("div",sH,[xe(l("input",{"onUpdate:modelValue":f[6]||(f[6]=p=>s.value.email=p),id:"email",name:"email",type:"email",autocomplete:"email",class:Ce(["block w-full rounded-lg bg-light-secondary dark:bg-dark-secondary border-0 px-4 py-3 text-light-text-primary dark:text-dark-text-primary shadow-sm ring-1 ring-inset ring-light-neutral-300 dark:ring-dark-neutral-700 placeholder:text-light-neutral-400 dark:placeholder:text-dark-neutral-400 focus:ring-2 focus:ring-accent-primary focus:outline-none transition-all duration-200 sm:text-sm",{"ring-red-500":i.email}]),required:""},null,2),[[Pe,s.value.email]]),i.email?(O(),V("p",iH,W(i.email),1)):ce("",!0)])]),l("div",null,[f[22]||(f[22]=l("label",{for:"description",class:"block text-sm font-medium leading-6 text-light-text-primary dark:text-dark-text-primary mb-2"}," Design Description ",-1)),l("div",oH,[xe(l("textarea",{"onUpdate:modelValue":f[7]||(f[7]=p=>s.value.description=p),id:"description",rows:"4",class:Ce(["block w-full rounded-lg bg-light-secondary dark:bg-dark-secondary border-0 px-4 py-3 text-light-text-primary dark:text-dark-text-primary shadow-sm ring-1 ring-inset ring-light-neutral-300 dark:ring-dark-neutral-700 placeholder:text-light-neutral-400 dark:placeholder:text-dark-neutral-400 focus:ring-2 focus:ring-accent-primary focus:outline-none transition-all duration-200 sm:text-sm",{"ring-red-500":i.description}]),required:""},null,2),[[Pe,s.value.description]]),i.description?(O(),V("p",aH,W(i.description),1)):ce("",!0)])]),l("div",null,[f[24]||(f[24]=l("label",{for:"budget",class:"block text-sm font-medium leading-6 text-light-text-primary dark:text-dark-text-primary mb-2"}," Budget Range ",-1)),l("div",lH,[xe(l("select",{"onUpdate:modelValue":f[8]||(f[8]=p=>s.value.budget=p),id:"budget",class:Ce(["block w-full rounded-lg bg-light-secondary dark:bg-dark-secondary border-0 px-4 py-3 text-light-text-primary dark:text-dark-text-primary shadow-sm ring-1 ring-inset ring-light-neutral-300 dark:ring-dark-neutral-700 placeholder:text-light-neutral-400 dark:placeholder:text-dark-neutral-400 focus:ring-2 focus:ring-accent-primary focus:outline-none transition-all duration-200 sm:text-sm",{"ring-red-500":i.budget}]),required:""},f[23]||(f[23]=[wt('<option value="" data-v-bfd141d3>Select a range</option><option value="0-500" data-v-bfd141d3>$0 - $500</option><option value="501-1000" data-v-bfd141d3>$501 - $1,000</option><option value="1001-2000" data-v-bfd141d3>$1,001 - $2,000</option><option value="2000+" data-v-bfd141d3>$2,000+</option>',5)]),2),[[Ln,s.value.budget]]),i.budget?(O(),V("p",cH,W(i.budget),1)):ce("",!0)])]),l("div",uH,[l("button",{type:"submit",disabled:o.value,class:"inline-flex items-center justify-center rounded-lg bg-orange-500 px-6 py-3 text-sm font-semibold text-white shadow-sm hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200"},[o.value?(O(),V("span",hH,f[25]||(f[25]=[l("svg",{class:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[l("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),l("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):ce("",!0),he(" "+W(o.value?"Sending...":"Submit Request"),1)],8,dH)])],32),a.value?(O(),V("div",fH,[l("div",pH,[l("div",mH,[z(H(Fl),{class:"h-5 w-5 text-orange-500","aria-hidden":"true"})]),f[27]||(f[27]=l("div",{class:"ml-3"},[l("div",{class:"text-sm font-medium text-green-800 dark:text-green-200"}," Thank you for your custom design request! We'll get back to you soon. ")],-1))])])):ce("",!0)])])])):ce("",!0)],64))}},yH=Yr(gH,[["__scopeId","data-v-bfd141d3"]]),vH="/images/Auqu%20Sand%20varients.jpeg",bH={class:"min-h-screen bg-light-primary dark:bg-dark-primary"},xH={class:"relative isolate bg-light-secondary dark:bg-dark-secondary"},_H={class:"relative mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},wH={class:"mx-auto mt-16 grid max-w-7xl grid-cols-1 gap-x-8 gap-y-20 lg:grid-cols-12"},kH={class:"lg:col-span-5 space-y-8 mb-8 animate-slideInLeft"},EH={class:"bg-light-primary dark:bg-dark-primary rounded-xl shadow-lg ring-1 ring-light-neutral-300 dark:ring-dark-neutral-700 p-8 hover:shadow-xl transition-all duration-300"},IH={class:"space-y-6 text-sm leading-6"},TH={class:"flex items-center gap-x-4 group"},AH={class:"flex-none"},SH={class:"flex items-center gap-x-4 group"},CH={class:"flex-none"},PH={class:"flex items-center gap-x-4 group"},RH={class:"flex-none"},NH={class:"bg-light-primary dark:bg-dark-primary rounded-xl shadow-lg ring-1 ring-light-neutral-300 dark:ring-dark-neutral-700 p-8 hover:shadow-xl transition-all duration-300"},$H={class:"space-y-4 text-sm leading-6"},OH={class:"flex items-center gap-x-4"},DH={class:"flex-none"},MH={class:"bg-light-primary dark:bg-dark-primary rounded-xl shadow-lg ring-1 ring-light-neutral-300 dark:ring-dark-neutral-700 overflow-hidden hover:shadow-xl transition-all duration-300"},VH={class:"p-8"},LH={class:"text-xl font-semibold leading-7 text-light-text-primary dark:text-dark-text-primary mb-6 flex items-center"},FH={class:"mt-6"},UH={href:"https://www.google.com/maps/dir/?api=1&destination=-1.4774,36.9584&destination_place_id=Kitengela+Nairobi+Kenya",target:"_blank",rel:"noopener noreferrer",class:"inline-flex items-center justify-center gap-2 bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-md transition-colors"},jH={class:"lg:col-span-7 animate-slideInRight"},BH={class:"bg-light-primary dark:bg-dark-primary rounded-xl shadow-lg ring-1 ring-light-neutral-300 dark:ring-dark-neutral-700 p-8"},qH={class:"grid grid-cols-1 gap-y-6 sm:grid-cols-2 sm:gap-x-6"},HH={class:"relative"},zH={key:0,class:"mt-2 text-sm text-red-600"},WH={class:"relative"},KH={key:0,class:"mt-2 text-sm text-red-600"},GH={class:"relative"},QH={key:0,class:"mt-2 text-sm text-red-600"},YH={class:"relative"},JH={key:0,class:"mt-2 text-sm text-red-600"},XH={class:"relative"},ZH={key:0,class:"mt-2 text-sm text-red-600"},ez={class:"flex justify-end pt-4"},tz=["disabled"],rz={key:0,class:"inline-block animate-spin mr-2"},nz={key:0,class:"mt-6 rounded-lg bg-green-50 dark:bg-opacity-10 p-4"},sz={class:"flex"},iz={class:"flex-shrink-0"},oz={__name:"ContactView",setup(t){const e=Qr({firstName:"",lastName:"",email:"",subject:"",message:""}),r=Qr({firstName:"",lastName:"",email:"",subject:"",message:""}),n=q(!1),s=q(!1),i=()=>{let a=!0;return Object.keys(r).forEach(c=>r[c]=""),e.firstName.trim()||(r.firstName="First name is required",a=!1),e.lastName.trim()||(r.lastName="Last name is required",a=!1),e.email.trim()?/^\S+@\S+\.\S+$/.test(e.email)||(r.email="Please enter a valid email address",a=!1):(r.email="Email is required",a=!1),e.subject.trim()||(r.subject="Subject is required",a=!1),e.message.trim()||(r.message="Message is required",a=!1),a},o=async()=>{if(i()){n.value=!0;try{await new Promise(a=>setTimeout(a,1500)),Object.keys(e).forEach(a=>e[a]=""),s.value=!0,setTimeout(()=>{s.value=!1},5e3)}catch(a){console.error("Error submitting form:",a)}finally{n.value=!1}}};return(a,c)=>(O(),V("div",bH,[l("div",xH,[c[25]||(c[25]=wt('<div class="relative" data-v-11744b1a><div class="absolute inset-0" data-v-11744b1a><img src="'+vH+'" alt="Jewelry crafting" class="h-full w-full object-cover object-center" data-v-11744b1a><div class="absolute inset-0 bg-gray-900 opacity-60" data-v-11744b1a></div></div><div class="relative mx-auto max-w-7xl px-4 py-24 sm:px-6 lg:px-8" data-v-11744b1a><div class="text-center animate-fadeIn" data-v-11744b1a><h2 class="text-4xl font-bold tracking-tight text-white sm:text-5xl mb-6" data-v-11744b1a> Get in Touch </h2><p class="mt-4 text-lg leading-8 text-gray-200 max-w-2xl mx-auto" data-v-11744b1a> We&#39;re here to help bring your jewelry dreams to life. Reach out to us for any questions, custom orders, or collaborations. </p></div></div></div>',1)),l("div",_H,[l("div",wH,[l("div",kH,[l("div",EH,[c[11]||(c[11]=l("h3",{class:"text-xl font-semibold leading-7 text-light-text-primary dark:text-dark-text-primary mb-6"}," Contact Details ",-1)),l("dl",IH,[l("div",TH,[l("dt",AH,[c[5]||(c[5]=l("span",{class:"sr-only"},"Address",-1)),z(H(pf),{class:"h-6 w-6 text-orange-500 group-hover:scale-110 transition-transform","aria-hidden":"true"})]),c[6]||(c[6]=l("dd",{class:"text-light-text-secondary dark:text-dark-text-secondary"},[l("p",{class:"font-medium"},"Nairobi Kenya"),l("p",null,"Kitengela")],-1))]),l("div",SH,[l("dt",CH,[c[7]||(c[7]=l("span",{class:"sr-only"},"Telephone",-1)),z(H(B8),{class:"h-6 w-6 text-orange-500 group-hover:scale-110 transition-transform","aria-hidden":"true"})]),c[8]||(c[8]=l("dd",null,[l("a",{class:"text-light-text-primary dark:text-dark-text-primary hover:text-orange-500 transition-colors",href:"tel:+2547 4141 4271"}," +2547 4141 4261 ")],-1))]),l("div",PH,[l("dt",RH,[c[9]||(c[9]=l("span",{class:"sr-only"},"Email",-1)),z(H(D8),{class:"h-6 w-6 text-orange-500 group-hover:scale-110 transition-transform","aria-hidden":"true"})]),c[10]||(c[10]=l("dd",null,[l("a",{class:"text-light-text-primary dark:text-dark-text-primary hover:text-orange-500 transition-colors",href:"mailto:hello@kreativekanvas.shop"}," hello@kreativekanvas.shop ")],-1))])])]),l("div",NH,[c[13]||(c[13]=l("h3",{class:"text-xl font-semibold leading-7 text-light-text-primary dark:text-dark-text-primary mb-6"}," Studio Hours ",-1)),l("dl",$H,[l("div",OH,[l("dt",DH,[z(H(O8),{class:"h-6 w-6 text-orange-500","aria-hidden":"true"})]),c[12]||(c[12]=wt('<dd class="text-light-text-secondary dark:text-dark-text-secondary space-y-2" data-v-11744b1a><div class="flex justify-between items-center" data-v-11744b1a><span data-v-11744b1a>Monday - Friday</span><span class="font-medium" data-v-11744b1a>9AM - 6PM</span></div><div class="flex justify-between items-center" data-v-11744b1a><span data-v-11744b1a>Saturday</span><span class="font-medium" data-v-11744b1a>10AM - 4PM</span></div><div class="flex justify-between items-center text-light-neutral-500 dark:text-dark-neutral-400" data-v-11744b1a><span data-v-11744b1a>Sunday</span><span data-v-11744b1a>Closed</span></div></dd>',1))])])]),l("div",MH,[l("div",VH,[l("h3",LH,[z(H(pf),{class:"h-6 w-6 text-orange-500 mr-2"}),c[14]||(c[14]=he(" Our Location "))]),c[16]||(c[16]=l("div",{class:"text-light-text-secondary dark:text-dark-text-secondary"},[l("p",{class:"font-medium text-lg mb-2"},"Kreative Kanvas Jewelry"),l("p",{class:"mb-1"},"Kitengela, Nairobi"),l("p",null,"Kenya")],-1)),l("div",FH,[l("a",UH,[z(H(pf),{class:"h-5 w-5"}),c[15]||(c[15]=l("span",{class:"font-medium"},"View on Google Maps",-1))])])])])]),l("div",jH,[l("div",BH,[c[24]||(c[24]=l("h3",{class:"text-2xl font-semibold leading-7 text-light-text-primary dark:text-dark-text-primary mb-8"}," Send us a Message ",-1)),l("form",{onSubmit:Ar(o,["prevent"]),class:"space-y-6"},[l("div",qH,[l("div",null,[c[17]||(c[17]=l("label",{for:"first-name",class:"block text-sm font-medium leading-6 text-light-text-primary dark:text-dark-text-primary mb-2"}," First name ",-1)),l("div",HH,[xe(l("input",{"onUpdate:modelValue":c[0]||(c[0]=d=>e.firstName=d),type:"text",id:"first-name",autocomplete:"given-name",class:Ce(["block w-full rounded-lg bg-light-secondary dark:bg-dark-secondary border-0 px-4 py-3 text-light-text-primary dark:text-dark-text-primary shadow-sm ring-1 ring-inset ring-light-neutral-300 dark:ring-dark-neutral-700 placeholder:text-light-neutral-400 dark:placeholder:text-dark-neutral-400 focus:ring-2 focus:ring-accent-primary focus:outline-none transition-all duration-200 sm:text-sm",{"ring-red-500":r.firstName}])},null,2),[[Pe,e.firstName]]),r.firstName?(O(),V("p",zH,W(r.firstName),1)):ce("",!0)])]),l("div",null,[c[18]||(c[18]=l("label",{for:"last-name",class:"block text-sm font-medium leading-6 text-light-text-primary dark:text-dark-text-primary mb-2"}," Last name ",-1)),l("div",WH,[xe(l("input",{"onUpdate:modelValue":c[1]||(c[1]=d=>e.lastName=d),type:"text",id:"last-name",autocomplete:"family-name",class:Ce(["block w-full rounded-lg bg-light-secondary dark:bg-dark-secondary border-0 px-4 py-3 text-light-text-primary dark:text-dark-text-primary shadow-sm ring-1 ring-inset ring-light-neutral-300 dark:ring-dark-neutral-700 placeholder:text-light-neutral-400 dark:placeholder:text-dark-neutral-400 focus:ring-2 focus:ring-accent-primary focus:outline-none transition-all duration-200 sm:text-sm",{"ring-red-500":r.lastName}])},null,2),[[Pe,e.lastName]]),r.lastName?(O(),V("p",KH,W(r.lastName),1)):ce("",!0)])])]),l("div",null,[c[19]||(c[19]=l("label",{for:"email",class:"block text-sm font-medium leading-6 text-light-text-primary dark:text-dark-text-primary mb-2"}," Email ",-1)),l("div",GH,[xe(l("input",{"onUpdate:modelValue":c[2]||(c[2]=d=>e.email=d),id:"email",name:"email",type:"email",autocomplete:"email",class:Ce(["block w-full rounded-lg bg-light-secondary dark:bg-dark-secondary border-0 px-4 py-3 text-light-text-primary dark:text-dark-text-primary shadow-sm ring-1 ring-inset ring-light-neutral-300 dark:ring-dark-neutral-700 placeholder:text-light-neutral-400 dark:placeholder:text-dark-neutral-400 focus:ring-2 focus:ring-accent-primary focus:outline-none transition-all duration-200 sm:text-sm",{"ring-red-500":r.email}])},null,2),[[Pe,e.email]]),r.email?(O(),V("p",QH,W(r.email),1)):ce("",!0)])]),l("div",null,[c[20]||(c[20]=l("label",{for:"subject",class:"block text-sm font-medium leading-6 text-light-text-primary dark:text-dark-text-primary mb-2"}," Subject ",-1)),l("div",YH,[xe(l("input",{"onUpdate:modelValue":c[3]||(c[3]=d=>e.subject=d),type:"text",id:"subject",class:Ce(["block w-full rounded-lg bg-light-secondary dark:bg-dark-secondary border-0 px-4 py-3 text-light-text-primary dark:text-dark-text-primary shadow-sm ring-1 ring-inset ring-light-neutral-300 dark:ring-dark-neutral-700 placeholder:text-light-neutral-400 dark:placeholder:text-dark-neutral-400 focus:ring-2 focus:ring-accent-primary focus:outline-none transition-all duration-200 sm:text-sm",{"ring-red-500":r.subject}])},null,2),[[Pe,e.subject]]),r.subject?(O(),V("p",JH,W(r.subject),1)):ce("",!0)])]),l("div",null,[c[21]||(c[21]=l("label",{for:"message",class:"block text-sm font-medium leading-6 text-light-text-primary dark:text-dark-text-primary mb-2"}," Message ",-1)),l("div",XH,[xe(l("textarea",{"onUpdate:modelValue":c[4]||(c[4]=d=>e.message=d),id:"message",rows:"4",class:Ce(["block w-full rounded-lg bg-light-secondary dark:bg-dark-secondary border-0 px-4 py-3 text-light-text-primary dark:text-dark-text-primary shadow-sm ring-1 ring-inset ring-light-neutral-300 dark:ring-dark-neutral-700 placeholder:text-light-neutral-400 dark:placeholder:text-dark-neutral-400 focus:ring-2 focus:ring-accent-primary focus:outline-none transition-all duration-200 sm:text-sm",{"ring-red-500":r.message}])},null,2),[[Pe,e.message]]),r.message?(O(),V("p",ZH,W(r.message),1)):ce("",!0)])]),l("div",ez,[l("button",{type:"submit",disabled:n.value,class:"inline-flex items-center justify-center rounded-lg bg-orange-500 px-6 py-3 text-sm font-semibold text-white shadow-sm hover:bg-orange-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200"},[n.value?(O(),V("span",rz,c[22]||(c[22]=[l("svg",{class:"w-5 h-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[l("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),l("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)]))):ce("",!0),he(" "+W(n.value?"Sending...":"Send Message"),1)],8,tz)])],32),s.value?(O(),V("div",nz,[l("div",sz,[l("div",iz,[z(H(Fl),{class:"h-5 w-5 text-orange-500","aria-hidden":"true"})]),c[23]||(c[23]=l("div",{class:"ml-3"},[l("div",{class:"text-sm font-medium text-green-800 dark:text-green-200"}," Thank you for your message! We'll get back to you soon. ")],-1))])])):ce("",!0)])])])])])]))}},az=Yr(oz,[["__scopeId","data-v-11744b1a"]]),lz={class:"admin-dashboard min-h-screen bg-light-primary dark:bg-dark-primary transition-colors duration-300"},cz={class:"container mx-auto px-4 py-8"},uz={class:"flex justify-between items-center mb-12 bg-light-secondary dark:bg-dark-secondary p-6 rounded-xl shadow-lg"},dz={class:"text-light-text-secondary dark:text-dark-text-secondary text-lg"},hz={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-light-text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},fz={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-dark-text-primary",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},pz={class:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-12"},mz={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-accent-primary/10 dark:from-dark-secondary dark:to-accent-primary/20 rounded-xl shadow-lg p-6 border-2 border-accent-primary/20 hover:border-accent-primary transition-all duration-300"},gz={class:"flex-1 flex flex-col"},yz={class:"text-3xl font-bold mb-4 text-accent-primary"},vz={class:"text-sm text-light-text-secondary dark:text-dark-text-secondary mb-4"},bz={class:"mt-auto"},xz={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-accent-secondary/10 dark:from-dark-secondary dark:to-accent-secondary/20 rounded-xl shadow-lg p-6 border-2 border-accent-secondary/20 hover:border-accent-secondary transition-all duration-300"},_z={class:"flex-1 flex flex-col"},wz={class:"text-3xl font-bold mb-4 text-accent-secondary"},kz={class:"mb-4 flex-1"},Ez={class:"flex justify-between mb-2"},Iz={class:"text-sm font-medium text-accent-secondary"},Tz={class:"w-full bg-light-neutral-200 dark:bg-dark-neutral-700 rounded-full h-2"},Az={class:"mt-auto"},Sz={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-accent-quaternary/10 dark:from-dark-secondary dark:to-accent-quaternary/20 rounded-xl shadow-lg p-6 border-2 border-accent-quaternary/20 hover:border-accent-quaternary transition-all duration-300"},Cz={class:"flex-1 flex flex-col"},Pz={class:"text-3xl font-bold mb-4 text-accent-quaternary"},Rz={class:"mb-4 flex-1"},Nz={class:"flex w-full justify-between mb-2"},$z={class:"text-sm font-medium text-accent-quaternary"},Oz={class:"w-full bg-light-neutral-200 dark:bg-dark-neutral-700 rounded-full h-2"},Dz={class:"mt-auto"},Mz={class:"mb-12"},Vz={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6"},Lz={class:"flex flex-col"},Fz={class:"-mx-4 -my-2 overflow-x-auto sm:-mx-6 lg:-mx-8"},Uz={class:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8"},jz={class:"overflow-hidden border border-light-neutral-300 dark:border-dark-neutral-700 md:rounded-xl"},Bz={class:"flex justify-between items-center p-4 bg-light-secondary dark:bg-dark-secondary"},qz={class:"flex items-center space-x-2"},Hz={class:"text-sm px-3 py-1 rounded-full bg-accent-primary/10 text-accent-primary"},zz={class:"min-w-full divide-y divide-light-neutral-300 dark:divide-dark-neutral-700"},Wz={class:"bg-white divide-y divide-light-neutral-300 dark:divide-dark-neutral-700 dark:bg-dark-secondary"},Kz={key:0,class:"animate-pulse"},Gz={class:"px-4 py-4 text-sm whitespace-nowrap"},Qz={class:"flex items-center"},Yz={class:"px-4 py-4 text-sm whitespace-nowrap"},Jz={class:"text-light-text-primary dark:text-dark-text-primary"},Xz={class:"text-light-text-secondary dark:text-dark-text-secondary"},Zz={class:"px-4 py-4 text-sm text-light-text-secondary dark:text-dark-text-secondary whitespace-nowrap"},eW={__name:"AdminDashboard",setup(t){const e=kn(),r=km(),n=di(),s=q(!0),i=q(null),o=Qr({products:{total:0,stockPercentage:0},orders:{total:0,pending:0},users:{total:0,active:0}}),a=q([]),c=ee(()=>o.orders.total&&o.orders.pending/o.orders.total*100||0),d=ee(()=>o.users.total&&o.users.active/o.users.total*100||0),h=async()=>{try{s.value=!0,i.value=null;const[w,x,I]=await Promise.all([Fe.getProducts(),Fe.getAllOrders(),Fe.getAllUsers()]),C=Array.isArray(w)?w:[],E=Array.isArray(x)?x:[],R=Array.isArray(I)?I:[];o.products={total:C.length,stockPercentage:f(C)},o.orders={total:E.length,pending:E.filter(A=>A.status==="processing").length},o.users={total:R.length,active:R.filter(A=>!A.disabled).length},a.value=[...E,...R].filter(A=>A&&(A.createdAt||A.orderNumber||A.email)).sort((A,M)=>{const T=v=>{var m;return(m=v==null?void 0:v.createdAt)!=null&&m.toDate?v.createdAt.toDate():v!=null&&v.createdAt?new Date(v.createdAt):new Date};return T(M)-T(A)}).slice(0,5).map(A=>{var M,T;return{type:A.orderNumber?"order":"user",data:{...A,orderNumber:A.orderNumber||(A.id?`ORD-${A.id.slice(0,6)}`:"N/A"),email:A.email||"N/A"},date:((T=(M=A.createdAt)==null?void 0:M.toDate)==null?void 0:T.call(M))||new Date(A.createdAt||Date.now())}})}catch(w){console.error("Error fetching dashboard data:",w),i.value="Failed to load dashboard data",o.products={total:0,stockPercentage:0},o.orders={total:0,pending:0},o.users={total:0,active:0},a.value=[]}finally{s.value=!1}},f=w=>{if(!w.length)return 0;const x=w.filter(I=>(I.quantity||0)>0).length;return Math.round(x/w.length*100)},p=()=>{r.toggleTheme()},y=()=>{n.push("/")},b=()=>{console.log("Bulk action not implemented yet")};return Ue(async()=>{if(!e.user){console.log("No user found, redirecting to login"),n.push("/login");return}if(!e.user.isAdmin){console.log("User is not admin, redirecting to home"),n.push("/");return}console.log("Admin user confirmed:",e.user),await h()}),ee(()=>{var x;const w=!!((x=e.user)!=null&&x.isAdmin);return console.log("Current admin status:",w),w}),(w,x)=>{var C,E;const I=Rr("router-link");return O(),V("div",lz,[l("div",cz,[l("div",uz,[l("div",null,[x[0]||(x[0]=l("h1",{class:"text-4xl font-bold text-light-text-primary dark:text-dark-text-primary mb-2"},"Shop Manager",-1)),l("p",dz," Welcome back, "+W(((E=(C=H(e))==null?void 0:C.user)==null?void 0:E.displayName)||"Admin"),1)]),l("button",{onClick:p,class:"p-2 rounded-full bg-light-secondary dark:bg-dark-secondary hover:bg-light-neutral-200 dark:hover:bg-dark-neutral-600 transition-colors","aria-label":"Toggle dark mode"},[H(r).theme==="light"?(O(),V("svg",hz,x[1]||(x[1]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1)]))):(O(),V("svg",fz,x[2]||(x[2]=[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1)])))])]),l("div",pz,[l("div",mz,[l("div",gz,[x[4]||(x[4]=l("h2",{class:"text-xl font-semibold mb-2 text-light-text-primary dark:text-dark-text-primary"},"Products",-1)),l("p",yz,W(s.value?"Loading...":`${o.products.total}`),1),l("p",vz,W(s.value?"":`${o.products.stockPercentage}% in stock`),1),l("div",bz,[z(I,{to:"/admin/products",class:"inline-flex items-center text-accent-primary hover:text-orange-500 font-medium transition-colors duration-200"},{default:Z(()=>x[3]||(x[3]=[he(" Manage Products "),l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])),_:1})])])]),l("div",xz,[l("div",_z,[x[7]||(x[7]=l("h2",{class:"text-xl font-semibold mb-2 text-light-text-primary dark:text-dark-text-primary"},"Orders",-1)),l("p",wz,W(s.value?"...":o.orders.total),1),l("div",kz,[l("div",Ez,[x[5]||(x[5]=l("span",{class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},"Pending Orders",-1)),l("span",Iz,W(s.value?"...":o.orders.pending),1)]),l("div",Tz,[l("div",{class:"bg-accent-secondary h-2 rounded-full transition-all duration-300",style:St(s.value?"width: 0%":`width: ${c.value}%`)},null,4)])]),l("div",Az,[z(I,{to:"/admin/orders",class:"inline-flex items-center text-accent-secondary hover:text-accent-secondary/80 font-medium transition-colors duration-200"},{default:Z(()=>x[6]||(x[6]=[he(" Manage Orders "),l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])),_:1})])])]),l("div",Sz,[l("div",Cz,[x[10]||(x[10]=l("h2",{class:"text-xl font-semibold mb-2 text-light-text-primary dark:text-dark-text-primary"},"Users",-1)),l("p",Pz,W(s.value?"Loading...":`${o.users.total}`),1),l("div",Rz,[l("div",Nz,[x[8]||(x[8]=l("span",{class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},"Active Users",-1)),l("span",$z,W(s.value?"...":`${o.users.active}`),1)]),l("div",Oz,[l("div",{class:"bg-accent-quaternary h-2 rounded-full transition-all duration-300",style:St(s.value?"width: 0%":`width: ${d.value}%`)},null,4)])]),l("div",Dz,[z(I,{to:"/admin/users",class:"inline-flex items-center text-accent-quaternary hover:text-accent-quaternary/80 font-medium transition-colors duration-200"},{default:Z(()=>x[9]||(x[9]=[he(" Manage Users "),l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 ml-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])),_:1})])])])]),l("div",Mz,[x[13]||(x[13]=l("h2",{class:"text-2xl font-semibold text-light-text-primary dark:text-dark-text-primary mb-6"},"Quick Actions",-1)),l("div",Vz,[z(I,{to:"/admin/products/new",class:"group flex items-center p-6 bg-light-secondary dark:bg-dark-secondary rounded-xl shadow-md hover:shadow-xl border-2 border-transparent hover:border-accent-primary transition-all duration-300"},{default:Z(()=>x[11]||(x[11]=[l("div",{class:"p-3 bg-gradient-to-br from-accent-primary to-orange-500 rounded-xl mr-4 group-hover:scale-110 transition-transform duration-300"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})])],-1),l("div",null,[l("span",{class:"block text-lg font-semibold text-light-text-primary dark:text-dark-text-primary"},"Add Product"),l("span",{class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},"Create new listing")],-1)])),_:1}),l("button",{onClick:y,class:"flex items-center p-6 bg-light-secondary dark:bg-dark-secondary rounded-xl shadow-md hover:shadow-xl border-2 border-transparent hover:border-accent-secondary transition-all duration-300"},x[12]||(x[12]=[wt('<div class="p-3 bg-accent-secondary rounded-xl mr-4 group-hover:scale-110 transition-transform duration-300" data-v-bec82c26><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-bec82c26><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6" data-v-bec82c26></path></svg></div><div data-v-bec82c26><span class="block text-lg font-semibold text-light-text-primary dark:text-dark-text-primary" data-v-bec82c26>View Store</span><span class="text-sm text-light-text-secondary dark:text-dark-text-secondary" data-v-bec82c26>Go to shop</span></div>',2)]))])]),l("div",Lz,[l("div",Fz,[l("div",Uz,[l("div",jz,[l("div",Bz,[x[14]||(x[14]=l("div",null,[l("h2",{class:"text-xl font-semibold text-light-text-primary dark:text-dark-text-primary"},"Recent Activity"),l("p",{class:"mt-1 text-sm text-light-text-secondary dark:text-dark-text-secondary"}," Latest actions and updates in your shop ")],-1)),l("div",qz,[l("span",Hz,W(a.value.length)+" items ",1),a.value.length?(O(),V("button",{key:0,onClick:b,class:"px-4 py-2 bg-accent-primary text-white rounded-lg hover:bg-accent-primary/90 transition-all duration-300"}," Bulk Action ")):ce("",!0)])]),l("table",zz,[x[17]||(x[17]=l("thead",{class:"bg-light-secondary dark:bg-dark-secondary"},[l("tr",null,[l("th",{scope:"col",class:"py-3.5 px-4 text-sm font-normal text-left text-light-text-secondary dark:text-dark-text-secondary"},[l("button",{class:"flex items-center gap-x-2"},[l("span",null,"Type"),l("svg",{class:"h-3",viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[l("path",{d:"M2.13347 0.0999756H2.98516L5.01902 4.79058H3.86226L3.45549 3.79907H1.63772L1.24366 4.79058H0.0996094L2.13347 0.0999756ZM2.54025 1.46012L1.96822 2.92196H3.11227L2.54025 1.46012Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"}),l("path",{d:"M0.722656 9.60832L3.09974 6.78633H0.811638V5.87109H4.35819V6.78633L2.01925 9.60832H4.43446V10.5617H0.722656V9.60832Z",fill:"currentColor",stroke:"currentColor","stroke-width":"0.1"})])])]),l("th",{scope:"col",class:"px-4 py-3.5 text-sm font-normal text-left text-light-text-secondary dark:text-dark-text-secondary"},"Details"),l("th",{scope:"col",class:"px-4 py-3.5 text-sm font-normal text-left text-light-text-secondary dark:text-dark-text-secondary"},"Date"),l("th",{scope:"col",class:"relative py-3.5 px-4"},[l("span",{class:"sr-only"},"Actions")])])],-1)),l("tbody",Wz,[s.value?(O(),V("tr",Kz,x[15]||(x[15]=[l("td",{colspan:"4",class:"text-center p-4 text-light-text-secondary dark:text-dark-text-secondary"}," Loading... ",-1)]))):a.value.length?(O(!0),V(Ee,{key:1},He(a.value,(R,A)=>(O(),V("tr",{key:A,class:"hover:bg-light-neutral-100 dark:hover:bg-dark-neutral-700 transition-colors"},[l("td",Gz,[l("div",Qz,[l("div",{class:Ce(`inline px-3 py-1 text-sm font-normal rounded-full ${R.type==="order"?"text-accent-secondary bg-accent-secondary/10":"text-accent-quaternary bg-accent-quaternary/10"}`)},W(R.type),3)])]),l("td",Yz,[l("div",null,[l("h4",Jz,W(R.type==="order"?`Order #${R.data.orderNumber}`:R.data.email),1),l("p",Xz,W(R.type==="order"?"New order placed":"User activity"),1)])]),l("td",Zz,W(new Date(R.date).toLocaleString()),1),x[16]||(x[16]=l("td",{class:"px-4 py-4 text-sm whitespace-nowrap"},[l("button",{class:"px-1 py-1 text-light-text-secondary dark:text-dark-text-secondary transition-colors duration-200 rounded-lg hover:bg-light-neutral-200 dark:hover:bg-dark-neutral-600"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-6 h-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M12 6.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 12.75a.75.75 0 110-1.5.75.75 0 010 1.5zM12 18.75a.75.75 0 110-1.5.75.75 0 010 1.5z"})])])],-1))]))),128)):ce("",!0)])]),x[18]||(x[18]=wt('<div class="flex items-center justify-between p-4 border-t border-light-neutral-300 dark:border-dark-neutral-700" data-v-bec82c26><button class="flex items-center gap-x-2 px-4 py-2 text-sm text-light-text-secondary dark:text-dark-text-secondary rounded-md hover:bg-light-neutral-200 dark:hover:bg-dark-neutral-600 transition-colors" data-v-bec82c26><svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-bec82c26><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M15 19l-7-7 7-7" data-v-bec82c26></path></svg> Previous </button><button class="flex items-center gap-x-2 px-4 py-2 text-sm text-light-text-secondary dark:text-dark-text-secondary rounded-md hover:bg-light-neutral-200 dark:hover:bg-dark-neutral-600 transition-colors" data-v-bec82c26> Next <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" data-v-bec82c26><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9 5l7 7-7 7" data-v-bec82c26></path></svg></button></div>',1))])])])])])])}}},tW=Yr(eW,[["__scopeId","data-v-bec82c26"]]),rW={class:"flex justify-center items-center"},nW={__name:"LoadingSpinner",props:{size:{type:String,default:"md",validator:t=>["sm","md","lg"].includes(t)},color:{type:String,default:"black"}},setup(t){return(e,r)=>(O(),V("div",rW,[(O(),V("svg",{class:Ce(["animate-spin",{"h-4 w-4":t.size==="sm","h-8 w-8":t.size==="md","h-12 w-12":t.size==="lg"}]),style:St({color:t.color}),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},r[0]||(r[0]=[l("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),l("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]),6))]))}},sW={key:0,class:"fixed inset-0 z-50 flex items-center justify-center p-4"},iW={class:"flex justify-between items-center p-4 border-b"},oW={class:"text-lg font-medium"},aW={class:"p-4"},lW={key:0,class:"p-4 border-t bg-gray-50"},DE={__name:"Modal",props:{show:{type:Boolean,default:!1},title:{type:String,default:""}},emits:["close"],setup(t,{emit:e}){const r=t,n=e,s=q(null),i=a=>{a.key==="Escape"&&r.show&&n("close")},o=a=>{s.value&&!s.value.contains(a.target)&&r.show&&n("close")};return Ue(()=>{document.addEventListener("keydown",i),document.addEventListener("mousedown",o)}),ui(()=>{document.removeEventListener("keydown",i),document.removeEventListener("mousedown",o)}),Rt(()=>r.show,a=>{a?document.body.style.overflow="hidden":document.body.style.overflow=""}),(a,c)=>(O(),ht(qp,{to:"body"},[t.show?(O(),V("div",sW,[l("div",{class:"fixed inset-0 bg-black bg-opacity-50 transition-opacity",onClick:c[0]||(c[0]=d=>n("close"))}),l("div",{ref_key:"modal",ref:s,class:"bg-white rounded-lg shadow-xl w-full max-w-md z-10 overflow-hidden transform transition-all"},[l("div",iW,[l("h3",oW,W(t.title),1),l("button",{onClick:c[1]||(c[1]=d=>n("close")),class:"text-gray-500 hover:text-gray-700"},c[2]||(c[2]=[l("span",{class:"sr-only"},"Close",-1),l("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))]),l("div",aW,[_u(a.$slots,"default")]),a.$slots.footer?(O(),V("div",lW,[_u(a.$slots,"footer")])):ce("",!0)],512)])):ce("",!0)]))}},cW=["type","disabled"],Zb={__name:"Button",props:{type:{type:String,default:"button"},variant:{type:String,default:"primary",validator:t=>["primary","secondary","outline","danger"].includes(t)},size:{type:String,default:"md",validator:t=>["sm","md","lg"].includes(t)},disabled:{type:Boolean,default:!1},fullWidth:{type:Boolean,default:!1}},setup(t){return(e,r)=>(O(),V("button",{type:t.type,disabled:t.disabled,class:Ce(["inline-flex items-center justify-center rounded-btn shadow-btn transition-btn focus:outline-none focus:ring-2 focus:ring-offset-2",{"bg-orange-500 text-white hover:bg-orange-600 active:bg-orange-700 focus:ring-orange-500 dark:bg-orange-600 dark:hover:bg-orange-500 dark:active:bg-orange-700":t.variant==="primary","bg-light-neutral-200 text-light-neutral-800 hover:bg-light-neutral-300 dark:bg-dark-neutral-700 dark:text-dark-neutral-100 dark:hover:bg-dark-neutral-600":t.variant==="secondary","bg-white dark:bg-transparent text-light-text-primary dark:text-dark-text-primary border border-light-neutral-300 dark:border-dark-neutral-600 hover:bg-light-neutral-100 dark:hover:bg-dark-secondary":t.variant==="outline","bg-red-600 text-white hover:bg-red-700 focus:ring-red-500":t.variant==="danger","px-3 py-1.5 text-sm":t.size==="sm","px-4 py-2":t.size==="md","px-6 py-3 text-lg":t.size==="lg","w-full":t.fullWidth,"opacity-50 cursor-not-allowed pointer-events-none":t.disabled}])},[_u(e.$slots,"default")],10,cW))}},uW={class:"admin-products min-h-screen bg-light-primary dark:bg-dark-primary transition-colors duration-300"},dW={class:"container mx-auto px-4 py-8"},hW={class:"flex justify-between items-center mb-12 bg-light-secondary dark:bg-dark-secondary p-6 rounded-xl shadow-lg"},fW={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},pW={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-accent-primary/10 dark:from-dark-secondary dark:to-accent-primary/20 rounded-xl shadow-lg p-6 border-2 border-accent-primary/20"},mW={class:"text-3xl font-bold text-accent-primary"},gW={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-orange-500/10 dark:from-dark-secondary dark:to-orange-500/20 rounded-xl shadow-lg p-6 border-2 border-orange-500/20"},yW={class:"text-3xl font-bold text-orange-500"},vW={class:"flex items-center mt-2"},bW={class:"h-2 flex-grow rounded-full bg-light-neutral-200 dark:bg-dark-neutral-700"},xW={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-blue-500/10 dark:from-dark-secondary dark:to-blue-500/20 rounded-xl shadow-lg p-6 border-2 border-blue-500/20"},_W={class:"text-3xl font-bold text-blue-500"},wW={class:"text-xs text-accent-tertiary mt-1"},kW={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-cyan-500/10 dark:from-dark-secondary dark:to-cyan-500/20 rounded-xl shadow-lg p-6 border-2 border-cyan-500/20"},EW={class:"text-3xl font-bold text-cyan-500"},IW={class:"bg-light-secondary dark:bg-dark-secondary rounded-xl shadow-lg p-6 mb-6 border border-light-neutral-300 dark:border-dark-neutral-700"},TW={class:"flex flex-wrap items-center gap-4"},AW={class:"flex-1"},SW=["value"],CW={class:"bg-light-secondary dark:bg-dark-secondary rounded-xl shadow-lg overflow-hidden border border-light-neutral-300 dark:border-dark-neutral-700"},PW={class:"overflow-x-auto"},RW={class:"min-w-full bg-light-secondary dark:bg-dark-secondary"},NW={class:"bg-light-neutral-100 dark:bg-dark-neutral-700"},$W={class:"py-3 px-4 text-left text-light-text-primary dark:text-dark-text-primary"},OW={class:"py-3 px-4 text-left text-light-text-primary dark:text-dark-text-primary"},DW={class:"py-3 px-4 text-left text-light-text-primary dark:text-dark-text-primary"},MW={class:"py-3 px-4 text-left text-light-text-primary dark:text-dark-text-primary"},VW={class:"py-3 px-4 text-left text-light-text-primary dark:text-dark-text-primary"},LW={class:"py-3 px-4 text-left text-light-text-primary dark:text-dark-text-primary"},FW={class:"py-3 px-4 text-left text-light-text-primary dark:text-dark-text-primary"},UW={key:0},jW={colspan:"7",class:"py-4 text-center"},BW={key:1},qW={class:"py-3 px-4"},HW={class:"relative w-16 h-16 rounded overflow-hidden bg-light-neutral-100 dark:bg-dark-neutral-800"},zW=["src","alt"],WW={class:"py-3 px-4 text-light-text-primary dark:text-dark-text-primary"},KW={class:"py-3 px-4 text-light-text-primary dark:text-dark-text-primary"},GW={class:"py-3 px-4 text-light-text-primary dark:text-dark-text-primary"},QW={class:"py-3 px-4 text-light-text-primary dark:text-dark-text-primary"},YW={class:"py-3 px-4"},JW={key:0,class:"text-accent-tertiary dark:text-accent-tertiary"},XW={key:1,class:"text-light-neutral-500 dark:text-dark-neutral-500"},ZW={class:"py-3 px-4"},eK={class:"flex space-x-2"},tK=["onClick"],rK=["onClick"],nK={class:"text-light-text-secondary dark:text-dark-text-secondary"},sK={class:"flex justify-end space-x-3"},iK={__name:"AdminProductsView",setup(t){const e=di(),r=q([]),n=q(!0),s=q(""),i=q(!1),o=q(null);q({});const a=M=>{if(!M)return Pt("placeholder.jpg");if(typeof M=="string"){if(M.startsWith("data:image"))return M;if(M.startsWith("/9j/")||M.startsWith("iVBOR"))return`data:image/jpeg;base64,${M}`;if(M.startsWith("base64://"))return M.replace("base64://","")}return M},c=M=>{console.error("Image failed to load:",M.target.src),M.target.src=Pt("placeholder.jpg"),M.target.onerror=function(){const T=M.target.parentNode;if(T){const v=document.createElement("div");v.innerHTML=`
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-full h-full">
          <rect width="100%" height="100%" fill="#f0f0f0"/>
          <path d="M12 6v12M6 12h12" stroke="#aaa" stroke-width="2" stroke-linecap="round"/>
        </svg>
      `,v.className="broken-image rounded w-16 h-16 flex items-center justify-center bg-light-neutral-200 dark:bg-dark-neutral-200",T.replaceChild(v,M.target)}}},d=async()=>{try{n.value=!0;const M=await Fe.getProducts();r.value=M.map(T=>({...T,images:Array.isArray(T.images)?T.images:[T.imageUrl||T.image]}))}catch(M){console.error("Failed to load products:",M)}finally{n.value=!1}},h=q("name"),f=q("asc"),p=q("all"),y=ee(()=>r.value.filter(M=>M.stock<5).length),b=ee(()=>r.value.filter(M=>M.featured).length),w=ee(()=>r.value.reduce((M,T)=>M+T.price*T.stock,0)),x=ee(()=>[...new Set(r.value.map(M=>M.category))]),I=ee(()=>{let M=[...r.value];if(p.value!=="all"&&(M=M.filter(v=>v.category===p.value)),s.value){const v=s.value.toLowerCase();M=M.filter(m=>m.name.toLowerCase().includes(v)||m.category.toLowerCase().includes(v)||m.description.toLowerCase().includes(v))}const T=(v,m)=>typeof v[h.value]=="string"?v[h.value].localeCompare(m[h.value]):Number(v[h.value])-Number(m[h.value]);return M.sort((v,m)=>f.value==="asc"?T(v,m):T(m,v)),M}),C=async()=>{if(o.value)try{await Fe.deleteProduct(o.value.id);const M=r.value.findIndex(T=>T.id===o.value.id);M!==-1&&r.value.splice(M,1),i.value=!1,o.value=null}catch(M){console.error("Failed to delete product:",M)}},E=M=>{e.push(`/admin/products/edit/${M.id}`)},R=M=>{o.value=M,i.value=!0},A=M=>{h.value===M?f.value=f.value==="asc"?"desc":"asc":(h.value=M,f.value="asc")};return Ue(d),(M,T)=>{const v=Rr("router-link");return O(),V("div",uW,[l("div",dW,[l("div",hW,[l("div",null,[z(dh,{items:[{text:"Dashboard",path:"/admin"},{text:"Products"}]}),T[11]||(T[11]=l("h1",{class:"text-4xl font-bold text-light-text-primary dark:text-dark-text-primary mt-2"},"Manage Products",-1))]),z(v,{to:"/admin/products/new",class:"bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark text-white py-2 px-4 rounded-btn flex items-center shadow-btn hover:shadow-btn-hover transition-btn duration-200"},{default:Z(()=>T[12]||(T[12]=[l("span",{class:"mr-2"},"Add New Product",-1),l("span",{class:"text-xl"},"+",-1)])),_:1})]),l("div",fW,[l("div",pW,[T[13]||(T[13]=l("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Total Products",-1)),l("p",mW,W(r.value.length),1),T[14]||(T[14]=l("p",{class:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-1"},"Active listings",-1))]),l("div",gW,[T[15]||(T[15]=l("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Low Stock",-1)),l("p",yW,W(y.value),1),l("div",vW,[l("div",bW,[l("div",{class:"h-2 rounded-full bg-orange-500 transition-all duration-300",style:St(`width: ${y.value/r.value.length*100}%`)},null,4)])])]),l("div",xW,[T[16]||(T[16]=l("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Featured",-1)),l("p",_W,W(b.value),1),l("p",wW,W((b.value/r.value.length*100).toFixed(1))+"% of products ",1)]),l("div",kW,[T[17]||(T[17]=l("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Total Value",-1)),l("p",EW,W(H(Ye)(w.value)),1),T[18]||(T[18]=l("p",{class:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-1"},"Inventory worth",-1))])]),l("div",IW,[l("div",TW,[l("div",AW,[xe(l("input",{type:"text","onUpdate:modelValue":T[0]||(T[0]=m=>s.value=m),placeholder:"Search products...",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-accent-primary focus:border-accent-primary"},null,512),[[Pe,s.value]])]),l("div",null,[xe(l("select",{"onUpdate:modelValue":T[1]||(T[1]=m=>p.value=m),class:"p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-accent-primary focus:border-accent-primary"},[T[19]||(T[19]=l("option",{value:"all"},"All Categories",-1)),(O(!0),V(Ee,null,He(x.value,m=>(O(),V("option",{key:m,value:m},W(m),9,SW))),128))],512),[[Ln,p.value]])])])]),l("div",CW,[l("div",PW,[l("table",RW,[l("thead",NW,[l("tr",null,[l("th",$W,[l("button",{onClick:T[2]||(T[2]=m=>A("image"))}," Image ")]),l("th",OW,[l("button",{onClick:T[3]||(T[3]=m=>A("name"))}," Name ")]),l("th",DW,[l("button",{onClick:T[4]||(T[4]=m=>A("category"))}," Category ")]),l("th",MW,[l("button",{onClick:T[5]||(T[5]=m=>A("price"))}," Price ")]),l("th",VW,[l("button",{onClick:T[6]||(T[6]=m=>A("stock"))}," Stock ")]),l("th",LW,[l("button",{onClick:T[7]||(T[7]=m=>A("featured"))}," Featured ")]),l("th",FW,[l("button",{onClick:T[8]||(T[8]=m=>A("actions"))}," Actions ")])])]),l("tbody",null,[n.value?(O(),V("tr",UW,[l("td",jW,[z(nW)])])):I.value.length===0?(O(),V("tr",BW,T[20]||(T[20]=[l("td",{colspan:"7",class:"py-4 text-center text-light-text-secondary dark:text-dark-text-secondary"}," No products found ",-1)]))):ce("",!0),(O(!0),V(Ee,null,He(I.value,m=>{var k;return O(),V("tr",{key:m.id,class:"border-b border-light-neutral-200 dark:border-dark-neutral-600 hover:bg-light-neutral-100 dark:hover:bg-dark-neutral-800 transition-colors"},[l("td",qW,[l("div",HW,[l("img",{src:a(((k=m.images)==null?void 0:k[0])||m.imageUrl||m.image),alt:m.name,class:"w-full h-full object-cover",onError:c},null,40,zW)])]),l("td",WW,W(m.name),1),l("td",KW,W(m.category),1),l("td",GW,"$"+W(m.price.toFixed(2)),1),l("td",QW,W(m.stock),1),l("td",YW,[m.featured?(O(),V("span",JW,"Yes")):(O(),V("span",XW,"No"))]),l("td",ZW,[l("div",eK,[l("button",{onClick:N=>E(m),class:"text-accent-quaternary dark:text-accent-quaternary hover:text-accent-quaternary/80 dark:hover:text-accent-quaternary/80 transition-colors"}," Edit ",8,tK),l("button",{onClick:N=>R(m),class:"text-orange-600 dark:text-orange-500 hover:text-orange-700 dark:hover:text-orange-400 transition-colors"}," Delete ",8,rK)])])])}),128))])])])]),i.value?(O(),ht(DE,{key:0,onClose:T[10]||(T[10]=m=>i.value=!1)},{header:Z(()=>T[21]||(T[21]=[l("h3",{class:"text-xl font-medium text-light-text-primary dark:text-dark-text-primary"},"Confirm Delete",-1)])),body:Z(()=>{var m;return[l("p",nK,' Are you sure you want to delete "'+W((m=o.value)==null?void 0:m.name)+'"? This action cannot be undone. ',1)]}),footer:Z(()=>[l("div",sK,[z(Zb,{variant:"secondary",onClick:T[9]||(T[9]=m=>i.value=!1)},{default:Z(()=>T[22]||(T[22]=[he(" Cancel ")])),_:1}),z(Zb,{variant:"danger",onClick:C},{default:Z(()=>T[23]||(T[23]=[he(" Delete ")])),_:1})])]),_:1})):ce("",!0)])])}}},oK=Yr(iK,[["__scopeId","data-v-3f08fffb"]]),aK={class:"admin-product-form container mx-auto px-4 py-8 bg-light-primary dark:bg-dark-primary min-h-screen"},lK={class:"flex justify-between items-center mb-6"},cK={class:"text-2xl font-bold text-light-text-primary dark:text-dark-text-primary"},uK={class:"bg-light-secondary dark:bg-dark-secondary rounded-lg shadow-md p-6 mb-6 border border-light-neutral-300 dark:border-dark-neutral-700"},dK={class:"mb-6"},hK={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},fK={class:"mb-6"},pK={class:"mb-6"},mK={class:"mb-4"},gK={class:"bg-light-neutral-50 dark:bg-dark-neutral-800 rounded-lg p-4 border border-light-neutral-200 dark:border-dark-neutral-700"},yK={key:0,class:"flex flex-col items-center justify-center py-8"},vK={key:1,class:"relative"},bK={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3"},xK=["src","alt","onError"],_K={class:"absolute inset-0 bg-gradient-to-t from-black/70 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity flex flex-col justify-end p-2"},wK={class:"flex justify-between items-center"},kK={class:"text-white text-xs bg-black/50 px-1.5 py-0.5 rounded"},EK={class:"flex space-x-1"},IK=["onClick"],TK=["onClick"],AK=["onClick"],SK=["onClick"],CK={key:0,class:"absolute top-2 left-2 bg-accent-quaternary text-white text-xs px-1.5 py-0.5 rounded"},PK={class:"absolute -top-3 -right-3 bg-accent-primary text-white text-xs font-bold rounded-full w-6 h-6 flex items-center justify-center shadow-sm"},RK={class:"bg-light-secondary dark:bg-dark-secondary rounded-lg border border-light-neutral-300 dark:border-dark-neutral-700 overflow-hidden"},NK={class:"p-4"},$K={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},OK={class:"bg-light-neutral-50/50 dark:bg-dark-neutral-800/50 rounded-lg border border-dashed border-light-neutral-400 dark:border-dark-neutral-500 p-4 relative"},DK={class:"flex flex-col items-center justify-center"},MK={class:"bg-light-neutral-50/50 dark:bg-dark-neutral-800/50 rounded-lg border border-light-neutral-300 dark:border-dark-neutral-600 p-4"},VK={class:"space-y-3"},LK={class:"flex"},FK=["disabled"],UK={key:0,class:"mt-4 bg-accent-quaternary/10 text-accent-quaternary px-4 py-3 rounded border border-accent-quaternary/20 flex items-center"},jK={class:"mb-6"},BK={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4"},qK={class:"space-y-4"},HK={class:"mt-4"},zK={class:"flex items-center"},WK={class:"mb-6"},KK={key:0,class:"mb-4 bg-light-neutral-50 dark:bg-dark-neutral-800 rounded-lg p-4 border border-light-neutral-200 dark:border-dark-neutral-700"},GK={class:"space-y-2"},QK={class:"flex items-center"},YK={class:"font-medium text-light-text-primary dark:text-dark-text-primary"},JK={class:"ml-3 flex items-center gap-1"},XK=["title"],ZK=["onClick"],eG={class:"bg-light-secondary dark:bg-dark-secondary rounded-lg p-5 border border-light-neutral-300 dark:border-dark-neutral-700"},tG={class:"space-y-4"},rG={class:"flex flex-wrap items-center gap-2 mb-3"},nG={class:"flex flex-col items-center"},sG=["onUpdate:modelValue","onInput","aria-label"],iG=["onClick"],oG={class:"mt-2"},aG={class:"flex flex-wrap gap-1.5"},lG=["onClick","disabled","aria-label"],cG={class:"mt-5 flex"},uG=["disabled"],dG={key:0,class:"ml-2 text-sm text-accent-tertiary flex items-center"},hG={class:"border-t border-light-neutral-300 dark:border-dark-neutral-700 pt-6 flex justify-end space-x-4"},fG=["disabled"],pG={key:0,class:"bg-orange-100 dark:bg-orange-900/30 border border-orange-400 dark:border-orange-700 text-orange-700 dark:text-orange-400 px-4 py-3 rounded mb-4 relative"},mG={class:"block sm:inline"},gG={key:1,class:"bg-accent-primary/10 dark:bg-accent-primary/20 border border-accent-primary/30 dark:border-accent-primary/30 text-light-text-primary dark:text-dark-text-primary px-4 py-3 rounded mb-4"},yG={key:2,class:"bg-accent-primary/10 dark:bg-accent-primary/20 border border-accent-primary/30 dark:border-accent-primary/30 text-light-text-primary dark:text-dark-text-primary px-4 py-3 rounded mb-4"},vG={__name:"AdminProductForm",setup(t){const e=di(),r=Nd(),n=en(),s=ee(()=>r.params.id),i=ee(()=>!!s.value),o=q({name:"",category:"",description:"",price:0,stock:1,images:[],featured:!1,materials:"",dimensions:"",variants:[],careInstructions:`Store in a cool, dry place away from direct sunlight
Avoid contact with perfumes, lotions, and chemicals
Clean gently with a soft, lint-free cloth
Remove before swimming or bathing`,sizingAndFit:"Our standard bracelet length is 7.5 inches. Necklaces are available in 16, 18, and 20 inch lengths. Please contact us for custom sizing.",shippingInfo:"Handmade to order. Please allow 1-3 business days for production plus shipping time.",returnPolicy:"We accept returns within 14 days of delivery for unworn items in original packaging."}),a=q(""),c=q(!1),d=q(!1),h=q(null),f=q(!1),p=ee(()=>i.value?`product_edit_${s.value}`:"product_new"),y=q("Processing image..."),b=ee(()=>o.value.images.some(G=>G.startsWith("temp://")));Ue(async()=>{if(i.value)try{const G=await Fe.getProduct(s.value);G?o.value={...G}:(console.error("Product not found"),e.push("/admin/products"))}catch(G){console.error("Error loading product:",G),h.value="Failed to load product"}else{const G=localStorage.getItem(p.value);if(G)try{o.value=JSON.parse(G)}catch(j){console.error("Error parsing saved form data:",j)}}}),Rt(()=>o.value,G=>{localStorage.setItem(p.value,JSON.stringify(G))},{deep:!0}),ui(()=>{!h.value&&!c.value&&localStorage.removeItem(p.value)});const w=()=>{a.value.trim()&&(o.value.images.push(a.value.trim()),a.value="")},x=G=>{o.value.images.splice(G,1)},I=G=>G.startsWith("base64://")?G.replace("base64://",""):G.startsWith("temp://")?G.replace("temp://",""):G,C=async G=>{const j=G.target.files[0];if(j){if(!j.type.match("image.*")){h.value="Please select an image file";return}d.value=!0,h.value=null;try{const te=(j.size/1048576).toFixed(2);j.size>1024*1024?y.value=`Resizing ${te}MB image for optimal performance...`:y.value=`Processing ${te}MB image...`;const oe=await Fe.uploadProductImage(j);o.value.images.push(oe),oe.startsWith("base64://")&&(f.value=!0),G.target.value=""}catch(te){console.error("Error processing image:",te),h.value=`Failed to process image: ${te.message||"Unknown error"}`}finally{d.value=!1}}},E=async()=>{c.value=!0,h.value=null;try{if(!o.value.name||!o.value.category||!o.value.description||o.value.images.length===0)throw new Error("Please fill out all required fields and add at least one image");const G=o.value.images.filter(j=>j.startsWith("base64://"));if(G.length>0){const te=G.reduce((oe,ke)=>oe+ke.length,0)/1024;if(te>700&&!confirm(`Warning: Your product has approximately ${te.toFixed(0)}KB of image data, which is approaching Firestore's limit. Continue anyway?`)){c.value=!1;return}}if(i.value)await Fe.updateProduct(s.value,o.value),await n.addPersistedNotification({title:"Product Updated",message:`Successfully updated product: ${o.value.name}`,type:"success"});else{const j=await Fe.createProduct(o.value);await n.addPersistedNotification({title:"New Product Created",message:`Successfully created new product: ${o.value.name}`,type:"success"})}localStorage.removeItem(p.value),e.push("/admin/products")}catch(G){console.error("Error saving product:",G),h.value=G.message,n.addNotification({title:"Error",message:`Failed to ${i.value?"update":"create"} product: ${G.message}`,type:"error",timeout:5e3})}finally{c.value=!1}},R=q(""),A=q([]),M=()=>{A.value.push("#ffffff")},T=(G,j)=>{A.value[G]=j.target.value},v=G=>{A.value.splice(G,1)},m=()=>{R.value.trim()&&A.value.length&&(o.value.variants.push({name:R.value.trim(),colors:[...A.value]}),R.value="",A.value=[])},k=["#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#000000","#FFFFFF"],N=G=>{A.value.length<5&&A.value.push(G)},S=ee(()=>R.value.trim()&&A.value.length>0),P=(G,j)=>{const te=o.value.images[G];o.value.images.splice(G,1),o.value.images.splice(j,0,te)},le=G=>{if(G<=0||G>=o.value.images.length)return;const j=o.value.images[G];o.value.images.splice(G,1),o.value.images.unshift(j)},ue=(G,j)=>{G.target.src="/images/no-image.jpg",console.warn(`Image at index ${j} failed to load:`,o.value.images[j])};return(G,j)=>{const te=Rr("router-link");return O(),V("div",aK,[l("div",lK,[l("h1",cK,W(i.value?"Edit Product":"Add New Product"),1),z(te,{to:"/admin/products",class:"text-light-text-secondary dark:text-dark-text-secondary hover:text-accent-primary dark:hover:text-accent-primary transition-colors"},{default:Z(()=>j[17]||(j[17]=[he(" Back to Products ")])),_:1})]),l("div",uK,[l("form",{onSubmit:Ar(E,["prevent"])},[l("div",dK,[j[23]||(j[23]=l("h2",{class:"text-lg font-semibold mb-4 text-light-text-primary dark:text-dark-text-primary"},"Basic Information",-1)),l("div",hK,[l("div",null,[j[18]||(j[18]=l("label",{for:"name",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Product Name",-1)),xe(l("input",{type:"text",id:"name","onUpdate:modelValue":j[0]||(j[0]=oe=>o.value.name=oe),required:"",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary"},null,512),[[Pe,o.value.name]])]),l("div",null,[j[20]||(j[20]=l("label",{for:"category",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Category",-1)),xe(l("select",{id:"category","onUpdate:modelValue":j[1]||(j[1]=oe=>o.value.category=oe),required:"",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary"},j[19]||(j[19]=[wt('<option value="" data-v-ef617560>Select a category</option><option value="Beaded Jewelry" data-v-ef617560>Beaded Jewelry</option><option value="String Jewelry" data-v-ef617560>String Jewelry</option><option value="Metal Jewelry" data-v-ef617560>Metal Jewelry</option><option value="Gemstones" data-v-ef617560>Gemstones</option><option value="Earrings" data-v-ef617560>Earrings</option><option value="Necklaces" data-v-ef617560>Necklaces</option><option value="Bracelets" data-v-ef617560>Bracelets</option><option value="Rings" data-v-ef617560>Rings</option><option value="Other" data-v-ef617560>Other</option>',10)]),512),[[Ln,o.value.category]])]),l("div",null,[j[21]||(j[21]=l("label",{for:"price",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Price (KES)",-1)),xe(l("input",{type:"number",id:"price","onUpdate:modelValue":j[2]||(j[2]=oe=>o.value.price=oe),min:"0.01",step:"0.01",required:"",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary"},null,512),[[Pe,o.value.price,void 0,{number:!0}]])]),l("div",null,[j[22]||(j[22]=l("label",{for:"stock",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Stock Quantity",-1)),xe(l("input",{type:"number",id:"stock","onUpdate:modelValue":j[3]||(j[3]=oe=>o.value.stock=oe),min:"0",required:"",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary"},null,512),[[Pe,o.value.stock,void 0,{number:!0}]])])])]),l("div",fK,[j[24]||(j[24]=l("label",{for:"description",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Description",-1)),xe(l("textarea",{id:"description","onUpdate:modelValue":j[4]||(j[4]=oe=>o.value.description=oe),rows:"4",required:"",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary resize-y"},null,512),[[Pe,o.value.description]])]),l("div",pK,[j[39]||(j[39]=l("h2",{class:"text-lg font-semibold mb-4 text-light-text-primary dark:text-dark-text-primary flex items-center"},[l("span",null,"Product Images"),l("span",{class:"ml-2 text-xs text-light-text-secondary dark:text-dark-text-secondary font-normal bg-accent-primary/10 dark:bg-accent-primary/20 text-accent-primary dark:text-accent-primary px-2 py-0.5 rounded-full"},"Required")],-1)),l("div",mK,[j[30]||(j[30]=l("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-2"},"Gallery Preview",-1)),l("div",gK,[o.value.images.length===0?(O(),V("div",yK,j[25]||(j[25]=[l("svg",{class:"w-12 h-12 text-light-neutral-400 dark:text-dark-neutral-500 mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1),l("p",{class:"text-light-neutral-500 dark:text-dark-neutral-400 text-center"},[he(" No images added yet"),l("br"),l("span",{class:"text-sm"},"Add at least one product image below")],-1)]))):(O(),V("div",vK,[l("div",bK,[(O(!0),V(Ee,null,He(o.value.images,(oe,ke)=>(O(),V("div",{key:ke,class:"group relative aspect-square rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-all bg-light-neutral-200 dark:bg-dark-neutral-700"},[l("img",{src:I(oe),class:"w-full h-full object-cover transition-transform group-hover:scale-105",alt:`Product image ${ke+1}`,onError:ye=>ue(ye,ke)},null,40,xK),l("div",_K,[l("div",wK,[l("span",kK," Image #"+W(ke+1),1),l("div",EK,[ke!==0?(O(),V("button",{key:0,type:"button",onClick:ye=>le(ke),class:"bg-light-primary/90 text-accent-primary rounded-full w-6 h-6 flex items-center justify-center hover:bg-light-primary transition-colors",title:"Set as primary image"},j[26]||(j[26]=[l("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})],-1)]),8,IK)):ce("",!0),ke>0?(O(),V("button",{key:1,type:"button",onClick:ye=>P(ke,ke-1),class:"bg-light-primary/90 text-light-text-primary rounded-full w-6 h-6 flex items-center justify-center hover:bg-light-primary transition-colors",title:"Move left"},j[27]||(j[27]=[l("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)]),8,TK)):ce("",!0),ke<o.value.images.length-1?(O(),V("button",{key:2,type:"button",onClick:ye=>P(ke,ke+1),class:"bg-light-primary/90 text-light-text-primary rounded-full w-6 h-6 flex items-center justify-center hover:bg-light-primary transition-colors",title:"Move right"},j[28]||(j[28]=[l("svg",{class:"w-3.5 h-3.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)]),8,AK)):ce("",!0),l("button",{type:"button",onClick:ye=>x(ke),class:"bg-accent-tertiary rounded-full w-6 h-6 flex items-center justify-center hover:bg-accent-tertiary/90 transition-colors",title:"Remove image"},j[29]||(j[29]=[l("svg",{class:"w-3.5 h-3.5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,SK)])])]),ke===0?(O(),V("div",CK," Primary ")):ce("",!0)]))),128))]),l("div",PK,W(o.value.images.length),1)]))])]),l("div",RK,[l("div",NK,[j[37]||(j[37]=l("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-3"},"Add Product Images",-1)),l("div",$K,[l("div",OK,[l("div",DK,[j[32]||(j[32]=wt('<svg class="w-10 h-10 text-light-neutral-400 dark:text-dark-neutral-500 mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-ef617560><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12" data-v-ef617560></path></svg><div class="text-center mb-3" data-v-ef617560><p class="text-sm text-light-text-secondary dark:text-dark-text-secondary font-medium" data-v-ef617560> Drag and drop or click to upload </p><p class="text-xs text-light-neutral-500 dark:text-dark-neutral-400 mt-1" data-v-ef617560> PNG, JPG or JPEG (max. 5MB) </p></div>',2)),l("input",{ref:"fileInput",type:"file",onChange:C,accept:"image/png, image/jpeg, image/jpg",class:"cursor-pointer opacity-0 absolute inset-0 w-full h-full","aria-label":"Upload product image"},null,544),l("button",{type:"button",class:"flex items-center text-sm bg-accent-quaternary hover:bg-accent-quaternary/90 text-white py-1.5 px-3 rounded-btn shadow-btn hover:shadow-btn-hover transition-all z-10",onClick:j[5]||(j[5]=oe=>G.$refs.fileInput.click())},j[31]||(j[31]=[l("svg",{class:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})],-1),he(" Browse Files ")]))])]),l("div",MK,[l("div",VK,[j[34]||(j[34]=l("label",{class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary"}," Or add image from URL ",-1)),l("div",LK,[xe(l("input",{type:"url","onUpdate:modelValue":j[6]||(j[6]=oe=>a.value=oe),placeholder:"https://example.com/image.jpg",class:"flex-1 p-2 border border-r-0 border-light-neutral-300 dark:border-dark-neutral-600 rounded-l bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary"},null,512),[[Pe,a.value]]),l("button",{type:"button",onClick:w,class:"bg-accent-quaternary hover:bg-accent-quaternary/90 text-white py-2 px-3 rounded-r shadow-btn hover:shadow-btn-hover transition-all flex items-center",disabled:d.value||!a.value.trim()},j[33]||(j[33]=[l("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),he(" Add ")]),8,FK)]),j[35]||(j[35]=l("p",{class:"text-xs text-light-neutral-500 dark:text-dark-neutral-400"}," Enter a direct link to an image file (CORS restrictions may apply) ",-1))])])]),d.value?(O(),V("div",UK,[j[36]||(j[36]=l("div",{class:"animate-spin mr-2 w-4 h-4 border-2 border-accent-quaternary border-t-transparent rounded-full"},null,-1)),l("span",null,W(y.value),1)])):ce("",!0)]),j[38]||(j[38]=wt('<div class="bg-light-neutral-100 dark:bg-dark-neutral-900/50 px-4 py-3 border-t border-light-neutral-200 dark:border-dark-neutral-700" data-v-ef617560><div class="flex items-start" data-v-ef617560><svg class="w-5 h-5 text-accent-tertiary mr-2 mt-0.5 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-v-ef617560><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" data-v-ef617560></path></svg><div class="text-sm text-light-text-secondary dark:text-dark-text-secondary space-y-1" data-v-ef617560><p data-v-ef617560><span class="font-medium" data-v-ef617560>Tips:</span> Add at least one product image. For best results, use images with a 1:1 aspect ratio. </p><ul class="list-disc list-inside text-xs text-light-neutral-500 dark:text-dark-neutral-400 pl-1 space-y-0.5" data-v-ef617560><li data-v-ef617560>The first image will be the primary product image shown in listings</li><li data-v-ef617560>You can rearrange images by using the arrow buttons</li><li data-v-ef617560>High-resolution images will be automatically resized to optimize performance</li></ul></div></div></div>',1))])]),l("div",jK,[j[47]||(j[47]=l("h2",{class:"text-lg font-semibold mb-4 text-light-text-primary dark:text-dark-text-primary"},"Additional Details",-1)),l("div",BK,[l("div",null,[j[40]||(j[40]=l("label",{for:"materials",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Materials",-1)),xe(l("input",{type:"text",id:"materials","onUpdate:modelValue":j[7]||(j[7]=oe=>o.value.materials=oe),placeholder:"e.g. Sterling silver, glass beads, etc.",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary"},null,512),[[Pe,o.value.materials]])]),l("div",null,[j[41]||(j[41]=l("label",{for:"dimensions",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Dimensions",-1)),xe(l("input",{type:"text",id:"dimensions","onUpdate:modelValue":j[8]||(j[8]=oe=>o.value.dimensions=oe),placeholder:"e.g. 18 inches, 2.5cm diameter, etc.",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary"},null,512),[[Pe,o.value.dimensions]])])]),l("div",qK,[l("div",null,[j[42]||(j[42]=l("label",{class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Care Instructions",-1)),xe(l("textarea",{"onUpdate:modelValue":j[9]||(j[9]=oe=>o.value.careInstructions=oe),rows:"4",placeholder:"Enter care instructions, one per line",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary resize-y"},null,512),[[Pe,o.value.careInstructions]])]),l("div",null,[j[43]||(j[43]=l("label",{class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Sizing & Fit",-1)),xe(l("textarea",{"onUpdate:modelValue":j[10]||(j[10]=oe=>o.value.sizingAndFit=oe),rows:"3",placeholder:"Enter sizing and fit information",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary resize-y"},null,512),[[Pe,o.value.sizingAndFit]])]),l("div",null,[j[44]||(j[44]=l("label",{class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Shipping Information",-1)),xe(l("textarea",{"onUpdate:modelValue":j[11]||(j[11]=oe=>o.value.shippingInfo=oe),rows:"2",placeholder:"Enter shipping information",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary resize-y"},null,512),[[Pe,o.value.shippingInfo]])]),l("div",null,[j[45]||(j[45]=l("label",{class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Return Policy",-1)),xe(l("textarea",{"onUpdate:modelValue":j[12]||(j[12]=oe=>o.value.returnPolicy=oe),rows:"2",placeholder:"Enter return policy",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary resize-y"},null,512),[[Pe,o.value.returnPolicy]])])]),l("div",HK,[l("div",zK,[xe(l("input",{type:"checkbox",id:"featured","onUpdate:modelValue":j[13]||(j[13]=oe=>o.value.featured=oe),class:"h-4 w-4 text-accent-primary focus:ring-accent-primary border-light-neutral-300 dark:border-dark-neutral-600 rounded"},null,512),[[os,o.value.featured]]),j[46]||(j[46]=l("label",{for:"featured",class:"ml-2 block text-sm text-light-text-primary dark:text-dark-text-primary"}," Featured product (display on homepage) ",-1))])])]),l("div",WK,[j[58]||(j[58]=l("h2",{class:"text-lg font-semibold mb-4 text-light-text-primary dark:text-dark-text-primary flex items-center"},[l("span",null,"Product Variants"),l("span",{class:"ml-2 text-xs text-light-text-secondary dark:text-dark-text-secondary font-normal bg-light-neutral-100 dark:bg-dark-neutral-700 px-2 py-0.5 rounded-full"},"Optional")],-1)),o.value.variants.length?(O(),V("div",KK,[j[49]||(j[49]=l("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-3"},"Saved Variants",-1)),l("ul",GK,[(O(!0),V(Ee,null,He(o.value.variants,(oe,ke)=>(O(),V("li",{key:ke,class:"flex items-center justify-between p-3 rounded-lg border border-light-neutral-200 dark:border-dark-neutral-600 bg-light-primary dark:bg-dark-primary hover:shadow-sm transition-shadow"},[l("div",QK,[l("span",YK,W(oe.name),1),l("div",JK,[(O(!0),V(Ee,null,He(oe.colors,(ye,Se)=>(O(),V("div",{key:Se,class:"w-5 h-5 rounded-full border border-light-neutral-300 dark:border-dark-neutral-600 transition-transform hover:scale-110 cursor-pointer flex justify-center items-center",style:St({backgroundColor:ye}),title:ye},null,12,XK))),128))])]),l("button",{type:"button",onClick:ye=>o.value.variants.splice(ke,1),class:"text-light-neutral-500 dark:text-dark-neutral-400 hover:text-accent-tertiary dark:hover:text-accent-tertiary flex items-center transition-colors"},j[48]||(j[48]=[l("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1),l("span",{class:"ml-1 text-sm"},"Remove",-1)]),8,ZK)]))),128))])])):ce("",!0),l("div",eG,[j[57]||(j[57]=l("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-4"},"Add New Variant",-1)),l("div",tG,[l("div",null,[j[50]||(j[50]=l("label",{for:"variant-name",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"}," Variant Name ",-1)),xe(l("input",{type:"text",id:"variant-name","onUpdate:modelValue":j[14]||(j[14]=oe=>R.value=oe),placeholder:"e.g. 'Silver & Blue', 'Rose Gold', 'Extra Large'",class:"w-full p-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary"},null,512),[[Pe,R.value]]),j[51]||(j[51]=l("p",{class:"mt-1 text-xs text-light-neutral-500 dark:text-dark-neutral-400"}," Name that describes this product variant (color, size, material, style, etc.) ",-1))]),l("div",null,[j[54]||(j[54]=l("label",{class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},[he(" Color Palette "),l("span",{class:"ml-1 text-xs text-light-neutral-500 dark:text-dark-neutral-400 font-normal"}," (up to 5 colors) ")],-1)),l("div",rG,[(O(!0),V(Ee,null,He(A.value,(oe,ke)=>(O(),V("div",{key:ke,class:"relative group"},[l("div",nG,[l("div",{class:"w-8 h-8 rounded-full border border-light-neutral-300 dark:border-dark-neutral-600 shadow-sm flex items-center justify-center",style:St({backgroundColor:oe})},null,4),xe(l("input",{type:"color","onUpdate:modelValue":ye=>A.value[ke]=ye,onInput:ye=>T(ke,ye),class:"w-5 h-5 mt-1 p-0 border-0 cursor-pointer","aria-label":`Color ${ke+1}`},null,40,sG),[[Pe,A.value[ke]]]),l("button",{type:"button",onClick:ye=>v(ke),class:"absolute -top-1 -right-1 w-5 h-5 rounded-full flex items-center justify-center bg-accent-tertiary text-white opacity-0 group-hover:opacity-100 transition-opacity","aria-label":"Remove color"}," × ",8,iG)])]))),128)),A.value.length<5?(O(),V("button",{key:0,type:"button",onClick:M,class:"w-8 h-8 rounded-full border-2 border-dashed border-light-neutral-400 dark:border-dark-neutral-500 flex items-center justify-center hover:border-accent-primary dark:hover:border-accent-primary transition-colors","aria-label":"Add color"},j[52]||(j[52]=[l("span",{class:"text-light-neutral-500 dark:text-dark-neutral-400 text-xl"},"+",-1)]))):ce("",!0)]),l("div",oG,[j[53]||(j[53]=l("p",{class:"text-xs text-light-neutral-500 dark:text-dark-neutral-400 mb-2"},"Common colors:",-1)),l("div",aG,[(O(),V(Ee,null,He(k,(oe,ke)=>l("button",{key:ke,type:"button",onClick:ye=>N(oe),style:St({backgroundColor:oe}),disabled:A.value.length>=5,class:"w-6 h-6 rounded-full border border-light-neutral-300 dark:border-dark-neutral-600 hover:scale-110 transition-transform","aria-label":`Add ${oe} color`},null,12,lG)),64))])])])]),l("div",cG,[l("button",{type:"button",onClick:m,disabled:!S.value,class:"flex items-center px-4 py-2 rounded-btn shadow-btn text-white bg-accent-quaternary hover:bg-accent-quaternary/90 disabled:opacity-50 disabled:cursor-not-allowed transition-all"},j[55]||(j[55]=[l("svg",{class:"w-4 h-4 mr-1.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1),he(" Add Variant ")]),8,uG),S.value?ce("",!0):(O(),V("div",dG,j[56]||(j[56]=[l("svg",{class:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),he(" Please add a name and at least one color ")])))])])]),l("div",hG,[l("button",{type:"button",onClick:j[15]||(j[15]=oe=>G.$router.go(-1)),class:"py-2 px-4 border border-light-neutral-300 dark:border-dark-neutral-600 rounded-btn shadow-btn text-sm font-medium text-light-text-primary dark:text-dark-text-primary hover:bg-light-neutral-100 dark:hover:bg-dark-neutral-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-accent-primary transition-all"}," Cancel "),l("button",{type:"submit",class:"py-2 px-4 border border-transparent rounded-btn shadow-btn text-sm font-medium text-white bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-btn-primary transition-all",disabled:c.value},W(c.value?"Saving...":"Save Product"),9,fG)])],32)]),h.value?(O(),V("div",pG,[j[60]||(j[60]=l("strong",{class:"font-bold mr-1"},"Error:",-1)),l("span",mG,W(h.value),1),l("span",{class:"absolute top-0 bottom-0 right-0 px-4 py-3 cursor-pointer",onClick:j[16]||(j[16]=oe=>h.value=null)},j[59]||(j[59]=[l("span",{class:"text-xl"},"×",-1)]))])):ce("",!0),b.value?(O(),V("div",gG,j[61]||(j[61]=[l("strong",{class:"font-bold"},"Warning:",-1),l("span",{class:"block sm:inline"}," Some images are temporarily stored locally due to CORS restrictions. They will be lost if you refresh the page. Please check the CORS settings for your Firebase Storage. ",-1)]))):ce("",!0),f.value?(O(),V("div",yG,j[62]||(j[62]=[l("strong",{class:"font-bold"},"Warning:",-1),l("span",{class:"block sm:inline"}," Some uploaded images may be stored as base64 strings in the database, which has size limitations. Very large images may cause problems when saving the product. ",-1)]))):ce("",!0)])}}},e1=Yr(vG,[["__scopeId","data-v-ef617560"]]),bG={class:"admin-orders min-h-screen bg-light-primary dark:bg-dark-primary transition-colors duration-300"},xG={class:"container mx-auto px-4 py-8"},_G={class:"flex justify-between items-center mb-12 bg-light-secondary dark:bg-dark-secondary p-6 rounded-xl shadow-lg"},wG={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},kG={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-accent-primary/10 dark:from-dark-secondary dark:to-accent-primary/20 rounded-xl shadow-lg p-6 border-2 border-accent-primary/20"},EG={class:"text-3xl font-bold text-accent-primary"},IG={class:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-1"},TG={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-orange-500/10 dark:from-dark-secondary dark:to-orange-500/20 rounded-xl shadow-lg p-6 border-2 border-orange-500/20"},AG={class:"text-3xl font-bold text-orange-500"},SG={class:"flex items-center mt-2"},CG={class:"h-2 flex-grow rounded-full bg-light-neutral-200 dark:bg-dark-neutral-700"},PG={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-blue-500/10 dark:from-dark-secondary dark:to-blue-500/20 rounded-xl shadow-lg p-6 border-2 border-blue-500/20"},RG={class:"text-3xl font-bold text-blue-500"},NG={class:"text-xs text-accent-tertiary mt-1"},$G={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-cyan-500/10 dark:from-dark-secondary dark:to-cyan-500/20 rounded-xl shadow-lg p-6 border-2 border-cyan-500/20"},OG={class:"text-3xl font-bold text-cyan-500"},DG={class:"bg-light-secondary dark:bg-dark-secondary rounded-xl shadow-lg p-6 mb-6 border border-light-neutral-300 dark:border-dark-neutral-700"},MG={class:"flex flex-wrap items-center gap-4"},VG={key:0,class:"flex justify-center items-center h-64"},LG={key:1,class:"bg-light-secondary dark:bg-dark-secondary rounded-xl shadow-lg overflow-hidden border border-light-neutral-300 dark:border-dark-neutral-700"},FG={class:"w-full text-left"},UG={class:"bg-light-neutral-100 dark:bg-dark-neutral-800 border-b border-light-neutral-300 dark:border-dark-neutral-700"},jG={class:"flex items-center"},BG={class:"flex items-center"},qG={class:"flex items-center"},HG={class:"flex items-center"},zG={class:"flex items-center"},WG={class:"flex items-center"},KG={class:"px-6 py-4 font-medium"},GG={class:"px-6 py-4"},QG={class:"px-6 py-4"},YG={class:"px-6 py-4"},JG={class:"px-6 py-4"},XG={class:"px-6 py-4"},ZG={class:"px-6 py-4"},eQ=["onClick"],tQ=["onClick"],rQ={key:2,class:"bg-white rounded-lg shadow-md p-8 text-center"},nQ={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},sQ={class:"bg-light-primary dark:bg-dark-primary rounded-xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto transform"},iQ={class:"p-6 border-b border-light-neutral-300 dark:border-dark-neutral-700"},oQ={class:"flex justify-between items-center"},aQ={class:"p-6"},lQ={class:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6"},cQ={class:"bg-light-secondary dark:bg-dark-secondary p-4 rounded-lg"},uQ={class:"bg-light-secondary dark:bg-dark-secondary p-4 rounded-lg"},dQ={key:0},hQ={key:1},fQ={key:0,class:"mb-6 bg-light-secondary dark:bg-dark-secondary p-4 rounded-lg"},pQ={class:"mb-6"},mQ={class:"border border-light-neutral-300 dark:border-dark-neutral-700 rounded-lg overflow-hidden"},gQ={class:"w-full text-sm"},yQ={class:"bg-light-secondary dark:bg-dark-secondary"},vQ={class:"px-4 py-3"},bQ={class:"flex items-center"},xQ=["src"],_Q={class:"pl-2"},wQ={class:"px-4 py-3"},kQ={class:"px-4 py-3"},EQ={class:"px-4 py-3 text-right"},IQ={class:"bg-light-neutral-100 dark:bg-dark-neutral-800"},TQ={class:"px-4 py-2 text-right font-bold"},AQ={class:"flex justify-end"},SQ={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"},CQ={class:"bg-light-primary dark:bg-dark-primary rounded-xl shadow-xl p-6 w-full max-w-md transform"},PQ={class:"mb-4"},RQ={class:"text-light-text-secondary dark:text-dark-text-secondary mb-2"},NQ={class:"flex justify-end gap-2"},$Q=["disabled"],OQ={key:0,class:"inline-block animate-spin mr-2"},DQ={__name:"AdminOrders",setup(t){const e=q([]),r=q(!0),n=q("all"),s=q(""),i=q(!1),o=q(!1),a=q(null),c=q(""),d=q(!1),h=q("orderNumber"),f=q("asc"),p=q(0),y=ee(()=>e.value.filter(v=>v.status==="processing").length),b=ee(()=>e.value.reduce((v,m)=>v+(m.total||0),0)),w=ee(()=>e.value.length?b.value/e.value.length:0),x=q(15),I=ee(()=>{let v=[...e.value];if(n.value!=="all"&&(v=v.filter(m=>m.status===n.value)),s.value.trim()){const m=s.value.toLowerCase();v=v.filter(k=>{var ue,G,j,te;const N=((ue=k.orderNumber)==null?void 0:ue.toLowerCase())||k.id.toLowerCase(),S=((G=k.firstName)==null?void 0:G.toLowerCase())||"",P=((j=k.lastName)==null?void 0:j.toLowerCase())||"",le=((te=k.email)==null?void 0:te.toLowerCase())||"";return N.includes(m)||S.includes(m)||P.includes(m)||le.includes(m)||`${S} ${P}`.includes(m)})}return v.sort((m,k)=>{let N=m[h.value],S=k[h.value];h.value==="orderDate"&&(N=(N==null?void 0:N.seconds)||0,S=(S==null?void 0:S.seconds)||0);const P=N>S?1:N<S?-1:0;return f.value==="asc"?P:-P}),v}),C=async()=>{r.value=!0;try{const v=await Fe.getAllOrders();e.value=v.map(m=>{var le,ue,G;const k=m.firstName||((le=m.shippingInfo)==null?void 0:le.firstName)||"",N=m.lastName||((ue=m.shippingInfo)==null?void 0:ue.lastName)||"",S=`${k} ${N}`.trim()||m.customerName||"N/A",P=m.email||((G=m.shippingInfo)==null?void 0:G.email)||"N/A";return{...m,customerName:S,email:P}})}catch(v){console.error("Error loading orders:",v)}finally{r.value=!1}},E=async v=>{var m,k,N,S,P,le,ue,G,j;try{if(v.userId){const te=await Fe.getUserProfile(v.userId),oe=v.firstName||((m=v.shippingInfo)==null?void 0:m.firstName)||(te==null?void 0:te.firstName)||"",ke=v.lastName||((k=v.shippingInfo)==null?void 0:k.lastName)||(te==null?void 0:te.lastName)||"",ye=`${oe} ${ke}`.trim(),Se=v.email||((N=v.shippingInfo)==null?void 0:N.email)||(te==null?void 0:te.email)||"N/A";a.value={...v,customerDetails:te,customerName:ye||"N/A",email:Se}}else{const te=v.firstName||((S=v.shippingInfo)==null?void 0:S.firstName)||"",oe=v.lastName||((P=v.shippingInfo)==null?void 0:P.lastName)||"",ke=`${te} ${oe}`.trim(),ye=v.email||((le=v.shippingInfo)==null?void 0:le.email)||"N/A";a.value={...v,customerName:ke||"Guest User",email:ye}}i.value=!0}catch(te){console.error("Error loading customer details:",te);const oe=v.firstName||((ue=v.shippingInfo)==null?void 0:ue.firstName)||"",ke=v.lastName||((G=v.shippingInfo)==null?void 0:G.lastName)||"",ye=`${oe} ${ke}`.trim(),Se=v.email||((j=v.shippingInfo)==null?void 0:j.email)||"N/A";a.value={...v,customerName:ye||"N/A",email:Se},i.value=!0}},R=v=>{a.value=v,c.value=v.status||"processing",o.value=!0},A=async()=>{if(!(!a.value||!c.value)){d.value=!0;try{await Fe.updateOrderStatus(a.value.id,c.value);const v=e.value.findIndex(m=>m.id===a.value.id);if(v!==-1&&(e.value[v].status=c.value),a.value&&(a.value.status=c.value),await notificationStore.addPersistedNotification({title:"Order Status Updated",message:`Order #${a.value.orderNumber||a.value.id.substring(0,6)} status changed to ${c.value}`,type:"success",isAdmin:!0}),a.value.userId){let m,k;switch(c.value){case"shipped":m="info",k=`Great news! Your order #${a.value.orderNumber} has been shipped and is on its way.`;break;case"delivered":m="success",k=`Your order #${a.value.orderNumber} has been delivered. Thank you for shopping with us!`;break;case"cancelled":m="error",k=`Your order #${a.value.orderNumber} has been cancelled. Please contact support if you have any questions.`;break;default:m="info",k=`Your order #${a.value.orderNumber} status has been updated to ${c.value}.`}await notificationStore.addPersistedNotification({title:"Order Status Update",message:k,type:m,userId:a.value.userId}),notificationStore.addNotification({title:"Success",message:`Order status updated to ${c.value}`,type:"success"})}o.value=!1}catch(v){console.error("Error updating order status:",v),notificationStore.addNotification({title:"Error",message:`Failed to update order status: ${v.message}`,type:"error",timeout:5e3})}finally{d.value=!1}}},M=v=>{if(!v)return"N/A";const m=v.toDate?v.toDate():new Date(v);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(m)},T=v=>v?v.charAt(0).toUpperCase()+v.slice(1):"";return Ue(()=>{C()}),(v,m)=>{const k=Rr("ArrowPathIcon"),N=Rr("SortIndicator");return O(),V("div",bG,[l("div",xG,[l("div",_G,[l("div",null,[z(dh,{items:[{text:"Dashboard",path:"/admin"},{text:"Orders"}]}),m[13]||(m[13]=l("h1",{class:"text-4xl font-bold text-light-text-primary dark:text-dark-text-primary mt-2"},"Order Management",-1)),m[14]||(m[14]=l("p",{class:"text-light-text-secondary dark:text-dark-text-secondary mt-1"},"View and manage customer orders",-1))]),l("button",{onClick:C,class:"bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark text-light-text-inverted neutral py-2 px-4 rounded-btn flex items-center shadow-btn hover:shadow-btn-hover transition-btn duration-200"},[z(k,{class:"h-5 w-5 mr-2"}),m[15]||(m[15]=he(" Refresh "))])]),l("div",wG,[l("div",kG,[m[16]||(m[16]=l("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Total Orders",-1)),l("p",EG,W(e.value.length),1),l("p",IG,"Last 30 days: +"+W(p.value),1)]),l("div",TG,[m[17]||(m[17]=l("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Processing",-1)),l("p",AG,W(y.value),1),l("div",SG,[l("div",CG,[l("div",{class:"h-2 rounded-full bg-orange-500 transition-all duration-300",style:St(`width: ${y.value/e.value.length*100}%`)},null,4)])])]),l("div",PG,[m[19]||(m[19]=l("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Revenue",-1)),l("p",RG,W(H(Ye)(b.value)),1),l("p",NG,[m[18]||(m[18]=l("span",{class:"inline-block transform rotate-45"},"↗",-1)),he(" "+W(x.value)+"% from last month ",1)])]),l("div",$G,[m[20]||(m[20]=l("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Avg. Order Value",-1)),l("p",OG,W(H(Ye)(w.value)),1),m[21]||(m[21]=l("p",{class:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-1"},"Per order",-1))])]),l("div",DG,[l("div",MG,[l("div",null,[m[23]||(m[23]=l("label",{class:"text-sm text-light-text-secondary dark:text-dark-text-secondary block mb-1"},"Filter by Status:",-1)),xe(l("select",{"onUpdate:modelValue":m[0]||(m[0]=S=>n.value=S),class:"border border-light-neutral-300 dark:border-dark-neutral-600 rounded-lg px-3 py-2 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-accent-primary focus:border-accent-primary"},m[22]||(m[22]=[wt('<option value="all" data-v-36fe6a74>All Orders</option><option value="processing" data-v-36fe6a74>Processing</option><option value="shipped" data-v-36fe6a74>Shipped</option><option value="delivered" data-v-36fe6a74>Delivered</option><option value="cancelled" data-v-36fe6a74>Cancelled</option>',5)]),512),[[Ln,n.value]])]),l("div",null,[m[24]||(m[24]=l("label",{class:"text-sm text-light-text-secondary dark:text-dark-text-secondary block mb-1"},"Search:",-1)),xe(l("input",{"onUpdate:modelValue":m[1]||(m[1]=S=>s.value=S),type:"text",placeholder:"Search by Order ID, name, or email",class:"border border-light-neutral-300 dark:border-dark-neutral-600 rounded-lg px-3 py-2 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-accent-primary focus:border-accent-primary"},null,512),[[Pe,s.value]])])])]),r.value?(O(),V("div",VG,m[25]||(m[25]=[l("div",{class:"animate-spin rounded-full h-16 w-16 border-t-4 border-blue-600 border-opacity-75"},null,-1)]))):I.value.length>0?(O(),V("div",LG,[l("table",FG,[l("thead",UG,[l("tr",null,[l("th",{class:"px-6 py-3 text-light-text-secondary dark:text-dark-text-secondary font-medium cursor-pointer",onClick:m[2]||(m[2]=S=>v.sortOrders("orderNumber"))},[l("div",jG,[m[26]||(m[26]=l("span",null,"Order ID",-1)),z(N,{active:h.value==="orderNumber",direction:f.value},null,8,["active","direction"])])]),l("th",{class:"px-6 py-3 text-light-text-secondary dark:text-dark-text-secondary font-medium cursor-pointer",onClick:m[3]||(m[3]=S=>v.sortOrders("orderDate"))},[l("div",BG,[m[27]||(m[27]=l("span",null,"Date",-1)),z(N,{active:h.value==="orderDate",direction:f.value},null,8,["active","direction"])])]),l("th",{class:"px-6 py-3 text-light-text-secondary dark:text-dark-text-secondary font-medium cursor-pointer",onClick:m[4]||(m[4]=S=>v.sortOrders("customerName"))},[l("div",qG,[m[28]||(m[28]=l("span",null,"Customer Name",-1)),z(N,{active:h.value==="customerName",direction:f.value},null,8,["active","direction"])])]),l("th",{class:"px-6 py-3 text-light-text-secondary dark:text-dark-text-secondary font-medium cursor-pointer",onClick:m[5]||(m[5]=S=>v.sortOrders("email"))},[l("div",HG,[m[29]||(m[29]=l("span",null,"Email",-1)),z(N,{active:h.value==="email",direction:f.value},null,8,["active","direction"])])]),l("th",{class:"px-6 py-3 text-light-text-secondary dark:text-dark-text-secondary font-medium cursor-pointer",onClick:m[6]||(m[6]=S=>v.sortOrders("total"))},[l("div",zG,[m[30]||(m[30]=l("span",null,"Total",-1)),z(N,{active:h.value==="total",direction:f.value},null,8,["active","direction"])])]),l("th",{class:"px-6 py-3 text-light-text-secondary dark:text-dark-text-secondary font-medium cursor-pointer",onClick:m[7]||(m[7]=S=>v.sortOrders("status"))},[l("div",WG,[m[31]||(m[31]=l("span",null,"Status",-1)),z(N,{active:h.value==="status",direction:f.value},null,8,["active","direction"])])]),m[32]||(m[32]=l("th",{class:"px-6 py-3 text-light-text-secondary dark:text-dark-text-secondary font-medium"},"Actions",-1))])]),l("tbody",null,[(O(!0),V(Ee,null,He(I.value,S=>(O(),V("tr",{key:S.id,class:"border-b hover:bg-gray-50"},[l("td",KG,W(S.orderNumber||`#${S.id.substring(0,6)}`),1),l("td",GG,W(M(S.orderDate)),1),l("td",QG,W(S.customerName||"Unknown"),1),l("td",YG,W(S.email||"N/A"),1),l("td",JG,W(H(Ye)(S.total)),1),l("td",XG,[l("span",{class:Ce([{"bg-yellow-100 text-yellow-800":S.status==="processing","bg-blue-100 text-blue-800":S.status==="shipped","bg-green-100 text-green-800":S.status==="delivered","bg-red-100 text-red-800":S.status==="cancelled"},"px-3 py-1 rounded-full text-sm font-medium"])},W(T(S.status)),3)]),l("td",ZG,[l("button",{onClick:P=>E(S),class:"text-blue-600 hover:text-blue-900 mr-3"}," View ",8,eQ),l("button",{onClick:P=>R(S),class:"text-green-600 hover:text-green-900"}," Update ",8,tQ)])]))),128))])])])):(O(),V("div",rQ,m[33]||(m[33]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-16 w-16 text-gray-400 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),l("h2",{class:"text-xl font-semibold text-gray-700"},"No orders found",-1),l("p",{class:"text-gray-500 mt-1"},"No orders match your current filters.",-1)]))),z(zs,{"enter-active-class":"duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:Z(()=>[i.value?(O(),V("div",nQ,[z(zs,{"enter-active-class":"duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:Z(()=>{var S,P,le,ue,G,j,te,oe,ke,ye,Se,Le,at,It,gt,K,L,U,F,be;return[l("div",sQ,[l("div",iQ,[l("div",oQ,[m[35]||(m[35]=l("h2",{class:"text-2xl font-bold text-light-text-primary dark:text-dark-text-primary"},"Order Details",-1)),l("button",{onClick:m[8]||(m[8]=re=>i.value=!1),class:"text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary"},m[34]||(m[34]=[l("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[l("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)]))])]),l("div",aQ,[l("div",lQ,[l("div",cQ,[m[40]||(m[40]=l("h3",{class:"font-medium text-light-text-primary dark:text-dark-text-primary mb-2"},"Order Information",-1)),l("p",null,[m[36]||(m[36]=l("span",{class:"text-gray-500"},"Order ID:",-1)),he(" "+W(((S=a.value)==null?void 0:S.orderNumber)||`#${(P=a.value)==null?void 0:P.id.substring(0,6)}`),1)]),l("p",null,[m[37]||(m[37]=l("span",{class:"text-gray-500"},"Date:",-1)),he(" "+W(M((le=a.value)==null?void 0:le.orderDate)),1)]),l("p",null,[m[38]||(m[38]=l("span",{class:"text-gray-500"},"Status:",-1)),l("span",{class:Ce([{"bg-yellow-100 text-yellow-800":((ue=a.value)==null?void 0:ue.status)==="processing","bg-blue-100 text-blue-800":((G=a.value)==null?void 0:G.status)==="shipped","bg-green-100 text-green-800":((j=a.value)==null?void 0:j.status)==="delivered","bg-red-100 text-red-800":((te=a.value)==null?void 0:te.status)==="cancelled"},"px-3 py-1 rounded-full text-sm font-medium ml-1"])},W(T((oe=a.value)==null?void 0:oe.status)),3)]),l("p",null,[m[39]||(m[39]=l("span",{class:"text-gray-500"},"Total:",-1)),he(" "+W(H(Ye)((ke=a.value)==null?void 0:ke.total)),1)])]),l("div",uQ,[m[46]||(m[46]=l("h3",{class:"font-medium text-light-text-primary dark:text-dark-text-primary mb-2"},"Customer Information",-1)),l("p",null,[m[41]||(m[41]=l("span",{class:"text-gray-500"},"Name:",-1)),he(" "+W((ye=a.value)==null?void 0:ye.customerName),1)]),l("p",null,[m[42]||(m[42]=l("span",{class:"text-gray-500"},"Email:",-1)),he(" "+W(((Se=a.value)==null?void 0:Se.email)||"N/A"),1)]),l("p",null,[m[43]||(m[43]=l("span",{class:"text-gray-500"},"Phone:",-1)),he(" "+W(((Le=a.value)==null?void 0:Le.phone)||"N/A"),1)]),(at=a.value)!=null&&at.shippingAddress?(O(),V("p",dQ,[m[44]||(m[44]=l("span",{class:"text-gray-500"},"Address:",-1)),he(" "+W((It=a.value)==null?void 0:It.shippingAddress),1)])):ce("",!0),(gt=a.value)!=null&&gt.userId?(O(),V("p",hQ,[m[45]||(m[45]=l("span",{class:"text-gray-500"},"Customer ID:",-1)),he(" "+W((K=a.value)==null?void 0:K.userId),1)])):ce("",!0)])]),(L=a.value)!=null&&L.shippingAddress?(O(),V("div",fQ,[m[47]||(m[47]=l("h3",{class:"font-medium text-light-text-primary dark:text-dark-text-primary mb-2"},"Shipping Address",-1)),l("p",null,W(a.value.shippingAddress.street)+", "+W(a.value.shippingAddress.city),1),l("p",null,W(a.value.shippingAddress.state)+", "+W(a.value.shippingAddress.zip),1),l("p",null,W(a.value.shippingAddress.country),1)])):ce("",!0),l("div",pQ,[m[50]||(m[50]=l("h3",{class:"font-medium text-light-text-primary dark:text-dark-text-primary mb-2"},"Order Items",-1)),l("div",mQ,[l("table",gQ,[m[49]||(m[49]=l("thead",{class:"bg-light-neutral-100 dark:bg-dark-neutral-800"},[l("tr",null,[l("th",{class:"px-4 py-2 text-left"},"Product"),l("th",{class:"px-4 py-2 text-left"},"Price"),l("th",{class:"px-4 py-2 text-left"},"Quantity"),l("th",{class:"px-4 py-2 text-right"},"Subtotal")])],-1)),l("tbody",yQ,[(O(!0),V(Ee,null,He((U=a.value)==null?void 0:U.items,(re,D)=>{var B;return O(),V("tr",{key:D,class:"border-t"},[l("td",vQ,[l("div",bQ,[l("img",{src:re.image||"https://via.placeholder.com/80",alt:"Product",class:"w-16 h-16 object-cover rounded-lg shadow-card"},null,8,xQ),l("span",_Q,W(re.name),1)])]),l("td",wQ,W((B=re.price)==null?void 0:B.toFixed(2)),1),l("td",kQ,W(re.quantity),1),l("td",EQ,"$"+W((re.price*re.quantity).toFixed(2)),1)])}),128))]),l("tfoot",IQ,[l("tr",null,[m[48]||(m[48]=l("td",{colspan:"3",class:"px-4 py-2 text-right font-medium"},"Total:",-1)),l("td",TQ,"$"+W((be=(F=a.value)==null?void 0:F.total)==null?void 0:be.toFixed(2)),1)])])])])]),l("div",AQ,[l("button",{onClick:m[9]||(m[9]=re=>R(a.value)),class:"bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark text-light-text-inverted px-4 py-2 rounded-btn shadow-btn hover:shadow-btn-hover transition-btn duration-200 mr-2"}," Update Status "),l("button",{onClick:m[10]||(m[10]=re=>i.value=!1),class:"bg-light-neutral-200 dark:bg-dark-neutral-700 text-light-text-primary dark:text-dark-text-primary px-4 py-2 rounded-btn hover:bg-light-neutral-300 dark:hover:bg-dark-neutral-600 transition-colors duration-200"}," Close ")])])])]}),_:1})])):ce("",!0)]),_:1}),z(zs,{"enter-active-class":"duration-300 ease-out","enter-from-class":"opacity-0","enter-to-class":"opacity-100","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:Z(()=>[o.value?(O(),V("div",SQ,[z(zs,{"enter-active-class":"duration-300 ease-out","enter-from-class":"opacity-0 scale-95","enter-to-class":"opacity-100 scale-100","leave-active-class":"duration-200 ease-in","leave-from-class":"opacity-100 scale-100","leave-to-class":"opacity-0 scale-95"},{default:Z(()=>{var S,P;return[l("div",CQ,[m[54]||(m[54]=l("h2",{class:"text-xl font-bold mb-4 text-light-text-primary dark:text-dark-text-primary"},"Update Order Status",-1)),l("div",PQ,[l("p",RQ," Order: "+W(((S=a.value)==null?void 0:S.orderNumber)||`#${(P=a.value)==null?void 0:P.id.substring(0,6)}`),1),m[52]||(m[52]=l("label",{class:"block text-light-text-primary dark:text-dark-text-primary mb-2"},"Status:",-1)),xe(l("select",{"onUpdate:modelValue":m[11]||(m[11]=le=>c.value=le),class:"w-full border border-light-neutral-300 dark:border-dark-neutral-700 rounded-lg px-3 py-2 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary focus:ring-2 focus:ring-accent-primary focus:border-accent-primary"},m[51]||(m[51]=[l("option",{value:"processing"},"Processing",-1),l("option",{value:"shipped"},"Shipped",-1),l("option",{value:"delivered"},"Delivered",-1),l("option",{value:"cancelled"},"Cancelled",-1)]),512),[[Ln,c.value]])]),l("div",NQ,[l("button",{onClick:m[12]||(m[12]=le=>o.value=!1),class:"bg-light-neutral-200 dark:bg-dark-neutral-700 text-light-text-primary dark:text-dark-text-primary px-4 py-2 rounded-btn hover:bg-light-neutral-300 dark:hover:bg-dark-neutral-600 transition-colors duration-200"}," Cancel "),l("button",{onClick:A,class:"bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark text-light-text-inverted px-4 py-2 rounded-btn shadow-btn hover:shadow-btn-hover transition-btn duration-200",disabled:d.value},[d.value?(O(),V("span",OQ,"⌛")):ce("",!0),m[53]||(m[53]=he(" Update "))],8,$Q)])])]}),_:1})])):ce("",!0)]),_:1})])])}}},MQ=Yr(DQ,[["__scopeId","data-v-36fe6a74"]]),VQ={class:"admin-users min-h-screen bg-light-primary dark:bg-dark-primary transition-colors duration-300"},LQ={class:"container mx-auto px-4 py-8"},FQ={class:"flex justify-between items-center mb-12 bg-light-secondary dark:bg-dark-secondary p-6 rounded-xl shadow-lg"},UQ={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8"},jQ={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-accent-primary/10 dark:from-dark-secondary dark:to-accent-primary/20 rounded-xl shadow-lg p-6 border-2 border-accent-primary/20"},BQ={class:"text-3xl font-bold text-accent-primary"},qQ={class:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-1"},HQ={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-orange-500/10 dark:from-dark-secondary dark:to-orange-500/20 rounded-xl shadow-lg p-6 border-2 border-orange-500/20"},zQ={class:"text-3xl font-bold text-orange-500"},WQ={class:"flex items-center mt-2"},KQ={class:"h-2 flex-grow rounded-full bg-light-neutral-200 dark:bg-dark-neutral-700"},GQ={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-blue-500/10 dark:from-dark-secondary dark:to-blue-500/20 rounded-xl shadow-lg p-6 border-2 border-blue-500/20"},QQ={class:"text-3xl font-bold text-blue-500"},YQ={class:"text-xs text-accent-tertiary mt-1"},JQ={class:"flex flex-col h-full bg-gradient-to-br from-light-secondary to-cyan-500/10 dark:from-dark-secondary dark:to-cyan-500/20 rounded-xl shadow-lg p-6 border-2 border-cyan-500/20"},XQ={class:"text-3xl font-bold text-cyan-500"},ZQ={key:0,class:"mb-4 flex items-center space-x-2"},eY={class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},tY={class:"bg-light-secondary dark:bg-dark-secondary rounded-xl shadow-lg overflow-hidden border border-light-neutral-300 dark:border-dark-neutral-700"},rY={class:"overflow-x-auto"},nY={class:"min-w-full divide-y divide-light-neutral-300 dark:divide-dark-neutral-700"},sY={class:"bg-light-neutral-100 dark:bg-dark-neutral-800"},iY={scope:"col",class:"px-6 py-3"},oY=["checked"],aY={class:"flex items-center"},lY={class:"flex items-center"},cY={class:"flex items-center"},uY={class:"bg-light-secondary dark:bg-dark-secondary divide-y divide-light-neutral-300 dark:divide-dark-neutral-700"},dY={key:0,class:"animate-pulse"},hY={key:1},fY={colspan:"5",class:"px-6 py-12 text-center"},pY={class:"flex flex-col items-center"},mY={class:"px-6 py-4"},gY=["checked","onChange"],yY={class:"px-6 py-4 whitespace-nowrap"},vY={class:"flex items-center"},bY={class:"flex-shrink-0 h-10 w-10 rounded-full bg-accent-primary/10 dark:bg-accent-primary/20 flex items-center justify-center text-accent-primary"},xY={class:"ml-4"},_Y={class:"text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},wY={key:0,class:"ml-1 text-xs text-accent-quaternary dark:text-accent-quaternary font-normal"},kY={class:"px-6 py-4 whitespace-nowrap"},EY={class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},IY={class:"px-6 py-4 whitespace-nowrap"},TY={class:"text-sm text-light-text-secondary dark:text-dark-text-secondary"},AY={class:"px-6 py-4 whitespace-nowrap"},SY={class:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium"},CY={class:"flex items-center justify-end space-x-2"},PY=["onClick"],RY=["onClick"],NY=["onClick"],$Y={key:1,class:"fixed bottom-4 right-4 bg-accent-tertiary/10 border border-accent-tertiary/20 text-accent-tertiary dark:text-accent-tertiary px-4 py-2 rounded-lg shadow-lg flex items-center"},OY={class:"fixed inset-0 overflow-y-auto"},DY={class:"flex min-h-full items-center justify-center p-4 text-center"},MY={class:"flex justify-between items-center mb-4"},VY={key:0,class:"mb-4 bg-accent-tertiary/10 border-accent-tertiary/20 text-accent-tertiary dark:text-accent-tertiary border px-4 py-2 rounded flex items-center"},LY={class:"mt-4 space-y-4"},FY={class:"grid grid-cols-2 gap-4"},UY={class:"flex items-center"},jY={class:"mt-6 flex justify-end space-x-3"},BY=["disabled"],qY={key:0,class:"inline-block animate-spin mr-2"},HY={__name:"AdminUsersView",setup(t){const e=q([]),r=q([]),n=q(!0),s=q(""),i=q(!1),o=q(null),a=q({}),c=q(!1),d=q(null),h=q(!1),f=Qr({show:!1,message:"",timeout:null}),p=q(0),y=q(0),b=q(12),w=q("24:15"),x=ee(()=>r.value.length===ue.value.length),I=q("name"),C=q("asc"),E=q("all"),R=[{text:"Dashboard",path:"/admin"},{text:"User Management"}],A=L=>{L.target.checked?r.value=ue.value.map(U=>U.id):r.value=[]},M=L=>{const U=r.value.indexOf(L);U===-1?r.value.push(L):r.value.splice(U,1)},T=q(null);Ue(async()=>{try{n.value=!0;const L=Hi();d.value=L.currentUser,e.value=await Fe.getAllUsers()}catch(L){console.error("Failed to load users:",L),T.value="Failed to load users. Please try again later."}finally{n.value=!1}});const v=L=>{if(!L)return"?";const U=L.firstName?L.firstName[0]:"",F=L.lastName?L.lastName[0]:"";return(U+F).toUpperCase()||"?"},m=L=>{if(!L||!d.value)return!1;const U=L.id===d.value.uid||L.uid===d.value.uid||L.email===d.value.email;return U&&!L.email&&d.value.email&&(L.email=d.value.email),U},k=L=>{f.timeout&&clearTimeout(f.timeout),f.message=L,f.show=!0,f.timeout=setTimeout(()=>{f.show=!1},3e3)},N=L=>{I.value===L?C.value=C.value==="asc"?"desc":"asc":(I.value=L,C.value="asc")},S=()=>{s.value="",E.value="all"},P=ee(()=>e.value.filter(L=>L.isAdmin).length),le=Ze({props:{active:Boolean,direction:String},setup(L){return()=>L.active?vt("span",{class:"ml-1 text-gray-700"},L.direction==="asc"?"↑":"↓"):vt("span",{class:"ml-1 text-gray-300"},"↕")}}),ue=ee(()=>{let L=[...e.value];if(E.value!=="all"){const U=E.value==="admin";L=L.filter(F=>F.isAdmin===U)}if(s.value){const U=s.value.toLowerCase();L=L.filter(F=>{var be;return((be=F.email)==null?void 0:be.toLowerCase().includes(U))||`${F.firstName} ${F.lastName}`.toLowerCase().includes(U)})}return L.sort((U,F)=>{var B,Y,ie,J;let be,re;I.value==="name"?(be=`${U.firstName} ${U.lastName}`.toLowerCase(),re=`${F.firstName} ${F.lastName}`.toLowerCase()):I.value==="email"?(be=((B=U.email)==null?void 0:B.toLowerCase())||"",re=((Y=F.email)==null?void 0:Y.toLowerCase())||""):I.value==="createdAt"&&(be=((ie=U.createdAt)==null?void 0:ie.seconds)||0,re=((J=F.createdAt)==null?void 0:J.seconds)||0);const D=be>re?1:be<re?-1:0;return C.value==="asc"?D:-D}),L}),G=L=>{if(!L)return"N/A";try{let U;if(L.toDate&&typeof L.toDate=="function")U=L.toDate();else if(L.seconds)U=new Date(L.seconds*1e3);else if(L instanceof Date)U=L;else if(typeof L=="string")U=new Date(L);else return"N/A";return U.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}catch(U){return console.error("Error formatting date:",U),"N/A"}},j=async L=>{try{if(!L||!L.id){console.error("Invalid user object:",L);return}const U={id:L.id,firstName:L.firstName||"",lastName:L.lastName||"",email:L.email||"",phone:L.phone||"",isAdmin:!!L.isAdmin,createdAt:L.createdAt||null};o.value=U.id,await ar(),a.value={...U},i.value=!0}catch(U){console.error("Error opening user details:",U),alert("Could not open user details. Please try again.")}},te=()=>{i.value=!1,a.value={},o.value=null,h.value=!1},oe=async()=>{if(o.value)try{c.value=!0,T.value=null;const L={firstName:a.value.firstName||"",lastName:a.value.lastName||"",phone:a.value.phone||"",isAdmin:!!a.value.isAdmin,email:a.value.email};await Fe.updateUser(o.value,L);const U=e.value.findIndex(F=>F.id===o.value);U!==-1&&(e.value[U]={...e.value[U],...L}),h.value=!0,k(`User ${L.firstName} ${L.lastName} updated successfully`),setTimeout(()=>{te()},1500)}catch(L){console.error("Failed to update user:",L),T.value="Failed to update user. Please try again."}finally{c.value=!1}},ke=[{value:"all",label:"All Roles"},{value:"admin",label:"Admins"},{value:"customer",label:"Customers"}];ee(()=>{var L;return((L=ke.find(U=>U.value===E.value))==null?void 0:L.label)||"All Roles"});const ye=async()=>{if(confirm(`Are you sure you want to delete ${r.value.length} users?`))try{await Promise.all(r.value.map(L=>Fe.deleteUser(L))),e.value=e.value.filter(L=>!r.value.includes(L.id)),r.value=[],k("Users deleted successfully")}catch(L){console.error("Failed to delete users:",L)}},Se=async()=>{const L=confirm("Make selected users admins? Click OK for Admin, Cancel for Customer");try{await Promise.all(r.value.map(U=>Fe.updateUser(U,{isAdmin:L}))),e.value=e.value.map(U=>r.value.includes(U.id)?{...U,isAdmin:L}:U),r.value=[],k("Users' roles updated successfully")}catch(U){console.error("Failed to update users:",U)}},Le=L=>{console.log("View activity for user:",L.id),k("User activity feature coming soon")},at=q(null);q(!1);const It=q(!1),gt=L=>{if(m(L)){k("You cannot delete your own account");return}at.value=L,confirm(`Are you sure you want to delete user ${L.firstName} ${L.lastName}?`)&&K(L.id)},K=async L=>{try{It.value=!0,await Fe.deleteUser(L),e.value=e.value.filter(U=>U.id!==L),r.value.includes(L)&&(r.value=r.value.filter(U=>U!==L)),k("User deleted successfully")}catch(U){console.error("Error deleting user:",U),k("Failed to delete user. Please try again.")}finally{It.value=!1,at.value=null}};return(L,U)=>(O(),V("div",VQ,[l("div",LQ,[l("div",FQ,[l("div",null,[z(dh,{items:R}),U[7]||(U[7]=l("h1",{class:"text-4xl font-bold text-light-text-primary dark:text-dark-text-primary mt-2"},"User Management",-1)),U[8]||(U[8]=l("p",{class:"text-light-text-secondary dark:text-dark-text-secondary mt-1"},"View and manage system users",-1))]),l("button",{onClick:S,class:"bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark text-white py-2 px-4 rounded-btn flex items-center shadow-btn hover:shadow-btn-hover transition-btn duration-200"},[z(H(A8),{class:"h-5 w-5 mr-2"}),U[9]||(U[9]=he(" Reset Filters "))])]),l("div",UQ,[l("div",jQ,[U[10]||(U[10]=l("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Total Users",-1)),l("p",BQ,W(e.value.length),1),l("p",qQ,"Last 30 days: +"+W(p.value),1)]),l("div",HQ,[U[11]||(U[11]=l("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Admins",-1)),l("p",zQ,W(P.value),1),l("div",WQ,[l("div",KQ,[l("div",{class:"h-2 rounded-full bg-orange-500 transition-all duration-300",style:St(`width: ${P.value/e.value.length*100}%`)},null,4)])])]),l("div",GQ,[U[13]||(U[13]=l("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Active Users",-1)),l("p",QQ,W(y.value),1),l("p",YQ,[U[12]||(U[12]=l("span",{class:"inline-block transform rotate-45"},"↗",-1)),he(" "+W(b.value)+"% from last month ",1)])]),l("div",JQ,[U[14]||(U[14]=l("h3",{class:"text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary mb-1"},"Avg. Session",-1)),l("p",XQ,W(w.value),1),U[15]||(U[15]=l("p",{class:"text-xs text-light-text-secondary dark:text-dark-text-secondary mt-1"},"Minutes per user",-1))])]),r.value.length>0?(O(),V("div",ZQ,[l("span",eY,W(r.value.length)+" selected ",1),l("button",{onClick:ye,class:"text-red-500 hover:text-red-600 text-sm font-medium"}," Delete Selected "),l("button",{onClick:Se,class:"text-accent-quaternary hover:text-accent-quaternary/80 text-sm font-medium"}," Change Role ")])):ce("",!0),l("div",tY,[l("div",rY,[l("table",nY,[l("thead",sY,[l("tr",null,[l("th",iY,[l("input",{type:"checkbox",onChange:A,checked:x.value,class:"rounded border-light-neutral-300 dark:border-dark-neutral-600 text-accent-primary focus:ring-accent-primary"},null,40,oY)]),l("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-light-text-secondary dark:text-dark-text-secondary uppercase tracking-wider cursor-pointer",onClick:U[0]||(U[0]=F=>N("name"))},[l("div",aY,[U[16]||(U[16]=l("span",null,"Name",-1)),z(H(le),{active:I.value==="name",direction:C.value},null,8,["active","direction"])])]),l("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-light-text-secondary dark:text-dark-text-secondary uppercase tracking-wider cursor-pointer",onClick:U[1]||(U[1]=F=>N("email"))},[l("div",lY,[U[17]||(U[17]=l("span",null,"Email",-1)),z(H(le),{active:I.value==="email",direction:C.value},null,8,["active","direction"])])]),l("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-light-text-secondary dark:text-dark-text-secondary uppercase tracking-wider cursor-pointer",onClick:U[2]||(U[2]=F=>N("createdAt"))},[l("div",cY,[U[18]||(U[18]=l("span",null,"Joined",-1)),z(H(le),{active:I.value==="createdAt",direction:C.value},null,8,["active","direction"])])]),U[19]||(U[19]=l("th",{scope:"col",class:"px-6 py-3 text-left text-xs font-medium text-light-text-secondary dark:text-dark-text-secondary uppercase tracking-wider"}," Role ",-1)),U[20]||(U[20]=l("th",{scope:"col",class:"px-6 py-3 text-right text-xs font-medium text-light-text-secondary dark:text-dark-text-secondary uppercase tracking-wider"}," Actions ",-1))])]),l("tbody",uY,[n.value?(O(),V("tr",dY,U[21]||(U[21]=[l("td",{colspan:"5",class:"px-6 py-12 text-center text-light-text-secondary dark:text-dark-text-secondary"}," Loading users... ",-1)]))):ue.value.length===0?(O(),V("tr",hY,[l("td",fY,[l("div",pY,[z(H(L8),{class:"h-12 w-12 text-light-neutral-400 dark:text-dark-neutral-600 mb-2"}),U[22]||(U[22]=l("h3",{class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary"},"No users found",-1)),U[23]||(U[23]=l("p",{class:"text-light-text-secondary dark:text-dark-text-secondary mt-1"},"Try adjusting your search or filter criteria",-1))])])])):ce("",!0),(O(!0),V(Ee,null,He(ue.value,F=>(O(),V("tr",{key:F.id,class:Ce(["hover:bg-light-neutral-100 dark:hover:bg-dark-neutral-800 transition-colors",r.value.includes(F.id)?"bg-accent-primary/5":""])},[l("td",mY,[l("input",{type:"checkbox",checked:r.value.includes(F.id),onChange:be=>M(F.id),class:"rounded border-light-neutral-300 dark:border-dark-neutral-600 text-accent-primary focus:ring-accent-primary"},null,40,gY)]),l("td",yY,[l("div",vY,[l("div",bY,W(v(F)),1),l("div",xY,[l("div",_Y,[he(W(F.firstName)+" "+W(F.lastName)+" ",1),m(F)?(O(),V("span",wY,"(You)")):ce("",!0)])])])]),l("td",kY,[l("div",EY,W(F.email||"No email"),1)]),l("td",IY,[l("div",TY,W(G(F.createdAt)),1)]),l("td",AY,[l("span",{class:Ce([F.isAdmin?"bg-accent-primary/10 text-accent-primary":"bg-light-neutral-100 dark:bg-dark-neutral-700 text-light-text-secondary dark:text-dark-text-secondary","px-2 py-1 text-xs rounded-full"])},W(F.isAdmin?"Admin":"Customer"),3)]),l("td",SY,[l("div",CY,[l("button",{onClick:be=>Le(F),class:"text-accent-quaternary hover:text-accent-quaternary/80 transition-colors",title:"View Activity"},[z(H(R8),{class:"h-5 w-5"})],8,PY),l("button",{onClick:be=>j(F),class:"text-accent-quaternary hover:text-accent-quaternary/80 transition-colors",title:"Edit User"},[z(H(RE),{class:"h-5 w-5"})],8,RY),l("button",{onClick:be=>gt(F),class:"text-red-500 hover:text-red-600 transition-colors",title:"Delete User"},[z(H(q8),{class:"h-5 w-5"})],8,NY)])])],2))),128))])])])]),f.show?(O(),V("div",$Y,[z(H(Fl),{class:"h-5 w-5 mr-2"}),l("span",null,W(f.message),1)])):ce("",!0)]),z(H(mn),{appear:"",show:i.value,as:"template"},{default:Z(()=>[z(H(oh),{as:"div",onClose:te,class:"relative z-50"},{default:Z(()=>[z(H(gs),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Z(()=>U[24]||(U[24]=[l("div",{class:"fixed inset-0 bg-black bg-opacity-50 transition-opacity"},null,-1)])),_:1}),l("div",OY,[l("div",DY,[z(H(gs),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:Z(()=>[z(H(ah),{class:"w-full max-w-md transform overflow-hidden rounded-2xl bg-light-secondary dark:bg-dark-secondary p-6 text-left align-middle shadow-xl transition-all border border-light-neutral-300 dark:border-dark-neutral-700"},{default:Z(()=>[l("div",MY,[z(H(xE),{as:"h3",class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary"},{default:Z(()=>U[25]||(U[25]=[he(" Edit User ")])),_:1}),l("button",{onClick:te,class:"text-light-neutral-500 dark:text-dark-neutral-500 hover:text-light-text-primary dark:hover:text-dark-text-primary focus:outline-none","aria-label":"Close"},[z(H(uh),{class:"h-6 w-6"})])]),h.value?(O(),V("div",VY,[z(H(Fl),{class:"h-5 w-5 mr-2"}),U[26]||(U[26]=l("span",null,"User updated successfully!",-1))])):ce("",!0),l("div",LY,[l("div",FY,[l("div",null,[U[27]||(U[27]=l("label",{for:"firstName",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary"}," First name ",-1)),xe(l("input",{type:"text",id:"firstName","onUpdate:modelValue":U[3]||(U[3]=F=>a.value.firstName=F),class:"mt-1 block w-full rounded-md border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary px-3 py-2 focus:border-accent-primary focus:ring-accent-primary focus:outline-none sm:text-sm"},null,512),[[Pe,a.value.firstName]])]),l("div",null,[U[28]||(U[28]=l("label",{for:"lastName",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary"}," Last name ",-1)),xe(l("input",{type:"text",id:"lastName","onUpdate:modelValue":U[4]||(U[4]=F=>a.value.lastName=F),class:"mt-1 block w-full rounded-md border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary px-3 py-2 focus:border-accent-primary focus:ring-accent-primary focus:outline-none sm:text-sm"},null,512),[[Pe,a.value.lastName]])])]),l("div",null,[U[29]||(U[29]=l("label",{for:"email",class:"block text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary"}," Email ",-1)),xe(l("input",{type:"email",id:"email","onUpdate:modelValue":U[5]||(U[5]=F=>a.value.email=F),disabled:"",class:"mt-1 block w-full rounded-md border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-neutral-100 dark:bg-dark-neutral-800 text-light-neutral-500 dark:text-dark-neutral-500 px-3 py-2 cursor-not-allowed sm:text-sm"},null,512),[[Pe,a.value.email]])]),l("div",UY,[z(H(f8),{modelValue:a.value.isAdmin,"onUpdate:modelValue":U[6]||(U[6]=F=>a.value.isAdmin=F),class:Ce([a.value.isAdmin?"bg-accent-primary":"bg-light-neutral-300 dark:bg-dark-neutral-600","relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-accent-primary focus:ring-offset-2"])},{default:Z(()=>[U[30]||(U[30]=l("span",{class:"sr-only"},"Admin status",-1)),l("span",{"aria-hidden":"true",class:Ce([a.value.isAdmin?"translate-x-5":"translate-x-0","pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out"])},null,2)]),_:1},8,["modelValue","class"]),U[31]||(U[31]=l("span",{class:"ml-3 text-sm text-light-text-primary dark:text-dark-text-primary"}," Admin privileges ",-1))])]),l("div",jY,[l("button",{type:"button",class:"inline-flex justify-center rounded-md border border-light-neutral-300 dark:border-dark-neutral-600 bg-light-primary dark:bg-dark-primary px-4 py-2 text-sm font-medium text-light-text-primary dark:text-dark-text-primary hover:bg-light-neutral-100 dark:hover:bg-dark-neutral-800 focus:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:ring-offset-2",onClick:te}," Cancel "),l("button",{type:"button",class:"inline-flex justify-center rounded-md border border-transparent bg-btn-primary hover:bg-btn-primary-hover dark:hover:bg-btn-primary-dark px-4 py-2 text-sm font-medium text-white focus:outline-none focus-visible:ring-2 focus-visible:ring-btn-primary focus-visible:ring-offset-2",onClick:oe,disabled:c.value},[c.value?(O(),V("span",qY,"⟳")):ce("",!0),he(" "+W(c.value?"Saving...":"Save Changes"),1)],8,BY)])]),_:1})]),_:1})])])]),_:1})]),_:1},8,["show"])]))}},zY=Yr(HY,[["__scopeId","data-v-fe9bfe02"]]),WY=[{path:"/",name:"home",component:$b},{path:"/products",name:"products",component:N9},{path:"/product/:id",name:"product-detail",component:XL},{path:"/login",name:"login",component:mF},{path:"/register",name:"register",component:jF},{path:"/account",name:"account",component:sj,meta:{requiresAuth:!0}},{path:"/cart",name:"cart",component:Gj},{path:"/checkout",name:"checkout",component:kq,meta:{requiresAuth:!0}},{path:"/about",name:"about",component:yH},{path:"/contact",name:"contact",component:az},{path:"/admin",name:"admin",component:tW,meta:{requiresAuth:!0,isAdmin:!0}},{path:"/admin/products",name:"admin-products",component:oK,meta:{requiresAuth:!0,isAdmin:!0}},{path:"/admin/products/new",name:"admin-product-new",component:e1,meta:{requiresAuth:!0,isAdmin:!0}},{path:"/admin/products/edit/:id",name:"admin-product-edit",component:e1,meta:{requiresAuth:!0,isAdmin:!0}},{path:"/admin/orders",name:"admin-orders",component:MQ,meta:{requiresAuth:!0,isAdmin:!0}},{path:"/admin/users",name:"admin-users",component:zY,meta:{requiresAuth:!0,isAdmin:!0},beforeEnter:hV},{path:"/notification-test",name:"NotificationTest",component:()=>sf(()=>import("./NotificationTest-2Bo6whux.js"),[]),meta:{title:"Notification Test"}},{path:"/account/notifications",name:"AccountNotifications",component:()=>sf(()=>import("./Notifications-CnZTl2hr.js"),[]),meta:{requiresAuth:!0,title:"Notifications"}},{path:"/privacy-policy",name:"privacy-policy",component:()=>sf(()=>import("./PrivacyPolicyView-C_eyn7Dx.js"),[]),meta:{title:"Privacy Policy"}},{path:"/:pathMatch(.*)*",name:"not-found",component:$b,beforeEnter:(t,e,r)=>{var n;if(console.log(`Not-found route triggered for: ${t.fullPath}`),t.query&&Object.keys(t.query).length>0&&((n=t.query[0])!=null&&n.startsWith("/"))){console.log("Detected GitHub Pages SPA redirect, handling specially"),r(!1);return}r("/")}}],oa=LC({history:pC("/"),routes:WY,strict:!0,scrollBehavior(t,e,r){return r||{top:0}}});oa.beforeEach(async(t,e,r)=>{const n=kn();if(window.location.search&&window.location.search.startsWith("?/")){console.log("GitHub Pages redirect in progress, skipping auth check"),r();return}if(!n.user&&!n.authChecked)try{console.log("Initializing auth..."),await n.initAuth()}catch(s){console.error("Error initializing auth:",s)}if(t.matched.some(s=>s.meta.requiresAuth)){if(!n.isAuthenticated){console.log(`Auth required for ${t.path}, redirecting to login`),r({path:"/login",query:{redirect:t.fullPath}});return}if(t.matched.some(s=>s.meta.isAdmin)&&!n.isAdmin){console.log("Admin access denied"),r("/");return}}if((t.path==="/login"||t.path==="/register")&&n.isAuthenticated){const s=t.query.redirect||"/account";console.log(`Already logged in, redirecting to ${s}`),r(s);return}r()});const KY={adminEmails:["your-admin-email@example.com"],async initializeAdminStatus(){const e=Hi().currentUser;if(!e)return console.log("No user logged in"),!1;try{const r=this.adminEmails.includes(e.email);return await Fe.setUserAdminStatus(e.uid,r),console.log(`Admin status set for ${e.email}:`,r),r}catch(r){return console.error("Error setting admin status:",r),!1}}},_i=Hi(),kn=Cd("auth",{state:()=>({user:null,isInitializing:!0,loading:!0,error:null,authChecked:!1}),actions:{async initialize(){console.log("Initializing auth state"),this.isInitializing=!0;try{const t=localStorage.getItem("userData");t&&(this.user=JSON.parse(t))}catch(t){console.error("Auth initialization error:",t)}finally{this.isInitializing=!1}},async initAuth(){console.log("Initializing auth state"),this.isInitializing=!0;try{const t=localStorage.getItem("userData");if(t)try{const e=JSON.parse(t);if(console.log(`Restored auth from localStorage: ${(e==null?void 0:e.email)||"unknown"}`),e&&e.uid)return this.user=e,localStorage.getItem("userIsAdmin")&&!this.user.isAdmin&&(this.user.isAdmin=!0),this.authChecked=!0,this.loading=!1,!0}catch(e){console.error("Error parsing stored user data:",e)}return new Promise(e=>{const r=Qw(_i,async n=>{if(r(),n){console.log("Firebase user found:",n.email);try{const s=await Fe.getUserProfile(n.uid);this.user={uid:n.uid,email:n.email,displayName:n.displayName||(s==null?void 0:s.displayName),emailVerified:n.emailVerified,isAdmin:!!(s!=null&&s.isAdmin),...s},localStorage.setItem("userData",JSON.stringify(this.user)),this.user.isAdmin&&localStorage.setItem("userIsAdmin","true"),e(!0)}catch(s){console.error("Error getting user profile:",s),this.user=null,e(!1)}}else console.log("No Firebase user found"),this.user=null,e(!1);this.authChecked=!0,this.loading=!1,this.isInitializing=!1},n=>{console.error("Firebase auth state error:",n),this.authChecked=!0,this.loading=!1,this.isInitializing=!1,e(!1)});setTimeout(()=>{this.authChecked=!0,this.loading=!1,this.isInitializing=!1,e(!1)},3e3)})}catch(t){return console.error("Error in auth initialization:",t),localStorage.removeItem("userData"),this.user=null,this.loading=!1,this.isInitializing=!1,this.authChecked=!0,!1}},async login(t,e){const r=en();try{this.loading=!0,this.error=null;const n=await Gw(_i,t,e);this.user={uid:n.user.uid,email:n.user.email,displayName:n.user.displayName,emailVerified:n.user.emailVerified,isAdmin:!1},n.user.emailVerified||r.addNotification({title:"Email Not Verified",message:"Please check your inbox and verify your email to access all features.",type:"warning",timeout:6e3}),localStorage.setItem("userData",JSON.stringify(this.user));const s=sessionStorage.getItem("redirectAfterLogin")||"/account";return sessionStorage.removeItem("redirectAfterLogin"),this.loadUserProfileInBackground(n.user.uid),r.addNotification({title:"Welcome Back",message:`Successfully signed in as ${t}`,type:"success",timeout:3e3}),s}catch(n){throw console.error("Login error:",n),this.error=n.message,r.addNotification({title:"Login Failed",message:n.message,type:"error",timeout:5e3}),n}finally{this.loading=!1}},async logout(){var e;const t=en();try{const r=(e=this.user)==null?void 0:e.email;await vR(_i),this.user=null,localStorage.removeItem("userIsAdmin"),localStorage.removeItem("userData"),t.addNotification({title:"Signed Out",message:`Successfully signed out${r?` from ${r}`:""}`,type:"info",timeout:3e3}),oa.push("/")}catch(r){throw this.error=r.message,t.addNotification({title:"Error",message:`Failed to sign out: ${r.message}`,type:"error",timeout:5e3}),r}},async register(t,e,r){const n=en();try{this.error=null,this.loading=!0;const s=await Kw(_i,t,e);return await xv(s.user),r&&await Fe.createUserProfile(s.user.uid,r),n.addNotification({title:"Welcome!",message:`Account successfully created for ${t}. Please check your inbox to verify your email address.`,type:"success",timeout:8e3}),await n.addPersistedNotification({title:"Welcome to BeadShop",message:"Thank you for joining our community! Please verify your email to unlock all features. Feel free to explore our products and start shopping.",type:"info",userId:s.user.uid}),this.user={uid:s.user.uid,email:s.user.email,displayName:s.user.displayName,emailVerified:!1,...r},localStorage.setItem("userData",JSON.stringify(this.user)),oa.push("/"),s}catch(s){throw this.error=s.message,n.addNotification({title:"Registration Failed",message:s.message,type:"error",timeout:5e3}),s}finally{this.loading=!1}},async sendVerificationEmail(){const t=en();try{const e=_i.currentUser;if(!e)throw new Error("No user is currently logged in");return await xv(e),t.addNotification({title:"Verification Email Sent",message:`A verification email has been sent to ${e.email}. Please check your inbox.`,type:"success",timeout:5e3}),!0}catch(e){throw console.error("Error sending verification email:",e),t.addNotification({title:"Error",message:`Failed to send verification email: ${e.message}`,type:"error",timeout:5e3}),e}},async checkEmailVerification(){try{const t=_i.currentUser;return t?(await t.reload(),this.user&&(this.user.emailVerified=t.emailVerified,localStorage.setItem("userData",JSON.stringify(this.user))),t.emailVerified):!1}catch(t){return console.error("Error checking email verification:",t),!1}},async loadUserProfileInBackground(t){try{const e=await Fe.getUserProfile(t);if(e!=null&&e.adminUpdatedAt)this.user={...this.user,...e,isAdmin:!!(e!=null&&e.isAdmin)};else{await KY.initializeAdminStatus();const n=await Fe.getUserProfile(t);this.user={...this.user,...n,isAdmin:!!(n!=null&&n.isAdmin)}}const r=_i.currentUser;r&&(this.user.emailVerified=r.emailVerified),localStorage.setItem("userData",JSON.stringify(this.user)),this.user.isAdmin&&localStorage.setItem("userIsAdmin","true"),console.log("User profile loaded in background")}catch(e){console.error("Error loading user profile in background:",e)}},async setUser(t){if(t){const e=await Fe.getUserProfile(t.uid);console.log("User profile loaded:",e),this.user={...t,emailVerified:t.emailVerified,isAdmin:!!(e!=null&&e.isAdmin),...e},console.log("Updated user state:",this.user)}else this.user=null},async restoreSession(t){if(!t)return null;try{const e=await Fe.getUserProfile(t.uid);return this.user={uid:t.uid,email:t.email,displayName:t.displayName,emailVerified:t.emailVerified,isAdmin:!!(e!=null&&e.isAdmin),...e},this.user.isAdmin&&localStorage.setItem("userIsAdmin","true"),localStorage.setItem("userData",JSON.stringify(this.user)),this.user}catch(e){return console.error("Error restoring session:",e),null}},async updateProfile(t){const e=en();this.loading=!0;try{return await Fe.updateUserProfile(this.user.uid,t),this.user={...this.user,...t},e.addNotification({title:"Profile Updated",message:"Your profile has been updated successfully",type:"success",timeout:3e3}),!0}catch(r){return console.error("Profile update error:",r),e.addNotification({title:"Update Failed",message:"Failed to update profile. Please try again.",type:"error",timeout:5e3}),!1}finally{this.loading=!1}}},getters:{isAdmin:t=>{var e;return!!((e=t.user)!=null&&e.isAdmin)},isAuthenticated:t=>!!t.user,isEmailVerified:t=>{var e;return!!((e=t.user)!=null&&e.emailVerified)},getUser:t=>t.user}}),GY={class:"bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary transition-colors duration-200"},QY={class:"fixed inset-0 z-40 flex"},YY={class:"flex px-4 pt-5 pb-2"},JY={class:"space-y-6 px-4 py-6"},XY={class:"flow-root"},ZY={class:"flow-root"},eJ={class:"flow-root"},tJ={class:"space-y-6 border-t border-light-neutral-300 dark:border-dark-neutral-600 px-4 py-6"},rJ={class:"flow-root"},nJ={key:1,class:"space-y-2"},sJ={class:"-m-2 block p-2 font-medium text-light-text-primary dark:text-dark-text-primary"},iJ={class:"flow-root"},oJ={class:"sticky top-0 z-40 bg-light-primary dark:bg-dark-primary transition-colors duration-200"},aJ={"aria-label":"Top",class:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8"},lJ={class:"flex h-16 items-center"},cJ=["aria-label"],uJ={class:"ml-4 flex lg:ml-0"},dJ=["src"],hJ={class:"hidden lg:ml-8 lg:block lg:self-stretch"},fJ={class:"flex h-full space-x-8"},pJ={class:"ml-auto flex items-center"},mJ={class:"hidden lg:flex lg:flex-1 lg:items-center lg:justify-end lg:space-x-6"},gJ={class:"flex lg:ml-6"},yJ={href:"#",class:"p-2 text-light-neutral-500 dark:text-dark-neutral-500 hover:text-accent-primary dark:hover:text-accent-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md"},vJ={class:"ml-4 flow-root lg:ml-6"},bJ={key:0,class:"absolute top-0 right-0 inline-flex items-center justify-center w-4 h-4 text-xs font-bold text-white bg-red-500 rounded-full"},xJ={class:"ml-4 flow-root lg:ml-6"},_J={key:0,class:"absolute top-0 right-0 inline-flex items-center justify-center w-4 h-4 text-xs font-bold text-white bg-red-500 rounded-full pointer-events-none"},wJ={key:0,class:"absolute right-4 top-20 z-50 mt-2 w-80 origin-top-right rounded-md bg-light-secondary dark:bg-dark-secondary py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},kJ={class:"max-h-80 overflow-y-auto"},EJ={key:0,class:"px-4 py-6 text-center text-light-text-secondary dark:text-dark-neutral-700"},IJ={key:1,class:"divide-y divide-light-neutral-200 dark:divide-dark-neutral-700"},TJ={class:"flex items-start"},AJ={class:"shrink-0 pt-0.5"},SJ={class:"ml-3 w-0 flex-1"},CJ={class:"text-sm font-medium text-light-text-primary dark:text-dark-text-primary"},PJ={class:"mt-1 text-sm text-light-text-secondary dark:text-dark-neutral-700"},RJ={class:"mt-1 text-xs text-light-text-tertiary dark:text-dark-neutral-600"},NJ={class:"ml-4 flex shrink-0"},$J=["onClick"],OJ={key:0},DJ={key:1},MJ={class:"px-4 py-2 border-t border-light-neutral-300 dark:border-dark-neutral-600 text-center"},VJ={__name:"TheHeader",setup(t){const e=di(),r=Nd(),n=kn(),s=ao(),i=km(),o=en(),a=q(!1),c=q(!1),d=q(!1),h=ee(()=>s.itemCount),f=ee(()=>o.userNotifications.filter(m=>!m.read).length),p={success:Fl,error:M8,info:U8,warning:V8},y={success:"text-green-500",error:"text-red-500",info:"text-blue-500",warning:"text-yellow-500"},b=()=>{a.value=!a.value,a.value&&(c.value=!1)},w=()=>{c.value=!c.value,c.value&&(a.value=!1)},x=()=>{a.value=!1},I=()=>{i.toggleTheme(),x()},C=async()=>{await n.logout(),x(),e.push("/")},E=m=>{m.read||o.markAsRead(m.id)},R=m=>{if(!m)return"";const k=new Date,N=new Date(m);return N.toDateString()===k.toDateString()?N.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):N.getFullYear()===k.getFullYear()?N.toLocaleDateString([],{month:"short",day:"numeric"}):N.toLocaleDateString()},A=m=>r.path===m||m!=="/"&&r.path.startsWith(m),M=()=>{d.value=window.scrollY>20},T=ee(()=>{var m;return((m=n.user)==null?void 0:m.isAdmin)===!0}),v=m=>{c.value&&!m.target.closest('[aria-label="View notifications"]')&&!m.target.closest(".notifications-panel")&&(c.value=!1)};return Rt(()=>n.user,m=>{m&&o.loadUserNotifications()},{immediate:!0}),Ue(()=>{window.addEventListener("resize",()=>{window.innerWidth>=1024&&(a.value=!1)}),window.addEventListener("scroll",M),window.addEventListener("click",v)}),Kt(()=>{window.removeEventListener("scroll",M),window.removeEventListener("click",v)}),(m,k)=>(O(),V("div",GY,[z(H(mn),{as:"template",show:a.value},{default:Z(()=>[z(H(oh),{class:"relative z-40 lg:hidden",onClose:k[0]||(k[0]=N=>a.value=!1)},{default:Z(()=>[z(H(gs),{as:"template",enter:"transition-opacity ease-linear duration-300","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-linear duration-300","leave-from":"opacity-100","leave-to":"opacity-0"},{default:Z(()=>k[2]||(k[2]=[l("div",{class:"fixed inset-0 bg-black/25"},null,-1)])),_:1}),l("div",QY,[z(H(gs),{as:"template",enter:"transition ease-in-out duration-300 transform","enter-from":"-translate-x-full","enter-to":"translate-x-0",leave:"transition ease-in-out duration-300 transform","leave-from":"translate-x-0","leave-to":"-translate-x-full"},{default:Z(()=>[z(H(ah),{class:"relative flex w-full max-w-xs flex-col overflow-y-auto bg-light-secondary dark:bg-dark-secondary pb-12 shadow-xl"},{default:Z(()=>[l("div",YY,[l("button",{type:"button",class:"relative -m-2 inline-flex items-center justify-center rounded-md p-2 text-light-neutral-500 dark:text-dark-neutral-500",onClick:x},[k[3]||(k[3]=l("span",{class:"absolute -inset-0.5"},null,-1)),k[4]||(k[4]=l("span",{class:"sr-only"},"Close menu",-1)),z(H(uh),{class:"size-6","aria-hidden":"true"})])]),l("div",JY,[l("div",XY,[z(H(_t),{to:"/products",class:"-m-2 block p-2 font-medium text-light-text-primary dark:text-dark-text-primary",onClick:x},{default:Z(()=>k[5]||(k[5]=[he("Shop")])),_:1})]),l("div",ZY,[z(H(_t),{to:"/about",class:"-m-2 block p-2 font-medium text-light-text-primary dark:text-dark-text-primary",onClick:x},{default:Z(()=>k[6]||(k[6]=[he("About Us")])),_:1})]),l("div",eJ,[z(H(_t),{to:"/contact",class:"-m-2 block p-2 font-medium text-light-text-primary dark:text-dark-text-primary",onClick:x},{default:Z(()=>k[7]||(k[7]=[he("Contact")])),_:1})])]),l("div",tJ,[l("div",rJ,[H(n).user?(O(),V("div",nJ,[l("div",sJ,W(H(n).user.displayName||H(n).user.email),1),z(H(_t),{to:"/account",class:"-m-2 block p-2 text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-light-text-primary dark:hover:text-dark-text-primary pl-4",onClick:x},{default:Z(()=>k[9]||(k[9]=[he("Account")])),_:1}),T.value?(O(),ht(H(_t),{key:0,to:"/admin",class:"-m-2 block p-2 text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-light-text-primary dark:hover:text-dark-text-primary pl-4",onClick:x},{default:Z(()=>k[10]||(k[10]=[he("Shop Manager")])),_:1})):ce("",!0),l("button",{onClick:C,class:"-m-2 block p-2 text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-light-text-primary dark:hover:text-dark-text-primary pl-4 w-full text-left"},"Logout")])):(O(),ht(H(_t),{key:0,to:"/login",class:"-m-2 block p-2 font-medium text-light-text-primary dark:text-dark-text-primary",onClick:x},{default:Z(()=>k[8]||(k[8]=[he("Sign in")])),_:1}))]),l("div",iJ,[l("button",{onClick:I,class:"-m-2 flex items-center p-2 font-medium text-light-text-secondary dark:text-dark-neutral-700 hover:text-light-text-primary dark:hover:text-dark-text-primary"},[H(i).theme==="dark"?(O(),ht(H(Gb),{key:0,class:"h-5 w-5 mr-2 text-accent-primary"})):(O(),ht(H(Kb),{key:1,class:"h-5 w-5 mr-2 text-dark-primary"})),l("span",null,W(H(i).theme==="dark"?"Light Mode":"Dark Mode"),1)])])])]),_:1})]),_:1})])]),_:1})]),_:1},8,["show"]),l("header",oJ,[k[24]||(k[24]=l("p",{class:"flex h-10 items-center justify-center bg-orange-600 dark:bg-orange-700 px-4 text-sm font-medium text-white sm:px-6 lg:px-8","aria-live":"polite"},"Free shipping on orders over KES 10,000",-1)),l("div",{class:Ce(["border-b border-light-neutral-300 dark:border-dark-neutral-600 bg-light-primary dark:bg-dark-primary shadow-sm transition-shadow duration-300",{"shadow-md":d.value}])},[l("nav",aJ,[l("div",lJ,[l("button",{type:"button",class:"relative rounded-md bg-light-primary dark:bg-transparent p-2 text-light-neutral-500 dark:text-dark-neutral-500 hover:text-light-text-primary dark:hover:text-dark-text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md lg:hidden",onClick:b,"aria-expanded":"false","aria-label":a.value?"Close menu":"Open menu"},[k[11]||(k[11]=l("span",{class:"absolute -inset-0.5"},null,-1)),k[12]||(k[12]=l("span",{class:"sr-only"},"Toggle menu",-1)),z(H(S8),{class:"size-6","aria-hidden":"true"})],8,cJ),l("div",uJ,[z(H(_t),{to:"/",class:"inline-block focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md"},{default:Z(()=>[k[13]||(k[13]=l("span",{class:"sr-only"},"Beabed Art",-1)),l("img",{src:H(fn)("images/sticky.PNG"),alt:"Beaded Art Logo",class:"h-8 w-auto"},null,8,dJ)]),_:1})]),l("div",hJ,[l("div",fJ,[z(H(_t),{to:"/products",class:Ce(["flex items-center text-sm font-medium transition-colors duration-200 border-b-2 border-transparent hover:border-accent-primary dark:hover:border-accent-primary py-2 text-light-text-primary dark:text-dark-neutral-700 hover:text-light-text-primary dark:hover:text-dark-text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md",{"border-orange-500 dark:border-orange-500 text-light-text-primary dark:text-dark-text-primary":A("/products")}]),"active-class":"border-orange-500 dark:border-orange-500 text-light-text-primary dark:text-dark-text-primary"},{default:Z(()=>k[14]||(k[14]=[he("Shop")])),_:1},8,["class"]),z(H(_t),{to:"/about",class:Ce(["flex items-center text-sm font-medium transition-colors duration-200 border-b-2 border-transparent hover:border-accent-primary dark:hover:border-accent-primary py-2 text-light-text-primary dark:text-dark-neutral-700 hover:text-light-text-primary dark:hover:text-dark-text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md",{"border-orange-500 dark:border-orange-500 text-light-text-primary dark:text-dark-text-primary":A("/about")}]),"active-class":"border-orange-500 dark:border-orange-500 text-light-text-primary dark:text-dark-text-primary"},{default:Z(()=>k[15]||(k[15]=[he("About Us")])),_:1},8,["class"]),z(H(_t),{to:"/contact",class:Ce(["flex items-center text-sm font-medium transition-colors duration-200 border-b-2 border-transparent hover:border-accent-primary dark:hover:border-accent-primary py-2 text-light-text-primary dark:text-dark-neutral-700 hover:text-light-text-primary dark:hover:text-dark-text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md",{"border-orange-500 dark:border-orange-500 text-light-text-primary dark:text-dark-text-primary":A("/contact")}]),"active-class":"border-orange-500 dark:border-orange-500 text-light-text-primary dark:text-dark-text-primary"},{default:Z(()=>k[16]||(k[16]=[he("Contact")])),_:1},8,["class"])])]),l("div",pJ,[l("div",mJ,[H(n).user?(O(),ht(H(EE),{key:1,as:"div",class:"relative ml-3"},{default:Z(()=>[l("div",null,[z(H(IE),{class:"flex items-center text-sm font-medium text-light-text-primary dark:text-dark-neutral-700 hover:text-light-text-primary dark:hover:text-dark-text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md transition-colors duration-200"},{default:Z(()=>[k[18]||(k[18]=l("span",{class:"sr-only"},"Open user menu for ",-1)),he(" "+W(H(n).user.displayName||H(n).user.email)+" ",1),z(H(N8),{class:"ml-1 h-5 w-5","aria-hidden":"true"})]),_:1})]),z(zs,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:Z(()=>[z(H(TE),{class:"absolute right-0 z-10 mt-2 w-48 origin-top-right rounded-md bg-light-secondary dark:bg-dark-secondary py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},{default:Z(()=>[z(H(Wa),null,{default:Z(({active:N})=>[z(H(_t),{to:"/account",class:Ce([N?"bg-light-neutral-100 dark:bg-dark-neutral-700":"","block px-4 py-2 text-sm text-light-text-primary dark:text-dark-text-primary"])},{default:Z(()=>k[19]||(k[19]=[he("Account")])),_:2},1032,["class"])]),_:1}),T.value?(O(),ht(H(Wa),{key:0},{default:Z(({active:N})=>[z(H(_t),{to:"/admin",class:Ce([N?"bg-light-neutral-100 dark:bg-dark-neutral-700":"","block px-4 py-2 text-sm text-light-text-primary dark:text-dark-text-primary"])},{default:Z(()=>k[20]||(k[20]=[he("Shop Manager")])),_:2},1032,["class"])]),_:1})):ce("",!0),T.value?(O(),ht(H(Wa),{key:1},{default:Z(({active:N})=>[z(H(_t),{to:"/admin/users",class:Ce([N?"bg-light-neutral-100 dark:bg-dark-neutral-700":"","block px-4 py-2 text-sm text-light-text-primary dark:text-dark-text-primary"])},{default:Z(()=>k[21]||(k[21]=[he("User Manager")])),_:2},1032,["class"])]),_:1})):ce("",!0),z(H(Wa),null,{default:Z(({active:N})=>[l("button",{onClick:C,class:Ce([N?"bg-light-neutral-100 dark:bg-dark-neutral-700":"","block w-full text-left px-4 py-2 text-sm text-light-text-primary dark:text-dark-text-primary"])},"Logout",2)]),_:1})]),_:1})]),_:1})]),_:1})):(O(),ht(H(_t),{key:0,to:"/login",class:"text-sm font-medium text-light-text-primary dark:text-dark-neutral-700 hover:text-light-text-primary dark:hover:text-dark-text-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md transition-colors duration-200"},{default:Z(()=>k[17]||(k[17]=[he("Sign in")])),_:1})),l("button",{onClick:I,class:"p-2 text-light-neutral-500 dark:text-dark-neutral-500 hover:text-accent-primary dark:hover:text-accent-primary focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md transition-colors duration-200","aria-label":"Toggle theme"},[H(i).theme==="dark"?(O(),ht(H(Gb),{key:0,class:"h-5 w-5","aria-hidden":"true"})):(O(),ht(H(Kb),{key:1,class:"h-5 w-5","aria-hidden":"true"}))])]),l("div",gJ,[l("a",yJ,[k[22]||(k[22]=l("span",{class:"sr-only"},"Search",-1)),z(H(j8),{class:"size-6","aria-hidden":"true"})])]),l("div",vJ,[l("button",{onClick:w,class:"group -m-2 flex items-center p-2 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md relative","aria-label":"View notifications"},[z(H(C8),{class:"size-6 shrink-0 text-light-neutral-500 dark:text-dark-neutral-500 group-hover:text-accent-primary dark:group-hover:text-accent-primary","aria-hidden":"true"}),f.value>0?(O(),V("span",bJ,W(f.value),1)):ce("",!0)])]),l("div",xJ,[z(H(_t),{to:"/cart",class:"group -m-2 flex items-center p-2 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent-primary focus-visible:rounded-md relative"},{default:Z(()=>[z(H(pu),{class:"size-6 shrink-0 text-light-neutral-500 dark:text-dark-neutral-500 group-hover:text-accent-primary dark:group-hover:text-accent-primary","aria-hidden":"true"}),h.value>0?(O(),V("span",_J,W(h.value),1)):ce("",!0),k[23]||(k[23]=l("span",{class:"sr-only"},"items in cart, view bag",-1))]),_:1})])])])])],2)]),z(zs,{"enter-active-class":"transition ease-out duration-300","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-200","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:Z(()=>[c.value?(O(),V("div",wJ,[k[26]||(k[26]=l("div",{class:"px-4 py-2 border-b border-light-neutral-300 dark:border-dark-neutral-600"},[l("h3",{class:"text-lg font-medium text-light-text-primary dark:text-dark-text-primary"},"Notifications")],-1)),l("div",kJ,[H(o).userNotifications.length===0?(O(),V("div",EJ," You have no notifications. ")):(O(),V("div",IJ,[(O(!0),V(Ee,null,He(H(o).userNotifications,N=>(O(),V("div",{key:N.id,class:Ce(["px-4 py-3",N.read?"bg-light-primary dark:bg-dark-primary":"bg-light-neutral-50 dark:bg-dark-neutral-800"])},[l("div",TJ,[l("div",AJ,[(O(),ht(xd(p[N.type]||p.info),{class:Ce(["h-5 w-5",y[N.type]||y.info]),"aria-hidden":"true"},null,8,["class"]))]),l("div",SJ,[l("p",CJ,W(N.title),1),l("p",PJ,W(N.message),1),l("p",RJ,W(R(N.createdAt)),1)]),l("div",NJ,[l("button",{onClick:S=>E(N),type:"button",class:"text-light-text-secondary dark:text-dark-neutral-700 hover:text-light-text-primary dark:hover:text-dark-text-primary"},[N.read?(O(),V("span",DJ,"Mark as unread")):(O(),V("span",OJ,"Mark as read"))],8,$J)])])],2))),128))]))]),l("div",MJ,[z(H(_t),{to:"/account/notifications",class:"text-sm text-orange-600 hover:text-orange-700",onClick:k[1]||(k[1]=N=>c.value=!1)},{default:Z(()=>k[25]||(k[25]=[he(" View all notifications ")])),_:1})])])):ce("",!0)]),_:1})]))}},LJ={class:"bg-light-secondary dark:bg-dark-secondary py-10 mt-auto border-t border-light-neutral-200 dark:border-dark-neutral-600 transition-colors duration-200"},FJ={class:"container mx-auto px-4"},UJ={class:"grid grid-cols-1 md:grid-cols-4 gap-8"},jJ={class:"flex items-center mb-4"},BJ=["src"],qJ={class:"space-y-2"},HJ={class:"space-y-2"},zJ={class:"mt-10 pt-8 border-t border-light-neutral-200 dark:border-dark-neutral-600 text-center"},WJ={class:"text-sm text-light-neutral-600 dark:text-dark-neutral-600"},KJ={class:"mt-2 flex justify-center space-x-6 text-xs"},GJ={__name:"TheFooter",setup(t){return(e,r)=>(O(),V("footer",LJ,[l("div",FJ,[l("div",UJ,[l("div",null,[l("div",jJ,[l("img",{src:H(fn)("images/sticky.PNG"),alt:"Kreative Kanvas Logo",class:"h-16 w-auto mr-2"},null,8,BJ)]),r[0]||(r[0]=l("p",{class:"text-sm text-light-text-secondary dark:text-dark-neutral-700 leading-relaxed"}," Exquisite handcrafted jewelry for every occasion. Quality materials, timeless designs that capture your unique style. ",-1))]),l("div",null,[r[6]||(r[6]=l("h3",{class:"font-bold text-lg mb-4 text-light-text-primary dark:text-dark-text-primary border-b-2 border-orange-500 dark:border-orange-500 inline-block pb-1"},"Shop",-1)),l("ul",qJ,[l("li",null,[z(H(_t),{to:"/products",class:"text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},{default:Z(()=>r[1]||(r[1]=[he("All Products")])),_:1})]),l("li",null,[z(H(_t),{to:"/products?category=rings",class:"text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},{default:Z(()=>r[2]||(r[2]=[he("Rings")])),_:1})]),l("li",null,[z(H(_t),{to:"/products?category=necklaces",class:"text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},{default:Z(()=>r[3]||(r[3]=[he("Necklaces")])),_:1})]),l("li",null,[z(H(_t),{to:"/products?category=bracelets",class:"text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},{default:Z(()=>r[4]||(r[4]=[he("Bracelets")])),_:1})]),l("li",null,[z(H(_t),{to:"/products?category=earrings",class:"text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},{default:Z(()=>r[5]||(r[5]=[he("Earrings")])),_:1})])])]),l("div",null,[r[11]||(r[11]=l("h3",{class:"font-bold text-lg mb-4 text-light-text-primary dark:text-dark-text-primary border-b-2 border-orange-500 dark:border-orange-500 inline-block pb-1"},"Customer Service",-1)),l("ul",HJ,[l("li",null,[z(H(_t),{to:"/contact",class:"text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},{default:Z(()=>r[7]||(r[7]=[he("Contact Us")])),_:1})]),r[8]||(r[8]=l("li",null,[l("a",{href:"#",class:"text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},"Shipping Policy")],-1)),r[9]||(r[9]=l("li",null,[l("a",{href:"#",class:"text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},"Returns & Exchanges")],-1)),r[10]||(r[10]=l("li",null,[l("a",{href:"#",class:"text-sm text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},"FAQs")],-1))])]),r[12]||(r[12]=wt('<div><h3 class="font-bold text-lg mb-4 text-light-text-primary dark:text-dark-text-primary border-b-2 border-orange-500 dark:border-orange-500 inline-block pb-1">Connect With Us</h3><div class="flex space-x-4 mb-4"><a href="#" class="text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"><span class="sr-only">Facebook</span><svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z" clip-rule="evenodd"></path></svg></a><a href="#" class="text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"><span class="sr-only">Instagram</span><svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path fill-rule="evenodd" d="M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465.66.254 1.216.598 1.772 1.153a4.974 4.974 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.974 4.974 0 01-1.153 1.772 4.974 4.974 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.974 4.974 0 01-1.772-1.153 4.974 4.974 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.974 4.974 0 011.153-1.772A4.974 4.974 0 015.45 3.525c.636-.247 1.363-.416 2.427-.465C8.901 3.013 9.256 3 11.685 3h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z" clip-rule="evenodd"></path></svg></a><a href="#" class="text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"><span class="sr-only">Twitter</span><svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24"><path d="M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"></path></svg></a></div><div class="text-sm text-light-text-secondary dark:text-dark-neutral-700 space-y-1"><p>Kitengela</p><p>Nairobi Kenya, Kitengela</p><p class="mt-2">hello@kreativekanvas.shop</p><p>+2547 4141 4261</p></div></div>',1))]),l("div",zJ,[l("p",WJ,"© "+W(new Date().getFullYear())+" Sticky Kreation . All rights reserved.",1),l("div",KJ,[z(H(_t),{to:"/privacy-policy",class:"text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},{default:Z(()=>r[13]||(r[13]=[he("Privacy Policy")])),_:1}),r[14]||(r[14]=l("a",{href:"#",class:"text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},"Terms of Service",-1)),r[15]||(r[15]=l("a",{href:"#",class:"text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},"Cookie Policy",-1)),r[16]||(r[16]=l("a",{href:"#",class:"text-light-text-secondary dark:text-dark-neutral-700 hover:text-orange-600 dark:hover:text-orange-400 transition-colors"},"Accessibility",-1))])])])]))}};function QJ(t,e){return O(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z","clip-rule":"evenodd"})])}function YJ(t,e){return O(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z","clip-rule":"evenodd"})])}function JJ(t,e){return O(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"fill-rule":"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003ZM12 8.25a.75.75 0 0 1 .75.75v3.75a.75.75 0 0 1-1.5 0V9a.75.75 0 0 1 .75-.75Zm0 8.25a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z","clip-rule":"evenodd"})])}function XJ(t,e){return O(),V("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[l("path",{"fill-rule":"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm8.706-1.442c1.146-.573 2.437.463 2.126 1.706l-.709 2.836.042-.02a.75.75 0 0 1 .67 1.34l-.04.022c-1.147.573-2.438-.463-2.127-1.706l.71-2.836-.042.02a.75.75 0 1 1-.671-1.34l.041-.022ZM12 9a.75.75 0 1 0 0-1.5.75.75 0 0 0 0 1.5Z","clip-rule":"evenodd"})])}const ZJ={class:"shrink-0"},eX={class:"flex-1"},tX={key:0,class:"font-medium"},rX={class:"text-sm"},nX={__name:"NotificationItem",props:{notification:{type:Object,required:!0},index:{type:Number,required:!0}},emits:["close"],setup(t,{emit:e}){const r=t,n=e,s=q(!1),i={success:QJ,error:YJ,info:XJ,warning:JJ},o={success:"bg-green-50 text-green-800",error:"bg-red-50 text-red-800",info:"bg-blue-50 text-blue-800",warning:"bg-yellow-50 text-yellow-800"},a=()=>{s.value=!0,setTimeout(()=>{n("close",r.notification.id)},300)};return Ue(()=>{r.notification.timeout&&setTimeout(()=>{a()},r.notification.timeout)}),(c,d)=>(O(),V("div",{class:Ce(["fixed w-72 p-4 rounded-lg shadow-lg transform transition-all duration-300","right-4 flex items-center gap-3",o[t.notification.type]||o.info,{"opacity-0 translate-x-full":s.value}]),style:St({top:`${4+t.index*5}rem`})},[l("div",ZJ,[(O(),ht(xd(i[t.notification.type]||i.info),{class:"h-5 w-5"}))]),l("div",eX,[t.notification.title?(O(),V("p",tX,W(t.notification.title),1)):ce("",!0),l("p",rX,W(t.notification.message),1)]),l("button",{onClick:a,class:"text-sm font-medium hover:opacity-75"}," ✕ ")],6))}},sX={class:"fixed top-0 right-0 z-50 pointer-events-none"},iX={class:"pointer-events-auto"},oX={__name:"NotificationContainer",setup(t){const e=en(),{notifications:r}=V5(e),{removeNotification:n}=e;return(s,i)=>(O(),V("div",sX,[l("div",iX,[(O(!0),V(Ee,null,He(H(r),(o,a)=>(O(),ht(nX,{key:o.id,notification:o,index:a,onClose:H(n)},null,8,["notification","index","onClose"]))),128))])]))}},aX={class:"min-h-screen flex flex-col bg-light-primary dark:bg-dark-primary text-light-text-primary dark:text-dark-text-primary transition-colors duration-200"},lX={class:"flex-grow"},cX={id:"cookie-consent-banner",class:"hidden fixed bottom-0 left-0 right-0 p-4 bg-black bg-opacity-90 text-white z-50 text-center"},uX={class:"max-w-7xl mx-auto flex justify-between items-center flex-wrap"},dX={class:"flex-grow mr-4 text-left"},hX={class:"text-sm"},fX={class:"space-y-4 text-gray-800 dark:text-white"},pX={class:"flex items-center justify-between"},mX={class:"relative inline-block w-10 align-middle cursor-pointer"},gX={class:"flex items-center justify-between"},yX={class:"relative inline-block w-10 align-middle cursor-pointer"},vX={class:"flex items-center justify-between"},bX={class:"relative inline-block w-10 align-middle cursor-pointer"},xX={class:"flex justify-end space-x-2"},_X={__name:"App",setup(t){const e=km(),r=Hi(),n=kn(),s=q(!1),i=Qr({necessary:!0,functional:!1,analytics:!1,marketing:!1,lastUpdated:null});Ue(async()=>{e.theme==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark");try{await Fe.seedDefaultAdmin()}catch(x){console.error("Failed to seed default admin:",x)}Qw(r,async x=>{x?await n.restoreSession(x):n.logout()}),document.addEventListener("click",x=>{const I=x.target.closest("a");I&&I.href&&(I.href.includes(window.location.origin+"/")||I.getAttribute("href")==="/")&&(window.__navIsUserAction=!0,console.log("User clicked a link:",I.href),setTimeout(()=>{window.__navIsUserAction=!1},500))}),document.addEventListener("click",x=>{x.target.closest('a[href="/"]')&&(console.log("User clicked home link, marking as user action"),window.__navIsUserAction=!0)}),o()});function o(){const x=localStorage.getItem("cookieConsent");if(x)try{if(x==="accepted"||x==="declined")x==="accepted"&&(i.functional=!0,i.analytics=!0,i.marketing=!0,i.lastUpdated=new Date().toISOString(),localStorage.setItem("cookieConsent",JSON.stringify(i)),b(),w());else{const I=JSON.parse(x);Object.assign(i,I),I.analytics&&b(),I.marketing&&w()}}catch(I){console.error("Error parsing saved cookie consent:",I),a()}else a()}function a(){const x=document.getElementById("cookie-consent-banner");x&&x.classList.remove("hidden")}function c(){const x=document.getElementById("cookie-consent-banner");x&&x.classList.add("hidden")}function d(){s.value=!0}async function h(){i.functional=!0,i.analytics=!0,i.marketing=!0,i.lastUpdated=new Date().toISOString(),localStorage.setItem("cookieConsent",JSON.stringify(i)),c(),b(),w(),await y("accept_all"),console.log("All cookies accepted")}async function f(){i.functional=!1,i.analytics=!1,i.marketing=!1,i.lastUpdated=new Date().toISOString(),localStorage.setItem("cookieConsent",JSON.stringify(i)),c(),await y("decline_all"),console.log("Cookies declined")}async function p(){i.lastUpdated=new Date().toISOString(),localStorage.setItem("cookieConsent",JSON.stringify(i)),s.value=!1,c(),i.analytics&&b(),i.marketing&&w(),await y("custom_preferences"),console.log("Cookie preferences saved",i)}async function y(x){try{const C=Hi().currentUser,E={...i,consentType:x,timestamp:new Date().toISOString(),userAgent:navigator.userAgent,language:navigator.language};C?await Fe.recordUserCookieConsent(C.uid,E):localStorage.setItem("cookieConsentDetails",JSON.stringify(E))}catch(I){console.error("Error saving consent to Firebase:",I)}}function b(){console.log("Analytics initialized based on consent")}function w(){console.log("Marketing cookies initialized based on consent")}return(x,I)=>{const C=Rr("RouterView"),E=Rr("RouterLink");return O(),V("div",aX,[z(VJ),l("main",lX,[z(C)]),z(GJ),z(oX),l("div",cX,[l("div",uX,[l("div",dX,[I[7]||(I[7]=l("h3",{class:"text-lg font-bold"},"Cookie Notice",-1)),l("p",hX,[I[6]||(I[6]=he("This website uses cookies to ensure you get the best experience. By continuing to use this site, you consent to our use of cookies. ")),z(E,{to:"/privacy-policy",class:"text-orange-400 hover:text-orange-300"},{default:Z(()=>I[5]||(I[5]=[he("Learn more")])),_:1})])]),l("div",{class:"flex gap-3"},[l("button",{id:"cookie-preferences",onClick:d,class:"px-4 py-2 bg-gray-600 hover:bg-gray-700 text-white font-bold rounded transition-colors"},"Preferences"),l("button",{id:"accept-cookies",onClick:h,class:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white font-bold rounded transition-colors"},"Accept All"),l("button",{id:"decline-cookies",onClick:f,class:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold rounded transition-colors"},"Decline")])])]),z(DE,{show:s.value,title:"Cookie Preferences",onClose:I[4]||(I[4]=R=>s.value=!1)},{footer:Z(()=>[l("div",xX,[l("button",{onClick:I[3]||(I[3]=R=>s.value=!1),class:"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 font-bold rounded"},"Cancel"),l("button",{onClick:p,class:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white font-bold rounded"},"Save Preferences")])]),default:Z(()=>[l("div",fX,[I[11]||(I[11]=l("div",{class:"flex items-center justify-between"},[l("div",null,[l("p",{class:"font-bold"},"Necessary Cookies"),l("p",{class:"text-sm text-gray-700 dark:text-gray-300"},"Required for the website to function properly")]),l("div",{class:"relative inline-block w-10 align-middle"},[l("input",{type:"checkbox",class:"toggle-checkbox absolute w-6 h-6 rounded-full bg-white appearance-none cursor-not-allowed",disabled:"",checked:""}),l("div",{class:"toggle-bg block h-6 w-10 rounded-full bg-green-500"})])],-1)),l("div",pX,[I[8]||(I[8]=l("div",null,[l("p",{class:"font-bold"},"Functional Cookies"),l("p",{class:"text-sm text-gray-700 dark:text-gray-300"},"Enable enhanced functionality and personalization")],-1)),l("label",mX,[xe(l("input",{type:"checkbox","onUpdate:modelValue":I[0]||(I[0]=R=>i.functional=R),class:"toggle-checkbox absolute w-6 h-6 rounded-full bg-white appearance-none cursor-pointer"},null,512),[[os,i.functional]]),l("div",{class:Ce(["toggle-bg block h-6 w-10 rounded-full",i.functional?"bg-green-500":"bg-gray-300"])},null,2)])]),l("div",gX,[I[9]||(I[9]=l("div",null,[l("p",{class:"font-bold"},"Analytics Cookies"),l("p",{class:"text-sm text-gray-700 dark:text-gray-300"},"Help us improve by tracking site usage")],-1)),l("label",yX,[xe(l("input",{type:"checkbox","onUpdate:modelValue":I[1]||(I[1]=R=>i.analytics=R),class:"toggle-checkbox absolute w-6 h-6 rounded-full bg-white appearance-none cursor-pointer"},null,512),[[os,i.analytics]]),l("div",{class:Ce(["toggle-bg block h-6 w-10 rounded-full",i.analytics?"bg-green-500":"bg-gray-300"])},null,2)])]),l("div",vX,[I[10]||(I[10]=l("div",null,[l("p",{class:"font-bold"},"Marketing Cookies"),l("p",{class:"text-sm text-gray-700 dark:text-gray-300"},"Used for advertising and content personalization")],-1)),l("label",bX,[xe(l("input",{type:"checkbox","onUpdate:modelValue":I[2]||(I[2]=R=>i.marketing=R),class:"toggle-checkbox absolute w-6 h-6 rounded-full bg-white appearance-none cursor-pointer"},null,512),[[os,i.marketing]]),l("div",{class:Ce(["toggle-bg block h-6 w-10 rounded-full",i.marketing?"bg-green-500":"bg-gray-300"])},null,2)])])])]),_:1},8,["show"])])}}};function wX(){return"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyMDAiIGhlaWdodD0iMjAwIiB2aWV3Qm94PSIwIDAgMjAwIDIwMCI+CiAgPHJlY3QgZmlsbD0iI2YwZjBmMCIgd2lkdGg9IjIwMCIgaGVpZ2h0PSIyMDAiLz4KICA8dGV4dCBmaWxsPSIjODg4ODg4IiBmb250LWZhbWlseT0iQXJpYWwsIHNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMjAiIHRleHQtYW5jaG9yPSJtaWRkbGUiIHg9IjEwMCIgeT0iMTA1Ij5JbWFnZSBOb3QgRm91bmQ8L3RleHQ+CiAgPGcgc3Ryb2tlPSIjODg4ODg4IiBzdHJva2Utd2lkdGg9IjIiPgogICAgPHJlY3QgeD0iNjAiIHk9IjUwIiB3aWR0aD0iODAiIGhlaWdodD0iNjAiIGZpbGw9Im5vbmUiLz4KICAgIDxsaW5lIHgxPSI2MCIgeTE9IjUwIiB4Mj0iMTQwIiB5Mj0iMTEwIi8+CiAgICA8bGluZSB4MT0iMTQwIiB5MT0iNTAiIHgyPSI2MCIgeTI9IjExMCIvPgogIDwvZz4KPC9zdmc+"}const kX={mounted(t){t.onerror=()=>{t.src=wX(),t.onerror=null}}},hh=Pu(_X),EX=R5();hh.use(EX);hh.use(oa);hh.directive("img-fallback",kX);const IX=()=>{const t=sessionStorage.getItem("spaNavTimestamp"),e=sessionStorage.getItem("spaPath"),r=sessionStorage.getItem("spaSearch")||"",n=sessionStorage.getItem("spaHash")||"";if(!(!e||!t)&&(console.log(`SPA Navigation: Found saved path ${e}${r}${n}`),sessionStorage.removeItem("spaNavTimestamp"),sessionStorage.removeItem("spaPath"),sessionStorage.removeItem("spaSearch"),sessionStorage.removeItem("spaHash"),Date.now()-parseInt(t)<6e4)){const s=e+r+n;window.location.pathname!==e&&(console.log(`SPA Navigation: Redirecting to ${s}`),oa.replace(s).catch(i=>{console.error("SPA Navigation error:",i)}))}},TX=async()=>{const t=kn();console.log("Starting app initialization");try{const e=await t.initAuth();console.log(`Auth initialization complete: ${e?"User loaded":"No user"}`)}catch(e){console.error("Auth initialization error:",e)}await oa.isReady(),console.log("Router is ready"),hh.mount("#app"),console.log("App mounted"),setTimeout(()=>{IX()},50)};TX().catch(t=>{console.error("App initialization error:",t)});export{Fl as A,dh as B,wt as C,Nd as D,Ee as F,_t as R,Yr as _,en as a,l as b,V as c,ce as d,H as e,z as f,V8 as g,xe as h,Ln as i,He as j,O as k,ee as l,Z as m,Ce as n,Ue as o,he as p,C8 as q,q as r,ht as s,W as t,kn as u,Pe as v,Rt as w,xd as x,U8 as y,M8 as z};
//# sourceMappingURL=index-BY2zHJvn.js.map
