{"version":3,"file":"ProductsView-C7nMgxp0.js","sources":["../../node_modules/@heroicons/vue/20/solid/esm/ChevronDownIcon.js","../../node_modules/@heroicons/vue/20/solid/esm/FunnelIcon.js","../../node_modules/@heroicons/vue/20/solid/esm/MinusIcon.js","../../node_modules/@heroicons/vue/20/solid/esm/PlusIcon.js","../../node_modules/@heroicons/vue/20/solid/esm/Squares2X2Icon.js","../../src/views/ProductsView.vue"],"sourcesContent":["import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport default function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\"\n  }, [\n    _createElementVNode(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      d: \"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z\",\n      \"clip-rule\": \"evenodd\"\n    })\n  ]))\n}","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport default function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\"\n  }, [\n    _createElementVNode(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      d: \"M2.628 1.601C5.028 1.206 7.49 1 10 1s4.973.206 7.372.601a.75.75 0 0 1 .628.74v2.288a2.25 2.25 0 0 1-.659 1.59l-4.682 4.683a2.25 2.25 0 0 0-.659 1.59v3.037c0 .684-.31 1.33-.844 1.757l-1.937 1.55A.75.75 0 0 1 8 18.25v-5.757a2.25 2.25 0 0 0-.659-1.591L2.659 6.22A2.25 2.25 0 0 1 2 4.629V2.34a.75.75 0 0 1 .628-.74Z\",\n      \"clip-rule\": \"evenodd\"\n    })\n  ]))\n}","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport default function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\"\n  }, [\n    _createElementVNode(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      d: \"M4 10a.75.75 0 0 1 .75-.75h10.5a.75.75 0 0 1 0 1.5H4.75A.75.75 0 0 1 4 10Z\",\n      \"clip-rule\": \"evenodd\"\n    })\n  ]))\n}","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport default function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\"\n  }, [\n    _createElementVNode(\"path\", { d: \"M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5Z\" })\n  ]))\n}","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport default function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\"\n  }, [\n    _createElementVNode(\"path\", {\n      \"fill-rule\": \"evenodd\",\n      d: \"M4.25 2A2.25 2.25 0 0 0 2 4.25v2.5A2.25 2.25 0 0 0 4.25 9h2.5A2.25 2.25 0 0 0 9 6.75v-2.5A2.25 2.25 0 0 0 6.75 2h-2.5Zm0 9A2.25 2.25 0 0 0 2 13.25v2.5A2.25 2.25 0 0 0 4.25 18h2.5A2.25 2.25 0 0 0 9 15.75v-2.5A2.25 2.25 0 0 0 6.75 11h-2.5Zm9-9A2.25 2.25 0 0 0 11 4.25v2.5A2.25 2.25 0 0 0 13.25 9h2.5A2.25 2.25 0 0 0 18 6.75v-2.5A2.25 2.25 0 0 0 15.75 2h-2.5Zm0 9A2.25 2.25 0 0 0 11 13.25v2.5A2.25 2.25 0 0 0 13.25 18h2.5A2.25 2.25 0 0 0 18 15.75v-2.5A2.25 2.25 0 0 0 15.75 11h-2.5Z\",\n      \"clip-rule\": \"evenodd\"\n    })\n  ]))\n}","<template>\n  <div class=\"min-h-screen bg-light-primary dark:bg-dark-secondary\">\n    <!-- Animation element for cart add effect -->\n    <div \n      v-if=\"animatingItem\" \n      class=\"cart-animation fixed pointer-events-none z-50\" \n      ref=\"cartAnimationEl\"\n      :style=\"{ backgroundImage: `url(${animatingItem?.image})` }\">\n    </div>\n    \n    <div>\n      <!-- Mobile filter dialog -->\n      <TransitionRoot as=\"template\" :show=\"mobileFiltersOpen\">\n        <Dialog class=\"relative z-40 lg:hidden\" @close=\"mobileFiltersOpen = false\">\n          <TransitionChild as=\"template\" enter=\"transition-opacity ease-linear duration-300\" enter-from=\"opacity-0\" enter-to=\"opacity-100\" leave=\"transition-opacity ease-linear duration-300\" leave-from=\"opacity-100\" leave-to=\"opacity-0\">\n            <div class=\"fixed inset-0 bg-black/25\" />\n          </TransitionChild>\n\n          <div class=\"fixed inset-0 z-40 flex\">\n            <TransitionChild as=\"template\" enter=\"transition ease-in-out duration-300 transform\" enter-from=\"translate-x-full\" enter-to=\"translate-x-0\" leave=\"transition ease-in-out duration-300 transform\" leave-from=\"translate-x-0\" leave-to=\"translate-x-full\">\n              <DialogPanel class=\"relative ml-auto flex size-full max-w-xs flex-col overflow-y-auto bg-light-secondary dark:bg-dark-secondary py-4 pb-12 shadow-xl\">\n                <div class=\"flex items-center justify-between px-4\">\n                  <h2 class=\"text-lg font-medium text-light-text-primary dark:text-dark-text-primary\">Filters</h2>\n                  <button type=\"button\" class=\"-mr-2 flex size-10 items-center justify-center rounded-md bg-light-secondary dark:bg-dark-secondary p-2 text-light-neutral-500 dark:text-dark-neutral-500\" @click=\"mobileFiltersOpen = false\">\n                    <span class=\"sr-only\">Close menu</span>\n                    <XMarkIcon class=\"size-6\" aria-hidden=\"true\" />\n                  </button>\n                </div>\n\n                <!-- Filters -->\n                <form class=\"mt-4 border-t border-light-neutral-200 dark:border-dark-neutral-700\">\n                  <h3 class=\"sr-only\">Categories</h3>\n                  <ul role=\"list\" class=\"px-2 py-3 font-medium text-light-text-primary dark:text-dark-text-primary\">\n                    <li v-for=\"category in subCategories\" :key=\"category.name\">\n                      <a href=\"#\" @click.prevent=\"selectCategory(category.value)\" class=\"block px-2 py-3\">{{ category.name }}</a>\n                    </li>\n                  </ul>\n\n                  <Disclosure as=\"div\" v-for=\"section in filters\" :key=\"section.id\" class=\"border-t border-light-neutral-200 dark:border-dark-neutral-700 px-4 py-6\" v-slot=\"{ open }\">\n                    <h3 class=\"-mx-2 -my-3 flow-root\">\n                      <DisclosureButton class=\"flex w-full items-center justify-between bg-light-secondary dark:bg-dark-secondary px-2 py-3 text-light-neutral-500 dark:text-dark-neutral-500 hover:text-light-neutral-700 dark:hover:text-dark-neutral-300\">\n                        <span class=\"font-medium text-light-text-primary dark:text-dark-text-primary\">{{ section.name }}</span>\n                        <span class=\"ml-6 flex items-center\">\n                          <PlusIcon v-if=\"!open\" class=\"size-5\" aria-hidden=\"true\" />\n                          <MinusIcon v-else class=\"size-5\" aria-hidden=\"true\" />\n                        </span>\n                      </DisclosureButton>\n                    </h3>\n                    <DisclosurePanel class=\"pt-6\">\n                      <div class=\"space-y-6\">\n                        <div v-for=\"(option, optionIdx) in section.options\" :key=\"option.value\" class=\"flex gap-3\">\n                          <div class=\"flex h-5 shrink-0 items-center\">\n                            <div class=\"group grid size-4 grid-cols-1\">\n                              <input \n                                :id=\"`filter-mobile-${section.id}-${optionIdx}`\" \n                                :name=\"`${section.id}[]`\" \n                                :value=\"option.value\" \n                                type=\"checkbox\" \n                                :checked=\"option.checked\"\n                                @change=\"toggleFilter(section.id, option.value)\"\n                                class=\"col-start-1 row-start-1 appearance-none rounded-sm border border-light-neutral-300 dark:border-dark-neutral-700 bg-light-secondary dark:bg-dark-secondary checked:border-accent-primary checked:bg-accent-primary focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent-primary disabled:border-light-neutral-300 dark:disabled:border-dark-neutral-700 disabled:bg-light-neutral-100 dark:disabled:bg-dark-neutral-800\" \n                              />\n                              <svg class=\"pointer-events-none col-start-1 row-start-1 size-3.5 self-center justify-self-center stroke-white group-has-disabled:stroke-light-neutral-900/25 dark:group-has-disabled:stroke-dark-neutral-100/25\" viewBox=\"0 0 14 14\" fill=\"none\">\n                                <path class=\"opacity-0 group-has-checked:opacity-100\" d=\"M3 8L6 11L11 3.5\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n                                <path class=\"opacity-0 group-has-indeterminate:opacity-100\" d=\"M3 7H11\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n                              </svg>\n                            </div>\n                          </div>\n                          <label :for=\"`filter-mobile-${section.id}-${optionIdx}`\" class=\"min-w-0 flex-1 text-light-neutral-600 dark:text-dark-neutral-400\">{{ option.label }}</label>\n                        </div>\n                      </div>\n                    </DisclosurePanel>\n                  </Disclosure>\n                </form>\n              </DialogPanel>\n            </TransitionChild>\n          </div>\n        </Dialog>\n      </TransitionRoot>\n\n      <main class=\"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8\">\n        <div class=\"flex items-baseline justify-between border-b border-light-neutral-200 dark:border-dark-neutral-700 pt-24 pb-6\">\n          <h1 class=\"text-4xl font-bold tracking-tight text-light-text-primary dark:text-dark-text-primary\">Our Jewelry Collection</h1>\n\n          <div class=\"flex items-center\">\n            <Menu as=\"div\" class=\"relative inline-block text-left\">\n              <div>\n                <MenuButton class=\"group inline-flex justify-center text-sm font-medium text-light-text-secondary dark:text-dark-text-secondary hover:text-light-text-primary dark:hover:text-dark-text-primary\">\n                  Sort\n                  <ChevronDownIcon class=\"-mr-1 ml-1 size-5 shrink-0 text-light-neutral-400 dark:text-dark-neutral-600 group-hover:text-light-neutral-500 dark:group-hover:text-dark-neutral-500\" aria-hidden=\"true\" />\n                </MenuButton>\n              </div>\n\n              <transition enter-active-class=\"transition ease-out duration-100\" enter-from-class=\"transform opacity-0 scale-95\" enter-to-class=\"transform opacity-100 scale-100\" leave-active-class=\"transition ease-in duration-75\" leave-from-class=\"transform opacity-100 scale-100\" leave-to-class=\"transform opacity-0 scale-95\">\n                <MenuItems class=\"absolute right-0 z-10 mt-2 w-40 origin-top-right rounded-md bg-light-secondary dark:bg-dark-secondary ring-1 shadow-2xl ring-black/5 focus:outline-hidden\">\n                  <div class=\"py-1\">\n                    <MenuItem v-for=\"option in sortOptions\" :key=\"option.name\" v-slot=\"{ active }\">\n                      <a \n                        href=\"#\" \n                        @click.prevent=\"setSort(option)\"\n                        :class=\"[option.current ? 'font-medium text-light-text-primary dark:text-dark-text-primary' : 'text-light-text-secondary dark:text-dark-text-secondary', active ? 'bg-light-neutral-100 dark:bg-dark-neutral-800 outline-hidden' : '', 'block px-4 py-2 text-sm']\"\n                      >\n                        {{ option.name }}\n                      </a>\n                    </MenuItem>\n                  </div>\n                </MenuItems>\n              </transition>\n            </Menu>\n\n            <button type=\"button\" class=\"-m-2 ml-5 p-2 text-light-neutral-400 dark:text-dark-neutral-600 hover:text-light-neutral-500 dark:hover:text-dark-neutral-500 sm:ml-7\">\n              <span class=\"sr-only\">View grid</span>\n              <Squares2X2Icon class=\"size-5\" aria-hidden=\"true\" />\n            </button>\n            <button type=\"button\" class=\"-m-2 ml-4 p-2 text-light-neutral-400 dark:text-dark-neutral-600 hover:text-light-neutral-500 dark:hover:text-dark-neutral-500 sm:ml-6 lg:hidden\" @click=\"mobileFiltersOpen = true\">\n              <span class=\"sr-only\">Filters</span>\n              <FunnelIcon class=\"size-5\" aria-hidden=\"true\" />\n            </button>\n          </div>\n        </div>\n\n        <section aria-labelledby=\"products-heading\" class=\"pt-6 pb-24\">\n          <h2 id=\"products-heading\" class=\"sr-only\">Products</h2>\n\n          <div class=\"grid grid-cols-1 gap-x-8 gap-y-10 lg:grid-cols-4\">\n            <!-- Filters -->\n            <form class=\"hidden lg:block\">\n              <h3 class=\"sr-only\">Categories</h3>\n              <ul role=\"list\" class=\"space-y-4 border-b border-light-neutral-200 dark:border-dark-neutral-700 pb-6 text-sm font-medium text-light-text-primary dark:text-dark-text-primary\">\n                <li v-for=\"category in subCategories\" :key=\"category.name\">\n                  <a href=\"#\" @click.prevent=\"selectCategory(category.value)\">{{ category.name }}</a>\n                </li>\n                <li class=\"mt-2\">\n                  <a href=\"#\" @click.prevent=\"products = allProducts\" class=\"text-accent-primary hover:text-accent-secondary\">\n                    View All\n                  </a>\n                </li>\n              </ul>\n\n              <Disclosure as=\"div\" v-for=\"section in filters\" :key=\"section.id\" class=\"border-b border-light-neutral-200 dark:border-dark-neutral-700 py-6\" v-slot=\"{ open }\">\n                <h3 class=\"-my-3 flow-root\">\n                  <DisclosureButton class=\"flex w-full items-center justify-between dark:bg-dark-secondary py-3 text-sm text-light-neutral-400 dark:text-dark-neutral-600 hover:text-light-neutral-500 dark:hover:text-dark-neutral-500\">\n                    <span class=\"font-medium text-light-text-primary dark:text-dark-text-primary\">{{ section.name }}</span>\n                    <span class=\"ml-6 flex items-center\">\n                      <PlusIcon v-if=\"!open\" class=\"size-5\" aria-hidden=\"true\" />\n                      <MinusIcon v-else class=\"size-5\" aria-hidden=\"true\" />\n                    </span>\n                  </DisclosureButton>\n                </h3>\n                <DisclosurePanel class=\"pt-6\">\n                  <div class=\"space-y-4\">\n                    <div v-for=\"(option, optionIdx) in section.options\" :key=\"option.value\" class=\"flex gap-3\">\n                      <div class=\"flex h-5 shrink-0 items-center\">\n                        <div class=\"group grid size-4 grid-cols-1\">\n                          <input \n                            :id=\"`filter-${section.id}-${optionIdx}`\" \n                            :name=\"`${section.id}[]`\" \n                            :value=\"option.value\" \n                            type=\"checkbox\" \n                            :checked=\"option.checked\"\n                            @change=\"toggleFilter(section.id, option.value)\"\n                            class=\"col-start-1 row-start-1 appearance-none rounded-sm border border-light-neutral-300 dark:border-dark-neutral-700 bg-light-secondary dark:bg-dark-secondary checked:border-accent-primary checked:bg-accent-primary focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-accent-primary disabled:border-light-neutral-300 dark:disabled:border-dark-neutral-700 disabled:bg-light-neutral-100 dark:disabled:bg-dark-neutral-800\" \n                          />\n                          <svg class=\"pointer-events-none col-start-1 row-start-1 size-3.5 self-center justify-self-center stroke-white group-has-disabled:stroke-light-neutral-900/25 dark:group-has-disabled:stroke-dark-neutral-100/25\" viewBox=\"0 0 14 14\" fill=\"none\">\n                            <path class=\"opacity-0 group-has-checked:opacity-100\" d=\"M3 8L6 11L11 3.5\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n                            <path class=\"opacity-0 group-has-indeterminate:opacity-100\" d=\"M3 7H11\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n                          </svg>\n                        </div>\n                      </div>\n                      <label :for=\"`filter-${section.id}-${optionIdx}`\" class=\"text-sm text-light-text-secondary dark:text-dark-text-secondary\">{{ option.label }}</label>\n                    </div>\n                  </div>\n                </DisclosurePanel>\n              </Disclosure>\n            </form>\n\n            <!-- Product grid -->\n            <div class=\"lg:col-span-3\">\n              <div v-if=\"loading\" class=\"text-center py-8\">\n                <p class=\"text-light-text-secondary dark:text-dark-text-secondary\">Loading products...</p>\n              </div>\n              \n              <div v-else-if=\"products.length === 0\" class=\"text-center py-8\">\n                <p class=\"text-light-text-secondary dark:text-dark-text-secondary\">No products found.</p>\n              </div>\n              \n              <div v-else class=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6\">\n                <ProductCard \n                  v-for=\"product in products\" \n                  :key=\"product.id\" \n                  :product=\"product\" \n                />\n              </div>\n            </div>\n          </div>\n        </section>\n      </main>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, computed, reactive, nextTick } from 'vue'\nimport { firebaseService } from '../services/firebaseService'\nimport { useCartStore } from '../stores/cart'\nimport { mockDataLoader } from '../utils/mockDataLoader'\nimport ProductCard from '@/components/ProductCard.vue'\nimport {\n  Dialog,\n  DialogPanel,\n  Disclosure,\n  DisclosureButton,\n  DisclosurePanel,\n  Menu,\n  MenuButton,\n  MenuItem,\n  MenuItems,\n  TransitionChild,\n  TransitionRoot,\n} from '@headlessui/vue'\nimport { XMarkIcon } from '@heroicons/vue/24/outline'\nimport { ChevronDownIcon, FunnelIcon, MinusIcon, PlusIcon, Squares2X2Icon } from '@heroicons/vue/20/solid'\nimport { formatCurrency } from '@/utils/currency'\n\nconst products = ref([])\nconst allProducts = ref([]) // Keep original unfiltered list\nconst loading = ref(true)\nconst cartStore = useCartStore()\nconst mobileFiltersOpen = ref(false)\nconst animatingItem = ref(null)\nconst cartAnimationEl = ref(null)\n\n// Track selected filters\nconst selectedFilters = reactive({\n  metal: [],\n  category: [],\n  price: []\n})\n\n// Create sort options\nconst sortOptions = [\n  { name: 'Most Popular', href: '#', current: true },\n  { name: 'Best Rating', href: '#', current: false },\n  { name: 'Newest', href: '#', current: false },\n  { name: 'Price: Low to High', href: '#', current: false, sort: (a, b) => a.price - b.price },\n  { name: 'Price: High to Low', href: '#', current: false, sort: (a, b) => b.price - a.price },\n]\n\nconst activeSortOption = ref(sortOptions[0])\n\nconst subCategories = [\n  { name: 'Beaded Jewelry', href: '#', value: 'Beaded Jewelry' },\n  { name: 'String Jewelry', href: '#', value: 'String Jewelry' },\n  { name: 'Metal Jewelry', href: '#', value: 'Metal Jewelry' },\n  { name: 'Gemstones', href: '#', value: 'Gemstones' },\n  { name: 'Earrings', href: '#', value: 'Earrings' },\n  { name: 'Necklaces', href: '#', value: 'Necklaces' },\n  { name: 'Bracelets', href: '#', value: 'Bracelets' },\n  { name: 'Rings', href: '#', value: 'Rings' }\n]\n\nconst filters = [\n  {\n    id: 'metal',\n    name: 'Metal Type',\n    options: [\n      { value: 'gold', label: 'Gold', checked: false },\n      { value: 'silver', label: 'Sterling Silver', checked: false },\n      { value: 'rose-gold', label: 'Rose Gold', checked: false },\n      { value: 'beads', label: 'Glass Beads', checked: false },\n      { value: 'gemstones', label: 'Gemstones', checked: false },\n      { value: 'pearls', label: 'Pearls', checked: false }\n    ],\n  },\n  {\n    id: 'style',\n    name: 'Style',\n    options: [\n      { value: 'handcrafted', label: 'Handcrafted', checked: false },\n      { value: 'modern', label: 'Modern', checked: false },\n      { value: 'traditional', label: 'Traditional', checked: false },\n      { value: 'luxury', label: 'Luxury', checked: false }\n    ],\n  },\n  {\n    id: 'price',\n    name: 'Price Range',\n    options: [\n      { value: 'under-5000', label: 'Under KES 5,000', checked: false },\n      { value: '5000-10000', label: 'KES 5,000 - 10,000', checked: false },\n      { value: '10000-20000', label: 'KES 10,000 - 20,000', checked: false },\n      { value: '20000-plus', label: 'KES 20,000+', checked: false },\n    ],\n  },\n]\n\n// Computed property for filtered products\nconst filteredProducts = computed(() => {\n  // Start with all products\n  let result = [...allProducts.value];\n  \n  // Filter by metal\n  if (selectedFilters.metal.length > 0) {\n    result = result.filter(product => selectedFilters.metal.includes(product.metal));\n  }\n  \n  // Filter by category tags\n  if (selectedFilters.category.length > 0) {\n    result = result.filter(product => \n      product.tags && product.tags.some(tag => selectedFilters.category.includes(tag))\n    );\n  }\n  \n  // Filter by price range\n  if (selectedFilters.price.length > 0) {\n    result = result.filter(product => {\n      const price = product.price;\n      return selectedFilters.price.some(range => {\n        if (range === 'under-5000') return price < 5000;\n        if (range === '5000-10000') return price >= 5000 && price <= 10000;\n        if (range === '10000-20000') return price >= 10000 && price <= 20000;\n        if (range === '20000-plus') return price > 20000;\n        return false;\n      });\n    });\n  }\n  \n  // Apply sorting if a sort function is available\n  if (activeSortOption.value.sort) {\n    result = [...result].sort(activeSortOption.value.sort);\n  }\n  \n  return result;\n});\n\n// Watch for changes in filtered products and update the products list\nconst updateProducts = () => {\n  products.value = filteredProducts.value;\n};\n\n// Toggle filter selection\nconst toggleFilter = (filterId, value) => {\n  const filterArray = selectedFilters[filterId];\n  const index = filterArray.indexOf(value);\n  \n  if (index === -1) {\n    // Add the value if it doesn't exist\n    filterArray.push(value);\n  } else {\n    // Remove the value if it exists\n    filterArray.splice(index, 1);\n  }\n  \n  // Update checkbox state in the filters array\n  filters.forEach(section => {\n    if (section.id === filterId) {\n      section.options.forEach(option => {\n        option.checked = filterArray.includes(option.value);\n      });\n    }\n  });\n  \n  updateProducts();\n};\n\n// Select category from sidebar\nconst selectCategory = (category) => {\n  // Reset current category filters\n  selectedFilters.category = [];\n  \n  // Filter products by the selected category\n  products.value = allProducts.value.filter(product => product.category === category);\n};\n\n// Set active sort option\nconst setSort = (option) => {\n  // Update current status for all options\n  sortOptions.forEach(opt => opt.current = (opt === option));\n  activeSortOption.value = option;\n  updateProducts();\n};\n\nonMounted(async () => {\n  loading.value = true;\n  try {\n    // First try to load products directly from Firestore\n    const firestoreProducts = await loadFirestoreProducts();\n    \n    // If we have products from Firestore, use them\n    if (firestoreProducts.length > 0) {\n      console.log('Loaded products from Firestore:', firestoreProducts.length);\n      allProducts.value = firestoreProducts;\n      products.value = firestoreProducts;\n    } else {\n      // Fall back to mock data if no products in Firestore\n      console.log('No products in Firestore, using mock data');\n      const mockProducts = await mockDataLoader.getProducts();\n      allProducts.value = mockProducts || [];\n      products.value = mockProducts || [];\n    }\n    \n    console.log('Total products loaded:', products.value.length);\n  } catch (error) {\n    console.error('Error loading products:', error);\n    // Fallback to empty array if there's an error\n    allProducts.value = [];\n    products.value = [];\n  } finally {\n    loading.value = false;\n  }\n});\n\n// Function to load products directly from Firestore (not using the fallback in firebaseService)\nconst loadFirestoreProducts = async () => {\n  try {\n    const db = firebaseService.getFirestore();\n    if (!db) return []; // Safety check\n    \n    const productsCollection = firebaseService.getCollection('products');\n    const productsSnapshot = await firebaseService.getDocuments(productsCollection);\n    \n    if (productsSnapshot.empty) {\n      return [];\n    }\n    \n    // Process all products and standardize their format\n    return productsSnapshot.docs.map(doc => {\n      const data = doc.data();\n      return {\n        id: doc.id,\n        ...data,\n        // Ensure all products have required fields for display\n        name: data.name || 'Unnamed Product',\n        price: data.price || 0,\n        category: data.category || 'Uncategorized',\n        description: data.description || '',\n        images: data.images || [],\n        // Use first image as main image for product card\n        image: data.images && data.images.length > 0 ? \n          // Handle base64 images\n          (data.images[0].startsWith('base64://') ? \n            data.images[0].replace('base64://', '') : \n            data.images[0]) : \n          'https://via.placeholder.com/300x300?text=No+Image'\n      };\n    });\n  } catch (error) {\n    console.error('Error loading products from Firestore:', error);\n    return []; // Return empty array in case of error\n  }\n};\n\nconst addToCart = async (product) => {\n  // Get button position as starting point\n  const buttonRect = event.target.getBoundingClientRect();\n  const startX = buttonRect.left + (buttonRect.width / 2);\n  const startY = buttonRect.top + (buttonRect.height / 2);\n  \n  // Get cart icon position as ending point\n  const cartIcon = document.querySelector('.group-hover\\\\:text-gray-500') || \n                   document.querySelector('a[href=\"/cart\"] svg');\n  let endX = window.innerWidth - 60;\n  let endY = 20;\n  \n  if (cartIcon) {\n    const cartRect = cartIcon.getBoundingClientRect();\n    endX = cartRect.left + (cartRect.width / 2);\n    endY = cartRect.top + (cartRect.height / 2);\n  }\n  \n  // Start animation\n  animatingItem.value = product;\n  \n  await nextTick();\n  if (cartAnimationEl.value) {\n    // Set initial position\n    cartAnimationEl.value.style.top = `${startY}px`;\n    cartAnimationEl.value.style.left = `${startX}px`;\n    cartAnimationEl.value.style.opacity = '1';\n    cartAnimationEl.value.style.transform = 'scale(1)';\n    \n    // Trigger animation\n    setTimeout(() => {\n      cartAnimationEl.value.style.top = `${endY}px`;\n      cartAnimationEl.value.style.left = `${endX}px`;\n      cartAnimationEl.value.style.opacity = '0';\n      cartAnimationEl.value.style.transform = 'scale(0.3)';\n    }, 50);\n    \n    // Add to cart after animation\n    setTimeout(() => {\n      cartStore.addToCart(product, 1);\n      animatingItem.value = null;\n    }, 600);\n  } else {\n    // Fallback if animation element is not available\n    cartStore.addToCart(product, 1);\n  }\n}\n</script>\n\n<style scoped>\n.cart-animation {\n  width: 50px;\n  height: 50px;\n  background-size: cover;\n  background-position: center;\n  border-radius: 50%;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);\n  transition: all 0.5s cubic-bezier(0.2, 0.8, 0.2, 1);\n  z-index: 9999;\n  position: fixed;\n}\n</style>"],"names":["render","_ctx","_cache","_openBlock","_createElementBlock","_createElementVNode","products","ref","allProducts","loading","useCartStore","mobileFiltersOpen","animatingItem","cartAnimationEl","selectedFilters","reactive","sortOptions","b","activeSortOption","subCategories","filters","filteredProducts","computed","result","product","tag","price","range","updateProducts","toggleFilter","filterId","value","filterArray","index","section","option","selectCategory","category","setSort","opt","onMounted","firestoreProducts","loadFirestoreProducts","mockProducts","mockDataLoader","error","firebaseService","productsCollection","productsSnapshot","doc","data"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4]}