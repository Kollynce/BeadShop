{"version":3,"file":"RegisterView-DhJQDb2a.js","sources":["../../node_modules/@heroicons/vue/20/solid/esm/UserIcon.js","../../src/views/RegisterView.vue"],"sourcesContent":["import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nexport default function render(_ctx, _cache) {\n  return (_openBlock(), _createElementBlock(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\",\n    \"aria-hidden\": \"true\",\n    \"data-slot\": \"icon\"\n  }, [\n    _createElementVNode(\"path\", { d: \"M10 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6ZM3.465 14.493a1.23 1.23 0 0 0 .41 1.412A9.957 9.957 0 0 0 10 18c2.31 0 4.438-.784 6.131-2.1.43-.333.604-.903.408-1.41a7.002 7.002 0 0 0-13.074.003Z\" })\n  ]))\n}","<script setup>\nimport { ref } from 'vue'\nimport { useAuthStore } from '../stores/auth'\nimport { useRouter } from 'vue-router'\nimport { Dialog, DialogPanel, TransitionChild, TransitionRoot } from '@headlessui/vue'\nimport { ExclamationCircleIcon, EnvelopeIcon, LockClosedIcon, UserIcon } from '@heroicons/vue/20/solid'\n\nconst authStore = useAuthStore()\nconst router = useRouter()\n\nconst email = ref('')\nconst password = ref('')\nconst confirmPassword = ref('')\nconst firstName = ref('')\nconst lastName = ref('')\nconst errorMsg = ref('')\nconst loading = ref(false)\nconst passwordMismatch = ref(false)\n\nconst validatePasswordMatch = () => {\n  if (confirmPassword.value && password.value !== confirmPassword.value) {\n    passwordMismatch.value = true\n  } else {\n    passwordMismatch.value = false\n  }\n}\n\nconst handleSubmit = async () => {\n  errorMsg.value = ''\n  loading.value = true\n  \n  // Validate passwords match\n  if (password.value !== confirmPassword.value) {\n    errorMsg.value = 'Passwords do not match'\n    loading.value = false\n    return\n  }\n  \n  try {\n    // Register user with additional profile data\n    await authStore.register(email.value, password.value, {\n      firstName: firstName.value,\n      lastName: lastName.value,\n      email: email.value\n    })\n    router.push('/')\n  } catch (error) {\n    errorMsg.value = error.message || 'Failed to register. Please try again.'\n  } finally {\n    loading.value = false\n  }\n}\n</script>\n<template>\n  <div class=\"min-h-full flex flex-col justify-center py-12 sm:px-6 lg:px-8 bg-light-primary dark:bg-dark-primary\">\n    <div class=\"sm:mx-auto sm:w-full sm:max-w-md\">\n      <h2 class=\"text-center text-3xl font-extrabold text-light-text-primary dark:text-dark-text-primary\">Create your account</h2>\n      <p class=\"mt-2 text-center text-sm text-light-text-secondary dark:text-dark-text-secondary\">\n        Join our jewelry community today\n      </p>\n    </div>\n\n    <div class=\"mt-8 sm:mx-auto sm:w-full sm:max-w-md\">\n      <div class=\"bg-light-secondary dark:bg-dark-secondary py-8 px-4 shadow sm:rounded-lg sm:px-10 border border-light-neutral-300 dark:border-dark-neutral-600\">\n        <TransitionRoot appear :show=\"!!errorMsg\">\n          <div v-if=\"errorMsg\" class=\"rounded-md bg-red-50 p-4 mb-6\">\n            <div class=\"flex\">\n              <div class=\"flex-shrink-0\">\n                <ExclamationCircleIcon class=\"h-5 w-5 text-red-400\" aria-hidden=\"true\" />\n              </div>\n              <div class=\"ml-3\">\n                <h3 class=\"text-sm font-medium text-red-800\">Registration Error</h3>\n                <div class=\"mt-2 text-sm text-red-700\">\n                  <p>{{ errorMsg }}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </TransitionRoot>\n        \n        <form @submit.prevent=\"handleSubmit\" class=\"space-y-6\">\n          <div class=\"grid grid-cols-1 gap-y-6 gap-x-4 sm:grid-cols-2\">\n            <div>\n              <label for=\"firstName\" class=\"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary\">First name</label>\n              <div class=\"mt-1 relative rounded-md shadow-sm\">\n                <div class=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                  <UserIcon class=\"h-5 w-5 text-light-neutral-500 dark:text-dark-neutral-500\" aria-hidden=\"true\" />\n                </div>\n                <input\n                  id=\"firstName\"\n                  v-model=\"firstName\"\n                  type=\"text\"\n                  required\n                  class=\"appearance-none block w-full pl-10 pr-3 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded-md shadow-sm bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary placeholder-light-neutral-400 dark:placeholder-dark-neutral-500 focus:ring-2 focus:ring-accent-primary focus:border-accent-primary\"\n                  placeholder=\"First name\"\n                />\n              </div>\n            </div>\n            \n            <div>\n              <label for=\"lastName\" class=\"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary\">Last name</label>\n              <div class=\"mt-1 relative rounded-md shadow-sm\">\n                <div class=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                  <UserIcon class=\"h-5 w-5 text-light-neutral-500 dark:text-dark-neutral-500\" aria-hidden=\"true\" />\n                </div>\n                <input\n                  id=\"lastName\"\n                  v-model=\"lastName\"\n                  type=\"text\"\n                  required\n                  class=\"appearance-none block w-full pl-10 pr-3 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded-md shadow-sm bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary placeholder-light-neutral-400 dark:placeholder-dark-neutral-500 focus:ring-2 focus:ring-accent-primary focus:border-accent-primary\"\n                  placeholder=\"Last name\"\n                />\n              </div>\n            </div>\n          </div>\n          \n          <div>\n            <label for=\"email\" class=\"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary\">Email address</label>\n            <div class=\"mt-1 relative rounded-md shadow-sm\">\n              <div class=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                <EnvelopeIcon class=\"h-5 w-5 text-light-neutral-500 dark:text-dark-neutral-500\" aria-hidden=\"true\" />\n              </div>\n              <input\n                id=\"email\"\n                v-model=\"email\"\n                type=\"email\"\n                required\n                class=\"appearance-none block w-full pl-10 pr-3 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded-md shadow-sm bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary placeholder-light-neutral-400 dark:placeholder-dark-neutral-500 focus:ring-2 focus:ring-accent-primary focus:border-accent-primary\"\n                placeholder=\"Your email\"\n              />\n            </div>\n          </div>\n          \n          <div>\n            <label for=\"password\" class=\"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary\">Password</label>\n            <div class=\"mt-1 relative rounded-md shadow-sm\">\n              <div class=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                <LockClosedIcon class=\"h-5 w-5 text-light-neutral-500 dark:text-dark-neutral-500\" aria-hidden=\"true\" />\n              </div>\n              <input\n                id=\"password\"\n                v-model=\"password\"\n                type=\"password\"\n                required\n                minlength=\"6\"\n                class=\"appearance-none block w-full pl-10 pr-3 py-2 border border-light-neutral-300 dark:border-dark-neutral-600 rounded-md shadow-sm bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary placeholder-light-neutral-400 dark:placeholder-dark-neutral-500 focus:ring-2 focus:ring-accent-primary focus:border-accent-primary\"\n                placeholder=\"Create password\"\n              />\n            </div>\n            <p class=\"mt-1 text-xs text-light-text-secondary dark:text-dark-text-secondary\">Password must be at least 6 characters</p>\n          </div>\n          \n          <div>\n            <label for=\"confirmPassword\" class=\"block text-sm font-medium text-light-text-primary dark:text-dark-text-primary\">Confirm Password</label>\n            <div class=\"mt-1 relative rounded-md shadow-sm\">\n              <div class=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                <LockClosedIcon class=\"h-5 w-5 text-light-neutral-500 dark:text-dark-neutral-500\" aria-hidden=\"true\" />\n              </div>\n              <input\n                id=\"confirmPassword\"\n                v-model=\"confirmPassword\"\n                type=\"password\"\n                required\n                minlength=\"6\"\n                @input=\"validatePasswordMatch\"\n                :class=\"[\n                  'appearance-none block w-full pl-10 pr-3 py-2 border rounded-md shadow-sm placeholder-light-neutral-400 dark:placeholder-dark-neutral-500 focus:ring-2 focus:outline-none',\n                  passwordMismatch ? 'border-red-300 text-red-900 focus:ring-red-500 focus:border-red-500' : 'border-light-neutral-300 dark:border-dark-neutral-600 bg-light-secondary dark:bg-dark-secondary text-light-text-primary dark:text-dark-text-primary focus:ring-accent-primary focus:border-accent-primary'\n                ]\"\n                placeholder=\"Confirm password\"\n              />\n              <div v-if=\"passwordMismatch\" class=\"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none\">\n                <ExclamationCircleIcon class=\"h-5 w-5 text-red-500\" aria-hidden=\"true\" />\n              </div>\n            </div>\n            <p v-if=\"passwordMismatch\" class=\"mt-2 text-sm text-red-600\">Passwords don't match</p>\n          </div>\n          \n          <div>\n            <button \n              type=\"submit\" \n              class=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-orange-500 hover:bg-orange-600 dark:bg-orange-600 dark:hover:bg-orange-500 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n              :disabled=\"loading || passwordMismatch\"\n            >\n              <svg v-if=\"loading\" class=\"animate-spin -ml-1 mr-3 h-5 w-5 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n                <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n              </svg>\n              {{ loading ? 'Creating Account...' : 'Create Account' }}\n            </button>\n          </div>\n        </form>\n        \n        <div class=\"mt-6\">\n          <div class=\"relative\">\n            <div class=\"absolute inset-0 flex items-center\">\n              <div class=\"w-full border-t border-light-neutral-300 dark:border-dark-neutral-600\"></div>\n            </div>\n            <div class=\"relative flex justify-center text-sm\">\n              <span class=\"px-2 bg-light-secondary dark:bg-dark-secondary text-light-text-secondary dark:text-dark-text-secondary\">Already have an account?</span>\n            </div>\n          </div>\n          <div class=\"mt-2 text-center\">\n            <RouterLink to=\"/login\" class=\"font-medium text-orange-500 hover:text-orange-600 dark:text-orange-400 dark:hover:text-orange-500\">Sign in instead</RouterLink>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n"],"names":["render","_ctx","_cache","_openBlock","_createElementBlock","_createElementVNode","authStore","useAuthStore","router","useRouter","email","ref","password","confirmPassword","firstName","lastName","errorMsg","loading","passwordMismatch","validatePasswordMatch","handleSubmit","error"],"mappings":"gOAEe,SAASA,EAAOC,EAAMC,EAAQ,CAC3C,OAAQC,EAAU,EAAIC,EAAoB,MAAO,CAC/C,MAAO,6BACP,QAAS,YACT,KAAM,eACN,cAAe,OACf,YAAa,MACjB,EAAK,CACDC,EAAoB,OAAQ,CAAE,EAAG,uLAAyL,CAAA,CAC9N,CAAG,CACH,igDCLA,MAAMC,EAAYC,EAAY,EACxBC,EAASC,EAAS,EAElBC,EAAQC,EAAI,EAAE,EACdC,EAAWD,EAAI,EAAE,EACjBE,EAAkBF,EAAI,EAAE,EACxBG,EAAYH,EAAI,EAAE,EAClBI,EAAWJ,EAAI,EAAE,EACjBK,EAAWL,EAAI,EAAE,EACjBM,EAAUN,EAAI,EAAK,EACnBO,EAAmBP,EAAI,EAAK,EAE5BQ,EAAwB,IAAM,CAC9BN,EAAgB,OAASD,EAAS,QAAUC,EAAgB,MAC9DK,EAAiB,MAAQ,GAEzBA,EAAiB,MAAQ,EAE7B,EAEME,EAAe,SAAY,CAK/B,GAJAJ,EAAS,MAAQ,GACjBC,EAAQ,MAAQ,GAGZL,EAAS,QAAUC,EAAgB,MAAO,CAC5CG,EAAS,MAAQ,yBACjBC,EAAQ,MAAQ,GAChB,MACJ,CAEE,GAAI,CAEF,MAAMX,EAAU,SAASI,EAAM,MAAOE,EAAS,MAAO,CACpD,UAAWE,EAAU,MACrB,SAAUC,EAAS,MACnB,MAAOL,EAAM,KACd,CAAA,EACDF,EAAO,KAAK,GAAG,CAChB,OAAQa,EAAO,CACdL,EAAS,MAAQK,EAAM,SAAW,uCACtC,QAAY,CACRJ,EAAQ,MAAQ,EACpB,CACA","x_google_ignoreList":[0]}